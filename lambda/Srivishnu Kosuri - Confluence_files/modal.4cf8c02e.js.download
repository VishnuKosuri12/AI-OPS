function e(e){return e&&e.__esModule?e.default:e}function t(e,t,o,n){Object.defineProperty(e,t,{get:o,set:n,enumerable:!0,configurable:!0})}var o=globalThis,n={},r={},i=o.parcelRequired477;null==i&&(i=function(e){var t=n[e];if(void 0!==t)return t.exports;var o=r[e];if(void 0!==o){delete r[e];var i={id:e,exports:{}};return n[e]=i,o.call(i.exports,i,i.exports),i.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a},i.register=function(e,t){r[e]=t},o.parcelRequired477=i);var a=i.register;o.lb||(o.lb=new Set,o.bq=[],o.rlb=e=>{o.lb.add(e),o.pq()},o.rwr=(e,t,n)=>{o.bq.push({b:e,r:t,d:n}),o.pq()},o.pq=()=>{var e=o.bq.find(e=>e.d.every(e=>o.lb.has(e)));e&&(o.bq=o.bq.filter(t=>t.b!==e.b),e.r(),o.pq())}),a("d925B",function(e,t){var o,n,r,i,a,s,l,d,p,c=((o={}).OPERATIONAL="operational",o.SCREEN="screen",o.TRACK="track",o.UI="ui",o),u=((n={}).ACTIONED="actioned",n.ACTIVATED="activated",n.ADDED="added",n.API_ERROR="apiError",n.API_RECEIVED="apiReceived",n.API_PURGED="apiPurged",n.BROWSER_FREEZE="browserFreeze",n.CANCELLED="cancelled",n.CAUGHT_DOM_ERROR="caughtDomError",n.CHANGED_BACKGROUND_COLOR="changedBackgroundColor",n.CHANGED_ICON="changedIcon",n.CHANGED_FULL_WIDTH_MODE="changedFullWidthMode",n.CHANGED_LAYOUT="changedLayout",n.CHANGED_BREAKOUT_MODE="changedBreakoutMode",n.CHANGED_REPLACEMENT_TEXT="changedReplacementText",n.CHANGED_TYPE="changedType",n.CHANGED_URL="changedUrl",n.CLEARED="cleared",n.CLICK="click",n.CLICKED="clicked",n.CLOSED="closed",n.COMMITTED="committed",n.CONNECTED_NODES="connectedNodes",n.CONVERTED="converted",n.COPIED="copied",n.CUT="cut",n.DEACTIVATED="deactivated",n.DECREMENTED="decremented",n.DELETED="deleted",n.DISCARDED_INVALID_STEPS_FROM_TRANSACTION="discardedInvalidStepsFromTransaction",n.DISCONNECTED_SOURCE="disconnectedSource",n.DISCONNECTED_TARGET="disconnectedTarget",n.DISMISSED="dismissed",n.DISPATCHED_INVALID_TRANSACTION="dispatchedInvalidTransaction",n.DISPATCHED_VALID_TRANSACTION="dispatchedValidTransaction",n.DOUBLE_CLICKED="doubleClicked",n.DRAGGED="dragged",n.EDITED="edited",n.EDITOR_CRASHED="unhandledErrorCaught",n.EDITOR_CRASHED_ADDITIONAL_INFORMATION="unhandledErrorCaughtAdditionalInfov2",n.EDITOR_MOUNTED="mounted",n.EDITOR_CONTENT_RETRIEVAL_PERFORMED="contentRetrievalPerformed",n.RE_RENDERED="reRendered",n.ENDED="ended",n.ENTERED="entered",n.ERROR="error",n.ERRORED="errored",n.EXPERIENCE_MEASURED="experienceMeasured",n.EXPERIENCE_SAMPLED="experienceSampled",n.EXPOSED="exposed",n.FAILED_TO_UNMOUNT="failedToUnmount",n.FAILED_TO_INSERT="failedToInsert",n.FIND_NEXT_PERFORMED="findNextPerformed",n.FIND_PERFORMED="findPerformed",n.FIND_PREV_PERFORMED="findPrevPerformed",n.UNDO_PERFORMED="undo",n.REDO_PERFORMED="redo",n.FORMATTED="formatted",n.HELP_OPENED="helpOpened",n.HIGHLIGHTED="highlighted",n.INCREMENTED="incremented",n.INDENTED="indented",n.INITIALISED="initialised",n.INITIATED="initiated",n.INITIALISED_FRAGMENT_MARK="initialisedFragmentMark",n.INPUT_PERF_SAMPLING="inputPerfSampling",n.INPUT_PERF_SAMPLING_AVG="inputPerfSamplingAvg",n.INSERTED="inserted",n.INVALID_DOCUMENT_ENCOUNTERED="invalidDocumentEncountered",n.INVOKED="invoked",n.GOT_CONNECTIONS="gotConnections",n.LANGUAGE_SELECTED="languageSelected",n.LIST_ITEM_JOINED="listItemJoined",n.MATCHED="matched",n.MEDIA_LINK_TRANSFORMED="mediaLinkTransformed",n.NODE_CONTENT_SANITIZED="nodeContentSanitized",n.OFFLINE_STORAGE_TOO_MANY_RETRIES_ERROR="offlineStorageTooManyRetriesError",n.OFFLINE_STORAGE_FAILED_STEPS="offlineStorageFailedSteps",n.OFFLINE_STORAGE_STEPS_DATABASE_ERROR="offlineStorageStepsDatabaseError",n.OFFLINE_STORAGE_RESYNC_ONLINE="offlineStorageResyncOnline",n.OFFLINE_STORAGE_BROADCAST_CHANNEL_FIRST_UPDATE="offlineStorageBroadcastChannelFirstUpdate",n.OFFLINE_STORAGE_RESTORE_STEPS_INITIATED="offlineStorageRestoreStepsInitiated",n.OPENED="opened",n.OUTDENTED="outdented",n.PASTED="pasted",n.PASTED_AS_PLAIN="pastedAsPlain",n.PASTED_TIMED="pastedTimed",n.PRESSED="pressed",n.PROSEMIRROR_RENDERED="proseMirrorRendered",n.REACT_NODEVIEW_RENDERED="reactNodeViewRendered",n.REPLACED_ALL="replacedAll",n.REPLACED_ONE="replacedOne",n.RESOLVED="resolved",n.REQUEST_TO_EDIT="requestToEdit",n.SELECTED="selected",n.SHOWN="shown",n.SLOW_INPUT="slowInput",n.STARTED="started",n.STOPPED="stopped",n.SUBMITTED="submitted",n.SUBSTITUTED="autoSubstituted",n.SYNCHRONY_DISCONNECTED="synchronyDisconnected",n.SYNCHRONY_ENTITY_ERROR="synchronyEntityError",n.SYNCHRONY_ERROR="synchronyError",n.TEXT_LINK_MARK_TRANSFORMED="textLinkMarkTransformed",n.TOGGLED="toggled",n.DEDUPE_MARKS_TRANSFORMED_V2="dedupeMarksTransformedV2",n.NODES_MISSING_CONTENT_TRANSFORMED="nodesMissingContentTransformed",n.INDENTATION_MARKS_TRANSFORMED="indentationMarksTransformed",n.INVALID_MEDIA_CONTENT_TRANSFORMED="invalidMediaContentTransformed",n.TOGGLE_EXPAND="toggleExpand",n.TRANSACTION_MUTATED_AFTER_DISPATCH="transactionMutatedAfterDispatched",n.TYPING_FINISHED="typingFinished",n.TYPING_STARTED="typingStarted",n.UNHANDLED_ERROR_CAUGHT="unhandledErrorCaught",n.UNLINK="unlinked",n.UNSUPPORTED_CONTENT_ENCOUNTERED="unsupportedContentEncounteredV2",n.UPDATED="updated",n.UPDATED_FRAGMENT_MARK_NAME="updatedFragmentMarkName",n.UPDATED_SOURCE="updatedSource",n.UPDATED_TARGET="updatedTarget",n.UPLOAD_EXTERNAL_FAIL="uploadExternalFailed",n.VIEWED="viewed",n.VISITED="visited",n.WITH_PLUGIN_STATE_CALLED="withPluginStateCalled",n.RENDERED="rendered",n.ON_EDITOR_READY_CALLBACK="onEditorReadyCallback",n.ON_CHANGE_CALLBACK="onChangeCalled",n.NESTED_TABLE_TRANSFORMED="nestedTableTransformed",n.NEW_COLLAB_SYNC_UP_ERROR_NO_STEPS="newCollabSyncUpErrorNoSteps",n.REMOVE_ICON="removedIcon",n.INVALID_PROSEMIRROR_DOCUMENT="invalidProsemirrorDocument",n.DOCUMENT_PROCESSING_ERROR="documentProcessingErrorV2",n.CRASHED="unhandledErrorCaughtV2",n.SELECT_ALL_CAUGHT="selectAllCaught",n.SELECT_ALL_ESCAPED="selectAllEscaped",n.SORT_COLUMN="sortedColumn",n.SORT_COLUMN_NOT_ALLOWED="sortColumnNotAllowed",n.NCS_SESSION_STEP_METRICS="ncsSessionStepMetrics",n.STEPS_TRACKED="stepsTracked",n.ORGANIC_CHANGES_TRACKED="organicChangesTracked",n.STEPS_FILTERED="stepsFiltered",n.CREATE_NOT_ALLOWED="createNotAllowed",n.UNSUPPORTED_CONTENT_LEVELS_TRACKING_SUCCEEDED="unsupportedContentLevelsTrackingSucceeded",n.UNSUPPORTED_CONTENT_LEVELS_TRACKING_ERRORED="unsupportedContentLevelsTrackingErrored",n.UNSUPPORTED_TOOLTIP_VIEWED="viewed",n.RECORD_VIDEO="recordVideo",n.INSERT_VIDEO="insertVideo",n.RECORD_VIDEO_FAILED="recordVideoFailed",n.ADD_CHILD="addChild",n.CHANGE_ACTIVE="changeActive",n.REMOVE_CHILD="removeChild",n.UPDATE_PARAMETERS="updateParameters",n.GET_CHILDREN="getChildren",n.GET_CHILDREN_CONTAINER="getChildrenContainer",n.MOVED="moved",n.UPLOAD_COMMENCED="uploadCommenced",n.UPLOAD_SUCCEEDED="uploadSucceeded",n.UPLOAD_FAILED="uploadFailed",n.TOGGLE_CODE_BLOCK_WRAP="toggleCodeBlockWrap",n.RESIZED="resized",n.RESIZED_PERF_SAMPLING="resizedPerfSampling",n.BLOCKS_DRAG_INIT="blocksDragInit",n.SINGLE_COL_LAYOUT_DETECTED="singleColumLayoutDetected",n.VIEW_MORE="viewMore",n.LOCAL_ID_NOT_FOUND="localIdNotFound",n.NO_DOC_CHANGE_FOUND="noDocChangeFound",n.INVALID_COMMAND_FOUND="invalidCommandFound",n.MEDIA_SINGLE_WIDTH_TRANSFORMED="mediaSingleWidthTransformed",n.SUGGESTION_INSERTED="suggestionInserted",n.SUGGESTION_DISMISSED="suggestionDismissed",n.SUGGESTION_VIEWED="suggestionViewed",n.TABLE_WIDTH_INFO="tableWidthInformation",n.SUPPRESSED="suppressed",n),h=((r={}).ASCII="ascii",r.AUTO="auto",r.AUTO_DETECT="autoDetect",r.BUTTON="button",r.BLUR="blur",r.CARD="card",r.CLIPBOARD="clipboard",r.CONFIG_PANEL="configPanel",r.CONTEXT_MENU="contextMenu",r.DRAG_AND_DROP="dragAndDrop",r.DRAG="drag",r.EXTERNAL="external",r.EXTENSION_API="extensionApi",r.FLOATING_TB="floatingToolbar",r.FORMATTING="autoformatting",r.INSERT_MENU="insertMenu",r.INSERT_MENU_RIGHT_RAIL="insertMenuRightRail",r.KEYBOARD="keyboard",r.MEDIA_PICKER="mediaPicker",r.MACRO_BROWSER="macroBrowser",r.MANUAL="manual",r.PICKER="picker",r.PICKER_CLOUD="cloudPicker",r.PREFILL="prefill",r.QUICK_INSERT="quickInsert",r.SHORTCUT="shortcut",r.TOOLBAR="toolbar",r.TYPEAHEAD="typeAhead",r.DATASOURCE="datasource_config",r.TABLE_CONTEXT_MENU="tableContextMenu",r.MOUSE="mouse",r.BROWSER="browser",r.DOUBLE_CLICK="doubleClick",r.META_CLICK="metaClick",r.INLINE_SUGGESTION_FLOATING_TB="inlineSuggestionFloatingToolbar",r.BLOCK_MENU="blockMenu",r.SMART_LINK="smartLink",r),f=((i={}).LOCAL_UPLOAD="localUpload",i.EXTERNAL_URL="externalUrl",i.EXTERNAL_UPLOAD="externalUpload",i),m=((a={}).BUTTON="button",a.KEYBOARD="keyboard",a.SHORTCUT="shortcut",a.TOOLBAR="toolbar",a.EXTERNAL="external",a),E=((s={}).AI_INTERACTION="aiInteraction",s.AI_RESULT="aiResult",s.AI_FEEDBACK="aiFeedback",s.AI_STREAMING="aiStreaming",s.COLLAB="collab",s.TOOLBAR_BUTTON="toolbarButton",s.BUTTON="button",s.CONFIG_PANEL="configPanel",s.CONTENT_COMPONENT="contentComponent",s.DATE="date",s.DATE_SEGMENT="dateSegment",s.DOCUMENT="document",s.EDITOR="editor",s.ACTIVITY_SESSION="activitySession",s.ELEMENT_BROWSER="elementBrowser",s.EMBEDS="embeds",s.EXPAND="expand",s.EXTENSION="extension",s.FEATURE="feature",s.FEEDBACK_DIALOG="feedbackDialog",s.FIND_REPLACE_DIALOG="findReplaceDialog",s.FLOATING_CONTEXTUAL_BUTTON="floatingContextualButton",s.FLOATING_TOOLBAR_PLUGIN="floatingToolbarPlugin",s.HELP="help",s.INVITE_ITEM="inviteItem",s.LAYOUT="layout",s.LIST="list",s.MEDIA="media",s.MEDIA_GROUP="mediaGroup",s.MEDIA_INLINE="mediaInline",s.MEDIA_SINGLE="mediaSingle",s.MENTION="mention",s.MENTION_TYPEAHEAD="mentionTypeahead",s.NESTED_EXPAND="nestedExpand",s.PANEL="panel",s.PICKER="picker",s.PLUS_MENU="plusMenu",s.PLUGIN_SLOT="pluginSlot",s.REQUEST_TO_EDIT_POP_UP="requestToEditPopUp",s.REACT_NODE_VIEW="reactNodeView",s.SELECTION="selection",s.SMART_LINK="smartLink",s.HYPERLINK="hyperlink",s.TABLE="table",s.TABLES_PLUGIN="tablesPlugin",s.TEAM_MENTION_TYPEAHEAD="teamMentionTypeahead",s.TELEPOINTER="telepointer",s.TEXT="text",s.TOOLBAR="toolbar",s.TYPEAHEAD="typeAhead",s.TYPEAHEAD_ITEM="typeAheadItem",s.ANNOTATION="annotation",s.SEARCH_RESULT="searchResult",s.CREATE_LINK_INLINE_DIALOG="createLinkInlineDialog",s.CODE_BLOCK="codeBlock",s.REACT_EDITOR_VIEW="reactEditorView",s.RENDERER="renderer",s.ANCHOR_LINK="anchorLink",s.LINK="link",s.TOOLTIP="tooltip",s.LOOM="loom",s.MULTI_BODIED_EXTENSION="multiBodiedExtension",s.BODIED_EXTENSION="bodiedExtension",s.DROP_TARGET="dropTarget",s.DRAG="drag",s.ELEMENT="element",s.INLINE_DIALOG="inlineDialog",s.ENGAGEMENT_PLATFORM="engagementPlatform",s.MEDIA_VIEWER="mediaViewer",s.DECORATION="decoration",s.EDITOR_PLUGIN_AI="editorPluginAI",s.EDITOR_PLUGIN_SELECTION_EXTENSION="editorPluginSelectionExtension",s.AI_DEFINITIONS="aiDefinitions",s.USER_PREFERENCES="userPreferences",s.ALIGNMENT="alignment",s.OFFLINE_EDITING="offlineEditing",s.TOOLBAR_DROPDOWN_MENU="toolbarDropdownMenu",s.TOOLBAR_DROPDOWN_MENU_ITEM="toolbarDropdownMenuItem",s.BLOCK_MENU="blockMenu",s.BLOCK_MENU_ITEM="blockMenuItem",s.SYNCED_BLOCK="syncedBlock",s),g=((l={}).ACTION="action",l.ACTIVITY="activity",l.AI_CHANGES_ACCEPT_BUTTON="aiChangesAcceptButton",l.AI_CHANGES_REJECT_BUTTON="aiChangesRejectButton",l.AI_DEFINITIONS_DEFINE_BUTTON="aiDefinitionsDefineButton",l.AI_DEFINITIONS_AUTO_HIGHLIGHT="aiDefinitionsAutoHighlight",l.AI_INLINE_SUGGESTION="aiInlineSuggestion",l.AI_PANELS_BODIED_EXTENSION="aiPanelsBodiedExtension",l.AI_PROMPT_LINK_PICKER_BUTTON="aiPromptLinkPickerButton",l.AI_PROMPT_MENTION_BUTTON="aiPromptMentionButton",l.AI_PROACTIVE_FEEDBACK_DIALOG="aiProactiveFeedbackDialog",l.AI_ASK_ROVO_BUTTON="aiAskRovoButton",l.AI_HERO_PROMPT_BUTTON="aiHeroPromptButton",l.AI_MORE_ROVO_OPTIONS="aiMoreRovoOptions",l.AI_TRANSLATE="aiTranslate",l.AI_CHANGE_TONE="aiChangeTone",l.ALL="all",l.ALT_TEXT="altText",l.ANNOTATE_BUTTON="annotateButton",l.AVATAR_GROUP_PLUGIN="AvatarGroupInPlugin",l.BLOCK_QUOTE="blockQuote",l.BORDER="border",l.BUTTON_CATEGORY="categoryButton",l.BUTTON_FEEDBACK="feedbackButton",l.BUTTON_HELP="helpButton",l.CANCEL="cancel",l.CAPTION="caption",l.CARD_BLOCK="blockCard",l.CARD_INLINE="inlineCard",l.CELL="cell",l.CODE_BLOCK="codeBlock",l.CODEBLOCK_COPY="codeBlockCopy",l.CODEBLOCK_WRAP="codeBlockWrap",l.COPY_BUTTON="copyButton",l.COPY_LINK_TO_ANCHOR="copyLinkToAnchor",l.COPY_BLOCK="copyBlock",l.COPY_LINK_TO_BLOCK="copyLinkToBlock",l.DELETE_BLOCK="deleteBlock",l.MOVE_UP_BLOCK="moveUpBlock",l.MOVE_DOWN_BLOCK="moveDownBlock",l.FORMAT_MENU="formatMenu",l.CREATE_INLINE_COMMENT_FROM_HIGHLIGHT_ACTIONS_MENU="createInlineCommentFromHighlightActionsMenu",l.DATE="date",l.DATE_DAY="day",l.DATE_MONTH="month",l.DATE_YEAR="year",l.DECISION="decision",l.DISCARD_STREAM="discardStream",l.DIVIDER="divider",l.EDIT_LINK="editLink",l.EDIT_DATASOURCE="editDatasource",l.EDITOR_PLUGIN_AI="editorPluginAI",l.ELEMENT_DRAG_HANDLE="elementDragHandle",l.ELEMENT_DROP_TARGET="elementDropTarget",l.EMBEDS="embeds",l.EMOJI="emoji",l.EXPAND="expand",l.EXPERIENCE_APPLICATION="experienceApplication",l.EXTENSION="extension",l.EXTENSION_API="extensionApi",l.EXTENSION_BLOCK="extension",l.EXTENSION_BODIED="bodiedExtension",l.EXTENSION_INLINE="inlineExtension",l.FLOATING_TOOLBAR_OVERFLOW="floatingToolbarOverflow",l.FLOATING_TOOLBAR="floatingToolbar",l.FORMAT_BACKGROUND_COLOR="backgroundColor",l.FORMAT_BLOCK_QUOTE="blockQuote",l.FORMAT_CLEAR="clearFormatting",l.FORMAT_CODE="code",l.FORMAT_COLOR="color",l.FORMAT_HEADING="heading",l.FORMAT_INDENT="indentation",l.FORMAT_ITALIC="italic",l.FORMAT_LIST_BULLET="bulletedList",l.FORMAT_LIST_NUMBER="numberedList",l.FORMAT_STRIKE="strike",l.FORMAT_STRONG="strong",l.FORMAT_SUB="subscript",l.FORMAT_SUPER="superscript",l.FORMAT_UNDERLINE="underline",l.FRAGMENT_MARK="fragmentMark",l.GOTO_SMART_LINK_SETTINGS="goToSmartLinkSettings",l.HELP_QUICK_INSERT="helpQuickInsert",l.HOVER_LABEL="hoverLabel",l.HYPERLINK="hyperlink",l.INLINE_COMMENT="inlineComment",l.LAYOUT="layout",l.LINE_BREAK="lineBreak",l.LINK="link",l.LINK_PREVIEW="linkPreview",l.LINK_SEARCH_INPUT="linkSearchInput",l.MEDIA="media",l.MEDIA_GROUP="mediaGroup",l.MEDIA_INLINE="mediaInline",l.MEDIA_INLINE_IMAGE="mediaInlineImage",l.MEDIA_LINK="mediaLink",l.MEDIA_SINGLE="mediaSingle",l.MENTION="mention",l.MENTION_PROVIDER="mentionProvider",l.NESTED_EXPAND="nestedExpand",l.NODE="node",l.OPEN_LINK="openLink",l.OFFLINE_EDITING="offlineEditing",l.PANEL="panel",l.PASTE_BLOCK_CARD="blockCard",l.PASTE_BLOCKQUOTE="blockQuote",l.PASTE_BODIED_EXTENSION="bodiedExtension",l.PASTE_BULLET_LIST="bulletList",l.PASTE_CODE_BLOCK="codeBlock",l.PASTE_DECISION_LIST="decisionList",l.PASTE_EXPAND="expand",l.PASTE_EXTENSION="extension",l.PASTE_HEADING="heading",l.PASTE_MEDIA_GROUP="mediaGroup",l.PASTE_MEDIA_SINGLE="mediaSingle",l.PASTE_NESTED_EXPAND="nestedExpand",l.PASTE_ORDERED_LIST="orderedList",l.PASTE_PANEL="panel",l.PASTE_PARAGRAPH="paragraph",l.PASTE_RULE="rule",l.PASTE_TABLE="table",l.PASTE_TABLE_CELL="tableCell",l.PASTE_TABLE_HEADER="tableHeader",l.PASTE_TABLE_ROW="tableRow",l.PASTE_TASK_LIST="taskList",l.PICKER_CLOUD="cloudPicker",l.PICKER_MEDIA="mediaPicker",l.PICKER_COLOR="colorPicker",l.PICKER_EMOJI="emojiPicker",l.PICKER_TABLE_SIZE="tableSizePicker",l.DOCKED_PRIMARY_TOOLBAR="dockedPrimaryToolbar",l.PLACEHOLDER_TEXT="placeholderText",l.POST_QUERY_SEARCH_RESULTS="postQuerySearchResults",l.PRE_QUERY_SEARCH_RESULTS="preQuerySearchResults",l.PROACTIVE_SUGGESTION="proactiveSuggestion",l.PRODUCT_NAME="productName",l.PUNC="punctuation",l.QUICK_SEARCH="quickSearch",l.RANGE="range",l.REACT_NODE_VIEW="reactNodeView",l.RECENT_ACTIVITIES="recentActivities",l.RESIZED="resized",l.RESPONSE_FEEDBACK_BUTTON="responseFeedbackButton",l.RICH_MEDIA_LAYOUT="richMediaLayout",l.SAVE="save",l.SECTION="section",l.SMART_LINK="smartLink",l.SMART_LINK_TOOLBAR="smartLinkToolbar",l.STATUS="status",l.SYMBOL="symbol",l.TABLE="table",l.TELEPOINTER="telepointer",l.TEXT="text",l.TYPEAHEAD_EMOJI="emojiTypeAhead",l.TYPEAHEAD_LINK="linkTypeAhead",l.TYPEAHEAD_MENTION="mentionTypeAhead",l.TYPEAHEAD_QUICK_INSERT="quickInsertTypeAhead",l.TOOLBAR_PREVIEW="previewFromToolbar",l.UNKNOWN_NODE="unknownNode",l.UNLINK="unlink",l.HEADING_ANCHOR_LINK="headingAnchorLink",l.UNSUPPORTED_ERROR="unsupportedUnhandled",l.UNSUPPORTED_NODE_ATTRIBUTE="unsupportedNodeAttribute",l.UNSUPPORTED_BLOCK="unsupportedBlock",l.UNSUPPORTED_INLINE="unsupportedInline",l.UNSUPPORTED_MARK="unsupportedMark",l.ON_UNSUPPORTED_INLINE="onUnsupportedInline",l.ON_UNSUPPORTED_BLOCK="onUnsupportedBlock",l.MULTI_BODIED_EXTENSION="multiBodiedExtension",l.UPDATE_STREAM="updateStream",l.UPLOAD_MEDIA="uploadMedia",l.SELECTION_TOOLBAR_PREFERENCES="selectionToolbarPreferences",l.SELECTION_TOOLBAR="selectionToolbar",l.EDITOR_PLUGIN_SELECTION_EXTENSION_DROPDOWN="editorPluginSelectionExtensionDropdown",l.EDITOR_PLUGIN_SELECTION_EXTENSION_ITEM="editorPluginSelectionExtensionItem",l.EDITOR_PLUGIN_SELECTION_EXTENSION_COMPONENT="editorPluginSelectionExtensionComponent",l.TRANSFORM="transform",l.SYNCED_BLOCK_SOURCE_URL="syncedBlockSourceUrl",l.SYNCED_BLOCK_UPDATE_CACHE="syncedBlockUpdateCache",l.SYNCED_BLOCK_UPDATE="syncedBlockUpdate",l.REFERENCE_SYNCED_BLOCK_UPDATE="referenceSyncedBlockUpdate",l.SYNCED_BLOCK_CREATE="syncedBlockCreate",l.SYNCED_BLOCK_DELETE="syncedBlockDelete",l.SYNCED_BLOCK_GET_SOURCE_INFO="syncedBlockGetSourceInfo",l.SYNCED_BLOCK_FETCH="syncedBlockFetch",l);(d={}).CODE_BLOCK="codeBlockFloatingControls",d.EXTENSION="extensionFloatingControls",d.HYPERLINK="hyperlinkFloatingControls",d.MEDIA="mediaFloatingControls",d.PANEL="panelFloatingControls",d.TABLE="tableFloatingControls",d.EXPAND="expandToolbar";var _=((p={}).INLINE_COMMENT="inlineComment",p.FLOATING_CONTEXTUAL_BUTTON="floatingContextualButton",p.FLOATING_INSERT_BUTTON="floatingInsertButton",p.FLOATING_TOOLBAR="floatingToolbar",p.SELECTION_TOOLBAR="selectionToolbar",p);e.exports.EVENT_TYPE=c,e.exports.ACTION=u,e.exports.INPUT_METHOD=h,e.exports.INSERT_MEDIA_VIA=f,e.exports.TRIGGER_METHOD=m,e.exports.ACTION_SUBJECT=E,e.exports.ACTION_SUBJECT_ID=g,e.exports.CONTENT_COMPONENT=_}),a("hgeg8",function(t,o){var n=i("42omo"),r=i("kbdB6"),a=i("1oCLl");let s=e2("Add Alt Text","Mod-Alt-y"),l=e2("Navigate to editor toolbar","Alt-F9"),d=e2("Navigate to floating toolbar","Alt-F10"),p=e2("Ask AI","Mod-'"),c=e2("Bold","Mod-b"),u=e2("Italic","Mod-i"),h=e2("Underline","Mod-u"),f=e2("Strikethrough","Mod-Shift-s"),m=e2("Subscript","Mod-Shift-,"),E=e2("Superscript","Mod-Shift-."),g=e2("Code","Mod-Shift-m"),_=e2("Paste Plain Text","Mod-Shift-v"),T=e2("Clear formatting","Mod-\\"),A=e2("Normal text","Mod-Alt-0"),I=e2("Heading 1","Mod-Alt-1"),O=e2("Heading 2","Mod-Alt-2"),S=e2("Heading 3","Mod-Alt-3"),C=e2("Heading 4","Mod-Alt-4"),R=e2("Heading 5","Mod-Alt-5"),N=e2("Heading 6","Mod-Alt-6"),b=e2("Numbered list","Mod-Shift-7");e2("Cmd + Backspace","Mod-Backspace");let M=e2("Bullet list","Mod-Shift-8"),D=e2("Quote","Mod-Shift-9"),w=e2("Insert new line","Shift-Enter");e2("Shift Backspace","Shift-Backspace");let x=e2("Split code block","Enter"),L=e2("Split list item","Enter"),v=e2("Insert horizontal rule","Mod-Shift--"),y=e2("Undo","Mod-z"),P=e2("Move up","ArrowUp"),k=e2("Move down","ArrowDown"),B=e2("Move left","ArrowLeft"),U=e2("Move right","ArrowRight"),K=e2("Indent List","Tab"),F=e2("Outdent List","Shift-Tab"),G=e2("Redo","Mod-y"),H=e4("Redo","Ctrl-y","Mod-Shift-z"),V=e2("Open Help","Mod-/"),W=e2("Link","Mod-k"),j=e2("Annotate","Mod-Alt-c"),$=e2("Submit Content","Mod-Enter"),z=e2("Enter","Enter"),J=e2("Shift Enter","Shift-Enter"),X=e2("Tab","Tab"),Y=e2("Indent","Tab"),q=e2("Outdent","Shift-Tab"),Q=e2("Backspace","Backspace"),Z=e2("Delete","Delete"),ee=e4("Forward Delete","","Ctrl-d"),et=e2("Space","Space"),eo=e2("Escape","Escape"),en=e2("Next cell","Tab"),er=e2("Previous cell","Shift-Tab"),ei=e2("Shift ArrowUp","Shift-ArrowUp"),ea=e2("Shift Tab","Shift-Tab"),es=e2("Table","Shift-Alt-t"),el=e2("Focus Table Resizer","Mod-Alt-Shift-r"),ed=e2("Add Row Above","Ctrl-Alt-ArrowUp"),ep=e2("Add Row Below","Ctrl-Alt-ArrowDown"),ec=e2("Add Column After","Ctrl-Alt-ArrowRight"),eu=e2("Add Column Before","Ctrl-Alt-ArrowLeft"),eh=e2("Add Row Above","Mod-Alt-["),ef=e2("Add Row Below","Mod-Alt-]"),em=e2("Add Column After","Mod-Alt-="),eE=e2("Add Column Before","Mod-Alt--"),eg=e2("Move Column Left","Ctrl-Alt-Shift-ArrowLeft"),e_=e2("Move Column Right","Ctrl-Alt-Shift-ArrowRight"),eT=e2("Move Row Down","Ctrl-Alt-Shift-ArrowDown"),eA=e2("Move Row Up","Ctrl-Alt-Shift-ArrowUp"),eI=e2("Delete Column","Ctrl-Backspace"),eO=e2("Delete Row","Ctrl-Backspace"),eS=e2("Activate Column Resize","Mod-Alt-Shift-c");e2("Cut","Mod-x"),e2("Copy","Mod-c"),e2("Paste","Mod-v"),e2("Paste","Mod-Shift-v");let eC=e2("Find","Mod-f"),eR=e2("Align Left","Mod-Shift-l"),eN=e2("Align Center","Mod-Alt-e"),eb=e2("Align Right","Mod-Alt-t"),eM=e2("Toggles task item","Mod-Alt-Enter"),eD=e2("Toggle task list","Mod-Shift-6"),ew=e5("Select row",["Mod-Alt-Shift-ArrowLeft","Mod-Alt-Shift-ArrowRight"]),ex=e5("Select column",["Mod-Alt-Shift-ArrowDown","Mod-Alt-Shift-ArrowUp"]),eL=e2("Select table","Mod-a"),ev=e2("increase image size","Mod-Alt-]"),ey=e2("increase image size","Mod-Alt-["),eP=e2("Activate controls panel on video","Shift-F10"),ek=e2("Toggle Highlight Palette","Mod-Alt-b"),eB=e2("Apply Yellow Highlight","Mod-Alt-y"),eU=e2("Focus table context menu trigger","Shift-F10"),eK=e2("Move node up in the document","Ctrl-Shift-ArrowUp"),eF=e2("Move node down in the document","Ctrl-Shift-ArrowDown"),eG=e2("Move node to the left column in the document","Ctrl-Shift-Alt-ArrowLeft"),eH=e2("Move node to the right column in the document","Ctrl-Shift-Alt-ArrowRight"),eV=e2("Show drag handle for editor element","Ctrl-Shift-h"),eW=e2("Toggle Code Block","```"),ej=e2("Insert Emoji",":"),e$=e2("Insert Mention","@"),ez=e2("Insert Action Item","[]"),eJ=e2("Insert Elements","/"),eX=e2("Continue in Rovo chat","Alt-Enter"),eY={ARROWLEFT:"←",ARROWRIGHT:"→",ARROWUP:"↑",ARROWDOWN:"↓"},eq=(0,i("9K4OG").css)({borderRadius:"var(--ds-radius-xsmall, 2px)",backgroundColor:"var(--ds-background-inverse-subtle, #00000029)",padding:"0 var(--ds-space-025, 2px)",label:"tooltip-shortcut"});function eQ(e){let t,o=(0,a.expValEquals)("platform_editor_hydratable_ui","isEnabled",!0)?(0,i("d7ZU3").getBrowserInfo)():i("d7ZU3").browser,n=(o.mac?e.mac.replace(/Cmd/i,"⌘").replace(/Shift/i,"⇧").replace(/Ctrl/i,"⌃").replace(/Alt/i,"⌥").replace(/Backspace/i,"⌫").replace(/Enter/i,"⏎"):e.windows.replace(/Backspace/i,"⌫")).split("-"),r=n[n.length-1];return 1===r.length&&(r=r.toUpperCase()),n[n.length-1]=eY[r.toUpperCase()]||r,n.join(o.mac?"":"+")}let eZ=e(n).memo(({description:e,shortcutOverride:t,keymap:o})=>{let r=t||o&&eQ(o);return r||e?(0,i("9K4OG").jsx)(n.Fragment,null,e,r&&e&&" ",r&&(0,i("9K4OG").jsx)("span",{css:eq},r)):null}),e0=e(n).memo(({helpDescriptors:e})=>{let t=e.length;return(0,i("9K4OG").jsx)(n.Fragment,null,e.map((e,o)=>(0,i("9K4OG").jsx)(n.Fragment,{key:o},(0,i("9K4OG").jsx)(eZ,e)," ",o<t-1&&(0,i("9K4OG").jsx)("br",null))))}),e1=[b,M,c,u,h,f,m,E,g,A,I,O,S,C,R,N,D,w,v,x,L,H,y,eC,eo,z,J];function e4(e,t,o,n){return{description:e,windows:t.replace(/Mod/i,"Ctrl"),mac:o.replace(/Mod/i,"Cmd"),common:n}}function e2(e,t){return e4(e,t.replace(/Mod/i,"Ctrl"),t.replace(/Mod/i,"Cmd"),t)}function e5(e,t){let o=[];return t.forEach(t=>{o.push(e2(e,t))}),o}function e8(e,t,o){let n=o[e];o[e]=n?(e,o,r)=>n(e,o)||t(e,o,r):t}t.exports.addAltText=s,t.exports.makeKeyMapWithCommon=e2,t.exports.navToEditorToolbar=l,t.exports.navToFloatingToolbar=d,t.exports.askAIQuickInsert=p,t.exports.toggleBold=c,t.exports.toggleItalic=u,t.exports.toggleUnderline=h,t.exports.toggleStrikethrough=f,t.exports.toggleSubscript=m,t.exports.toggleSuperscript=E,t.exports.toggleCode=g,t.exports.pastePlainText=_,t.exports.clearFormatting=T,t.exports.setNormalText=A,t.exports.toggleHeading1=I,t.exports.toggleHeading2=O,t.exports.toggleHeading3=S,t.exports.toggleHeading4=C,t.exports.toggleHeading5=R,t.exports.toggleHeading6=N,t.exports.toggleOrderedList=b,t.exports.toggleBulletList=M,t.exports.toggleBlockQuote=D,t.exports.insertNewLine=w,t.exports.insertRule=v,t.exports.undo=y,t.exports.moveUp=P,t.exports.moveDown=k,t.exports.moveLeft=B,t.exports.moveRight=U,t.exports.indentList=K,t.exports.outdentList=F,t.exports.redoAlt=G,t.exports.redo=H,t.exports.openHelp=V,t.exports.addLink=W,t.exports.addInlineComment=j,t.exports.submit=$,t.exports.enter=z,t.exports.tab=X,t.exports.indent=Y,t.exports.outdent=q,t.exports.backspace=Q,t.exports.deleteKey=Z,t.exports.forwardDelete=ee,t.exports.space=et,t.exports.escape=eo,t.exports.nextCell=en,t.exports.previousCell=er,t.exports.shiftArrowUp=ei,t.exports.shiftTab=ea,t.exports.toggleTable=es,t.exports.focusTableResizer=el,t.exports.addRowBefore=ed,t.exports.addRowAfter=ep,t.exports.addColumnAfter=ec,t.exports.addColumnBefore=eu,t.exports.addRowBeforeVO=eh,t.exports.addRowAfterVO=ef,t.exports.addColumnAfterVO=em,t.exports.addColumnBeforeVO=eE,t.exports.moveColumnLeft=eg,t.exports.moveColumnRight=e_,t.exports.moveRowDown=eT,t.exports.moveRowUp=eA,t.exports.deleteColumn=eI,t.exports.deleteRow=eO,t.exports.startColumnResizing=eS,t.exports.find=eC,t.exports.alignLeft=eR,t.exports.alignCenter=eN,t.exports.alignRight=eb,t.exports.toggleTaskItemCheckbox=eM,t.exports.toggleTaskList=eD,t.exports.selectRow=ew,t.exports.selectColumn=ex,t.exports.selectTable=eL,t.exports.increaseMediaSize=ev,t.exports.decreaseMediaSize=ey,t.exports.activateVideoControls=eP,t.exports.toggleHighlightPalette=ek,t.exports.applyYellowHighlight=eB,t.exports.focusToContextMenuTrigger=eU,t.exports.dragToMoveUp=eK,t.exports.dragToMoveDown=eF,t.exports.dragToMoveLeft=eG,t.exports.dragToMoveRight=eH,t.exports.showElementDragHandle=eV,t.exports.toggleCodeBlock=eW,t.exports.insertEmoji=ej,t.exports.insertMention=e$,t.exports.insertTaskList=ez,t.exports.insertElements=eJ,t.exports.continueInRovoChat=eX,t.exports.formatShortcut=eQ,t.exports.tooltip=function(e,t){if(e){let o=eQ(e);return t?`${t} ${o}`:o}},t.exports.ToolTipContent=eZ,t.exports.TooltipContentWithMultipleShortcuts=e0,t.exports.findKeymapByDescription=function(e){return e1.filter(t=>t.description.toUpperCase()===e.toUpperCase())[0]},t.exports.findShortcutByKeymap=function(e){return((0,a.expValEquals)("platform_editor_hydratable_ui","isEnabled",!0)?(0,i("d7ZU3").getBrowserInfo)():i("d7ZU3").browser).mac?e.mac:e.windows},t.exports.getAriaKeyshortcuts=function(e){let t,o=(0,a.expValEquals)("platform_editor_hydratable_ui","isEnabled",!0)?(0,i("d7ZU3").getBrowserInfo)():i("d7ZU3").browser;return("string"==typeof e?t=e:"object"==typeof e&&(t=e[o.mac?"mac":"windows"]),t)?t.toLowerCase().split("-").map(e=>{switch(e){case"cmd":return"Meta";case"ctrl":return"Control";case"alt":return"Alt";case"shift":return"Shift";case"enter":return"Enter";case"esc":return"Esc";case"tab":return"Tab";case"space":return"Space";case"backspace":return"Backspace";case"arrowup":return"Arrow Up";case"arrowdown":return"Arrow Down";default:return e.split("").join(" ")}}).join("+"):void 0},t.exports.bindKeymapWithCommand=e8,t.exports.bindKeymapArrayWithCommand=function(e,t,o){e.forEach(e=>e8(e.common,t,o))},t.exports.bindKeymapWithEditorCommand=function(e,t,o){e8(e,(0,i("gmyMu").editorCommandToPMCommand)(t),o)},t.exports.findKeyMapForBrowser=function(e){if(e)return((0,a.expValEquals)("platform_editor_hydratable_ui","isEnabled",!0)?(0,i("d7ZU3").getBrowserInfo)():i("d7ZU3").browser).mac?e.mac:e.windows},t.exports.isCapsLockOnAndModifyKeyboardEvent=function(e){let t=e,o=(0,r.keyName)(e);return e.ctrlKey&&e.getModifierState("CapsLock")&&!e.getModifierState("Shift")&&1===o.length&&/^[A-Z]/.test(o)&&(t=new KeyboardEvent("keydown",{key:r.base[e.keyCode].toLowerCase(),code:e.code,ctrlKey:!0})),t}}),a("gmyMu",function(e,t){class o extends i("ks2lK").Transaction{constructor(){super({})}}e.exports.editorCommandToPMCommand=function(e){return({tr:t},n)=>{let r=e?.({tr:t});return!!r&&(r instanceof o||(n?.(r),!0))}},e.exports.PassiveTransaction=o}),a("d7ZU3",function(e,t){let o={mac:!1,windows:!1,ie:!1,ie_version:0,gecko:!1,gecko_version:0,chrome:!1,chrome_version:0,android:!1,ios:!1,webkit:!1,safari:!1,safari_version:0,supportsIntersectionObserver:!1,supportsResizeObserver:!1};if("undefined"!=typeof navigator){let e=/(?:Edge|Edg)\/(\d+)/.exec(navigator.userAgent),t=/MSIE \d/.test(navigator.userAgent),n=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);o.mac=/Mac/.test(navigator.platform),o.windows=navigator.userAgentData?.platform==="Windows"||/Windows|Win\d+/i.test(navigator.userAgent);let r=o.ie=!!(t||n||e);o.ie_version=t?document.documentMode||6:n?+n[1]:e?+e[1]:null,o.gecko=!r&&/gecko\/\d/i.test(navigator.userAgent),o.gecko_version=parseInt((navigator.userAgent.match(/Firefox\/(\d+)/)||[])[1],10),o.chrome=!r&&/Chrome\//.test(navigator.userAgent),o.chrome_version=parseInt((navigator.userAgent.match(/Chrome\/(\d+)/)||[])[1],10),o.android=/Android \d/.test(navigator.userAgent),o.ios=!r&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),o.webkit=!r&&!!document.documentElement&&"WebkitAppearance"in document.documentElement.style,o.safari=!!(navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1===navigator.userAgent.indexOf("CriOS")&&-1===navigator.userAgent.indexOf("FxiOS")),o.safari_version=parseInt((navigator.userAgent.match(/Version\/([0-9\._]+).*Safari/)||[])[1],10),o.supportsIntersectionObserver="undefined"!=typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,o.supportsResizeObserver="undefined"!=typeof window&&"ResizeObserver"in window&&"ResizeObserverEntry"in window}let n=(e,t)=>{let o=t.match(e);return o&&o.length>0&&o[1]||""},r=(e,t)=>{let o=t.match(e);return o&&o.length>0&&o[2]||""},a=()=>{if("undefined"!=typeof window)return window.navigator?.userAgent},s=()=>{if("undefined"!=typeof window)return window.navigator?.platform},l=()=>"undefined"!=typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,d=()=>"undefined"!=typeof window&&"ResizeObserver"in window&&"ResizeObserverEntry"in window,p=(0,i("2XqLN").default)(()=>{let e={mac:!1,windows:!1,ie:!1,ie_version:0,gecko:!1,gecko_version:0,chrome:!1,chrome_version:0,android:!1,ios:!1,webkit:!1,safari:!1,safari_version:0,supportsIntersectionObserver:!1,supportsResizeObserver:!1},t=a(),o=s();if(t){let i=/\sedg\//i.test(t),a=/edg([ea]|ios)/i.test(t),s=/msie|trident/i.test(t);e.mac=o&&/Mac/.test(o),e.windows=/Windows|Win\d+/i.test(t);let p=i||a||s;e.ie=p,e.ie_version=i?parseInt(n(/\sedg\/(\d+(\.?_?\d+)+)/i,t),10):a?parseInt(r(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t),10):parseInt(n(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t),10),e.gecko=!p&&/gecko\/\d/i.test(t),e.gecko_version=parseInt((t.match(/Firefox\/(\d+)/)||[])[1],10),e.chrome=!p&&/Chrome\//.test(t),e.chrome_version=parseInt((t.match(/Chrome\/(\d+)/)||[])[1],10),e.android=/Android \d/.test(t),e.ios=!p&&/AppleWebKit/.test(t)&&/Mobile\/\w+/.test(t),e.safari=!e.chrome&&!e.ie&&!e.gecko&&!e.android&&!t.includes("CriOS")&&!t.includes("FxiOS")&&/safari|applewebkit/i.test(t),e.safari_version=parseInt((t.match(/Version\/([0-9\._]+).*Safari/)||[])[1],10),e.webkit=/(apple)?webkit/i.test(t),e.supportsIntersectionObserver=l(),e.supportsResizeObserver=d()}return e});e.exports.browser=o,e.exports.getBrowserInfo=p}),a("60bKU",function(e,t){var o=i("kbdB6");e.exports.keymap=function(e){return new(0,i("1S4f7").SafePlugin)({props:{handleKeyDown(t,n){let r=(0,o.keyName)(n),a=n,s=n.ctrlKey||n.metaKey,l=1===r.length&&/[^\u0000-\u007f]/.test(r),d="Dead"===r;return s&&(l||d)&&(a=new KeyboardEvent(n.type,{key:o.base[n.keyCode],code:n.code,ctrlKey:n.ctrlKey,altKey:n.altKey,metaKey:n.metaKey,shiftKey:n.shiftKey})),(0,i("dus6D").keydownHandler)(e)(t,a)}}})}}),a("dus6D",function(e,t){var o=i("kbdB6");let n="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function r(e,t,o=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),o&&t.shiftKey&&(e="Shift-"+e),e}function a(e){let t=function(e){let t=Object.create(null);for(let o in e)t[function(e){let t,o,r,i,a=e.split(/-(?!$)/),s=a[a.length-1];"Space"==s&&(s=" ");for(let e=0;e<a.length-1;e++){let s=a[e];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))o=!0;else if(/^s(hift)?$/i.test(s))r=!0;else if(/^mod$/i.test(s))n?i=!0:o=!0;else throw Error("Unrecognized modifier name: "+s)}return t&&(s="Alt-"+s),o&&(s="Ctrl-"+s),i&&(s="Meta-"+s),r&&(s="Shift-"+s),s}(o)]=e[o];return t}(e);return function(e,n){let i=(0,o.keyName)(n),a,s=t[r(i,n)];if(s&&s(e.state,e.dispatch,e))return!0;if(1==i.length&&" "!=i){if(n.shiftKey){let o=t[r(i,n,!1)];if(o&&o(e.state,e.dispatch,e))return!0}if((n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(a=o.base[n.keyCode])&&a!=i){let o=t[r(a,n)];if(o&&o(e.state,e.dispatch,e))return!0}}return!1}}e.exports.keymap=function(e){return new(0,i("ks2lK").Plugin)({props:{handleKeyDown:a(e)}})},e.exports.keydownHandler=a}),a("1S4f7",function(e,t){var o=i("1oCLl");let n=({nodeOrMark:e,dom:t,options:n})=>{Object.entries((0,i("6VsTy").createProseMirrorMetadata)(e,n)).forEach(([e,n])=>{if((t.setAttribute(e,n),"data-node-anchor"===e&&(0,o.expValEquals)("platform_editor_native_anchor_with_dnd","isEnabled",!0))&&!(!(0,i("04H9b").isCSSAnchorSupported)()||(0,i("04H9b").isCSSAttrAnchorSupported)()))return void t.style.setProperty(i("04H9b").ANCHOR_VARIABLE_NAME,`${n}`)})},r=e=>{let t;if(!e?.props?.nodeViews)return e;let r=new Proxy(e.props.nodeViews,{get:(e,r,a)=>new Proxy(Reflect.get(e,r,a),{apply(e,r,a){let[s,l,d,...p]=a;!t&&(0,o.expValEquals)("platform_editor_native_anchor_with_dnd","isEnabled",!0)&&(t=(0,i("b7atO").getNodeIdProvider)(l));let c=(()=>{try{return d()}catch(e){return}}).bind(r),u=Reflect.apply(e,r,[s,l,c,...p]);if(u?.dom instanceof HTMLElement){let e=c(),r=void 0!==e&&(0,o.expValEquals)("platform_editor_native_anchor_with_dnd","isEnabled",!0)?{anchrorId:t?.getOrGenerateId(s,e)}:void 0;n({nodeOrMark:s,dom:u.dom,options:r})}return u}})});return e.props.nodeViews=r,e};class a extends i("ks2lK").Plugin{constructor(e){super(r(e)),this._isATypeSafePlugin=void 0}}e.exports.SafePlugin=a}),a("b7atO",function(e,t){var o=i("aeAfU");class n{set(e,t){let o=this.getChunk(e),n=e%this.chunkTotalBitSize,r=Math.floor(n/8),i=n%8;t?o[r]|=1<<i:o[r]&=~(1<<i)}get(e){let t=this.getChunk(e),o=e%this.chunkTotalBitSize;return(t[Math.floor(o/8)]&1<<o%8)!=0}getChunk(e){let t=Math.floor(e/this.chunkTotalBitSize);return this.bitArrays[t]||(this.bitArrays[t]=new Uint8Array(this.chunkSize)),this.bitArrays[t]}constructor(e=4096){this.chunkSize=void 0,this.chunkTotalBitSize=void 0,this.bitArrays=void 0,this.chunkSize=e,this.chunkTotalBitSize=8*this.chunkSize,this.bitArrays=[]}}class r{isEmptyDoc(){return this.emptyDoc}setEmptyDoc(e){this.emptyDoc=e}isLimitedMode(){return this.limitedMode}getOrGenerateId(e,t){if(this.limitedMode)return;if(this.cache.has(e))return this.cache.get(e);let o="";this.existingPos.get(t)?o=`-${(this.count++).toString(36)}`:this.existingPos.set(t,!0);let n=`--anchor-${e.type.name}-${t}${o}`;return this.cache.set(e,n),n}getIdForNode(e){if(!this.limitedMode)return this.cache.get(e)}setLimitedMode(){this.limitedMode=!0,this.cache=new WeakMap,this.existingPos=new n,this.count=BigInt(0)}constructor(e=!1,t=!1){this.cache=new WeakMap,this.count=BigInt(0),this.existingPos=new n,this.limitedMode=!1,this.emptyDoc=!1,this.limitedMode=e,this.emptyDoc=t}}let a=new WeakMap,s=e=>{let t=(0,o.expVal)("cc_editor_limited_mode","nodeSize",100),n=!1;if("number"==typeof t)if((0,o.expVal)("cc_editor_limited_mode_include_lcm","isEnabled",!0)){let o=e.state.doc.nodeSize;e.state.doc.descendants(e=>{e.attrs?.extensionKey==="legacy-content"&&(o+=e.attrs?.parameters?.adf?.length??0)}),n=o>t}else n=e.state.doc.nodeSize>t;return n};e.exports.getNodeIdProvider=e=>{if(!a.has(e)){if((0,i("dh538").fg)("platform_editor_native_anchor_patch_2")){let t=new r(s(e),(0,i("2pjJ5").isEmptyDocument)(e.state.doc));return a.set(e,t),t}let t=new r;return a.set(e,t),t}let t=a.get(e);return t.isEmptyDoc()&&!(0,i("2pjJ5").isEmptyDocument)(e.state.doc)&&(0,i("dh538").fg)("platform_editor_native_anchor_patch_2")&&(t.setEmptyDoc(!1),!t.isLimitedMode()&&s(e)&&t.setLimitedMode()),a.get(e)}}),a("2pjJ5",function(t,o){var n=i("3FxV8");let r=t=>{let o=-1,r=-1;return(t.mapping.maps.forEach((a,s)=>{a.forEach((a,l)=>{let d=t.mapping.slice(s).map(a,-1),p=t.mapping.slice(s).map(l);if((0,i("dh538").fg)("platform_editor_ai_generic_prep_for_aifc")){let i=t.doc.content.size;o=e(n)(d<o||-1===o?d:o,0,i),r=e(n)(p>r||-1===r?p:r,0,i)}else o=d<o||-1===o?d:o,r=p>r||-1===r?p:r})}),-1!==o)?{from:o,to:r}:null};function a(e){return 1===e.depth}function s(e,t,o){if(e.isText)return e.eq(t);if(!o||0===o.length)return e===t||e.hasMarkup(t.type,e.attrs,t.marks)&&l(e.content,t.content);let n=t.attrs,r=new Set(o);for(let o in t.attrs)r.has(o)&&(n[o]=e.attrs[o]);return e===t||e.hasMarkup(t.type,n,t.marks)&&l(e.content,t.content,o)}function l(e,t,o){if(e.content.length!==t.content.length)return!1;let n=!0;return e.content.forEach((e,r)=>{let i=t.child(r);e===i||i&&s(e,i,o)||(n=!1)}),n}t.exports.getStepRange=r,t.exports.hasDocAsParent=a,t.exports.isEmptyDocument=function(e){let t=e.content.firstChild;return 1===e.childCount&&!!t&&(0,i("kTbzR").isEmptyParagraph)(t)},t.exports.bracketTyped=function(e){let{selection:t}=e,{$cursor:o,$anchor:n}=t;if(!o)return!1;let r=o.nodeBefore;return!!r&&"text"===r.type.name&&"{"===r.text&&0===n.node().marks.length&&a(n)},t.exports.nodesBetweenChanged=function(e,t,o){let n=r(e);n&&e.doc.nodesBetween(n.from,n.to,t,o)},t.exports.hasVisibleContent=function e(t){if(t.isInline)return t.isText?!!t.textContent.trim():"hardBreak"!==t.type.name;if(t.isBlock&&(t.isLeaf||t.isAtom))return!0;if(!t.childCount)return!1;for(let o=0;o<t.childCount;o++){let n=t.child(o);if(!["paragraph","text","hardBreak"].includes(n.type.name)||e(n))return!0}return!1},t.exports.isSelectionEndOfParagraph=e=>e.selection.$to.parent.type===e.schema.nodes.paragraph&&e.selection.$to.pos===e.doc.resolve(e.selection.$to.pos).end(),t.exports.getChangedNodes=function(e){return function({tr:e,doc:t}){let o=[],n=r(e);if(!n)return o;let i=Math.min(t.nodeSize-2,n.from),a=Math.min(t.nodeSize-2,n.to);return t.nodesBetween(i,a,(e,t)=>{o.push({node:e,pos:t})}),o}({tr:e,doc:e.doc})},t.exports.isReplaceDocOperation=(e,t)=>e.some(e=>!!e.getMeta("replaceDocument")||e.steps.some(e=>{if(!(e instanceof i("aXG5V").ReplaceStep))return!1;let o=0===e.from,n=e.to===t.doc.content.size;return!!o&&!!n})),t.exports.areNodesEqualIgnoreAttrs=s}),a("3FxV8",function(e,t){var o=i("bCMS0"),n=i("abOaY");e.exports=function(e,t,r){return void 0===r&&(r=t,t=void 0),void 0!==r&&(r=(r=n(r))==r?r:0),void 0!==t&&(t=(t=n(t))==t?t:0),o(n(e),t,r)}}),a("kTbzR",function(e,t){var o=i("8m4tT");let n=e=>e&&e.hasOwnProperty("slice"),r=e=>t=>!e(t);e.exports.isEmptyParagraph=function(e){return!!e&&"paragraph"===e.type.name&&!e.childCount},e.exports.stepHasSlice=n,e.exports.stepAddsOneOf=function(e,t){let o=!1;return n(e)&&e.slice.content.descendants(e=>(t.has(e.type)&&(o=!0),!o)),o},e.exports.extractSliceFromStep=e=>e instanceof i("aXG5V").ReplaceStep||e instanceof i("aXG5V").ReplaceAroundStep?e.slice:null,e.exports.isTextSelection=e=>e instanceof i("ks2lK").TextSelection,e.exports.isElementInTableCell=e=>(0,i("4vlwG").closest)(e,"td, th"),e.exports.isLastItemMediaGroup=e=>{let{content:t}=e;return!!t.lastChild&&"mediaGroup"===t.lastChild.type.name},e.exports.setNodeSelection=(e,t)=>{let{state:o,dispatch:n}=e;isFinite(t)&&n(o.tr.setSelection(i("ks2lK").NodeSelection.create(o.doc,t)))},e.exports.setTextSelection=function(e,t,o){let{state:n,dispatch:r}=e;r(n.tr.setSelection(i("ks2lK").TextSelection.create(n.doc,t,o)))},e.exports.nonNullable=function(e){return null!=e},e.exports.isValidPosition=(e,t)=>"number"==typeof e&&!!(e>=0&&e<=t.doc.resolve(0).end()),e.exports.isInLayoutColumn=e=>(0,o.hasParentNodeOfType)(e.schema.nodes.layoutSection)(e.selection),e.exports.filterChildrenBetween=function(e,t,o,n){let r=[];return e.nodesBetween(t,o,(e,t,o)=>{n(e,t,o)&&r.push({node:e,pos:t})}),r},e.exports.removeBlockMarks=(e,t)=>{let{selection:o,schema:n}=e,{tr:i}=e,a=t.filter(Boolean);if(0===a.length)return;let s=!1,l=e=>a.indexOf(e.type)>-1;return e.doc.nodesBetween(o.from,o.to,(t,o)=>{if(t.type===n.nodes.paragraph&&t.marks.some(l)){s=!0;let n=e.doc.resolve(o),a=t.marks.filter(r(l));i=i.setNodeMarkup(n.pos,void 0,t.attrs,a)}}),s?i:void 0}}),a("8m4tT",function(e,t){var o=(e,t)=>o=>{Array.isArray(e)||(e=[e]);for(let n=0,r=e.length;n<r;n++){let r=I(e[n])(o.selection);if(r){let e=u(r.pos,t)(o);if(e!==o)return e}}return o},n=e=>t=>{if(d(t.selection)){let{$from:o,$to:n}=t.selection;if(e instanceof i("5SAOw").Fragment&&o.parent.canReplace(o.index(),o.indexAfter(),e)||e instanceof i("5SAOw").Node&&o.parent.canReplaceWith(o.index(),o.indexAfter(),e.type))return c(t.replaceWith(o.pos,n.pos,e).setSelection(new(0,i("ks2lK").NodeSelection)(t.doc.resolve(o.pos))))}return t},r=(e,t=1)=>o=>{let n=i("ks2lK").Selection.findFrom(o.doc.resolve(e),t,!0);return n?o.setSelection(n):o},a=e=>!!(e instanceof i("5SAOw").Node&&e.type&&e.type.spec.selectable),s=e=>a(e)&&e.type.isLeaf,l=(e,t,o)=>s(e)?o.setSelection(new(0,i("ks2lK").NodeSelection)(o.doc.resolve(t))):r(t)(o),d=e=>e instanceof i("ks2lK").NodeSelection,p=(e,t)=>Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e,c=e=>Object.assign(Object.create(e),e).setTime(Date.now()),u=(e,t)=>o=>{let n=o.doc.nodeAt(e),i=o.doc.resolve(e);return n&&h(i,t)?(o=r(Math.max((o=o.replaceWith(e,e+n.nodeSize,t)).selection.$from.pos-1,0),-1)(o),c(o=r(o.selection.$from.start())(o))):o},h=(e,t)=>{let o=e.node(e.depth);return o&&o.type.validContent(t instanceof i("5SAOw").Fragment?t:i("5SAOw").Fragment.from(t))},f=e=>t=>{let o=t.doc.nodeAt(e);return o?c(t.delete(e,e+o.nodeSize)):t},m=(e,t)=>{let o=e.index();return t instanceof i("5SAOw").Fragment?e.parent.canReplace(o,o,t):t instanceof i("5SAOw").Node&&e.parent.canReplaceWith(o,o,t.type)},E=e=>!e||"paragraph"===e.type.name&&2===e.nodeSize,g=e=>({$from:t,$to:o},n=!1)=>{if(n&&!t.sameParent(o)){let n=Math.min(t.depth,o.depth);for(;n>=0;){let r=t.node(n);if(o.node(n)===r&&e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r};n-=1}return}return _(t,e)},_=(e,t)=>{for(let o=e.depth;o>0;o--){let n=e.node(o);if(t(n))return{pos:o>0?e.before(o):0,start:e.start(o),depth:o,node:n}}},T=(e,t)=>o=>{let n=g(e)(o);if(n)return S(n.pos,t)},A=e=>t=>!!g(e)(t),I=e=>t=>g(t=>p(e,t))(t),O=e=>{let{nodeBefore:t}=e.$from,o=i("ks2lK").Selection.findFrom(e.$from,-1);if(o&&t){let e=I(t.type)(o);return e?e.pos:o.$from.pos}},S=(e,t)=>{let o=t(e),n=o.node.childNodes[o.offset];return o.node.nodeType===Node.TEXT_NODE&&o.node.parentNode?o.node.parentNode:n&&n.nodeType!==Node.TEXT_NODE?n:o.node},C=(e,t=!0)=>{if(!e)throw Error('Invalid "node" parameter');let o=[];return e.descendants((e,n)=>{if(o.push({node:e,pos:n}),!t)return!1}),o},R=(e,t,o=!0)=>{if(e){if(!t)throw Error('Invalid "predicate" parameter')}else throw Error('Invalid "node" parameter');return C(e,o).filter(e=>t(e.node))},N=(e,t,o=!0)=>R(e,e=>e.type===t,o);e.exports.removeParentNodeOfType=e=>t=>{let o=I(e)(t.selection);return o?f(o.pos)(t):t},e.exports.findParentNodeOfType=I,e.exports.replaceParentNodeOfType=o,e.exports.removeSelectedNode=e=>{if(d(e.selection)){let t=e.selection.$from.pos,o=e.selection.$to.pos;return c(e.delete(t,o))}return e},e.exports.isNodeSelection=d,e.exports.replaceSelectedNode=n,e.exports.setTextSelection=r,e.exports.safeInsert=(e,t,r)=>i=>{let s="number"==typeof t,{$from:p}=i.selection,u=s?i.doc.resolve(t):d(i.selection)?i.doc.resolve(p.pos+1):p,{parent:h}=u;if(d(i.selection)&&r&&i!==(i=n(e)(i)))return i;if(E(h)&&i!==(i=o(h.type,e)(i))){let t=a(e)?u.before(u.depth):u.pos;return l(e,t,i)}if(m(u,e)){i.insert(u.pos,e);let t=s?u.pos:a(e)?i.selection.$anchor.pos-1:i.selection.$anchor.pos;return c(l(e,t,i))}for(let t=u.depth;t>0;t--){let o=u.after(t);if(m(i.doc.resolve(o),e))return i.insert(o,e),c(l(e,o,i))}return i},e.exports.canInsert=m,e.exports.removeNodeBefore=e=>{let t=O(e.selection);return"number"==typeof t?f(t)(e):e},e.exports.findPositionOfNodeBefore=O,e.exports.findParentNode=g,e.exports.findParentNodeClosestToPos=_,e.exports.findDomRefAtPos=S,e.exports.hasParentNode=A,e.exports.findParentNodeOfTypeClosestToPos=(e,t)=>_(e,e=>p(t,e)),e.exports.hasParentNodeOfType=e=>t=>A(t=>p(e,t))(t),e.exports.findParentDomRefOfType=(e,t)=>o=>T(t=>p(e,t),t)(o),e.exports.findSelectedNodeOfType=e=>t=>{if(d(t)){let{node:o,$from:n}=t;if(p(e,o))return{node:o,start:n.start(),pos:n.pos,depth:n.depth}}},e.exports.flatten=C,e.exports.findChildren=R,e.exports.findChildrenByType=N,e.exports.contains=(e,t)=>!!N(e,t).length}),a("7XFGZ",function(e,t){class o{map(e){return new o(e.map(this.anchor),e.map(this.head))}resolve(e){let t=e.resolve(this.anchor),o=e.resolve(this.head);if("row"===t.parent.type.spec.tableRole&&"row"===o.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&o.index()<o.parent.childCount&&(0,i("bMyNT").inSameTable)(t,o)){let n={type:"cell",anchor:t.pos,head:o.pos};return i("ks2lK").Selection.fromJSON(e,n)}return i("ks2lK").Selection.near(o,1)}constructor(e,t){this.anchor=e,this.head=t}}class n extends i("ks2lK").Selection{map(e,t){let o=e.resolve(t.map(this.$anchorCell.pos)),r=e.resolve(t.map(this.$headCell.pos));if((0,i("3gZJH").pointsAtCell)(o)&&(0,i("3gZJH").pointsAtCell)(r)&&(0,i("bMyNT").inSameTable)(o,r)){let e=this.$anchorCell.node(-1)!==o.node(-1);return e&&this.isRowSelection()?n.rowSelection(o,r):e&&this.isColSelection()?n.colSelection(o,r):new n(o,r)}return i("ks2lK").TextSelection.between(o,r)}content(){let e=this.$anchorCell.node(-1),t=i("LmqWp").TableMap.get(e),o=this.$anchorCell.start(-1),n=t.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o),r={},a=[];for(let o=n.top;o<n.bottom;o++){let s=[];for(let a=o*t.width+n.left,l=n.left;l<n.right;l++,a++){let o=t.map[a];if(!r[o]){r[o]=!0;let a=t.findCell(o),l=e.nodeAt(o);if(null==l)throw Error(`No cell at position ${o}`);let d=n.left-a.left,p=a.right-n.right;if(d>0||p>0){let{attrs:e}=l;if(!e)throw Error(`No cell at position ${o}`);d>0&&(e=(0,i("jl382").removeColSpan)(e,0,d)),p>0&&(e=(0,i("jl382").removeColSpan)(e,e.colspan-p,p)),l=a.left<n.left?l.type.createAndFill(e):l.type.create(e,l.content)}if(null==l)throw Error("No cell at position after create/createAndFill");if(a.top<n.top||a.bottom>n.bottom){let e={...l.attrs,rowspan:Math.min(a.bottom,n.bottom)-Math.max(a.top,n.top)};l=a.top<n.top?l.type.createAndFill(e):l.type.create(e,l.content)}if(null==l)throw Error("No cell at position before rowContent.push");s.push(l)}}let l=e.child(o).copy(i("5SAOw").Fragment.from(s));a.push(l)}let s=this.isColSelection()&&this.isRowSelection()?e:a;return new(0,i("5SAOw").Slice)(i("5SAOw").Fragment.from(s),1,1)}replace(e,t=i("5SAOw").Slice.empty){let o=e.steps.length,{ranges:n}=this;for(let r=0;r<n.length;r++){let{$from:a,$to:s}=n[r],l=e.mapping.slice(o);e.replace(l.map(a.pos),l.map(s.pos),r?i("5SAOw").Slice.empty:t)}let r=i("ks2lK").Selection.findFrom(e.doc.resolve(e.mapping.slice(o).map(this.to)),-1);r&&e.setSelection(r)}replaceWith(e,t){this.replace(e,new(0,i("5SAOw").Slice)(i("5SAOw").Fragment.from(t),0,0))}forEachCell(e){let t=this.$anchorCell.node(-1),o=i("LmqWp").TableMap.get(t),n=this.$anchorCell.start(-1),r=o.cellsInRect(o.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n));for(let o=0;o<r.length;o++){let i=t.nodeAt(r[o]);if(null==i)throw Error(`undefined cell at pos ${r[o]}`);e(i,n+r[o])}}isColSelection(){if(!this.$anchorCell||!this.$headCell)throw Error("invalid $anchorCell or $headCell");let e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);return!(Math.min(e,t)>0)&&Math.max(e+this.$anchorCell.nodeAfter.attrs.rowspan,t+this.$headCell.nodeAfter.attrs.rowspan)===this.$headCell.node(-1).childCount}static colSelection(e,t=e){let o=e,r=t,a=i("LmqWp").TableMap.get(o.node(-1)),s=o.start(-1),l=a.findCell(o.pos-s),d=a.findCell(r.pos-s),p=o.node(0);return l.top<=d.top?(l.top>0&&(o=p.resolve(s+a.map[l.left])),d.bottom<a.height&&(r=p.resolve(s+a.map[a.width*(a.height-1)+d.right-1]))):(d.top>0&&(r=p.resolve(s+a.map[d.left])),l.bottom<a.height&&(o=p.resolve(s+a.map[a.width*(a.height-1)+l.right-1]))),new n(o,r)}isRowSelection(){if(!this.$anchorCell||!this.$headCell)return!1;let e=this.$anchorCell.start(-1),t=i("LmqWp").TableMap.get(this.$anchorCell.node(-1)),o=t.rowCount(this.$anchorCell.pos-e),n=t.rowCount(this.$headCell.pos-e),r=t.getMaxColInRow(this.$anchorCell);if(o===n&&this.ranges.length<=t.width&&!t.isPosMerged(this.$anchorCell.pos-e)&&!t.isPosMerged(this.$headCell.pos-e))return this.ranges.length===r;let a=t.colCount(this.$anchorCell.pos-e),s=t.colCount(this.$headCell.pos-e);return!(Math.min(a,s)>0)&&Math.max(a+this.$anchorCell.nodeAfter.attrs.colspan,s+this.$headCell.nodeAfter.attrs.colspan)===t.width}eq(e){return e instanceof n&&e.$anchorCell.pos===this.$anchorCell.pos&&e.$headCell.pos===this.$headCell.pos}static rowSelection(e,t=e,o=!1){let r=e,a=t,s=i("LmqWp").TableMap.get(r.node(-1)),l=r.start(-1),d=s.findCell(r.pos-l),p=s.findCell(a.pos-l),c=r.node(0);return d.left<=p.left?(d.left>0&&(r=c.resolve(l+s.map[d.top*s.width])),p.right<s.width&&(a=c.resolve(l+s.map[s.width*(p.top+1)-1]))):(p.left>0&&(a=c.resolve(l+s.map[p.top*s.width])),d.right<s.width&&(r=c.resolve(l+s.map[s.width*(d.top+1)-1]))),o?new n(a,r):new n(r,a)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,t){return new n(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,o=t){return new n(e.resolve(t),e.resolve(o))}getBookmark(){return new o(this.$anchorCell.pos,this.$headCell.pos)}constructor(e,t=e){let o=function(e,t){let o=e.node(-1),n=i("LmqWp").TableMap.get(o),r=e.start(-1),a=n.rectBetween(e.pos-r,t.pos-r),s=e.node(0),l=n.cellsInRect(a).filter(e=>e!==t.pos-r);return l.unshift(t.pos-r),l.map(e=>{let t=o.nodeAt(e);if(null===t)throw Error(`No cell at position ${e}`);let n=e+r+1;return new(0,i("ks2lK").SelectionRange)(s.resolve(n),s.resolve(n+t.content.size))})}(e,t);super(o[0].$from,o[0].$to,o),this.$anchorCell=void 0,this.$headCell=void 0,this.visible=void 0,this.$anchorCell=e,this.$headCell=t,this.visible=!1}}i("ks2lK").Selection.jsonID("cell",n),e.exports.CellSelection=n}),a("bMyNT",function(e,t){e.exports.isInTable=function(e){let{$head:t}=e.selection;for(let e=t.depth;e>0;e--)if("row"===t.node(e).type.spec.tableRole)return!0;return!1},e.exports.inSameTable=function(e,t){return e.depth===t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}}),a("LmqWp",function(e,t){let o,n;if("undefined"!=typeof WeakMap){let e=new WeakMap;o=t=>e.get(t),n=(t,o)=>(e.set(t,o),o)}else{let e=[],t=0;o=t=>{for(let o=0;o<e.length;o+=2)if(e[o]===t)return e[o+1]},n=(o,n)=>(10===t&&(t=0),e[t++]=o,e[t++]=n)}class r{constructor(e,t,o,n){this.left=void 0,this.top=void 0,this.right=void 0,this.bottom=void 0,this.left=e,this.top=t,this.right=o,this.bottom=n}}var i,a=((i={}).COLLISION="collision",i.OVERLONG_ROWSPAN="overlong_rowspan",i.MISSING="missing",i.COLWIDTH_MISMATCH="colwidth mismatch",i);class s{findCell(e){for(let t=0;t<this.map.length;t++){let o=this.map[t];if(o!==e)continue;let n=t%this.width,i=t/this.width|0,a=n+1,s=i+1;for(let e=1;a<this.width&&this.map[t+e]===o;e++)a++;for(let e=1;s<this.height&&this.map[t+this.width*e]===o;e++)s++;return new r(n,i,a,s)}throw RangeError("No cell with offset "+e+" found")}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]===e)return t%this.width;throw RangeError("No cell with offset "+e+" found")}rowCount(e){if(this.width<=0)throw RangeError("Wrong table width found");for(let t=0;t<this.map.length;t++)if(this.map[t]===e)return Math.floor(t/this.width);throw RangeError("No cell with offset "+e+" found")}isPosMerged(e){return this.map.includes(e,this.map.indexOf(e)+1)}isCellMerged(e,t){return this.isCellMergedTopLeft(e,t)||this.isCellMergedBottomRight(e,t)}isCellMergedTopLeft(e,t){let o=this.map[e*this.width+t];return e>0&&o===this.map[(e-1)*this.width+t]||t>0&&o===this.map[e*this.width+(t-1)]}isCellMergedBottomRight(e,t){let o=this.map[e*this.width+t];return e<this.height-1&&o===this.map[(e+1)*this.width+t]||t<this.width-1&&o===this.map[e*this.width+(t+1)]}nextCell(e,t,o){let{left:n,right:r,top:i,bottom:a}=this.findCell(e);return"horiz"===t?(o<0?0===n:r===this.width)?null:this.map[i*this.width+(o<0?n-1:r)]:(o<0?0===i:a===this.height)?null:this.map[n+this.width*(o<0?i-1:a)]}rectBetween(e,t){let{left:o,right:n,top:i,bottom:a}=this.findCell(e),{left:s,right:l,top:d,bottom:p}=this.findCell(t);return new r(Math.min(o,s),Math.min(i,d),Math.max(n,l),Math.max(a,p))}cellsInRect(e){let t=[],o={};for(let n=e.top;n<e.bottom;n++)for(let r=e.left;r<e.right;r++){let i=n*this.width+r,a=this.map[i];!o[a]&&(o[a]=!0,r===e.left&&r&&this.map[i-1]===a||n===e.top&&n&&this.map[i-this.width]===a||t.push(a))}return t}positionAt(e,t,o){for(let n=0,r=0;;n++){let i=r+o.child(n).nodeSize;if(n===e){let o=t+e*this.width,n=(e+1)*this.width;for(;o<n&&this.map[o]<r;)o++;return o===n?i-1:this.map[o]}r=i}}getMaxColInRow(e){let t=e.parent;if("tableRow"===t.type.name)return t.childCount}hasMergedCells(){return new Set(this.map).size!==this.map.length}static get(e){return o(e)||n(e,function(e){if("table"!==e.type.spec.tableRole)throw RangeError("Not a table node: "+e.type.name);let t=function(e){let t=-1,o=!1;for(let n=0;n<e.childCount;n++){let r=e.child(n),i=0;if(o)for(let t=0;t<n;t++){let o=e.child(t);for(let e=0;e<o.childCount;e++){let r=o.child(e);t+r.attrs.rowspan>n&&(i+=r.attrs.colspan)}}for(let e=0;e<r.childCount;e++){let t=r.child(e);i+=t.attrs.colspan,t.attrs.rowspan>1&&(o=!0)}-1===t?t=i:t!==i&&(t=Math.max(t,i))}return t}(e),o=e.childCount,n=[],r=[],i=0,a=null;for(let e=0,r=t*o;e<r;e++)n[e]=0;for(let s=0,l=0;s<o;s++){let d=e.child(s);l++;for(let e=0;;e++){for(;i<n.length&&0!==n[i];)i++;if(e===d.childCount)break;let p=d.child(e),{colspan:c,rowspan:u,colwidth:h}=p.attrs;for(let e=0;e<u;e++){if(e+s>=o){(a||(a=[])).push({type:"overlong_rowspan",pos:l,n:u-e});break}let d=i+e*t;for(let e=0;e<c;e++){0===n[d+e]?n[d+e]=l:(a||(a=[])).push({type:"collision",row:s,pos:l,n:c-e});let o=h&&h[e];if(o){let n=(d+e)%t*2,i=r[n];null==i||i!==o&&1===r[n+1]?(r[n]=o,r[n+1]=1):i===o&&r[n+1]++}}}i+=c,l+=p.nodeSize}let p=(s+1)*t,c=0;for(;i<p;)0===n[i++]&&c++;c&&(a||(a=[])).push({type:"missing",row:s,n:c}),l++}let l=Array(o),d=Array(t);for(let e=0;e<n.length;e++){let o=e%t;d[o]=d[o]??[],d[o].push(n[e]);let r=Math.trunc(e/t);l[r]=l[r]??[],l[r].push(n[e])}let p=new s(t,o,n,a,d,l),c=!1;for(let e=0;!c&&e<r.length;e+=2)null!=r[e]&&r[e+1]<o&&(c=!0);if(r.length>0&&r.length!==2*t){for(let e=0;e<2*t-r.length;e++)r.push(140,0);c=!0}return c&&function(e,t,o){e.problems||(e.problems=[]);let n={};for(let r=0;r<e.map.length;r++){let i=e.map[r];if(n[i])continue;n[i]=!0;let a=o.nodeAt(i),s=null;for(let o=0;o<a.attrs.colspan;o++){let n=t[2*((r+o)%e.width)];null==n||a.attrs.colwidth&&a.attrs.colwidth[o]===n||((s||(s=function(e){if(e.colwidth)return e.colwidth.slice();let t=[];for(let o=0;o<e.colspan;o++)t.push(0);return t}(a.attrs)))[o]=n)}s&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:s})}}(p,r,e),p}(e))}constructor(e,t,o,n,r,i){this.width=void 0,this.height=void 0,this.map=void 0,this.problems=void 0,this.mapByColumn=[],this.mapByRow=[],this.width=e,this.height=t,this.mapByColumn=r||[],this.mapByRow=i||[],this.map=o,this.problems=n}}e.exports.Rect=r,e.exports.TableProblemTypes=a,e.exports.TableMap=s}),a("3gZJH",function(e,t){e.exports.pointsAtCell=function(e){return"row"===e.parent.type.spec.tableRole&&e.nodeAfter},e.exports.cellNear=function(e){for(let t=e.nodeAfter,{pos:o}=e;t;t=t.firstChild,o++){let n=t.type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.doc.resolve(o)}for(let t=e.nodeBefore,{pos:o}=e;t;t=t.lastChild,o--){let n=t.type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.doc.resolve(o-t.nodeSize)}return null},e.exports.cellAround=function(e){for(let t=e.depth-1;t>0;t--)if("row"===e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null},e.exports.nextCell=function(e,t,o){let n=e.start(-1),r=i("LmqWp").TableMap.get(e.node(-1)).nextCell(e.pos-n,t,o);return null==r?null:e.node(0).resolve(n+r)}}),a("jl382",function(e,t){function o(e){if(void 0===e.colspan)throw Error("addColSpan: attrs.colspan is not defined");if("number"!=typeof e.colspan||Number.isNaN(e.colspan)||e.colspan<1)throw Error(`addColSpan: attrs.colspan must be number >= 1, received: ${e.colspan}`)}e.exports.removeColSpan=function(e,t,o=1){if(!e.colspan)throw Error("removeColSpan(): attrs.colspan not defined");let n={...e,colspan:e.colspan-o};return n.colwidth&&(n.colwidth=n.colwidth.slice(),n.colwidth.splice(t,o),n.colwidth.some(e=>e>0)||(n.colwidth=void 0)),n},e.exports.assertColspan=o,e.exports.addColSpan=function(e,t,n=1){o(e);let r={...e,colspan:e.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let e=0;e<n;e++)r.colwidth.splice(t,0,0)}return r}}),a("4vlwG",function(e,t){function o(e,t){if(!e)return null;let o=e;if(!document.documentElement||!document.documentElement.contains(o))return null;if(o.closest)return o.closest(t);do{let e=o.matches?o.matches:o.msMatchesSelector;if(e&&e.call(o,t))return o;o=o.parentElement||o.parentNode}while(null!==o&&1===o.nodeType)return null}e.exports.walkUpTreeUntil=function(e,t){let o=e;for(;o&&o.parentElement&&!t(o);)o=o.parentElement;return o},e.exports.unwrap=function(e,t){let o=document.createDocumentFragment();Array.from(t.children).forEach(e=>{o.appendChild(e)}),e.replaceChild(o,t)},e.exports.removeNestedEmptyEls=function(e){for(;e.parentElement&&0===e.childElementCount&&""===e.textContent;){let t=e.parentElement;t.removeChild(e),e=t}},e.exports.containsClassName=(e,t)=>!!e&&(e.classList&&e.classList.contains?e.classList.contains(t):!!e.className&&-1!==("string"==typeof e.className.baseVal?e.className.baseVal:e.className).split(" ").indexOf(t)),e.exports.closest=o,e.exports.closestElement=function(e,t){return o(e,t)},e.exports.parsePx=function(e){if(!e.endsWith("px"))return;let t=parseInt(e,10);return Number.isNaN(t)?void 0:t},e.exports.maphElem=function(e,t){let o=[];for(let n=0;n<e.childElementCount;n++)o.push(t(e.children[n],n,e));return o}}),a("6VsTy",function(e,t){var o=i("1oCLl");let n=e=>e instanceof i("5SAOw").Node||Array.isArray(e.marks);e.exports.createProseMirrorMetadata=(e,t)=>{let r=e.type.name,i=n(e),a={"data-prosemirror-content-type":i?"node":"mark"};return i?(a["data-prosemirror-node-name"]=r,e.type.isBlock&&(a["data-prosemirror-node-block"]="true"),e.type.isInline&&(a["data-prosemirror-node-inline"]="true"),t?.anchrorId!==void 0&&(0,o.expValEquals)("platform_editor_native_anchor_with_dnd","isEnabled",!0)&&(a["data-node-anchor"]=t.anchrorId),a):{...a,"data-prosemirror-mark-name":r}}}),a("04H9b",function(e,t){let o="--ed-pm-node-anchor",n=(0,i("2XqLN").default)(()=>"undefined"!=typeof window&&!!window.CSS&&"function"==typeof window.CSS.supports),r=(0,i("2XqLN").default)(()=>!!n()&&CSS.supports("anchor-name","attr(data-anchor-name type(<custom-ident>))")),a=(0,i("2XqLN").default)(()=>{if(n())return CSS.supports("anchor-name","--anchor")});(0,i("9K4OG").css)({".ProseMirror":{"[data-node-anchor]":{anchorName:`var(${o}, attr(data-node-anchor type(<custom-ident>)))`}}}),e.exports.ANCHOR_VARIABLE_NAME=o,e.exports.isCSSAttrAnchorSupported=r,e.exports.isCSSAnchorSupported=a}),a("ahUGI",function(e,t){let o=(0,i("cgtv4").defineMessages)({createComment:{id:"fabric.editor.createComment",defaultMessage:"Comment"},createCommentInvalid:{id:"fabric.editor.createCommentInvalid",defaultMessage:"You can only comment on text and headings"},createCommentDisabled:{id:"fabric.editor.createCommentDisabled",defaultMessage:"You can only comment on text, headings, emojis, dates, mentions, links, and statuses."},noPermissionToAddComment:{id:"fabric.editor.noPermissionToAddComment",defaultMessage:"{contentType, select, blogpost {You do not have permission to add comments to this blogpost} page {You do not have permission to add comments to this page} other {You do not have permission to add comments to this page}}"},toolbar:{id:"fabric.editor.annotationToolbar",defaultMessage:"Annotation toolbar"}});e.exports.annotationMessages=o}),a("4HWgE",function(e,t){let o=(0,i("cgtv4").defineMessages)({action:{id:"fabric.editor.action",defaultMessage:"Action item"},actionDescription:{id:"fabric.editor.action.description",defaultMessage:"Create and assign action items"},closeInsertRightRail:{id:"fabric.editor.insertRightRail.close",defaultMessage:"Close"},link:{id:"fabric.editor.link",defaultMessage:"Link"},linkDescription:{id:"fabric.editor.link.description",defaultMessage:"Insert a link"},mediaFiles:{id:"fabric.editor.mediaFiles",defaultMessage:"Image, video, or file"},addMediaFiles:{id:"fabric.editor.addMediaFiles",defaultMessage:"Add image, video, or file"},insertRightRailTitle:{id:"fabric.editor.insertRightRail.title",defaultMessage:"Insert"},mediaFilesDescription:{id:"fabric.editor.mediaFiles.description",defaultMessage:"Add images and other files to your page"},image:{id:"fabric.editor.image",defaultMessage:"Image"},mention:{id:"fabric.editor.mention",defaultMessage:"Mention"},mentionDescription:{id:"fabric.editor.mention.description",defaultMessage:"Mention someone to send them a notification"},emoji:{id:"fabric.editor.emoji",defaultMessage:"Emoji"},emojiDescription:{id:"fabric.editor.emoji.description",defaultMessage:"Use emojis to express ideas \uD83C\uDF89 and emotions \uD83D\uDE04"},table:{id:"fabric.editor.table",defaultMessage:"Table"},tableDescription:{id:"fabric.editor.table.description",defaultMessage:"Insert a table"},tableSelector:{id:"fabric.editor.tableSelector",defaultMessage:"Table size"},tableSelectorDescription:{id:"fabric.editor.tableSelector.description",defaultMessage:"Add a table using popup to select a custom size"},tableSizeSelectorButton:{id:"fabric.editor.tableSizeSelectorButton",defaultMessage:"{numberOfColumns} by {numberOfRows}"},tableSizeSelectorPopup:{id:"fabric.editor.tableSizeSelectorPopup",defaultMessage:"Table size selector"},expand:{id:"fabric.editor.expand",defaultMessage:"Expand"},expandDescription:{id:"fabric.editor.expand.description",defaultMessage:"Insert an expand"},decision:{id:"fabric.editor.decision",defaultMessage:"Decision"},decisionDescription:{id:"fabric.editor.decision.description",defaultMessage:"Capture decisions so they’re easy to track"},feedbackDialog:{id:"fabric.editor.feedbackDialog",defaultMessage:"Give feedback"},feedbackDialogDescription:{id:"fabric.editor.feedbackDialog.description",defaultMessage:"Tell us about your experience using the cloud editor"},horizontalRule:{id:"fabric.editor.horizontalRule",defaultMessage:"Divider"},horizontalRuleDescription:{id:"fabric.editor.horizontalRule.description",defaultMessage:"Separate content with a horizontal line"},date:{id:"fabric.editor.date",defaultMessage:"Date"},dateDescription:{id:"fabric.editor.date.description",defaultMessage:"Add a date using a calendar"},placeholderText:{id:"fabric.editor.placeholderText",defaultMessage:"Placeholder text"},placeholderTextDescription:{id:"fabric.editor.placeholderText.description",defaultMessage:"Insert a text placeholder into the page"},columns:{id:"fabric.editor.columns",defaultMessage:"Layouts"},columnsDescription:{id:"fabric.editor.columns.description",defaultMessage:"Structure your page using sections"},columnsDescriptionAdvancedLayout:{id:"fabric.editor.columns.advanced.layout.description",defaultMessage:"Insert {numberOfColumns} equal {numberOfColumns, plural, one {column} other {columns}}"},singleColumnsDescriptionAdvancedLayout:{id:"fabric.editor.columns.advanced.layout.single.description",defaultMessage:"Insert a single column layout"},status:{id:"fabric.editor.status",defaultMessage:"Status"},statusDescription:{id:"fabric.editor.status.description",defaultMessage:"Add a custom status label"},viewMore:{id:"fabric.editor.viewMore",defaultMessage:"View more"},viewMoreAriaLabel:{id:"fabric.editor.viewMoreAriaLabel",defaultMessage:"View all elements"},insertMenu:{id:"fabric.editor.insertMenu",defaultMessage:"Insert elements"},help:{id:"fabric.editor.help",defaultMessage:"Help"},helpDescription:{id:"fabric.editor.help.description",defaultMessage:"Browse all the keyboard shortcuts and markdown options"},recordVideo:{id:"fabric.editor.recordVideo",defaultMessage:"Record a Loom video"},addLoomVideo:{id:"fabric.editor.addLoomVideo",defaultMessage:"Record a Loom video"},addLoomVideoComment:{id:"fabric.editor.addLoomVideoComment",defaultMessage:"Record a Loom video comment"},recordVideoDescription:{id:"fabric.editor.recordVideo.description",defaultMessage:"Record and share your screen and thoughts"},recordLoomShortTitle:{id:"fabric.editor.recordLoomShortTitle",defaultMessage:"Record"},turnInto:{id:"fabric.editor.turnInto",defaultMessage:"Turn into"}});e.exports.toolbarInsertBlockMessages=o}),a("3pLGZ",function(t,o){var n=i("42omo"),r=i("4wH3g");let a=e(r)({__loadable_id__:"5IpRi",name:"IconAction",loader:()=>i("5yhmU").then(e=>e.default),loading:()=>null}),s=e(r)({__loadable_id__:"Ru1gk",name:"IconCode",loader:()=>i("6uNKj").then(e=>e.default),loading:()=>null}),l=e(r)({__loadable_id__:"v8J9P",name:"IconDate",loader:()=>i("5YPWf").then(e=>e.default),loading:()=>null}),d=e(r)({__loadable_id__:"hRamb",name:"IconDecision",loader:()=>i("kAAUV").then(e=>e.default),loading:()=>null}),p=e(r)({__loadable_id__:"tltrl",name:"IconDivider",loader:()=>i("7we1w").then(e=>e.default),loading:()=>null}),c=e(r)({__loadable_id__:"Erkg9",name:"IconEmoji",loader:()=>i("jBGRu").then(e=>e.default),loading:()=>null}),u=e(r)({__loadable_id__:"XfrX5",name:"IconImages",loader:()=>i("iyJhb").then(e=>e.default),loading:()=>null}),h=e(r)({__loadable_id__:"WFuTK",name:"IconLayout",loader:()=>i("5o7UN").then(e=>e.default),loading:()=>null}),f=e(r)({__loadable_id__:"gbpgO",name:"IconLink",loader:()=>i("5Lmiw").then(e=>e.default),loading:()=>null}),m=e(r)({__loadable_id__:"YMJ_i",name:"IconListNumber",loader:()=>i("4hslg").then(e=>e.default),loading:()=>null}),E=e(r)({__loadable_id__:"fOk38",name:"IconList",loader:()=>i("bq7Rk").then(e=>e.default),loading:()=>null}),g=e(r)({__loadable_id__:"7uj_h",name:"IconMention",loader:()=>i("iww0k").then(e=>e.default),loading:()=>null}),_=e(r)({__loadable_id__:"Cs6_K",name:"IconPanelError",loader:()=>i("947V2").then(e=>e.default),loading:()=>null}),T=e(r)({__loadable_id__:"hzniQ",name:"IconPanelNote",loader:()=>i("hfB5c").then(e=>e.default),loading:()=>null}),A=e(r)({__loadable_id__:"miuZY",name:"IconPanelSuccess",loader:()=>i("eKHyH").then(e=>e.default),loading:()=>null}),I=e(r)({__loadable_id__:"QZPBB",name:"IconPanelWarning",loader:()=>i("iSjEQ").then(e=>e.default),loading:()=>null}),O=e(r)({__loadable_id__:"F1uzJ",name:"IconPanel",loader:()=>i("ksyXb").then(e=>e.default),loading:()=>null}),S=e(r)({__loadable_id__:"f_9Lp",name:"IconQuote",loader:()=>i("j60A9").then(e=>e.default),loading:()=>null}),C=e(r)({__loadable_id__:"dMybO",name:"IconStatus",loader:()=>i("amSpc").then(e=>e.default),loading:()=>null}),R=e(r)({__loadable_id__:"1onub",name:"IconOneColumnLayout",loader:()=>i("lLGqC").then(e=>e.default),loading:()=>null}),N=e(r)({__loadable_id__:"6-NfL",name:"IconTwoColumnLayout",loader:()=>i("fVB3P").then(e=>e.default),loading:()=>null}),b=e(r)({__loadable_id__:"O0AJE",name:"IconThreeColumnLayout",loader:()=>i("jIV2s").then(e=>e.default),loading:()=>null}),M=e(r)({__loadable_id__:"VvfLh",name:"IconFourColumnLayout",loader:()=>i("hz9pa").then(e=>e.default),loading:()=>null}),D=e(r)({__loadable_id__:"pum24",name:"IconFiveColumnLayout",loader:()=>i("iJmaZ").then(e=>e.default),loading:()=>null}),w=e(r)({__loadable_id__:"fnF2w",name:"IconFeedback",loader:()=>i("iIxQ6").then(e=>e.default),loading:()=>null}),x=e(r)({__loadable_id__:"sGpBl",name:"IconExpand",loader:()=>i("imsHR").then(e=>e.default),loading:()=>null}),L=e(r)({__loadable_id__:"RIvxZ",name:"IconDatasourceJiraIssue",loader:()=>i("4qJPu").then(e=>e.default),loading:()=>null}),v=e(r)({__loadable_id__:"mJ_ZJ",name:"IconDatasourceAssetsObjects",loader:()=>i("3U4LN").then(e=>e.default),loading:()=>null}),y=e(r)({__loadable_id__:"Ib_id",name:"IconDatasourceConfluenceSearch",loader:()=>i("649WQ").then(e=>e.default),loading:()=>null});e(r)({__loadable_id__:"QB-q-",name:"IconLoom",loader:()=>i("cgfCd").then(e=>e.default),loading:()=>null});let P=e(r)({__loadable_id__:"XCScQ",name:"IconSyncBlock",loader:()=>i("iPyjx").then(e=>e.default),loading:()=>null});t.exports.IconAction=a,t.exports.IconCode=s,t.exports.IconDate=l,t.exports.IconDecision=d,t.exports.IconDivider=p,t.exports.IconEmoji=c,t.exports.IconImages=u,t.exports.IconLayout=h,t.exports.IconLink=f,t.exports.IconListNumber=m,t.exports.IconList=E,t.exports.IconMention=g,t.exports.IconPanelError=_,t.exports.IconPanelNote=T,t.exports.IconPanelSuccess=A,t.exports.IconPanelWarning=I,t.exports.IconPanel=O,t.exports.IconQuote=S,t.exports.IconStatus=C,t.exports.IconOneColumnLayout=R,t.exports.IconTwoColumnLayout=N,t.exports.IconThreeColumnLayout=b,t.exports.IconFourColumnLayout=M,t.exports.IconFiveColumnLayout=D,t.exports.IconHeading=({level:t,...o})=>{let a=e(r)({__loadable_id__:"DCCGQ",name:"Icon",loader:()=>(function(e){switch(e){case 1:return i("5kAVx");case 2:return i("c1e8q");case 3:return i("a4ten");case 4:return i("1fA4V");case 5:return i("9iDsT");default:return i("134VK")}})(t).then(e=>e.default),loading:()=>null});return e(n).createElement(a,o)},t.exports.IconFeedback=w,t.exports.IconExpand=x,t.exports.IconDatasourceJiraIssue=L,t.exports.IconDatasourceAssetsObjects=v,t.exports.IconDatasourceConfluenceSearch=y,t.exports.IconSyncBlock=P}),a("5yhmU",function(e,t){e.exports=i("4mJKd")(5)("jcdL6").then(()=>i("jZQow"))}),a("4mJKd",function(e,t){e.exports=e=>t=>import(i("8tirZ").shardUrl(i("02nRr").resolve(t),e))}),a("8tirZ",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.applyShardToDomain=a,e.exports.domainShardingKey=void 0,e.exports.getDomainShardIndex=n,e.exports.shardUrl=function(e,t){return globalThis[o]?s(e,t):e},e.exports.shardUrlUnchecked=s;let o="__ATLASPACK_ENABLE_DOMAIN_SHARDS";function n(e,t){let o=t+1,n=e.split("").reduce((e,t)=>{let n=(e<<o)-e+t.charCodeAt(0);return n&n},0);return(n%=o)<0&&(n+=o),n}let r=/-\d+$/;function i(e){if(!r.test(e))return e;let t=e.lastIndexOf("-");return e.slice(0,t)}function a(e,t){let o=e.indexOf("."),n=0===t?"":`-${t-1}`;if(-1===o)return`${i(e)}${n}`;let r=i(e.slice(0,o));return`${r}${n}${e.slice(o)}`}function s(e,t){let o=new URL(e),r=n(function(e){let t=e.lastIndexOf("/");if(-1===t||t===e.length-1)throw Error("Expected an absolute URL with a file name, unable to apply sharding.");return e.slice(t+1)}(o.pathname),t);return o.hostname=a(o.hostname,r),o.toString()}e.exports.domainShardingKey=o}),a("02nRr",function(e,o){t(e.exports,"register",()=>n,e=>n=e),t(e.exports,"resolve",()=>r,e=>r=e);var n,r,i=new Map;n=function(e,t){for(var o=0;o<t.length-1;o+=2)i.set(t[o],{baseUrl:e,path:t[o+1]})},r=function(e){var t=i.get(e);if(null==t)throw Error("Could not resolve bundle with id "+e);return new URL(t.path,t.baseUrl).toString()}}),a("6uNKj",function(e,t){e.exports=i("4mJKd")(5)("8SMhH").then(()=>i("d8nfK"))}),a("5YPWf",function(e,t){e.exports=i("4mJKd")(5)("bxYOE").then(()=>i("f6K6R"))}),a("kAAUV",function(e,t){e.exports=i("4mJKd")(5)("f0zmS").then(()=>i("3ZJ4A"))}),a("7we1w",function(e,t){e.exports=i("4mJKd")(5)("ggLwo").then(()=>i("8pw0K"))}),a("jBGRu",function(e,t){e.exports=i("4mJKd")(5)("1p2DU").then(()=>i("h7BLL"))}),a("iyJhb",function(e,t){e.exports=i("4mJKd")(5)("1RKLZ").then(()=>i("dl1AA"))}),a("5o7UN",function(e,t){e.exports=i("4mJKd")(5)("7i9aD").then(()=>i("hdtwr"))}),a("5Lmiw",function(e,t){e.exports=i("4mJKd")(5)("4VRIj").then(()=>i("13fHE"))}),a("4hslg",function(e,t){e.exports=i("4mJKd")(5)("djSOz").then(()=>i("3vm3R"))}),a("bq7Rk",function(e,t){e.exports=i("4mJKd")(5)("irpaz").then(()=>i("4OBP7"))}),a("iww0k",function(e,t){e.exports=i("4mJKd")(5)("3SeOO").then(()=>i("8VXJy"))}),a("947V2",function(e,t){e.exports=i("4mJKd")(5)("5se79").then(()=>i("hp0db"))}),a("hfB5c",function(e,t){e.exports=i("4mJKd")(5)("9bXCA").then(()=>i("4zQBS"))}),a("eKHyH",function(e,t){e.exports=i("4mJKd")(5)("1WrE2").then(()=>i("aB2Pi"))}),a("iSjEQ",function(e,t){e.exports=i("4mJKd")(5)("fnpAC").then(()=>i("6HuPb"))}),a("ksyXb",function(e,t){e.exports=i("4mJKd")(5)("gMSS1").then(()=>i("cXyPv"))}),a("j60A9",function(e,t){e.exports=i("4mJKd")(5)("e1MXN").then(()=>i("bpr27"))}),a("amSpc",function(e,t){e.exports=i("4mJKd")(5)("4dn8m").then(()=>i("khkEv"))}),a("lLGqC",function(e,t){e.exports=i("4mJKd")(5)("9E19j").then(()=>i("f85Xb"))}),a("fVB3P",function(e,t){e.exports=i("4mJKd")(5)("bDOK7").then(()=>i("bQhfP"))}),a("jIV2s",function(e,t){e.exports=i("4mJKd")(5)("jhuLr").then(()=>i("b395l"))}),a("hz9pa",function(e,t){e.exports=i("4mJKd")(5)("gMvtj").then(()=>i("k5Wqo"))}),a("iJmaZ",function(e,t){e.exports=i("4mJKd")(5)("7unhY").then(()=>i("iN9qS"))}),a("5kAVx",function(e,t){e.exports=i("4mJKd")(5)("aKgoC").then(()=>i("wwOu8"))}),a("c1e8q",function(e,t){e.exports=i("4mJKd")(5)("9ygQy").then(()=>i("il5Of"))}),a("a4ten",function(e,t){e.exports=i("4mJKd")(5)("kTaDo").then(()=>i("kXpRb"))}),a("1fA4V",function(e,t){e.exports=i("4mJKd")(5)("d2kuO").then(()=>i("dSkkf"))}),a("9iDsT",function(e,t){e.exports=i("4mJKd")(5)("6wLYX").then(()=>i("jNfYo"))}),a("134VK",function(e,t){e.exports=i("4mJKd")(5)("eVKfF").then(()=>i("kX158"))}),a("iIxQ6",function(e,t){e.exports=i("4mJKd")(5)("b4NwV").then(()=>i("8cB3R"))}),a("imsHR",function(e,t){e.exports=i("4mJKd")(5)("h9aqE").then(()=>i("gsXh4"))}),a("4qJPu",function(e,t){e.exports=i("4mJKd")(5)("jXrdN").then(()=>i("25bHO"))}),a("3U4LN",function(e,t){e.exports=i("4mJKd")(5)("9Bneg").then(()=>i("7u3NV"))}),a("649WQ",function(e,t){e.exports=i("4mJKd")(5)("1lXr0").then(()=>i("1brNQ"))}),a("cgfCd",function(e,t){e.exports=i("4mJKd")(5)("bHGMG").then(()=>i("3pTCH"))}),a("iPyjx",function(e,t){e.exports=i("4mJKd")(5)("4glJk").then(()=>i("4gZJG"))}),a("lOELb",function(e,t){var o,n,r=((o={}).EMOJI="emojiTypeAhead",o.MENTION="mentionTypeAhead",o.QUICK_INSERT="quickInsertTypeAhead",o),i=((n={}).SHIFT_ENTER="shift-enter",n.ENTER="enter",n.SPACE="space",n.SELECTED="selected",n.TAB="tab",n);e.exports.TypeAheadAvailableNodes=r,e.exports.SelectItemMode=i}),a("6h7hA",function(e,t){let o=(0,i("cgtv4").defineMessages)({typeAheadPopupLabel:{id:"fabric.editor.typeAhead.popupLabel",defaultMessage:"Typeahead results"},quickInsertPopupLabel:{id:"fabric.editor.typeAhead.quickInsertPopupLabel",defaultMessage:"Shortcuts for inserts and formatting"},quickInsertInputLabel:{id:"fabric.editor.typeAhead.quickInsertInputLabel",defaultMessage:"Begin typing to search or filter shortcut options"},quickInsertInputPlaceholderLabel:{id:"fabric.editor.typeAhead.quickInsertInputPlaceholderLabel",defaultMessage:"Search"},emojiPopupLabel:{id:"fabric.editor.typeahead.emojiPopupLabel",defaultMessage:"Emoji shortcuts"},emojiInputLabel:{id:"fabric.editor.typeahead.emojiInputLabel",defaultMessage:"Begin typing to search or filter emoji options"},mentionPopupLabel:{id:"fabric.editor.typeahead.mentionPopupLabel",defaultMessage:"Users you can tag"},mentionInputLabel:{id:"fabric.editor.typeahead.mentionInputLabel",defaultMessage:"Begin typing to search for users to tag"},metionListItemLabel:{id:"fabric.editor.typeahead.metionListItemLabel",defaultMessage:"User {name} @{shortName}"},emojiListItemLabel:{id:"fabric.editor.typeahead.emojiListItemLabel",defaultMessage:"Emoji {name} Text Shortcut {shortcut}"},inputQueryAssistiveLabel:{id:"fabric.editor.inputQueryAssistiveTxt",defaultMessage:"When autocomplete results are available use up and down arrows to review and enter to select. Touch device users, explore by touch or with swipe gestures."},searchResultsLabel:{id:"fabric.editor.searchResults",defaultMessage:"{itemsLength, plural, one {# search result} other {# search results}} available. Use Up and Down arrow keys to navigate amongst the options. Press Enter to select an option."},noSearchResultsLabel:{id:"fabric.editor.noSearchResults",defaultMessage:"No search results"},descriptionLabel:{id:"fabric.editor.description",defaultMessage:"Description"},shortcutLabel:{id:"fabric.editor.shortcut",defaultMessage:"Text shortcut"},typeAheadErrorFallbackHeading:{id:"fabric.editor.typeAheadErrorFallbackHeading",defaultMessage:"Something went wrong"},typeAheadErrorFallbackDesc:{id:"fabric.editor.typeAheadErrorFallbackDescription",defaultMessage:"No results available. Try again."},viewAllInserts:{id:"fablric.editor.viewAllInserts",defaultMessage:"View all inserts"},emptySearchResults:{id:"fabric.editor.emptySearchResults",defaultMessage:"We couldn't find any results."},emptySearchResultsSuggestion:{id:"fabric.editor.emptySearchResultsSuggestion",defaultMessage:"Select {buttonName} to browse inserts."}});e.exports.typeAheadListMessages=o}),a("lNDSG",function(e,t){var o=i("8m4tT");let n=(e,t)=>({top:(e.top||0)+t.height/1.15,left:e.right-t.width/2});e.exports.calculateToolbarPositionAboveSelection=e=>(t,o)=>{let r=document.querySelector(`div[aria-label="${e}"]`);if(!r)return o;let i=t.dom.closest(".fabric-editor-popup-scroll-parent")||document.body,a=i.getBoundingClientRect(),s=window&&window.getSelection(),l=s&&!s.isCollapsed&&s.getRangeAt(0);if(!l)return o;let d=r.getBoundingClientRect(),{head:p,anchor:c}=t.state.selection,u=t.coordsAtPos(Math.min(p,c)),h=t.coordsAtPos(Math.max(p,c)-Math.min(l.endOffset,1)),f=(u.top||0)-1.5*d.height,m=0;if(u.top!==h.top){m=p>c?Math.max(u.right,h.right):Math.min(u.left,h.left);let e=l.getClientRects()[0];e.right<m&&(m=e.left+e.width/2)}else m=u.left+(h.right-u.left)/2;return m-=d.width/2,f<a.top&&({top:f,left:m}=n(h,d)),{top:f-a.top+i.scrollTop,left:Math.max(0,m-a.left)}},e.exports.calculateToolbarPositionTrackHead=e=>(t,o)=>{let r,a=document.querySelector(`div[aria-label="${e}"]`);if(!a)return o;let s=t.dom.closest(".fabric-editor-popup-scroll-parent")||document.body,l=s.getBoundingClientRect(),d=window&&window.getSelection(),p=document.querySelector('button[aria-label="More Rovo options"], [aria-label="More Rovo options"]'),c=!!p&&p instanceof HTMLElement&&!!p.offsetParent,u=null;if(c&&(0,i("dh538").fg)("platform_editor_ai_generic_prep_for_aifc")){if(d&&d.getRangeAt&&d.rangeCount>0){let e=d.getRangeAt(0);e instanceof Range&&(u=e)}}else if(d&&!d.isCollapsed&&d.getRangeAt&&d.rangeCount>0){let e=d.getRangeAt(0);e instanceof Range&&(u=e)}if(!u)return o;let h=a.getBoundingClientRect(),{head:f,anchor:m}=t.state.selection,E=t.coordsAtPos(Math.min(f,m)),g=t.coordsAtPos(Math.max(f,m)-Math.min(u.endOffset,1));r=f>m&&E.top!==g.top?(g.top||0)+h.height/1.15:(E.top||0)-1.5*h.height;let _=(f>m?g.right:E.left)-h.width/2;r<l.top&&({top:r,left:_}=n(g,h));let T=Math.max(0,_-l.left);return T+h.width>l.width&&(T=Math.max(0,l.width-(h.width+20))),{top:r-l.top+s.scrollTop,left:T}},e.exports.calculateToolbarPositionOnCellSelection=e=>(t,n)=>{let r,a,s=document.querySelector(`div[aria-label="${e}"]`);if(!s)return n;let{selection:l}=t.state;if(!(l instanceof i("7XFGZ").CellSelection))return n;let{$anchorCell:d,$headCell:p}=l,c=t.domAtPos.bind(t),u=(0,o.findDomRefAtPos)(d.pos,c),h=(0,o.findDomRefAtPos)(p.pos,c);if(!(u instanceof HTMLElement)||!(h instanceof HTMLElement))return n;let f=u.getBoundingClientRect(),m=h.getBoundingClientRect(),E=s.getBoundingClientRect();r=m.top<=f.top?m.top-E.height-10:m.bottom+10;let g=t.dom.closest(".fabric-editor-popup-scroll-parent")||document.body,_=g.getBoundingClientRect();r<_.top&&m.top<=f.top&&(r=f.bottom+10),a=m.left<f.left?m.left:m.left===f.left?m.left+m.width/2:m.right,l.isColSelection()&&(m.left<f.left?a=m.left+(f.right-m.left)/2:m.left===f.left||(a=f.left+(m.right-f.left)/2),r-=4);let T=Math.max(0,a-E.width/2-_.left);return T+E.width>_.width&&(T=Math.max(0,_.width-(E.width+20))),l.isColSelection()&&r+E.height>_.bottom&&(r=r-(r-_.bottom)-(E.height+20)),{top:r-_.top+g.scrollTop,left:T}}}),a("bYZ53",function(e,t){function o(e,t){let{schema:{marks:{annotation:o}}}=t;return!!(o&&e&&e.marks.length&&o.isInSet(e.marks))}e.exports.canApplyAnnotationOnRange=(e,t,o)=>{let{from:n,to:r}=e;if(isNaN(n+r)||r-n<=0||r<0||n<0)return!1;let a=!1;return t.nodesBetween(e.from,e.to,(e,t,n)=>{if(o.nodes.hardBreak===e.type)return!1;if((0,i("dh538").fg)("editor_inline_comments_on_inline_nodes")){let t=["emoji","status","date","mention","inlineCard"].includes(e.type.name);if(e.isInline&&!e.isText&&!t||e.isLeaf&&!e.isText&&!t||e.isText&&!n?.type.allowsMarkType(o.marks.annotation))return a=!0,!1}else if(e.isInline&&!e.isText||e.isLeaf&&!e.isText||e.isText&&!n?.type.allowsMarkType(o.marks.annotation))return a=!0,!1;return!0}),!a},e.exports.getAnnotationIdsFromRange=(e,t,o)=>{let{from:n,to:r}=e,i=new Set;return t.nodesBetween(n,r,e=>!e.marks||(e.marks.forEach(e=>{e.type===o.marks.annotation&&e.attrs&&i.add(e.attrs.id)}),!0)),Array.from(i)},e.exports.hasAnnotationMark=o,e.exports.containsAnyAnnotations=function(e,t){if(!e.content.size)return!1;let n=!1;return e.content.forEach(e=>{if(n=n||o(e,t))return!0;e.descendants(e=>!o(e,t)||(n=!0,!1))}),n},e.exports.getRangeInlineNodeNames=function({doc:e,pos:t}){if(!(0,i("dh538").fg)("editor_inline_comments_on_inline_nodes"))return;let o=new Set;try{return e.nodesBetween(t.from,t.to,e=>{e.isInline&&o.add(e.type.name)}),[...o].sort()}catch{return}},e.exports.getRangeAncestorNodeNames=function({doc:e,pos:t}){if(!(0,i("dh538").fg)("cc_comments_log_draft_annotation_ancestor_nodes"))return;let o=new Set;try{let n=e.resolve(t.from),r=e.resolve(t.to);for(let e=n.depth;e>0;e--){let t=n.node(e);o.add(t.type.name)}let i=new Set;if(e.nodesBetween(t.from,t.to,(e,t,n)=>(n&&!i.has(n)&&(i.add(n),o.add(n.type.name)),!0)),t.from!==t.to)for(let e=r.depth;e>0;e--){let t=r.node(e);o.add(t.type.name)}return[...o]}catch{return}},e.exports.getAnnotationInlineNodeTypes=function(e,t){if(!(0,i("dh538").fg)("editor_inline_comments_on_inline_nodes"))return;let o=e.schema.marks.annotation.create({id:t,annotationType:i("cUycv").AnnotationTypes.INLINE_COMMENT}),n=new Set;return e.doc.descendants((e,t)=>(o.isInSet(e.marks)&&n.add(e.type.name),!0)),[...n].sort()},e.exports.getAnnotationMarksForPos=function(e){return e.marks().filter(t=>t.type===e.doc.type.schema.marks.annotation)},e.exports.isEmptyTextSelection=function(e,t){let{text:o,paragraph:n}=t.nodes,r=!1;return e.content().content.descendants(e=>(e.type!==n||!!e.content.size)&&(e.type===o&&e.textContent||(r=!0),!r)),!r},e.exports.isEmptyTextSelectionRenderer=function(e,t){let{text:o,paragraph:n}=t.nodes,r=!1;return e.content().content.descendants(e=>(e.type!==n||!!e.content.size)&&(e.type!==o&&e.type.isInline&&(r=!0),e.type===o&&e.textContent&&(r=!0),!r)),!r}}),a("24P9d",function(e,t){e.exports.convertToInlineCss=function(e){return Object.entries(e).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>`${e.startsWith("--")?e:e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`).replace(/^ms/,"-ms")}: ${t};`).join(" ")}}),a("98HrB",function(e,t){let o={EMOJI_CONTAINER:"emojiView-content-wrap",EMOJI_NODE:i("8hpYf").emojiNodeStyles,EMOJI_SPRITE:i("8hpYf").emojiSprite,EMOJI_IMAGE:i("8hpYf").emojiImage,EMOJI_PLACEHOLDER:i("8hpYf").placeholder};e.exports.EmojiSharedCssClassName=o}),a("hWRJP",function(e,t){let o=["data-test-id","data-testid"],n=["type","name",...o],r=RegExp(`\\[(?!${n.join("|")}).*?\\]`,"gmu"),a=e=>e.replace(r,""),s=e=>{let{category:t}=e||{};if(t?.startsWith("ui")){let{message:t}=e;null!=t&&(e.message=a(t))}return e},l=(e,t)=>(e.request&&delete e.request.url,e),d=async(e,t)=>{try{let{BrowserClient:n,defaultIntegrations:r,getCurrentHub:a}=await Promise.resolve(i("7hGsm")),{ExtraErrorData:d}=await i("40LDa"),p=(0,i("dh538").fg)("platform_editor_sentry_breadcrumbs")?new(i("7hGsm")).Integrations.Breadcrumbs({dom:{serializeAttribute:o},fetch:!1,xhr:!1,console:!1,history:!1,sentry:!1}):void 0,c={dsn:!function(){let e=globalThis,t=e.MICROS_PERIMETER||e.UNSAFE_ATL_CONTEXT_BOUNDARY;if(t)return"fedramp-moderate"===t;let o=e.location?.hostname?.match(/atlassian-us-gov-mod\.(com|net)|atlassian-us-gov\.(com|net)|atlassian-fex\.(com|net)|atlassian-stg-fedm\.(com|net)/);return!!o&&o.length>0}()?"https://0b10c8e02fb44d8796c047b102c9bee8@o55978.ingest.sentry.io/4505129224110080":void 0,release:"editor-common@0.0.0-use.local",environment:"production",beforeBreadcrumb:(0,i("dh538").fg)("platform_editor_sentry_breadcrumbs")?s:void 0,ignoreErrors:[/^network error/i,/^network failure/i,"TypeError: Failed to fetch","ResizeObserver loop limit exceeded",/ResizeObserver loop completed with undelivered notifications/],autoSessionTracking:!1,integrations:e=>[...r.filter(({name:e})=>"Breadcrumbs"!==e),...p?[p]:[],new d],beforeSend:l},u=new n(c),h=a();return h.bindClient(u),h.withScope(o=>{o.setTags({"jira-bundler":window.BUNDLER_VERSION,"jira-variant":window.BUILD_VARIANT,"jira-release":window.BUILD_KEY,"confluence-frontend-version":window.__buildInfo?.FRONTEND_VERSION,...t}),o.clearBreadcrumbs(),h.captureException(e)}),u.close()}catch(e){}};e.exports.logException=d}),a("40LDa",function(e,t){let o=i("4mJKd")(5);e.exports=Promise.all([o("5IgYU"),o("1FTmX")]).then(()=>i("aGHdx"))}),a("91bcx",function(e,t){var o=i("iu6m9");e.exports.isOfflineMode=e=>(0,o.editorExperiment)("platform_synced_blocks_offline_check_for_block",!0)?"offline"===e||"collab-offline"===e||"internet-offline"===e:"offline"===e}),a("l03WE",function(e,t){let o=(e,t,o=!1)=>({match:e,handler:t,onHandlerApply:(e,t)=>{(0,i("ke2AI").closeHistory)(t)},allowsBackwardMatch:o});e.exports.inputRuleWithAnalytics=(e,t)=>o=>({...o,onHandlerApply:(n,r,i)=>{let a="function"==typeof e?e(n,i):e;a&&a.attributes&&(a.attributes.formatSize="string"==typeof i[0]?i[0].length:0),t?.attachAnalyticsEvent(a)(r),o.onHandlerApply&&o.onHandlerApply(n,r,i)}}),e.exports.createWrappingJoinRule=({match:e,nodeType:t,getAttrs:n,joinPredicate:r})=>o(e,(e,o,a,s)=>{let l=(n instanceof Function?n(o):n)||{},d=e.tr,p=Math.max(a,1);d.delete(p,s);let c=d.doc.resolve(p).blockRange(),u=c&&(0,i("aXG5V").findWrapping)(c,t,l);if(!u||!c)return null;let h=d.mapping.map(c.start),f=d.doc.nodeAt(h),m=u[u.length-1];if(f&&m){let e=m.type.allowedMarks(f.marks)||[];d.setNodeMarkup(h,f.type,f.attrs,e)}d.wrap(c,u);let E=d.doc.resolve(p-1).nodeBefore;return E&&E.type===t&&(0,i("aXG5V").canJoin)(d.doc,p-1)&&(!r||r(o,E,i("jbKei").JOIN_SCENARIOS_WHEN_TYPING_TO_INSERT_LIST.JOINED_TO_LIST_ABOVE))&&d.join(p-1),d}),e.exports.createRule=o}),a("ke2AI",function(e,t){var o=function(){};o.prototype.append=function(e){return e.length?(e=o.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},o.prototype.prepend=function(e){return e.length?o.from(e).append(this):this},o.prototype.appendInner=function(e){return new r(this,e)},o.prototype.slice=function(e,t){return(void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t)?o.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},o.prototype.get=function(e){if(!(e<0)&&!(e>=this.length))return this.getInner(e)},o.prototype.forEach=function(e,t,o){void 0===t&&(t=0),void 0===o&&(o=this.length),t<=o?this.forEachInner(e,t,o,0):this.forEachInvertedInner(e,t,o,0)},o.prototype.map=function(e,t,o){void 0===t&&(t=0),void 0===o&&(o=this.length);var n=[];return this.forEach(function(t,o){return n.push(e(t,o))},t,o),n},o.from=function(e){return e instanceof o?e:e&&e.length?new n(e):o.empty};var n=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var o={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,o){return 0==e&&o==this.length?this:new t(this.values.slice(e,o))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,o,n){for(var r=t;r<o;r++)if(!1===e(this.values[r],n+r))return!1},t.prototype.forEachInvertedInner=function(e,t,o,n){for(var r=t-1;r>=o;r--)if(!1===e(this.values[r],n+r))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=200)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=200)return new t(e.flatten().concat(this.values))},o.length.get=function(){return this.values.length},o.depth.get=function(){return 0},Object.defineProperties(t.prototype,o),t}(o);o.empty=new n([]);var r=function(e){function t(t,o){e.call(this),this.left=t,this.right=o,this.length=t.length+o.length,this.depth=Math.max(t.depth,o.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,o,n){var r=this.left.length;if(t<r&&!1===this.left.forEachInner(e,t,Math.min(o,r),n)||o>r&&!1===this.right.forEachInner(e,Math.max(t-r,0),Math.min(this.length,o)-r,n+r))return!1},t.prototype.forEachInvertedInner=function(e,t,o,n){var r=this.left.length;if(t>r&&!1===this.right.forEachInvertedInner(e,t-r,Math.max(o,r)-r,n+r)||o<r&&!1===this.left.forEachInvertedInner(e,Math.min(t,r),o,n))return!1},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var o=this.left.length;return t<=o?this.left.slice(e,t):e>=o?this.right.slice(e-o,t-o):this.left.slice(e,o).append(this.right.slice(0,t-o))},t.prototype.leafAppend=function(e){var o=this.right.leafAppend(e);if(o)return new t(this.left,o)},t.prototype.leafPrepend=function(e){var o=this.left.leafPrepend(e);if(o)return new t(o,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(o);class a{constructor(e,t){this.step=e,this.inverted=t}}function s(e,t){if(void 0!==e)return e.map(e=>{let o=e.step.map(t.mapping),n=e.inverted.map(t.mapping);if(o&&n)return new a(o,n)}).filter(e=>!!e)}class l{popEvent(e,t){let o,n,r,i;if(0==this.eventCount)return null;let a=this.items.length;for(;;a--)if(this.items.get(a-1).selection){--a;break}t&&(n=(o=this.remapping(a,this.items.length)).maps.length);let s=e.tr,p=[],c=[];return this.items.forEach((e,t)=>{if(!e.step){o||(n=(o=this.remapping(a,t+1)).maps.length),n--,c.push(e);return}if(o){let t;c.push(new d(e.map));let r=e.step.map(o.slice(n));r&&s.maybeStep(r).doc&&(t=s.mapping.maps[s.mapping.maps.length-1],p.push(new d(t,void 0,void 0,p.length+c.length))),n--,t&&o.appendMap(t,n)}else s.maybeStep(e.step);if(e.selection)return r=o?e.selection.map(o.slice(n)):e.selection,i=new l(this.items.slice(0,a).append(c.reverse().concat(p)),this.eventCount-1),!1},this.items.length,0),{remaining:i,transform:s,selection:r}}addTransform(e,t,o,n){var r,i;let a,s=[],p=this.eventCount,u=this.items,h=!n&&u.length?u.get(u.length-1):null;for(let o=0;o<e.steps.length;o++){let r=e.steps[o].invert(e.docs[o]),i=new d(e.mapping.maps[o],r,t),a;(a=h&&h.merge(i))&&(i=a,o?s.pop():u=u.slice(0,u.length-1)),s.push(i),t&&(p++,t=void 0),n||(h=i)}let f=p-o.depth;return f>c&&(r=u,i=f,r.forEach((e,t)=>{if(e.selection&&0==i--)return a=t,!1}),u=r.slice(a),p-=f),new l(u.append(s),p)}remapping(e,t){let o=new(0,i("aXG5V").Mapping);return this.items.forEach((t,n)=>{let r=null!=t.mirrorOffset&&n-t.mirrorOffset>=e?o.maps.length-t.mirrorOffset:void 0;o.appendMap(t.map,r)},e,t),o}addMaps(e){return 0==this.eventCount?this:new l(this.items.append(e.map(e=>new d(e))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let o=[],n=Math.max(0,this.items.length-t),r=e.mapping,i=e.steps.length,a=this.eventCount;this.items.forEach(e=>{e.selection&&a--},n);let s=t;this.items.forEach(t=>{let n=r.getMirror(--s);if(null==n)return;i=Math.min(i,n);let l=r.maps[n];if(t.step){let i=e.steps[n].invert(e.docs[n]),p=t.selection&&t.selection.map(r.slice(s+1,n));p&&a++,o.push(new d(l,i,p))}else o.push(new d(l))},n);let p=[];for(let e=t;e<i;e++)p.push(new d(r.maps[e]));let c=new l(this.items.slice(0,n).append(p).append(o),a);return c.emptyItemCount()>500&&(c=c.compress(this.items.length-o.length)),c}emptyItemCount(){let e=0;return this.items.forEach(t=>{!t.step&&e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],i=0;return this.items.forEach((o,a)=>{if(a>=e)r.push(o),o.selection&&i++;else if(o.step){let e=o.step.map(t.slice(n)),a=e&&e.getMap();if(n--,a&&t.appendMap(a,n),e){let s,l=o.selection&&o.selection.map(t.slice(n));l&&i++;let p=new d(a.invert(),e,l),c=r.length-1;(s=r.length&&r[c].merge(p))?r[c]=s:r.push(p)}}else o.map&&n--},this.items.length,0),new l(o.from(r.reverse()),i)}constructor(e,t){this.items=e,this.eventCount=t}}l.empty=new l(o.empty,0);class d{merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new d(t.getMap().invert(),t,this.selection)}}constructor(e,t,o,n){this.map=e,this.step=t,this.selection=o,this.mirrorOffset=n}}class p{constructor(e,t,o,n,r,i,a,s){this.done=e,this.undone=t,this.prevRanges=o,this.prevTime=n,this.prevComposition=r,this.historySliceActive=i,this.trackedSteps=a,this.selectionBookmark=s}}let c=20;function u(e){let t=[];for(let o=e.length-1;o>=0&&0==t.length;o--)e[o].forEach((e,o,n,r)=>t.push(n,r));return t}function h(e,t){if(!e)return null;let o=[];for(let n=0;n<e.length;n+=2){let r=t.map(e[n],1),i=t.map(e[n+1],-1);r<=i&&o.push(r,i)}return o}let f=!1,m=null;function E(e){let t=e.plugins;if(m!=t){f=!1,m=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){f=!0;break}}return f}let g=new(0,i("ks2lK").PluginKey)("history"),_=new(0,i("ks2lK").PluginKey)("closeHistory");function T(e,t){return(o,n)=>{let r=g.getState(o);if(!r||0==(e?r.undone:r.done).eventCount)return!1;if(n){let i=function(e,t,o){let n=E(t),r=g.get(t).spec.config,i=(o?e.undone:e.done).popEvent(t,n);if(!i)return null;let a=i.selection.resolve(i.transform.doc),l=(o?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),r,n),d=e.historySliceActive?new p(o?l:i.remaining,o?i.remaining:l,null,0,-1,e.historySliceActive,s(e.trackedSteps,i.transform),e.selectionBookmark?.map(i.transform.mapping)):new p(o?l:i.remaining,o?i.remaining:l,null,0,-1);return i.transform.setSelection(a).setMeta(g,{redo:o,historyState:d})}(r,o,e);i&&n(t?i.scrollIntoView():i)}return!0}}let A=T(!1,!0),I=T(!0,!0);T(!1,!1),T(!0,!1),e.exports.closeHistory=function(e){return e.setMeta(_,!0)},e.exports.history=function(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new(0,i("ks2lK").Plugin)({key:g,state:{init:()=>new p(l.empty,l.empty,null,0,-1),apply:(t,o,n)=>(function(e,t,o,n){let r,d=o.getMeta(g);if(d)return d.historyState;if((!0===o.getMeta("startHistorySlice")||e?.historySliceActive)&&!0!==o.getMeta("endHistorySlice")){if((0,i("dh538").fg)("platform_editor_ai_aifc_patch_ga")?o.getMeta("isRemote"):!1===o.getMeta("addToHistory")){let t=e.prevRanges?h(e.prevRanges,o.mapping):null;return new p(e.done.addMaps(o.mapping.maps),e.undone.addMaps(o.mapping.maps),t,e.prevTime,e.prevComposition,!0,s(e.trackedSteps,o),e.selectionBookmark)}let n=!0===o.getMeta("startHistorySlice"),r=[...e.trackedSteps||[],...o.steps.map((e,t)=>new a(e,e.invert(o.docs[t])))],d=e.prevRanges?h(e.prevRanges,o.mapping):null;return new p(e.done,n?l.empty:e.undone,d,e.prevTime,e.prevComposition,!0,r,n?t.selection.getBookmark():e.selectionBookmark)}if(!0===o.getMeta("endHistorySlice")&&e.historySliceActive){let r=function(e,t){for(let o of e.slice().reverse())try{let e=o.inverted.apply(t);null===e.failed&&e.doc&&(t=e.doc)}catch(e){}let o=new(0,i("aXG5V").Transform)(t);for(let t of e)try{o=o.step(t.step)}catch(e){}return o}(e.historySliceActive&&e.trackedSteps||[],o.doc),a=e.prevRanges?h(e.prevRanges,o.mapping):null;return new p(e.done.addMaps(o.mapping.maps).addTransform(r,e.selectionBookmark,n,E(t)),e.undone.addMaps(o.mapping.maps),a,e.prevTime,e.prevComposition)}o.getMeta(_)&&(e=new p(e.done,e.undone,null,0,-1));let c=o.getMeta("appendedTransaction");if(0==o.steps.length)return e;if(c&&c.getMeta(g))if(c.getMeta(g).redo)return new p(e.done.addTransform(o,void 0,n,E(t)),e.undone,u(o.mapping.maps),e.prevTime,e.prevComposition);else return new p(e.done,e.undone.addTransform(o,void 0,n,E(t)),null,e.prevTime,e.prevComposition);if(!1===o.getMeta("addToHistory")||c&&!1===c.getMeta("addToHistory"))if(r=o.getMeta("rebased"))return new p(e.done.rebased(o,r),e.undone.rebased(o,r),h(e.prevRanges,o.mapping),e.prevTime,e.prevComposition);else return new p(e.done.addMaps(o.mapping.maps),e.undone.addMaps(o.mapping.maps),h(e.prevRanges,o.mapping),e.prevTime,e.prevComposition);{let r=o.getMeta("composition"),i=0==e.prevTime||!c&&e.prevComposition!=r&&(e.prevTime<(o.time||0)-n.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let o=!1;return e.mapping.maps[0].forEach((e,n)=>{for(let r=0;r<t.length;r+=2)e<=t[r+1]&&n>=t[r]&&(o=!0)}),o}(o,e.prevRanges)),a=c?h(e.prevRanges,o.mapping):u(o.mapping.maps);return new p(e.done.addTransform(o,i?t.selection.getBookmark():void 0,n,E(t)),l.empty,a,o.time,null==r?e.prevComposition:r)}})(o,n,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let o=t.inputType,n="historyUndo"==o?A:"historyRedo"==o?I:null;return!!n&&!!e.editable&&(t.preventDefault(),n(e.state,e.dispatch))}}}})},e.exports.undo=A,e.exports.redo=I}),a("jbKei",function(e,t){var o,n,r,i,a=((o={}).BACKWARD="backward",o.FORWARD="forward",o),s=((n={}).JOIN_SIBLINGS="joinSiblings",n.JOIN_DESCENDANT_TO_PARENT="joinDescendantToParent",n.JOIN_TO_SIBLING_DESCENDANT="joinToSiblingDescendant",n.JOIN_PARAGRAPH_WITH_LIST="joinParagraphWithList",n.JOIN_PARENT_SIBLING_TO_PARENT_CHILD="joinParentSiblingToParentChild",n.JOIN_LIST_ITEM_WITH_PARAGRAPH="joinListItemWithParagraph",n),l=((r={}).NO_JOIN="noJoin",r.JOINED_TO_LIST_ABOVE="joinedToListAbove",r.JOINED_TO_LIST_BELOW="joinedToListBelow",r),d=((i={}).SPLIT_LIST="splitList",i);e.exports.DELETE_DIRECTION=a,e.exports.LIST_TEXT_SCENARIOS=s,e.exports.JOIN_SCENARIOS_WHEN_TYPING_TO_INSERT_LIST=l,e.exports.OUTDENT_SCENARIOS=d}),a("aIMBk",function(e,t){let o=e=>"gapcursor"===e.jsonID;var n=i("1oCLl");let r=({rules:e,pluginKey:t,allowInsertTextOnDocument:o,onInputEvent:r,onBeforeRegexMatch:s})=>({view:l,from:d,to:p,text:c})=>{let u;if(l.composing)return!1;let h=l.state,f=h.doc.resolve(d);if(f.parent.type.spec.code||r&&!r({state:h,from:d,to:p}))return!1;let m=a({rules:e,textToMatch:f.parent.textBetween(Math.max(0,f.parentOffset-i("14sLv").MAX_REGEX_MATCH),f.parentOffset,void 0,i("14sLv").leafNodeReplacementCharacter)+c,from:d,to:p,state:h});if(!m&&(0,n.expValEquals)("platform_editor_lovability_inline_code","isEnabled",!0)){if(i("14sLv").TYPEAHEAD_TRIGGERS.includes(c))return!1;let t=c+f.parent.textBetween(f.parentOffset,Math.min(f.parent.content.size,f.parentOffset+i("14sLv").MAX_REGEX_MATCH),void 0,i("14sLv").leafNodeReplacementCharacter);if(u=!0,!(m=a({rules:e.filter(e=>e.allowsBackwardMatch),textToMatch:t,from:d,to:p,state:h,isBackwardMatch:u})))return!1}if(!m)return!1;let E=o?h.tr.insertText(c,d,p):h.tr;return E.setMeta(i("14sLv").TEXT_INPUT_RULE_TRANSACTION_KEY,!0),E.setMeta(t,{textInserted:c,from:m.from,to:m.to,matchedRule:m.matchedRule,isBackwardMatch:u}),s&&s(E),l.dispatch(E),!0};function a({rules:e,textToMatch:t,from:r,to:a,state:s,isBackwardMatch:l}){for(let d=0;d<e.length;d++){let p=e[d],c=o(s.selection)?t.at(-1)??"":t;if(p.allowsBackwardMatch&&l&&(0,n.expValEquals)("platform_editor_lovability_inline_code","isEnabled",!0)){let e=s.doc.textBetween(r-1,r);if("("===e){let e=s.doc.textBetween(r-2,r-1);if(" "!==e&&""!==e)continue}else if(" "!==e&&""!==e)continue;let t=p.match.exec(c);if(!t)continue;let o=r+t[0].length-1;if(p.handler(s,t,r,o))return{from:r,to:o,matchedRule:{...p,result:t}};break}let u=p.match.exec(c);if(!u)continue;let h=s.selection.$from.start(),f=Math.max(0,s.selection.$from.parentOffset-i("14sLv").MAX_REGEX_MATCH),m=Math.max(h+u.index+f,1);if(p.handler(s,u,m,a))return{from:m,to:a,matchedRule:{...p,result:u}}}return null}let s=(e,t,o,n)=>{let r=e.doc.resolve(t),i=e.doc.resolve(o);return((t===o?r.marks():r.marksAcross(i))||[]).some(e=>(n||[]).includes(e.type.name))},l=(e,t)=>{let{selection:o}=e;if(!(o instanceof i("ks2lK").TextSelection))return!1;let{$cursor:n}=o;return!!n?.nodeBefore?.marks?.some(e=>t.includes(e.type.name))};e.exports.createPlugin=(e,t,a={})=>{let{isBlockNodeRule:d=!1,allowInsertTextOnDocument:p=!0,checkOnBlur:c,appendTextOnBlur:u}=a;return function(e,t,o={}){let a=o?.onInputEvent,s=o?.onBeforeRegexMatch,l=!!o?.allowInsertTextOnDocument,d=new(0,i("ks2lK").PluginKey)(`inputRulePlugin__${e}`),p=r({allowInsertTextOnDocument:l,pluginKey:d,rules:t,onInputEvent:a,onBeforeRegexMatch:s});return{key:d,state:{init:()=>null,apply(e,t){let o=e.getMeta(d);return o||(e.selectionSet||e.docChanged?null:t)}},appendTransaction:(e,t,o)=>{let r=e.find(e=>e.getMeta(d)),a=r?.getMeta(d);if(!a||!r)return null;let{matchedRule:s,from:l,to:p,isBackwardMatch:c}=a,{result:u}=s,h=r.mapping.map(p),f=s.handler(o,u,l,h);if(!f)return null;if(f.setMeta(i("14sLv").TEXT_INPUT_RULE_TRANSACTION_KEY,!0),s.onHandlerApply&&s.onHandlerApply(o,f,s.result),c&&(0,n.expValEquals)("platform_editor_lovability_inline_code","isEnabled",!0)){let e=t.selection.map(f.doc,f.mapping);f.setSelection(new(0,i("ks2lK").TextSelection)(e.$from))}return f},props:{handleTextInput:(e,t,o,n)=>p({view:e,from:t,to:o,text:n}),handleDOMEvents:{blur:e=>{if(!o?.checkOnBlur)return!1;let t=e.state.selection;if(!(t instanceof i("ks2lK").TextSelection))return;let{$cursor:n}=t;return n&&p({view:e,from:n.pos,to:n.pos,text:o.appendTextOnBlur??""}),!1},compositionend:e=>(setTimeout(()=>{let t=e.state.selection;if(!(t instanceof i("ks2lK").TextSelection))return;let{$cursor:o}=t;o&&p({view:e,from:o.pos,to:o.pos,text:""})}),!1)}},isInputRules:!0}}(e,t,{allowInsertTextOnDocument:p,onInputEvent:({state:e,from:t,to:n})=>{let r=d?["code","link","typeAheadQuery"]:["code"],a=e.selection.$from,p=e.selection instanceof i("ks2lK").NodeSelection&&e.selection.node.type.isInline;return!(a.parent.type.spec.code||!(e.selection instanceof i("ks2lK").TextSelection)&&!o(e.selection)&&!p||s(e,t,n,r)||d&&l(e,r))},onBeforeRegexMatch:e=>{(0,i("ke2AI").closeHistory)(e)},checkOnBlur:c,appendTextOnBlur:u})}}),a("14sLv",function(e,t){e.exports.leafNodeReplacementCharacter="￼",e.exports.TEXT_INPUT_RULE_TRANSACTION_KEY="input_rule_plugin_transaction",e.exports.MAX_REGEX_MATCH=500,e.exports.TYPEAHEAD_TRIGGERS=[":","/","@"]}),a("1Oo9w",function(t,o){var n=i("42omo"),r=i("jSnXV");function a(e,t){return Object.entries(e).reduce((e,[o,n])=>({...e,[o]:t(n)}),{})}t.exports.useSharedPluginState=function(t,o,i){let s=(0,n.useMemo)(()=>o,[]);return function(t,o={}){let[i,s]=(0,n.useState)(a(t,e=>o.disabled?void 0:e?.sharedState.currentState())),l=(0,n.useRef)({}),d=(0,n.useRef)(!1);return(0,n.useLayoutEffect)(()=>{if(o.disabled)return;let n=e(r)(()=>{s(e=>({...e,...l.current}))});d.current&&(l.current=a(t,e=>e?.sharedState.currentState()),n());let i=Object.entries(t).map(([e,t])=>t?.sharedState.onChange(({nextSharedState:t,prevSharedState:o})=>{o!==t&&(l.current[e]=t,n())}));return d.current=!0,()=>{l.current={},i.forEach(e=>e?.())}},[t,o.disabled]),i}((0,n.useMemo)(()=>s.reduce((e,o)=>({...e,[`${String(o)}State`]:t?.[o]}),{}),[t,s]),i)}}),a("jwWgu",function(t,o){var n=i("42omo"),r=i("iqsGx"),a=i("jTxSS"),s=i("dZ8uq");class l extends e(n).Component{calculatePosition(e,t){let{target:o,fitHeight:n,fitWidth:r,boundariesElement:a,offset:s,onPositionCalculated:l,onPlacementChanged:d,alignX:p,alignY:c,stick:u,forcePlacement:h,allowOutOfBounds:f,rect:m,preventOverflow:E,absoluteOffset:g}=e;if(!o||!t)return{};let _=(0,i("7YjFd").calculatePlacement)(o,a||document.body,r,n,p,c,h,E);d&&this.placement.join("")!==_.join("")&&(d(_),this.placement=_);let T=(0,i("7YjFd").calculatePosition)({placement:_,popup:t,target:o,stick:u,offset:s,allowOutOfBounds:f,rect:m,boundariesElement:(0,i("dh538").fg)("platform_editor_link_popup_position_fix_aifc")?a||document.body:void 0});return void 0!==(T=l?l(T):T).top&&g?.top&&(T.top=T.top+g.top),void 0!==T.bottom&&g?.bottom&&(T.bottom=T.bottom+g.bottom),void 0!==T.right&&g?.right&&(T.right=T.right+g.right),void 0!==T.left&&g?.left&&(T.left=T.left+g.left),{position:T,validPosition:(0,i("7YjFd").validatePosition)(o)}}updatePosition(e=this.props,t=this.state){let{popup:o}=t,{position:n,validPosition:r}=this.calculatePosition(e,o);n&&r&&(0,a.flushSync)(()=>{this.setState({position:n,validPosition:r})})}cannotSetPopup(e,t,o){return!t||document.body.contains(t)&&e.offsetParent&&!e.offsetParent.contains(t)||o&&!o.contains(e.offsetParent)}initPopup(e){this.popupRef.current&&(0,i("dh538").fg)("platform_editor_link_popup_position_fix_aifc")&&this.resizeObserver?.unobserve(this.popupRef.current),this.popupRef.current=e;let{target:t}=this.props,o=(0,i("7YjFd").findOverflowScrollParent)(e);!this.cannotSetPopup(e,t,o)&&(this.setState({popup:e}),this.scheduledUpdatePosition(this.props),this.props.focusTrap&&this.initFocusTrap(),this.popupRef.current&&(0,i("dh538").fg)("platform_editor_link_popup_position_fix_aifc")&&this.resizeObserver?.observe(this.popupRef.current))}destroyFocusTrap(){this.initFocusTrap.cancel(),this.focusTrap?.deactivate()}handleChangedFocusTrapProp(e){if(e.focusTrap!==this.props.focusTrap)return this.props.focusTrap?(this.focusTrap&&this.focusTrap.unpause(),this.initFocusTrap()):this.focusTrap?.pause()}componentDidUpdate(e){this.handleChangedFocusTrapProp(e),this.props!==e&&this.scheduledUpdatePosition(e)}componentDidMount(){window.addEventListener("resize",this.onResize);let{stick:e}=this.props;this.scrollParentElement=(0,i("7YjFd").findOverflowScrollParent)(this.props.target),this.scrollParentElement&&this.resizeObserver&&this.resizeObserver.observe(this.scrollParentElement),e?this.scrollElement=this.scrollParentElement:this.scrollElement=this.props.scrollableElement,this.scrollElement&&this.scrollElement.addEventListener("scroll",this.onResize)}componentWillUnmount(){window.removeEventListener("resize",this.onResize),this.scrollElement&&this.scrollElement.removeEventListener("scroll",this.onResize),(0,i("dh538").fg)("platform_editor_link_popup_position_fix_aifc")?this.resizeObserver?.disconnect():this.scrollParentElement&&this.resizeObserver&&this.resizeObserver.unobserve(this.scrollParentElement),this.scheduledUpdatePosition.cancel(),this.destroyFocusTrap();let{onUnmount:e}=this.props;e&&e()}renderPopup(){let{position:t}=this.state,{shouldRenderPopup:o}=this.props;if(o&&!o(t||{}))return null;let r=(0,i("dh538").fg)("editor_a11y_aria_label_removal_popup")?this.props.ariaLabel??void 0:null===this.props.ariaLabel?void 0:this.props.ariaLabel||"Popup";return e(n).createElement("div",{ref:this.handleRef,style:{position:"absolute",zIndex:this.props.zIndex||i("aFUXX").akEditorFloatingPanelZIndex,...t,...this.props.style},role:(()=>{if(r&&(0,i("dh538").fg)("platform_editor_a11y_add_role_to_popup"))return this.props.role||"dialog"})(),"aria-label":r,"data-testid":"popup-wrapper","data-editor-popup":!0},this.props.children)}render(){let{target:e,mountTo:t}=this.props,{validPosition:o}=this.state;return e&&o?t?(0,a.createPortal)(this.renderPopup(),t):this.renderPopup():null}constructor(...t){super(...t),this.scrollElement=void 0,this.scrollParentElement=void 0,this.rafIds=new Set,this.state={validPosition:!0},this.popupRef=e(n).createRef(),this.focusTrap=void 0,this.placement=["",""],this.handleRef=e=>{e&&this.initPopup(e)},this.scheduledUpdatePosition=(0,i("2P8Ax").default)(e=>{this.updatePosition(this.props)}),this.onResize=()=>this.scheduledUpdatePosition(this.props),this.resizeObserver=window?.ResizeObserver?new ResizeObserver(()=>{this.scheduledUpdatePosition(this.props)}):void 0,this.initFocusTrap=(0,i("2P8Ax").default)(()=>{let t=this.popupRef.current;if(!t)return;let o={clickOutsideDeactivates:!0,escapeDeactivates:!0,initialFocus:t,fallbackFocus:t,returnFocusOnDeactivate:!1},n="boolean"==typeof this.props.focusTrap?o:{...o,...this.props.focusTrap};this.focusTrap=e(r)(t,(0,s.expValEqualsNoExposure)("platform_editor_block_menu","isEnabled",!0)?n:o),this.focusTrap.activate()})}}l.defaultProps={offset:[0,0],allowOutOfBound:!1},t.exports.default=l}),a("7YjFd",function(e,t){function o(e){return e===document.body}function n(e){return e&&3===e.nodeType}let r=({placement:e,targetLeft:t,targetRight:o,targetWidth:n,isPopupParentBody:r,popupOffsetParentLeft:i,popupOffsetParentRight:s,popupOffsetParentScrollLeft:l,popupOffsetParentClientWidth:d,popupClientWidth:p,offset:c,allowOutOfBounds:u=!1})=>{let h={};return"left"===e?h.left=Math.ceil(t-i+(r?0:l)+c[0]):"center"===e?h.left=Math.ceil(t-i+(r?0:l)+c[0]+n/2-p/2):"end"===e?h.left=Math.ceil(o-i+(r?0:l)+c[0]):h.right=Math.ceil(s-o-(r?0:l)+c[0]),u||(void 0!==h.left&&(h.left=a(h.left,p,d)),void 0!==h.right&&(h.right=a(h.right,p,d))),h},a=(e,t,o)=>(o<e+t&&(e=o-t-1),Math.max(1,e)),s=({target:e,targetTop:t,targetHeight:o,popup:n,offset:r,position:i,boundariesElement:a})=>{let s=p(e)||a,l={...i};if(s){let e=t-s.getBoundingClientRect().top,i=o+e;if(s.clientHeight-i<=n.clientHeight+2*r[1]&&e<s.clientHeight){let e=i-s.clientHeight+2*r[1],t=l.top||0;l.top=t-=e+n.clientHeight}}return l},l=({target:e,targetTop:t,targetHeight:o,popupOffsetParentHeight:n,popupOffsetParent:r,offset:i,position:a,placement:s,boundariesElement:l})=>{let d=p(e)||l,c={...a};if(d){let{top:e}=d.getBoundingClientRect(),a=t-e,l=d.scrollTop;if(a<0){let d=t+(l-e)+o+i[1]<l;"top"===s&&(d?c.bottom=n-(a+r.scrollTop+o):c.bottom=a+(c.bottom||0)),"start"===s&&(d?c.top=a+r.scrollTop+o:c.top=Math.abs(a)+(c.top||0)+i[1])}}return c},d=({placement:e,targetTop:t,targetHeight:o,isPopupParentBody:n,popupOffsetParentHeight:r,popupOffsetParentTop:i,popupOffsetParentScrollTop:a,borderBottomWidth:s,offset:l})=>{let d={};return"top"===e?d.bottom=Math.ceil(r-(t-i)-(n?0:a)-s+l[1]):"start"===e?d.top=Math.ceil(t-i-l[1]+(n?0:a)):d.top=Math.ceil(t-i+o+(n?0:a)-s+l[1]),d};function p(e){let t=e;if(!t)return!1;for(;t=t.parentElement;){let e=window.getComputedStyle(t);if("scroll"===e.overflow||"scroll"===e.overflowX||"scroll"===e.overflowY||t.classList.contains("fabric-editor-popup-scroll-parent"))return t}return!1}e.exports.calculatePlacement=function(e,t,r,i,a,s,l,d){return[function(e,t,r,i,a,s){if(a&&i)return i;if(!r)return"bottom";n(e)&&(e=e.parentElement);let l=t.getBoundingClientRect(),{height:d}=l,p=o(t)?0:l.top,{top:c,height:u}=e.getBoundingClientRect(),h=c-(p-t.scrollTop),f=p+d-(c+u);return s&&h<=r||f>=r||f>=h?"bottom":"top"}(e,t,i,s,l,d),function(e,t,o,r,i,a){if(i&&r&&!a)return r;if(!o)return r||"left";n(e)&&(e=e.parentElement);let{left:s,width:l}=e.getBoundingClientRect(),{left:d,width:p}=t.getBoundingClientRect(),c=s-d+l,u=d+p-s;return r&&c>o&&u>o?r:u>=o||u>=c&&!r?"left":"right"}(e,t,r,a,l,d)]},e.exports.findOverflowScrollParent=p,e.exports.calculatePosition=function({placement:e,target:t,popup:a,offset:p,stick:c,allowOutOfBounds:u=!1,rect:h,boundariesElement:f}){let m={};if(!t||!a||!a.offsetParent)return m;n(t)&&(t=t.parentElement);let E=a.offsetParent,g=E.style,_=0;g&&g.borderBottomWidth&&(_=parseInt(g.borderBottomWidth,10));let[T,A]=e,{top:I,left:O,right:S,height:C}=h||E.getBoundingClientRect(),R=(0,i("dh538").fg)("platform_editor_popup_calc_pos_scrollbar")?E.offsetWidth-E.clientWidth:0,N=(0,i("dh538").fg)("platform_editor_popup_calc_pos_scrollbar")?E.offsetHeight-E.clientHeight:0,{top:b,left:M,right:D,height:w,width:x}=t.getBoundingClientRect(),L=o(E),v=d({placement:T,targetTop:b,isPopupParentBody:L,popupOffsetParentHeight:C-(L?0:N),popupOffsetParentTop:I,popupOffsetParentScrollTop:E.scrollTop||0,targetHeight:w,borderBottomWidth:_,offset:p});m={...m,...v},("top"===T||"start"===T)&&c&&(m=l({target:t,targetTop:b,targetHeight:w,popupOffsetParentHeight:C,popupOffsetParent:E,popup:a,offset:p,position:m,placement:T,boundariesElement:f})),"top"!==T&&"start"!==T&&c&&(m=s({target:t,targetTop:b,targetHeight:w,popup:a,offset:p,position:m,boundariesElement:f}));let y=r({placement:A,targetLeft:M,targetRight:D,targetWidth:x,isPopupParentBody:L,popupOffsetParentLeft:O,popupOffsetParentRight:S-(L?0:R),popupOffsetParentScrollLeft:E.scrollLeft||0,popupOffsetParentClientWidth:a.offsetParent.clientWidth,popupClientWidth:a.clientWidth||0,offset:p,allowOutOfBounds:u});return{...m,...y}},e.exports.validatePosition=function(e){return!!e&&!!e.offsetParent}}),a("efG2U",function(o,n){t(o.exports,"default",()=>d);var r=i("42omo"),a=i("iu6m9");let s=e(r).createContext(()=>Object);class l extends r.PureComponent{componentDidMount(){if(this.props.handleClickOutside){let e=!!(this.props.captureClick&&(0,a.editorExperiment)("platform_editor_controls","variant1"))&&{capture:!0};document.addEventListener("click",this.handleClick,e)}(this.props.handleEscapeKeydown||this.props.handleBackspaceDeleteKeydown)&&(this.props.popupsMountPoint?this.props.popupsMountPoint:this.props.editorRef?.current||this.props.targetRef||document).addEventListener("keydown",this.handleKeydown,!1)}componentWillUnmount(){if(this.props.handleClickOutside){let e=!!(this.props.captureClick&&(0,a.editorExperiment)("platform_editor_controls","variant1"))&&{capture:!0};document.removeEventListener("click",this.handleClick,e)}(this.props.handleEscapeKeydown||this.props.handleBackspaceDeleteKeydown)&&(this.props.popupsMountPoint?this.props.popupsMountPoint:this.props.editorRef?.current||this.props.targetRef||document).removeEventListener("keydown",this.handleKeydown,!1)}render(){return this.props.children}constructor(...e){super(...e),this.handleClick=e=>{if(!this.props.isActiveComponent||!this.props.handleClickOutside)return;let t=this.props.outsideClickTargetRef.current?.deref();(!t||e.target instanceof Node&&!t.contains(e.target))&&(this.props.handleClickOutside(e),this.props.editorView?.hasFocus()||this.props.editorView?.focus())},this.handleKeydown=e=>{if(this.props.isActiveComponent)if("Escape"===e.code&&this.props.handleEscapeKeydown)return e.preventDefault(),e.stopPropagation(),this.props.handleEscapeKeydown(e),!1;else"Enter"===e.code&&this.props.handleEnterKeydown?this.props.handleEnterKeydown(e):"Tab"===e.code&&this.props.handleEscapeKeydown&&this.props.closeOnTab?this.props.handleEscapeKeydown(e):("Delete"===e.code||"Backspace"===e.code)&&this.props.handleBackspaceDeleteKeydown&&this.props.handleBackspaceDeleteKeydown(e)}}}function d(t){return({handleClickOutside:o,handleEnterKeydown:n,handleEscapeKeydown:a,handleBackspaceDeleteKeydown:d,closeOnTab:p,captureClick:c,...u})=>{let h=!("isOpen"in u)||u.isOpen,[f,m]=(0,r.useState)(!1),E=(0,r.useRef)(null),g=(0,r.useCallback)(e=>{E.current=e&&new WeakRef(e)},[E]);return(0,r.useEffect)(()=>{requestAnimationFrame(()=>{m(h)})},[h]),e(r).createElement(i("40aJG").default.Consumer,null,({editorView:i,popupsMountPoint:h,editorRef:m})=>e(r).createElement(s.Provider,{value:g},e(r).createElement(l,{editorView:i,editorRef:m,targetRef:u.targetRef,outsideClickTargetRef:E,popupsMountPoint:h,isActiveComponent:f,handleClickOutside:o,handleEnterKeydown:n,handleEscapeKeydown:a,handleBackspaceDeleteKeydown:d,closeOnTab:p,captureClick:c},e(r).createElement(t,u))))}}o.exports.OutsideClickTargetRefContext=s}),a("40aJG",function(t,o){let n=e(i("42omo")).createContext({});t.exports.default=n}),a("b3YrF",function(t,o){var n=i("42omo"),r=i("kkhbp"),a=i("a4TK8");t.exports.useSharedPluginStateSelector=function(t,o,s={}){let l=(0,n.useCallback)(t=>{let[n,...i]=o.split(".");if(t&&i?.length!==0)return e(r)(t?.[`${n}State`],i)},[o]),d=(0,n.useMemo)(()=>{let[e]=o.split(".");return[e]},[o]),p=(0,n.useMemo)(()=>{if(s.disabled)return;let[e]=o.split(".");return l({[`${e}State`]:t?.[e]?.sharedState.currentState()})},[o,t,s.disabled,l]);return function(t,o,r,s,l={}){let[d,p]=(0,n.useState)(()=>s);return(0,i("6qdjm").usePluginStateEffect)(t,o,t=>{let o=r(t);e(a)(o,d)||p(()=>o)},l),d}(t,d,l,p,s)}}),a("6qdjm",function(t,o){var n=i("42omo"),r=i("jSnXV");t.exports.usePluginStateEffect=function(t,o,i,a={}){let s=(0,n.useMemo)(()=>o,[]);!function(t,o,i={}){let a=(0,n.useRef)(),s=(0,n.useRef)(),l=(0,n.useRef)(o);(0,n.useLayoutEffect)(()=>{if(!i.disabled)return l.current=e(r)(o),()=>{l.current=void 0}},[o,i.disabled]),(0,n.useLayoutEffect)(()=>{var e;if(i.disabled)return;e=e=>e?.sharedState.currentState(),a.current=Object.entries(t).reduce((t,[o,n])=>({...t,[o]:e(n)}),{}),s.current=l.current?.(a.current);let o=Object.entries(t).map(([e,t])=>t?.sharedState.onChange(({nextSharedState:t,prevSharedState:o})=>{o!==t&&a.current&&(a.current[e]=t,s.current=l.current?.(a.current))}));return()=>{a.current=void 0,o.forEach(e=>e?.()),s.current?.()}},[t,i.disabled])}((0,n.useMemo)(()=>s.reduce((e,o)=>({...e,[`${String(o)}State`]:t?.[o]}),{}),[t,s]),i,a)}}),o.rlb("1UUrt");
//# sourceMappingURL=modal.4cf8c02e.js.map
