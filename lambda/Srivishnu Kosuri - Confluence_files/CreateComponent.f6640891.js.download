function e(e){return e&&e.__esModule?e.default:e}function t(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}var n=globalThis.parcelRequired477,a=n.register;a("4tTm9",function(t,a){var o=n("42omo"),r=n("8Mzkb");t.exports.CreateComponent=({pageId:t,onCreate:a,onClose:i,dom:s,textSelection:l,inlineNodeTypes:c,isOpeningMediaCommentFromToolbar:d=!1,closeObjectSidebar:u,isOffline:m})=>{let{editorCreateProps:p}=(0,n("cZa7r").useAnnotations)(),{createAnalyticsEvent:f}=(0,n("inPa6").useAnalyticsEvents)(),g=(0,o.useRef)(null),E=(0,o.useRef)(0),C=(0,o.useRef)(0),{edition:h}=(0,n("bQm3c").useSessionData)(),b=(0,n("3jwuS").useIsCurrentPageLive)();(0,o.useEffect)(()=>{u&&p&&u()},[u,p]),(0,o.useEffect)(()=>{(0,n("8Ss4E").startEditorExperiences)({name:n("irVI7").ADD_INLINE_COMMENT_EXPERIENCE,attributes:{mode:b?n("l2hqi").InlineCommentMode.LIVE:n("l2hqi").InlineCommentMode.EDIT,framework:n("24amZ").InlineCommentFramework.ANNOTATION_PROVIDER,edition:h}},{name:n("irVI7").ADD_INLINE_COMMENT_LOAD_EXPERIENCE},{name:n("irVI7").ADD_INLINE_COMMENT_PUBLISH_EXPERIENCE});let e=Array.from(document.querySelectorAll(".ak-editor-content-area > .ProseMirror"));if(e.length){let t=e.find(e=>!e.closest("#editor-create-sidebar"));t&&(g.current=t)}if(s&&g.current&&l){let e=Array.from(g.current.querySelectorAll(n("aUTn5").IGNORE_SELECTORS)),{text:t,nodesStartPos:a,nodes:o}=(0,n("kbVzJ").indexTextNodes)(g.current,e),{index:r,numMatches:i}=(0,n("kbVzJ").findMatches)(t,l,s.parentNode?s.parentNode:s,0,a,o);E.current=r,C.current=i}},[h,s,l,b,t,u,f,p]);let _=(0,o.useMemo)(()=>({originalSelection:l,numMatches:C.current,matchIndex:E.current,inlineNodeTypes:c,createdFrom:b?n("afGoD").CommentCreationLocation.LIVE:n("afGoD").CommentCreationLocation.EDITOR}),[l,C,E,b,c]);return e(o).createElement(r.CreateComment,{pageId:t,annotationElement:s,selectionOptions:_,onClose:i,onCreate:a,isEditor:!0,isOpeningMediaCommentFromToolbar:d,isOffline:m})}}),a("kbVzJ",function(e,t){function a(e){return e&&e.nodeValue?e.nodeValue.length:0}e.exports.indexTextNodes=function(e,t){let a,o="",r=[],i=[],s=e=>t.some(t=>t===e||t.contains(e))?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT;s.acceptNode=s;let l=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,s,!1);for(;a=l.nextNode();){let e=(0,n("2zMIV").textNormalize)(a.nodeValue);(/^\u0020+$/.test(e)||e.trim())&&(r.push(o.length),i.push(a),o+=e)}return{text:o,nodesStartPos:r,nodes:i}},e.exports.findMatches=function(e,t,n,o,r,i,s){let l=[];if(!n)return{numMatches:0,index:-1,matchTraceList:null};let c=0,d=0,u=0,m=-1,p=0;for(;-1!==(u=e.indexOf(t,c));){let e=function(e,t,n){let a=Math.min(n,e.length-1),o=a,r=e.length;for(;o<r;){let n=o+r>>1;e[n]<=t?o=n+1:r=n}return Math.max(o-1,a)}(r,u,d),t=i[e],f=n;if(3===f.nodeType&&o>=a(f)&&(o-=a(f),f=n.nextSibling),f&&(3===f.nodeType&&t===f||3!==f.nodeType&&f.contains(t))&&u-r[e]<=o&&(m=p),s){let e=t.parentElement,n=[];for(;e&&"content"!==e.getAttribute("id");){let t="",a="",{tagName:o}=e,r=e.classList?e.classList.value:"",i=e.getAttributeNames().filter(e=>-1!==e.indexOf("data-"));r.length&&(t=`.${r.split(" ").join(".")}`),i.length&&i.forEach(t=>{if("data-macro-body"!==t&&"data-title"!==t){let n=e?.getAttribute(t);a+=`[${t}="${n}"]`}else a+=`[${t}]`}),n.unshift(`${o}${t}${a}`),e=e.parentElement}l.push(n.join(" > "))}p++,c=u+1,d=e}return{numMatches:p,index:m,matchTraceList:l.length?l:null}}}),a("2zMIV",function(e,t){let a=(0,n("7W8i8").getLogger)("highlight-action"),o=()=>{let e=window.getSelection();if(!e||e.isCollapsed)return null;let t=e.getRangeAt(0);return String(t).trim()?t:null},r=e=>e?1===e.nodeType&&e.classList.contains("pm-table-sticky-wrapper")?e:e.parentElement?r(e.parentElement):null:null,i=e=>{if(e.commonAncestorContainer){let t=e.commonAncestorContainer;return 3===t.nodeType?t.parentNode:t}return null};e.exports.isHighlightValidForInlineComment=(e,t)=>{let o,r=window.getSelection();if(!r||r?.type==="None")return!1;try{o=(0,n("aUTn5").convertSelectionToLegacyFormat)(e,r.getRangeAt(0),t)}catch(e){a.error`An error occurred while highlighting content - ${e}`}if(!o||!o.searchText)return!1;let{searchText:{selectedText:i,index:s,numMatches:l}}=o;return i.replace(/\n/g,"").length>0&&-1!==s&&l>0&&s<l},e.exports.isHighlightValidForBulkCreateJiraIssues=()=>{let e=window.getSelection();if(!e||e?.type==="None")return!1;let t=o();if(!t)return!1;let n=i(t);return n instanceof HTMLElement&&!!n.closest("table")},e.exports.getRange=o,e.exports.textNormalize=e=>e.replace(/\u00a0/g," "),e.exports.findStickyHeader=r}),a("aUTn5",function(e,t){let a='.user-mention,[data-mention-id],.ap-container,a[href^="/"],.conf-macro[data-hasbody="false"],.status-lozenge-span,.date-lozenger-container,[data-inline-card="true"],.inlineCardView-content-wrap,.smart-link-title-wrapper,.jira-issue,.ak-renderer-extension-overflow-container button,[data-node-type="expand"] > button,[data-node-type="nestedExpand"] > button,.jira-issues,.datasource-table,[data-type=\'file\'],.code-block,.conf-macro[data-macro-name="code"],.pm-table-sticky-wrapper,.blockCardView-content-wrap,.ak-excerpt-include,#view-all-inline-comments-container,s,[data-emoji-id],[data-mark-type=\'dataConsumer\'],#reattach-container,[extensionkey=\'gadget\'],span[data-placeholder],[contenteditable=\'false\'],[data-node-type=\'include\'],.page-properties-report';function o(e,t,o,r,i){let s,l=(0,n("2zMIV").textNormalize)(String(t)),c=l.trim();return c&&(s=function(e,t,o,r,i){let s=Array.from(e.querySelectorAll(".pm-table-sticky-wrapper")),l=Array.from(e.querySelectorAll(a)),{text:c,nodesStartPos:d,nodes:u}=(0,n("kbVzJ").indexTextNodes)(e,[...l,...s]),{index:m,numMatches:p,matchTraceList:f}=(0,n("kbVzJ").findMatches)(c,t,o.startContainer,o.startOffset,d,u,i),g={pageId:r,selectedText:t,index:m,numMatches:p};return f&&(g.matchTraceList=f),g}(e,l,t,o,i)),i?s.matchTraceList:{text:c,searchText:s,area:function(e){let t=window.scrollY,n=window.scrollX,a=e.getClientRects();if(!a.length&&e.parentElement&&e.parentElement()){let o=$(e.parentElement()),r=o.offset();r&&(a=[{top:r.top-t,left:r.left-n,bottom:r.top+(o.height()||0),right:r.left+(o.width()||0)}])}let o=function(e,t){let n={first:t[0],last:t[t.length-1]};return"undefined"!==e.endOffset&&0===e.endOffset&&t.length>1&&(n.last=t[t.length-2]),n}(e,a);return{first:function(e){let a={};return e&&(a.width=e.right-e.left,a.height=e.bottom-e.top,a.left=e.left+n,a.right=e.right+n,a.top=e.top+t,a.bottom=e.bottom+t),a}(o.first),average:function(e,a){let o={};return o.top=e.top,o.left=(e.left||0)+n,o.bottom=a.bottom,void 0!==e.left&&void 0!==e.right&&void 0!==a.left&&void 0!==a.right&&(e.left>=a.right?o.right=e.right:o.right=a.right),o.right=(o.right||0)+n,o.top=(o.top||0)+t,o.bottom=(o.bottom||0)+t,o.width=o.right-o.left,o.height=o.bottom-o.top,o}(o.first,o.last)}}(t),html:$("<div>").append(t.cloneContents()).html(),containingElement:function(e){if(e.commonAncestorContainer){let t=e.commonAncestorContainer;return 3===t.nodeType?t.parentNode:t}}(t),range:t,lastModified:r}}e.exports.IGNORE_SELECTORS=a,e.exports.convertSelectionToLegacyFormat=o,e.exports.getMatchTraces=function(e,t,n){return o(e,t,n,null,!0)||[]}}),a("24amZ",function(e,t){var n,a=((n={}).BACKBONE="backbone",n.REACT="react",n.ANNOTATION_PROVIDER="annotation-provider",n);e.exports.InlineCommentFramework=a}),a("l2hqi",function(e,t){var n,a=((n={}).EDIT="edit",n.VIEW="view",n.LIVE="live",n);e.exports.InlineCommentMode=a}),a("8Mzkb",function(t,a){var o=n("42omo"),r=n("7EEGh"),i=n("hXzKU"),s=n("daq5m"),l=n("56QzY"),c=n("5fMeR"),d=n("B3Avz");let u=n("aJPUt").ExperienceTimeout.CREATE_COMMENT_PUBLISH,m="annotation-provider-inline-comments/CreateComment",p=(0,n("cgtv4").defineMessages)({unableToApplyTitle:{id:"annotation-provider-inline-comments.create.error.unable.to.apply.title",defaultMessage:"Something went wrong"},unableToApplyDescription:{id:"annotation-provider-inline-comments.create.error.unable.to.apply.description",defaultMessage:"We failed to display your comment. To view it, refresh now."},refreshContentLink:{id:"annotation-provider-inline-comments.refresh.content.link",defaultMessage:"Refresh content"}}),f=(0,o.forwardRef)(({as:t="div",style:a,...r},i)=>e(o).createElement(t,{...r,style:a,ref:i,className:(0,n("gMc0m").default)(["_1yt49l6b",r.className])})),g=(e,t)=>{let n=e.querySelector(`[id="${t}"]`);if(n){let e=n.firstChild;if(e?.nodeType===Node.TEXT_NODE)return"text";let t=n.querySelector("[data-node-type]");if(t)return t.dataset.nodeType}return"unknown"},E=e=>(t,a)=>{for(let o of t)"childList"===o.type&&o.removedNodes.length>0&&o.removedNodes.forEach(t=>{Array.from(t.classList??[]).includes("ak-editor-annotation-draft")&&null===document.querySelector(".ak-editor-annotation-draft")&&(e(!0),n("3YBks").createInlineCommentCompoundExperience.initExperience.debugPoint("CreateComment dialog - draft annotation removed"),a.disconnect())})},C=(0,n("7aRa9").withFlags)(({pageId:t,annotationElement:a,selectionOptions:C,onClose:b,onCreate:_,isEditor:I,isOpeningMediaCommentFromToolbar:y,flags:S,isOffline:v})=>{let T=(0,o.useRef)(!1),A=(0,n("9QIM2").usePageClass)();!1===T.current&&(n("3YBks").createInlineCommentCompoundExperience.draftToPublishExperience.start(),T.current=!0);let w=(0,o.useRef)(!1);C&&C?.createdFrom==="EDITOR"&&!1===w.current&&(w.current=!0,C.inlineNodeTypes&&n("3YBks").createInlineCommentCompoundExperience.addCommonAttributes({inlineNodeTypes:C.inlineNodeTypes}));let{formatMessage:N}=(0,n("8C5kA").default)(),R=(0,n("aSsfA").useGetPageMode)(),k=(0,o.useRef)(1),x=(0,o.useRef)(),O=(0,o.useRef)(null),L=(0,o.useRef)(),P=(0,o.useRef)(null),{documentUpdated:M,publishedDocumentVersion:D}=(0,n("a8ZQ3").useDocumentUpdateStatus)(),{setRefetchContent:U}=(0,n("5pQ1Y").useContentRefetchDispatch)(),[F,B]=(0,o.useState)(!1),[j,V]=(0,o.useState)(!1),G=(0,o.useContext)(n("1kHsc").ExperienceTrackerContext),{onChange:H,resetContentChanged:K}=(0,n("bSvtO").useCommentsContentActions)(),{createAnalyticsEvent:W}=(0,n("inPa6").useAnalyticsEvents)(),{addUnresolvedInlineComment:q}=(0,n("k8e76").useInlineCommentsActions)(),{userId:z,cloudId:Y}=(0,n("bQm3c").useSessionData)(),{addNewCommentThreads:Q}=(0,n("8i27m").useCommentsDataActions)(),{width:X}=(0,n("hl0fg").useWindowSize)(),{isCommentsPanelShown:J}=(0,c.useShowCommentsPanel)(),{isSticky:Z}=(0,n("3Xfi8").useShouldCommentSidebarBeSticky)({annotationElement:a,isEditor:!!I}),ee=(0,n("eA7s6").useCommentSidebarOffset)({isEditor:!!I,annotationElement:a,windowWidth:X,isSticky:Z}),[et]=(0,n("1KmJq").useMutation)((0,n("eSUdr").default)`mutation CreateCommentInlineCommentMutation($input:CreateInlineCommentInput!$pageId:ID!$includeReactionsAndReplies:Boolean!){createInlineComment(input:$input){id body(representation:ATLAS_DOC_FORMAT){value}contentStatus createdAt{value}createdAtNonLocalized links{webui editui}location{type ...on InlineComment{inlineMarkerRef inlineText inlineResolveProperties{resolved isDangling resolvedFriendlyDate resolvedTime resolvedUser}}...on FooterComment{commentResolveProperties{resolved resolvedFriendlyDate resolvedTime resolvedUser}}}parentId permissions{isEditable isRemovable isResolvable}version{by{displayName}when number}author{displayName profilePicture{path}permissionType ...on KnownUser{accountId}}createdAt{value}createdAtNonLocalized location{type ...on InlineComment{inlineMarkerRef inlineText inlineResolveProperties{isDangling resolvedTime resolvedFriendlyDate resolvedUser resolved}}...on FooterComment{commentResolveProperties{resolved resolvedFriendlyDate resolvedTime resolvedUser}}}reactionsSummary(pageId:$pageId contentType:"page" childType:"comment")@include(if:$includeReactionsAndReplies){ari containerAri reactionsCount reactionsSummaryForEmoji{id emojiId count reacted}}replies@include(if:$includeReactionsAndReplies){id body(representation:ATLAS_DOC_FORMAT){value}contentStatus createdAt{value}createdAtNonLocalized links{webui editui}location{type ...on InlineComment{inlineMarkerRef inlineText inlineResolveProperties{resolved isDangling resolvedFriendlyDate resolvedTime resolvedUser}}...on FooterComment{commentResolveProperties{resolved resolvedFriendlyDate resolvedTime resolvedUser}}}parentId permissions{isEditable isRemovable isResolvable}version{by{displayName}when number}author{displayName profilePicture{path}permissionType ...on KnownUser{accountId}}createdAt{value}createdAtNonLocalized reactionsSummary(pageId:$pageId contentType:"page" childType:"comment"){ari containerAri reactionsCount reactionsSummaryForEmoji{id emojiId count reacted}}}}}`),{createInlineCommentInterop:en}=(0,n("6cWI7").useCreateInlineCommentMutation)({contentId:t}),{pageInfo:ea,loading:eo,error:er,refetch:ei}=(0,n("cAdj8").usePageInfo)({fetchPolicy:"cache-first",onError:e=>{G.stopOnError({name:n("irVI7").ADD_INLINE_COMMENT_PUBLISH_EXPERIENCE,error:e})}});(0,o.useEffect)(()=>{M&&F&&ei&&(ei(),B(!1),b&&b())},[M,F]),(0,o.useEffect)(()=>{let e=document.querySelector("meta[name=confluence-request-time]");if(e){let t=Number(e.getAttribute("content"));k.current=isNaN(t)?1:t}if(R!==n("cD1qu").PageMode.VIEW&&(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")){let e=document.getElementById("ak-editor-textarea");L.current=new MutationObserver(E(V)),e&&L.current.observe(e,{childList:!0,subtree:!0})}return()=>{R!==n("cD1qu").PageMode.VIEW&&L.current&&(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")&&L.current.disconnect()}},[]),(0,o.useEffect)(()=>{if(!(0,n("6mKj3").expValEquals)("confluence_comment_enable_exp_create_rerenderer","isEnabled",!0))return;let e=setTimeout(()=>{h()||j||n("3YBks").createInlineCommentCompoundExperience.initExperience.fail(Error("CreateComment renders without highlight"))},100);return()=>clearTimeout(e)},[]);let es=(0,o.useRef)({lastMutationSucceeded:!1,totalSaves:0,failedSaves:0});(0,o.useEffect)(()=>()=>{let e=es.current.totalSaves-es.current.failedSaves;if(es.current.failedSaves>0&&n("3YBks").createInlineCommentCompoundExperience.addCommonAttributes({failedSaves:es.current.failedSaves}),e>1&&(n("3YBks").createInlineCommentCompoundExperience.addCommonAttributes({savesWithoutError:e}),n("3YBks").createInlineCommentCompoundExperience.draftToPublishExperience.debugPoint("User clicked save, but UI did not update following successful save")),es.current.lastPublishFailure)if(es.current.lastMutationSucceeded)return void n("3YBks").createInlineCommentCompoundExperience.draftToPublishExperience.softFail(es.current.lastPublishFailure);else return["Invalid arguments provided for matchIndex and/or numMatches","Failed to insert highlight, invalid originalSelection, numMatches, or matchIndex","Selection was made against a stale version of the content","Published Version out of date. Please provide correct published version."].some(e=>es.current.lastPublishFailure?.message.includes(e))?void n("3YBks").createInlineCommentCompoundExperience.draftToPublishExperience.abort({abortReason:"Unable to apply annotation to document"}):(es.current.lastPublishFailure?.message.includes("Could not create content with type comment")&&n("3YBks").createInlineCommentCompoundExperience.draftToPublishExperience.abort({abortReason:"User does not have space permission to create comments"}),void n("3YBks").createInlineCommentCompoundExperience.draftToPublishExperience.stopOnError(es.current.lastPublishFailure));if(es.current.lastMutationSucceeded)return void n("3YBks").createInlineCommentCompoundExperience.draftToPublishExperience.complete();let t="Create Comment UI dismissed";n("3YBks").createInlineCommentCompoundExperience.draftToPublishExperience.abort({abortReason:t}),n("3YBks").createInlineCommentCompoundExperience.initExperience.abort({abortReason:t}),n("a3q17").DIRECT_COMMENT_DATA_FLOW_METRIC.cancel()},[]);let el=(0,o.useRef)({total:0,failedSaves:0}),ec=(0,o.useCallback)((e,t)=>{(0,n("isdzP").isUnexpectedError)(t)?G.stopOnError({name:n("irVI7").ADD_INLINE_COMMENT_PUBLISH_EXPERIENCE,error:e}):(0,n("7Sm4c").markErrorAsHandled)(e)},[G]),ed=(0,o.useCallback)(e=>{let{message:t}=(0,n("isdzP").parseError)(e);ec(e,(0,n("isdzP").getTranslatedError)(t))},[ec]),eu=(e,t)=>Promise.race([new Promise((t,a)=>{x.current=setTimeout(()=>(G.stopOnError({name:n("irVI7").ADD_INLINE_COMMENT_PUBLISH_EXPERIENCE,error:Error(`Request took longer than ${e}ms`)}),a({error:n("9CnRS").i18n.createTimeout})),e)}),t]).finally(()=>{x.current&&clearTimeout(x.current)}),em=(0,o.useCallback)(e=>{G.abort({name:n("irVI7").ADD_INLINE_COMMENT_EXPERIENCE,reason:e?"comment discarded by user":"empty comment discarded by user"}),(0,n("aGjYc").clearCommentDraft)(I?"edit-inline":"inline","create"),b&&b()},[G,I,b]);if(eo||er)return n("3YBks").createInlineCommentCompoundExperience.initExperience.debugPoint(`CreateComment dialog ${eo?"loading":"error"}`,{error:er?.message??"",loading:eo}),null;let ep=ea?.space?.id??"",ef=ea?.type??"",eg=ea?.operations||[],eE=eg.some(e=>e?.operation==="create"&&e?.targetType==="comment"),eC=(0,n("9wGTI").fg)("confluence_comment_use_comment_media_endpoint")?eE:eg.some(e=>e?.operation==="update"&&e?.targetType===ef);return e(o).createElement(d.CommentSidebar,{pageId:t,onClose:em,isEditor:I,annotationElement:a,sidebarOffset:ee,isOpeningMediaCommentFromToolbar:y,sidebarEl:O,isSticky:Z,isFabricPage:!0},e(o).createElement(f,{ref:P},e(o).createElement(s.CommentAuthor,{commentMode:"create",userId:z}),e(o).createElement(i.LazyCommentEditor,{pageId:t,pageType:ef,spaceId:ep,appearance:"chromeless",EditorComponent:r.ChromelessEditor,onSaveComment:(r,i)=>{if(es.current.totalSaves=es.current.totalSaves+1,es.current.lastMutationSucceeded=!1,el.current.total=el.current.total+1,!C)return Promise.reject({error:n("9CnRS").i18n.unableToGenerateStep});(0,n("8Ss4E").startEditorSubExperience)({name:n("irVI7").VIEW_PAGE_DIRECT_COMMENT_DATA_FLOW_EXPERIENCE,attributes:{pageId:t,pageMode:R,isEditor:I}}),n("a3q17").DIRECT_COMMENT_DATA_FLOW_METRIC.start(),n("a3q17").DIRECT_COMMENT_DATA_FLOW_METRIC.mark("commentCreationStart"),(0,n("8Ss4E").startEditorSubExperience)({name:n("irVI7").ADD_INLINE_COMMENT_PUBLISH_EXPERIENCE,attributes:{timeout:u}});let{numMatches:s,matchIndex:c,originalSelection:d,createdFrom:f,step:E,targetNodeType:h}=C,y={input:{containerId:t,commentBody:{value:JSON.stringify(r),representationFormat:"ATLAS_DOC_FORMAT"},numMatches:s,matchIndex:c,originalSelection:d,createdFrom:f,lastFetchTimeMillis:k.current,publishedVersion:D,...!!E&&{step:(0,n("aMfLn").constructStepForGql)(E)}},pageId:t,includeReactionsAndReplies:!1},v=!1,T=e=>{es.current.lastMutationSucceeded=!0;let{data:o}=e;x.current&&clearTimeout(x.current),v=!0,n("3YBks").createInlineCommentCompoundExperience.draftToPublishExperience.publishSucceeded(),n("a3q17").DIRECT_COMMENT_DATA_FLOW_METRIC.mark("commentCreationEnd"),n("a3q17").DIRECT_COMMENT_DATA_FLOW_METRIC.mark("commentDataLoadStart");let r=o?.createInlineComment?.location?.inlineMarkerRef,s=o?.createInlineComment?.id;if(!r||!s)throw Error(`Comment was not saved correctly - either annotationId '${r}' or commentId '${s}' were undefined`);K();try{_(r,o?.createInlineComment)}catch(e){throw Error(`Unable to apply annotation to document - ${e.message}`)}if(q(r,R),Q({general:{},inline:{[r]:{...o?.createInlineComment,isUnread:!1,isOpen:!0,type:n("8i27m").CommentType.INLINE,wasRemovedByAnotherUser:!1,replies:[],reactionsSummary:null}}}),W({type:"sendTrackEvent",data:{action:"created",actionSubject:"comment",actionSubjectId:s,objectType:"page",objectId:t,source:I?"editPageScreen":"viewPageScreen",attributes:{...(0,n("gtj7V").getCommentsDataManagerExperimentAttributes)(),source:n("en1dX").AnalyticsSource.STANDALONE,commentType:n("8i27m").CommentType.INLINE,parentCommentId:null,isReply:!1,pageMode:R,isLivePage:"LIVE"===f,navdexPointType:l.END,inlineNodeTypes:C.inlineNodeTypes,...a&&!I&&{nodeType:g(a,r)},...!I&&{targetNodeType:h}}}}).fire(),i(),n("4EKKB").selectInlineCommentCompoundExperience.selectAnnotation.start({pageClass:A,commentType:"inline",entryPoint:"create-comment",annotationId:r}),(0,n("9wGTI").fg)("confluence_frontend_view_inline_comment_create")){let e={annotationId:r,entryPoint:m,pageClass:A};"renderer"===A?G.start({name:n("irVI7").VIEW_INLINE_COMMENT_EXPERIENCE,timeout:n("aJPUt").ExperienceTimeout.VIEW_INLINE_COMMENT,attributes:{...(0,n("gtj7V").getCommentsDataManagerExperimentAttributes)(),...e}}):"editor"===A&&G.updateAttributes({name:n("irVI7").VIEW_INLINE_COMMENT_EXPERIENCE,attributes:e}),J&&G.fail({name:n("irVI7").VIEW_INLINE_COMMENT_EXPERIENCE,error:Error("Comments panel is visible when it should not be"),attributes:{stopPoint:m}})}},w=a=>{es.current.failedSaves=es.current.failedSaves+1,el.current.failedSaves=el.current.failedSaves+1,G.fail({name:n("irVI7").VIEW_PAGE_DIRECT_COMMENT_DATA_FLOW_EXPERIENCE,error:a,attributes:{pageId:t,pageMode:R,isEditor:I,pointOfFailure:v?"applying-comment-to-ui":"running-mutation"}}),n("a3q17").DIRECT_COMMENT_DATA_FLOW_METRIC.cancel(),n("3YBks").createInlineCommentCompoundExperience.draftToPublishExperience.debug({error:a,createAnalyticsEvent:W,extraAttributes:{pointOfFailure:v?"applying-comment-to-ui":"running-mutation"}}),v||(es.current.lastPublishFailure=a);let r=!1,{errorId:i,message:s}=(0,n("isdzP").parseError)(a),l=(0,n("isdzP").getTranslatedError)(s);if((0,n("isdzP").isHighlightError)(l)&&(W({type:"sendOperationalEvent",data:{source:"viewPage",objectType:"page",objectId:t,action:"invalid",actionSubject:"highlight",actionSubjectId:"inlineComment",attributes:{errorMessage:s,editor:"FABRIC",framework:n("kmHPt").InlineCommentFramework.ANNOTATION_PROVIDER,errorId:i,highlightOrigin:"userHighlight"}}}).fire(),r=!0),ec(a,l),r=r||(0,n("isdzP").isOutOfDateError)(l),(0,n("isdzP").isAnnotationError)(l)){let a=`create-error-${Date.now()}`;S.showWarningFlag({id:a,title:e(o).createElement(n("gtD4K").default,p.unableToApplyTitle),description:e(o).createElement(n("gtD4K").default,l===n("9CnRS").i18n.unableToApplyAnnotation?p.unableToApplyDescription:l),actions:R===n("cD1qu").PageMode.VIEW?[{content:N(p.refreshContentLink),onClick:()=>{U(!0),em(),S.hideFlag(a)}}]:[]}),W({type:"sendOperationalEvent",data:{source:R===n("cD1qu").PageMode.VIEW?"viewPageScreen":"editPageScreen",objectType:"page",objectId:t,action:"failed",actionSubject:"applyAnnotation",actionSubjectId:"inlineComment",attributes:{errorMessage:s,editor:"FABRIC",framework:n("kmHPt").InlineCommentFramework.ANNOTATION_PROVIDER,isLivePage:R===n("cD1qu").PageMode.LIVE,tenantId:Y,userId:z,pageId:t}}}).fire(),(0,n("9wGTI").fg)("confluence_frontend_comment_highlight_apply_fixes")?n("3YBks").createInlineCommentCompoundExperience.draftToPublishExperience.fail(Error("Unable to apply annotation to document"),{errorMessage:s,...i?{errorId:i}:{},pageMode:R,context:I?"editor":"renderer",pointOfFailure:v?"applying-comment-to-ui":"running-mutation",pageId:t}):n("3YBks").createInlineCommentCompoundExperience.draftToPublishExperience.abort({abortReason:"Unable to apply annotation to document"}),b&&b();return}return Promise.reject({error:r?n("9CnRS").i18n.contentOutOfDate:l,contentOutOfDate:r})},O=e=>en({originalMutationFn:et,options:e,onCacheUpdateError:ed});return(0,n("9wGTI").fg)("confluence_frontend_add_inline_comment_timeout")?eu(u,O({variables:y}).then(T).catch(w)):O({variables:y}).then(T).catch(w)},onContentChange:H,commentMode:"create",commentType:I?"edit-inline":"inline",onEditorReady:()=>{G.succeed({name:n("irVI7").ADD_INLINE_COMMENT_LOAD_EXPERIENCE});let e=h();if(!e&&!j)return void n("3YBks").createInlineCommentCompoundExperience.initExperience.fail(Error("No annotation element"));setTimeout(()=>{requestAnimationFrame(()=>{if(!e)return void n("3YBks").createInlineCommentCompoundExperience.initExperience.abort({abortReason:"Draft annotation removed from document"});if(O.current){let t=Math.abs(e.getBoundingClientRect().top-O.current.getBoundingClientRect?.().top);t>40?O.current.checkVisibility()?(n("3YBks").createInlineCommentCompoundExperience.initExperience.debug({error:Error("View Created Comment UI too far from annotation"),createAnalyticsEvent:W,extraAttributes:{misalignedBy:t}}),n("3YBks").createInlineCommentCompoundExperience.initExperience.complete()):(n("3YBks").createInlineCommentCompoundExperience.addCommonAttributes({misalignedBy:t}),n("3YBks").createInlineCommentCompoundExperience.initExperience.softFail(Error("Draft Comment UI is setup too far from annotation"))):n("3YBks").createInlineCommentCompoundExperience.initExperience.complete()}else n("3YBks").createInlineCommentCompoundExperience.initExperience.fail(Error("Missing create comment ui"))})},1e3)},hideWatchCheckbox:!0,pageMode:I?"edit":"view",shouldWarnOnInternalNavigation:!0,useNewWarningModal:!0,setShouldRefetch:()=>B(!0),hasMediaUploadPermissions:eC,commentContainerElementRef:P,wasDraftAnnotationRemoved:j,isStandaloneComment:!0,isOffline:v})))});function h(){let e=document.querySelectorAll('[data-annotation-draft-mark="true"], .ak-editor-annotation-draft');if(1===e.length)return e[0];for(let t=0;t<e.length;t++)if(e[t].getBoundingClientRect().height>0)return e[t];return null}t.exports.CreateComment=C}),a("aGjYc",function(e,t){let a=(0,n("7W8i8").getLogger)("comment-draft-utils"),o=(e,t)=>{switch(e){case"edit-inline":if("create"===t)return n("1UApO").keys.COMMENT_DRAFTS_EDITOR_INLINE_CREATE;if("edit"===t)return n("1UApO").keys.COMMENT_DRAFTS_EDITOR_INLINE_EDIT;return n("1UApO").keys.COMMENT_DRAFTS_EDITOR_INLINE_REPLY;case"inline":if("create"===t)return n("1UApO").keys.COMMENT_DRAFTS_INLINE_CREATE;if("edit"===t)return n("1UApO").keys.COMMENT_DRAFTS_INLINE_EDIT;return n("1UApO").keys.COMMENT_DRAFTS_INLINE_REPLY;default:if("create"===t)return n("1UApO").keys.COMMENT_DRAFTS_PAGE_CREATE;if("edit"===t)return n("1UApO").keys.COMMENT_DRAFTS_PAGE_EDIT;return n("1UApO").keys.COMMENT_DRAFTS_PAGE_REPLY}},r=(e,t,r)=>{let i=null,s=o(t,r),l=n("17wUi").confluenceLocalStorageInstance.getItem(s);if(null!==l){try{i=JSON.parse(atob(l))}catch(t){a.error`Unable to get draft object for ${e}; ${t}`}if(i){let{pageId:t,adf:n}=i;if(t===e)return n}}return null};e.exports.OUT_OF_DATE_KEY="outOfDate",e.exports.saveCommentDraft=(e,t,r,i)=>{let s=null,l=o(r,i),c=JSON.stringify({pageId:t,adf:e});try{s=btoa(c)}catch(e){a.error`Unable to save draft object for ${t}; ${e}`}return null!==s&&(n("17wUi").confluenceLocalStorageInstance.setItem(l,s,259200),!0)},e.exports.clearCommentDraft=(e,t)=>{let a=o(e,t);n("17wUi").confluenceLocalStorageInstance.removeItem(a)},e.exports.hasCommentDraft=(e,t,n)=>!!r(e,t,n),e.exports.getCommentDraft=r}),a("cAdj8",function(e,t){var a=n("42omo"),o=n("j1Ss3");let r=(0,n("eSUdr").default)`query usePageInfoPageInfoQuery($pageId:ID){content(id:$pageId status:["current" "archived" "draft"]){nodes{id type status space{id}operations{operation targetType}version{number}}}}`,i={id:"",type:"",status:"",space:{id:""},operations:[],version:{number:-1}};e.exports.usePageInfo=({fetchPolicy:e="cache-and-network",onCompleted:t,onError:s}={})=>{let[l]=(0,n("ep3mz").usePageContentId)(),{data:c,loading:d,error:u,refetch:m}=(0,o.useQuery)(r,{variables:{pageId:l},fetchPolicy:e,onCompleted:t});return(0,a.useMemo)(()=>{if(u)return((0,n("1uFM6").isUnauthorizedError)(u)||u instanceof n("flE5X").NoNetworkError)&&(0,n("7Sm4c").markErrorAsHandled)(u),s?.(u),{pageInfo:null,loading:!1,error:u,refetch:null};if(c){let e=c.content?.nodes?.[0]??null;return e?{pageInfo:e,loading:d,error:void 0,refetch:m}:{pageInfo:{...i},loading:d,error:void 0,refetch:m}}return{pageInfo:null,loading:d,error:void 0,refetch:null}},[c,d,u,s,m])}}),a("kmHPt",function(e,t){var n,a=((n={}).BACKBONE="backbone",n.REACT="react",n.ANNOTATION_PROVIDER="annotation-provider",n);e.exports.InlineCommentFramework=a}),a("daq5m",function(t,a){var o=n("42omo"),r=n("jJK3p"),i=n("fs6LW"),s=n("gvWVt");let l=(0,n("eSUdr").default)`query CommentAuthorInlineCommentAuthorQuery($commentId:ID!){content(id:$commentId){nodes{id history{createdBy{displayName profilePicture{path}...on KnownUser{accountId}}}}}}`,c=(0,n("eSUdr").default)`query CommentAuthorUserQuery($id:ID!){user:confluence_atlassianUser(id:$id){id displayName photos{value}}}`,d=({isFixedEditStyles:e,commentMode:t,isReply:n,isStandaloneComment:a,isFooterComment:o})=>e?"edit"===t&&(n||a||o?"0":"-24px"):"reply"===t?"-2px":"inherit",u=({isFixedEditStyles:e,commentMode:t,isReply:n})=>e?"edit"===t&&(n?"8px":"12px"):"view"===t?void 0:"8px",m=(0,o.forwardRef)(({as:t="div",style:a,...r},i)=>e(o).createElement(t,{...r,style:{...a,"--_1lfhtsa":(0,n("7sObp").default)(d(r)),"--_b6gqaj":(0,n("7sObp").default)(u(r))},ref:i,className:(0,n("gMc0m").default)(["_1reowpa7 _18m9wpa7 _1e0c1txw _4cvr1h6o _18u0h411 _n3td1ymm _jva41snc _uvzw1snc _wkreagmp _12rjagmp _gcmzvv82 _1vjrvv82 _5xy14viv _1dtc4viv _1msj4viv",r.className])})),p=(0,o.forwardRef)(({as:t="div",style:a,...r},i)=>{let{isCommentsPanel:s,isFooterComment:l,isFixedEditStyles:c,...d}=r;return e(o).createElement(t,{...d,style:a,ref:i,className:(0,n("gMc0m").default)(["_1e0c1hv8",r.isCommentsPanel||r.isFooterComment||r.isFixedEditStyles?"_u5f312x7":"_u5f3u2gc",r.className])})}),f=(0,o.forwardRef)(({as:t="div",style:a,...r},i)=>e(o).createElement(t,{...r,style:a,ref:i,className:(0,n("gMc0m").default)(["_1e0c1txw _2lx21bp4 _14yy2smr _hwn17g83 _1msj4viv _5xy14viv _1dtc4viv _17rp1o8v _cpznidpf _1s79idpf _amufidpf _x966idpf _387xglyw _14l5azsu _1ptk1j28 _19gdazsu _1gidazsu _1e6pazsu",r.className])})),g=(0,n("ecnYn").xcss)({position:"relative"}),E=(0,n("ecnYn").xcss)({paddingLeft:"space.050"}),C=(0,n("ecnYn").xcss)({position:"relative",top:"space.negative.025"}),h=(0,n("ecnYn").xcss)({top:"space.negative.050"}),b=(0,o.forwardRef)(({as:t=f,style:a,...r},i)=>e(o).createElement(t,{...r,style:a,ref:i,className:(0,n("gMc0m").default)(["_2lx2vrvc _4cvr1h6o",r.className])})),_=(0,o.forwardRef)(({as:t="span",style:a,...r},i)=>e(o).createElement(t,{...r,style:a,ref:i,className:(0,n("gMc0m").default)(["_19bvu2gc _s7n4jp4b",r.className])})),I=(0,o.forwardRef)(({as:t="div",style:a,...r},i)=>{let{isStandaloneComment:s,isCommentsPanel:l,isFixedEditStyles:c,...d}=r;return e(o).createElement(t,{...d,style:a,ref:i,className:(0,n("gMc0m").default)(["_2lx2vrvc _1n261q9c _1e0c1txw _4cvr1h6o _102e1o8v _1ytiidpf _7yhbidpf _1bdkidpf _24rcidpf _7wy0glyw _1plv1j28 _zmp8azsu _1blwazsu _9b8iazsu _1kcs1y54",r.isStandaloneComment&&(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")?"_2lx21bp4":"_2lx2n7od",r.isStandaloneComment&&(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")?"_4cvr1y6m":"_4cvrn7od",r.isStandaloneComment||r.isCommentsPanel&&r.isFixedEditStyles?"_1t4p1rpy":"_1t4pazsu",r.className])})}),y=(0,n("cgtv4").defineMessages)({defaultTooltip:{id:"inline-comments-common.date-tooltip.default",defaultMessage:"Added on {date} at {timestamp}"},resolvedTooltip:{id:"inline-comments-common.date-tooltip.resolved",defaultMessage:"Resolved by {username} on {date} at {timeStamp}"},reopenedTooltip:{id:"inline-comments-common.date-tooltip.reopened",defaultMessage:"Reopened by {username} on {date} at {timeStamp}"},reopenedDateInfoText:{id:"inline-comments-common.reopened.date.info.text",defaultMessage:"Reopened {timeAgo}{timeStamp, select,\n			undefined {}\n			other { at {timeStamp}}\n		}"},resolvedDateInfoText:{id:"inline-comments-common.resolved.date.info.text",defaultMessage:"Resolved {timeAgo}"}});t.exports.CommentAuthor=({commentMode:t,userId:a,date:d,createdAtNonLocalized:u,size:S,displayName:v,avatarUrl:T,commentDateUrl:A,commentId:w,permissionType:N,isInactiveComment:R,showCopyLink:k=!1,resolveProperties:x,isCommentsPanel:O=!1,isGeneralComments:L=!1,isReply:P=!1,isFooterComment:M=!1,isStandaloneComment:D=!1})=>{let{data:U}=(0,n("xQxzY").useQuery)(l,{variables:{commentId:w},fetchPolicy:"cache-and-network",skip:!!(a||!w)}),{data:F}=(0,n("xQxzY").useQuery)(c,{variables:{id:a},fetchPolicy:"cache-and-network",skip:!!(T&&v||!a||w)}),B=(U?.content?.nodes||[])[0]?.history?.createdBy,j=B?B.profilePicture?.path:(F?.user?.photos||[])[0]?.value,V=B?B.displayName:F?.user?.displayName,G=B?.accountId,H=`${window.location.origin}/wiki${A}`,K=(0,n("8C5kA").default)(),{formatMessage:W}=K,{timeZone:q,tenantTimeZone:z}=(0,n("bQm3c").useSessionData)(),Y=q||z||void 0,Q=()=>{if(x?.resolvedTime&&(0,n("6mKj3").expValEquals)("confluence_comments_cohiti_date_tooltips","isEnabled",!0)){let e=x?.resolved?y.resolvedTooltip:y.reopenedTooltip,t=new Date(x.resolvedTime);return W(e,{username:x?.resolvedUser,date:K.formatDate(t,{month:"short",day:"numeric",year:"numeric",timeZone:Y}),timeStamp:K.formatTime(t,{hour:"numeric",minute:"numeric",timeZone:Y})})}return x?.resolved?W(n("3ejfs").commentsi18n.resolvedByTooltipTextCommentsPanel,{username:x?.resolvedUser}):W(n("3ejfs").commentsi18n.reopenedByTooltipTextCommentsPanel,{username:x?.resolvedUser,createdAtNonLocalized:e(o).createElement(n("1YXTQ").TimeAgo,{date:(0,n("6faGq").getValidDate)(u),usePrepositions:!0})})},X=()=>e(o).createElement(n("3gadb").default,{content:x?.resolvedFriendlyDate},e(o).createElement("span",{"aria-label":W(n("3ejfs").commentsi18n.resolvedByInfoText,{username:x?.resolvedUser,friendlyDate:x?.resolvedFriendlyDate})},e(o).createElement(n("5dK2X").default,{color:"color.text.subtlest",size:"small",maxLines:2},W(n("3ejfs").commentsi18n.resolvedByInfoText,{username:x?.resolvedUser,friendlyDate:x?.resolvedFriendlyDate})))),J=()=>{let e=x?.resolved?"resolvedDateInfoText":"reopenedDateInfoText";if(!(x?.resolvedTime&&(0,n("6mKj3").expValEquals)("confluence_comments_cohiti_date_tooltips","isEnabled",!0)))return W(n("3ejfs").commentsi18n[e],{friendlyDate:x?.resolvedFriendlyDate});{let t=new Date(x.resolvedTime),a=(Date.now()-t.getTime())/1e3;return W(y[e],{timeAgo:(0,n("1YXTQ").formatTimeAgo)(K,t,!0,{},q,z),timeStamp:a>=86400?K.formatTime(t,{hour:"numeric",minute:"numeric",timeZone:Y}):void 0})}},Z=()=>e(o).createElement(n("3gadb").default,{position:"top",content:Q()},e(o).createElement("span",{"aria-label":J()},e(o).createElement(n("5dK2X").default,{color:"color.text.subtlest",size:"small",maxLines:2},J()))),ee=()=>!M&&!O&&(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")||M&&(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")||O?Z():X(),et=(0,o.useCallback)(()=>!!L&&!M,[L,M]),en=t=>x?.resolved||x?.resolvedFriendlyDate?e(o).createElement(e(o).Fragment,null,t,et()&&!P&&(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")&&e(o).createElement(n("6f0Oj").default,{xcss:[C,E,M&&h]},e(o).createElement(n("3gadb").default,{content:W(n("3ejfs").commentsi18n.generalCommentTooltip)},e(o).createElement(e(n("8jHAi")),{color:"var(--ds-icon-subtlest, #6B6E76)",testId:"general-comment-page-icon",label:W(n("3ejfs").commentsi18n.generalCommentTooltip)})))):e(o).createElement("span",null,e(o).createElement(n("dcJ7R").default,{space:"space.050"},e(o).createElement(n("1YXTQ").TimeAgo,{date:(0,n("6faGq").getValidDate)((0,n("9wGTI").fg)("confluence_frontend_content_wrapper")?u:d)}),et()&&!P&&(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")&&e(o).createElement(n("6f0Oj").default,{xcss:C},e(o).createElement(n("3gadb").default,{content:W(n("3ejfs").commentsi18n.generalCommentTooltip)},e(o).createElement(e(n("8jHAi")),{color:"var(--ds-icon-subtlest, #6B6E76)",testId:"general-comment-page-icon",label:W(n("3ejfs").commentsi18n.generalCommentTooltip)}))))),ea=("view"===t||(0,n("9wGTI").fg)("confluence_frontend_content_wrapper"))&&d,eo=v||V||"";return e(o).createElement(m,{commentMode:t,isReply:P,isStandaloneComment:D,isFooterComment:M,isFixedEditStyles:(0,n("9wGTI").fg)("confluence_frontend_content_wrapper"),"data-cy":"comment-author"},e(o).createElement(p,{isCommentsPanel:O,isReply:P,isFooterComment:M,isFixedEditStyles:(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")},e(o).createElement(i.ProfileAvatar,{userId:a,src:T||j,trigger:"click",size:S,name:eo})),e(o).createElement(f,{className:(0,n("gMc0m").default)([(0,n("6mKj3").expValEquals)("confluence_comments_tuneup","isEnabled",!0)&&"_zulpu2gc _2lx2vrvc _4cvr1q9y"])},e(o).createElement(b,null,R?e(o).createElement("span",{"data-testid":"dummy-profile-link"},v||V):e(o).createElement(r.ProfileLink,{fullName:v||V,userId:a||G,style:{wordBreak:"break-word",color:"var(--ds-text, #292A2E)",fontWeight:"var(--ds-font-weight-medium, 500)"},isUnderlinedByDefault:!1}),N===n("7tI6B").SitePermissionType.EXTERNAL?e(o).createElement(_,null,e(o).createElement(s.ExternalCollaboratorUserLozenge,null)):null),ea&&(()=>{let t=ee(),a=A&&!(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")&&(O&&!(0,n("9wGTI").fg)("confluence_frontend_comments_panel_v2")||!O),r=(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")?u:d;return e(o).createElement(I,{isStandaloneComment:D,isCommentsPanel:O,isFixedEditStyles:(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")},(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")?e(o).createElement("span",null,e(o).createElement(n("dcJ7R").default,{space:"space.050"},x?.resolved||x?.resolvedFriendlyDate?t:e(o).createElement(n("3gadb").default,{content:(0,n("6mKj3").expValEquals)("confluence_comments_cohiti_date_tooltips","isEnabled",!0)?W(y.defaultTooltip,{date:K.formatDate((0,n("6faGq").getValidDate)(r),{month:"short",day:"numeric",year:"numeric",timeZone:Y}),timestamp:K.formatTime((0,n("6faGq").getValidDate)(r),{hour:"numeric",minute:"numeric",timeZone:Y})}):void 0},(0,n("6mKj3").expValEquals)("confluence_comments_tuneup","isEnabled",!0)?e(o).createElement(n("6f0Oj").default,null,"1 w"):e(o).createElement(n("1YXTQ").TimeAgo,{date:(0,n("6faGq").getValidDate)(r)})),et()&&!P&&(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")&&e(o).createElement(n("6f0Oj").default,{xcss:g},e(o).createElement(n("3gadb").default,{content:W(n("3ejfs").commentsi18n.generalCommentTooltip)},e(o).createElement(e(n("8jHAi")),{color:"var(--ds-icon-subtlest, #6B6E76)",testId:"general-comment-page-icon",label:W(n("3ejfs").commentsi18n.generalCommentTooltip)}))))):en(t),a&&e(o).createElement(n("6b5EI").CopyLinkButton,{visible:k,textToCopy:H}))})()))}}),a("jJK3p",function(t,a){var o=n("3u0dr"),r=n("frIzR"),i=n("42omo"),s=n("a6t12"),l=n("5XsiK"),c=n("dD7ks");let d=(0,n("ecnYn").xcss)({textDecoration:"underline",display:"inline-block",cursor:"pointer"}),u=(0,n("cgtv4").defineMessages)({profileLinkName:{id:"profile.link.name",defaultMessage:"{fullName} profile"}}),m=(0,o.isReactCompilerActiveV1)()?t=>{let a,o,m,p=(0,r.c)(23),{userId:f,fullName:g,isAnonymous:E,onUserLinkClick:C,referralSource:h,className:b,style:_,behavior:I,position:y,offset:S,ariaLabel:v,isUnderlinedByDefault:T}=t,A=void 0!==E&&E,w=void 0===I?"link":I,N=void 0===y?"bottom-start":y,R=void 0===T||T,{canViewUserProfile:k}=(0,n("jyPfN").useViewUserProfile)(),x=(0,n("8C5kA").default)(),O=f??"";p[0]!==O?(a={type:"USER",payload:{userId:O}},p[0]=O,p[1]=a):a=p[1];let{href:L}=(0,c.useNavigateToTeamsApp)(a);p[2]!==v||p[3]!==w||p[4]!==b||p[5]!==g||p[6]!==x||p[7]!==A||p[8]!==R||p[9]!==S||p[10]!==C||p[11]!==N||p[12]!==h||p[13]!==_||p[14]!==L||p[15]!==f?(o=()=>{if("card"===w)return e(i).createElement(s.ProfileCardWrapper,{isAnonymous:A,userId:f,position:N,offset:S,ariaLabel:v},e(i).createElement(n("6f0Oj").default,{style:_,xcss:d},g));{let t={..._,...R?{textDecoration:"underline"}:{}};return e(i).createElement(n("cPER9").PeopleLink,{target:"_blank",onClick:C,href:(0,l.isTeamsAppEnabled)()?L:(0,n("4qzKl").getAtlassianPeopleProfileUrl)(f,h),className:b,style:t,"data-testid":"profile-link","aria-label":v||x.formatMessage(u.profileLinkName,{fullName:g})},g)}},p[2]=v,p[3]=w,p[4]=b,p[5]=g,p[6]=x,p[7]=A,p[8]=R,p[9]=S,p[10]=C,p[11]=N,p[12]=h,p[13]=_,p[14]=L,p[15]=f,p[16]=o):o=p[16];let P=o;return p[17]!==g||p[18]!==k||p[19]!==A||p[20]!==P||p[21]!==f?(m=e(i).createElement(e(i).Fragment,null,A||!f||""===f?e(i).createElement(n("gtD4K").default,{id:"profile.anonymous.name",defaultMessage:"Anonymous"}):e(i).createElement(e(i).Fragment,null,k?P():e(i).createElement("span",null,g))),p[17]=g,p[18]=k,p[19]=A,p[20]=P,p[21]=f,p[22]=m):m=p[22],m}:({userId:t,fullName:a,isAnonymous:o=!1,onUserLinkClick:r,referralSource:m,className:p,style:f,behavior:g="link",position:E="bottom-start",offset:C,ariaLabel:h,isUnderlinedByDefault:b=!0})=>{let{canViewUserProfile:_}=(0,n("jyPfN").useViewUserProfile)(),I=(0,n("8C5kA").default)(),{href:y}=(0,c.useNavigateToTeamsApp)({type:"USER",payload:{userId:t??""}});return e(i).createElement(e(i).Fragment,null,o||!t||""===t?e(i).createElement(n("gtD4K").default,{id:"profile.anonymous.name",defaultMessage:"Anonymous"}):e(i).createElement(e(i).Fragment,null,_?(()=>{if("card"===g)return e(i).createElement(s.ProfileCardWrapper,{isAnonymous:o,userId:t,position:E,offset:C,ariaLabel:h},e(i).createElement(n("6f0Oj").default,{style:f,xcss:d},a));{let o={...f,...b?{textDecoration:"underline"}:{}};return e(i).createElement(n("cPER9").PeopleLink,{target:"_blank",onClick:r,href:(0,l.isTeamsAppEnabled)()?y:(0,n("4qzKl").getAtlassianPeopleProfileUrl)(t,m),className:p,style:o,"data-testid":"profile-link","aria-label":h||I.formatMessage(u.profileLinkName,{fullName:a})},a)}})():e(i).createElement("span",null,a)))};t.exports.ProfileLink=m}),a("cPER9",function(t,a){var o=n("3u0dr"),r=n("frIzR"),i=n("42omo"),s=n("5XsiK");let l=(0,o.isReactCompilerActiveV1)()?t=>{let a,o,l,c,d=(0,r.c)(8);d[0]!==t?({href:a,to:l,...o}=t,d[0]=t,d[1]=a,d[2]=o,d[3]=l):(a=d[1],o=d[2],l=d[3]);let u=l||a,m=u&&0!==u.indexOf("/")?`/${u}`:u,p=m.startsWith(n("jlIaF").CONTEXT_PATH)?m:`${n("jlIaF").CONTEXT_PATH}${m}`,f=(0,s.isTeamsAppEnabled)()?u:p;return d[4]!==o||d[5]!==t||d[6]!==f?(c=e(i).createElement(n("8lYIw").Link,{...t,href:f,...o}),d[4]=o,d[5]=t,d[6]=f,d[7]=c):c=d[7],c}:t=>{let{href:a,to:o,...r}=t,l=o||a,c=l&&0!==l.indexOf("/")?`/${l}`:l,d=c.startsWith(n("jlIaF").CONTEXT_PATH)?c:`${n("jlIaF").CONTEXT_PATH}${c}`;return e(i).createElement(n("8lYIw").Link,{...t,href:(0,s.isTeamsAppEnabled)()?l:d,...r})};l.propTypes={href:e(n("4xcIM")).string,to:e(n("4xcIM")).string},t.exports.PeopleLink=l}),a("fs6LW",function(t,a){var o=n("3u0dr"),r=n("frIzR"),i=n("42omo"),s=n("a6t12");let l={base:(0,n("ecnYn").xcss)({display:"inline-flex",backgroundColor:"color.background.neutral.subtle",borderWidth:"0",padding:"space.0",borderRadius:"radius.full",outlineOffset:"space.0",":focus-within":{outlineStyle:"solid",outlineWidth:"border.width.focused",outlineColor:"color.border.focused"}}),cursor:(0,n("ecnYn").xcss)({cursor:"pointer"})},c=(0,n("cgtv4").defineMessages)({label:{id:"profile.avatar.image",defaultMessage:"profile image of a user"},ariaLabel:{id:"profile.avatar.ariaLabel",defaultMessage:"More information about {name}"}}),d=(0,o.isReactCompilerActiveV1)()?t=>{let a,o,d,m,p,f,g,E,C,h,b=(0,r.c)(39),{userId:_,canViewProfile:I,isAnonymous:y,size:S,src:v,onClick:T,trigger:A,name:w,stackIndex:N,testId:R,position:k,borderColor:x,offset:O}=t,L=void 0===I||I,P=void 0!==y&&y,M=void 0===S?"medium":S,D=(0,n("8C5kA").default)(),U=!P&&L&&v?v:void 0,{canViewUserProfile:F}=(0,n("jyPfN").useViewUserProfile)(),B=(0,i.useRef)(null),[j,V]=(0,i.useState)(!1),[G,H]=(0,i.useState)(!1),[K,W]=(0,i.useState)(!1);b[0]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{V(e)},b[0]=a):a=b[0];let q=a;b[1]!==j||b[2]!==G?(o=()=>{G&&!j&&B.current&&(B.current.focus(),H(!1))},d=[j,G],b[1]=j,b[2]=G,b[3]=o,b[4]=d):(o=b[3],d=b[4]),(0,i.useEffect)(o,d),b[5]!==j||b[6]!==K?(m=e=>{e.stopPropagation(),"Enter"===e.key?(W(!0),V(u),H(!0)):"Escape"===e.key&&j&&K&&(V(!1),W(!1),H(!0))},b[5]=j,b[6]=K,b[7]=m):m=b[7];let z=m,Y=w||"";b[8]!==D?(p=D.formatMessage(c.label),b[8]=D,b[9]=p):p=b[9],b[10]!==U||b[11]!==x||b[12]!==T||b[13]!==M||b[14]!==N||b[15]!==Y||b[16]!==p||b[17]!==R?(f=e(i).createElement(n("esRft").default,{src:U,size:M,target:"_blank",name:Y,label:p,stackIndex:N,testId:R,borderColor:x,onClick:T}),b[10]=U,b[11]=x,b[12]=T,b[13]=M,b[14]=N,b[15]=Y,b[16]=p,b[17]=R,b[18]=f):f=b[18];let Q=f,X=w||"",J=L&&F&&l.cursor;return b[19]!==J?(g=[l.base,J],b[19]=J,b[20]=g):g=b[20],b[21]!==D||b[22]!==w?(E=D.formatMessage(c.ariaLabel,{name:w||""}),b[21]=D,b[22]=w,b[23]=E):E=b[23],b[24]!==Q||b[25]!==z||b[26]!==j||b[27]!==g||b[28]!==E?(C=e(i).createElement(n("6f0Oj").default,{xcss:g,"aria-haspopup":"true","aria-expanded":j,role:"button",testId:"avatarWrapperTestId","aria-label":E,tabIndex:0,ref:B,onKeyDown:z},Q),b[24]=Q,b[25]=z,b[26]=j,b[27]=g,b[28]=E,b[29]=C):C=b[29],b[30]!==L||b[31]!==P||b[32]!==O||b[33]!==k||b[34]!==X||b[35]!==C||b[36]!==A||b[37]!==_?(h=e(i).createElement(s.ProfileCardWrapper,{userId:_,canViewProfile:L,isAnonymous:P,trigger:A,fullName:X,disabledAriaAttributes:!0,onVisibilityChange:q,position:k,offset:O},C),b[30]=L,b[31]=P,b[32]=O,b[33]=k,b[34]=X,b[35]=C,b[36]=A,b[37]=_,b[38]=h):h=b[38],h}:({userId:t,canViewProfile:a=!0,isAnonymous:o=!1,size:r="medium",src:d,onClick:u,trigger:m,name:p,stackIndex:f,testId:g,position:E,borderColor:C,offset:h})=>{let b=(0,n("8C5kA").default)(),_=!o&&a&&d?d:void 0,{canViewUserProfile:I}=(0,n("jyPfN").useViewUserProfile)(),y=(0,i.useRef)(null),[S,v]=(0,i.useState)(!1),[T,A]=(0,i.useState)(!1),[w,N]=(0,i.useState)(!1);(0,i.useEffect)(()=>{T&&!S&&y.current&&(y.current.focus(),A(!1))},[S,T]);let R=e(i).createElement(n("esRft").default,{src:_,size:r,target:"_blank",name:p||"",label:b.formatMessage(c.label),stackIndex:f,testId:g,borderColor:C,onClick:u});return e(i).createElement(s.ProfileCardWrapper,{userId:t,canViewProfile:a,isAnonymous:o,trigger:m,fullName:p||"",disabledAriaAttributes:!0,onVisibilityChange:e=>{v(e)},position:E,offset:h},e(i).createElement(n("6f0Oj").default,{xcss:[l.base,a&&I&&l.cursor],"aria-haspopup":"true","aria-expanded":S,role:"button",testId:"avatarWrapperTestId","aria-label":b.formatMessage(c.ariaLabel,{name:p||""}),tabIndex:0,ref:y,onKeyDown:e=>{e.stopPropagation(),"Enter"===e.key?(N(!0),v(e=>!e),A(!0)):"Escape"===e.key&&S&&w&&(v(!1),N(!1),A(!0))}},R))};function u(e){return!e}t.exports.ProfileAvatar=d}),a("gvWVt",function(e,t){let a=(0,n("jmjWc").LoadableAfterPaint)({__loadable_id__:"iyBz0",name:"ExternalCollaboratorUserLozenge",loader:async()=>(await n("lWBRe")).ExternalUserLozenge});e.exports.ExternalCollaboratorUserLozenge=a}),a("lWBRe",function(e,t){e.exports=n("4mJKd")(5)("h4Nf7").then(()=>n("9fywD"))}),a("6faGq",function(e,t){let a=e=>{if(!e)return new Date(0);let t=new Date(e.endsWith("Z")?e:`${e}Z`);return isNaN(t.getTime())?new Date(0):t};e.exports.getValidDate=a,e.exports.formatTimestampForAriaLabel=({intl:e,dateString:t,commentStatus:o=n("3iaSn").CommentStatus.OPEN,resolveProperties:r,isReply:i=!1})=>{let s;if(!t)return"";try{let{formatTimeAgo:o}=n("1JmNR");s=o(e,a(t))}catch(n){s=a(t).toLocaleDateString(e.locale)}if(i)return s;switch(o){case n("3iaSn").CommentStatus.RESOLVED:return e.formatMessage(n("3ejfs").commentsi18n.resolvedByInfoText,{friendlyDate:s,username:r?.resolvedUser});case n("3iaSn").CommentStatus.REOPENED:return e.formatMessage(n("3ejfs").commentsi18n.reopenedByTooltipTextCommentsPanel,{createdAtNonLocalized:s,username:r?.resolvedUser});case n("3iaSn").CommentStatus.OPEN:default:return e.formatMessage(n("3ejfs").commentsi18n.createdTimestamp,{timestamp:s})}}}),a("3ejfs",function(e,t){let a=(0,n("cgtv4").defineMessages)({resolvedByInfoText:{id:"comments-util.resolved.by.info.text",defaultMessage:"Resolved by {username} {friendlyDate}"},reopenedByTooltipTextCommentsPanel:{id:"comments-util.reopened.by.tooltip.text.comments.panel",defaultMessage:"Added {createdAtNonLocalized}, reopened by {username}"},createdTimestamp:{id:"comments-util.timestamp.created",defaultMessage:"created {timestamp}"},resolvedDateInfoText:{id:"comments-util.resolved.date.info.text",defaultMessage:"Resolved {friendlyDate}"},reopenedDateInfoText:{id:"comments-util.reopened.date.info.text",defaultMessage:"Reopened {friendlyDate}"},generalCommentTooltip:{id:"comments-util.view.tooltip.general.comment",defaultMessage:"General comment"},anonymous:{id:"comments-util.display.name.anonymous",defaultMessage:"Anonymous"},editedBy:{id:"comments-util.edited.by",defaultMessage:"Edited by {username} {at}"},edited:{id:"comments-util.edited",defaultMessage:"Edited"},resolvedByTooltipTextCommentsPanel:{id:"comments-util.resolved.by.tooltip.text.comments.panel",defaultMessage:"By {username}"}});e.exports.commentsi18n=a}),a("3iaSn",function(e,t){var a,o=n("42omo"),r=((a={}).OPEN="OPEN",a.RESOLVED="RESOLVED",a.REOPENED="REOPENED",a);e.exports.CommentStatus=r,e.exports.useGetCommentStatus=({resolveProperties:e})=>(0,o.useMemo)(()=>e?e.resolved?"RESOLVED":"REOPENED":"OPEN",[e])}),a("1JmNR",function(e,a){t(e.exports,"formatTimeAgo",()=>n("1YXTQ").formatTimeAgo),t(e.exports,"TimeAgo",()=>n("1YXTQ").TimeAgo),t(e.exports,"StaticTimeAgo",()=>n("1YXTQ").StaticTimeAgo)}),a("7tI6B",function(e,t){var n,a=((n={}).ANONYMOUS="ANONYMOUS",n.APP="APP",n.EXTERNAL="EXTERNAL",n.INTERNAL="INTERNAL",n.JSD="JSD",n);e.exports.SitePermissionType=a}),a("6b5EI",function(t,a){var o=n("3u0dr"),r=n("frIzR"),i=n("42omo");let s=(0,i.forwardRef)((0,o.isReactCompilerActiveV1)()?(t,a)=>{let o,s,l,c,d,u,m=(0,r.c)(13);if(m[0]!==a||m[1]!==t){let{as:e,style:r,...i}=t,{visible:u,...p}=i;o=void 0===e?"div":e,s=p,l=r,c=a,d=(0,n("gMc0m").default)(["_v5641n2p _1e0c116y _4cvr1h6o _1bah1h6o _18u014y2 _tzy4idpf _t9ec1jvs _1mygkb7n _66dk1xty",i.visible&&"_tzy4kb7n _t9ec1ygq",i.className]),m[0]=a,m[1]=t,m[2]=o,m[3]=s,m[4]=l,m[5]=c,m[6]=d}else o=m[2],s=m[3],l=m[4],c=m[5],d=m[6];return m[7]!==o||m[8]!==s||m[9]!==l||m[10]!==c||m[11]!==d?(u=e(i).createElement(o,{...s,style:l,ref:c,className:d}),m[7]=o,m[8]=s,m[9]=l,m[10]=c,m[11]=d,m[12]=u):u=m[12],u}:({as:t="div",style:a,...o},r)=>{let{visible:s,...l}=o;return e(i).createElement(t,{...l,style:a,ref:r,className:(0,n("gMc0m").default)(["_v5641n2p _1e0c116y _4cvr1h6o _1bah1h6o _18u014y2 _tzy4idpf _t9ec1jvs _1mygkb7n _66dk1xty",o.visible&&"_tzy4kb7n _t9ec1ygq",o.className])})}),l=(0,i.forwardRef)((0,o.isReactCompilerActiveV1)()?(t,a)=>{let o,s,l,c,d,u,m=(0,r.c)(13);if(m[0]!==a||m[1]!==t){let{as:e,style:r,...i}=t;o=void 0===e?"div":e,s=i,l=r,c=a,d=(0,n("gMc0m").default)(["_1e0c116y _1bah1h6o _4cvr1h6o",i.className]),m[0]=a,m[1]=t,m[2]=o,m[3]=s,m[4]=l,m[5]=c,m[6]=d}else o=m[2],s=m[3],l=m[4],c=m[5],d=m[6];return m[7]!==o||m[8]!==s||m[9]!==l||m[10]!==c||m[11]!==d?(u=e(i).createElement(o,{...s,style:l,ref:c,className:d}),m[7]=o,m[8]=s,m[9]=l,m[10]=c,m[11]=d,m[12]=u):u=m[12],u}:({as:t="div",style:a,...o},r)=>e(i).createElement(t,{...o,style:a,ref:r,className:(0,n("gMc0m").default)(["_1e0c116y _1bah1h6o _4cvr1h6o",o.className])})),c=e(i).forwardRef((0,o.isReactCompilerActiveV1)()?(t,n)=>{let a,o,s,c=(0,r.c)(7);return c[0]!==t?({children:a,...o}=t,c[0]=t,c[1]=a,c[2]=o):(a=c[1],o=c[2]),c[3]!==a||c[4]!==o||c[5]!==n?(s=e(i).createElement(l,{...o,ref:n},a),c[3]=a,c[4]=o,c[5]=n,c[6]=s):s=c[6],s}:({children:t,...n},a)=>e(i).createElement(l,{...n,ref:a},t)),d="link-icon",u="check-icon",m="legacy-clipboard-support",p=(0,o.isReactCompilerActiveV1)()?t=>{let a,o,l,p,f,g,E,C,h,b,_,I,y=(0,r.c)(30),{visible:S,textToCopy:v,children:T}=t,{formatMessage:A}=(0,n("8C5kA").default)(),[w,N]=(0,i.useState)(!1),R=(0,i.useRef)(null),k=(0,i.useRef)(),{createAnalyticsEvent:x}=(0,n("inPa6").useAnalyticsEvents)(),O=(0,n("3jwuS").useIsCurrentPageLive)(),L=(0,n("de2j9").useIsEditorPage)();y[0]===Symbol.for("react.memo_cache_sentinel")?(a=!(0,n("aHcFH").isClipboardApiSupported)()&&!(0,n("aHcFH").isIEClipboardApiSupported)(),y[0]=a):a=y[0];let P=a;y[1]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{P&&(R.current=document.getElementById("copyWrapperRef"))},l=[P],y[1]=o,y[2]=l):(o=y[1],l=y[2]),(0,i.useEffect)(o,l),y[3]!==w?(p=()=>(w&&(k.current=setTimeout(()=>N(!1),5e3)),()=>clearTimeout(k.current)),f=[w],y[3]=w,y[4]=p,y[5]=f):(p=y[4],f=y[5]),(0,i.useEffect)(p,f),y[6]!==x||y[7]!==w||y[8]!==L||y[9]!==O||y[10]!==v?(g=async e=>{if(e.stopPropagation(),w)return;(0,n("aHcFH").isClipboardApiSupported)()?await (0,n("aHcFH").copyToClipboard)(v):(0,n("aHcFH").isIEClipboardApiSupported)()?await (0,n("aHcFH").copyToClipboardIE)(v):await (0,n("aHcFH").legacyCopyToClipboard)(v,R.current);let t=(O?n("afGoD").CommentCreationLocation.LIVE:L?n("afGoD").CommentCreationLocation.EDITOR:n("afGoD").CommentCreationLocation.RENDERER).toLowerCase();x({type:"sendUIEvent",data:{source:L?"editPageScreen":"viewPageScreen",action:"clicked",actionSubject:"copyCommentLink",attributes:{pageMode:t}}}).fire(),N(!0)},y[6]=x,y[7]=w,y[8]=L,y[9]=O,y[10]=v,y[11]=g):g=y[11];let M=g;y[12]!==A||y[13]!==w?(E=A(w?n("9CnRS").i18n.linkCopiedTooltip:n("9CnRS").i18n.copyLinkTooltip),y[12]=A,y[13]=w,y[14]=E):E=y[14];let D=E;return y[15]!==A||y[16]!==w?(C=w?e(i).createElement(e(n("3sFtD")),{label:A(n("9CnRS").i18n.linkCopiedTooltip),color:"var(--ds-icon-success, #6A9A23)",testId:u,spacing:"spacious"}):e(i).createElement(e(n("1bY7o")),{label:A(n("9CnRS").i18n.copyLinkTooltip),testId:d,spacing:"spacious"}),y[15]=A,y[16]=w,y[17]=C):C=y[17],y[18]!==M||y[19]!==C?(h=e(i).createElement(n("eEA8O").default,{appearance:"subtle-link","data-cy":"inline-comment-time-link",iconBefore:C,onClick:M,spacing:"none"}),y[18]=M,y[19]=C,y[20]=h):h=y[20],y[21]!==h||y[22]!==D?(b=e(i).createElement(n("3gadb").default,{content:D,position:"top",tag:c,hideTooltipOnClick:!0},h),y[21]=h,y[22]=D,y[23]=b):b=y[23],y[24]!==T?(_=P&&e(i).createElement(n("6F6hl").default,{testId:m,id:"copyWrapperRef"},T),y[24]=T,y[25]=_):_=y[25],y[26]!==b||y[27]!==_||y[28]!==S?(I=e(i).createElement(s,{visible:S},b,_),y[26]=b,y[27]=_,y[28]=S,y[29]=I):I=y[29],I}:({visible:t,textToCopy:a,children:o})=>{let{formatMessage:r}=(0,n("8C5kA").default)(),[l,p]=(0,i.useState)(!1),f=(0,i.useRef)(null),g=(0,i.useRef)(),{createAnalyticsEvent:E}=(0,n("inPa6").useAnalyticsEvents)(),C=(0,n("3jwuS").useIsCurrentPageLive)(),h=(0,n("de2j9").useIsEditorPage)(),b=(0,i.useMemo)(()=>!(0,n("aHcFH").isClipboardApiSupported)()&&!(0,n("aHcFH").isIEClipboardApiSupported)(),[]);(0,i.useEffect)(()=>{b&&(f.current=document.getElementById("copyWrapperRef"))},[b]),(0,i.useEffect)(()=>(l&&(g.current=setTimeout(()=>p(!1),5e3)),()=>clearTimeout(g.current)),[l]);let _=async e=>{if(e.stopPropagation(),l)return;(0,n("aHcFH").isClipboardApiSupported)()?await (0,n("aHcFH").copyToClipboard)(a):(0,n("aHcFH").isIEClipboardApiSupported)()?await (0,n("aHcFH").copyToClipboardIE)(a):await (0,n("aHcFH").legacyCopyToClipboard)(a,f.current);let t=(C?n("afGoD").CommentCreationLocation.LIVE:h?n("afGoD").CommentCreationLocation.EDITOR:n("afGoD").CommentCreationLocation.RENDERER).toLowerCase();E({type:"sendUIEvent",data:{source:h?"editPageScreen":"viewPageScreen",action:"clicked",actionSubject:"copyCommentLink",attributes:{pageMode:t}}}).fire(),p(!0)},I=r(l?n("9CnRS").i18n.linkCopiedTooltip:n("9CnRS").i18n.copyLinkTooltip);return e(i).createElement(s,{visible:t},e(i).createElement(n("3gadb").default,{content:I,position:"top",tag:c,hideTooltipOnClick:!0},e(i).createElement(n("eEA8O").default,{appearance:"subtle-link","data-cy":"inline-comment-time-link",iconBefore:l?e(i).createElement(e(n("3sFtD")),{label:r(n("9CnRS").i18n.linkCopiedTooltip),color:"var(--ds-icon-success, #6A9A23)",testId:u,spacing:"spacious"}):e(i).createElement(e(n("1bY7o")),{label:r(n("9CnRS").i18n.copyLinkTooltip),testId:d,spacing:"spacious"}),onClick:_,spacing:"none"})),b&&e(i).createElement(n("6F6hl").default,{testId:m,id:"copyWrapperRef"},o))};t.exports.CopyLinkButton=p}),a("aHcFH",function(e,t){let a="inline-create-comment-selection",o="inline-highlight",r="active-highlight",i=e=>new Set(Array.from(document.querySelectorAll(s(e))).map(t=>"edit"===e?t.id:v(t))),s=(e="view")=>"edit"===e?"[annotationtype='inlineComment']":'[data-mark-annotation-type="inlineComment"], .inline-comment-marker',l=()=>{document.querySelectorAll(`.${r}`).forEach(e=>{e.classList.remove(r)})},c=(e,t)=>{let n=e,a=n?.nextSibling;for(;!a;)if(a=n?.parentElement?.nextSibling){if(t&&!t.contains(a)){a=null;break}if(a.nodeType===Node.TEXT_NODE)break;if(a?.tagName==="BR")if(t)break;else a=a.nextSibling}else n=n?.parentNode;for(;a&&a.nodeType!==Node.TEXT_NODE;)a=a.firstChild;return a},d=(e,t,n)=>{let a=n?e:e?.nextSibling;for(;a&&a.nodeType!==Node.TEXT_NODE;){if(t&&a?.isSameNode(t))return a;if(a?.tagName==="BR"){if(t)return a;a=a.nextSibling}else if(a?.attributes?.getNamedItem("role")?.value==="presentation")a=a.parentNode?.nextSibling;else if(m(a)){if(t&&a?.isSameNode(t))return null;a=a.nextSibling}else a=a.firstChild}return a?.nodeType===Node.TEXT_NODE?a:a?void 0:d(e?.parentNode,t)},u=e=>{let t=[],{startContainer:n,startOffset:a,endContainer:o,endOffset:r}=e,i=o.nodeType!==Node.TEXT_NODE;if(n.isSameNode(o))t.push(e);else{let e,s=new Range;if(s.setStart(n,a),s.setEnd(n,n.length),t.push(s),i)for(e=n.parentNode;!e||e.nodeType===Node.TEXT_NODE||null!==v(e);)e=e?.parentNode;else{let e=new Range;e.setStart(o,0),e.setEnd(o,r),t.push(e)}let l=c(n,e);for(;l&&!l.isSameNode(o)&&l.nodeType===Node.TEXT_NODE;){if(l.length){let e=new Range;e.selectNodeContents(l),t.push(e)}l=c(l,e)}}return t},m=e=>{if(!e)return!1;let t=e?.attributes,n=e?.classList;return t&&t.getNamedItem("data-emoji-id")||n&&n.contains("emoji-common-node")},p=e=>{let t,n=[],{startContainer:a,startOffset:o,endContainer:r,endOffset:i}=e,s=r.nodeType!==Node.TEXT_NODE;if(a.isSameNode(r))return n.push(e),n;let l=new Range;if(l.setStart(a,o),l.setEnd(a,a.length),n.push(l),s)t=m(r)?r.parentNode:r;else{let e=new Range;e.setStart(r,0),e.setEnd(r,i),n.push(e)}let c=d(a,t);for(;c&&!c.isSameNode(r)&&c.nodeType===Node.TEXT_NODE;){if(c.length){let e=new Range;e.selectNodeContents(c),n.push(e)}c=d(c,t)}return n},f=e=>{let t=window.getSelection();if(!t||"Range"!==t.type)return;let n=t.getRangeAt(0);(e?p(n):u(n)).forEach(e=>{let t=document.createElement("span");t.classList.add(a),t.appendChild(e.extractContents()),e.insertNode(t)}),t.removeAllRanges()},g=e=>{for(;e.length;){let t=e.shift();if(!t)return;let{parentNode:n}=t;for(;t.firstChild;)n?.insertBefore(t.firstChild,t);n?.removeChild(t),n?.normalize()}},E=()=>{g(Array.from(document.querySelectorAll(`.${a}`)))},C=(e,t=!1)=>{(t||e.classList.contains(o))&&e.classList.add(r);let{children:n}=e;for(let e=0;e<n.length;++e)C(n[e],t)},h="data-id",b="data-ref",_=e=>{let t=e&&e.content;return t&&t.some(I)},I=e=>"paragraph"!==e.type||y(e),y=e=>!!e.content&&e.content.some(S),S=e=>"text"!==e.type||""!==e.text.trim(),v=e=>{let t=null;return e&&((t=e.getAttribute(h))||(t=e.getAttribute(b))),t},T=(e,t="")=>e?document.querySelector(`${t} [${h}="${e}"], ${t} [${b}="${e}"]`):null,A=e=>document.querySelectorAll(`[${h}="${e}"], [${b}="${e}"]`),w=()=>{try{return{currentWindowHeight:window.innerHeight||(window.top?.innerHeight??0),currentPageOffset:window.scrollY||(window.top?.scrollY??0)}}catch{return{currentWindowHeight:0,currentPageOffset:0}}},N=()=>{try{let e=document.getElementById("AkMainContent"),t=e?e.scrollTop:window.scrollY||(window.top?.scrollY??0);return{currentWindowHeight:window.innerHeight||(window.top?.innerHeight??0),currentPageOffset:t}}catch{return{currentWindowHeight:0,currentPageOffset:0}}},R=({commentElement:e,scrollRootElement:t,currentPageOffset:n,currentWindowHeight:a,isAbove:o,isFabricPage:r,useInstantScroll:i})=>{if(!e)return;let s=M(e)+e.offsetHeight+(o?-350:0),l=document.querySelector("#content .ak-renderer-wrapper")?.offsetTop||0;(s+l<=n||s+l>n+2/3*a)&&t.scrollTo({top:s-(r?a/5:a/3),behavior:i?"instant":"smooth"})},k=({commentElement:e,isFabricPage:t,useInstantScroll:a=!1,isAbove:o=!1,commentThreadContainerId:r,isCommentsPanel:i})=>{if(!e)return;let s=(0,n("1dnxO").getIsNav4Enabled)(),l=(P(e)||e).getBoundingClientRect(),{scrollRootElement:c,getDimensions:d}=Q(s),{currentWindowHeight:u,currentPageOffset:m}=d(),p=a?"instant":"smooth";if(i){let e=document.querySelector(`[data-testid='${r}']`),t=e.getBoundingClientRect().top,n=document.querySelector("[data-testid='comments-panel-list-container']"),a=e?.getBoundingClientRect(),o=document.getElementById("content"),i=o?.getBoundingClientRect().top,s=a&&i&&Math.floor(a.top)<Math.floor(i),d=a&&a.top+200>window.innerHeight,u=Math.floor(l.bottom)<m,f=l.top+200>window.innerHeight;u||f?c.scrollBy({top:window.innerHeight-t-(window.innerHeight-l.top),behavior:p}):n&&(s||d||window.innerHeight-t-(window.innerHeight-l.top)<0)?n.scrollBy({top:window.innerHeight-l.top-(window.innerHeight-t),behavior:p}):c.scrollBy({top:l.top-t,behavior:p})}else{let n=M(e)+e.offsetHeight+(o?-350:0),r=document.querySelector("#content .ak-renderer-wrapper")?.offsetTop||0;if(n+r<=m||n+r>m+2/3*u){let e=t?u/5:u/3;c.scrollTo({top:n-e,behavior:a?"instant":"smooth"})}}B(e,t)},x=({commentElement:e,isFabricPage:t,useInstantScroll:a=!1,isAbove:o=!1,commentThreadAnnotationId:r,isCommentsPanel:i,scrollCommentsPanelToThread:s,shouldScrollCommentsPanel:l=!1})=>{if(!(0,n("9wGTI").fg)("confluence_frontend_content_wrapper"))return void k({commentElement:e,isFabricPage:t,useInstantScroll:a,isAbove:o,commentThreadContainerId:`comment-thread-${r}-container`,isCommentsPanel:i});if(!e)return;let c=(0,n("1dnxO").getIsNav4Enabled)(),d=(P(e)||e).getBoundingClientRect(),{scrollRootElement:u,getDimensions:m}=Q(c),{currentWindowHeight:p,currentPageOffset:f}=m();if(i){let i=Math.floor(d.bottom)<f,c=d.top+200>window.innerHeight;(i||c)&&R({commentElement:e,scrollRootElement:u,currentPageOffset:f,currentWindowHeight:p,isAbove:o,isFabricPage:!!t,useInstantScroll:a}),r&&s&&l&&!(0,n("9wGTI").fg)("confluence_comments_unified_navigation")&&s({annotationId:r})}else R({commentElement:e,scrollRootElement:u,currentPageOffset:f,currentWindowHeight:p,isAbove:o,isFabricPage:!!t,useInstantScroll:a});B(e,t)},O=(e,t)=>e&&t?"editor-comments-sidebar":e&&!t?"editor-create-sidebar":!e&&t?"renderer-comments-sidebar":"renderer-create-sidebar",L=e=>{let t=e,n=v(t);return n&&(t=T(n,".pm-table-wrapper")),t},P=e=>{let t=e;if(t&&t.closest&&t.closest(".pm-table-sticky-wrapper")&&(t=L(t)),t){let e=t.closest(".ak-renderer-extension");e&&(t=e)}return t},M=(e,t,n)=>{let a=0,o=e;for(o&&o.closest&&o.closest(".pm-table-sticky-wrapper")&&(o=n?document.querySelector('.pm-table-wrapper [data-annotation-draft-mark="true"]'):L(o));o&&!o.classList.contains("ak-renderer-wrapper")&&o!==t;)a+=o.offsetTop,o=o.offsetParent;if(o){let e=o.closest(".ak-renderer-extension");e&&(a+=e.offsetTop)}return a},D=(e,t)=>{let n=e?.hasChildNodes()?e?.firstChild:e;if(t){if(n?.tagName?.toLowerCase()==="button")return n}else if(n?.classList?.contains("expand-control"))return n?.firstChild;return null},U=(e,t)=>{let{expandSelectors:n,getExpandButton:a,isExpanded:o,onExpand:r}=t;if(!n.some(t=>e?.closest?.(t)))return;let i=[],s=e;for(;s;){let e=a(s);e&&!o(e)&&i.push(e),s=s?.parentElement}[...i].reverse().forEach(e=>{r&&r(e),e.click()})},F=(e,t)=>{let n=t?".expand-content-wrapper":".expand-content";U(e,{isFabricPage:t,expandSelectors:[n,".nestedExpand-content-wrapper"],getExpandButton:e=>D(e,t),isExpanded:e=>t?"true"===e.getAttribute("aria-expanded"):e.className.includes("expanded")})},B=(e,t)=>{F(e,t)},j=()=>navigator.clipboard&&"function"==typeof navigator.clipboard.writeText,V=()=>window.clipboardData&&"function"==typeof window.clipboardData.setData,G=async e=>{j()&&await navigator.clipboard.writeText(e)},H=({element:e,viewingRoomOffset:t=-150,useInstantScroll:a=!1})=>{if(!e)return;let{useNav4ScrollRoot:o,scrollRootElement:r,scrollRootOffset:i}=Q((0,n("1dnxO").getIsNav4Enabled)()),s=e.getBoundingClientRect().top,l=o?r.getBoundingClientRect().top:0;r.scrollTo({top:s-l+i+t,behavior:a?"instant":"smooth"}),B(e,!0)},K=(e,t,n)=>{if(n){let t=document.getElementById(`comment-thread-${e}-container`);if(t)return t}if(t){let e=document.getElementById(t);if(e)return e}return document.querySelector(`[data-comment-id="${e}"]`)},W=(e,t)=>{if(!e)return null;let n=e.querySelector('[data-testid="show-hidden-replies"]');if(n)return n;let a=e.parentElement,o=a?.querySelector('[data-testid="show-hidden-replies"]');if(o)return o;let r=document.querySelector(`[data-testid="comment-thread-${t}-replies"]`),i=r?.querySelector('[data-testid="show-hidden-replies"]');return i||null},q=(e,t,n,a,o)=>{if(n&&e.id===n)return a&&B(a,!0),o(e),!0;a&&B(a,!0);let r=W(e,t);return r?(r.click(),!1):(o(e),!0)},z=(e,t,n,a,o)=>{for(let r of Array.from(e)){if(r.nodeType!==Node.ELEMENT_NODE)continue;let e=null;if(n){let t=document.getElementById(n);t&&(e=t)}if(e||(e=r.querySelector?.(`[data-comment-id="${t}"]`)||(r.matches?.(`[data-comment-id="${t}"]`)?r:null)),!e&&a){let n=document.getElementById(`comment-thread-${t}-container`);n&&(e=n)}if(e&&o(e))return!0}return!1},Y=({targetCommentId:e,onScrollReady:t,onFallback:n,timeoutMs:a=1e4,markElement:o,containerId:r,isFooterCommentInPanel:i=!1})=>{let s=!1,l=!1,c=n=>(s=!0,q(n,e,r,o,t)),d=new MutationObserver(n=>{if(!l){if(!s){for(let t of n)if("childList"===t.type&&t.addedNodes.length>0&&z(t.addedNodes,e,r,i,c)){l=!0,d.disconnect();return}}if(s){let n=K(e,r,i),a=W(n,e);if(n&&!a){o&&B(o,!0),t(n),l=!0,d.disconnect();return}}}});d.observe(document.body,{childList:!0,subtree:!0});let u=setTimeout(()=>{if(!l)if(d.disconnect(),l=!0,s){let n=K(e,r,i);n&&(o&&B(o,!0),t(n))}else n&&n()},a);return()=>{l||(d.disconnect(),l=!0,clearTimeout(u))}};function Q(e=!1){let t=document.getElementById("AkMainContent"),n=e&&!!t,a=n?t:window,o=n?t.scrollTop:window.scrollY;return{useNav4ScrollRoot:n,scrollRootElement:a,scrollRootOffset:o,getDimensions:e?N:w}}let X=e=>{let t=document.querySelector("[data-testid='object-sidebar-panel-header']"),n=0;t||(t=document.querySelector("[data-testid='scrolled-object-sidebar-panel-header']"),n=8);let a=t?.getBoundingClientRect().height??0,o=document.querySelector("[data-testid='object-header-container']")?.getBoundingClientRect().height??0,r=document.querySelector("[data-testid='grid-topNav']")?.getBoundingClientRect().height??0,i=document.querySelector("[data-testid='banner-container']")?.getBoundingClientRect().height??0;return a+o+r+i+n+e+(document.querySelector("[data-testid='editor-controls-onboarding-banner']")?.getBoundingClientRect().height??0)+(document.querySelector("[id='AkBanner']")?.getBoundingClientRect().height??0)};e.exports.CREATE_COMMENT_SELECTION_CLASS=a,e.exports.HIGHLIGHT_CLASS=o,e.exports.ACTIVE_CLASS=r,e.exports.getCommentIndexAndCount=()=>{let e={commentIndex:void 0,totalComments:void 0};return window.__SSR_INLINE_COMMENTS_EVENTS_CAPTURE__&&window.__SSR_INLINE_COMMENTS_EVENTS_CAPTURE__.focusedComment&&(e.commentIndex=Number(window.__SSR_INLINE_COMMENTS_EVENTS_CAPTURE__.focusedComment.position),e.totalComments=Number(window.__SSR_INLINE_COMMENTS_EVENTS_CAPTURE__.focusedComment.totalComments)),e},e.exports.getInlineMarkSelector=s,e.exports.getMarkerRef=v,e.exports.getSortedMarkerRefs=(e,t="view")=>[...i(t)].filter(t=>t&&e.includes(t)),e.exports.clearActiveHighlight=l,e.exports.getNextTextNode=d,e.exports.getHighlightOffset=(e,t=!1,n="")=>{let o=0;if(n)o=M(T(n));else{let e=window.getSelection();e&&"Range"==e.type&&!t&&(E(),f(!1)),o=M(document.querySelector(`.${a}`))}if(e){let e=document.querySelector("#content .ak-renderer-wrapper");e&&(o+=e.offsetTop)}else{let e=document.querySelector("#content-body .page-metadata-modification-info");e&&(o-=e.offsetTop-e.offsetHeight)}return o},e.exports.getHighlightFromMarkerRef=T,e.exports.calculateElementOffset=M,e.exports.resetTemporaryDOMHighlight=E,e.exports.convertDOMHighlightToMark=(e,t,n=!0)=>{let i=document.querySelectorAll(`.${a}`),s=t||"";i.length&&i.forEach(t=>{e?(t.setAttribute(h,s),t.setAttribute("data-mark-annotation-type","inlineComment")):(t.setAttribute(b,s),t.classList.add("inline-comment-marker"));let i=[o];n&&i.push(r),t.classList.add(...i),t.classList.remove(a)})},e.exports.setCommentAsActive=(e,t=!1)=>{(A(e)||[]).forEach(e=>C(e,t))},e.exports.removeMarkInDOM=e=>{g(Array.from(A(e))),l()},e.exports.isEmptyAdf=e=>!e||!_(e),e.exports.keyPropagationList=["enter","escape"],e.exports.scrollPageCommentIntoView=(e,t=!1,n=!1)=>{if(!e)return;let{currentWindowHeight:a,currentPageOffset:o}=w(),r=M(e)+e.offsetHeight+(n?-350:0);(r<=o||r>o+2/3*a)&&window.scrollTo({top:r-a/5,behavior:t?"instant":"smooth"})},e.exports.handleScrollToElement=({commentId:e,targetCommentId:t,isEditor:a,viewingRoomOffset:o=-150,useInstantScroll:r=!1})=>{if(e!==t)return;let i=document.querySelector(`[data-comment-id="${e}"]`);a&&i?(0,n("i49vP").scrollToElementInEditor)({targetElement:i,viewingRoomOffset:o}):H({element:i,viewingRoomOffset:o,useInstantScroll:r})},e.exports.scrollToElementWithViewingRoom=H,e.exports.getNodeForTableORMacro=P,e.exports.checkElementExpand=B,e.exports.scrollCommentIntoView=x,e.exports.getSidebarId=O,e.exports.scrollToComment=(e,t,a,o)=>{if(!e)return;let{scrollRootElement:r,scrollRootOffset:i}=Q((0,n("1dnxO").getIsNav4Enabled)()),s=O(o,!0),l=document.getElementById(s),c=l?.getBoundingClientRect(),d=document.getElementById("content"),u=d?.getBoundingClientRect().top,m=c&&u&&c.top<u+i,p=c&&c.top+200>window.innerHeight;if(m||p)return void x({commentElement:e,isFabricPage:a});let f=t?M(t):0,g=M(e);r.scrollBy({top:g-f,behavior:"smooth"}),B(e,a)},e.exports.checkElementExpandMultiLevelCommon=U,e.exports.getNextMarkerRef=(e,t,n)=>{if(0===n.length||void 0===t||-1===t)return;let a=-1;return"next"===e?a=t===n.length-1?0:t+1:"previous"===e&&(a=0===t?n.length-1:t-1),n[a]},e.exports.getNextUnreadThreadKey=(e,t,a)=>{if(void 0===e||0===t.length||-1===e||!a||0===a.length)return;let o=(0,n("9wGTI").fg)("confluence_frontend_unread_comments_fixes")?e%t.length:e,r=t.length,i=0;for(;void 0!==t[o]&&!a.includes(t[o])&&i<r;)o=(o+1)%t.length,i++;return t[o]},e.exports.isClipboardApiSupported=j,e.exports.isIEClipboardApiSupported=V,e.exports.copyToClipboardIE=e=>new Promise((t,n)=>{V()?(window.clipboardData.setData("text",e),t()):n("IE clipboard api is not supported")}),e.exports.copyToClipboard=G,e.exports.legacyCopyToClipboard=(e,t)=>new Promise((n,a)=>{if(!t)return void a();let o=document.createElement("textarea");o.readOnly=!0,o.defaultValue=e,t.appendChild(o),o.select();let r=document.execCommand("copy");t.removeChild(o),r?n():a()}),e.exports.calculateEditorOffsetFromParent=(e,t)=>M(e,document.querySelector(t)),e.exports.calculateRendererOffsetFromParent=(e,t,n)=>{let a=0;if(e){let o=document.querySelector('div#content[data-inline-comments-target="true"]');if(o){let r;a=(n?M(e):M(o.querySelector(t),void 0,!0))+o.offsetTop}}return a},e.exports.getCommentPositionTopOfSectionEditor=e=>{let t=window.innerHeight;if((0,n("6mKj3").expValEquals)("confluence_unify_footer_comments_space_width","isEnabled",!0)||(0,n("9wGTI").fg)("confluence_frontend_unify_footer_comment_space_ld")){if(!(0,n("9wGTI").fg)("confluence_frontend_unify_footer_comment_space_ld")&&document.querySelector(".end-of-page-rec-wrapper"))return 0;let e=document.getElementById("ak-editor-textarea"),a=e?.getBoundingClientRect().bottom;if(a&&t){let e=document.querySelector(".fabric-editor-popup-scroll-parent");return Math.max(t-(a+(e?.scrollTop??0))-24-64-14,120)}}else{let n=e.find(e=>"ak-editor-textarea"===e.target.id),a=n?.target.getBoundingClientRect().bottom,o=document.querySelector(".ak-editor-content-area .ProseMirror")?.getBoundingClientRect().height,r=document.querySelector("[data-testid='full-page-editor-style']")?.getBoundingClientRect().bottom;if(o){if(o>t)return 120;if(r&&a){let e=r-a;if(e>=102&&o<=t)return e-102;if(e<=102)return 102}}}},e.exports.getCommentPositionTopOfSectionRenderer=()=>{let e=0,t=document.querySelector(".end-of-page-rec-wrapper"),n=document.querySelector('[data-vc="view-page-labels-container"]');if(!t&&!n){let t=document.getElementById("main-content"),n=t?.getBoundingClientRect()?.bottom??0;if(n){let t=document.getElementById("AkMainContent"),a=(t?.scrollTop??0)+(window.scrollY??window.top?.scrollY??0);e=Math.max(window.innerHeight-(n+a)-80-64-14,0)}}return e},e.exports.watchForCommentContainerAndScroll=e=>{let t=!1,n=!1,a=document.querySelector('[data-testid="comments-panel-list-container"]')||document.body,o=new MutationObserver(()=>{if(t||n)return;let r=a.querySelector(`[data-comment-id="${e}"]`);r&&(n=!0,r.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),t=!0,o.disconnect())});return o.observe(a,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-comment-id"]}),()=>{t||(o.disconnect(),t=!0)}},e.exports.watchForCommentRepliesAndScroll=({targetCommentId:e,onScrollReady:t,onFallback:a,timeoutMs:o=1e4,markElement:r,containerId:i})=>{if((0,n("6mKj3").expValEquals)("confluence_comments_use_new_observer","isEnabled",!0))return Y({targetCommentId:e,onScrollReady:t,onFallback:a,timeoutMs:o,markElement:r,containerId:i});let s=!1,l=!1,c=new MutationObserver(n=>{if(!l){if(!s){for(let a of n)if("childList"===a.type){for(let n of Array.from(a.addedNodes))if(n.nodeType===Node.ELEMENT_NODE){let a=i?document.getElementById(i):null,o=a||n.querySelector?.(`[data-comment-id="${e}"]`)||(n.matches?.(`[data-comment-id="${e}"]`)?n:null);if(o){if(s=!0,a){t(a),l=!0,c.disconnect();return}r&&B(r,!0);let e=document.querySelector('[data-testid="show-hidden-replies"]');if(e)e.click();else{t(o),l=!0,c.disconnect();return}break}}}}if(s){let n=document.querySelector(`[data-comment-id="${e}"]`),a=document.querySelector('[data-testid="show-hidden-replies"]');if(n&&!a){r&&B(r,!0),t(n),l=!0,c.disconnect();return}}}});c.observe(document.body,{childList:!0,subtree:!0});let d=setTimeout(()=>{if(!l)if(c.disconnect(),l=!0,s){let n=document.querySelector(`[data-comment-id="${e}"]`);n&&(r&&B(r,!0),t(n))}else a&&a()},o);return()=>{l||(c.disconnect(),l=!0,clearTimeout(d))}},e.exports.shouldScrollCommentThreadToTop=(e,t)=>{let n=e.getBoundingClientRect(),a=X("general"===t?document.querySelector("[data-testid='comment-section-separator']")?.getBoundingClientRect().height??0:0),o=document.querySelector("[data-testid='object-sidebar-panel-footer']"),r=o?.getBoundingClientRect().height??0,i=window.innerHeight-r,s=n.top>=a,l=n.bottom<=i;return(!s||!l)&&(!s&&!!l||!s||!!l||!(n.bottom-i<=60))},e.exports.isCommentThreadReplyOutOfView=(e,t)=>{let n=e.getBoundingClientRect(),a="general"===t?document.querySelector("[data-testid='comment-section-separator']")?.getBoundingClientRect().height??0:0,o=document.querySelector("[data-testid='object-sidebar-panel-footer']"),r=o?.getBoundingClientRect().height??0;return n.bottom+a>window.innerHeight-r},e.exports.getWidthAndMaxWidth=({pageMode:e,pageWidthType:t,hasEndOfPageRecommendations:a})=>{let o="1000px";if(e===n("cD1qu").PageMode.VIEW&&((0,n("9wGTI").fg)("confluence_frontend_unify_footer_comment_width")||(0,n("6mKj3").expValEquals)("confluence_unify_footer_comments_space_width","isEnabled",!0))){let e=t&&JSON.parse(t)===n("1d2ww").ContentAppearanceType.DEFAULT;return a?{width:e?"87.5%":"100%",maxWidth:o}:{width:"100%",maxWidth:e?"760px":"1800px"}}if(e!==n("cD1qu").PageMode.VIEW&&((0,n("9wGTI").fg)("confluence_frontend_unify_footer_comment_width_ld")||(0,n("6mKj3").expValEquals)("confluence_unify_footer_comments_space_width","isEnabled",!0)))return{width:"100%",maxWidth:a&&(0,n("6mKj3").expValEquals)("confluence_ai_related_content_for_live_pages","isEnabled",!0)?o:"100%"};let r="100%";return t&&(r=JSON.parse(t)===n("1d2ww").ContentAppearanceType.DEFAULT?"1000px":"unset"),{width:"100%",maxWidth:r}}}),a("i49vP",function(e,t){let a=e=>{let t=0,n=e;for(;n&&!n.classList.contains("fabric-editor-popup-scroll-parent");)t+=n.offsetTop,n=n.offsetParent;return t},o=e=>{(0,n("aHcFH").checkElementExpandMultiLevelCommon)(e,{isEditor:!0,expandSelectors:[".ak-editor-expand"],getExpandButton:e=>e.classList.contains("ak-editor-expand")?e.querySelector(".ak-editor-expand__icon-container"):null,isExpanded:e=>{let t=e.closest(".ak-editor-expand");return t?.classList.contains("ak-editor-expand__expanded")||!1},onExpand:()=>{n("4EKKB").selectInlineCommentCompoundExperience.addCommonAttributes({isInExpand:!0})}})},r=e=>{o(e)},i=({targetElement:e,viewingRoomOffset:t=0})=>{let n=document.querySelector(".fabric-editor-popup-scroll-parent");n&&n.scrollTo(0,a(e)+t)};e.exports.checkElementExpandInEditor=r,e.exports.openInlineCommentInEditor=({targetElement:e,targetElementID:t,shouldScroll:a=!0})=>{let o=(0,n("gfqXk").getEditorAnnotationEventEmitter)();r(e),o.emit("setselectedannotation",t),window.getSelection()?.setPosition(e),a&&i({targetElement:e,viewingRoomOffset:-100})},e.exports.scrollToElementInEditor=i,e.exports.updateCommentHighlightsInEditor=({data:e,previousAnnotations:t})=>{let a=(0,n("gfqXk").getEditorAnnotationEventEmitter)(),o=e?.comments?.nodes?.map(e=>(e?.location).inlineMarkerRef);if(o&&o.length>0){let e=new Set(o),n=[];t.forEach(t=>{e.has(t)||n.push(t)});let r=[...t],i=[];for(let n of(e.forEach(e=>{t.includes(e)||i.push(e)}),i))a.emit("create",n),r.push(n);for(let e of n)a.emit("resolve",e),r=r.filter(t=>t!==e);return r}return[]}}),a("9CnRS",function(e,t){let a=(0,n("cgtv4").defineMessages)({addNew:{id:"inline-comments-common.reactions.add.new",defaultMessage:"Add new"},invalidHighlight:{id:"inline-comments-common.error.invalid.highlight",defaultMessage:"Were having trouble adding your comment. Try highlighting more or less text."},replyCommentPlaceholder:{id:"inline-comments-common.reply-comment-placeholder",defaultMessage:"Reply"},staleContent:{id:"inline-comments-common.error.stale.content",defaultMessage:"Refresh to view the latest updates, and try adding your comment again."},viewNotPermitted:{id:"inline-comments-common.error.view.not.permitted",defaultMessage:"Your permission settings dont allow you to view this comment. Check with your administrator if you need this ability."},createNotPermitted:{id:"inline-comments-common.error.create.not.permitted",defaultMessage:"You cant create comments in this space. A space admin can modify your permissions."},unableToApplyAnnotation:{id:"inline-comments-common.error.unable.to.apply.annotation",defaultMessage:"Something went wrong when adding this comment to the document. Refresh to see your comment."},unableToApplyDanglingCommentAnnotation:{id:"inline-comments-common.error.unable.to.apply.dangling.comment.annotation",defaultMessage:"Your comment was created but could not be added to the document because the text has been changed or removed."},contentHasBeenRemoved:{id:"inline-comments-common.error.create.content.removed",defaultMessage:"The text you highlighted has already been deleted by someone else. Refresh to view the latest updates."},viewOrModifyNotPermitted:{id:"inline-comments-common.error.view.or.modify.not.permitted",defaultMessage:"You cant view or modify comments in this space. A space admin can modify your permissions."},deleteWithRepliesNotAllowed:{id:"inline-comments-common.error.delete.with.replies",defaultMessage:"You cant delete this comment anymore because someone else replied to it. Refresh to see all replies."},commentAlreadyDeleted:{id:"inline-comments-common.error.comment.already.deleted",defaultMessage:"This comment has been deleted by someone else. Refresh to view the latest updates."},noCommentsFoundForGivenMarkerRef:{id:"inline-comments-common.error.no.comments.found.for.given.marker.ref",defaultMessage:"This comment couldnt be found. Refresh to view the latest updates."},resolveNotPermitted:{id:"inline-comments-common.error.resolve.not.permitted",defaultMessage:"You cant resolve comments in this space. A space admin can modify your permissions."},editNotPermitted:{id:"inline-comments-common.error.edit.not.permitted",defaultMessage:"You cant edit comments in this space. A space admin can modify your permissions."},replyNotPermitted:{id:"inline-comments-common.error.reply.not.permitted",defaultMessage:"You cant reply to comments in this space. A space admin can modify your permissions."},replyNotAllowedParentDeleted:{id:"inline-comments-common.error.reply.not.allowed.parent.deleted",defaultMessage:"You cant reply to this comment because it was just deleted by someone else. Refresh to view the latest updates."},unableToMarkDOM:{id:"inline-comments-common.error.unable.to.mark.dom",defaultMessage:"Your comment has been successfully created. Refresh to view it."},networkError:{id:"inline-comments-common.error.network",defaultMessage:"Your comment wasn't added due to a network error. Check your connection and try again."},unexpectedError:{id:"inline-comments-common.error.unexpected",defaultMessage:"Something went wrong when saving this comment. Close the comment or refresh, and try adding your comment again."},actionNotPermittedTitle:{id:"inline-comments-common.error.action.not.permitted.title",defaultMessage:"Unauthorized action"},actionNotPermitted:{id:"inline-comments-common.error.action.not.permitted",defaultMessage:"You cant perform that action on inline comments in this space. A space admin can modify your permissions."},cannotReplyToResolvedComment:{id:"inline-comments-common.error.cannot.reply.to.resolved",defaultMessage:"You cant reply to this comment because it was recently resolved by another user. Refresh to view the latest updates."},cannotUpdateResolvedComment:{id:"inline-comments-common.error.cannot.update.resolved",defaultMessage:"You cant edit this comment because it was recently resolved by another user. Refresh to view the latest updates."},unableToGenerateStep:{id:"inline-comments-common.error.unable.to.generate.step",defaultMessage:"You cant create a comment because something went wrong with your highlight. Close this window and create a new highlight."},contentOutOfDate:{id:"inline-comments-common.error.content.out.of.date",defaultMessage:"You cant create a comment here because the text has been changed or removed."},createTimeout:{id:"inline-comments-common.error.create.timeout",defaultMessage:"Your request to create a comment timed out. Wait a few moments and save the comment again."},a11yCommentLabel:{id:"inline-comments-common.a11y.comment.wrapper.label",defaultMessage:"Comment by {username}"},commentActionsMenuLabel:{id:"inline-comments-common.comment.actions.menu.label",defaultMessage:"More actions"},copyLinkTooltip:{id:"inline-comments-common.tooltip.copy.link",defaultMessage:"Copy link to comment"},linkCopiedTooltip:{id:"inline-comments-common.tooltip.link.has.been.copied",defaultMessage:"Copied!"},resolve:{id:"inline-comments-common.view.action.resolve",defaultMessage:"Resolve"},resolved:{id:"inline-comments-common.view.action.resolved",defaultMessage:"Resolved"},edit:{id:"inline-comments-common.view.action.edit",defaultMessage:"Edit"},delete:{id:"inline-comments-common.view.action.delete",defaultMessage:"Delete"},reopen:{id:"inline-comments-common.action.reopen",defaultMessage:"Reopen"},replyPlaceholder:{id:"inline-comments-common.reply.placeholder",defaultMessage:"Reply"},replyPlaceholderWithName:{id:"inline-comments-common.reply.placeholder.with-name",defaultMessage:"Reply to {name}"},reactionAriaLabelWithName:{id:"inline-comments-common.reaction.aria-label.with-name",defaultMessage:"React to {name}s comment"},resolveThread:{id:"inline-comments-common.resolve-thread",defaultMessage:"Resolve comment thread"},sampleAuthor:{id:"inline-comments-common.sample.comment.author",defaultMessage:"Confluence"},sampleBody:{id:"inline-comments-common.sample.comment.body",defaultMessage:"Highlight content to add an inline comment. All viewers can see these, so its great for targeted discussion on a specific word or phrase"},sampleReply:{id:"inline-comments-common.sample.reply.input",defaultMessage:"disabled reply input"},sampleReplyPlaceholder:{id:"inline-comments-common.sample.reply.placeholder",defaultMessage:"Reply"},sampleReplyTooltip:{id:"inline-comments-common.sample.reply.tooltip",defaultMessage:"Reply is unavailable for sample comments"},sampleDeleteHeader:{id:"inline-comments-common.sample.comment.delete.header",defaultMessage:"Only you can see this."},sampleDeleteIcon:{id:"inline-comments-common.sample.comment.delete.icon",defaultMessage:"Delete icon"},sampleDeleteTooltip:{id:"inline-comments-common.sample.comment.delete.tooltip",defaultMessage:"Delete sample comment"},sampleCloseIconLabel:{id:"inline-comments-common.sample.comment.delete.icon.label",defaultMessage:"Close sample comment"},collapsedRepliesMore:{id:"inline-comments-common.collapsed.replies.more",defaultMessage:"{numCollapsedReplies} more replies"},unreadInlineComment:{id:"inline-comments-common.unread.inline.comment",defaultMessage:"This is an unread inline comment"},deletedCommentActionLabel:{id:"inline-comments-common.deleted.comment.action.label",defaultMessage:"This comment has been deleted"},resolvedText:{id:"inline-comments-common.resolved",defaultMessage:"[Resolved]"},resolvedFlagText:{id:"inline-comments-common.resolved.flag.text",defaultMessage:"Comment resolved"},deletedText:{id:"inline-comments-common.deleted",defaultMessage:"[Deleted]"},copyLink:{id:"inline-comments-common.copy.link",defaultMessage:"Copy link"},goToCommentCTA:{id:"inline-comments-common.comment.reopened.flag.cta.gotocomment",defaultMessage:"Go to comment"},undoCTA:{id:"inline-comments-common.comment.reopened.flag.cta.undo",defaultMessage:"Undo"},contentDeleted:{id:"inline-comments-common.content.deleted",defaultMessage:"Content deleted"},originalContentDeleted:{id:"inline-comments-common.original.content.deleted",defaultMessage:"Original content deleted"},thisContentWasDeleted:{id:"inline-comments-common.dangling.comments.this.content.was.deleted",defaultMessage:"This content was deleted."},viewDeletedContent:{id:"inline-comments-common.dangling.comments.view.deleted.content",defaultMessage:"View deleted content"},collapseDeletedContent:{id:"inline-comments-common.dangling.comments.collapse.deleted.content",defaultMessage:"Collapse deleted content"}});e.exports.i18n=a}),a("isdzP",function(e,t){e.exports.parseError=e=>{let{message:t}=e,a="",o={message:a,isAuthorized:!1};if(-1!==t.indexOf("GraphQL error:")){let r=t.lastIndexOf(":")+1;a=t.substr(r,t.length-r).trim(),o.errorId=(0,n("fJlJm").getLogSafeErrorAttributes)(e).traceId}else a=t;o.message=a;let{graphQLErrors:r}=e;return r&&r.length&&(o.statusCode=r?.[0]?.extensions?.statusCode,o.isAuthorized=r?.[0]?.extensions?.data?.authorized||!1),o},e.exports.getTranslatedError=(e,t="")=>{let a;if(e.includes("Unable to apply annotation to document"))a=e.includes("Failed to create annotation")?n("9CnRS").i18n.unableToApplyDanglingCommentAnnotation:n("9CnRS").i18n.unableToApplyAnnotation;else if(e.startsWith("Network error: "))a=n("9CnRS").i18n.networkError;else switch(e){case n("hL41C").InlineCommentError.INVALID_SELECTION:case n("hL41C").InlineCommentError.FAILED_TO_INSERT_MARK:a=n("9CnRS").i18n.invalidHighlight;break;case n("hL41C").InlineCommentError.STALE_SELECTION:a=n("9CnRS").i18n.staleContent;break;case n("hL41C").InlineCommentError.NO_ANONYMOUS_ACCESS:a=n("9CnRS").i18n.actionNotPermitted;break;case n("hL41C").InlineCommentError.NO_COMMENTS_FOUND_FOR_GIVEN_MARKER_REF:case n("hL41C").InlineCommentError.NO_COMMENTS_FOUND_FOR_GIVEN_MARKER_REF_LIST:a=n("9CnRS").i18n.noCommentsFoundForGivenMarkerRef;break;case n("hL41C").InlineCommentError.NO_VIEW_PERMS:case n("hL41C").InlineCommentError.NOT_AUTHORIZED:case n("hL41C").InlineCommentError.NOT_AUTHORIZED_COMMENTS:a=n("9CnRS").i18n.viewNotPermitted;break;case n("hL41C").InlineCommentError.NO_UPDATE_PERMS.replace("%d",t||""):a=n("9CnRS").i18n.editNotPermitted;break;case n("hL41C").InlineCommentError.NO_VIEW_OR_MODIFY_PERMS:a=n("9CnRS").i18n.viewOrModifyNotPermitted;break;case n("hL41C").InlineCommentError.NO_DELETE_WITH_CHILDREN:a=n("9CnRS").i18n.deleteWithRepliesNotAllowed;break;case n("hL41C").InlineCommentError.NO_CREATE_PERMS:a=n("9CnRS").i18n.createNotPermitted;break;case n("hL41C").InlineCommentError.UPDATE_COMMENT_NOT_FOUND.replace("%d",t||""):case n("hL41C").InlineCommentError.COMMENT_ALREADY_DELETED.replace("%d",t||""):case n("hL41C").InlineCommentError.CANNOT_RESOLVE_DELETED_COMMENT.replace("%d",t||""):case n("hL41C").InlineCommentError.ERROR_404:a=n("9CnRS").i18n.commentAlreadyDeleted;break;case n("hL41C").InlineCommentError.CANNOT_REPLY_TO_DELETED_PARENT:a=n("9CnRS").i18n.replyNotAllowedParentDeleted;break;case n("hL41C").InlineCommentError.INVALID_ARGUMENT_MATCHES:a=n("9CnRS").i18n.contentHasBeenRemoved;break;case n("hL41C").InlineCommentError.CANNOT_REPLY_TO_RESOLVED_COMMENT:a=n("9CnRS").i18n.cannotReplyToResolvedComment;break;case n("hL41C").InlineCommentError.CANNOT_UPDATE_RESOLVED_COMMENT:a=n("9CnRS").i18n.cannotUpdateResolvedComment;break;case n("hL41C").InlineCommentError.CONTENT_OUT_OF_DATE:a=n("9CnRS").i18n.contentOutOfDate;break;case n("hL41C").InlineCommentError.INVALID_ARGUMENT_CREATED_FROM:case n("hL41C").InlineCommentError.CREATE_COMMENT_NOT_FOUND.replace("%d",t||""):case n("hL41C").InlineCommentError.PARENT_NOT_FOUND.replace("%d",t||""):case n("hL41C").InlineCommentError.INCOMPATIBLE_PARENT_TYPE:case n("hL41C").InlineCommentError.DELETE_ERROR:default:a=n("9CnRS").i18n.unexpectedError}return a},e.exports.isHighlightError=e=>e.id===n("9CnRS").i18n.invalidHighlight.id,e.exports.isUnexpectedError=e=>e.id===n("9CnRS").i18n.unexpectedError.id,e.exports.isAnnotationError=e=>e.id===n("9CnRS").i18n.unableToApplyAnnotation.id||e.id===n("9CnRS").i18n.unableToApplyDanglingCommentAnnotation.id,e.exports.isOutOfDateError=e=>e.id===n("9CnRS").i18n.contentOutOfDate.id||e.id===n("9CnRS").i18n.staleContent.id,e.exports.isAlreadyDeletedError=e=>e.id===n("9CnRS").i18n.commentAlreadyDeleted.id,e.exports.isNetworkError=e=>e.id===n("9CnRS").i18n.networkError.id}),a("hL41C",function(e,t){var n,a=((n={}).INVALID_SELECTION="Invalid text selection. Cannot create inline comments on macros (mentions, images, emojis, etc.)",n.FAILED_TO_INSERT_MARK="Failed to insert highlight, invalid originalSelection, numMatches, or matchIndex",n.INVALID_ARGUMENT_CREATED_FROM="Invalid createdFrom, please specify if created from editor or renderer",n.STALE_SELECTION="Selection was made against a stale version of the content",n.NO_ANONYMOUS_ACCESS="Anonymous access is not permitted",n.NO_COMMENTS_FOUND_FOR_GIVEN_MARKER_REF="No comments found for the given markerRef",n.NO_COMMENTS_FOUND_FOR_GIVEN_MARKER_REF_LIST="No comments found for the given markerRefList",n.NO_VIEW_PERMS="User doesn't have VIEW permission for this comment",n.NOT_AUTHORIZED="403 Forbidden, current user not permitted to use Confluence.",n.NOT_AUTHORIZED_COMMENTS="User does not have permission to access the comment(s)",n.CREATE_COMMENT_NOT_FOUND="Content with id %d for comment container is not found. Please provide correct container id.",n.PARENT_NOT_FOUND="Parent comment with id %d is not found. Please provide correct parent comment id.",n.INCOMPATIBLE_PARENT_TYPE="Incompatible parent type. Please provide comment id.",n.CANNOT_REPLY_TO_DELETED_PARENT="Cannot add reply to a deleted comment",n.CANNOT_REPLY_TO_RESOLVED_COMMENT="Inline comment in RESOLVED status cannot be replied",n.DELETE_ERROR="Exception occurred while deleting comment with id",n.NO_VIEW_OR_MODIFY_PERMS="Parent page view is restricted",n.NO_DELETE_WITH_CHILDREN="Inline comment with child cannot be deleted.",n.COMMENT_ALREADY_DELETED="Exception occurred while deleting comment with id %d",n.ERROR_404="Received status 404",n.NO_UPDATE_PERMS="Could not update Content of type  = class com.atlassian.confluence.pages.Comment with id %d",n.UPDATE_COMMENT_NOT_FOUND="Could not find Comment for update with id CommentId{id=%d}",n.CANNOT_UPDATE_RESOLVED_COMMENT="Inline comment in RESOLVED status cannot be updated",n.NO_CREATE_PERMS="Could not create content with type comment",n.INVALID_ARGUMENT_MATCHES="Invalid arguments provided for matchIndex and/or numMatches",n.CONTENT_OUT_OF_DATE="Published Version out of date. Please provide correct published version.",n.UNABLE_TO_APPLY_ANNOTATION="Unable to apply annotation to document",n.CANNOT_RESOLVE_DELETED_COMMENT="%d must be existing and be an inline comment",n);e.exports.InlineCommentError=a}),a("6cWI7",function(e,t){var a=n("42omo");let o=n("l4jQJ").default;e.exports.useCreateInlineCommentMutation=({contentId:e})=>{let{addCommentInCache:t}=(0,n("NYiei").useAllCommentsData)({contentId:e,options:{skip:!0}}),[r]=(0,n("308Wd").useMutationInterop)(o),i=(0,a.useCallback)(e=>e?{...e,replies:[]}:void 0,[]);return{createInlineCommentInterop:(0,a.useCallback)(({originalMutationFn:e,options:a,onCacheUpdateError:o})=>{if(!(0,n("6mKj3").expVal)("cc_comments_new_comments_data_manager","isEnabled",!1))return e(a);{let{variables:e}=a,{includeReactionsAndReplies:n,...s}=e??{includeReactionsAndReplies:void 0};return r({variables:{...s},update:(e,n)=>{t({newComment:i(n.data.createInlineComment),onError:o})}})}},[t,i,r])}}}),a("l4jQJ",function(e,t){var n,a,o,r,i,s,l,c,d,u,m,p,f;let g={fragment:{argumentDefinitions:[n={defaultValue:null,kind:"LocalArgument",name:"input"},a={defaultValue:null,kind:"LocalArgument",name:"pageId"}],kind:"Fragment",name:"useCreateInlineCommentMutation",selections:f=[{args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"Comment",kind:"LinkedField",name:"createInlineComment",plural:!1,selections:[o={kind:"ScalarField",name:"id"},{kind:"LinkedField",name:"author",plural:!1,selections:[r={kind:"ScalarField",name:"__typename"},i={kind:"ScalarField",name:"displayName"},{kind:"ScalarField",name:"permissionType"},{concreteType:"Icon",kind:"LinkedField",name:"profilePicture",plural:!1,selections:[{kind:"ScalarField",name:"path"}]},s={kind:"ScalarField",name:"type"},l={kind:"InlineFragment",selections:[{kind:"ScalarField",name:"accountId"}],type:"KnownUser"}]},{args:[{kind:"Literal",name:"representation",value:"ATLAS_DOC_FORMAT"}],concreteType:"DocumentBody",kind:"LinkedField",name:"body",plural:!1,selections:c=[{kind:"ScalarField",name:"value"}],storageKey:'body(representation:"ATLAS_DOC_FORMAT")'},{concreteType:"Content",kind:"LinkedField",name:"container",plural:!1,selections:[o]},{kind:"ScalarField",name:"contentStatus"},{concreteType:"ConfluenceDate",kind:"LinkedField",name:"createdAt",plural:!1,selections:c},{kind:"ScalarField",name:"createdAtNonLocalized"},{concreteType:"Map_LinkType_String",kind:"LinkedField",name:"links",plural:!1,selections:[{kind:"ScalarField",name:"editui"},{kind:"ScalarField",name:"webui"}]},{kind:"LinkedField",name:"location",plural:!1,selections:[r,s,{kind:"InlineFragment",selections:[{concreteType:"InlineCommentResolveProperties",kind:"LinkedField",name:"commentResolveProperties",plural:!1,selections:[d={kind:"ScalarField",name:"resolved"},u={kind:"ScalarField",name:"resolvedFriendlyDate"},m={kind:"ScalarField",name:"resolvedTime"},p={kind:"ScalarField",name:"resolvedUser"}]}],type:"FooterComment"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"inlineMarkerRef"},{concreteType:"InlineCommentResolveProperties",kind:"LinkedField",name:"inlineResolveProperties",plural:!1,selections:[{kind:"ScalarField",name:"isDangling"},d,u,m,p]},{kind:"ScalarField",name:"inlineText"}],type:"InlineComment"}]},{kind:"ScalarField",name:"parentId"},{concreteType:"CommentPermissions",kind:"LinkedField",name:"permissions",plural:!1,selections:[{kind:"ScalarField",name:"isEditable"},{kind:"ScalarField",name:"isRemovable"},{kind:"ScalarField",name:"isResolvable"}]},{args:[{kind:"Literal",name:"childType",value:"comment"},{kind:"Literal",name:"contentType",value:"page"},{kind:"Variable",name:"pageId",variableName:"pageId"}],concreteType:"ReactionsSummaryResponse",kind:"LinkedField",name:"reactionsSummary",plural:!1,selections:[{kind:"ScalarField",name:"ari"},{kind:"ScalarField",name:"containerAri"},{kind:"ScalarField",name:"reactionsCount"},{concreteType:"ReactionsSummaryForEmoji",kind:"LinkedField",name:"reactionsSummaryForEmoji",plural:!0,selections:[o,{kind:"ScalarField",name:"count"},{kind:"ScalarField",name:"emojiId"},{kind:"ScalarField",name:"reacted"}]}]},{concreteType:"Version",kind:"LinkedField",name:"version",plural:!1,selections:[{kind:"LinkedField",name:"by",plural:!1,selections:[r,s,i,l]},{kind:"ScalarField",name:"friendlyWhen"},{kind:"ScalarField",name:"number"},{kind:"ScalarField",name:"when"}]}]}],type:"Mutation"},kind:"Request",operation:{argumentDefinitions:[a,n],kind:"Operation",name:"useCreateInlineCommentMutation",selections:f},params:{cacheID:"e24366c26db43cec71d2389d47713237",id:"6fb8d32a19fd54f1167b17c440131031a9406832544a4743963e9e462353f885",metadata:{},name:"useCreateInlineCommentMutation",operationKind:"mutation",text:'mutation useCreateInlineCommentMutation($pageId:ID!,$input:CreateInlineCommentInput!){createInlineComment(input:$input){id,author{__typename,displayName,permissionType,...on KnownUser{accountId,permissionType},profilePicture{path},type},body(representation:ATLAS_DOC_FORMAT){value},container{id},contentStatus,createdAt{value},createdAtNonLocalized,links{editui,webui},location{__typename,type,...on FooterComment{commentResolveProperties{resolved,resolvedFriendlyDate,resolvedTime,resolvedUser}},...on InlineComment{inlineMarkerRef,inlineResolveProperties{isDangling,resolved,resolvedFriendlyDate,resolvedTime,resolvedUser},inlineText}},parentId,permissions{isEditable,isRemovable,isResolvable},reactionsSummary(pageId:$pageId,contentType:"page",childType:"comment"){ari,containerAri,reactionsCount,reactionsSummaryForEmoji{id,count,emojiId,reacted}},version{by{__typename,type,displayName,...on KnownUser{accountId}},friendlyWhen,number,when}}}'}};g.hash="f3ea5340b40a0a0dd635fcfbf3e8ed68",e.exports.default=g}),a("a8ZQ3",function(t,a){var o=n("42omo");let r=(0,o.createContext)({documentUpdated:!1,documentNeedsUpdate:!1,publishedDocumentVersion:0,currentDocumentVersion:0});r.displayName="DocumentUpdateStatusContext";let i=(0,o.createContext)({setDocumentUpdated:()=>{},setDocumentNeedsUpdate:()=>{},setPublishedDocumentVersion:()=>{},setCurrentDocumentVersion:()=>{}});i.displayName="DocumentUpdateStatusDispatchContext",t.exports.DocumentUpdateStatusProvider=({children:t})=>{let[n,a]=(0,o.useState)(!1),[s,l]=(0,o.useState)(!1),[c,d]=(0,o.useState)(0),[u,m]=(0,o.useState)(0),p=(0,o.useMemo)(()=>({documentUpdated:n,documentNeedsUpdate:s,publishedDocumentVersion:c,currentDocumentVersion:u}),[n,s,c,u]),f=(0,o.useMemo)(()=>({setDocumentUpdated:a,setDocumentNeedsUpdate:l,setPublishedDocumentVersion:d,setCurrentDocumentVersion:m}),[a,l,d,m]);return e(o).createElement(r.Provider,{value:p},e(o).createElement(i.Provider,{value:f},t))},t.exports.useDocumentUpdateStatus=()=>(0,o.useContext)(r),t.exports.useDocumentUpdateStatusDispatch=()=>(0,o.useContext)(i)}),a("aMfLn",function(e,t){let a=async({rendererActions:e,contentId:t,triggerAnalyticsEvent:a,updateUnresolvedInlineComment:o})=>{let r=e?.getAnnotationMarks(),i=r?.map(e=>e.attrs.id)||[];(0,n("kDIns").getRendererAnnotationStates)({annotations:i,pageId:t,triggerAnalyticsEvent:a,validAnnotationsCallback:o,isNestedRender:!1}).catch(()=>{})};e.exports.updateRendererAnnotations=a,e.exports.constructStepForGql=(e,t)=>{let a={mark:{attrs:{annotationType:"inlineComment",id:e.mark.attrs.id},type:"annotation"}};if(void 0!==t)return{pos:t,...a};if(e instanceof n("aXG5V").AddMarkStep||e instanceof n("aXG5V").RemoveMarkStep){let{from:t,to:n}=e;return{from:t,to:n,...a}}return{pos:e.pos,...a}}}),a("3Xfi8",function(e,t){e.exports.useShouldCommentSidebarBeSticky=({annotationElement:e,isEditor:t})=>{let a,o=".pm-table-container";a=t?e?.closest(o)?.parentElement?.querySelector(".pm-table-sticky-sentinel-top"):e?.closest(o);let[r,i]=(0,n("7nPJ6").useIsSticky)({isEditor:t,elementToObserve:a});(0,n("6HwWx").useStickyTableHeaderObserver)({setIsSticky:i,isEditor:t,elementToObserve:a});let s=e?.closest("th");if(s&&(0,n("9wGTI").fg)("confluence-fe-comment-stickiness-fix")){let e=s.parentElement,t=e?.parentElement;if(t?.firstElementChild!==e)return{isSticky:!1}}return e?.closest(".pm-table-nested-table-with-controls")||!e?.closest("th")?{isSticky:!1}:{isSticky:r}}}),a("7nPJ6",function(e,t){var a=n("42omo");e.exports.useIsSticky=({isEditor:e,elementToObserve:t})=>{let o=!!t&&(0,n("jW2Ig").getIsSticky)(t.parentElement,e),[r,i]=(0,a.useState)((0,n("9wGTI").fg)("confluence_frontend_remove_duplicate_sidebar_logic")&&o);return(0,a.useEffect)(()=>{(0,n("9wGTI").fg)("confluence_frontend_remove_duplicate_sidebar_logic")&&((0,n("6mKj3").expValEquals)("confluence_compute_sidebar_styles_pre-render","isEnabled",!0)||i(o))},[o]),(0,a.useLayoutEffect)(()=>{(0,n("9wGTI").fg)("confluence_frontend_remove_duplicate_sidebar_logic")&&(0,n("6mKj3").expValEquals)("confluence_compute_sidebar_styles_pre-render","isEnabled",!0)&&i(o)},[o]),[r,i]}}),a("jW2Ig",function(e,t){let n=e=>e?.getAttribute("mode")==="stick",a=e=>!!e?.classList.contains("pm-table-sticky");e.exports.isStickyInViewMode=n,e.exports.isStickyInEditMode=a,e.exports.getIsSticky=(e,t)=>t?a(e):n(e)}),a("6HwWx",function(e,t){var a=n("42omo");e.exports.useStickyTableHeaderObserver=({setIsSticky:e,isEditor:t,elementToObserve:o})=>{(0,a.useEffect)(()=>{if(!(0,n("9wGTI").fg)("confluence_frontend_remove_duplicate_sidebar_logic"))return;let a=new MutationObserver(a=>{a.forEach(a=>{if("attributes"===a.type&&"class"===a.attributeName){let o=a.target;t&&(0,n("jW2Ig").isStickyInEditMode)(o)||(0,n("jW2Ig").isStickyInViewMode)(o)?e(!0):e(!1)}})});return o?.parentElement&&a.observe(o.parentElement,{attributes:!0,attributeFilter:["class"]}),()=>{a.disconnect()}},[o?.parentElement,t,e])}}),a("eA7s6",function(e,t){var a=n("42omo");e.exports.useCommentSidebarOffset=({annotationElement:e,isEditor:t,isViewCommentMode:o,windowWidth:r,isSticky:i})=>(0,a.useMemo)(()=>e?t?(0,n("aHcFH").calculateEditorOffsetFromParent)(e,".fabric-editor-popup-scroll-parent"):(0,n("aHcFH").calculateRendererOffsetFromParent)(e,'[data-annotation-draft-mark="true"]',!!o):0,[t,e,o,r,i])}),a("5pQ1Y",function(t,a){var o=n("3u0dr"),r=n("frIzR"),i=n("42omo");let s=(0,i.createContext)({refetchContent:!1});s.displayName="ContentRefetchContext";let l=(0,i.createContext)({setRefetchContent:()=>{}});l.displayName="ContentRefetchDispatchContext";let c=(0,o.isReactCompilerActiveV1)()?t=>{let n,a,o,c,d=(0,r.c)(8),{children:u}=t,[m,p]=(0,i.useState)(!1);d[0]!==m?(n={refetchContent:m},d[0]=m,d[1]=n):n=d[1];let f=n;d[2]===Symbol.for("react.memo_cache_sentinel")?(a={setRefetchContent:e=>p(e)},d[2]=a):a=d[2];let g=a;return d[3]!==u?(o=e(i).createElement(l.Provider,{value:g},u),d[3]=u,d[4]=o):o=d[4],d[5]!==f||d[6]!==o?(c=e(i).createElement(s.Provider,{value:f},o),d[5]=f,d[6]=o,d[7]=c):c=d[7],c}:({children:t})=>{let[n,a]=(0,i.useState)(!1),o=(0,i.useMemo)(()=>({refetchContent:n}),[n]),r=(0,i.useMemo)(()=>({setRefetchContent:e=>a(e)}),[a]);return e(i).createElement(s.Provider,{value:o},e(i).createElement(l.Provider,{value:r},t))},d=((0,o.isReactCompilerActiveV1)(),()=>(0,i.useContext)(s)),u=((0,o.isReactCompilerActiveV1)(),()=>(0,i.useContext)(l));t.exports.ContentRefetchProvider=c,t.exports.useContentRefetch=d,t.exports.useContentRefetchDispatch=u}),a("en1dX",function(e,t){var n,a,o,r=((n={}).COMMENTS_PANEL="commentsPanel",n.STANDALONE="standalone",n.PAGE_FOOTER="pageFooter",n),i=((a={}).REOPEN_COMMENT="reopenComment",a),s=((o={}).INLINE="inline",o.GENERAL="general",o.PAGE="page",o);e.exports.AnalyticsSource=r,e.exports.ActionName=i,e.exports.CommentType=s}),a("a3q17",function(e,t){let a=(0,n("lSOAM").createPageSegmentLoadMetric)({key:n("jX1qB").EDITOR_INLINE_COMMENT_RENDER_SEGMENT_KEY}),o=(0,n("lSOAM").createPageSegmentLoadMetric)({key:n("jX1qB").RENDERER_INLINE_COMMENT_RENDER_SEGMENT_KEY}),r=(0,n("lSOAM").createPageSegmentLoadMetric)({key:n("jX1qB").FABRIC_COMMENTS_HIGHLIGHTS_SEGMENT_KEY,timings:[{key:"fmp",endMark:"fmp"},{key:"tti",endMark:"tti"},{key:"highlightsRendered",endMark:"highlightsRendered"}]}),i=(0,n("lSOAM").createPageSegmentLoadMetric)({key:"direct-comment-data-flow",timings:[{key:"commentCreationStart",startMark:"commentCreationStart"},{key:"commentCreationEnd",endMark:"commentCreationEnd"},{key:"commentDataLoad",startMark:"commentDataLoadStart",endMark:"commentDataLoadEnd"}]});e.exports.EDITOR_INLINE_COMMENT_RENDER_METRIC=a,e.exports.RENDERER_INLINE_COMMENT_RENDER_METRIC=o,e.exports.FABRIC_COMMENTS_HIGHLIGHTS_METRIC=r,e.exports.DIRECT_COMMENT_DATA_FLOW_METRIC=i}),a("B3Avz",function(t,a){var o=n("42omo"),r=n("lisKW"),i=n("T1bCI"),s=n("cMvMc"),l=n("5fMeR"),c=n("3D12W"),d=n("4PPzL");let u=(e,t,a,o)=>{0===e.intersectionRatio?(t(!1),a(o)):(t(!0),a(n("bEwJH").STICKY_COMMENT_VERTICAL_OFFSET_VIEW))},m=(0,n("ecnYn").xcss)({position:"absolute",right:"space.500",top:"space.150"}),p=(0,n("ecnYn").xcss)({position:"absolute",top:"space.150",left:"space.075",alignItems:"center",justifyContent:"center"}),f=(0,n("ecnYn").xcss)({flexDirection:"column",display:"flex",marginTop:"space.400"}),g=(0,n("ecnYn").xcss)({marginTop:"space.500"}),E={height:"4px",background:"linear-gradient(to bottom, rgba(0, 0, 0, 0.15) 0%, transparent 100%)",width:"100%",margin:"0",padding:"0"},C=(0,n("ecnYn").xcss)({marginTop:"space.0"}),h=(0,n("ecnYn").xcss)({maxHeight:"calc(100vh - 300px)",overflowY:"auto"}),b=(0,n("ecnYn").xcss)({maxHeight:"calc(100vh - 300px)",overflowY:"scroll"}),_=(0,n("ecnYn").xcss)({overflowY:"visible"});t.exports.CommentSidebar=({pageId:t,onClose:a,annotationElement:I,navigationOptions:y,isEditor:S,isViewCommentMode:v,children:T,sidebarOffset:A,commentId:w,isOpeningMediaCommentFromToolbar:N,sidebarEl:R,annotationId:k,inlineCommentRef:x=()=>{},nudgeRef:O,isSticky:L,isFabricPage:P,authorName:M,setPopupsScrollableElement:D,onMaxHeightApplied:U})=>{let[F,B]=(0,o.useState)(!1),[j,V]=(0,o.useState)(A),[G,H]=(0,o.useState)(!1),[K,W]=(0,o.useState)(!1),[q,z]=(0,o.useState)(!1),Y=(0,n("6wiaZ").useHasMaxHeight)({sidebarEl:R,isRefSet:q,isFabricPage:P,isSticky:L}),Q=(0,n("6mKj3").expValEquals)("confluence_comment_enable_maxheight","isEnabled",!0)||L&&(0,n("9wGTI").fg)("confluence-fe-comment-temp-max-height-fix"),X=Y&&Q;(0,o.useEffect)(()=>{U?.(!!X)},[X,U]);let{hasContentChanged:J}=(0,n("bSvtO").useCommentsContentState)(),{resetContentChanged:Z}=(0,n("bSvtO").useCommentsContentActions)(),[{isViewMode:ee}]=(0,n("efvKr").useLivePageMode)(),{showCommentsPanel:et}=(0,l.useShowCommentsPanel)(),{setCurrentlySelectedThreadKey:en}=(0,n("3mVfX").useCommentsPanelActions)(),{scrollCommentsPanelToThread:ea}=(0,n("6KwrO").useCommentsPanelScroll)(),eo=(0,n("8uM2K").useAIRovoButtonEnablement)();(0,o.useEffect)(()=>{if((0,n("9wGTI").fg)("confluence_frontend_remove_duplicate_sidebar_logic"))return;let e=0;if(I&&!S){let t;if(S)t=document.querySelector(".fabric-editor-popup-scroll-parent"),e=(0,n("aHcFH").calculateElementOffset)(I,t);else if(t=document.querySelector('div#content[data-inline-comments-target="true"]')){let a=0;if(v)a=(0,n("aHcFH").calculateElementOffset)(I);else{let e=t.querySelector('[data-annotation-draft-mark="true"]');a=(0,n("aHcFH").calculateElementOffset)(e,void 0,!0)}e=a+t.offsetTop}V(e)}},[I,S,v]),(0,o.useEffect)(()=>{q&&R.current&&S&&N&&I&&(0,n("i49vP").scrollToElementInEditor)({targetElement:I,viewingRoomOffset:-150})},[q,I,N,w,v,S]),(0,o.useEffect)(()=>{let t,a;return q&&R.current&&((t=new(e(r))(R.current)).bind(n("gnkil").INLINE_COMMENTS_SHORTCUT,e=>{e.stopPropagation()}),G||setTimeout(()=>{H(!0)},100)),()=>{t&&t.reset(),a&&a.deactivate()}},[q]);let er=e=>{e.stopPropagation()},ei=(0,o.useCallback)(()=>{et({openWithView:n("3mVfX").ViewValues.OPEN}),k&&(en(k),(0,n("9wGTI").fg)("confluence_comments_unified_navigation")?(0,n("9FoVw").handleCommentsPanelNavigation)({scrollBehavior:n("9FoVw").ScrollBehavior.SMOOTH,context:n("9FoVw").NavigationContext.PANEL,block:"center",annotationId:k,commentId:w,commentType:"INLINE",annotationClicked:!0}):ea({annotationId:k,annotationClicked:!0}))},[et,en,ea,k,w]),es=(0,o.useCallback)((e,t=!1)=>{J?e.showModal(s.CommentWarningDialog,{onConfirm:()=>{Z(),t?ei():a&&a(!1)}}):t?ei():a&&a(J)},[J,a,Z,ei]),el=(0,o.useCallback)(e=>{es(e,!0)},[es]),ec=(0,o.useCallback)(e=>{(0,n("9wGTI").fg)("confluence_comment_header_margin")&&W(e.currentTarget.scrollTop>0)},[]),ed=(0,n("aHcFH").getSidebarId)(S,v),eu=S?"edit":"view",em=(0,n("8C5kA").default)(),ep=em.formatMessage(n("bEwJH").i18n.closeCommentBox),ef=(0,n("aWwYt").useIsObjectSidebarShown)(),eg=R.current?.getBoundingClientRect(),eE=(eg?.bottom??0)>window.innerHeight;(0,o.useEffect)(()=>{if(!(0,n("9wGTI").fg)("confluence_frontend_remove_duplicate_sidebar_logic")){let e=I?.closest(".pm-table-sticky-wrapper");if(e&&!eE){let t=new IntersectionObserver(([e])=>u(e,B,V,A),{threshold:1});return t.observe(e),()=>t.disconnect()}}},[I,A,R,eE]);let eC=(0,n("9wGTI").fg)("confluence_frontend_remove_duplicate_sidebar_logic")?L:F,eh=!!(0,n("9wGTI").fg)("confluence_comment_enable_preview_panel_support")&&(0,n("eToX6").isInPreviewPanel)(),eb=!!(0,n("9wGTI").fg)("confluence_previewpanel_enable_comments_panel")&&(0,n("eToX6").isInPreviewPanel)(),e_=0;"view"===eu&&ef?e_=n("aWwYt").MIN_PANEL_WIDTH:!ef&&((0,n("9wGTI").fg)("confluence_frontend_content_wrapper")||eo)&&!eh&&((0,n("9wGTI").fg)("confluence_frontend_remove_duplicate_sidebar_logic")?(e_=100,"view"===eu?e_+=eC?67:12:e_+=eC?27:12):e_=48+(eC?52:12));let eI=(0,n("6mKj3").expVal)("confluence_frontend_comments_a11y_kb_exp","isEnabled",!1)?{role:"dialog","aria-modal":!1,"aria-label":em.formatMessage(n("bEwJH").i18n.commentSidebarLabel,{name:M||""})}:{},ey=(0,n("9wGTI").fg)("confluence_frontend_remove_duplicate_sidebar_logic")?eC?S?A:n("bEwJH").STICKY_COMMENT_VERTICAL_OFFSET_VIEW:A:j;return e(o).createElement(d.ErrorBoundary,{attribution:n("3IBnw").Attribution.COLLABORATION},e(o).createElement(i.Subscribe,{to:[n("kRW4Y").DialogsStateContainer]},a=>e(o).createElement(n("8SCD6").ReactionsProvider,{contentId:t},e(o).createElement(n("hnvzE").default,{name:"comment-sidebar"},e(o).createElement(n("666Tc").SidebarContainer,{offset:ey,rightOffset:e_,isSticky:eC,onClick:er,id:ed,"data-testid":ed,"data-cy":ed,mode:eu,ref:e=>{R.current=e,O&&(O.current=e),z(!0),x(e)},...eI},e(o).createElement(e(o).Fragment,null,!(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")&&e(o).createElement(n("666Tc").TopContainer,{showNavigation:!!y},k&&(0,n("9wGTI").fg)("confluence-frontend-comments-panel")&&e(o).createElement(n("dcJ7R").default,{xcss:p,testId:"view-all-container"},e(o).createElement(n("ccHMk").default,{onClick:()=>el(a),iconBefore:t=>e(o).createElement(e(n("1yB28")),{...t,label:"Comment Icon",color:"var(--ds-icon-subtle)"}),appearance:"subtle",spacing:"compact",testId:"comment-sidebar-viewall-button",interactionName:"view-comments-menu-action"},e(o).createElement(n("5dK2X").default,{color:"color.text.subtle"},em.formatMessage(n("bEwJH").i18n.viewAllCommentsButtonText)))),y&&e(o).createElement(n("bXQxx").CommentNavigation,{pageId:t,commentData:y.commentData,isEditor:S,onNavigationClick:y.onNavigationClick,disableCommentCount:y.disableCommentCount}),e(o).createElement(n("3gadb").default,{content:(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")||(0,n("9wGTI").fg)("confluence-frontend-comments-panel")?e(o).createElement(n("gtD4K").default,n("bEwJH").i18n.closeSidebarTooltip):e(o).createElement(n("4tOXV").ShortcutVisualizer,{shortcut:n("gnkil").UNIVERSAL_TOGGLE_INLINE_COMMENTS_SHORTCUT,isEditorShortcut:S&&!ee,contentBefore:e(o).createElement(n("gtD4K").default,n("bEwJH").i18n.closeSidebarTooltip),isTooltip:!0}),hideTooltipOnClick:!0,position:"top"},e(o).createElement(n("666Tc").CloseButtonContainer,null,e(o).createElement(n("666Tc").CloseButton,{appearance:"subtle",isUpdatedStandaloneComment:!1,onClick:()=>es(a),onMouseDown:e=>e.preventDefault(),testId:"close-comment-sidebar-button","data-cy":`${S?"editor":"renderer"}-close-${v?"view":"create"}-comment`,iconBefore:e(o).createElement(e(n("hmuev")),{label:ep,color:"var(--ds-icon-subtle, #505258)",spacing:"none"})})))),(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")&&e(o).createElement(e(o).Fragment,null,e(o).createElement(n("6f0Oj").default,{xcss:[f,(0,n("9wGTI").fg)("confluence_comment_header_margin")&&g,!v&&C]},y&&e(o).createElement(n("bXQxx").CommentNavigation,{pageId:t,commentData:y.commentData,isEditor:S,onNavigationClick:y.onNavigationClick,disableCommentCount:y.disableCommentCount}),k&&!eb&&e(o).createElement(n("dcJ7R").default,{testId:"redesigned-view-all-container"},e(o).createElement(n("6f0Oj").default,{xcss:m,onClick:e=>{e.stopPropagation(),el(a)}},e(o).createElement(c.CommentPanelButton,{contentId:t,testId:"standalone-comment-view-all-button",isStandaloneComment:!0,isViewAllIcon:!0}))),e(o).createElement(n("3gadb").default,{content:e(o).createElement(n("gtD4K").default,n("bEwJH").i18n.closeSidebarTooltip),hideTooltipOnClick:!0,position:"top"},e(o).createElement(n("666Tc").CloseButtonContainer,null,e(o).createElement(n("666Tc").CloseButton,{appearance:"subtle",onClick:()=>es(a),onMouseDown:e=>e.preventDefault(),testId:"close-comment-sidebar-button","data-cy":`${S?"editor":"renderer"}-close-${v?"view":"create"}-comment`,iconBefore:e(o).createElement(e(n("hmuev")),{label:em.formatMessage(n("bEwJH").i18n.closeInlineCommentThread),color:"var(--ds-icon-subtle, #505258)",spacing:"none"}),isUpdatedStandaloneComment:!0})))),K&&(0,n("9wGTI").fg)("confluence_comment_header_margin")&&e(o).createElement("div",{style:E}))),e(o).createElement(n("6f0Oj").default,{testId:"inline-comment-sidebar-wrapper",ref:e=>{X&&D?.(e)},xcss:[X&&(0,n("6mKj3").expValEquals)("confluence_frontend_fix_no_unnecessary_scrollbar","isEnabled",!0)&&h,X&&!(0,n("6mKj3").expValEquals)("confluence_frontend_fix_no_unnecessary_scrollbar","isEnabled",!0)&&b,!X&&_],onScroll:ec},T))))))}}),a("6wiaZ",function(e,t){var a=n("42omo");e.exports.useHasMaxHeight=({sidebarEl:e,isRefSet:t,isSticky:o,isFabricPage:r})=>{let[i,s]=(0,a.useState)(!1),l=(0,a.useCallback)(()=>{if(!e.current)return;if(o)return void s(!0);let t=e.current.getBoundingClientRect(),n=window.innerHeight-300;s(t.height>n)},[o,e]);return(0,a.useLayoutEffect)(()=>{(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")&&e.current&&(0,n("6mKj3").expValEquals)("confluence_compute_sidebar_styles_pre-render","isEnabled",!0)&&l()},[l,t,r,e]),(0,a.useEffect)(()=>{(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")&&e.current&&((0,n("6mKj3").expValEquals)("confluence_compute_sidebar_styles_pre-render","isEnabled",!0)||l())},[l,t,r,e]),i}}),a("9FoVw",function(e,t){var a,o,r,i,s,l,c=((a={}).NEXT="next",a.PREVIOUS="previous",a.UNREAD="unread",a),d=((o=d||{}).INLINE="inline",o.GENERAL="general",o);(r={}).OPEN="OPEN",r.UNREAD="UNREAD",r.DELETED_CONTENT="DELETED_CONTENT",r.RESOLVED="RESOLVED";var u=((i=u||{}).INLINE_ANNOTATION="inline_annotation",i.COMMENTS_PANEL="comments_panel",i.FOOTER_COMMENTS="footer_comments",i.DEEP_LINK="deep_link",i.KEYBOARD_SHORTCUT="keyboard_shortcut",i.INLINE_HEADER_ARROWS="inline_header_arrows",i),m=((s={}).INSTANT="instant",s.SMOOTH="smooth",s),p=((l={}).EDITOR="editor",l.RENDERER="renderer",l.PANEL="panel",l.REPLY="reply",l);let f=e=>{let{scrollBehavior:t,context:a,block:o,inline:r,markElement:i,annotationId:s}=e;if(!i)return!1;switch(a){case"editor":return(0,n("i49vP").checkElementExpandInEditor)(i),(0,n("gfqXk").getEditorAnnotationEventEmitter)().emit("setselectedannotation",i.id),(0,n("i49vP").scrollToElementInEditor)({targetElement:i,viewingRoomOffset:-100}),!0;case"renderer":let l=document.querySelector("[data-has-focus='true']");return l?.id!==i.id&&((0,n("gczDe").getRendererAnnotationEventEmitter)().emit(n("21K7m").AnnotationUpdateEvent.SET_ANNOTATION_FOCUS,{annotationId:i.id}),(0,n("aHcFH").checkElementExpand)(i,!0)),i.scrollIntoView({behavior:"instant"===t?"instant":"smooth",block:o,inline:r}),!0;case"panel":return s&&(0,n("gczDe").getRendererAnnotationEventEmitter)().emit(n("21K7m").AnnotationUpdateEvent.SET_ANNOTATION_FOCUS,{annotationId:s}),i.scrollIntoView({behavior:"instant"===t?"instant":"smooth",block:o,inline:r}),!0;default:return!1}},g=()=>new Promise(e=>{let t=new MutationObserver(()=>{document.querySelector("[data-testid='comments-panel-list-container']")&&(t.disconnect(),e(!0))});t.observe(document.body,{childList:!0,subtree:!0}),setTimeout(()=>{t.disconnect(),e(!1)},5e3)}),E=e=>new Promise(t=>{let n=()=>{let t=document.querySelector('[data-testid="comments-panel-list-container"]');if(t&&t.getAttribute("data-current-view")===e)return!0};if(n())return void t(!0);let a=new MutationObserver(()=>{n()&&(a.disconnect(),t(!0))});a.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-current-view"]}),setTimeout(()=>{a.disconnect(),t(!1)},3e3)}),C=e=>{let t=e.getBoundingClientRect(),n=document.querySelector('[data-testid="comments-panel-list-container"]'),a=n?.getBoundingClientRect();return!!a&&t.top>=a.top&&t.bottom<=a.bottom},h=(e,t,a,o)=>{let r=t;return a?(0,n("aHcFH").isCommentThreadReplyOutOfView)(e,"INLINE"===o?"inline":"general")&&(r="end"):(0,n("aHcFH").shouldScrollCommentThreadToTop)(e,"INLINE"===o?"inline":"general")&&(r="start"),r},b=(e,t,n,a,o,r,i,s)=>{if(!C(e))if(o||r||i){let o=h(e,n,a,s);e.scrollIntoView({behavior:"instant"===t?"instant":"smooth",block:o})}else e.scrollIntoView({behavior:"instant"===t?"instant":"smooth",block:n})},_=e=>{let{scrollBehavior:t,context:a,block:o,commentId:r,annotationId:i,commentType:s,scrollToEnd:l=!1,hasKeyPressed:c=!1,annotationClicked:d=!1,scrollOnLoad:u=!1}=e;if("panel"!==a)return!1;let m=`comment-thread-${i}-container`;if(!document.querySelector("[data-testid='comments-panel-list-container']"))return g().then(t=>!!t&&_(e));let p=document.querySelector(`[data-testid='${m}']`);return p?b(p,t,o,l,c,d,u,s):r&&(0,n("aHcFH").watchForCommentContainerAndScroll)(r),!0},I=async e=>{let{expectedView:t,commentId:n,annotationId:a,...o}=e;return"panel"===o.context&&t&&await E(t),_({...o,commentId:n,annotationId:a})},y=e=>{let t,{block:a,inline:o,commentId:r,scrollBehavior:i,navigationContext:s}=e;if(!r)return!1;t="panel"===s?`comment-thread-${r}-container`:"reply"===s?`[data-comment-id="${r}"]`:`footer-comment-thread-${r}-container`;let l="reply"===s?document.querySelector(t):document.getElementById(t);return l?l.scrollIntoView({behavior:i,block:a,inline:o}):(0,n("aHcFH").watchForCommentRepliesAndScroll)({targetCommentId:r,onScrollReady:e=>{(("reply"===s?document.querySelector(t):document.getElementById(t))||e).scrollIntoView({behavior:i,block:a,inline:o})},containerId:t}),!0};e.exports.ShortcutType=c,e.exports.ScrollBehavior=m,e.exports.NavigationContext=p,e.exports.handleInlineAnnotationNavigation=f,e.exports.handleCommentsPanelNavigation=_,e.exports.handleCommentsPanelNavigationWithViewChange=I,e.exports.handleFooterCommentsNavigation=y,e.exports.handleDeepLinkNavigation=e=>{let{scrollBehavior:t,block:a,inline:o,commentId:r,markElement:i,context:s}=e;if(!r||!i)return!1;let l=document.querySelector(`[data-comment-id="${r}"]`);return l?l.scrollIntoView({behavior:t,block:a,inline:o}):("editor"===s&&i&&(0,n("i49vP").openInlineCommentInEditor)({targetElement:i,targetElementID:i.id,shouldScroll:!1}),(0,n("aHcFH").watchForCommentRepliesAndScroll)({targetCommentId:r,onScrollReady:e=>{e.scrollIntoView({behavior:t,block:a,inline:o})},markElement:i})),!0},e.exports.handleKeyboardShortcutNavigation=e=>{let{scrollBehavior:t,block:a,inline:o,annotationId:r,commentId:i,commentType:s,isCommentsPanelOpen:l,hasKeyPressed:c=!0,scrollToEnd:d=!1,context:u,shortcutType:m,isResolved:p}=e,g=document.getElementById(r),E=document.querySelector(`[data-comment-id="${i}"]`);if(g?.closest&&g.closest(".pm-table-sticky-wrapper")&&g&&(0,n("6mKj3").expValEquals)("confluence_comment_enable_table_header_navigation","isEnabled",!0)&&(g=(0,n("aHcFH").getNodeForTableORMacro)(g)||g),"FOOTER"===s&&y({scrollBehavior:t,block:a,inline:o||"center",commentId:r}),l){"INLINE"!==s||p||f({scrollBehavior:t,context:u||"panel",block:a,inline:o||"center",markElement:g,annotationId:r}),g&&!p&&("editor"===u?(0,n("gfqXk").getEditorAnnotationEventEmitter)().emit("setselectedannotation",r):"renderer"===u&&(0,n("gczDe").getRendererAnnotationEventEmitter)().emit(n("21K7m").AnnotationUpdateEvent.ON_ANNOTATION_CLICK,{annotationIds:[r],eventTarget:null}));let e=_({scrollBehavior:t,context:"panel",block:a,inline:o,annotationId:r,commentType:s,hasKeyPressed:c,scrollToEnd:d});return e instanceof Promise||e}return!!g&&("unread"===m&&E?E.scrollIntoView({behavior:t,block:a,inline:o||"nearest"}):g.scrollIntoView({behavior:t,block:a,inline:o||"nearest"}),!0)},e.exports.handleInlineHeaderArrowsNavigation=e=>{let{previousMarkerRef:t,nextMarkerRef:a,context:o}=e;if(!document.getElementById(a))return!1;let r=document.getElementById(t),i=document.getElementById(a);if(r&&i)if("editor"===o){let e=document.querySelector(".fabric-editor-popup-scroll-parent");if(e){let t=i.getBoundingClientRect(),n=r.getBoundingClientRect(),a=t.top-n.top;e.scrollBy(0,a)}}else(0,n("aHcFH").scrollToComment)(i,r,!0,!1);return!0}}),a("8SCD6",function(t,a){var o=n("42omo");let r=(0,o.createContext)({isReactionsEnabled:!1});r.displayName="ReactionsContext",t.exports.ReactionsContext=r,t.exports.ReactionsProvider=({contentId:t,children:a})=>{let i=(0,n("l5y3Y").useIsReactionsEnabled)(t),s=(0,o.useMemo)(()=>({isReactionsEnabled:i}),[i]);return e(o).createElement(r.Provider,{value:s},a)}}),a("l5y3Y",function(e,t){e.exports.useIsReactionsEnabled=e=>{let t=(0,n("dPJCf").usePathnameMatcher)({selector:e=>e?.indexOf("/wiki/pdf/")!==-1}),a={variables:{contentId:e,location:n("eSLr0").ATL_PAGE_CONTENT_FOOTER_ACTIONS},skip:t},{data:o}=(0,n("6mKj3").expValEquals)("confluence_stop_watching_webpanellocationquery","isEnabled",!0)?(0,n("jtuBN").useQueryNoFurtherUpdateInterop)(n("8pvtc").WebPanelLocationQuery,a):(0,n("xQxzY").useQuery)(n("8pvtc").WebPanelLocationQuery,{...a,fetchPolicy:"cache-first"});return!t&&!!o?.webPanels?.length}}),a("3D12W",function(t,a){var o=n("42omo"),r=n("cMvMc"),i=n("5fMeR"),s=n("8Q7Uc"),l=n("iBnoc"),c=n("6GD8y");let d=(0,n("cgtv4").defineMessages)({openCommentsPanelLabel:{id:"object-sidebar-components.open.comments.panel.label",defaultMessage:"Open Comments Panel"},viewAllCommentsLabel:{id:"object-sidebar-components.view.all.comments",defaultMessage:"View all comments"},showCommentsLabel:{id:"object-sidebar-components.show.comments.label",defaultMessage:"Show comments"},unreadCommentsLabel:{id:"object-sidebar-components.unread.comments.icon.label",defaultMessage:"You have unread comments"}});t.exports.CommentPanelButton=({contentId:t,collapsed:a,testId:u,isStandaloneComment:m=!1,isDisabled:p=!1,isViewAllIcon:f=!1})=>{let g=(0,n("aSsfA").useGetPageMode)(),{commentsMarkedAsRead:E}=(0,n("3mVfX").useCommentsPanelState)(),{resetInitialDataLoadedMap:C}=(0,n("3mVfX").useCommentsPanelActions)(),{showCommentsPanel:h}=(0,i.useShowCommentsPanel)(),{viewProps:b,selectionProps:_,hoverProps:I,editorViewProps:y,editorCreateProps:S,showCreateComponent:v,selectionOptions:T}=(0,n("cZa7r").useAnnotations)(),{setViewProps:A,setSelectionProps:w,setHoverProps:N,setEditorViewProps:R,setEditorCreateProps:k,setShowCreateComponent:x,setSelectionOptions:O}=(0,n("cZa7r").useAnnotationsDispatch)(),{hideObjectSidebar:L}=(0,n("aWwYt").useObjectSidebarActions)(),P=(0,n("aWwYt").usePanel)(),{hasContentChanged:M}=(0,n("bSvtO").useCommentsContentState)(),{resetContentChanged:D}=(0,n("bSvtO").useCommentsContentActions)(),U=g===n("cD1qu").PageMode.VIEW?(0,n("gczDe").getRendererAnnotationEventEmitter)():(0,n("gfqXk").getEditorAnnotationEventEmitter)(),{newCommentHighlight:F,activeHighlight:B}=(0,n("9jl6v").useInlineCommentsContext)(),{createAnalyticsEvent:j}=(0,n("inPa6").useAnalyticsEvents)(),{showModal:V}=(0,n("8aF6s").useDialogs)(),{formatMessage:G}=(0,n("8C5kA").default)(),[{isViewMode:H,isEditMode:K}]=(0,n("efvKr").useLivePageMode)(),[W]=(0,n("ep3mz").useContentType)(),q=(0,n("8uM2K").useAIRovoButtonEnablement)(),{closeCommentContainer:z}=(0,n("fNzRA").useObjectCommentDispatchContext)(),{expanded:Y}=(0,n("fNzRA").useObjectCommentContext)(),Q=(0,n("7aw3q").useEmbeddedComments)(),{unreadCommentIDSet:X}=(0,n("fHAwL").useUnreadCommentsState)(),J=(0,n("4tOXV").useShortcutStrings)({shortcut:n("gnkil").UNIVERSAL_TOGGLE_INLINE_COMMENTS_SHORTCUT,isEditorShortcut:"edit"===g||K}),Z=W!==n("1ggpj").ContentType.DATABASE,ee=(0,o.useCallback)(()=>{b&&(U.emit(n("21K7m").AnnotationUpdateEvent.DESELECT_ANNOTATIONS),U.emit(n("21K7m").AnnotationUpdateEvent.REMOVE_ANNOTATION_FOCUS),A(null)),v&&T&&(x(!1),O(void 0)),y&&(U.emit("setselectedannotation",""),R(null)),_&&(_.onClose(),w(null)),I&&(I.onClose(),N(null)),S&&(S?.onClose&&S.onClose(),k(null)),(F||B)&&window.dispatchEvent(new Event("closeLegacyInlineCommentSidebar")),Y&&!(0,n("9wGTI").fg)("confluence_comment_panel_close_footer")&&z(),P?.id==="commentsPanel"?L():h()},[U,b,y,_,I,F,B,A,R,w,N,h,L,P,S,z,Y,k,v,T,x,O]),et=(0,o.useCallback)(({triggeredByKeyboardShortcut:e=!1,isViewAllIcon:t=!1}={})=>()=>{t||(M?V(r.CommentWarningDialog,{onConfirm:()=>{D(),ee(),(0,n("9wGTI").fg)("confluence_comments_reset_data_on_comment_discard")&&C()}}):ee(),j({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"commentsPanel",source:"contentWrapper",attributes:{triggeredByKeyboardShortcut:e,contentType:W,pageMode:g}}}).fire())},[M,ee,D,C,V,j,W,g]),en=e(o).createElement(e(o).Fragment,null,("view"===g||H)&&e(o).createElement(c.GeneralShortcutListener,{deprecatedAccelerator:n("gnkil").TOGGLE_INLINE_COMMENTS_SHORTCUT_RENDERER,accelerator:n("gnkil").UNIVERSAL_TOGGLE_INLINE_COMMENTS_SHORTCUT,listener:et({triggeredByKeyboardShortcut:!0})}),("edit"===g||K)&&e(o).createElement(c.GeneralShortcutListener,{accelerator:n("gnkil").UNIVERSAL_TOGGLE_INLINE_COMMENTS_SHORTCUT,listener:et({triggeredByKeyboardShortcut:!0})}));return a?en:e(o).createElement("div",{"data-testid":u||"object-sidebar-comments-button-id","data-vc":"object-sidebar-comments-button",className:(0,n("gMc0m").default)(["_kqswh2mm"])},e(o).createElement(n("3gadb").default,{position:"left",content:Z&&!(0,n("9wGTI").fg)("platform_tooltip_shortcuts_migration_1")?e(o).createElement(n("4tOXV").ShortcutVisualizer,{shortcut:n("gnkil").UNIVERSAL_TOGGLE_INLINE_COMMENTS_SHORTCUT,contentBefore:G(d.showCommentsLabel),isEditorShortcut:"edit"===g||K,isTooltip:!0}):e(o).createElement(n("gtD4K").default,d.showCommentsLabel),shortcut:Z&&(0,n("9wGTI").fg)("platform_tooltip_shortcuts_migration_1")?J:void 0,delay:0,hideTooltipOnClick:!0},Q&&e(o).createElement(e(o).Fragment,null,e(o).createElement(n("1qfLF").default,{onClick:et({isViewAllIcon:f}),appearance:"subtle",spacing:m?"compact":void 0,shape:q?"default":"circle",icon:m&&(0,n("6mKj3").expValEquals)("confluence_comments_cohiti_panel_icon_update","isEnabled",!0)?e(n("jypE9")):e(n("1yB28")),label:G(d.openCommentsPanelLabel),testId:"sidebar-comments-button",interactionName:"view-comments-menu-action",...(0,n("6mKj3").expVal)("confluence_frontend_comments_a11y_kb_exp","isEnabled",!1)?{ariaLabel:G(d.viewAllCommentsLabel)}:{},isDisabled:p&&(0,n("6mKj3").expVal)("platform_editor_offline_editing_web","isEnabled",!1)}),(0,n("9wGTI").fg)("confluence_frontend_unread_comments_fixes")?!m&&X?.size>0&&e(o).createElement(l.UnreadIndicator,null):e(o).createElement(s.UnreadCommentCount,{pageId:t,pageMode:"view"===g?"view":"edit",commentsMarkedAsRead:E,isStandaloneComment:m})),!m&&en))}}),a("aWwYt",function(e,t){var a=n("42omo");let o={isPanelScrolled:!1,isObjectSidebarShown:!1,behavior:"push",panelWidth:440,panel:void 0,updatedPanelHeaderComponentElements:void 0,sidebarControlState:window.__SSR_RENDERED__?"shown":"hidden",sidebarControlExpandCollapsedState:window.__SSR_RENDERED__?"expanded":"collapsed",activeActionInPanel:void 0},r={setIsPanelScrolled:e=>({setState:t})=>{t({isPanelScrolled:e})},setSidebarControlState:e=>({setState:t})=>{t({sidebarControlState:e})},setSidebarControlExpandCollapsedState:e=>({setState:t})=>{t({sidebarControlExpandCollapsedState:e})},toggleObjectSidebarControl:()=>({setState:e,getState:t})=>{let{sidebarControlExpandCollapsedState:n}=t();e("collapsed"===n?{sidebarControlExpandCollapsedState:"expanded"}:{sidebarControlExpandCollapsedState:"collapsed"})},showObjectSidebar:(e,t,n)=>({setState:a,getState:o})=>{let{isObjectSidebarShown:r,panel:i,behavior:s,panelWidth:l}=o();if(r){if(i?.id===e.id)return;a({panel:e,updatedPanelHeaderComponentElements:void 0,behavior:t??s,panelWidth:n??l,isPanelScrolled:!1})}a({isObjectSidebarShown:!0,panel:e,updatedPanelHeaderComponentElements:void 0,behavior:t??s,panelWidth:n??l,sidebarControlState:"hidden",isPanelScrolled:!1}),window.dispatchEvent(new Event("closeGlobalSidebar"))},hideObjectSidebar:e=>async({setState:t,getState:n})=>{let{isObjectSidebarShown:a,panel:o}=n();if(a&&o){if(o.closeOptions){let{canClosePanel:e,onPanelClose:t}=o.closeOptions;if(e&&!await e())return;t&&t()}t({isObjectSidebarShown:!1,panel:void 0,updatedPanelHeaderComponentElements:void 0,panelWidth:440,sidebarControlState:"shown",isPanelScrolled:!1}),e&&e()}},hideObjectSidebarByPanelId:e=>({getState:t,dispatch:n})=>{let{panel:a}=t();a?.id===e&&n(r.hideObjectSidebar())},setPanelWidth:e=>({setState:t})=>{t({panelWidth:Math.max(e,400)+40})},changePanelBehavior:e=>({setState:t,getState:n})=>{let{panelWidth:a}=n();t({behavior:e,panelWidth:"cover"===e?440:a})},changePanel:(e,t,n)=>async({setState:a,getState:o})=>{let{isObjectSidebarShown:r,panel:i,behavior:s,panelWidth:l}=o();if(r&&i){if(i.id===e.id)return;if(i.closeOptions){let{canClosePanel:e,onPanelClose:t}=i.closeOptions;if(e&&!await e())return;t&&t()}a({panel:e,updatedPanelHeaderComponentElements:void 0,behavior:t??s,panelWidth:n??l,isPanelScrolled:!1})}},changeHeaderElements:(e,t)=>({setState:n,getState:a})=>{let{panel:o}=a();o?.id===e&&n({updatedPanelHeaderComponentElements:t})},setActiveActionInPanel:e=>({setState:t,getState:n})=>{let{activeActionInPanel:a}=n();a?.title!==e?.title&&t({activeActionInPanel:e})}},i=(0,n("1P1Tu").createStore)({initialState:o,actions:r,name:"ObjectSidebarStore"}),s=(0,n("9zUhf").createActionsHook)(i),l=(0,n("9zUhf").createStateHook)(i),c=(0,n("9zUhf").createStateHook)(i,{selector:e=>e.isObjectSidebarShown}),d=(0,n("9zUhf").createStateHook)(i,{selector:e=>e.panel}),u=(0,n("9zUhf").createStateHook)(i,{selector:e=>e.behavior}),m=(0,n("9zUhf").createStateHook)(i,{selector:e=>e.isPanelScrolled}),p=(0,n("9zUhf").createStateHook)(i,{selector:e=>e.panelWidth}),f=(0,n("9zUhf").createStateHook)(i,{selector:e=>e.updatedPanelHeaderComponentElements}),g=(0,n("9zUhf").createStateHook)(i,{selector:e=>e.sidebarControlState}),E=(0,n("9zUhf").createStateHook)(i,{selector:e=>e.sidebarControlExpandCollapsedState}),C=(0,n("9zUhf").createStateHook)(i,{selector:e=>e.activeActionInPanel});e.exports.MIN_PANEL_WIDTH=400,e.exports.useObjectSidebarActions=()=>{let e=s(),{close:t}=(0,n("4BDAe").usePreviewPanelsActions)(),o=(0,a.useCallback)((n,a,o)=>{e.showObjectSidebar(n,a,o),t()},[e,t]),r=(0,a.useMemo)(()=>(0,n("6mKj3").expValEquals)("confluence_preview_panels_exp","isEnabled",!0)?o:e.showObjectSidebar,[o,e.showObjectSidebar]),i=(0,a.useMemo)(()=>({...e,showObjectSidebar:r}),[e,r]);return(0,a.useMemo)(()=>i,[i])},e.exports.useObjectSidebarState=l,e.exports.useIsObjectSidebarShown=c,e.exports.usePanel=d,e.exports.useBehavior=u,e.exports.useIsPanelScrolled=m,e.exports.usePanelWidth=p,e.exports.useUpdatedHeaderComponentElements=f,e.exports.useSidebarControlState=g,e.exports.useSidebarControlExpandCollapsedState=E,e.exports.useActiveActionInPanel=C}),a("4BDAe",function(e,t){let a=e=>{};e.exports.usePreviewPanelsActions=()=>{let e=(0,n("fN3iy").usePreviewPanelsContext)();return e?{open:e.open,close:e.close,setPanelWidth:e.setPanelWidth}:{open:a,close:a,setPanelWidth:a}}}),a("fN3iy",function(e,t){var a=n("l998X"),o=n("42omo");let r=e=>{},i={panel:null,onOpen:r,onClose:r},s=(0,o.createContext)(void 0),l=(e,t)=>{switch(t.type){case"CLOSE":return t.onClose?.(),e.panel&&e?.onPreviewPanelClose?.(e.panel),{...e,panel:null,onOpen:r,onClose:r};case"OPEN":let{params:a}=t;if(e.panel?.id===a.panel.id)return e;return e.panel&&!(0,n("D92g9").doPreviewPanelTypesMatch)(e.panel,a.panel)&&e.onPreviewPanelClose?.(e.panel),e.panel&&e.onClose(),a.onOpen?.(),e?.onPreviewPanelOpen?.(a.panel),{...e,panel:a.panel,onOpen:a.onOpen||i.onOpen,onClose:a.onClose||i.onClose};default:return e}};e.exports.PreviewPanelsProvider=({onPreviewPanelOpen:e,onPreviewPanelClose:t,parentProduct:r,children:c})=>{let{panelWidth:d,onPanelClosed:u,onPanelOpened:m,onPanelWidthChanged:p}=(0,n("7FN4e").usePanelWidth)(),[f,g]=(0,o.useReducer)(l,{...i,onPreviewPanelOpen:e,onPreviewPanelClose:t}),E=(0,o.useCallback)(e=>{p(e,f.panel?.product,f.panel?.type,r)},[p,r,f]),C=(0,o.useCallback)(e=>{g?.({type:"CLOSE",onClose:e}),u()},[g,u]),h=(0,o.useCallback)(e=>{g?.({type:"OPEN",params:e}),m(e.width)},[g,m]),b=(0,o.useMemo)(()=>({state:f,open:h,close:C,width:d,setPanelWidth:E}),[C,d,h,E,f]);return(0,a.jsx)(s.Provider,{value:b,children:c})},e.exports.usePreviewPanelsContext=()=>(0,o.useContext)(s)}),a("7FN4e",function(t,a){var o=n("42omo"),r=n("jSnXV");t.exports.usePanelWidth=()=>{let[t,a]=(0,o.useState)(n("awbqn").getDefaultPanelWidth),[i,s]=(0,o.useState)(t),[l,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)(!1),{createAnalyticsEvent:m}=(0,n("inPa6").useAnalyticsEvents)(),p=(0,o.useCallback)((e,t,n,a)=>{m({type:"sendUIEvent",data:{product:t,source:"preview-panel",action:"resize",actionSubject:"resizer",actionSubjectId:"previewPanelResizer",attributes:{initialPanelWidth:i,newPanelWidth:e,newWidthSmaller:e<i,parentProduct:a,panelType:n,windowWidth:window.innerWidth,windowHeight:window.innerHeight}}}).fire(),s(e),c(!0)},[m,i]),f=(0,o.useCallback)(e=>{s(e??(l?i:t)),u(!0)},[t,l,i]),g=(0,o.useCallback)(()=>{u(!1)},[]),E=(0,o.useCallback)(e(r)(()=>{d||(a((0,n("awbqn").getDefaultPanelWidth)()),c(!1))},500),[d]);return(0,o.useEffect)(()=>{let e=(0,n("fFa3V").bind)(window,{type:"resize",listener:E});return()=>{e()}},[E]),{panelWidth:i,onPanelWidthChanged:p,onPanelOpened:f,onPanelClosed:g}}}),a("awbqn",function(e,t){let a=n("c6GJD").default.getExperimentValue,o="platform_global_preview_panels_default_width";e.exports.getDefaultPanelWidth=()=>{if(!a(o,"isEnabled",!1))return 400;let e=window.innerWidth,t=a(o,"minimumWidth",Number.MAX_VALUE),n=400;if(e>t){let t=Math.round(e*a(o,"ratio",.25));n=t<1e3?t:1e3}return n}}),a("D92g9",function(e,t){e.exports.doPreviewPanelTypesMatch=(e,t)=>{if(e?.type&&t?.type)return e.type===t.type;if(e?.ari&&t?.ari)try{let a=n("k4HRJ").AnyAri.parse(e.ari),o=n("k4HRJ").AnyAri.parse(t.ari);return`${a.resourceOwner}-${a.resourceType}`==`${o.resourceOwner}-${o.resourceType}`}catch(e){}return!1}}),a("fNzRA",function(t,a){var o,r=n("42omo"),i=((o={}).FOOTER="footer",o.STICKY_DRAFT="sticky_draft",o.STICKY_FOOTER="sticky_footer",o);let s=(0,r.createContext)({expandCommentContainer:()=>{},closeCommentContainer:()=>{},setWrapperWidth:()=>{},setIsObjectCommentWrapperVisible:()=>{},setFooterEditorEntry:()=>{}});s.displayName="ObjectCommentDispatchContext";let l=(0,r.createContext)({expanded:!1,footerEditorEntry:void 0,width:void 0,isObjectCommentWrapperVisible:!1});l.displayName="ObjectCommentContext",t.exports.AddFooterCommentMode=i,t.exports.ObjectCommentProvider=({children:t})=>{let[a,o]=(0,r.useState)(!1),[i,c]=(0,r.useState)(void 0),[d,u]=(0,r.useState)(void 0),[m,p]=(0,r.useState)(!1),{edition:f}=(0,n("bQm3c").useSessionData)(),g=(0,r.useMemo)(()=>({expanded:a,footerEditorEntry:i,width:d,isObjectCommentWrapperVisible:m}),[a,i,d,m]),E=(0,r.useMemo)(()=>({expandCommentContainer:e=>{let{entryPoint:t}=e??{};t&&(0,n("9wGTI").fg)("confluence_fe_add_page_comment_exp_coverage")&&(0,n("8Ss4E").startEditorExperiences)({name:n("irVI7").ADD_PAGE_COMMENT_EXPERIENCE,attributes:{editor:"FABRIC",isSingleExperience:!0,edition:f,source:n("en1dX").AnalyticsSource.PAGE_FOOTER,entryPoint:t}},{name:n("irVI7").ADD_PAGE_COMMENT_LOAD_EXPERIENCE},{name:n("irVI7").ADD_PAGE_COMMENT_PUBLISH_EXPERIENCE}),o(!0)},closeCommentContainer:()=>{c(void 0),o(!1)},setWrapperWidth:e=>{u(e?`${e}px`:"100%")},setIsObjectCommentWrapperVisible:e=>{p(e)},setFooterEditorEntry:e=>{c(e)}}),[o,c,u,p,f]);return e(r).createElement(l.Provider,{value:g},e(r).createElement(s.Provider,{value:E},t))},t.exports.useObjectCommentContext=()=>(0,r.useContext)(l),t.exports.useObjectCommentDispatchContext=()=>(0,r.useContext)(s)}),a("9jl6v",function(t,a){var o=n("42omo");let r=(0,o.createContext)({createComment:()=>{},clearCreateHighlight:()=>{},onHighlightClick:()=>{},toggleSidebar:()=>{},setResolvedComment:()=>{},setActiveHighlight:()=>{},navigateToInlineComment:()=>{}});r.displayName="InlineCommentsDispatchContext";let i=(0,o.createContext)({newCommentHighlight:void 0,highlightOrigin:"userHighlight",activeHighlight:null,firstHighlightClicked:!1,shouldDisplaySidebar:!1,resolvedComment:null});i.displayName="InlineCommentsContext",t.exports.InlineCommentsProvider=({children:t})=>{let[a,s]=(0,o.useState)(),[l,c]=(0,o.useState)("userHighlight"),[d,u]=(0,o.useState)(!1),m=(0,o.useRef)(!1),[p,f]=(0,o.useState)(null),[g,E]=(0,o.useState)(null),C=(0,o.useContext)(n("1kHsc").ExperienceTrackerContext),h=(0,o.useMemo)(()=>({newCommentHighlight:a,highlightOrigin:l,activeHighlight:p,resolvedComment:g,firstHighlightClicked:m.current,shouldDisplaySidebar:d}),[p,l,a,g,d,m]),b=(0,o.useMemo)(()=>({createComment:(e,t="userHighlight")=>{u(!0),s(e),c(t),g&&E(null)},clearCreateHighlight:()=>s(void 0),onHighlightClick:e=>{m.current||(m.current=!0),e?u(!0):u(!1),f(e)},setResolvedComment:E,toggleSidebar:e=>u(e),setActiveHighlight:f,navigateToInlineComment:({action:e,triggeredByKeyboardShortcut:t,currentCommentIndex:a,onNavigationClick:o,isEditor:r,removeCommentQueryParams:i,unresolvedInlineComments:s,createAnalyticsEvent:l,contentId:c,isNavigateToNextUnread:d,unreadInlineComments:u=[],unreadGeneralComments:m=[],getCommentIndex:p,footerComments:g=[],scrollToFooterComment:E,commentsDataMap:h})=>{n("4EKKB").selectInlineCommentCompoundExperience.addCommonAttributes({navigationAction:e});let b=t&&g?.length>0&&(0,n("9wGTI").fg)("confluence_frontend_content_wrapper");if(s?.length<2&&!b){n("4EKKB").selectInlineCommentCompoundExperience.selectAnnotation.abort({abortReason:"Comment navigation when only one comment"}),(0,n("9wGTI").fg)("confluence_frontend_view_inline_comment_exp_parity")&&C.abort({name:n("irVI7").VIEW_INLINE_COMMENT_EXPERIENCE,reason:"Comment navigation when only one comment",checkForTimeout:!0,publishDebugPoints:!0,attributes:{stopPoint:"comment-context/InlineCommentsContext"}});return}i();let _=[...s,...g],I="",y="";if(t&&(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")){if(d)if((0,n("9wGTI").fg)("confluence_frontend_unread_comments_fixes")){let e=a+1;I=(0,n("aHcFH").getNextUnreadThreadKey)(e,_,[...u,...m])??""}else I=(0,n("aHcFH").getNextUnreadThreadKey)(a,_,[...u,...m])??"";else I=(0,n("aHcFH").getNextMarkerRef)(e,a,_)??"";y=_[a]}else I=(0,n("aHcFH").getNextMarkerRef)(e,a,s)??"",y=s[a];if(!I)return void n("4EKKB").selectInlineComment.debug("Couldn't find next annotation to select in document");if(n("4EKKB").selectInlineCommentCompoundExperience.addCommonAttributes({annotationId:I}),t&&(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")&&g.includes(I)&&E&&h?.general?.[I]){f(null),E(I),n("4EKKB").selectInlineCommentCompoundExperience.selectAnnotation.abort({abortReason:"Navigating to general comment"});return}let S=document.getElementById(I)||((0,n("9wGTI").fg)("confluence_frontend_content_wrapper")?document.getElementById(`footer-comment-thread-${I}-container`):null),v=document.getElementById(y)||((0,n("9wGTI").fg)("confluence_frontend_content_wrapper")?document.getElementById(`footer-comment-thread-${y}-container`):null);S?(0,n("i49vP").checkElementExpandInEditor)(S):n("4EKKB").selectInlineComment.debug("No annotation found in doc to check if in expand"),o(I);let T=p(I),A=0;if((0,n("9wGTI").fg)("confluence_frontend_new_comments_scrolling")){let t=v?.closest(".media-single-node"),n="previous"===e&&T===s.length-1,a="next"===e&&0===T;if(t&&("next"===e||n||a)){let e=document.querySelector('[data-id="caption-placeholder"]');A=e?e.offsetHeight:0}}let w=v?(0,n("aHcFH").calculateElementOffset)(v):0,N=(0,n("aHcFH").calculateElementOffset)(S),R=document.querySelector(r?".fabric-editor-popup-scroll-parent":"#content-body"),k=N-w-A,x=!(0,n("9wGTI").fg)("confluence_comments_disable_scroll")||!t;if(x&&((0,n("9wGTI").fg)("confluence_comments_unified_navigation")?(0,n("9FoVw").handleInlineHeaderArrowsNavigation)({previousMarkerRef:y,nextMarkerRef:I,context:r?n("9FoVw").NavigationContext.EDITOR:n("9FoVw").NavigationContext.RENDERER}):(R?.scrollBy(0,k),(0,n("aHcFH").scrollToComment)(S,v,!0,!!r))),S){let e=S.querySelector(`.${n("ag6aQ").ClassNames.MEDIA_CONTAINER}`);e?(n("4EKKB").selectInlineCommentCompoundExperience.addCommonAttributes({commentType:"block",blockType:"media"}),x&&window.getSelection()?.setPosition(e)):(n("4EKKB").selectInlineCommentCompoundExperience.addCommonAttributes({commentType:"inline"}),x&&window.getSelection()?.setPosition(S))}l({type:"sendUIEvent",data:{action:"clicked",actionSubject:"navigate",actionSubjectId:"inlineCommentArrowsNavigate",attributes:{triggeredByKeyboardShortcut:t,action:e},objectType:"inlineComment",objectId:c,source:r?"editPageScreen":"renderPageScreen"}}).fire()}}),[g,m,u,c,E,f,C]);return e(o).createElement(i.Provider,{value:h},e(o).createElement(r.Provider,{value:b},t))},t.exports.useInlineCommentsContext=()=>(0,o.useContext)(i),t.exports.useInlineCommentsDispatchContext=()=>(0,o.useContext)(r)}),a("8Q7Uc",function(e,t){let a=(0,n("jmjWc").LoadableAfterPaint)({__loadable_id__:"ykWGq",name:"UnreadCommentCount",loader:async()=>(await n("hV0WE")).UnreadCommentCount});e.exports.UnreadCommentCount=a}),a("hV0WE",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("7ZBIQ"),a("kpzlp")]).then(()=>n("i34K4"))}),a("iBnoc",function(e,t){let a=(0,n("jmjWc").LoadableAfterPaint)({__loadable_id__:"1wNs0",name:"UnreadIndicator",loader:async()=>(await n("9bA4s")).UnreadIndicator});e.exports.UnreadIndicator=a}),a("9bA4s",function(e,t){e.exports=n("4mJKd")(5)("i8hiG").then(()=>n("yTrVP"))}),a("6GD8y",function(e,t){let a=(0,n("jmjWc").LoadableBackground)({__loadable_id__:"pU1rv",name:"GeneralShortcutListener",loader:async()=>(await n("9Q4ck")).GeneralShortcutListener});e.exports.GeneralShortcutListener=a}),a("9Q4ck",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("fZt2F"),a("hhss7"),a("kpHRm")]).then(()=>n("3w3bV"))}),a("1ggpj",function(e,t){var a,o=((a={}).WHITEBOARD="whiteboard",a.PAGE="page",a.BLOGPOST="blogpost",a.DATABASE="database",a.EMBED="embed",a.FOLDER="folder",a);let r=[n("1NBp8").DATABASE_VIEW.name,n("1NBp8").VIEW_PAGE.name,n("1NBp8").WHITEBOARD_BOARD.name,n("1NBp8").EMBED_VIEW.name],i=[n("1NBp8").DATABASE_VIEW.name,n("1NBp8").VIEW_PAGE.name,n("1NBp8").WHITEBOARD_BOARD.name,n("1NBp8").EMBED_VIEW.name],s={whiteboard:n("lx6jn").FeedbackSource.WHITEBOARD,embed:n("lx6jn").FeedbackSource.EMBED,database:n("lx6jn").FeedbackSource.DATABASE};e.exports.ContentType=o,e.exports.ARCHIVE_SUCCESS_REDIRECT_ROUTES=r,e.exports.DELETE_SUCCESS_REDIRECT_ROUTES=i,e.exports.VALID_OPERATION_TARGETS=["whiteboard","database","embed","page","folder","blogpost"],e.exports.CONTENT_TYPE_FEEDBACK_SOURCE=s,e.exports.TYPES_WITH_ACTIVATIONID=["database","embed","folder"],e.exports.onChangeTitleDebounceTime=400}),a("lx6jn",function(e,t){var n,a=((n={}).EDITOR="Editor",n.HELP_PANEL="Help Panel",n.THEME_SELECTOR="Theme Selector",n.WHITEBOARD="Whiteboard",n.EMBED="Embed",n.DATABASE="Database",n.NAV_4="Nav4",n.SHARE_DIALOG="Share Dialog",n.CONTENT_WRAPPER="Content Wrapper",n.LIVE_DOCS="Live Docs",n.EDITOR_CONTROLS="Editor Controls",n.NOTES="Notes",n.CREATE_WITH_ROVO="Create with Rovo",n);e.exports.FeedbackSource=a}),a("8uM2K",function(e,t){var a=n("5spQU");e.exports.useAIRovoButtonEnablement=()=>{let{isAdminHubAIEnabled:e,isRovoLLMEnabled:t}=(0,n("bQm3c").useSessionData)();return((0,n("9wGTI").fg)("use_frontend_feature_encoding_sdk")?(0,a.isFeatureEnabled)("confluence","confluence-ai"):!(0,n("lzcvT").isFedRamp)())&&e&&t}}),a("6KwrO",function(e,t){var a=n("42omo");let o=e=>`comment-thread-${e}-container`;e.exports.useCommentsPanelScroll=()=>{let{currentView:e}=(0,n("3mVfX").useCommentsPanelState)(),{setCurrentView:t}=(0,n("3mVfX").useCommentsPanelActions)(),r=(0,n("7B9wr").useIsNewDanglingCommentExperienceEnabled)(),i=(0,a.useCallback)(({annotationId:a,isCommentThreadResolved:i,isCommentThreadDangling:s,commentType:l,scrollToEnd:c=!1,hasKeyPressed:d=!1,annotationClicked:u=!1,scrollOnLoad:m=!1,commentContainerToFocus:p})=>{if((0,n("9wGTI").fg)("confluence_comments_unified_navigation"))return;if(!i&&u)if(s&&r)t(n("3mVfX").ViewValues.DELETED_CONTENT);else{if(e===n("3mVfX").ViewValues.UNREAD&&(0,n("9wGTI").fg)("confluence_frontend_unread_comments_fixes"))return;t(n("3mVfX").ViewValues.OPEN)}let f=o(a),g=()=>{(0,n("i6UMJ").scrollCommentsPanel)({containerId:"comments-panel-list-container",commentMarkerRef:f,commentContainerToFocus:p,commentType:l,scrollToEnd:c,hasKeyPressed:d,annotationClicked:u,scrollOnLoad:m})};if(document.getElementById(f)&&void 0!==e)return void g();let E=new MutationObserver((e,t)=>{document.getElementById(f)&&(t.disconnect(),g())});return E.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["id"]}),()=>{E.disconnect()}},[e,t,r]);return(0,a.useMemo)(()=>({scrollCommentsPanelToThread:i}),[i])}}),a("i6UMJ",function(e,t){let a=e=>{let t=document.querySelector("[data-testid='object-sidebar-panel-header']"),n=0;t||(t=document.querySelector("[data-testid='scrolled-object-sidebar-panel-header']"),n=8);let a=t?.getBoundingClientRect().height??0,o=document.querySelector("[data-testid='object-header-container']")?.getBoundingClientRect().height??0,r=document.querySelector("[data-testid='grid-topNav']")?.getBoundingClientRect().height??0,i=document.querySelector("[data-testid='banner-container']")?.getBoundingClientRect().height??0;return a+o+r+i+n+e+(document.querySelector("[data-testid='editor-controls-onboarding-banner']")?.getBoundingClientRect().height??0)+(document.querySelector("[id='AkBanner']")?.getBoundingClientRect().height??0)},o=(e,t)=>{let o=e.getBoundingClientRect(),r=a(t===n("8i27m").CommentType.GENERAL?document.querySelector("[data-testid='comment-section-separator']")?.getBoundingClientRect().height??0:0),i=document.querySelector("[data-testid='object-sidebar-panel-footer']"),s=i?.getBoundingClientRect().height??0,l=window.innerHeight-s,c=o.top>=r,d=o.bottom<=l;return(!c||!d)&&(!c&&!!d||!c||!!d||!(o.bottom-l<=60))},r=(e,t)=>{let a=e.getBoundingClientRect(),o=t===n("8i27m").CommentType.GENERAL?document.querySelector("[data-testid='comment-section-separator']")?.getBoundingClientRect().height??0:0,r=document.querySelector("[data-testid='object-sidebar-panel-footer']"),i=r?.getBoundingClientRect().height??0;return a.bottom+o>window.innerHeight-i};var i,s=((i={}).PANEL="panel",i.FOOTER="footer",i.STANDALONE="standalone",i);let l=e=>{if(!(0,n("9wGTI").fg)("confluence-fe-comments-deep-link-behavior"))return()=>{};let t=!1,a=!1,o=document.querySelector('[data-testid="comments-panel-list-container"]')||document.body,r=new MutationObserver(()=>{if(t||a)return;let n=o.querySelector(`[data-comment-id="${e}"]`);n&&(a=!0,n.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),t=!0,r.disconnect())});return r.observe(o,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-comment-id"]}),()=>{t||(r.disconnect(),t=!0)}},c=({commentsDataMap:e,annotationsSet:t,openCommentThreads:n})=>{for(let a in e.inline){let o=e.inline[a],r=o?.location?.inlineResolveProperties?.isDangling;if(o?.isOpen){if(r){let e=o?.location?.inlineMarkerRef;if(e&&t&&t.has(e)){let e=o.location,t={...o,location:{...o.location,inlineResolveProperties:{...e.inlineResolveProperties,isDangling:!1}}};n.push(t)}else n.push(o);continue}let e=o?.location?.inlineMarkerRef;if(e&&t&&!t.has(e)){let e=o.location,t={...o,location:{...o.location,inlineResolveProperties:{...e.inlineResolveProperties,isDangling:!0}}};n.push(t)}}}},d=e=>{let t=e.location;return t?.inlineResolveProperties?.resolvedTime||t?.commentResolveProperties?.resolvedTime||(0,n("6faGq").getValidDate)(e.createdAtNonLocalized).getTime()};e.exports.LocationValue=s,e.exports.scrollCommentsPanel=({containerId:e,commentMarkerRef:t,commentType:a,scrollToEnd:i,hasKeyPressed:s,annotationClicked:c,scrollOnLoad:d,commentContainerToFocus:u})=>{if(!(0,n("9wGTI").fg)("confluence_comments_unified_navigation")&&document.querySelector(`[data-testid='${e}']`)){let e=document.querySelector(`[data-testid='${t}']`);if(u)return void l(u);if(e){let t=document.activeElement;if(t?.getAttribute("data-testid")==="comment-reply-button"){let e=document.querySelector("[data-testid=comments-panel-new-reply-container]");e?.scrollIntoView({behavior:"smooth",block:"center",inline:"center"});return}if(s||c||d)return void((0,n("9wGTI").fg)("confluence_frontend_content_wrapper")?(i&&r(e,a)||o(e,a))&&e.scrollIntoView({behavior:"smooth",block:i?"end":"start"}):e.scrollIntoView({behavior:"smooth",block:"start"}))}}},e.exports.getAnnotationsToLoad=e=>e.slice(0,Math.min(e.length,n("7Oxky").COMMENT_BATCH_SIZE)).filter(e=>!e.isLoaded).map(e=>e.threadKey),e.exports.getOpenCommentThreads=({commentsDataMap:e,orderedActiveAnnotationIdList:t,removedThreadsMap:a,showInlineComments:o,showGeneralComments:r,location:i="panel"})=>{let s=[],l=new Set(t.map(e=>e.threadKey));if(o&&"panel"===i){let o=new Set(Object.values(a.inline)),r=t.filter(e=>!o.has(e.threadKey)),i=r.length+Object.keys(a).length,d=0;for(let t=0;t<i;t++){let o="";if(a.inline.hasOwnProperty(t)){o=a.inline[t];let n=e.inline[o];n&&s.push(n)}else if(d<r.length){o=r[d].threadKey;let t=e.inline[o],a=t?.location?.inlineResolveProperties?.isDangling&&(0,n("9wGTI").fg)("confluence_frontend_content_wrapper"),i=t?.location?.inlineMarkerRef,c=i&&l&&!l.has(i);!t?.isOpen||a||c||s.push(t),d++}}(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")&&c({commentsDataMap:e,openCommentThreads:s,annotationsSet:l})}if(r||"footer"===i){let t=Object.values(e.general).filter(e=>e.isOpen||e.wasRemovedByAnotherUser===n("8i27m").CommentActionType.DELETE_COMMENT);s.push(...t)}return s},e.exports.getUnreadCommentThreads=({numUnreadComments:e,commentsDataMap:t,orderedActiveAnnotationIdList:a,removedThreadsMap:o,showInlineComments:r,showGeneralComments:i,location:s="panel"})=>{let l=[];if((Object.keys(t.inline).length>0||Object.keys(t.general).length>0)&&(e>0||Object.keys(o.inline).length>0)){if(r&&"panel"===s){let e=new Set(Object.values(o.inline)),n=a.filter(t=>!e.has(t.threadKey)),r=n.length+Object.keys(o.inline).length,i=0;for(let e=0;e<r;e++){let a="";if(o.inline.hasOwnProperty(e)){a=o.inline[e];let n=t.inline[a];n?.isOpen&&(n?.isUnread||n?.replies?.some(e=>e&&e.isUnread))&&l.push(n)}else if(i<n.length){a=n[i].threadKey;let e=t.inline[a];e?.isOpen&&(e?.isUnread||e?.replies?.some(e=>e&&e.isUnread))&&l.push(e),i++}}}if(i){let e=Object.values(t.general).filter(e=>(e.isOpen||e.wasRemovedByAnotherUser===n("8i27m").CommentActionType.DELETE_COMMENT)&&(e.isUnread||e.replies.some(e=>e&&e.isUnread)));l.push(...e)}}return l},e.exports.getResolvedCommentThreads=({commentsDataMap:e,showInlineComments:t,showGeneralComments:n,location:a="panel"})=>{let o=[];if(t&&"panel"===a)for(let t in e.inline){let n=e.inline[t];!1===n.isOpen&&o.push(n)}if(n)for(let t in e.general){let n=e.general[t];!1===n.isOpen&&o.push(n)}return o},e.exports.getSortedCommentThreads=(e,t)=>e===n("3mVfX").SortValues.MOST_RECENT?[...t].sort((e,t)=>d(t)-d(e)):t,e.exports.getAnnotationThreadKeys=e=>e.map(e=>e.threadKey),e.exports.getMarkIds=(e=[])=>e.map(e=>e.attrs.id),e.exports.getCommentsSortedOldestToNewest=(e,t)=>(0,n("6faGq").getValidDate)(e?.createdAtNonLocalized).getTime()-(0,n("6faGq").getValidDate)(t?.createdAtNonLocalized).getTime(),e.exports.onlyHasReactionsSummaryErrors=e=>!e||(e instanceof n("422HI").ApolloErrorInterop||e instanceof n("9wEpK").ApolloError)&&!(e.graphQLErrors?.filter(e=>!e.path?.includes("reactionsSummary"))?.length>0)&&!e.networkError}),a("7Oxky",function(e,t){var a=n("42omo"),o=n("j1Ss3");let r=(0,n("eSUdr").default)`query useActiveInlineCommentsQueryActiveInlineCommentsQuery($inlineMarkerRefList:[String!]!$pageId:ID!$contentStatus:[GraphQLContentStatus]){comments(inlineMarkerRefList:$inlineMarkerRefList pageId:$pageId contentStatus:$contentStatus){nodes{id body(representation:ATLAS_DOC_FORMAT){value}contentStatus createdAt{value}createdAtNonLocalized links{webui editui}location{type ...on InlineComment{inlineMarkerRef inlineText inlineResolveProperties{resolved isDangling resolvedFriendlyDate resolvedTime resolvedUser}}...on FooterComment{commentResolveProperties{resolved resolvedFriendlyDate resolvedTime resolvedUser}}}parentId permissions{isEditable isRemovable isResolvable}version{by{displayName}when number}author{displayName profilePicture{path}permissionType ...on KnownUser{accountId}}location{type ...on InlineComment{inlineMarkerRef inlineText inlineResolveProperties{isDangling resolvedTime resolvedFriendlyDate resolvedUser resolved}}...on FooterComment{commentResolveProperties{resolved resolvedFriendlyDate resolvedTime resolvedUser}}}createdAt{value}createdAtNonLocalized replies{id body(representation:ATLAS_DOC_FORMAT){value}contentStatus createdAt{value}createdAtNonLocalized links{webui editui}location{type ...on InlineComment{inlineMarkerRef inlineText inlineResolveProperties{resolved isDangling resolvedFriendlyDate resolvedTime resolvedUser}}...on FooterComment{commentResolveProperties{resolved resolvedFriendlyDate resolvedTime resolvedUser}}}parentId permissions{isEditable isRemovable isResolvable}version{by{displayName}when number}author{displayName profilePicture{path}permissionType ...on KnownUser{accountId}}createdAt{value}createdAtNonLocalized reactionsSummary(pageId:$pageId contentType:"page" childType:"comment"){ari containerAri reactionsCount reactionsSummaryForEmoji{id emojiId count reacted}}}reactionsSummary(pageId:$pageId contentType:"page" childType:"comment"){ari containerAri reactionsCount reactionsSummaryForEmoji{id emojiId count reacted}}}}}`;e.exports.COMMENT_BATCH_SIZE=1e3,e.exports.useActiveInlineCommentsQuery=({pageId:e,markerRefList:t,skip:i=!1})=>{let[s,l]=(0,a.useState)(!0),[{commentsDataMap:c},{addNewCommentThreads:d,setCommentsDataMap:u}]=(0,n("8i27m").useCommentsData)(),[{readCommentsListState:m}]=(0,n("fHAwL").useUnreadComments)(),[{annotations:p}]=(0,n("aUU0C").useEditorAnnotations)(),f=(0,n("aSsfA").useGetPageMode)(),{userId:g}=(0,n("bQm3c").useSessionData)(),E=!e||0===t.length||i,C=(0,a.useMemo)(()=>new Set(p),[p]),h=Object.keys(c.inline).length>0,{data:b,loading:_,error:I,refetch:y}=(0,o.useQuery)(r,{variables:{pageId:e,inlineMarkerRefList:t,contentStatus:["CURRENT","DRAFT"]},fetchPolicy:E?"cache-only":"cache-and-network",skip:E,onCompleted:e=>{(0,n("3ZsvI").updateCommentsDataState)({data:e,readCommentsListState:m,updateData:h?d:u,annotationsInEditorDoc:C,pageMode:f,currentUserId:g??"",isOpen:!0}),l(!1)},onError:e=>{(-1!==e.message.search(/reactions/i)||-1!==e.message.search(/cc-pages/i))&&(0,n("7Sm4c").markErrorAsHandled)(e),l(!1)}});return(0,a.useEffect)(()=>{_&&l(!0)},[_]),{loading:!E&&s,data:b,error:I,refetch:y}}}),a("aUU0C",function(t,a){var o=n("a4TK8");let r=(0,n("1P1Tu").createStore)({initialState:{annotations:[]},actions:{setEditorAnnotations:(t,n)=>({getState:a,setState:r})=>{let{annotations:i}=a();e(o)(t,i)||r({annotations:t,pageId:n})}},name:"EditorAnnotationsStore"}),i=(0,n("9zUhf").createHook)(r),s=(0,n("9zUhf").createActionsHook)(r);t.exports.useEditorAnnotations=i,t.exports.useEditorAnnotationsActions=s}),a("7B9wr",function(e,t){e.exports.useIsNewDanglingCommentExperienceEnabled=()=>{let[e]=(0,n("ep3mz").useContentType)();return e!==n("1ggpj").ContentType.DATABASE&&e!==n("1ggpj").ContentType.WHITEBOARD&&(0,n("9wGTI").fg)("confluence_frontend_new_dangling_comments_ux")}}),a("kRW4Y",function(t,a){var o=n("42omo"),r=n("T1bCI");class i extends r.Container{onChildClose(e,...t){let n=this.state.stack.find(t=>t.key===e);n&&(n.originalProps.onClose&&n.originalProps.onClose(...t),this.setState(e=>({stack:e.stack.map(e=>e===n?{...e,alive:!1}:e)})))}onChildCloseComplete(e,...t){let n=this.state.stack.find(t=>t.key===e);n&&(n.originalProps.onCloseComplete&&n.originalProps.onCloseComplete(...t),this.setState(e=>({stack:e.stack.filter(e=>e.key!==n.key)})))}constructor(t=[]){if(super(),this.showModal=(e,t,n)=>{this.showDialog(e,t,n)},this.showDialog=(t,a,r)=>{let i=n("2BAFx").dialogKeyState.nextKey,s=a||{},l=e(o).createElement(t,{...s,onClose:(...e)=>this.onChildClose(i,...e),onCloseComplete:(...e)=>this.onChildCloseComplete(i,...e)},r);return this.setState(e=>({stack:[...e.stack,{key:i,component:l,alive:!0,originalProps:{onClose:"onClose"in s?s.onClose:void 0,onCloseComplete:"onCloseComplete"in s?s.onCloseComplete:void 0}}]})),()=>{this.onChildClose(i)}},this.state={stack:t},t.length){let e=Math.max(...t.map(e=>e.key));n("2BAFx").dialogKeyState.nextKey=e+1}}}t.exports.DialogsStateContainer=i}),a("666Tc",function(t,a){var o=n("3u0dr"),r=n("frIzR"),i=n("42omo");let s=(0,i.forwardRef)((0,o.isReactCompilerActiveV1)()?(t,a)=>{let o,s,l,c,d,u,m=(0,r.c)(13);if(m[0]!==a||m[1]!==t){let{as:e,style:r,...i}=t;o=void 0===e?"ul":e,s=i,l=r,c=a,d=(0,n("gMc0m").default)(["_11c81o8v _1yt4v0yc _1e0c1txw _1n261g80 _4cvr1h6o _1tke1f4h",i.className]),m[0]=a,m[1]=t,m[2]=o,m[3]=s,m[4]=l,m[5]=c,m[6]=d}else o=m[2],s=m[3],l=m[4],c=m[5],d=m[6];return m[7]!==o||m[8]!==s||m[9]!==l||m[10]!==c||m[11]!==d?(u=e(i).createElement(o,{...s,style:l,ref:c,className:d}),m[7]=o,m[8]=s,m[9]=l,m[10]=c,m[11]=d,m[12]=u):u=m[12],u}:({as:t="ul",style:a,...o},r)=>e(i).createElement(t,{...o,style:a,ref:r,className:(0,n("gMc0m").default)(["_11c81o8v _1yt4v0yc _1e0c1txw _1n261g80 _4cvr1h6o _1tke1f4h",o.className])}));(0,i.forwardRef)((0,o.isReactCompilerActiveV1)()?(t,a)=>{let o,s,l,c,d,u,m=(0,r.c)(13);if(m[0]!==a||m[1]!==t){let{as:e,style:r,...i}=t;o=void 0===e?"span":e,s=i,l=r,c=a,d=(0,n("gMc0m").default)(["_1as91r31 _j4qy8stv _1wwgnqa1 _v0fytlke",i.className]),m[0]=a,m[1]=t,m[2]=o,m[3]=s,m[4]=l,m[5]=c,m[6]=d}else o=m[2],s=m[3],l=m[4],c=m[5],d=m[6];return m[7]!==o||m[8]!==s||m[9]!==l||m[10]!==c||m[11]!==d?(u=e(i).createElement(o,{...s,style:l,ref:c,className:d}),m[7]=o,m[8]=s,m[9]=l,m[10]=c,m[11]=d,m[12]=u):u=m[12],u}:({as:t="span",style:a,...o},r)=>e(i).createElement(t,{...o,style:a,ref:r,className:(0,n("gMc0m").default)(["_1as91r31 _j4qy8stv _1wwgnqa1 _v0fytlke",o.className])}));let l=(0,i.forwardRef)((0,o.isReactCompilerActiveV1)()?(t,a)=>{let o,s=(0,r.c)(3);if(s[0]!==a||s[1]!==t){let{as:r,style:l,...c}=t,{isSticky:d,isAutoDismissResolve:u,...m}=c,{rightOffset:p}=c;o=e(i).createElement(void 0===r?"div":r,{...m,style:{...l,"--_16090q4":(0,n("7sObp").default)(`${void 0===p?0:p}px`),"--_162hus6":(0,n("7sObp").default)(c.offset,"px")},ref:a,className:(0,n("gMc0m").default)(["_19itia51 _2rko1l7b _16qs1nax _bfhkvuon _1xi21dwo _154i1odf _1e0c1txw _2lx21bp4 _vchhusvi _otyr53f4 _1bsb1178 _c71lglyw","view"===c.mode?"_1pbyibnn":"_1pby1ap8",c.isSticky?"_kqsw1n9t":"_kqswstnw",!!c.isAutoDismissResolve&&"",!!c.isAutoDismissResolve&&"_y44vuwz3",c.className])}),s[0]=a,s[1]=t,s[2]=o}else o=s[2];return o}:({as:t="div",style:a,...o},r)=>{let{isSticky:s,isAutoDismissResolve:l,...c}=o;return e(i).createElement(t,{...c,style:{...a,"--_16090q4":(0,n("7sObp").default)((()=>{let{rightOffset:e=0}=o;return`${e}px`})()),"--_162hus6":(0,n("7sObp").default)(o.offset,"px")},ref:r,className:(0,n("gMc0m").default)(["_19itia51 _2rko1l7b _16qs1nax _bfhkvuon _1xi21dwo _154i1odf _1e0c1txw _2lx21bp4 _vchhusvi _otyr53f4 _1bsb1178 _c71lglyw","view"===o.mode?"_1pbyibnn":"_1pby1ap8",o.isSticky?"_kqsw1n9t":"_kqswstnw",!!o.isAutoDismissResolve&&"",!!o.isAutoDismissResolve&&"_y44vuwz3",o.className])})}),c=(0,i.forwardRef)((0,o.isReactCompilerActiveV1)()?(t,a)=>{let o,s,l,c,d,u,m=(0,r.c)(13);if(m[0]!==a||m[1]!==t){let{as:e,style:r,...i}=t;o=void 0===e?"div":e,s=i,l=r,c=a,d=(0,n("gMc0m").default)(["_1e0c1txw _2lx21bp4 _bfhkvuon _521wia51",i.className]),m[0]=a,m[1]=t,m[2]=o,m[3]=s,m[4]=l,m[5]=c,m[6]=d}else o=m[2],s=m[3],l=m[4],c=m[5],d=m[6];return m[7]!==o||m[8]!==s||m[9]!==l||m[10]!==c||m[11]!==d?(u=e(i).createElement(o,{...s,style:l,ref:c,className:d}),m[7]=o,m[8]=s,m[9]=l,m[10]=c,m[11]=d,m[12]=u):u=m[12],u}:({as:t="div",style:a,...o},r)=>e(i).createElement(t,{...o,style:a,ref:r,className:(0,n("gMc0m").default)(["_1e0c1txw _2lx21bp4 _bfhkvuon _521wia51",o.className])})),d=(0,i.forwardRef)((0,o.isReactCompilerActiveV1)()?(t,a)=>{let o,s=(0,r.c)(10);if(s[0]!==a||s[1]!==t){let r,l,c,d,{as:u,style:m,...p}=t,{isCommentsPanel:f,isFabricPage:g,...E}=p,C="view"===p.mode?"var(--ds-space-150, 12px) var(--ds-space-200, 16px)":"var(--ds-space-100, 8px) var(--ds-space-150, 12px)",h=p.isCommentsPanel?"0":C;s[3]!==h?(r=(0,n("7sObp").default)(h),s[3]=h,s[4]=r):r=s[4],s[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,n("7sObp").default)((0,n("9wGTI").fg)("confluence_frontend_content_wrapper")?"var(--ds-space-075, 6px) var(--ds-space-100, 8px)":"var(--ds-space-050, 4px)"),s[5]=l):l=s[5],s[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,n("7sObp").default)((0,n("9wGTI").fg)("confluence_frontend_content_wrapper")?"var(--ds-text-subtlest, #6B6E76)":"var(--ds-text-disabled, #080F214A)"),s[6]=c):c=s[6],s[7]!==m||s[8]!==r?(d={...m,"--_1ms47y0":r,"--_567avp":l,"--_1n1whry":c},s[7]=m,s[8]=r,s[9]=d):d=s[9],o=e(i).createElement(void 0===u?"div":u,{...E,style:d,ref:a,className:(0,n("gMc0m").default)(["_1yt41vmh _n3tdpxbi _1k0c1qnt _159vzwfg _1wv15a2x",p.isCommentsPanel||p.isFabricPage&&(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")?"_x3doglyw":"_x3doj0fz",p.className])}),s[0]=a,s[1]=t,s[2]=o}else o=s[2];return o}:({as:t="div",style:a,...o},r)=>{let{isCommentsPanel:s,isFabricPage:l,...c}=o;return e(i).createElement(t,{...c,style:{...a,"--_1ms47y0":(0,n("7sObp").default)((()=>{let e="view"===o.mode?"var(--ds-space-150, 12px) var(--ds-space-200, 16px)":"var(--ds-space-100, 8px) var(--ds-space-150, 12px)";return o.isCommentsPanel?"0":e})()),"--_567avp":(0,n("7sObp").default)((0,n("9wGTI").fg)("confluence_frontend_content_wrapper")?"var(--ds-space-075, 6px) var(--ds-space-100, 8px)":"var(--ds-space-050, 4px)"),"--_1n1whry":(0,n("7sObp").default)((0,n("9wGTI").fg)("confluence_frontend_content_wrapper")?"var(--ds-text-subtlest, #6B6E76)":"var(--ds-text-disabled, #080F214A)")},ref:r,className:(0,n("gMc0m").default)(["_1yt41vmh _n3tdpxbi _1k0c1qnt _159vzwfg _1wv15a2x",o.isCommentsPanel||o.isFabricPage&&(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")?"_x3doglyw":"_x3doj0fz",o.className])})}),u=(0,i.forwardRef)((0,o.isReactCompilerActiveV1)()?(t,a)=>{let o,s,l,c,d,u,m=(0,r.c)(13);if(m[0]!==a||m[1]!==t){let{as:e,style:r,...i}=t;o=void 0===e?"div":e,s=i,l=r,c=a,d=(0,n("gMc0m").default)(["_1yt41jx0 _1e0c1txw _4cvr1h6o _2lx21bp4 _1i7v1o8v _9a6v14no _kckd15o9 _125xi7uo _31ku1h6o _ekv61o8v _dkzuutpp _5lhmtlke _1pzm1h6o",i.className]),m[0]=a,m[1]=t,m[2]=o,m[3]=s,m[4]=l,m[5]=c,m[6]=d}else o=m[2],s=m[3],l=m[4],c=m[5],d=m[6];return m[7]!==o||m[8]!==s||m[9]!==l||m[10]!==c||m[11]!==d?(u=e(i).createElement(o,{...s,style:l,ref:c,className:d}),m[7]=o,m[8]=s,m[9]=l,m[10]=c,m[11]=d,m[12]=u):u=m[12],u}:({as:t="div",style:a,...o},r)=>e(i).createElement(t,{...o,style:a,ref:r,className:(0,n("gMc0m").default)(["_1yt41jx0 _1e0c1txw _4cvr1h6o _2lx21bp4 _1i7v1o8v _9a6v14no _kckd15o9 _125xi7uo _31ku1h6o _ekv61o8v _dkzuutpp _5lhmtlke _1pzm1h6o",o.className])})),m=(0,i.forwardRef)((0,o.isReactCompilerActiveV1)()?(t,a)=>{let o,s,l,c,d,u,m=(0,r.c)(13);if(m[0]!==a||m[1]!==t){let{as:e,style:r,...i}=t,{isReply:u,...p}=i;o=void 0===e?"div":e,s=p,l=r,c=a,d=(0,n("gMc0m").default)(["",!i.isReply&&"_1yt4utpp _n7zlia51",i.className]),m[0]=a,m[1]=t,m[2]=o,m[3]=s,m[4]=l,m[5]=c,m[6]=d}else o=m[2],s=m[3],l=m[4],c=m[5],d=m[6];return m[7]!==o||m[8]!==s||m[9]!==l||m[10]!==c||m[11]!==d?(u=e(i).createElement(o,{...s,style:l,ref:c,className:d}),m[7]=o,m[8]=s,m[9]=l,m[10]=c,m[11]=d,m[12]=u):u=m[12],u}:({as:t="div",style:a,...o},r)=>{let{isReply:s,...l}=o;return e(i).createElement(t,{...l,style:a,ref:r,className:(0,n("gMc0m").default)(["",!o.isReply&&"_1yt4utpp _n7zlia51",o.className])})}),p=(0,i.forwardRef)((0,o.isReactCompilerActiveV1)()?(t,a)=>{let o,s,l,c,d,u,m=(0,r.c)(13);if(m[0]!==a||m[1]!==t){let{as:e,style:r,...i}=t,{shouldHaveButtonGap:u,...p}=i;o=void 0===e?"div":e,s=p,l=r,c=a,d=(0,n("gMc0m").default)(["_1e0c1txw _1usn19bv _1achz0dk _1scmazsu",i.shouldHaveButtonGap&&"_zulpv77o",i.className]),m[0]=a,m[1]=t,m[2]=o,m[3]=s,m[4]=l,m[5]=c,m[6]=d}else o=m[2],s=m[3],l=m[4],c=m[5],d=m[6];return m[7]!==o||m[8]!==s||m[9]!==l||m[10]!==c||m[11]!==d?(u=e(i).createElement(o,{...s,style:l,ref:c,className:d}),m[7]=o,m[8]=s,m[9]=l,m[10]=c,m[11]=d,m[12]=u):u=m[12],u}:({as:t="div",style:a,...o},r)=>{let{shouldHaveButtonGap:s,...l}=o;return e(i).createElement(t,{...l,style:a,ref:r,className:(0,n("gMc0m").default)(["_1e0c1txw _1usn19bv _1achz0dk _1scmazsu",o.shouldHaveButtonGap&&"_zulpv77o",o.className])})}),f="24px",g=e=>(t,n)=>{let a=t(n);return{...a,buttonStyles:{...a.buttonStyles,background:"none",borderRadius:"var(--ds-radius-small, 4px)",height:f,width:f,"&:hover":{backgroundColor:"var(--ds-surface-hovered, #F0F1F2)"},"&:focus":{boxShadow:"0 0 0 2px var(--ds-border-focused, #4688EC)"},cursor:e?"not-allowed":"pointer","*":{color:e?"var(--ds-text-subtlest, #6B6E76)":"inherit"}}}},E=(0,o.isReactCompilerActiveV1)()?t=>{let a,o,s=(0,r.c)(5);return s[0]!==t.isSSRFocusedComment?(a=g(t.isSSRFocusedComment),s[0]=t.isSSRFocusedComment,s[1]=a):a=s[1],s[2]!==t||s[3]!==a?(o=e(i).createElement(n("4KS7f").default,{theme:a,...t}),s[2]=t,s[3]=a,s[4]=o):o=s[4],o}:t=>e(i).createElement(n("4KS7f").default,{theme:g(t.isSSRFocusedComment),...t}),C=(0,i.forwardRef)((0,o.isReactCompilerActiveV1)()?(t,a)=>{let o,s,l,c,d,u,m=(0,r.c)(13);if(m[0]!==a||m[1]!==t){let{as:e,style:r,...i}=t,{shouldShowNavigation:u,isReattachHeader:p,...f}=i;o=void 0===e?"div":e,s=f,l=r,c=a,d=(0,n("gMc0m").default)(["_kqswh2mm _1e0c1txw _19bvutpp _u5f3utpp",i.shouldShowNavigation?"_1bah1yb4":"_1bahesu3",i.shouldShowNavigation&&"_4t3i10yn _ca0qutpp",i.isReattachHeader&&"_4t3i10yn _ca0qpxbi",i.className]),m[0]=a,m[1]=t,m[2]=o,m[3]=s,m[4]=l,m[5]=c,m[6]=d}else o=m[2],s=m[3],l=m[4],c=m[5],d=m[6];return m[7]!==o||m[8]!==s||m[9]!==l||m[10]!==c||m[11]!==d?(u=e(i).createElement(o,{...s,style:l,ref:c,className:d}),m[7]=o,m[8]=s,m[9]=l,m[10]=c,m[11]=d,m[12]=u):u=m[12],u}:({as:t="div",style:a,...o},r)=>{let{shouldShowNavigation:s,isReattachHeader:l,...c}=o;return e(i).createElement(t,{...c,style:a,ref:r,className:(0,n("gMc0m").default)(["_kqswh2mm _1e0c1txw _19bvutpp _u5f3utpp",o.shouldShowNavigation?"_1bah1yb4":"_1bahesu3",o.shouldShowNavigation&&"_4t3i10yn _ca0qutpp",o.isReattachHeader&&"_4t3i10yn _ca0qpxbi",o.className])})}),h=(0,i.forwardRef)((0,o.isReactCompilerActiveV1)()?(t,a)=>{let o,s,c,d,u,m,p=(0,r.c)(13);if(p[0]!==a||p[1]!==t){let{as:e,style:r,...i}=t;o=void 0===e?l:e,s=i,c=r,d=a,u=(0,n("gMc0m").default)(["_1bsb1178 _4t3irvwn",i.showSkeleton?"_1e0c1ule":"_1e0cglyw",i.className]),p[0]=a,p[1]=t,p[2]=o,p[3]=s,p[4]=c,p[5]=d,p[6]=u}else o=p[2],s=p[3],c=p[4],d=p[5],u=p[6];return p[7]!==o||p[8]!==s||p[9]!==c||p[10]!==d||p[11]!==u?(m=e(i).createElement(o,{...s,style:c,ref:d,className:u}),p[7]=o,p[8]=s,p[9]=c,p[10]=d,p[11]=u,p[12]=m):m=p[12],m}:({as:t=l,style:a,...o},r)=>e(i).createElement(t,{...o,style:a,ref:r,className:(0,n("gMc0m").default)(["_1bsb1178 _4t3irvwn",o.showSkeleton?"_1e0c1ule":"_1e0cglyw",o.className])})),b=(0,i.forwardRef)((0,o.isReactCompilerActiveV1)()?(t,a)=>{let o,s,l,c,d,u,m=(0,r.c)(13);if(m[0]!==a||m[1]!==t){let{as:e,style:r,...i}=t,{showNavigation:u,...p}=i;o=void 0===e?"div":e,s=p,l=r,c=a,d=(0,n("gMc0m").default)(["_1e0c1txw",i.showNavigation?"_19pkxy5q":"_19pkze3t",i.className]),m[0]=a,m[1]=t,m[2]=o,m[3]=s,m[4]=l,m[5]=c,m[6]=d}else o=m[2],s=m[3],l=m[4],c=m[5],d=m[6];return m[7]!==o||m[8]!==s||m[9]!==l||m[10]!==c||m[11]!==d?(u=e(i).createElement(o,{...s,style:l,ref:c,className:d}),m[7]=o,m[8]=s,m[9]=l,m[10]=c,m[11]=d,m[12]=u):u=m[12],u}:({as:t="div",style:a,...o},r)=>{let{showNavigation:s,...l}=o;return e(i).createElement(t,{...l,style:a,ref:r,className:(0,n("gMc0m").default)(["_1e0c1txw",o.showNavigation?"_19pkxy5q":"_19pkze3t",o.className])})}),_=(0,i.forwardRef)((0,o.isReactCompilerActiveV1)()?(t,a)=>{let o,s,l,c,d,u,m=(0,r.c)(13);if(m[0]!==a||m[1]!==t){let{as:e,style:r,...i}=t;o=void 0===e?"div":e,s=i,l=r,c=a,d=(0,n("gMc0m").default)(["_kqswstnw _1xi2utpp _1pbykb7n _154iutpp",i.className]),m[0]=a,m[1]=t,m[2]=o,m[3]=s,m[4]=l,m[5]=c,m[6]=d}else o=m[2],s=m[3],l=m[4],c=m[5],d=m[6];return m[7]!==o||m[8]!==s||m[9]!==l||m[10]!==c||m[11]!==d?(u=e(i).createElement(o,{...s,style:l,ref:c,className:d}),m[7]=o,m[8]=s,m[9]=l,m[10]=c,m[11]=d,m[12]=u):u=m[12],u}:({as:t="div",style:a,...o},r)=>e(i).createElement(t,{...o,style:a,ref:r,className:(0,n("gMc0m").default)(["_kqswstnw _1xi2utpp _1pbykb7n _154iutpp",o.className])}));(0,i.forwardRef)((0,o.isReactCompilerActiveV1)()?(t,a)=>{let o,s,l,c,d,u,m=(0,r.c)(13);if(m[0]!==a||m[1]!==t){let{as:e,style:r,...i}=t;o=void 0===e?"div":e,s=i,l=r,c=a,d=(0,n("gMc0m").default)(["_zulp12x7 _kqswstnw _154ipxbi _1ltvpxbi _1e0c1txw _4cvr1h6o _1bah1h6o",i.className]),m[0]=a,m[1]=t,m[2]=o,m[3]=s,m[4]=l,m[5]=c,m[6]=d}else o=m[2],s=m[3],l=m[4],c=m[5],d=m[6];return m[7]!==o||m[8]!==s||m[9]!==l||m[10]!==c||m[11]!==d?(u=e(i).createElement(o,{...s,style:l,ref:c,className:d}),m[7]=o,m[8]=s,m[9]=l,m[10]=c,m[11]=d,m[12]=u):u=m[12],u}:({as:t="div",style:a,...o},r)=>e(i).createElement(t,{...o,style:a,ref:r,className:(0,n("gMc0m").default)(["_zulp12x7 _kqswstnw _154ipxbi _1ltvpxbi _1e0c1txw _4cvr1h6o _1bah1h6o",o.className])}));let I=e=>(t,n)=>{let a=t(n);return{...a,buttonStyles:{...a.buttonStyles,height:f,width:e?"24px":"28px"}}},y=(0,o.isReactCompilerActiveV1)()?t=>{let a,o,s=(0,r.c)(5),l=t.isUpdatedStandaloneComment??!1;return s[0]!==l?(a=I(l),s[0]=l,s[1]=a):a=s[1],s[2]!==t||s[3]!==a?(o=e(i).createElement(n("4KS7f").default,{theme:a,...t}),s[2]=t,s[3]=a,s[4]=o):o=s[4],o}:t=>e(i).createElement(n("4KS7f").default,{theme:I(t.isUpdatedStandaloneComment??!1),...t});t.exports.ActionsContainer=s,t.exports.SidebarContainer=l,t.exports.ReplyListContainer=c,t.exports.NewReplyContainer=d,t.exports.ResolvedNotificationContainer=u,t.exports.EditorContainer=m,t.exports.NavigationContainer=p,t.exports.InlineHeaderButton=E,t.exports.SidebarHeader=C,t.exports.LoadingSkeletonContainer=h,t.exports.TopContainer=b,t.exports.CloseButtonContainer=_,t.exports.CloseButton=y}),a("bEwJH",function(e,t){let a=(0,n("cgtv4").defineMessages)({closeCommentBox:{id:"annotation-provider-inline-comments.closeCommentBox",defaultMessage:"Close inline comments"},closeInlineCommentThread:{id:"annotation-provider-inline-comments.close.InlineCommentThread",defaultMessage:"Close inline comment thread"},closeSidebarTooltip:{id:"annotation-provider-inline-comments.close.icon.tooltip",defaultMessage:"Close comment"},viewAllCommentsButtonText:{id:"annotation-provider-inline-comments.view-all.button.text",defaultMessage:"View all"},commentSidebarLabel:{id:"annotation-provider-inline-comments.comment.sidebar.label",defaultMessage:"Inline comment by {name}"},commentSidebarAnnouncement:{id:"annotation-provider-inline-comments.comment.sidebar.announcement",defaultMessage:"Comment sidebar shown, use Shift + Tab to reach the comment sidebar"}});e.exports.MAX_UNCOLLAPSED_REPIES=5,e.exports.STICKY_COMMENT_VERTICAL_OFFSET_VIEW=125,e.exports.i18n=a}),a("bXQxx",function(t,a){var o=n("42omo");let r=(0,n("ecnYn").xcss)({position:"absolute",top:"space.150",right:"space.800"}),i=(0,n("ecnYn").xcss)({position:"absolute",top:"space.150",left:"space.150"});t.exports.CommentNavigation=({pageId:t,commentData:a,isEditor:s,onNavigationClick:l,disableCommentCount:c})=>{let{clearStoredCommentData:d}=(0,n("cZa7r").useAnnotationsDispatch)(),{storedCommentData:u}=(0,n("cZa7r").useAnnotations)(),{currentCommentIndex:m,goToNextInlineComment:p,goToPrevInlineComment:f,commentsCount:g}=(0,n("3BCCf").useInlineCommentNavigation)({isEditor:s,pageId:t,onNavigationClick:l,commentData:a}),E=(0,o.useCallback)(()=>{d&&u&&d(),p()},[d,u,p]),C=(0,o.useCallback)(()=>{d&&u&&d(),f()},[d,u,f]);return(0,o.useMemo)(()=>e(o).createElement(n("dcJ7R").default,{xcss:[(0,n("9wGTI").fg)("confluence-frontend-comments-panel")&&!(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")&&r,((0,n("9wGTI").fg)("confluence_frontend_content_wrapper")||!(0,n("9wGTI").fg)("confluence-frontend-comments-panel"))&&i]},e(o).createElement(n("7N1sB").CommentNavigation,{goToNextInlineComment:E,goToPrevInlineComment:C,currentCommentIndex:m,commentsCount:g,disableCommentCount:c})),[g,m,E,C,c])}}),a("7N1sB",function(t,a){var o=n("3u0dr"),r=n("frIzR"),i=n("42omo");let s=(0,n("cgtv4").defineMessages)({nextCommentLabel:{id:"inline-comments-common.next-comment-label",defaultMessage:"Next comment"},previousCommentLabel:{id:"inline-comments-common.previous-comment-label",defaultMessage:"Previous comment"}}),l=(0,o.isReactCompilerActiveV1)()?t=>{let a,o,l,d,u,m,p,f,g,E,C,h,b,_,I,y,S,v,T,A,w=(0,r.c)(62),{currentCommentIndex:N,commentsCount:R,isSSRFocusedComment:k,goToNextInlineComment:x,goToPrevInlineComment:O,disableCommentCount:L}=t,P=void 0!==L&&L,{formatMessage:M}=(0,n("8C5kA").default)(),[D]=(0,n("efvKr").useLivePageMode)(),{isEditMode:U}=D,F=(0,n("de2j9").useIsEditorPage)(),B=(0,n("9QIM2").usePageClass)(),j=(0,i.useContext)(n("1kHsc").ExperienceTrackerContext),V=U||F?n("gnkil").UNIVERSAL_PREV_COMMENT_SHORTCUT:n("gnkil").PREV_COMMENT_SHORTCUT;w[0]!==V?(a={shortcut:V},w[0]=V,w[1]=a):a=w[1];let G=(0,n("4tOXV").useShortcutStrings)(a),H=U||F?n("gnkil").UNIVERSAL_NEXT_COMMENT_SHORTCUT:n("gnkil").NEXT_COMMENT_SHORTCUT;w[2]!==H?(o={shortcut:H},w[2]=H,w[3]=o):o=w[3];let K=(0,n("4tOXV").useShortcutStrings)(o),W=(0,n("e4o8D").useRenderServerPlaceholder)();w[4]!==R||w[5]!==N||w[6]!==P?(l=()=>P||-1===N?null:"number"==typeof N&&"number"==typeof R?e(i).createElement("span",{"data-testid":"comment-index-and-counts"},`${N+1} of ${R}`):null,w[4]=R,w[5]=N,w[6]=P,w[7]=l):l=w[7];let q=l,z="renderer"===B||"editor"===B;return w[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,n("9wGTI").fg)("confluence_frontend_content_wrapper"),w[8]=d):d=w[8],w[9]!==U||w[10]!==F?(u=(0,n("9wGTI").fg)("platform_tooltip_shortcuts_migration_1")?e(i).createElement(n("gtD4K").default,s.previousCommentLabel):e(i).createElement(n("4tOXV").ShortcutVisualizer,{contentBefore:e(i).createElement(n("gtD4K").default,s.previousCommentLabel),shortcut:U||F?n("gnkil").UNIVERSAL_PREV_COMMENT_SHORTCUT:n("gnkil").PREV_COMMENT_SHORTCUT,isTooltip:!0}),w[9]=U,w[10]=F,w[11]=u):u=w[11],w[12]!==G?(m=(0,n("9wGTI").fg)("platform_tooltip_shortcuts_migration_1")?G:void 0,w[12]=G,w[13]=m):m=w[13],w[14]!==M?(p=M(s.previousCommentLabel),w[14]=M,w[15]=p):p=w[15],w[16]!==p?(f=e(i).createElement(e(n("2AytZ")),{label:p,color:"var(--ds-icon-subtle, #505258)",spacing:"spacious",size:"small"}),w[16]=p,w[17]=f):f=w[17],w[18]!==j||w[19]!==O||w[20]!==z||w[21]!==k||w[22]!==B?(g=k?c:()=>(n("4EKKB").selectInlineCommentCompoundExperience.selectAnnotation.start({pageClass:B,entryPoint:"comment-navigation"}),z&&(0,n("9wGTI").fg)("confluence_frontend_view_inline_comment_arrow_nav")&&j.start({name:n("irVI7").VIEW_INLINE_COMMENT_EXPERIENCE,timeout:n("aJPUt").ExperienceTimeout.VIEW_INLINE_COMMENT,attributes:{...(0,n("gtj7V").getCommentsDataManagerExperimentAttributes)(),entryPoint:"inline-comments-common/CommentNavigation",pageClass:B}}),n("4EKKB").selectInlineComment.debug("Navigating to previous comment via button."),O()),w[18]=j,w[19]=O,w[20]=z,w[21]=k,w[22]=B,w[23]=g):g=w[23],w[24]!==k||w[25]!==f||w[26]!==g?(E=e(i).createElement(n("666Tc").InlineHeaderButton,{isSSRFocusedComment:k,"data-cy":"inline-nav-previous",testId:"comment-navigation-prev",iconBefore:f,onClick:g}),w[24]=k,w[25]=f,w[26]=g,w[27]=E):E=w[27],w[28]!==m||w[29]!==E||w[30]!==u?(C=e(i).createElement(n("3gadb").default,{content:u,shortcut:m,hideTooltipOnClick:!0,position:"top"},E),w[28]=m,w[29]=E,w[30]=u,w[31]=C):C=w[31],w[32]!==U||w[33]!==F?(h=(0,n("9wGTI").fg)("platform_tooltip_shortcuts_migration_1")?e(i).createElement(n("gtD4K").default,s.nextCommentLabel):e(i).createElement(n("4tOXV").ShortcutVisualizer,{contentBefore:e(i).createElement(n("gtD4K").default,s.nextCommentLabel),shortcut:U||F?n("gnkil").UNIVERSAL_NEXT_COMMENT_SHORTCUT:n("gnkil").NEXT_COMMENT_SHORTCUT,isTooltip:!0}),w[32]=U,w[33]=F,w[34]=h):h=w[34],w[35]!==K?(b=(0,n("9wGTI").fg)("platform_tooltip_shortcuts_migration_1")?K:void 0,w[35]=K,w[36]=b):b=w[36],w[37]!==M?(_=M(s.nextCommentLabel),w[37]=M,w[38]=_):_=w[38],w[39]!==_?(I=e(i).createElement(e(n("ghftu")),{label:_,color:"var(--ds-icon-subtle, #505258)",spacing:"spacious",size:"small"}),w[39]=_,w[40]=I):I=w[40],w[41]!==j||w[42]!==x||w[43]!==z||w[44]!==k||w[45]!==B?(y=k?c:()=>(n("4EKKB").selectInlineCommentCompoundExperience.selectAnnotation.start({pageClass:B,entryPoint:"comment-navigation"}),z&&(0,n("9wGTI").fg)("confluence_frontend_view_inline_comment_arrow_nav")&&j.start({name:n("irVI7").VIEW_INLINE_COMMENT_EXPERIENCE,timeout:n("aJPUt").ExperienceTimeout.VIEW_INLINE_COMMENT,attributes:{...(0,n("gtj7V").getCommentsDataManagerExperimentAttributes)(),entryPoint:"inline-comments-common/CommentNavigation",pageClass:B}}),n("4EKKB").selectInlineComment.debug("Navigating to next comment via button."),x()),w[41]=j,w[42]=x,w[43]=z,w[44]=k,w[45]=B,w[46]=y):y=w[46],w[47]!==k||w[48]!==I||w[49]!==y?(S=e(i).createElement(n("666Tc").InlineHeaderButton,{isSSRFocusedComment:k,"data-cy":"inline-nav-next",testId:"comment-navigation-next",iconBefore:I,onClick:y}),w[47]=k,w[48]=I,w[49]=y,w[50]=S):S=w[50],w[51]!==h||w[52]!==b||w[53]!==S?(v=e(i).createElement(n("3gadb").default,{content:h,shortcut:b,hideTooltipOnClick:!0,position:"top"},S),w[51]=h,w[52]=b,w[53]=S,w[54]=v):v=w[54],w[55]!==q||w[56]!==W?(T=W?e(i).createElement("span",{id:"inline-comment-index"}):q(),w[55]=q,w[56]=W,w[57]=T):T=w[57],w[58]!==C||w[59]!==v||w[60]!==T?(A=e(i).createElement(n("666Tc").NavigationContainer,{"data-testid":"comment-navigation-container",shouldHaveButtonGap:d},C,v,T),w[58]=C,w[59]=v,w[60]=T,w[61]=A):A=w[61],A}:({currentCommentIndex:t,commentsCount:a,isSSRFocusedComment:o,goToNextInlineComment:r,goToPrevInlineComment:l,disableCommentCount:c=!1})=>{let{formatMessage:d}=(0,n("8C5kA").default)(),[{isEditMode:u}]=(0,n("efvKr").useLivePageMode)(),m=(0,n("de2j9").useIsEditorPage)(),p=(0,n("9QIM2").usePageClass)(),f=(0,i.useContext)(n("1kHsc").ExperienceTrackerContext),g=(0,n("4tOXV").useShortcutStrings)({shortcut:u||m?n("gnkil").UNIVERSAL_PREV_COMMENT_SHORTCUT:n("gnkil").PREV_COMMENT_SHORTCUT}),E=(0,n("4tOXV").useShortcutStrings)({shortcut:u||m?n("gnkil").UNIVERSAL_NEXT_COMMENT_SHORTCUT:n("gnkil").NEXT_COMMENT_SHORTCUT}),C=(0,n("e4o8D").useRenderServerPlaceholder)(),h=()=>{},b="renderer"===p||"editor"===p;return e(i).createElement(n("666Tc").NavigationContainer,{"data-testid":"comment-navigation-container",shouldHaveButtonGap:(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")},e(i).createElement(n("3gadb").default,{content:(0,n("9wGTI").fg)("platform_tooltip_shortcuts_migration_1")?e(i).createElement(n("gtD4K").default,s.previousCommentLabel):e(i).createElement(n("4tOXV").ShortcutVisualizer,{contentBefore:e(i).createElement(n("gtD4K").default,s.previousCommentLabel),shortcut:u||m?n("gnkil").UNIVERSAL_PREV_COMMENT_SHORTCUT:n("gnkil").PREV_COMMENT_SHORTCUT,isTooltip:!0}),shortcut:(0,n("9wGTI").fg)("platform_tooltip_shortcuts_migration_1")?g:void 0,hideTooltipOnClick:!0,position:"top"},e(i).createElement(n("666Tc").InlineHeaderButton,{isSSRFocusedComment:o,"data-cy":"inline-nav-previous",testId:"comment-navigation-prev",iconBefore:e(i).createElement(e(n("2AytZ")),{label:d(s.previousCommentLabel),color:"var(--ds-icon-subtle, #505258)",spacing:"spacious",size:"small"}),onClick:o?h:()=>(n("4EKKB").selectInlineCommentCompoundExperience.selectAnnotation.start({pageClass:p,entryPoint:"comment-navigation"}),b&&(0,n("9wGTI").fg)("confluence_frontend_view_inline_comment_arrow_nav")&&f.start({name:n("irVI7").VIEW_INLINE_COMMENT_EXPERIENCE,timeout:n("aJPUt").ExperienceTimeout.VIEW_INLINE_COMMENT,attributes:{...(0,n("gtj7V").getCommentsDataManagerExperimentAttributes)(),entryPoint:"inline-comments-common/CommentNavigation",pageClass:p}}),n("4EKKB").selectInlineComment.debug("Navigating to previous comment via button."),l())})),e(i).createElement(n("3gadb").default,{content:(0,n("9wGTI").fg)("platform_tooltip_shortcuts_migration_1")?e(i).createElement(n("gtD4K").default,s.nextCommentLabel):e(i).createElement(n("4tOXV").ShortcutVisualizer,{contentBefore:e(i).createElement(n("gtD4K").default,s.nextCommentLabel),shortcut:u||m?n("gnkil").UNIVERSAL_NEXT_COMMENT_SHORTCUT:n("gnkil").NEXT_COMMENT_SHORTCUT,isTooltip:!0}),shortcut:(0,n("9wGTI").fg)("platform_tooltip_shortcuts_migration_1")?E:void 0,hideTooltipOnClick:!0,position:"top"},e(i).createElement(n("666Tc").InlineHeaderButton,{isSSRFocusedComment:o,"data-cy":"inline-nav-next",testId:"comment-navigation-next",iconBefore:e(i).createElement(e(n("ghftu")),{label:d(s.nextCommentLabel),color:"var(--ds-icon-subtle, #505258)",spacing:"spacious",size:"small"}),onClick:o?h:()=>(n("4EKKB").selectInlineCommentCompoundExperience.selectAnnotation.start({pageClass:p,entryPoint:"comment-navigation"}),b&&(0,n("9wGTI").fg)("confluence_frontend_view_inline_comment_arrow_nav")&&f.start({name:n("irVI7").VIEW_INLINE_COMMENT_EXPERIENCE,timeout:n("aJPUt").ExperienceTimeout.VIEW_INLINE_COMMENT,attributes:{...(0,n("gtj7V").getCommentsDataManagerExperimentAttributes)(),entryPoint:"inline-comments-common/CommentNavigation",pageClass:p}}),n("4EKKB").selectInlineComment.debug("Navigating to next comment via button."),r())})),C?e(i).createElement("span",{id:"inline-comment-index"}):c||-1===t?null:"number"==typeof t&&"number"==typeof a?e(i).createElement("span",{"data-testid":"comment-index-and-counts"},`${t+1} of ${a}`):null)};function c(){}t.exports.CommentNavigation=l}),a("3BCCf",function(e,t){var a=n("42omo");e.exports.useInlineCommentNavigation=({pageId:e,isEditor:t,onNavigationClick:o,commentData:r})=>{let{createAnalyticsEvent:i}=(0,n("inPa6").useAnalyticsEvents)(),{unresolvedInlineComments:s}=(0,n("k8e76").useInlineCommentsState)(),{orderedActiveAnnotationIdList:l}=(0,n("8i27m").useCommentsDataState)(),{removeCommentQueryParams:c}=(0,n("liGyh").useInlineCommentQueryParams)(),{navigateToInlineComment:d}=(0,n("9jl6v").useInlineCommentsDispatchContext)(),u=(0,a.useMemo)(()=>(0,n("9wGTI").fg)("confluence_frontend_new_comments_scrolling")?l.map(e=>e.threadKey):s,[l,s]),m=(0,a.useCallback)(e=>u?.findIndex(t=>t===e),[u]),p=m(r?.location?.inlineMarkerRef??""),f=(0,a.useCallback)((n=!1)=>{d({action:"next",triggeredByKeyboardShortcut:n,currentCommentIndex:p,getCommentIndex:m,onNavigationClick:o,isEditor:t,removeCommentQueryParams:c,unresolvedInlineComments:u,createAnalyticsEvent:i,contentId:e})},[m,d,i,p,o,e,c,u,t]),g=(0,a.useCallback)((n=!1)=>{d({action:"previous",triggeredByKeyboardShortcut:n,currentCommentIndex:p,getCommentIndex:m,onNavigationClick:o,isEditor:t,removeCommentQueryParams:c,unresolvedInlineComments:u,createAnalyticsEvent:i,contentId:e})},[m,d,i,p,o,e,c,u,t]);return(0,a.useMemo)(()=>({currentCommentIndex:p,goToNextInlineComment:f,goToPrevInlineComment:g,commentsCount:u.length}),[f,g,u.length,p])}}),a("liGyh",function(e,t){var a=n("42omo");let o=(0,n("eSUdr").default)`query useCommentQueryParamsCommentLocationQuery($commentId:ID$contentStatus:[GraphQLContentStatus]){comments(commentId:$commentId contentStatus:$contentStatus){nodes{container{id}location{type}}}}`,r=(0,n("7W8i8").getLogger)("comment-query-params"),i=({location:e,queryArchivedContent:t=!1}={})=>{let i,s,l,c,{getQueryParams:d,setQueryParams:u}=(0,a.useContext)(n("7zgzO").RoutesContext),[m]=(0,n("ep3mz").usePageContentId)(),p=(0,n("aSsfA").useGetPageMode)(),{focusedCommentId:f,editComment:g,commentId:E,replyToComment:C,showCommentArea:h,shouldMention:b,unreadCommentMark:_}=d(),I=f||C||g&&E,y=!I||!e,{comment:S,error:v}=(0,n("lb2Lp").useCommentById)({commentId:I||"",contentId:m||"",contentStatus:(0,n("kgNLQ").buildDefaultCommentsContentStatusFilters)(p),options:{skip:y||!(0,n("6mKj3").expVal)("cc_comments_new_comments_data_manager","isEnabled",!1)}}),{data:T,error:A}=(0,n("xQxzY").useQuery)(o,{variables:{commentId:I,contentStatus:[t?n("1rdvc").GraphQLContentStatus.ARCHIVED:n("1rdvc").GraphQLContentStatus.DRAFT,n("1rdvc").GraphQLContentStatus.CURRENT]},skip:y||(0,n("6mKj3").expVal)("cc_comments_new_comments_data_manager","isEnabled",!1)});A&&r.error`Error: Unable to query comment location for ${E}`;let w=(0,n("6mKj3").expVal)("cc_comments_new_comments_data_manager","isEnabled",!1)?v:A,N=!!w&&(0,n("6tkbf").isCommentNotFoundError)(w.message||String(w)),R=(0,n("6mKj3").expVal)("cc_comments_new_comments_data_manager","isEnabled",!1)?S?.location?.type:T?.comments?.nodes?.[0]?.location?.type;c=(0,n("6mKj3").expVal)("cc_comments_new_comments_data_manager","isEnabled",!1)?S&&"container"in S?S.container?.id:void 0:T?.comments?.nodes?.[0]?.container?.id,(!e||e===R)&&(m===c||void 0===c&&(0,n("6mKj3").expVal)("cc_comments_new_comments_data_manager","isEnabled",!1))&&(i=f||void 0,s=g&&"true"===g&&E?E:void 0,l=C||void 0);let k="true"===h,x="true"===b&&void 0!==l,O=()=>{let e="",t="",n="";i?e="focusedCommentId":x?(e="replyToComment",n="shouldMention"):l?e="replyToComment":s?(e="editComment",t="commentId"):k&&(e="showCommentArea"),(e||t||n||_)&&u({...d(),[e]:void 0,[t]:void 0,[n]:void 0,unreadCommentMark:void 0})},L=(0,a.useCallback)(O,[d,u,_,s,l,k,x,i]),P=(0,n("6mKj3").expValEquals)("confluence_edit_page_rerender_optimizations","isEnabled",!0)?L:O;return{focusedCommentId:i,editCommentId:s,replyToCommentId:l,shouldOpenNewCommentEditor:k,shouldMentionInNewCommentEditor:x,unreadCommentMark:_,removeCommentQueryParams:P,setFocusedCommentQueryParam:e=>{u({...d(),focusedCommentId:e})},isCommentNotFound:N}};e.exports.useInlineCommentQueryParams=({queryArchivedContent:e=!1}={})=>i({location:"INLINE",queryArchivedContent:e})}),a("6tkbf",function(e,t){e.exports.isCommentNotFoundError=e=>{if(e){if(e===n("lb2Lp").USE_COMMENT_BY_ID_COMMENT_NOT_FOUND_MESSAGE)return!0;let t=e.lastIndexOf(":")+1;return"No comment found for the given id"===e.substring(t,e.length).trim()}return!1}}),a("lb2Lp",function(e,t){var a=n("42omo");let o=n("dc3kb").default,r="Comment not found: No comment found for the given id",i=async({commentId:e,markerRef:t,contentId:a,fetchPolicy:r="network-only"})=>{if(!a||!e&&!t)return Promise.resolve(null);let i=await (0,n("c0rhi").queryInterop)({query:o,variables:{pageId:a,commentId:e||void 0,inlineMarkerRef:t||void 0,contentStatus:n("NYiei").allContentStatuses},fetchPolicy:r}),s=i?.data?.comments?.nodes;if(!s||0===s.length)return null;let l=s.filter(e=>null!==e);return(0,n("kgNLQ").findAndFilterComment)(l,e,t,n("NYiei").allContentStatuses)};e.exports.USE_COMMENT_BY_ID_COMMENT_NOT_FOUND_MESSAGE=r,e.exports.useCommentById=({commentId:e,markerRef:t,contentId:i,contentStatus:s=["CURRENT"],options:l={}})=>{let{fetchPolicy:c="cache-first",onError:d,skip:u=!1}=l,m=u||!(0,n("6mKj3").expVal)("cc_comments_new_comments_data_manager","isEnabled",!1),p=(0,n("4L9ve").useProcessedCommentsDataState)(),f=(0,a.useMemo)(()=>m||i&&(e||t)?void 0:Error("useCommentById requires either commentId or markerRef and contentId to be provided"),[m,e,t,i]),g=m||!!f,E=g||"network-only"!==c&&p.isDataProcessed,C=(0,n("jMyy4").useQueryInterop)(o,{variables:{pageId:i??"",commentId:e||void 0,inlineMarkerRef:t||void 0,contentStatus:n("NYiei").allContentStatuses},fetchPolicy:c,skip:E,onError:e=>{(e?.message?.search(/reactions/i)!==-1||e?.message?.search(/cc-pages/i)!==-1)&&(0,n("7Sm4c").markErrorAsHandled)(e)}}),h=(0,a.useMemo)(()=>{if(!f){if(p.isDataProcessed){if(e){let t=p.flatCommentsMap?.[e];if(t)return t}else if(t){let e=p.flatMarkerRefMap?.[t];if(e)return e}}if(C.data?.comments?.nodes){let a=C.data.comments.nodes.map(e=>e).filter(e=>e);if(!a)return;return(0,n("kgNLQ").findAndFilterComment)(a,e,t,s)}}},[f,e,p.flatCommentsMap,p.flatMarkerRefMap,p.isDataProcessed,C.data?.comments?.nodes,t,s]),b=(0,a.useMemo)(()=>{if(!g&&p.isDataProcessed&&!C.loading&&!p.error&&!C.error&&void 0===h)return Error(r)},[g,p.isDataProcessed,p.error,C.loading,C.error,h]),_=(0,a.useMemo)(()=>f||p.error||C.error||b,[f,p.error,C.error,b]);return(0,a.useEffect)(()=>{_&&d&&d(_)},[_,d]),{loading:!p.isDataProcessed&&C.loading,error:_,comment:h}},e.exports.fetchCommentById=i}),a("dc3kb",function(e,t){var n,a,o,r,i,s,l,c,d,u,m,p,f,g,E,C,h,b,_,I,y,S,v,T,A,w,N,R,k;let x=(n={defaultValue:null,kind:"LocalArgument",name:"commentId"},a={defaultValue:null,kind:"LocalArgument",name:"contentStatus"},o={defaultValue:null,kind:"LocalArgument",name:"inlineMarkerRef"},r={defaultValue:null,kind:"LocalArgument",name:"pageId"},i={kind:"Variable",name:"pageId",variableName:"pageId"},s={kind:"ScalarField",name:"id"},l={kind:"ScalarField",name:"__typename"},c={kind:"ScalarField",name:"displayName"},d={kind:"ScalarField",name:"permissionType"},u={concreteType:"Icon",kind:"LinkedField",name:"profilePicture",plural:!1,selections:[{kind:"ScalarField",name:"path"}]},m={kind:"ScalarField",name:"type"},p={kind:"InlineFragment",selections:[{kind:"ScalarField",name:"accountId"}],type:"KnownUser"},g={args:[{kind:"Literal",name:"representation",value:"ATLAS_DOC_FORMAT"}],concreteType:"DocumentBody",kind:"LinkedField",name:"body",plural:!1,selections:f=[{kind:"ScalarField",name:"value"}],storageKey:'body(representation:"ATLAS_DOC_FORMAT")'},E={kind:"ScalarField",name:"contentStatus"},C={concreteType:"ConfluenceDate",kind:"LinkedField",name:"createdAt",plural:!1,selections:f},h={kind:"ScalarField",name:"createdAtNonLocalized"},b={concreteType:"Map_LinkType_String",kind:"LinkedField",name:"links",plural:!1,selections:[{kind:"ScalarField",name:"editui"},{kind:"ScalarField",name:"webui"}]},v={kind:"LinkedField",name:"location",plural:!1,selections:[l,m,{kind:"InlineFragment",selections:[{concreteType:"InlineCommentResolveProperties",kind:"LinkedField",name:"commentResolveProperties",plural:!1,selections:[_={kind:"ScalarField",name:"resolved"},I={kind:"ScalarField",name:"resolvedFriendlyDate"},y={kind:"ScalarField",name:"resolvedTime"},S={kind:"ScalarField",name:"resolvedUser"}]}],type:"FooterComment"},{kind:"InlineFragment",selections:[{kind:"ScalarField",name:"inlineMarkerRef"},{concreteType:"InlineCommentResolveProperties",kind:"LinkedField",name:"inlineResolveProperties",plural:!1,selections:[{kind:"ScalarField",name:"isDangling"},_,I,y,S]},{kind:"ScalarField",name:"inlineText"}],type:"InlineComment"}]},T={kind:"ScalarField",name:"parentId"},A={concreteType:"CommentPermissions",kind:"LinkedField",name:"permissions",plural:!1,selections:[{kind:"ScalarField",name:"isEditable"},{kind:"ScalarField",name:"isRemovable"},{kind:"ScalarField",name:"isResolvable"}]},w={args:[{kind:"Literal",name:"childType",value:"comment"},{kind:"Literal",name:"contentType",value:"page"},i],concreteType:"ReactionsSummaryResponse",kind:"LinkedField",name:"reactionsSummary",plural:!1,selections:[{kind:"ScalarField",name:"ari"},{kind:"ScalarField",name:"containerAri"},{kind:"ScalarField",name:"reactionsCount"},{concreteType:"ReactionsSummaryForEmoji",kind:"LinkedField",name:"reactionsSummaryForEmoji",plural:!0,selections:[s,{kind:"ScalarField",name:"count"},{kind:"ScalarField",name:"emojiId"},{kind:"ScalarField",name:"reacted"}]}]},{fragment:{argumentDefinitions:[n,a,o,r],kind:"Fragment",name:"useCommentByIdQuery",selections:k=[{args:[{kind:"Variable",name:"commentId",variableName:"commentId"},{kind:"Variable",name:"contentStatus",variableName:"contentStatus"},{kind:"Variable",name:"inlineMarkerRef",variableName:"inlineMarkerRef"},i],concreteType:"PaginatedCommentList",kind:"LinkedField",name:"comments",plural:!1,selections:[{concreteType:"Comment",kind:"LinkedField",name:"nodes",plural:!0,selections:[s,{kind:"LinkedField",name:"author",plural:!1,selections:[l,c,d,u,m,p]},g,{concreteType:"Content",kind:"LinkedField",name:"container",plural:!1,selections:[s]},E,C,h,b,v,T,A,w,{concreteType:"Comment",kind:"LinkedField",name:"replies",plural:!0,selections:[s,{kind:"LinkedField",name:"author",plural:!1,selections:[l,c,d,p,u]},g,E,C,h,b,v,T,A,w,{concreteType:"Version",kind:"LinkedField",name:"version",plural:!1,selections:[{kind:"LinkedField",name:"by",plural:!1,selections:[l,c]},N={kind:"ScalarField",name:"number"},R={kind:"ScalarField",name:"when"}]}]},{concreteType:"Version",kind:"LinkedField",name:"version",plural:!1,selections:[{kind:"LinkedField",name:"by",plural:!1,selections:[l,m,c,p]},{kind:"ScalarField",name:"friendlyWhen"},N,R]}]}]}],type:"Query"},kind:"Request",operation:{argumentDefinitions:[r,n,o,a],kind:"Operation",name:"useCommentByIdQuery",selections:k},params:{cacheID:"80f6dc5113d6aef8927adf669909b48e",id:"a7e41ef969ee551d0afd8d103f23ec6991292b83b77931c1782403014e46ce8b",metadata:{},name:"useCommentByIdQuery",operationKind:"query",text:'query useCommentByIdQuery($pageId:ID!,$commentId:ID,$inlineMarkerRef:String,$contentStatus:[GraphQLContentStatus]){comments(pageId:$pageId,contentStatus:$contentStatus,commentId:$commentId,inlineMarkerRef:$inlineMarkerRef){nodes{id,author{__typename,displayName,permissionType,...on KnownUser{accountId,permissionType},profilePicture{path},type},body(representation:ATLAS_DOC_FORMAT){value},container{id},contentStatus,createdAt{value},createdAtNonLocalized,links{editui,webui},location{__typename,type,...on FooterComment{commentResolveProperties{resolved,resolvedFriendlyDate,resolvedTime,resolvedUser}},...on InlineComment{inlineMarkerRef,inlineResolveProperties{isDangling,resolved,resolvedFriendlyDate,resolvedTime,resolvedUser},inlineText}},parentId,permissions{isEditable,isRemovable,isResolvable},reactionsSummary(pageId:$pageId,contentType:"page",childType:"comment"){ari,containerAri,reactionsCount,reactionsSummaryForEmoji{id,count,emojiId,reacted}},replies{id,author{__typename,displayName,permissionType,...on KnownUser{accountId},profilePicture{path}},body(representation:ATLAS_DOC_FORMAT){value},contentStatus,createdAt{value},createdAtNonLocalized,links{editui,webui},location{__typename,type,...on FooterComment{commentResolveProperties{resolved,resolvedFriendlyDate,resolvedTime,resolvedUser}},...on InlineComment{inlineMarkerRef,inlineResolveProperties{isDangling,resolved,resolvedFriendlyDate,resolvedTime,resolvedUser},inlineText}},parentId,permissions{isEditable,isRemovable,isResolvable},reactionsSummary(pageId:$pageId,contentType:"page",childType:"comment"){ari,containerAri,reactionsCount,reactionsSummaryForEmoji{id,count,emojiId,reacted}},version{by{__typename,displayName},number,when}},version{by{__typename,type,displayName,...on KnownUser{accountId}},friendlyWhen,number,when}}}}'}});x.hash="ed7145a8b5d08f815e716de36a4b73ca",e.exports.default=x}),a("1rdvc",function(e,t){var n,a=((n={}).ARCHIVED="ARCHIVED",n.CURRENT="CURRENT",n.DELETED="DELETED",n.DRAFT="DRAFT",n);e.exports.GraphQLContentStatus=a}),a("kBOGD",function(t,a){var o=n("42omo"),r=n("6GD8y"),i=n("94z7g"),s=n("eTign");let l=(0,n("jmjWc").LoadableLazy)({__loadable_id__:"bkMvp",name:"WhiteboardGAModalManager",loader:async()=>(await n("iU3Bi")).WhiteboardGAModalManager}),c=(0,n("jmjWc").LoadableLazy)({__loadable_id__:"tgqZp",name:"LoomMigrationModalManager",loader:async()=>(await n("l2sYS")).LoomMigrationModalManager});var d=n("56QzY"),u=n("7DERG"),m=n("6g41Q");let p=(0,n("jmjWc").LoadablePaint)({__loadable_id__:"ZXF2b",name:"CreateButton",loader:async()=>(await n("6A3wB")).CreateButton}),f=(0,n("cgtv4").defineMessages)({create:{id:"app-navigation.top-navigation.create",defaultMessage:"Create"},liveDocsNotEnabledTitle:{id:"app-navigation.shortcuts.flags.liveDocsNotEnabled.title",defaultMessage:"Live docs arent enabled in this space"},liveDocsNotEnabledDescription:{id:"app-navigation.shortcuts.flags.liveDocsNotEnabled.description",defaultMessage:"To use this shortcut, your space admin will need to enable live docs."},liveDocsNotEnabledAction:{id:"app-navigation.shortcuts.flags.liveDocsNotEnabled.action",defaultMessage:"Find out more"}}),g=(0,n("7aRa9").withFlags)((0,o.memo)(({flags:t})=>{let a=(0,n("luv00").useSSRPlaceholderReplaceIdProp)(),g=(0,n("gz8ZY").useIsNav4Enabled)(),{setQueryParams:E,match:C,push:h,location:b}=(0,o.useContext)(n("7zgzO").RoutesContext),[_]=(0,n("ep3mz").usePageSpaceKey)(),[I]=(0,n("ep3mz").usePageContentId)(),{createAnalyticsEvent:y}=(0,n("inPa6").useAnalyticsEvents)(),{isWhiteboardGAOnboardingEnabled:S}=(0,n("kDja4").useIsWhiteboardFeatureEnabled)(),v=(0,n("6MlZq").useIsCreationDropdownEnabled)(),{enforceStorageLimit:T,shouldBlockCreate:A}=(0,n("lqy4C").useHardStorageEnforcement)({source:"create-component"}),[w]=(0,n("fZAJP").useKeyboardShortcutsEnabled)(),[{isEditMode:N}]=(0,n("efvKr").useLivePageMode)(),R=!!n("1NBp8").CREATE_CONTENT.match(b?.pathname||""),k=(0,n("de2j9").useIsEditorPage)(),{isLivePagesFeatureEnabled:x}=(0,n("gTyTP").useIsLivePagesFeatureEnabled)(),{isCreateLiveDocEnabled:O}=(0,n("7EIq6").useSpaceEnabledContentTypes)(_),[L,P]=(0,o.useState)(!1),M=S()&&!k&&!R,[D,U]=(0,n("8fj5s").useSkippableCoordination)("cc-whiteboards-ga-admin-onboarding-modal",!M),F=(0,o.useCallback)(()=>{U(),P(!0)},[P,U]),B=(0,o.useCallback)(()=>{P(!1)},[P]),[j,V]=(0,n("8fj5s").useSkippableCoordination)("cc-content-types-loom-premigration-modal",!(0,n("9wGTI").fg)("confluence_loom_premigration_modal")),G=(0,o.useCallback)(()=>{V()},[V]),[H,K]=(0,n("8fj5s").useSkippableCoordination)("cc-content-types-loom-migration-modal",!(0,n("9wGTI").fg)("confluence_loom_migration_modal")),W=(0,o.useCallback)(()=>{K()},[K]),{isEnabled:q}=(0,n("gIdnC").useOnboardingNewHomeTakeoverEnabled)(),{setEditSource:z}=(0,n("4ri4I").useEditSourceActions)(),{data:Y}=(0,n("ivb8S").useGetOnboardingState)(Object.values({...n("5cryL").EDITOR_ONBOARDING_STATE_KEYS}),!(0,n("9wGTI").fg)("cc_onboarding_experience")),{editorOnboardingEligiblity:Q}=(0,n("ivb8S").deserializeState)(Y),X=(e={})=>{y({type:"sendUIEvent",data:{source:"globalNavigation",action:"clicked",actionSubject:"navigationItem",actionSubjectId:"create",attributes:{selectedItemPageContext:C?C.name:void 0,navigationLayer:"global",navVersion:g?"4":"3",navdexPointType:d.START_TOUCH,...e}}}).fire()},J=()=>{X(),E({createDialog:!0})},Z=()=>(Y&&Q&&(0,n("fywGr").preloadEditorOnboardingState)(),!0),ee=(0,n("bZSO8").buildCreationLink)({contentType:"page",source:"createBlankFabricPage",withFallback:!0,spaceKey:_,parentPageId:I}),[et,en]=(0,n("jqe2L").isCreateBlankFabricPageEnabled)()?[e=>{X(),Z()?g&&(e.metaKey||e.ctrlKey?window.open(ee,"_blank","noreferrer"):h(ee)):e.preventDefault()},()=>{z(n("7NoF3").CREATE_PAGE_SHORTCUT),X({keyboardShortcut:!0}),Z()&&h(ee)}]:[J,J],ea=g?m.EngagementInlineDialogLoader:m.EngagementInlineDialogLoaderNav3,eo=(0,o.useCallback)(()=>D||L?e(o).createElement(n("bqyIi").CreateButtonNudgeWrappable,{target:n("hqD0X").HOVER_TARGET.CREATE,shouldWrap:q},e(o).createElement(s.GlobalCreateContentPopoverSpotlightLoader,{isGA:!0,isUniversalCreate:!0,spotlightEnabled:L,onSpotlightClose:B})):e(o).createElement(n("bqyIi").CreateButtonNudgeWrappable,{target:n("hqD0X").HOVER_TARGET.CREATE,shouldWrap:q},e(o).createElement(i.UniversalCreate,null)),[L,B,q,D]),er=(0,n("4tOXV").isMac)()?n("gnkil").UNIVERSAL_GLOBAL_CREATE_SHORTCUT_MAC:n("gnkil").UNIVERSAL_GLOBAL_CREATE_SHORTCUT_WIN,ei=()=>{(0,n("9wGTI").fg)("aifc_create_enabled")&&u.ConfluenceSmartCreationModalLoader.preload()};return e(o).createElement("div",{"data-testid":"app-navigation-create","data-pendo-id":"con-*/wiki/home-create","data-vc":"create-component",...a,onMouseEnter:ei,onFocus:ei,className:(0,n("gMc0m").default)(["_1e0c1txw _4cvr1h6o"])},e(o).createElement(ea,{engagementId:"createComponentButton",dataVC:"app-navigation-create-engagement-inline-dialog"},v?eo():e(o).createElement(n("3gadb").default,{content:w&&e(o).createElement(n("4tOXV").ShortcutVisualizer,{shortcut:er,isTooltip:!0})},e(o).createElement(n("7yn0t").CreateContentButtonPreloader,{editSource:n("7NoF3").CREATE_NAV_BUTTON_CLICK},e(o).createElement(n("bqyIi").CreateButtonNudgeWrappable,{target:n("hqD0X").HOVER_TARGET.CREATE,shouldWrap:q},g?e(o).createElement(p,{onClick:T(et)},e(o).createElement(n("gtD4K").default,f.create)):e(o).createElement(n("iGpKB").CreateButton,{onClick:T(et),href:(()=>{if((0,n("jqe2L").isCreateBlankFabricPageEnabled)()&&!A)return ee})()}))))),e(o).createElement(r.GeneralShortcutListener,{deprecatedAccelerator:N||k?void 0:n("gnkil").GLOBAL_CREATE_SHORTCUT,accelerator:er,listener:T(en),isAppNavigationShortcut:!0}),e(o).createElement(r.GeneralShortcutListener,{deprecatedAccelerator:N||k?void 0:n("gnkil").BLOG_SHORTCUT,accelerator:n("gnkil").UNIVERSAL_BLOG_SHORTCUT,listener:T(()=>{h((0,n("bZSO8").buildCreationLink)({contentType:"blog",source:"globalCreateBlogShortcut",spaceKey:_}))}),isAppNavigationShortcut:!0}),O&&x&&e(o).createElement(r.GeneralShortcutListener,{accelerator:n("gnkil").UNIVERSAL_CREATE_LIVE_DOC_SHORTCUT,listener:T(()=>{h((0,n("bZSO8").buildCreationLink)({contentType:"page",subType:n("dkIiA").ConfluencePageSubType.LIVE,parentPageId:I,withFallback:!0,source:"globalCreateLiveDocShortcut",spaceKey:_}))}),isAppNavigationShortcut:!0}),!O&&x&&e(o).createElement(r.GeneralShortcutListener,{accelerator:n("gnkil").UNIVERSAL_CREATE_LIVE_DOC_SHORTCUT,listener:T(()=>{t.showErrorFlag({id:"live-doc-not-enabled-shortcut-flag",title:e(o).createElement(n("gtD4K").default,f.liveDocsNotEnabledTitle),description:e(o).createElement(n("gtD4K").default,f.liveDocsNotEnabledDescription),isAutoDismiss:!0,actions:[{content:e(o).createElement(n("gtD4K").default,f.liveDocsNotEnabledAction),onClick:()=>{window.open("https://support.atlassian.com/confluence-cloud/docs/create-and-collaborate-in-real-time-with-live-docs/","_blank")}}]})}),isAppNavigationShortcut:!0}),M&&D&&e(o).createElement(l,{onClose:F,parentId:I,spaceKey:_}),j&&(0,n("9wGTI").fg)("confluence_loom_beta_enabled")&&(0,n("9wGTI").fg)("confluence_loom_premigration_modal")&&e(o).createElement(c,{isPremigration:!0,onClose:G}),H&&(0,n("9wGTI").fg)("confluence_loom_migration_modal")&&e(o).createElement(c,{onClose:W}))}));t.exports.CreateComponent=g}),a("4ri4I",function(e,t){let a=(0,n("1P1Tu").createStore)({initialState:{editSource:""},actions:{setEditSource:e=>({setState:t})=>{t({editSource:e})}},name:"setEditSource"}),o=(0,n("9zUhf").createHook)(a),r=(0,n("9zUhf").createActionsHook)(a);e.exports.useEditSource=o,e.exports.useEditSourceActions=r}),a("7NoF3",function(e,t){let n="PAGECARD_EDIT_BUTTON_CLICK",a="QUICK_ACTIONS_EDIT_BUTTON_CLICK";e.exports.PAGE_EDIT_BUTTON_CLICK="PAGE_EDIT_BUTTON_CLICK",e.exports.BLOG_EDIT_BUTTON_CLICK="BLOG_EDIT_BUTTON_CLICK",e.exports.SPACE_EDIT_BUTTON_CLICK="SPACE_EDIT_BUTTON_CLICK",e.exports.PAGE_EDIT_SHORTCUT_E="PAGE_EDIT_SHORTCUT_E",e.exports.BLOG_EDIT_SHORTCUT_E="BLOG_EDIT_SHORTCUT_E",e.exports.SPACE_EDIT_SHORTCUT_E="SPACE_EDIT_SHORTCUT_E",e.exports.PAGECARD_EDIT_BUTTON_CLICK=n,e.exports.QUICK_ACTIONS_EDIT_BUTTON_CLICK=a,e.exports.CREATE_PAGE_SHORTCUT="CREATE_PAGE_SHORTCUT",e.exports.CREATE_NAV_BUTTON_CLICK="CREATE_NAV_BUTTON_CLICK",e.exports.CREATE_PAGETREE_BLOG_BUTTON_CLICK="CREATE_PAGETREE_BLOG_BUTTON_CLICK",e.exports.InitialLoadEditSources=[a,n,"PAGECARD_DRAFT_EDIT_BUTTON_CLICK","NAVIGATION_RECENT_DROPDOWN_EDIT_BUTTON_CLICK"]}),a("dkIiA",function(e,t){var n,a,o=((n={}).LIVE="LIVE",n),r=((a={}).ARCHIVED="ARCHIVED",a.CURRENT="CURRENT",a.DELETED="DELETED",a.DRAFT="DRAFT",a);e.exports.ConfluencePageSubType=o,e.exports.GraphQLContentStatus=r}),a("94z7g",function(t,a){var o=n("3u0dr"),r=n("frIzR"),i=n("42omo"),s=n("56QzY"),l=n("hSqtY"),c=n("6e99h");let d=(0,n("jmjWc").LoadablePaint)({__loadable_id__:"NRUrF",name:"UniversalCreateButton",loader:async()=>(0,n("9wGTI").fg)("navx_uc_confluence_entrypoint_enabled")?(await n("jzS8g")).UniversalCreateButtonLazy:(await n("4ihOc")).default}),u=(0,n("cgtv4").defineMessages)({create:{id:"create-blank-fabric-page.universal-create.create.text",defaultMessage:"Create"}}),m=e=>(t,n)=>{let{buttonStyles:a,spinnerStyles:o}=t(n);return{buttonStyles:{...a,...e.default,margin:0,fontWeight:"var(--ds-font-weight-medium, 500)",":hover":e.hover,":focus":e.focus,"&&":{..."active"===n.state&&e.active}},spinnerStyles:o}},p=(0,o.isReactCompilerActiveV1)()?t=>{let a,o,l,p,f,g,E,C,h,b=(0,r.c)(34),{flags:_}=t,{isOpen:I}=(0,n("eB1TF").useUniversalCreateState)(),{setIsOpen:y,setOpenFrom:S}=(0,n("eB1TF").useUniversalCreateActions)();b[0]!==y?(a=()=>y(!1),b[0]=y,b[1]=a):a=b[1];let v=(0,c.useMenuItems)(_,a),{createAnalyticsEvent:T}=(0,n("inPa6").useAnalyticsEvents)(),{match:A}=(0,i.useContext)(n("7zgzO").RoutesContext),{theme:w}=(0,i.useContext)(n("lBYCH").AppNavigationContext),N=(0,n("gz8ZY").useIsNav4Enabled)(),R=(0,n("de2j9").useIsEditorPage)(),{formatMessage:k}=(0,n("8C5kA").default)(),{introSpotlight:x}=(0,n("3J7nf").useLiveDocChangeboarding)(),{isVisible:O}=x,{cloudId:L,orgId:P,userId:M}=(0,n("bQm3c").useSessionData)(),[D]=(0,n("ep3mz").usePageSpaceKey)(),{isCreateLiveDocEnabled:U}=(0,n("7EIq6").useSpaceEnabledContentTypes)(D),F=(0,i.useRef)(!1);b[2]===Symbol.for("react.memo_cache_sentinel")?(o=(0,n("3Yga2").checkShouldShowLozenge)(),b[2]=o):o=b[2];let B=o;b[3]!==w?(l=w?.mode?.create?m(w.mode.create):void 0,b[3]=w,b[4]=l):l=b[4];let j=l;b[5]!==T||b[6]!==U||b[7]!==N||b[8]!==R||b[9]!==I||b[10]!==A?.name||b[11]!==y?(p=()=>{!I&&(y(!0),B&&U&&!F.current&&((0,n("3Yga2").iterateLozengeShownTracker)(),F.current=!0)),T({type:"sendUIEvent",data:{action:"clicked",actionSubject:"navigationItem",actionSubjectId:"globalCreateContentPopover",source:"globalNavigation",attributes:{selectedItemPageContext:A?.name,navigationLayer:"global",navigationContainer:"top",navVersion:N?"4":"3",navdexPointType:s.START,isOnEditRoute:R}}}).fire()},b[5]=T,b[6]=U,b[7]=N,b[8]=R,b[9]=I,b[10]=A?.name,b[11]=y,b[12]=p):p=b[12],A?.name;let V=p;b[13]!==y||b[14]!==S?(f=()=>{y(!1),S("")},b[13]=y,b[14]=S,b[15]=f):f=b[15];let G=f;return b[16]!==O?(g=O&&(0,n("9wGTI").fg)("cc_modernize_ga_changeboarding"),b[16]=O,b[17]=g):g=b[17],b[18]!==L||b[19]!==P||b[20]!==M?(E=(0,n("9wGTI").fg)("navx_uc_enable_suggestion_in_confluence")?{enabled:!0,compact:!0,prefetch:!0,cloudId:L||"",orgId:P||"",accountId:M||""}:{enabled:!1},b[18]=L,b[19]=P,b[20]=M,b[21]=E):E=b[21],b[22]!==k?(C=k(u.create),b[22]=k,b[23]=C):C=b[23],b[24]!==j||b[25]!==N||b[26]!==I||b[27]!==v||b[28]!==G||b[29]!==V||b[30]!==g||b[31]!==E||b[32]!==C?(h=e(i).createElement(d,{items:v,onClick:V,triggerButtonSpotlightTarget:"top-nav-create",enableTriggerPulse:!1,isNav4Enabled:N,isOpen:I,onClose:G,product:"confluence",buttonTheme:j,testId:"create-content-popover-button",preventClose:g,suggestionConfig:E,shouldRenderToParent:!0},C),b[24]=j,b[25]=N,b[26]=I,b[27]=v,b[28]=G,b[29]=V,b[30]=g,b[31]=E,b[32]=C,b[33]=h):h=b[33],h}:({flags:t})=>{let{isOpen:a}=(0,n("eB1TF").useUniversalCreateState)(),{setIsOpen:o,setOpenFrom:r}=(0,n("eB1TF").useUniversalCreateActions)(),l=(0,c.useMenuItems)(t,()=>o(!1)),{createAnalyticsEvent:p}=(0,n("inPa6").useAnalyticsEvents)(),{match:f}=(0,i.useContext)(n("7zgzO").RoutesContext),{theme:g}=(0,i.useContext)(n("lBYCH").AppNavigationContext),E=(0,n("gz8ZY").useIsNav4Enabled)(),C=(0,n("de2j9").useIsEditorPage)(),{formatMessage:h}=(0,n("8C5kA").default)(),{introSpotlight:{isVisible:b}}=(0,n("3J7nf").useLiveDocChangeboarding)(),{cloudId:_,orgId:I,userId:y}=(0,n("bQm3c").useSessionData)(),[S]=(0,n("ep3mz").usePageSpaceKey)(),{isCreateLiveDocEnabled:v}=(0,n("7EIq6").useSpaceEnabledContentTypes)(S),T=(0,i.useRef)(!1),A=(0,i.useMemo)(()=>(0,n("3Yga2").checkShouldShowLozenge)(),[]),w=g?.mode?.create?m(g.mode.create):void 0,N=(0,i.useCallback)(()=>{!a&&(o(!0),A&&v&&!T.current&&((0,n("3Yga2").iterateLozengeShownTracker)(),T.current=!0)),p({type:"sendUIEvent",data:{action:"clicked",actionSubject:"navigationItem",actionSubjectId:"globalCreateContentPopover",source:"globalNavigation",attributes:{selectedItemPageContext:f?.name,navigationLayer:"global",navigationContainer:"top",navVersion:E?"4":"3",navdexPointType:s.START,isOnEditRoute:C}}}).fire()},[p,E,C,f?.name,a,o,A,v]);return e(i).createElement(d,{items:l,onClick:N,triggerButtonSpotlightTarget:"top-nav-create",enableTriggerPulse:!1,isNav4Enabled:E,isOpen:a,onClose:()=>{o(!1),r("")},product:"confluence",buttonTheme:w,testId:"create-content-popover-button",preventClose:b&&(0,n("9wGTI").fg)("cc_modernize_ga_changeboarding"),suggestionConfig:(0,n("9wGTI").fg)("navx_uc_enable_suggestion_in_confluence")?{enabled:!0,compact:!0,prefetch:!0,cloudId:_||"",orgId:I||"",accountId:y||""}:{enabled:!1},shouldRenderToParent:!0},h(u.create))},f=(0,n("7aRa9").withFlags)(p),g=(0,o.isReactCompilerActiveV1)()?function(){let t,a=(0,r.c)(1);return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=e(i).createElement(l.TransparentErrorBoundary,{attribution:n("3IBnw").Attribution.NAVX},e(i).createElement(f,null)),a[0]=t):t=a[0],t}:function(){return e(i).createElement(l.TransparentErrorBoundary,{attribution:n("3IBnw").Attribution.NAVX},e(i).createElement(f,null))};t.exports.UniversalCreate=g}),a("3J7nf",function(e,t){var a=n("42omo");let o={introSpotlight:{isVisible:!1,complete:()=>{}},liveDocTour:{isVisible:!1,complete:()=>{}},contentWrapperTour:{isVisible:!1,complete:()=>{}},aiButtonTour:{isVisible:!1,complete:()=>{}}},r={selector:e=>e===n("1NBp8").SPACE_OVERVIEW.name};e.exports.isLiveDocChangeboardingActive=e=>Object.values(e).some(e=>"object"==typeof e&&null!==e&&"isVisible"in e&&e.isVisible),e.exports.useLiveDocChangeboarding=()=>{let[e,t]=(0,a.useState)(!1),{setOnboardingState:i}=(0,n("ivb8S").useSetOnboardingState)(),{isAIFCOnbardingEligible:s,loading:l,error:c}=(0,n("evORK").useIsAIFCOnbardingEligible)(),{isAdminHubAIEnabled:d}=(0,n("bQm3c").useSessionData)(),{isEstablishedUser:u,loading:m,error:p}=(0,n("1zBOs").useIsEstablishedUser)({skip:!(0,n("9wGTI").fg)("cc_onboarding_changeboarding_for_live_pages_eap")&&!(0,n("9wGTI").fg)("confluence_ai_uber_button_changeboarding")}),{data:f,loading:g,error:E}=(0,n("ivb8S").useGetOnboardingState)([...Object.values(n("9DBk6").LIVE_DOC_CHANGEBOARDING_ONBOARDING_STATE_KEYS),...Object.values(n("bPDOf").AIFC_ONBOARDING_STATE_KEYS)],!(0,n("9wGTI").fg)("cc_modernize_ga_changeboarding")&&!(0,n("9wGTI").fg)("cc_onboarding_changeboarding_for_live_pages_eap")&&!(0,n("9wGTI").fg)("confluence_ai_uber_button_changeboarding")),{hasDismissedIntroSpotlight:C,hasDismissedLiveDocTour:h,hasDismissedAiButtonTour:b,hasSeenAIFCSpotlight:_,isAIFCSpotlightActive:I}=(0,n("ivb8S").deserializeState)(f),{isLicensed:y,isGuest:S}=(0,n("8Lx5S").useAccessStatus)(),{isLivePagesFeatureEnabled:v}=(0,n("gTyTP").useIsLivePagesFeatureEnabled)(),T=(0,n("cgSxj").useIsLivePagesAvailableInSpace)(),A=(0,n("3jwuS").useIsCurrentPageLive)(),{sidebarControlState:w}=(0,n("aWwYt").useObjectSidebarState)(),N=(0,n("dPJCf").useRouteName)(r),R=!(s&&(!_||I))&&!e&&v&&!h&&!C&&T&&!A&&(y||S),k=R&&!(0,n("9wGTI").fg)("cc_modernize_ga_changeboarding")&&(0,n("9wGTI").fg)("cc_onboarding_changeboarding_for_live_pages_eap"),x=R&&(0,n("9wGTI").fg)("cc_modernize_ga_changeboarding"),O=!A&&!N&&"shown"===w&&d&&!b&&(0,n("9wGTI").fg)("confluence_ai_uber_button_changeboarding"),{isUserEnrolledInNav4Changeboarding:L,isUserCompletedNav4Changeboarding:P,loading:M,error:D}=(0,n("irr7I").useIsNav4Changeboarding)(),U=(0,a.useCallback)(()=>{t(!0),i({key:n("9DBk6").LIVE_DOC_CHANGEBOARDING_ONBOARDING_STATE_KEYS.hasDismissedIntroSpotlight,value:"true"})},[i]),F=(0,a.useCallback)(()=>{i({key:n("9DBk6").LIVE_DOC_CHANGEBOARDING_ONBOARDING_STATE_KEYS.hasDismissedLiveDocTour,value:"true"})},[i]),B=(0,a.useCallback)(()=>{i({key:n("9DBk6").LIVE_DOC_CHANGEBOARDING_ONBOARDING_STATE_KEYS.hasDismissedAiButtonTour,value:"true"})},[i]);return((0,a.useEffect)(()=>{!(0,n("9wGTI").fg)("cc_modernize_ga_changeboarding")&&(E||g||p||m||l||c||!u&&(k&&U(),O&&B()))},[u,k,O,B,U,F,E,l,c,p,m,g]),E||D||c)?{...o,error:E||D||c}:g||M||m||l?{...o,loading:!0}:x?{...o,introSpotlight:{isVisible:!0,complete:U}}:(!L||P)&&u?O?{...o,aiButtonTour:{isVisible:!0,complete:B}}:k?{...o,introSpotlight:{isVisible:!0,complete:U}}:o:o}}),a("1zBOs",function(e,t){e.exports.useIsEstablishedUser=({skip:e})=>{let{userId:t}=(0,n("bQm3c").useSessionData)(),a=(0,n("2FNNv").useIsEstablishedUserTraitName)(),{data:o,loading:r,error:i}=(0,n("30D0J").useExperimentalUserPersonalizationQuery)({skip:e||!t,variables:{userId:t??""}});return{isEstablishedUser:!!o?.experimentalUserPersonalization?.attributes?.some(({name:e,value:t})=>e===a&&"true"===t),loading:r,error:i}}}),a("evORK",function(e,t){e.exports.useIsAIFCOnbardingEligible=()=>{let{isRovoLLMEnabled:e,cloudId:t,userId:a}=(0,n("bQm3c").useSessionData)(),o=(0,n("8Lx5S").useIsLicensed)(),{data:r,loading:i,error:s}=(0,n("gqypm").useExperimentalSiteUserPersonalization)({variables:{cloudId:t,userId:a},skip:!a||!t||!o||!e||!(0,n("9wGTI").fg)("aifc_onboarding_killswitch")||!(0,n("9wGTI").fg)("aifc_create_enabled")}),l=r?.experimentalSiteUserPersonalization?.attributes,c=l?.find(({name:e})=>"confluence_first_active"===e)?.value,{attributes:d,loading:u,error:m}=(0,n("kAcNG").useSitePersonalizationQuery)({cloudId:t,skip:!t||!o||!e||!(0,n("9wGTI").fg)("aifc_onboarding_killswitch")||!(0,n("9wGTI").fg)("aifc_create_enabled")}),p=d?.find(({name:e})=>"confluence_aifc_enabled_datetime"===e)?.value,f=!!c&&!!p&&(0,n("dlSEv").default)(new Date(c),new Date(p));return m||u||s||i||!(0,n("9wGTI").fg)("aifc_onboarding_killswitch")||!(0,n("9wGTI").fg)("aifc_create_enabled")?{isAIFCOnbardingEligible:!1,error:m||s,loading:u||i}:{isAIFCOnbardingEligible:f,loading:!1}}}),a("dlSEv",function(e,a){t(e.exports,"default",()=>o);function o(e,t){(0,n("b5utg").default)(2,arguments);var a=(0,n("egXhZ").default)(e),o=(0,n("egXhZ").default)(t);return a.getTime()<o.getTime()}}),a("kAcNG",function(e,t){let a=!1;e.exports.useSitePersonalizationQuery=({cloudId:e,skip:t,fetchPolicy:o})=>{let r=(0,n("8Lx5S").useIsLicensed)(),i=t||!r||a||!1,{data:s,loading:l,error:c}=(0,n("hcDKy").useExperimentalSitePersonalizationQuery)({variables:{cloudId:e},fetchPolicy:o||"cache-first",skip:i,onError(e){a=e?.graphQLErrors?.some(e=>(0,n("aMcHK").isStatusCodeError)(e,"401")||(0,n("1uFM6").isUnauthorizedError)(e))}});return{loading:l,error:c,attributes:s?.experimentalSitePersonalization?.attributes||[]}}}),a("hcDKy",function(e,t){e.exports.useExperimentalSitePersonalizationQuery=({skip:e,onError:t,variables:a,fetchPolicy:o})=>(0,n("dK51B").useExperimentalQuery)({url:({cloudId:e})=>`/gateway/api/tap-delivery/api/v3/personalization/site/${e}`,method:"GET",parseResult:e=>({experimentalSitePersonalization:{attributes:(0,n("CIjCq").stringifyPersonalizationAttributes)(e.attributes)}}),skip:e,onError:t,variables:a,fetchPolicy:o})}),a("gqypm",function(e,t){e.exports.useExperimentalSiteUserPersonalization=({variables:e,skip:t})=>(0,n("dK51B").useExperimentalQuery)({url:({cloudId:e,userId:t})=>`/gateway/api/tap-delivery/api/v3/personalization/site/${e}/user/${t}`,method:"GET",variables:e,parseResult:e=>({experimentalSiteUserPersonalization:{attributes:(0,n("CIjCq").stringifyPersonalizationAttributes)(e.attributes)}}),skip:t})}),a("cgSxj",function(e,t){var a=n("j1Ss3");e.exports.useIsLivePagesAvailableInSpace=()=>{let[e]=(0,n("ep3mz").usePageSpaceKey)(),{data:t}=(0,n("iLgzu").useExperimentalPromotedSpacesQuery)({skip:void 0!==e,variables:{promotedSpacesLimit:1,otherSpacesLimit:1,promotedSpaceKey:null}}),{data:o}=(0,a.useQuery)((0,n("eSUdr").default)`query useIsLivePagesAvailableInSpaceSpaceEnabledContentTypesQuery($spaceKey:String){space(key:$spaceKey){id key spaceTypeSettings{enabledContentTypes{isBlogsEnabled isDatabasesEnabled isEmbedsEnabled isLivePagesEnabled isWhiteboardsEnabled isFoldersEnabled}}}}`,{errorPolicy:"all",skip:!e&&!t,variables:{spaceKey:e||t?.experimentalPromotedSpaces?.nodes?.[0]?.id}});return!!o&&o?.space?.spaceTypeSettings?.enabledContentTypes?.isLivePagesEnabled}}),a("iLgzu",function(e,t){e.exports.useExperimentalPromotedSpacesQuery=({skip:e,onError:t,variables:a={},fetchPolicy:o}={})=>{let r=a.promotedSpacesLimit||10,i=a.otherSpacesLimit||10,s=a.promotedSpaceKey||"";return(0,n("dK51B").useExperimentalQuery)({url:`/wiki/rest/create-dialog/1.0/spaces?promotedSpacesLimit=${r}&otherSpacesLimit=${i}&promotedSpaceKey=${s}`,method:"GET",headers:{"Content-Type":n("jaPWl").MediaType.JSON},parseResult:e=>{let t=e.matchedPromotedSpaces&&e.matchedPromotedSpaces.spaces||[];return{experimentalPromotedSpaces:{nodes:(e.promotedSpaces&&e.promotedSpaces.spaces||[]).concat(e.otherSpaces&&e.otherSpaces.spaces||[]),matchedPromotedSpaces:t,__typename:"ExperimentalPromotedSpaces"}}},skip:e,onError:t,variables:a,fetchPolicy:o})}}),a("jaPWl",function(e,t){var n,a=((n={}).JSON="application/json",n.X_WWW_FORM_URLENCODED="application/x-www-form-urlencoded",n);e.exports.MediaType=a}),a("irr7I",function(e,t){let a=e=>!!(0,n("1uFM6").isUnauthorizedError)(e);e.exports.useIsNav4Changeboarding=()=>{let{cloudId:e,userId:t}=(0,n("bQm3c").useSessionData)(),o=(0,n("gz8ZY").useIsNav4Enabled)(),{data:r,loading:i,error:s}=(0,n("gqypm").useExperimentalSiteUserPersonalization)({variables:{cloudId:e,userId:t},skip:!t||!o});if(s&&a(s)&&(0,n("7Sm4c").markErrorAsHandled)(s),!o)return{isUserEnrolledInNav4Changeboarding:!1,isUserCompletedNav4Changeboarding:!1};let l=r?.experimentalSiteUserPersonalization?.attributes;return{isUserEnrolledInNav4Changeboarding:!!l?.some(({name:e,value:t})=>"segment_confluence_nav_4_changeboarding_cloned_siteuser"===e&&"true"===t),isUserCompletedNav4Changeboarding:!!l?.some(({name:e,value:t})=>"completed_cc-nav-4-changeboarding-prod"===e&&!!t),loading:i,error:s}}}),a("3Yga2",function(e,t){e.exports.checkShouldShowLozenge=()=>!(0,n("6mKj3").expValEquals)("confluence_hide_live_doc_lozenge","isEnabled",!0)||3>Number(n("17wUi").confluenceLocalStorageInstance.getItem(n("1UApO").keys.LIVE_DOCS_NEW_LOZENGE_SHOWN_TRACKER)),e.exports.iterateLozengeShownTracker=()=>{if(!(0,n("6mKj3").expValEquals)("confluence_hide_live_doc_lozenge","isEnabled",!0))return;let e=Number(n("17wUi").confluenceLocalStorageInstance.getItem(n("1UApO").keys.LIVE_DOCS_NEW_LOZENGE_SHOWN_TRACKER));n("17wUi").confluenceLocalStorageInstance.setItem(n("1UApO").keys.LIVE_DOCS_NEW_LOZENGE_SHOWN_TRACKER,e+1)},e.exports.setLozengeShownTrackerMax=()=>{(0,n("6mKj3").expValEquals)("confluence_hide_live_doc_lozenge","isEnabled",!0)&&n("17wUi").confluenceLocalStorageInstance.setItem(n("1UApO").keys.LIVE_DOCS_NEW_LOZENGE_SHOWN_TRACKER,3)}}),a("7EIq6",function(e,t){var a=n("3u0dr"),o=n("frIzR");let r=(0,a.isReactCompilerActiveV1)()?e=>{let t,a,r,i,s,l=(0,o.c)(15),c=void 0!==e;l[0]===Symbol.for("react.memo_cache_sentinel")?(t={promotedSpacesLimit:1,otherSpacesLimit:1,promotedSpaceKey:null},l[0]=t):t=l[0],l[1]!==c?(a={skip:c,variables:t},l[1]=c,l[2]=a):a=l[2];let{data:d}=(0,n("iLgzu").useExperimentalPromotedSpacesQuery)(a),u=!e&&!d,m=e||d?.experimentalPromotedSpaces?.nodes?.[0]?.id;l[3]!==m?(r={spaceKey:m},l[3]=m,l[4]=r):r=l[4],l[5]!==u||l[6]!==r?(i={errorPolicy:"all",skip:u,variables:r},l[5]=u,l[6]=r,l[7]=i):i=l[7];let p=i,{data:f}=(0,n("jtuBN").useQueryNoFurtherUpdateInterop)(n("7NtNc").SpaceEnabledContentTypesQuery,p),g=!!f?.space?.spaceTypeSettings?.enabledContentTypes?.isWhiteboardsEnabled,E=!!f?.space?.spaceTypeSettings?.enabledContentTypes?.isBlogsEnabled,C=!!f?.space?.spaceTypeSettings?.enabledContentTypes?.isDatabasesEnabled,h=!!f?.space?.spaceTypeSettings?.enabledContentTypes?.isEmbedsEnabled,b=!!f?.space?.spaceTypeSettings?.enabledContentTypes?.isLivePagesEnabled,_=!!f?.space?.spaceTypeSettings?.enabledContentTypes?.isFoldersEnabled;return l[8]!==E||l[9]!==C||l[10]!==_||l[11]!==b||l[12]!==h||l[13]!==g?(s={isCreateWhiteboardEnabled:g,isCreateBlogEnabled:E,isCreateDatabaseEnabled:C,isCreateSmartLinkEnabled:h,isCreateLiveDocEnabled:b,isCreateFolderEnabled:_},l[8]=E,l[9]=C,l[10]=_,l[11]=b,l[12]=h,l[13]=g,l[14]=s):s=l[14],s}:e=>{let{data:t}=(0,n("iLgzu").useExperimentalPromotedSpacesQuery)({skip:void 0!==e,variables:{promotedSpacesLimit:1,otherSpacesLimit:1,promotedSpaceKey:null}}),a={errorPolicy:"all",skip:!e&&!t,variables:{spaceKey:e||t?.experimentalPromotedSpaces?.nodes?.[0]?.id}},{data:o}=(0,n("jtuBN").useQueryNoFurtherUpdateInterop)(n("7NtNc").SpaceEnabledContentTypesQuery,a),r=!!o?.space?.spaceTypeSettings?.enabledContentTypes?.isWhiteboardsEnabled,i=!!o?.space?.spaceTypeSettings?.enabledContentTypes?.isBlogsEnabled,s=!!o?.space?.spaceTypeSettings?.enabledContentTypes?.isDatabasesEnabled,l=!!o?.space?.spaceTypeSettings?.enabledContentTypes?.isEmbedsEnabled;return{isCreateWhiteboardEnabled:r,isCreateBlogEnabled:i,isCreateDatabaseEnabled:s,isCreateSmartLinkEnabled:l,isCreateLiveDocEnabled:!!o?.space?.spaceTypeSettings?.enabledContentTypes?.isLivePagesEnabled,isCreateFolderEnabled:!!o?.space?.spaceTypeSettings?.enabledContentTypes?.isFoldersEnabled}};e.exports.useSpaceEnabledContentTypes=r}),a("7NtNc",function(e,t){let a=(0,n("eSUdr").default)`query SpaceEnabledContentTypesQuery($spaceKey:String){space(key:$spaceKey){id key spaceTypeSettings{enabledContentTypes{isBlogsEnabled isDatabasesEnabled isEmbedsEnabled isLivePagesEnabled isWhiteboardsEnabled isFoldersEnabled}}}}`;e.exports.SpaceEnabledContentTypesQuery=a}),a("eB1TF",function(e,t){let a=(0,n("1P1Tu").createStore)({initialState:{isOpen:!1,openFrom:""},actions:{setIsOpen:e=>({setState:t})=>{t({isOpen:e})},setOpenFrom:e=>({setState:t})=>{t({openFrom:e})}},name:"UniversalCreateStore"}),o=(0,n("9zUhf").createStateHook)(a),r=(0,n("9zUhf").createActionsHook)(a);e.exports.useUniversalCreateState=o,e.exports.useUniversalCreateActions=r}),a("6e99h",function(e,t){var a=n("3u0dr"),o=n("frIzR"),r=n("42omo"),i=n("56QzY"),s=n("fSDMD"),l=n("jrwID"),c=n("dAC7y"),d=n("ejGOi"),u=n("3LivB"),m=n("1OVup"),p=n("fw6FY"),f=n("4e5hr"),g=n("8hdRZ"),E=n("a26i4");let C="globalCreateContentPopover",h=(0,n("cgtv4").defineMessages)({moreFromAtlassian:{id:"create-blank-fabric-page.universal-create.suggestions",defaultMessage:"Suggestions"}}),b=(0,a.isReactCompilerActiveV1)()?function(e,t,a){let r,b,_,I,y,S,v,T,A,w,N,R,k,x,O,L,P=(0,o.c)(77),[M]=(0,n("ep3mz").usePageSpaceKey)(),[D]=(0,n("ep3mz").usePageContentId)(),{createAnalyticsEvent:U}=(0,n("inPa6").useAnalyticsEvents)(),F=(0,n("dPJCf").useRouteDataRef)(),B=(0,n("de2j9").useIsEditorPage)(),j=(0,n("3jwuS").useIsCurrentPageLive)(),{isRovoLLMEnabled:V,accessStatus:G,isLoggedIn:H}=(0,n("bQm3c").useSessionData)();P[0]!==U||P[1]!==j||P[2]!==B||P[3]!==a||P[4]!==F?(r=(e,t)=>{U({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:e,source:C,attributes:{navdexPointType:i.END,isOnEditRoute:B,currentRouteName:F?.current?.routeName,currentRouteIsLive:j,openFrom:a,...t}}}).fire()},P[0]=U,P[1]=j,P[2]=B,P[3]=a,P[4]=F,P[5]=r):r=P[5];let K=r;P[6]!==t||P[7]!==K?(b=(e,n)=>{K(e,n),t?.()},P[6]=t,P[7]=K,P[8]=b):b=P[8];let W=b,{isCreateWhiteboardEnabled:q,isCreateBlogEnabled:z,isCreateLiveDocEnabled:Y,isCreateDatabaseEnabled:Q,isCreateSmartLinkEnabled:X}=(0,n("7EIq6").useSpaceEnabledContentTypes)(M),{canCreateSpace:J}=(0,n("1KBSi").useCanCreateSpace)(),Z=(0,s.useIsCreateMenuLoomRecorderEntryPointEnabled)();P[9]!==D||P[10]!==W||P[11]!==M?(_={source:"globalCreateDropdown-liveDoc",parentId:D,spaceKey:M,onClick:W},P[9]=D,P[10]=W,P[11]=M,P[12]=_):_=P[12];let ee=(0,l.useLiveDocItem)(_);P[13]!==D||P[14]!==W||P[15]!==M?(I={source:"globalCreateDropdown-page",parentId:D,spaceKey:M,onClick:W},P[13]=D,P[14]=W,P[15]=M,P[16]=I):I=P[16];let et=(0,c.usePageItem)(I);P[17]!==D||P[18]!==W||P[19]!==M?(y={source:"globalCreateDropdown-whiteboard",parentId:D,spaceKey:M,onClick:W},P[17]=D,P[18]=W,P[19]=M,P[20]=y):y=P[20];let en=(0,d.useWhiteboardItem)(y);P[21]!==D||P[22]!==W||P[23]!==M?(S={source:"globalCreateDropdown-database",parentId:D,spaceKey:M,onClick:W},P[21]=D,P[22]=W,P[23]=M,P[24]=S):S=P[24];let ea=(0,u.useDatabaseItem)(S);P[25]!==D||P[26]!==W||P[27]!==M?(v={source:"globalCreateDropdown-blog",parentId:D,spaceKey:M,onClick:W},P[25]=D,P[26]=W,P[27]=M,P[28]=v):v=P[28];let eo=(0,m.useBlogItem)(v);P[29]!==D||P[30]!==W||P[31]!==M?(T={source:"globalCreateDropdown-smartLinkEmbed",parentId:D,spaceKey:M,onClick:W},P[29]=D,P[30]=W,P[31]=M,P[32]=T):T=P[32];let er=(0,p.useEmbedItem)(T);P[33]!==D||P[34]!==e||P[35]!==W||P[36]!==M?(A={source:"globalCreateDropdown-smartLinkEmbed",parentId:D,spaceKey:M,onClick:W,flags:e},P[33]=D,P[34]=e,P[35]=W,P[36]=M,P[37]=A):A=P[37];let ei=(0,g.useLoomItem)(A);P[38]!==D||P[39]!==W||P[40]!==M?(w={source:C,parentId:D,spaceKey:M,onClick:W},P[38]=D,P[39]=W,P[40]=M,P[41]=w):w=P[41];let es=(0,f.useSpaceItem)(w);P[42]===Symbol.for("react.memo_cache_sentinel")?(N=(0,n("6mKj3").expValEquals)("platform_use_llm_space_recommendations","isEnabled",!0),P[42]=N):N=P[42],P[43]!==W||P[44]!==a||P[45]!==M?(R={source:"globalCreateDropdown-smartCreate",spaceKey:M,onClick:W,openFrom:a,excludeContext:N},P[43]=W,P[44]=a,P[45]=M,P[46]=R):R=P[46];let el=(0,E.useAISmartCreateItem)(R),{isWhiteboardFeatureEnabled:ec}=(0,n("kDja4").useIsWhiteboardFeatureEnabled)();P[47]!==ec?(k=ec("whiteboardOptOut"),P[47]=ec,P[48]=k):k=P[48];let ed=k;P[49]!==ec?(x=ec("whiteboardsEnabled"),P[49]=ec,P[50]=x):x=P[50];let eu=x,em=!ed&&eu;P[51]===Symbol.for("react.memo_cache_sentinel")?(O=(0,n("yuLaV").isContentTypeEnabledInCurrentEnv)("database")&&!(0,n("9wGTI").fg)("confluence_frontend_databases_opt-out"),P[51]=O):O=P[51];let ep=O,ef=G===n("d9tcB").AccessStatus.ANONYMOUS_ACCESS||!H;P[52]!==eo||P[53]!==J||P[54]!==ea||P[55]!==er||P[56]!==ef||P[57]!==z||P[58]!==Q||P[59]!==Y||P[60]!==X||P[61]!==q||P[62]!==V||P[63]!==ee||P[64]!==et||P[65]!==el||P[66]!==es||P[67]!==en||P[68]!==em?(L={items:[...V&&!ef&&(0,n("9wGTI").fg)("aifc_create_enabled")?[el]:[],...Y?[ee]:[],et,...q&&em?[en]:[],...Q&&ep?[ea]:[],...z?[eo]:[],...X?[er]:[],...J?[es]:[]]},P[52]=eo,P[53]=J,P[54]=ea,P[55]=er,P[56]=ef,P[57]=z,P[58]=Q,P[59]=Y,P[60]=X,P[61]=q,P[62]=V,P[63]=ee,P[64]=et,P[65]=el,P[66]=es,P[67]=en,P[68]=em,P[69]=L):L=P[69];let eg=[L],{formatMessage:eE}=(0,n("8C5kA").default)();if(X&&Z){let e,t,n;P[70]!==eE?(e=eE(h.moreFromAtlassian),P[70]=eE,P[71]=e):e=P[71],P[72]!==ei?(t=[ei],P[72]=ei,P[73]=t):t=P[73],P[74]!==e||P[75]!==t?(n={heading:e,items:t},P[74]=e,P[75]=t,P[76]=n):n=P[76],eg.push(n)}return eg}:function(e,t,a){let[o]=(0,n("ep3mz").usePageSpaceKey)(),[b]=(0,n("ep3mz").usePageContentId)(),{createAnalyticsEvent:_}=(0,n("inPa6").useAnalyticsEvents)(),I=(0,n("dPJCf").useRouteDataRef)(),y=(0,n("de2j9").useIsEditorPage)(),S=(0,n("3jwuS").useIsCurrentPageLive)(),{isRovoLLMEnabled:v,accessStatus:T,isLoggedIn:A}=(0,n("bQm3c").useSessionData)(),w=(0,r.useCallback)((e,t)=>{_({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:e,source:C,attributes:{navdexPointType:i.END,isOnEditRoute:y,currentRouteName:I?.current?.routeName,currentRouteIsLive:S,openFrom:a,...t}}}).fire()},[_,y,I,S,a]),N=(0,r.useCallback)((e,n)=>{w(e,n),t?.()},[w,t]),{isCreateWhiteboardEnabled:R,isCreateBlogEnabled:k,isCreateLiveDocEnabled:x,isCreateDatabaseEnabled:O,isCreateSmartLinkEnabled:L}=(0,n("7EIq6").useSpaceEnabledContentTypes)(o),{canCreateSpace:P}=(0,n("1KBSi").useCanCreateSpace)(),M=(0,s.useIsCreateMenuLoomRecorderEntryPointEnabled)(),D=(0,l.useLiveDocItem)({source:"globalCreateDropdown-liveDoc",parentId:b,spaceKey:o,onClick:N}),U=(0,c.usePageItem)({source:"globalCreateDropdown-page",parentId:b,spaceKey:o,onClick:N}),F=(0,d.useWhiteboardItem)({source:"globalCreateDropdown-whiteboard",parentId:b,spaceKey:o,onClick:N}),B=(0,u.useDatabaseItem)({source:"globalCreateDropdown-database",parentId:b,spaceKey:o,onClick:N}),j=(0,m.useBlogItem)({source:"globalCreateDropdown-blog",parentId:b,spaceKey:o,onClick:N}),V=(0,p.useEmbedItem)({source:"globalCreateDropdown-smartLinkEmbed",parentId:b,spaceKey:o,onClick:N}),G=(0,g.useLoomItem)({source:"globalCreateDropdown-smartLinkEmbed",parentId:b,spaceKey:o,onClick:N,flags:e}),H=(0,f.useSpaceItem)({source:C,parentId:b,spaceKey:o,onClick:N}),K=(0,E.useAISmartCreateItem)({source:"globalCreateDropdown-smartCreate",spaceKey:o,onClick:N,openFrom:a,excludeContext:(0,n("6mKj3").expValEquals)("platform_use_llm_space_recommendations","isEnabled",!0)}),{isWhiteboardFeatureEnabled:W}=(0,n("kDja4").useIsWhiteboardFeatureEnabled)(),q=W("whiteboardOptOut"),z=W("whiteboardsEnabled"),Y=(0,n("yuLaV").isContentTypeEnabledInCurrentEnv)("database")&&!(0,n("9wGTI").fg)("confluence_frontend_databases_opt-out"),Q=T===n("d9tcB").AccessStatus.ANONYMOUS_ACCESS||!A,X=[{items:[...v&&!Q&&(0,n("9wGTI").fg)("aifc_create_enabled")?[K]:[],...x?[D]:[],U,...R&&!q&&z?[F]:[],...O&&Y?[B]:[],...k?[j]:[],...L?[V]:[],...P?[H]:[]]}],{formatMessage:J}=(0,n("8C5kA").default)();return L&&M&&X.push({heading:J(h.moreFromAtlassian),items:[G]}),X};e.exports.useMenuItems=b}),a("1KBSi",function(e,t){var a=n("j1Ss3");e.exports.useCanCreateSpace=()=>{let{isLicensed:e}=(0,n("bQm3c").useSessionData)(),{data:t}=(0,a.useQuery)(n("3TUla").CreateSpaceQuery,{skip:!e});return{canCreateSpace:!!t?.user?.confluence?.operations.some(e=>e?.operation==="create_space")}}}),a("fSDMD",function(t,a){var o=n("3u0dr"),r=n("frIzR"),i=n("42omo"),s=n("9uAPw");let l=(0,n("cgtv4").defineMessages)({openingLoomRecorder:{id:"create-blank-fabric-page.create.content.loom-video.opening-loom-recorder",defaultMessage:"Opening Loom recorder"},loomVideoTitle:{id:"create-blank-fabric-page.create.content.loom-video.title",defaultMessage:"Loom video"}}),c=(0,n("ecnYn").xcss)({display:"flex",flexShrink:0}),d=(0,o.isReactCompilerActiveV1)()?()=>{let e,t=(0,r.c)(1),{entryPointVariant:a}=(0,n("4R3wx").useLoomEntryPointVariant)();return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=["BETA","CO_USE","CROSS_JOIN"],t[0]=e):e=t[0],e.includes(a)}:()=>{let{entryPointVariant:e}=(0,n("4R3wx").useLoomEntryPointVariant)();return["BETA","CO_USE","CROSS_JOIN"].includes(e)},u=(0,o.isReactCompilerActiveV1)()?t=>{let a,o,d,u,m,p,f,g,E,C=(0,r.c)(40),{entryPointLocation:h,flags:b,onClick:_,onRecorderOpenComplete:I,source:y,spaceKey:S,parentId:v,withFallback:T,isDisabled:A,location:w}=t,N=void 0!==T&&T,R=void 0!==A&&A,k=void 0===w?"":w,x=(0,n("8C5kA").default)(),O=(0,n("7hpmn").useIsReducedMotion)(),{push:L}=(0,n("dPJCf").useRouteActions)(),{createAnalyticsEvent:P}=(0,n("inPa6").useAnalyticsEvents)(),M=(0,n("7QM6o").useSpaceId)(),[D,U]=(0,i.useState)(!0);C[0]===Symbol.for("react.memo_cache_sentinel")?(a={source:"record-loom-popover-item"},C[0]=a):a=C[0];let{enforceStorageLimit:F,shouldBlockCreate:B}=(0,n("lqy4C").useHardStorageEnforcement)(a),j=(0,i.useRef)(!1);C[1]!==h||C[2]!==b?(o={entryPointLocation:h,flags:b},C[1]=h,C[2]=b,C[3]=o):o=C[3];let{openLoomRecorder:V,isLoomRecorderInitialized:G,isOpeningRecorder:H,hasRecordingAccess:K}=(0,s.useLoomRecorderEntryPoint)(o);C[4]!==K||C[5]!==G?(d=G&&K&&(0,n("9wGTI").fg)("confluence_m25_onboarding_spotlights"),C[4]=K,C[5]=G,C[6]=d):d=C[6];let W=d,[q,z]=(0,n("8fj5s").useSkippableCoordination)("cc-loom-onboarding-spotlight-creation",!W||B);C[7]!==H||C[8]!==I?(u=()=>{j.current&&!H&&I?.(),j.current=H},m=[H,I],C[7]=H,C[8]=I,C[9]=u,C[10]=m):(u=C[9],m=C[10]),(0,i.useEffect)(u,m),C[11]!==q||C[12]!==z?(p=()=>{q&&(U(!1),z())},C[11]=q,C[12]=z,C[13]=p):p=C[13];let Y=p;C[14]!==P||C[15]!==k||C[16]!==_||C[17]!==V||C[18]!==v||C[19]!==L||C[20]!==y||C[21]!==M||C[22]!==S||C[23]!==N?(f=()=>{_("createLoomPopoverItem"),V({onInsert:e=>{L((0,n("bZSO8").buildCreationLink)({contentType:"smartLinkEmbed",parentPageId:v,...N&&{withFallback:N},smartLinkCreateSource:"loomRecordSDK",smartLinkEmbedUrl:e,source:y,spaceKey:S})),(0,n("jojoK").getHashedLoomVideoIdFromUrl)(e).then(e=>{P({type:"sendTrackEvent",data:{action:"insertVideo",actionSubject:"loom",source:y,objectType:"embed",containerType:"space",containerId:M,attributes:{location:"contentTreeItem",video_id:e}}}).fire()})},insertButtonText:"Insert video",location:k})},C[14]=P,C[15]=k,C[16]=_,C[17]=V,C[18]=v,C[19]=L,C[20]=y,C[21]=M,C[22]=S,C[23]=N,C[24]=f):f=C[24];let Q=f;C[25]!==F||C[26]!==Q?(g=F(Q),C[25]=F,C[26]=Q,C[27]=g):g=C[27];let X=g;C[28]!==X||C[29]!==x||C[30]!==R||C[31]!==G||C[32]!==H||C[33]!==O?(E=G?e(i).createElement(n("5Krdf").MenuItemWrapper,{isDisabled:R},e(i).createElement(n("h7OOD").LoadingPopoverItem,{iconBefore:e(i).createElement(n("5Krdf").ContentIconWrapper,null,e(i).createElement(n("6f0Oj").default,{xcss:c},e(i).createElement(e(n("2Yaht")),{label:"",color:"var(--ds-icon-subtle, #505258)"}))),isLoading:H,loadingLabel:x.formatMessage(l.openingLoomRecorder),onClick:X,testId:"create-menu-button-item",isDisabled:R},e(i).createElement(n("5Krdf").TitleContainer,null,e(i).createElement(n("5Krdf").ContentTitle,null,e(i).createElement(n("gtD4K").default,l.loomVideoTitle))))):e(i).createElement(n("5Krdf").MenuItemWrapper,{isDisabled:R},e(i).createElement(n("cQDYl").default,{hasIcon:!0,isShimmering:!O,testId:"skeleton-create-menu-button-item"})),C[28]=X,C[29]=x,C[30]=R,C[31]=G,C[32]=H,C[33]=O,C[34]=E):E=C[34];let J=E;if(W&&q&&D){let t;return C[35]!==X||C[36]!==Y||C[37]!==J||C[38]!==y?(t=e(i).createElement(n("lKj5W").RecordLoomPopoverItemSpotlight,{onRecord:X,onClose:Y,source:y},J),C[35]=X,C[36]=Y,C[37]=J,C[38]=y,C[39]=t):t=C[39],t}return J}:({entryPointLocation:t,flags:a,onClick:o,onRecorderOpenComplete:r,source:d,spaceKey:u,parentId:m,withFallback:p=!1,isDisabled:f=!1,location:g=""})=>{let E=(0,n("8C5kA").default)(),C=(0,n("7hpmn").useIsReducedMotion)(),{push:h}=(0,n("dPJCf").useRouteActions)(),{createAnalyticsEvent:b}=(0,n("inPa6").useAnalyticsEvents)(),_=(0,n("7QM6o").useSpaceId)(),[I,y]=(0,i.useState)(!0),{enforceStorageLimit:S,shouldBlockCreate:v}=(0,n("lqy4C").useHardStorageEnforcement)({source:"record-loom-popover-item"}),T=(0,i.useRef)(!1),{openLoomRecorder:A,isLoomRecorderInitialized:w,isOpeningRecorder:N,hasRecordingAccess:R}=(0,s.useLoomRecorderEntryPoint)({entryPointLocation:t,flags:a}),k=w&&R&&(0,n("9wGTI").fg)("confluence_m25_onboarding_spotlights"),[x,O]=(0,n("8fj5s").useSkippableCoordination)("cc-loom-onboarding-spotlight-creation",!k||v);(0,i.useEffect)(()=>{T.current&&!N&&r?.(),T.current=N},[N,r]);let L=(0,i.useCallback)(()=>{x&&(y(!1),O())},[O,x]),P=S((0,i.useCallback)(()=>{o("createLoomPopoverItem"),A({onInsert:e=>{h((0,n("bZSO8").buildCreationLink)({contentType:"smartLinkEmbed",parentPageId:m,...p&&{withFallback:p},smartLinkCreateSource:"loomRecordSDK",smartLinkEmbedUrl:e,source:d,spaceKey:u})),(0,n("jojoK").getHashedLoomVideoIdFromUrl)(e).then(e=>{b({type:"sendTrackEvent",data:{action:"insertVideo",actionSubject:"loom",source:d,objectType:"embed",containerType:"space",containerId:_,attributes:{location:"contentTreeItem",video_id:e}}}).fire()})},insertButtonText:"Insert video",location:g})},[o,A,m,h,d,u,p,b,_,g])),M=w?e(i).createElement(n("5Krdf").MenuItemWrapper,{isDisabled:f},e(i).createElement(n("h7OOD").LoadingPopoverItem,{iconBefore:e(i).createElement(n("5Krdf").ContentIconWrapper,null,e(i).createElement(n("6f0Oj").default,{xcss:c},e(i).createElement(e(n("2Yaht")),{label:"",color:"var(--ds-icon-subtle, #505258)"}))),isLoading:N,loadingLabel:E.formatMessage(l.openingLoomRecorder),onClick:P,testId:"create-menu-button-item",isDisabled:f},e(i).createElement(n("5Krdf").TitleContainer,null,e(i).createElement(n("5Krdf").ContentTitle,null,e(i).createElement(n("gtD4K").default,l.loomVideoTitle))))):e(i).createElement(n("5Krdf").MenuItemWrapper,{isDisabled:f},e(i).createElement(n("cQDYl").default,{hasIcon:!0,isShimmering:!C,testId:"skeleton-create-menu-button-item"}));return k&&x&&I?e(i).createElement(n("lKj5W").RecordLoomPopoverItemSpotlight,{onRecord:P,onClose:L,source:d},M):M},m=(0,n("7aRa9").withFlags)(u);t.exports.useIsCreateMenuLoomRecorderEntryPointEnabled=d,t.exports.RecordLoomPopoverItem=m}),a("cQDYl",function(e,t){var a=n("l998X");n("42omo");let o={root:"_1rjcze3t _18zrv47k _1e0c1txw _1tke1ylp _4cvr1h6o _lcxvglyw _14mj53f4 _1qdgrdoj _1hfkizff _aetrb3bt _3mxot94y",defaultWidth:"_sf1e1n8h _4rfy1ssb _baud1nrf _mr7o1vuk _69tq19wn _kt4d1n05",customWidth:"_11w8rzut",beforeElement:"_1mp4gktf _kfgtgktf _7bjqidpf _1rusizff _1kt9b3bt _1mbqdlk8 _1rhxv77o",avatar:"_rfx31rr0",icon:"_rfx3fajl",sideNavSkeleton:"_18zru2gc _kfgt1k8s _1mbqpxbi _1mp41k8s"};e.exports.default=({hasAvatar:e,hasIcon:t,isShimmering:r=!1,isSideNavSkeleton:i=!1,testId:s,width:l,xcss:c})=>(0,a.jsx)("div",{className:(0,n("gMc0m").default)([o.root,(e||t)&&o.beforeElement,e&&o.avatar,t&&o.icon,l?o.customWidth:o.defaultWidth,i&&o.sideNavSkeleton,r&&"",r&&"_unfq1yy8 _9nev1yy8 _kwc012o8 _joxl12o8 _18f312c5 _evp612c5 _19oh1254 _10881254 _18lgp3kn _zo24p3kn _1hfkizff _1rusizff",c]),style:{"--width":l},"data-testid":s})}),a("jojoK",function(e,t){let n=RegExp("^https:\\/\\/(.*?\\.)?(loom\\..*?\\/(share|embed))\\/([a-zA-Z0-9-]*-)?(?<videoId>[a-f0-9]{32})");async function a(e){if(window?.crypto?.subtle?.digest){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await window.crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("")}return""}async function o(e){try{let t=function(e){let t=e.match(n);return t?.groups?.videoId}(e);if(t){let e=atob("c2U1UTwgekZlVEYkP1MzRno1QmV5WXBoSE13SHg8RWpjM10saHJQZmhPMVVHKHM=")+t,n=await a(e);return n?`vidhash-${n}`:""}return""}catch(e){return""}}e.exports.getHashedLoomVideoIdFromUrl=o}),a("lKj5W",function(t,a){var o=n("42omo"),r=n("kEpoS");let i=(0,n("cgtv4").defineMessages)({body:{id:"loom-onboarding.create.content.spotlight.body",defaultMessage:"Explain the context for this page once with shareable, async video."},globalCreateBody:{id:"loom-onboarding.create.content.globalCreate.spotlight.body",defaultMessage:"Record a walkthrough of this page to share updates and progress."},dismissButton:{id:"loom-onboarding.create.content.spotlight.dismissButton",defaultMessage:"Dismiss"},recordButton:{id:"loom-onboarding.create.content.spotlight.recordButton",defaultMessage:"Record"}}),s=(0,o.forwardRef)(({as:t="div",style:a,...r},i)=>e(o).createElement(t,{...r,style:a,ref:i,className:(0,n("gMc0m").default)(["_2rko1qi0 _16qs1peg",r.className])})),l="recordLoomGAPopoverItemSpotlight";t.exports.RecordLoomPopoverItemSpotlight=({children:t,onRecord:a,onClose:c,source:d,shouldWatchTarget:u})=>{let m=(0,n("7hpmn").useIsReducedMotion)(),p=(0,n("8C5kA").default)(),{createAnalyticsEvent:f}=(0,n("inPa6").useAnalyticsEvents)(),g=(0,o.useRef)(null),E=(0,o.useRef)(!1),C=(0,o.useCallback)(()=>{E.current||(E.current=!0,c?.())},[c]);(0,o.useEffect)(()=>()=>{C()},[C]),(0,o.useEffect)(()=>{f({type:"sendScreenEvent",data:{name:l,attributes:{nudgeSource:d}}}).fire()},[]);let h=(0,o.useCallback)(()=>{f({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"dismiss",source:l,attributes:{nudgeSource:d}}}).fire(),C()},[C,f,d]),b=(0,o.useCallback)(()=>{f({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"record",source:l,attributes:{nudgeSource:d}}}).fire(),a?.(),C()},[a,C,f,d]);return e(o).createElement(n("6cnUO").default,{onBlanketClicked:h},e(o).createElement(n("5izcQ").default,{name:"create-menu-item-loom-spotlight"},e(o).createElement(s,{ref:g},t)),e(o).createElement(n("2Fndw").default,null,e(o).createElement(n("5RBJ9").default,{target:"create-menu-item-loom-spotlight",targetBgColor:"var(--ds-text-inverse, #FFFFFF)",pulse:!m,targetRadius:4,dialogPlacement:"right bottom",dialogWidth:275,shouldWatchTarget:u,image:e(r),actions:[{onClick:b,text:p.formatMessage(i.recordButton)},{onClick:h,text:p.formatMessage(i.dismissButton)}]},"globalCreateDropdown-smartLinkEmbed"==d?e(o).createElement(n("gtD4K").default,i.globalCreateBody):e(o).createElement(n("gtD4K").default,i.body))))}}),a("kEpoS",function(e,t){e.exports=new URL("createSpotlightImage.f64dc988.png",import.meta.url).toString()}),a("4R3wx",function(e,t){e.exports.useLoomEntryPointVariant=()=>{let e=(0,n("cYe4v").useIsLoomBetaEnabled)(),t=(0,n("eNjW4").useIsLoomDisabled)(),a=(0,n("932VV").useIsLoomEntryPointsEnabled)(),o=!a||e||t||!(0,n("9wGTI").fg)("confluence_frontend_loom_cross_sell"),r=(0,n("dpJII").useLoomPermissionStatus)({skip:o||!!window.__SSR_LOOM_ENTRY_POINT__});return window.__SSR_LOOM_ENTRY_POINT__?window.__SSR_LOOM_ENTRY_POINT__:t||!a?{entryPointVariant:"DISABLED"}:e?{entryPointVariant:"BETA"}:!(0,n("9wGTI").fg)("confluence_frontend_loom_cross_sell")||"CROSS_FLOW"===r.entryPointVariant&&(0,n("9wGTI").fg)("confluence_frontend_loom_cross_flow_ads_opt_out")?{entryPointVariant:"DISABLED"}:r}}),a("932VV",function(e,t){var a=n("j1Ss3");e.exports.useIsLoomEntryPointsEnabled=()=>{let{accessStatus:e,activationId:t,cloudId:o}=(0,n("bQm3c").useSessionData)(),r=e!==n("d9tcB").AccessStatus.LICENSED_ADMIN_ACCESS&&e!==n("d9tcB").AccessStatus.LICENSED_USE_ACCESS,{data:i,error:s,loading:l}=(0,a.useQuery)((0,n("eSUdr").default)`query useIsLoomEntryPointsEnabledQuery($cloudId:ID!){confluence_loomEntryPoints(cloudId:$cloudId){isLoomEntryPointsEnabled}}`,{variables:{cloudId:o},context:{headers:{...(0,n("i8Ofl").createAtlAttributionHeader)(o,t)}},skip:r||!!window.__SSR_LOOM_ENTRY_POINT__});if(!window.__SSR_LOOM_ENTRY_POINT__){if(s)return(0,n("7Sm4c").markErrorAsHandled)(s),!0;if(!l&&i)return i?.confluence_loomEntryPoints?.isLoomEntryPointsEnabled}}}),a("i8Ofl",function(e,t){let n=(e,t)=>`ari:cloud:confluence:${e}:workspace/${t}`;e.exports.createAtlAttributionHeader=(e,t)=>({"atl-attribution":JSON.stringify({atlWorkspaceId:n(e,t),tenantId:e,product:"Confluence Cloud",service:"cc-fe-bifrost"})})}),a("cYe4v",function(e,t){e.exports.useIsLoomBetaEnabled=()=>{let{accessStatus:e}=(0,n("bQm3c").useSessionData)(),t=e===n("d9tcB").AccessStatus.LICENSED_ADMIN_ACCESS||e===n("d9tcB").AccessStatus.LICENSED_USE_ACCESS,a=(0,n("8dwdz").isMobileUserAgent)()||(0,n("8dwdz").shouldShowMobileWeb)();return t&&!a&&(0,n("9wGTI").fg)("confluence_loom_beta_enabled")}}),a("dpJII",function(e,t){var a=n("42omo");e.exports.useLoomPermissionStatus=({skip:e=!1}={})=>{let{cloudId:t,userId:o,environment:r}=(0,n("bQm3c").useSessionData)(),[{loomEntryPointVariant:i},{initLoomEntryPointVariant:s}]=(0,n("5CUwy").useLoomEntryPointVariantState)(),{entryPointVariant:l,loading:c}=i;return((0,a.useEffect)(()=>{!e&&("NONE"!==l||c||s(t,o,r))},[t,s,c,l,e,o,r]),"NONE"===l)?{entryPointVariant:"NONE",loading:!0}:i}}),a("5CUwy",function(e,t){var a,o,r=((a={}).PROVISIONED="provisioned",a.NOT_PROVISIONED="not-provisioned",a.ERROR="error,",a),i=((o={}).PERMITTED="permitted",o.NOT_PERMITTED="not-permitted",o.ERROR="error,",o);let s=async()=>{try{let e=await (0,n("hp2SH").getApolloClient)().query({query:n("4zCDj").GetLicensedProductsQuery});return e.data.confluence_tenantContext?.licensedProducts.some(e=>"loom"===e.productKey&&e.licenseStatus===n("bxT4f").LicenseStatus.ACTIVE)?"provisioned":"not-provisioned"}catch(e){return(0,n("5ZqQS").getMonitoringClient)().submitError(e,{attribution:n("3IBnw").Attribution.CONTENT_TYPES}),(0,n("7Sm4c").markErrorAsHandled)(e),"error,"}},l=async(e,t,a)=>{let o=`ari:cloud:loom::site/${e}`;try{let e;{let t=await (0,n("8J8QJ").postJson)("/gateway/api/permissions/permitted",{permissionId:"write",resourceId:o,checkProductStatus:!0});e=t?.permitted}return e?"permitted":"not-permitted"}catch(e){return(0,n("5ZqQS").getMonitoringClient)().submitError(e,{attribution:n("3IBnw").Attribution.CONTENT_TYPES}),(0,n("7Sm4c").markErrorAsHandled)(e),"error,"}},c={loomEntryPointVariant:window.__SSR_LOOM_ENTRY_POINT__?window.__SSR_LOOM_ENTRY_POINT__:{entryPointVariant:"NONE"}},d=(0,n("1P1Tu").createStore)({initialState:c,actions:{initLoomEntryPointVariant:(e,t,n)=>async({getState:a,setState:o})=>{if("NONE"!==a().loomEntryPointVariant.entryPointVariant)return;o({loomEntryPointVariant:{entryPointVariant:"CROSS_FLOW",loading:!0}});let r=await s();if("not-provisioned"===r)return void o({loomEntryPointVariant:{entryPointVariant:"CROSS_FLOW"}});if("error,"===r)return void o({loomEntryPointVariant:{entryPointVariant:"CROSS_FLOW",error:!0}});o({loomEntryPointVariant:{entryPointVariant:"CROSS_JOIN",loading:!0}});let i=await l(e,t,n);return"not-permitted"===i?void o({loomEntryPointVariant:{entryPointVariant:"CROSS_JOIN"}}):"error,"===i?void o({loomEntryPointVariant:{entryPointVariant:"CROSS_JOIN",error:!0}}):void o({loomEntryPointVariant:{entryPointVariant:"CO_USE"}})},crossFlowSuccessCheck:({cloudId:e,onCrossflowFailure:t,createAnalyticsEvent:a,sourceComponent:o})=>async({setState:r})=>{try{let{ok:i,tries:s}=await (0,n("8999o").waitUntil)({fn:()=>(0,n("lnyJf").fetchLicenseInformation)(e),condition:e=>e.products.loom?.state==="ACTIVE",maxTries:2,retryWait:500});(0,n("cbc8g").addUFOCustomData)({pollingTries:s,hasLoom:i}),i?(r({loomEntryPointVariant:{entryPointVariant:"CO_USE"}}),window.__SSR_LOOM_ENTRY_POINT__={entryPointVariant:"CO_USE"}):t&&t(),a({type:"sendOperationalEvent",data:{actionSubject:"confluenceLoomUtils.fetchLicenseInformation",action:"success",source:"confluenceLoomUtils",attributes:{hasLoom:i,tries:s,sourceComponent:o}}}).fire()}catch(e){t&&t(),a({type:"sendOperationalEvent",data:{actionSubject:"confluenceLoomUtils.fetchLicenseInformation",action:"fail",source:"confluenceLoomUtils",attributes:{error:e.message,sourceComponent:o}}}).fire()}}},name:"loomEntryPointVariantState"}),u=(0,n("9zUhf").createHook)(d),m=(0,n("9zUhf").createActionsHook)(d);e.exports.LoomTenantProvisionStatus=r,e.exports.LoomUserPermissionStatus=i,e.exports.getLoomUserPermissionStatus=l,e.exports.useLoomEntryPointVariantState=u,e.exports.useLoomEntryPointVariantActions=m}),a("8999o",function(e,t){let n=async({fn:e,condition:t,retryWait:n,maxTries:a})=>{let o=0;for(;;){o++;let r=await e(),i=t(r);if(o===a||i)return{ok:i,result:r,tries:o};await new Promise(e=>setTimeout(e,n))}};e.exports.waitUntil=n}),a("lnyJf",function(e,t){e.exports.fetchLicenseInformation=e=>(0,n("8J8QJ").fetchJSON)(`/gateway/api/xflow/${e}/license-information`)}),a("8J8QJ",function(e,t){e.exports.postJson=(e,t)=>{let a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return(0,n("f7B1p").cfetch)(e,a).then(e=>e.json())},e.exports.fetchJSON=e=>(0,n("f7B1p").cfetch)(e,{method:"GET",headers:{Accept:"application/json"}}).then(e=>e.json())}),a("bxT4f",function(e,t){var n,a=((n={}).ACTIVE="ACTIVE",n.SUSPENDED="SUSPENDED",n.UNLICENSED="UNLICENSED",n);e.exports.LicenseStatus=a}),a("4zCDj",function(e,t){let a=(0,n("eSUdr").default)`query GetLicensedProductsQuery{confluence_tenantContext{licensedProducts{licenseStatus productKey}}}`;e.exports.GetLicensedProductsQuery=a}),a("eNjW4",function(e,t){var a=n("5spQU");e.exports.useIsLoomDisabled=()=>{let e=(0,n("lzcvT").isFedRamp)(),t=(0,n("8dwdz").isMobileUserAgent)()||(0,n("8dwdz").shouldShowMobileWeb)(),o=(0,n("9wGTI").fg)("use_frontend_feature_encoding_sdk")?(0,a.isFeatureEnabled)("confluence","confluence-loom-integration"):!e,{accessStatus:r,isLoggedIn:i}=(0,n("bQm3c").useSessionData)(),s=r==n("d9tcB").AccessStatus.LICENSED_ADMIN_ACCESS||r==n("d9tcB").AccessStatus.LICENSED_USE_ACCESS;return!i||!s||!o||!!t}}),a("9uAPw",function(t,a){var o=n("42omo"),r=n("7dgT3");let i=(0,n("cgtv4").defineMessages)({errorTitleCannotStart:{id:"loom-utils.error-flag.title.cannot-start",defaultMessage:"We couldnt start your recording"},errorTitleRecordingAlreadyInProgress:{id:"loom-utils.error-flag.title.recording-already-in-progress",defaultMessage:"Recording already in progress"},errorTitleNotReady:{id:"loom-utils.error-flag.title.not-ready",defaultMessage:"The Loom recorder wasnt ready"},errorIncompatibleBrowser:{id:"loom-utils.error-flag.description.incompatible-browser",defaultMessage:"The browser youre currently using isnt compatible with Loom (or you could be trying to use it in private/incognito mode). <a>Which browsers are compatible?</a>"},errorThirdPartyCookieDisabled:{id:"loom-utils.error-flag.description.third-party-cookie-disabled",defaultMessage:"Check that you have third-party cookies enabled, then try again."},errorNoMediaStreamSupport:{id:"loom-utils.error-flag.description.no-media-stream-support",defaultMessage:"You might need to try a different browser. <a>Which browsers are compatible?</a>"},errorSDKNotInitialized:{id:"loom-utils.error-flag.description.sdk-not-initialized",defaultMessage:"Try to start recording again now."},errorBackendFFNotEnabledYet:{id:"loom-utils.error-flag.description.be-ff-not-enabled-yet",defaultMessage:"Loom was recently enabled. Try again in a few minutes."},errorUnexpectedAuthTokenFailure:{id:"loom-utils.error-flag.description.unexpected-auth-token-failure",defaultMessage:"Something went wrong with the Loom recorder. Try again later, or contact Atlassian Support for help."},errorLoomUserNotCreatedYet:{id:"loom-utils.error-flag.description.loom-user-not-created-yet",defaultMessage:"Loom is enabled, just give us a few minutes to set everything up. You can try recording again in a bit."},errorSDKFailedToInitialize:{id:"loom-utils.error-flag.description.sdk-failed-to-initialize",defaultMessage:"Give it a moment and then refresh to try again."},errorRecordingAlreadyInProgress:{id:"loom-utils.error-flag.description.recording-already-in-progress",defaultMessage:"Finish your current Loom video so you can start another."}}),s="https://support.loom.com/hc/en-us/articles/360020667617-loomSDK-FAQ";t.exports.useLoomRecorderEntryPoint=({entryPointLocation:t,flags:a,resetInsertFunctionOnUnmount:l=!1})=>{let c=(0,o.useContext)(n("1kHsc").ExperienceTrackerContext),{cloudId:d,environment:u}=(0,n("bQm3c").useSessionData)(),{entryPointVariant:m}=(0,n("4R3wx").useLoomEntryPointVariant)(),[p,{initLoomSDK:f}]=(0,n("jHGaM").useLoomEntryPointGlobalState)(),[g,E]=(0,o.useState)(!1),C=(0,o.useRef)(null),h=(0,o.useRef)(p);h.current=p;let{showModal:b}=(0,n("8aF6s").useDialogs)(),{createAnalyticsEvent:_}=(0,n("inPa6").useAnalyticsEvents)();return(0,o.useEffect)(()=>{("BETA"===m||"CO_USE"===m)&&f({cloudId:d,environment:u,entryPointLocation:t})},[f,d,_,u,m,t]),(0,o.useEffect)(()=>()=>{l&&C.current&&h.current.initializedLoomSDK&&(h.current.initializedLoomSDK.updateConfig({config:{insertButtonText:"Open on Loom"}}),C.current.off("insert-click"),C.current.on("insert-click",e=>{window.open(e.sharedUrl,"_blank"),c.succeed({name:n("irVI7").RECORD_LOOM_ENTRY_POINT,attributes:{inserted:!0,insertFunctionWasReset:!0}}),_({type:"sendUIEvent",data:{source:t,action:"clicked",actionSubject:"button",actionSubjectId:"insertVideoLink",attributes:{insertFunctionWasReset:!0}}}).fire()}))},[t,l,c,_]),{openLoomRecorder:(0,o.useCallback)(async l=>{if(h.current.initializedLoomSDK&&"active-recording"===h.current.initializedLoomSDK.status().state)return void a.showInfoFlag({title:e(o).createElement(n("gtD4K").default,i.errorTitleRecordingAlreadyInProgress),description:e(o).createElement(n("gtD4K").default,i.errorRecordingAlreadyInProgress)});if(c.start({name:n("irVI7").RECORD_LOOM_ENTRY_POINT,attributes:{entryPointLocation:t}}),h.current.isInitializing){a.showInfoFlag({title:e(o).createElement(n("gtD4K").default,i.errorTitleNotReady),description:e(o).createElement(n("gtD4K").default,i.errorSDKNotInitialized)}),c.abort({name:n("irVI7").RECORD_LOOM_ENTRY_POINT,reason:"SDK has not been configured yet."});return}if(h.current.isLoomSDKSupportedError){var d;let t="third-party-cookies-disabled"===(d=h.current.isLoomSDKSupportedError)?e(o).createElement(n("gtD4K").default,i.errorThirdPartyCookieDisabled):"no-media-streams-support"===d?e(o).createElement(n("gtD4K").default,{...i.errorNoMediaStreamSupport,values:{a:t=>(0,n("9wGTI").fg)("dst-a11y__replace-anchor-with-link__integrations")?e(o).createElement(n("2Nwuj").default,{href:s,target:"_blank"},t):e(o).createElement("a",{href:s,target:"_blank"},t)}}):"incompatible-browser"===d?e(o).createElement(n("gtD4K").default,{...i.errorIncompatibleBrowser,values:{a:t=>(0,n("9wGTI").fg)("dst-a11y__replace-anchor-with-link__integrations")?e(o).createElement(n("2Nwuj").default,{href:s,target:"_blank"},t):e(o).createElement("a",{href:s,target:"_blank"},t)}}):void 0;a.showInfoFlag({title:e(o).createElement(n("gtD4K").default,i.errorTitleCannotStart),description:t}),c.abort({name:n("irVI7").RECORD_LOOM_ENTRY_POINT,reason:`SDK not supported: ${h.current.isLoomSDKSupportedError}.`});return}if(!h.current.hasRecordingAccess){let t=h.current.noRecordingAccessReason;"backendFF"===t?(a.showInfoFlag({title:e(o).createElement(n("gtD4K").default,i.errorTitleCannotStart),description:e(o).createElement(n("gtD4K").default,i.errorBackendFFNotEnabledYet)}),c.abort({name:n("irVI7").RECORD_LOOM_ENTRY_POINT,reason:"loom enablement in progress"})):"not-created"===t?(a.showInfoFlag({title:e(o).createElement(n("gtD4K").default,i.errorTitleCannotStart),description:e(o).createElement(n("gtD4K").default,i.errorLoomUserNotCreatedYet)}),c.abort({name:n("irVI7").RECORD_LOOM_ENTRY_POINT,reason:"user not created yet"})):"not-mastered"===t||"not-mastered-enterprise"===t?(b(r.NonMasteredUserModalLoader,{isMasteringFlowEnabled:"not-mastered-enterprise"!==t}),c.abort({name:n("irVI7").RECORD_LOOM_ENTRY_POINT,reason:"Does not have access to record looms from Confluence.",attributes:{noRecordingAccessReason:t}})):(a.showInfoFlag({title:e(o).createElement(n("gtD4K").default,i.errorTitleCannotStart),description:e(o).createElement(n("gtD4K").default,i.errorUnexpectedAuthTokenFailure)}),c.fail({name:n("irVI7").RECORD_LOOM_ENTRY_POINT,error:h.current.authTokenError||Error("unexpected error from Loom auth token or Loom user status")}));return}if(!h.current.initializedLoomSDK||!h.current.initializedLoomSDK.status().success){a.showInfoFlag({title:e(o).createElement(n("gtD4K").default,i.errorTitleCannotStart),description:e(o).createElement(n("gtD4K").default,i.errorSDKFailedToInitialize)}),c.fail({name:n("irVI7").RECORD_LOOM_ENTRY_POINT,error:h.current.initializedLoomSDKError||Error("Loom SDK did not successfully initialize."),attributes:{loomSDKSuccessStatus:h.current.initializedLoomSDK?.status()?.success}});return}n("cl98v").OPEN_LOOM_RECORDER_SDK_INTERACTION_METRIC.start(),E(!0),_({type:"sendTrackEvent",data:{source:t,action:"opened",actionSubject:"loomSdkRecorder"}}).fire();let{configureButton:u,updateConfig:m}=h.current.initializedLoomSDK,p=u();m({config:{insertButtonText:l?l.insertButtonText:void 0,entryPointName:t}}),l&&p.on("insert-click",async e=>{l.onInsert(e.sharedUrl,e),c.succeed({name:n("irVI7").RECORD_LOOM_ENTRY_POINT,attributes:{inserted:!0}}),_({type:"sendUIEvent",data:{source:t,action:"clicked",actionSubject:"button",actionSubjectId:"insertVideoLink",attributes:{insertFunctionWasReset:!1}}}).fire()}),p.on("start",()=>{_({type:"sendUIEvent",data:{source:t,action:"clicked",actionSubject:"button",actionSubjectId:"loomRecordingStart"}}).fire()}),p.on("recording-start",()=>{_({type:"sendTrackEvent",data:{source:t,action:"started",actionSubject:"loomRecording"}}).fire()}),p.on("cancel",()=>{_({type:"sendUIEvent",data:{source:t,action:"clicked",actionSubject:"button",actionSubjectId:"loomRecordingCancel"}}).fire()}),p.on("complete",()=>{_({type:"sendUIEvent",data:{source:t,action:"clicked",actionSubject:"button",actionSubjectId:"loomRecordingComplete",attributes:{location:l?.location}}}).fire()}),p.on("recording-complete",()=>{_({type:"sendTrackEvent",data:{source:t,action:"completed",actionSubject:"loomRecording",attributes:{location:l?.location}}}).fire()}),p.on("upload-complete",()=>{_({type:"sendTrackEvent",data:{source:t,action:"uploaded",actionSubject:"loomRecording"}}).fire()}),p.on("lifecycle-update",e=>{"pre-recording"===e?(n("cl98v").OPEN_LOOM_RECORDER_SDK_INTERACTION_METRIC.stop(),E(!1)):"closed"===e?(C.current=null,c.succeed({name:n("irVI7").RECORD_LOOM_ENTRY_POINT,attributes:{closed:!0,insertFunctionDefined:void 0!==l}})):"cascaded"===e&&c.succeed({name:n("irVI7").RECORD_LOOM_ENTRY_POINT,attributes:{cascaded:!0,entryPointLocation:t}})}),p.openPreRecordPanel(),C.current=p},[t,c,a,b,_]),isOpeningRecorder:g,isLoomRecorderInitialized:!h.current.isInitializing,hasRecordingAccess:h.current.hasRecordingAccess}}}),a("7dgT3",function(e,t){let a=(0,n("jmjWc").LoadableLazy)({__loadable_id__:"n2Ktr",name:"NonMasteredUserModalLoader",loader:async()=>(await n("g2fKo")).NonMasteredUserModal});e.exports.NonMasteredUserModalLoader=a}),a("g2fKo",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("hhss7"),a("np2ZB")]).then(()=>n("6i2Ga"))}),a("cl98v",function(e,t){let a=(0,n("lSOAM").createInteractionMetric)({key:n("jIOyV").OPEN_LOOM_RECORDER_SDK_INTERACTION}),o=(0,n("lSOAM").createInteractionMetric)({key:n("jIOyV").INITIALIZE_LOOM_RECORDER_SDK_INTERACTION});e.exports.OPEN_LOOM_RECORDER_SDK_INTERACTION_METRIC=a,e.exports.INITIALIZE_LOOM_RECORDER_SDK_INTERACTION_METRIC=o}),a("jIOyV",function(e,t){e.exports.MORE_ACTIONS_DROPDOWN_INTERACTION="more-actions-dropdown",e.exports.MOVE_PAGE_DIALOG_INTERACTION="move-page-dialog",e.exports.CONTENT_ANALYTICS_DIALOG_INTERACTION="content-analytics-dialog",e.exports.CONTENT_ANALYTICS_DIALOG_MENTIONS_TAB_INTERACTION="content-analytics-dialog-mentions-tab",e.exports.RESTRICTIONS_DIALOG_INTERACTION="restrictions-dialog",e.exports.QUICK_SUMMARY_DIALOG_INTERACTION="quick-summary-dialog",e.exports.OPEN_LOOM_RECORDER_SDK_INTERACTION="open-loom-recorder-sdk",e.exports.INITIALIZE_LOOM_RECORDER_SDK_INTERACTION="initialize-loom-recorder-sdk",e.exports.COMMENTS_SUMMARY_COMPONENT_INTERACTION="comments_summary_component",e.exports.CREATE_SPACE_DRAWER_INTERACTION="create-space-drawer",e.exports.VIEW_AI_PRESENTATION_INTERACTION="ai-presentation-modal",e.exports.AI_CONTENT_CATCHUP_INTERACTION="ai-content-catchup",e.exports.AI_AUDIO_BRIEFING_INTERACTION="ai-audio-briefing"}),a("jHGaM",function(e,t){let a=(0,n("1P1Tu").createStore)({initialState:{isInitializing:!0,initializedLoomSDK:null,_hasLoomSDKInitializationStarted:!1,hasRecordingAccess:!1,noRecordingAccessReason:void 0,authTokenError:void 0,isLoomSDKSupportedError:void 0,initializedLoomSDKError:null},actions:{initLoomSDK:({cloudId:e,environment:t,entryPointLocation:a})=>async({getState:o,setState:r})=>{if(o().initializedLoomSDK||o()._hasLoomSDKInitializationStarted)return;r({_hasLoomSDKInitializationStarted:!0}),n("cl98v").INITIALIZE_LOOM_RECORDER_SDK_INTERACTION_METRIC.start();try{let{isSupported:e}=await n("aWuvK"),{supported:t,error:a}=await e();if(!t){r({isLoomSDKSupportedError:a,isInitializing:!1}),n("cl98v").INITIALIZE_LOOM_RECORDER_SDK_INTERACTION_METRIC.cancel();return}}catch{r({isLoomSDKSupportedError:"incompatible-browser",isInitializing:!1}),n("cl98v").INITIALIZE_LOOM_RECORDER_SDK_INTERACTION_METRIC.cancel();return}let{recorderToken:i,tokenError:s}=await (0,n("3d6VZ").getAuthToken)();if(!i||s){r({isInitializing:!1,noRecordingAccessReason:await (0,n("38NxZ").getNoRecordingAccessReason)(s),authTokenError:s}),n("cl98v").INITIALIZE_LOOM_RECORDER_SDK_INTERACTION_METRIC.cancel();return}r({hasRecordingAccess:!0});try{let{createInstance:o}=await n("5a9y3"),s=await o((0,n("gmNpb").getLoomInstanceDataByEnvironment)({environment:t,jws:i,siteId:e,entryPointName:a}));r({initializedLoomSDK:s,isInitializing:!1}),n("cl98v").INITIALIZE_LOOM_RECORDER_SDK_INTERACTION_METRIC.stop()}catch(e){r({isInitializing:!1,initializedLoomSDKError:e}),n("cl98v").INITIALIZE_LOOM_RECORDER_SDK_INTERACTION_METRIC.cancel()}}},name:"loomEntryPointGlobalStateStore"}),o=(0,n("9zUhf").createHook)(a);e.exports.useLoomEntryPointGlobalState=o}),a("3d6VZ",function(e,t){let a=async()=>{try{let e=await (0,n("hp2SH").getApolloClient)().query({query:n("e01Lp").LoomAuthTokenQuery,fetchPolicy:"network-only"});return{recorderToken:e.data.loomToken?.token}}catch(e){return(0,n("5ZqQS").getMonitoringClient)().submitError(e,{attribution:n("3IBnw").Attribution.CONTENT_TYPES}),(0,n("7Sm4c").markErrorAsHandled)(e),{tokenError:e}}},o=async()=>{try{return(await (0,n("hp2SH").getApolloClient)().query({query:n("55UbZ").LoomAuthStateQuery})).data.loomUserStatus}catch(e){(0,n("5ZqQS").getMonitoringClient)().submitError(e,{attribution:n("3IBnw").Attribution.CONTENT_TYPES}),(0,n("7Sm4c").markErrorAsHandled)(e);return}};e.exports.getAuthToken=a,e.exports.getAuthState=o}),a("e01Lp",function(e,t){let a=(0,n("eSUdr").default)`query LoomAuthTokenQuery{loomToken{token}}`;e.exports.LoomAuthTokenQuery=a}),a("55UbZ",function(e,t){let a=(0,n("eSUdr").default)`query LoomAuthStateQuery{loomUserStatus}`;e.exports.LoomAuthStateQuery=a}),a("gmNpb",function(e,t){let n={noBackend:"a3f31403-5892-4b68-baf9-a8b1c1f9ef80",staging:"811e05d4-b0aa-4ec9-80e4-68cf5e924102",production:{development:"dba4f6db-8419-44f6-ac25-32b6fc352747",userFacing:"8e345daf-482a-4abf-a612-cb6457110817"}};e.exports.getLoomInstanceDataByEnvironment=({environment:e,jws:t,siteId:a,entryPointName:o})=>{let r={jws:t,siteId:a,config:{enableNewUi:!0,productName:"Confluence",entryPointName:o}};return"DEVELOPMENT"===e?{...r,mode:"standard",publicAppId:n.noBackend,environment:"production"}:"STAGING"===e?{...r,mode:"first-party",publicAppId:n.staging,environment:"staging"}:{...r,mode:"first-party",publicAppId:n.production.userFacing,environment:"production"}}}),a("38NxZ",function(e,t){let a=(e,t)=>!!e&&"graphQLErrors"in e&&e.graphQLErrors?.some(({message:e})=>e.includes(t)),o=async e=>{if(a(e,"Attempted to fetch Loom token without feature flag enabled"))return"backendFF";if(a(e,"Failed to fetch loom auth token. Status code: 404")){let e=await (0,n("3d6VZ").getAuthState)();if(e===n("dn8bs").LoomUserStatus.NOT_FOUND)return"not-created";if(e===n("dn8bs").LoomUserStatus.LINKED)return"not-mastered";if(e===n("dn8bs").LoomUserStatus.LINKED_ENTERPRISE)return"not-mastered-enterprise"}return"unexpected"};e.exports.getNoRecordingAccessReason=o}),a("dn8bs",function(e,t){var n,a=((n={}).LINKED="LINKED",n.LINKED_ENTERPRISE="LINKED_ENTERPRISE",n.MASTERED="MASTERED",n.NOT_FOUND="NOT_FOUND",n);e.exports.LoomUserStatus=a}),a("aWuvK",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("lwKXH"),a("4byV5")]).then(()=>n("3f9PV"))}),a("5a9y3",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("lkOIY"),a("jSdjl"),a("l2EUC"),a("kWZnd"),a("92LGf"),a("6wr18"),a("a3Uq6"),a("xvDzM"),a("jle6Z"),a("4drdS"),a("lLK0D"),a("9LQGG"),a("wIOhQ"),a("lwKXH"),a("fisfU"),a("ffEVr"),a("7EorR"),a("btYwu")]).then(()=>n("fIeud"))}),a("8fj5s",function(e,t){var a=n("42omo");e.exports.useSkippableCoordination=(e,t=!1,o=!0)=>{let[r,i]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!0),c=(0,n("lwNi3").useCoordinationClient)(o);(0,a.useEffect)(()=>{async function a(){try{let t=await c.start(e);i(t)}catch(e){(0,n("5ZqQS").getMonitoringClient)().submitError(e,{attribution:n("3IBnw").Attribution.CONTENPLATES})}l(!1)}t||a()},[c,e,t]);let d=(0,a.useCallback)(async(t=!1)=>{if(t||r)try{await c.stop(e),i(!1)}catch(e){(0,n("5ZqQS").getMonitoringClient)().submitError(e,{attribution:n("3IBnw").Attribution.CONTENPLATES})}},[r,c,e]);return[r,d,!t&&s]}}),a("lwNi3",function(e,t){var a=n("42omo"),o=n("04e9M");e.exports.useCoordinationClient=(e=!0)=>{let{cloudId:t,activationId:r,environment:i}=(0,n("bQm3c").useSessionData)(),s=(0,o.getWorkspaceId)(t,r),l="true"===sessionStorage.getItem("confluence.disable-engagement-for-tests"),c=(0,n("jOtRZ").useAnalyticsEnvironment)(i);return(0,a.useMemo)(()=>(0,n("lBR3p").getCoordinationClient)(l,t,s,e,c),[l,t,s,e,c])}}),a("lBR3p",function(e,t){let a=async()=>!1;e.exports.getCoordinationClient=(e,t,o,r,i)=>{if(e)return{start:a,stop:a};{let e={enableChoreographer:r,envType:i,additionalData:{sourceProductId:n("fw9LG").ProductIds.CONFLUENCE}};return new(0,n("5loD0").default)({cloudId:t,stargateUrl:"/gateway/api",isFedRAMPEnvironment:!1,workspaceId:o,coordinationOptions:e})}}}),a("5loD0",function(e,t){e.exports.default=class{async start(e,t){return!!(0,n("4nGsu").isMessagingEnabled)()&&(0,n("ll2sR").startMessage)({cloudId:this.cloudId,stargateUrl:this.stargateUrl,messageId:e,variationId:t,orgId:this.orgId,workspaceId:this.workspaceId},this.coordinationOptions)}async stop(e){return!!(0,n("4nGsu").isMessagingEnabled)()&&(0,n("ll2sR").stopMessage)({cloudId:this.cloudId,stargateUrl:this.stargateUrl,messageId:e,orgId:this.orgId,workspaceId:this.workspaceId},this.coordinationOptions)}constructor(e,t){let n;if(this.cloudId=void 0,this.stargateUrl=void 0,this.orgId=void 0,this.workspaceId=void 0,this.coordinationOptions=void 0,!(n="string"==typeof e?{cloudId:e,stargateUrl:t,isFedRAMPEnvironment:!1}:e).cloudId||!n.stargateUrl)throw Error("Need a valid CloudId and Stargate url");this.cloudId=n.cloudId,this.stargateUrl=n.stargateUrl,this.orgId=n.orgId,this.workspaceId=n.workspaceId,this.coordinationOptions=n.coordinationOptions}}}),a("lqy4C",function(e,t){var a=n("42omo");e.exports.useHardStorageEnforcement=({source:e})=>{let t=(0,a.useContext)(n("1kHsc").ExperienceTrackerContext),{createAnalyticsEvent:o}=(0,n("inPa6").useAnalyticsEvents)(),r=(0,n("alLTz").useIsStorageEnforcementEligible)(),{isStorageEnforcementGracePeriodComplete:i}=(0,n("4c1VG").useGetCurrentStorageUsage)({skip:!r}),{showBlockCreateModal:s}=(0,n("cLhhP").useBlockCreateModalActions)(),l=r&&!!i,c=(0,a.useCallback)(a=>(...r)=>{if(l){let a=r?.[0];a&&"function"==typeof a.preventDefault&&a.preventDefault(),t.start({name:n("irVI7").ONBOARDING_STORAGE_ENFORCEMENT_BLOCK_CREATE_MODAL}),o({type:"sendOperationalEvent",data:{action:"render",actionSubject:"hardStorageEnforcement",actionSubjectId:"enforceStorageLimit",source:e||"onboarding"}}).fire(),s(e);return}return a.apply(void 0,r)},[o,t,l,s,e]);return{shouldBlockCreate:l,enforceStorageLimit:c}}}),a("4c1VG",function(e,t){e.exports.useGetCurrentStorageUsage=({skip:e}={})=>{let{data:t,loading:a,error:o}=(0,n("xQxzY").useQuery)((0,n("eSUdr").default)`query useGetCurrentStorageUsageGetCurrentStorageUsageQuery{storage:confluence_storage{bytesUsed isStorageEnforcementGracePeriodComplete gracePeriodEndDate}}`,{skip:e});return{currentUsage:t?.storage?.bytesUsed??0,isStorageEnforcementGracePeriodComplete:t?.storage?.isStorageEnforcementGracePeriodComplete,gracePeriodEndDate:t?.storage?.gracePeriodEndDate,loading:a,error:o}}}),a("alLTz",function(e,t){e.exports.useIsStorageEnforcementEligible=()=>{let{edition:e,isLoggedIn:t}=(0,n("bQm3c").useSessionData)();return e===n("euL71").ConfluenceEdition.FREE&&t}}),a("cLhhP",function(e,t){let a=(0,n("1P1Tu").createStore)({name:"BLOCK_CREATE_MODAL_STORE",initialState:{isActive:!1,source:""},actions:{showBlockCreateModal:e=>({setState:t})=>{t({isActive:!0,source:e})},onBlockCreateModalClose:()=>({setState:e})=>{e({isActive:!1,source:""})}}}),o=(0,n("9zUhf").createHook)(a),r=(0,n("9zUhf").createActionsHook)(a);e.exports.useBlockCreateModalStore=o,e.exports.useBlockCreateModalActions=r}),a("bZSO8",function(e,t){var a,o=n("3u0dr");let r={subType:"subType",parentPageId:"parentPageId",title:"title",draftId:"draftId",linkCreation:"linkCreation",fromPageId:"fromPageId",spaceKey:"spaceKey",source:"source",withFallback:"withFallback",openTemplatesGallery:"openTemplatesGallery",paywallStatus:"paywallStatus",deactivationIdentifier:"deactivationIdentifier",openJiraImportTool:n("hQnHK").JIRA_IMPORT_TOOL_QUERY_PARAM,cloudId:n("hQnHK").CLOUD_ID,projectUuid:n("hQnHK").PROJECT_UUID,autoImportJiraIssues:n("hQnHK").AUTO_IMPORT_JIRA_ISSUES_QUERY_PARAM,jiraImportJql:n("hQnHK").JIRA_IMPORT_JQL,insertTemplateWithKey:n("hQnHK").INSERT_TEMPLATE_WITH_KEY_QUERY_PARAM,smartLinkCreateSource:"smartLinkCreateSource",smartLinkEmbedUrl:"smartLinkEmbedUrl",restoreVersionContentId:"restoreVersionContentId",openTemplatePicker:"openTemplatePicker",journeyId:"journeyId",templateKey:"templateKey"},i=["page","blog","whiteboard","database","smartLinkEmbed","folder"],s=(0,n("dPJCf").createRouteParamHook)("contentType"),l=(0,o.isReactCompilerActiveV1)()?()=>{let e=s();if(i.includes(e)){if("folder"===e&&!(0,n("6mKj3").UNSAFE_expValNoExposure)("cfind-4930-get-started-doc-notification","isEnabled",!1))return;return e}}:()=>{let e=s();if(i.includes(e)){if("folder"===e&&!(0,n("6mKj3").UNSAFE_expValNoExposure)("cfind-4930-get-started-doc-notification","isEnabled",!1))return;return e}};var c=((a={})[a.ABORT=0]="ABORT",a[a.SUCCEED=1]="SUCCEED",a);e.exports.buildCreationLink=e=>{let t={};return"subType"in e&&e.subType&&(t[r.subType]=e.subType),"spaceKey"in e&&e.spaceKey&&(t[r.spaceKey]=e.spaceKey),"parentPageId"in e&&e.parentPageId&&(t[r.parentPageId]=e.parentPageId),"openTemplatePicker"in e&&void 0!==e.openTemplatePicker&&(t[r.openTemplatePicker]=e.openTemplatePicker),"title"in e&&e.title&&(t[r.title]=e.title),"draftId"in e&&e.draftId&&(t[r.draftId]=e.draftId),"linkCreation"in e&&e.linkCreation&&(t[r.linkCreation]=e.linkCreation),"withFallback"in e&&e.withFallback&&(t[r.withFallback]=e.withFallback),"openTemplatesGallery"in e&&e.openTemplatesGallery&&(t[r.openTemplatesGallery]=e.openTemplatesGallery),"source"in e&&e.source&&(t[r.source]=e.source),"paywallStatus"in e&&e.paywallStatus&&(t[r.paywallStatus]=e.paywallStatus),"deactivationIdentifier"in e&&e.deactivationIdentifier&&(t[r.deactivationIdentifier]=e.deactivationIdentifier),n("hQnHK").JIRA_IMPORT_TOOL_QUERY_PARAM in e&&e.openJiraImportTool&&(t[r.openJiraImportTool]=e.openJiraImportTool),n("hQnHK").CLOUD_ID in e&&e.cloudId&&(t[r.cloudId]=e.cloudId),n("hQnHK").PROJECT_UUID in e&&e.projectUuid&&(t[r.projectUuid]=e.projectUuid),n("hQnHK").AUTO_IMPORT_JIRA_ISSUES_QUERY_PARAM in e&&e.autoImportJiraIssues&&(t[r.autoImportJiraIssues]=e.autoImportJiraIssues),n("hQnHK").JIRA_IMPORT_JQL in e&&e.jiraImportJql&&(t[r.jiraImportJql]=e.jiraImportJql),n("hQnHK").INSERT_TEMPLATE_WITH_KEY_QUERY_PARAM in e&&e.insertTemplateWithKey&&(t[r.insertTemplateWithKey]=e.insertTemplateWithKey),"smartLinkCreateSource"in e&&e.smartLinkCreateSource&&(t[r.smartLinkCreateSource]=e.smartLinkCreateSource),"smartLinkEmbedUrl"in e&&e.smartLinkEmbedUrl&&(t[r.smartLinkEmbedUrl]=e.smartLinkEmbedUrl),"restoreVersionContentId"in e&&e.restoreVersionContentId&&(t[r.restoreVersionContentId]=e.restoreVersionContentId),"journeyId"in e&&e.journeyId&&(t[r.journeyId]=e.journeyId),"templateKey"in e&&e.templateKey&&(t[r.templateKey]=e.templateKey),n("1NBp8").CREATE_CONTENT.toUrl({contentType:e.contentType},{query:t})},e.exports.useCreateRouteSupportedContentType=l,e.exports.parseQueryParams=(e,t=!1)=>{let a=(0,n("c3Qwv").getSingleParam)(e,r.subType),o=(0,n("c3Qwv").getSingleParam)(e,r.spaceKey),i=(0,n("c3Qwv").getSingleParam)(e,r.parentPageId),s=(0,n("c3Qwv").getSingleParam)(e,r.title),l=(0,n("c3Qwv").getSingleParam)(e,r.draftId),c=(0,n("c3Qwv").getSingleParam)(e,r.linkCreation),d=(0,n("c3Qwv").getSingleParam)(e,r.fromPageId),u=!!(0,n("c3Qwv").getSingleParam)(e,r.withFallback)||void 0,m=!!(0,n("c3Qwv").getSingleParam)(e,r.openTemplatesGallery)||void 0,p=(0,n("c3Qwv").getSingleParam)(e,r.source),f=(0,n("c3Qwv").getSingleParam)(e,r.deactivationIdentifier),g=n("98wxI").PaywallStatus[(0,n("c3Qwv").getSingleParam)(e,r.paywallStatus)||""],E=!!(t&&(0,n("c3Qwv").getSingleParam)(e,r.openJiraImportTool))||void 0,C=t?(0,n("c3Qwv").getSingleParam)(e,r.cloudId):void 0,h=t?(0,n("c3Qwv").getSingleParam)(e,r.projectUuid):void 0,b=!!(t&&(0,n("c3Qwv").getSingleParam)(e,r.autoImportJiraIssues))||void 0,_=t?(0,n("c3Qwv").getSingleParam)(e,r.jiraImportJql):void 0,I=(0,n("c3Qwv").getSingleParam)(e,r.insertTemplateWithKey)??void 0,y=(0,n("c3Qwv").getSingleParam)(e,r.smartLinkCreateSource),S=(0,n("c3Qwv").getSingleParam)(e,r.smartLinkEmbedUrl),v=(0,n("c3Qwv").getSingleParam)(e,r.restoreVersionContentId),T=(0,n("c3Qwv").getSingleParam)(e,r.journeyId),A=(0,n("c3Qwv").getSingleParam)(e,r.openTemplatePicker);return{subType:a,spaceKey:o,parentPageId:i||d,title:s,draftId:l,linkCreation:c,withFallback:u,source:p,paywallStatus:g,deactivationIdentifier:f,openJiraImportTool:E,cloudId:C,projectUuid:h,autoImportJiraIssues:b,jiraImportJql:_,insertTemplateWithKey:I,smartLinkCreateSource:y,smartLinkEmbedUrl:S,restoreVersionContentId:v,openTemplatesGallery:m,openTemplatePicker:A?"true"===A:void 0,journeyId:T,templateKey:(0,n("c3Qwv").getSingleParam)(e,r.templateKey)}},e.exports.ExperienceResolution=c}),a("hQnHK",function(e,t){e.exports.TEMPLATE_PICKER_QUERY_PARAM="openTemplatePicker",e.exports.NEW_WHITEBOARD_QUERY_PARAM="isNewWhiteboard",e.exports.INSERT_TEMPLATE_WITH_KEY_QUERY_PARAM="insertTemplateWithKey",e.exports.HEADLESS_QUERY_PARAM="headless",e.exports.SERVER_SPOT_PARAM="canvas-server",e.exports.RELAY_SPOT_PARAM="canvas-relay",e.exports.WHITEBOARD_IFRAME_TITLE="whiteboard-frame",e.exports.WHITEBOARD_LOCALE="whiteboard-locale",e.exports.WHITEBOARD_LINKED_OBJECT="whiteboard-linked-object",e.exports.INITIAL_THEME_PARAM="initial-theme",e.exports.BIFROST_OVERRIDE_PARAM="bifrost-override",e.exports.PAYWALL_DEACTIVATION_IDENTIFIER="deactivationIdentifier",e.exports.WHITEBOARD_PAYWALL_UPSELL_ACTION_SUBJECT_ID="whiteboardPaywallUpsellButton",e.exports.WHITEBOARD_PAYWALL_INFO_ACTION_SUBJECT_ID="whiteboardPaywallLearnMoreButton",e.exports.WHITEBOARD_CREATION_PAYWALL_SOURCE_PREFIX="whiteboardCreationPaywall-",e.exports.JIRA_IMPORT_TOOL_QUERY_PARAM="openJiraImportTool",e.exports.AUTO_IMPORT_JIRA_ISSUES_QUERY_PARAM="autoImportJiraIssues",e.exports.JIRA_IMPORT_JQL="jiraImportJql",e.exports.MIRO_IMPORT_TOOL_QUERY_PARAM="openMiroImportTool",e.exports.MURAL_IMPORT_TOOL_QUERY_PARAM="openMuralImportTool",e.exports.CLOUD_ID="cloudId",e.exports.PROJECT_UUID="projectUuid",e.exports.PARENT_PRODUCT_QUERY_PARAM="parentProduct",e.exports.PARENT_DOMAIN_QUERY_PARAM="parentDomain",e.exports.PRESENTATION_MODE_QUERY_PARAM="presentationMode",e.exports.EMBEDDED_THEME_STATE="themeState",e.exports.VISUAL_REFRESH_PARAM="visualRefresh",e.exports.EMBEDDED_WHITEBOARD_CREATED_AT_QUERY_PARAM="createdAt",e.exports.FOCUSED_COMMENT_ID="focusedCommentId",e.exports.FOCUSED_MENTION_ID="focusedMentionId",e.exports.REPLY_TO_COMMENT="replyToComment",e.exports.WHITEBOARD_VERSION_ID="version",e.exports.CREATED_FROM_SLUG="createdFromSlug",e.exports.DEBUG_LAYOUTS_QUERY_PARAM="debugLayouts",e.exports.RACING_QUERY_PARAM="racing"}),a("98wxI",function(e,t){var n,a=((n={}).ACTIVE="ACTIVE",n.DEACTIVATED="DEACTIVATED",n.UNSET="UNSET",n);e.exports.PaywallStatus=a}),a("h7OOD",function(t,a){var o=n("3u0dr"),r=n("frIzR"),i=n("42omo");let s=(0,o.isReactCompilerActiveV1)()?t=>{let a,o,s,l,c,d,u,m,p,f,g,E=(0,r.c)(22);E[0]!==t?({children:a,isLoading:o,loadingLabel:s,onClick:l,...c}=t,E[0]=t,E[1]=a,E[2]=o,E[3]=s,E[4]=l,E[5]=c):(a=E[1],o=E[2],s=E[3],l=E[4],c=E[5]),E[6]!==o||E[7]!==l?(d=e=>{o||l?.(e)},E[6]=o,E[7]=l,E[8]=d):d=E[8];let C=d;E[9]===Symbol.for("react.memo_cache_sentinel")?(u=e(i).createElement(n("9hlns").default,{size:"small"}),E[9]=u):u=E[9],E[10]!==s?(m={"aria-disabled":!0,"aria-label":s,iconAfter:u},E[10]=s,E[11]=m):m=E[11];let h=m,b=o?s:void 0;E[12]!==b?(p=e(i).createElement(n("6F6hl").default,{role:"status"},b),E[12]=b,E[13]=p):p=E[13];let _=o&&h;return E[14]!==a||E[15]!==C||E[16]!==c||E[17]!==_?(f=e(i).createElement(n("56M4r").default,{onClick:C,...c,..._},a),E[14]=a,E[15]=C,E[16]=c,E[17]=_,E[18]=f):f=E[18],E[19]!==p||E[20]!==f?(g=e(i).createElement(e(i).Fragment,null,p,f),E[19]=p,E[20]=f,E[21]=g):g=E[21],g}:({children:t,isLoading:a,loadingLabel:o,onClick:r,...s})=>{let l=(0,i.useCallback)(e=>{a||r?.(e)},[a,r]),c={"aria-disabled":!0,"aria-label":o,iconAfter:e(i).createElement(n("9hlns").default,{size:"small"})};return e(i).createElement(e(i).Fragment,null,e(i).createElement(n("6F6hl").default,{role:"status"},a?o:void 0),e(i).createElement(n("56M4r").default,{onClick:l,...s,...a&&c},t))};t.exports.LoadingPopoverItem=s}),a("5Krdf",function(t,a){var o=n("3u0dr"),r=n("frIzR"),i=n("42omo");let s=(0,n("ecnYn").xcss)({fontWeight:"font.weight.medium",color:"color.text",marginRight:"space.075"}),l=(0,i.forwardRef)((0,o.isReactCompilerActiveV1)()?(t,a)=>{let o,s,l,c,d,u,m=(0,r.c)(13);if(m[0]!==a||m[1]!==t){let{as:e,style:r,...i}=t;o=void 0===e?"div":e,s=i,l=r,c=a,d=(0,n("gMc0m").default)(["_1e0c1txw _4cvr1h6o",i.className]),m[0]=a,m[1]=t,m[2]=o,m[3]=s,m[4]=l,m[5]=c,m[6]=d}else o=m[2],s=m[3],l=m[4],c=m[5],d=m[6];return m[7]!==o||m[8]!==s||m[9]!==l||m[10]!==c||m[11]!==d?(u=e(i).createElement(o,{...s,style:l,ref:c,className:d}),m[7]=o,m[8]=s,m[9]=l,m[10]=c,m[11]=d,m[12]=u):u=m[12],u}:({as:t="div",style:a,...o},r)=>e(i).createElement(t,{...o,style:a,ref:r,className:(0,n("gMc0m").default)(["_1e0c1txw _4cvr1h6o",o.className])})),c=(0,o.isReactCompilerActiveV1)()?t=>{let a,o=(0,r.c)(2),{children:l}=t;return o[0]!==l?(a=e(i).createElement(n("6f0Oj").default,{xcss:s},l),o[0]=l,o[1]=a):a=o[1],a}:({children:t})=>e(i).createElement(n("6f0Oj").default,{xcss:s},t),d=(0,i.forwardRef)((0,o.isReactCompilerActiveV1)()?(t,a)=>{let o,s,l,c,d,u,m=(0,r.c)(13);if(m[0]!==a||m[1]!==t){let{as:e,style:r,...i}=t;o=void 0===e?"div":e,s=i,l=r,c=a,d=(0,n("gMc0m").default)(["_k48p127f _syaz1gmx",i.className]),m[0]=a,m[1]=t,m[2]=o,m[3]=s,m[4]=l,m[5]=c,m[6]=d}else o=m[2],s=m[3],l=m[4],c=m[5],d=m[6];return m[7]!==o||m[8]!==s||m[9]!==l||m[10]!==c||m[11]!==d?(u=e(i).createElement(o,{...s,style:l,ref:c,className:d}),m[7]=o,m[8]=s,m[9]=l,m[10]=c,m[11]=d,m[12]=u):u=m[12],u}:({as:t="div",style:a,...o},r)=>e(i).createElement(t,{...o,style:a,ref:r,className:(0,n("gMc0m").default)(["_k48p127f _syaz1gmx",o.className])})),u=(0,i.forwardRef)((0,o.isReactCompilerActiveV1)()?(t,a)=>{let o,s,l,c,d,u,m=(0,r.c)(13);if(m[0]!==a||m[1]!==t){let{as:e,style:r,...i}=t;o=void 0===e?"div":e,s=i,l=r,c=a,d=(0,n("gMc0m").default)(["_1e0c1txw",i.className]),m[0]=a,m[1]=t,m[2]=o,m[3]=s,m[4]=l,m[5]=c,m[6]=d}else o=m[2],s=m[3],l=m[4],c=m[5],d=m[6];return m[7]!==o||m[8]!==s||m[9]!==l||m[10]!==c||m[11]!==d?(u=e(i).createElement(o,{...s,style:l,ref:c,className:d}),m[7]=o,m[8]=s,m[9]=l,m[10]=c,m[11]=d,m[12]=u):u=m[12],u}:({as:t="div",style:a,...o},r)=>e(i).createElement(t,{...o,style:a,ref:r,className:(0,n("gMc0m").default)(["_1e0c1txw",o.className])})),m=(0,i.forwardRef)((0,o.isReactCompilerActiveV1)()?(t,a)=>{let o,s,l,c,d,u,m=(0,r.c)(13);if(m[0]!==a||m[1]!==t){let{as:e,style:r,...i}=t;o=void 0===e?"div":e,s=i,l=r,c=a,d=(0,n("gMc0m").default)(["_1e0c1txw _1o9zidpf _1bah1h6o _1bsb1ejb _1xjx1o4j _17521o4j _e2oo1o4j _w8l51o4j",i.className]),m[0]=a,m[1]=t,m[2]=o,m[3]=s,m[4]=l,m[5]=c,m[6]=d}else o=m[2],s=m[3],l=m[4],c=m[5],d=m[6];return m[7]!==o||m[8]!==s||m[9]!==l||m[10]!==c||m[11]!==d?(u=e(i).createElement(o,{...s,style:l,ref:c,className:d}),m[7]=o,m[8]=s,m[9]=l,m[10]=c,m[11]=d,m[12]=u):u=m[12],u}:({as:t="div",style:a,...o},r)=>e(i).createElement(t,{...o,style:a,ref:r,className:(0,n("gMc0m").default)(["_1e0c1txw _1o9zidpf _1bah1h6o _1bsb1ejb _1xjx1o4j _17521o4j _e2oo1o4j _w8l51o4j",o.className])})),p=(0,i.forwardRef)((0,o.isReactCompilerActiveV1)()?(t,a)=>{let o,s=(0,r.c)(8);if(s[0]!==a||s[1]!==t){let r,l,{as:c,style:d,...u}=t,{isDisabled:m,...p}=u,f=u.isDisabled?"50%":"100%";s[3]!==f?(r=(0,n("7sObp").default)(f),s[3]=f,s[4]=r):r=s[4],s[5]!==d||s[6]!==r?(l={...d,"--_y1fz7b":r},s[5]=d,s[6]=r,s[7]=l):l=s[7],o=e(i).createElement(void 0===c?"div":c,{...p,style:l,ref:a,className:(0,n("gMc0m").default)(["_tzy4jn7l _159i1lhn _1tdsn7od _1pum1jfw _10jxn7od _1m8y1jfw",u.className])}),s[0]=a,s[1]=t,s[2]=o}else o=s[2];return o}:({as:t="div",style:a,...o},r)=>{let{isDisabled:s,...l}=o;return e(i).createElement(t,{...l,style:{...a,"--_y1fz7b":(0,n("7sObp").default)(o.isDisabled?"50%":"100%")},ref:r,className:(0,n("gMc0m").default)(["_tzy4jn7l _159i1lhn _1tdsn7od _1pum1jfw _10jxn7od _1m8y1jfw",o.className])})});t.exports.TitleContainer=l,t.exports.ContentTitle=c,t.exports.DisabledContentTitle=d,t.exports.LozengeWrapper=u,t.exports.ContentIconWrapper=m,t.exports.MenuItemWrapper=p}),a("jrwID",function(t,a){var o=n("3u0dr"),r=n("frIzR"),i=n("42omo"),s=n("8Qafc"),l=n("b3j2Y");let c=(0,n("cgtv4").defineMessages)({title:{id:"create-blank-fabric-page.universal-create.liveDoc.title",defaultMessage:"Live Doc"},newLozenge:{id:"create-blank-fabric-page.universal-create.liveDoc.new.lozenge",defaultMessage:"New"}}),d="create-live-doc-popover-item",u=(0,o.isReactCompilerActiveV1)()?function(t){let a,o,s,l,u,p,f,g,E,C,h=(0,r.c)(28),{parentId:b,source:_,spaceKey:I,onClick:y}=t,{formatMessage:S}=(0,n("8C5kA").default)();h[0]===Symbol.for("react.memo_cache_sentinel")?(a={source:d},h[0]=a):a=h[0];let{enforceStorageLimit:v,shouldBlockCreate:T}=(0,n("lqy4C").useHardStorageEnforcement)(a);h[1]!==b||h[2]!==_||h[3]!==I?(o=(0,n("bZSO8").buildCreationLink)({contentType:"page",subType:n("dkIiA").ConfluencePageSubType.LIVE,parentPageId:b,withFallback:!0,source:_,spaceKey:I}),h[1]=b,h[2]=_,h[3]=I,h[4]=o):o=h[4];let A=o,w=(0,n("bBaUQ").useHybridLinkClick)(A);h[5]!==w||h[6]!==y?(s=e=>{y("createLiveDocPopoverItem"),w(e),(0,n("3Yga2").setLozengeShownTrackerMax)()},h[5]=w,h[6]=y,h[7]=s):s=h[7];let N=s;h[8]===Symbol.for("react.memo_cache_sentinel")?(l=(0,n("3Yga2").checkShouldShowLozenge)(),h[8]=l):l=h[8];let R=l;h[9]!==S?(u=(0,n("9wGTI").fg)("confluence_remove_live_page_lozenge_hello")||!R?S(c.title):e(i).createElement(n("jo6R7").ItemTitleWithLozenge,{lozenge:S(c.newLozenge)},S(c.title)),h[9]=S,h[10]=u):u=h[10];let k=u;h[11]===Symbol.for("react.memo_cache_sentinel")?(p=n("6yCpa").Ati.parse("ati:cloud:confluence:livedoc"),h[11]=p):p=h[11],h[12]!==v||h[13]!==N?(f=v(N),h[12]=v,h[13]=N,h[14]=f):f=h[14],h[15]!==A||h[16]!==T?(g=!T&&{href:A},h[15]=A,h[16]=T,h[17]=g):g=h[17],h[18]!==A||h[19]!==N||h[20]!==_?(E=t=>e(i).createElement(m,{...t,source:_,createHref:A,handleClick:N}),h[18]=A,h[19]=N,h[20]=_,h[21]=E):E=h[21];let x=`create-menu-${T?"button":"link"}-item`;return h[22]!==x||h[23]!==f||h[24]!==g||h[25]!==E||h[26]!==k?(C={ati:p,children:k,onClick:f,elemBefore:e(n("e0ycV")),...g,Wrapper:E,testId:x},h[22]=x,h[23]=f,h[24]=g,h[25]=E,h[26]=k,h[27]=C):C=h[27],C}:function({parentId:t,source:a,spaceKey:o,onClick:r}){let{formatMessage:s}=(0,n("8C5kA").default)(),{enforceStorageLimit:l,shouldBlockCreate:u}=(0,n("lqy4C").useHardStorageEnforcement)({source:d}),p=(0,n("bZSO8").buildCreationLink)({contentType:"page",subType:n("dkIiA").ConfluencePageSubType.LIVE,parentPageId:t,withFallback:!0,source:a,spaceKey:o}),f=(0,n("bBaUQ").useHybridLinkClick)(p),g=e=>{r("createLiveDocPopoverItem"),f(e),(0,n("3Yga2").setLozengeShownTrackerMax)()},E=(0,i.useMemo)(()=>(0,n("3Yga2").checkShouldShowLozenge)(),[]),C=(0,n("9wGTI").fg)("confluence_remove_live_page_lozenge_hello")||!E?s(c.title):e(i).createElement(n("jo6R7").ItemTitleWithLozenge,{lozenge:s(c.newLozenge)},s(c.title));return{ati:n("6yCpa").Ati.parse("ati:cloud:confluence:livedoc"),children:C,onClick:l(g),elemBefore:e(n("e0ycV")),...!u&&{href:p},Wrapper:t=>e(i).createElement(m,{...t,source:a,createHref:p,handleClick:g}),testId:`create-menu-${u?"button":"link"}-item`}},m=e(i).memo((0,o.isReactCompilerActiveV1)()?t=>{let a,o,c,u,m,p,f,g=(0,r.c)(22),{children:E,source:C,createHref:h,handleClick:b}=t,_=(0,i.useRef)(!1),{push:I}=(0,n("dPJCf").useRouteActions)(),{introSpotlight:y,error:S}=(0,n("3J7nf").useLiveDocChangeboarding)(),{isVisible:v,complete:T}=y,{createAnalyticsEvent:A}=(0,n("inPa6").useAnalyticsEvents)();g[0]===Symbol.for("react.memo_cache_sentinel")?(a={source:d},g[0]=a):a=g[0];let{enforceStorageLimit:w}=(0,n("lqy4C").useHardStorageEnforcement)(a);g[1]!==A||g[2]!==C?(o=()=>{A({type:"sendUIEvent",data:{action:"shown",actionSubject:"spotlight",actionSubjectId:"liveDocIntro",source:C}}).fire()},g[1]=A,g[2]=C,g[3]=o):o=g[3];let N=o;return g[4]!==N||g[5]!==v?(c=()=>{v&&!_.current&&(N(),_.current=!0)},u=[v,N],g[4]=N,g[5]=v,g[6]=c,g[7]=u):(c=g[6],u=g[7]),(0,i.useEffect)(c,u),g[8]!==T||g[9]!==h||g[10]!==w||g[11]!==S||g[12]!==b||g[13]!==I||g[14]!==C?(m=t=>e(i).createElement(n("dilhZ").CreateLiveDocPopoverItemSpotlight,{handleDismiss:()=>{T()},handleProceed:w(e=>{T(),b(e),I(h)}),targetName:d,source:C,fireAnalyticsEventOnMessageDisposition:!1},t,S&&e(i).createElement(l.ErrorDisplay,{error:S})),g[8]=T,g[9]=h,g[10]=w,g[11]=S,g[12]=b,g[13]=I,g[14]=C,g[15]=m):m=g[15],g[16]!==E?(p=E(),g[16]=E,g[17]=p):p=g[17],g[18]!==v||g[19]!==m||g[20]!==p?(f=e(i).createElement(s.CreateButtonSpotlightPulseWrapper,{condition:v,wrapper:m},p),g[18]=v,g[19]=m,g[20]=p,g[21]=f):f=g[21],f}:({children:t,source:a,createHref:o,handleClick:r})=>{let c=(0,i.useRef)(!1),{push:u}=(0,n("dPJCf").useRouteActions)(),{introSpotlight:m,error:p}=(0,n("3J7nf").useLiveDocChangeboarding)(),{isVisible:f,complete:g}=m,{createAnalyticsEvent:E}=(0,n("inPa6").useAnalyticsEvents)(),{enforceStorageLimit:C}=(0,n("lqy4C").useHardStorageEnforcement)({source:d}),h=(0,i.useCallback)(()=>{E({type:"sendUIEvent",data:{action:"shown",actionSubject:"spotlight",actionSubjectId:"liveDocIntro",source:a}}).fire()},[E,a]);return(0,i.useEffect)(()=>{f&&!c.current&&(h(),c.current=!0)},[f,h]),e(i).createElement(s.CreateButtonSpotlightPulseWrapper,{condition:f,wrapper:t=>e(i).createElement(n("dilhZ").CreateLiveDocPopoverItemSpotlight,{handleDismiss:()=>{g()},handleProceed:C(e=>{g(),r(e),u(o)}),targetName:d,source:a,fireAnalyticsEventOnMessageDisposition:!1},t,p&&e(i).createElement(l.ErrorDisplay,{error:p}))},t())});t.exports.useLiveDocItem=u}),a("e0ycV",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var a=r(n("42omo")),o=r(n("aSNrY"));function r(e){return e&&e.__esModule?e:{default:e}}let i=e=>a.default.createElement(o.default,Object.assign({name:"PageLiveDocIcon",dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M15 3.5H1V2h14zm-9 5H1V7h5zM6 14H1v-1.5h5zm2.72-6.78a.75.75 0 0 1 .79-.17l6 2.25a.75.75 0 0 1-.08 1.43l-2.56.64-.64 2.56a.75.75 0 0 1-1.43.08l-2.25-6a.75.75 0 0 1 .17-.79" clip-rule="evenodd"/>'},e));i.displayName="PageLiveDocIcon",e.exports.default=i}),a("8Qafc",function(e,t){let a=(0,n("aJv6Q").withTransparentErrorBoundary)({attribution:n("3IBnw").Attribution.FLYWHEEL_ACTIVATION})(({condition:e,wrapper:t,children:n})=>e?t(n):n);e.exports.CreateButtonSpotlightPulseWrapper=a}),a("dilhZ",function(t,a){var o=n("42omo"),r=n("aZfTF"),i=n("6YEO8"),s=n("aCAOX");let l=(0,n("cgtv4").defineMessages)({heading:{id:"onboarding-live-doc-changeboarding.introSpotlight.heading",defaultMessage:"Start collaborating with Live Docs"},headingForGA:{id:"onboarding-live-doc-changeboarding.introSpotlight.headingGA",defaultMessage:"Bring ideas to life with Live Docs"},body:{id:"onboarding-live-doc-changeboarding.introSpotlight.body",defaultMessage:"Use live docs for quick, messy brainstorming and collaboration with your team."},bodyForGA:{id:"onboarding-live-doc-changeboarding.introSpotlight.bodyGA",defaultMessage:"Use live docs for quick brainstorming and team collaboration."},dismiss:{id:"onboarding-live-doc-changeboarding.introSpotlight.dismiss",defaultMessage:"Dismiss"},findOutMore:{id:"onboarding-live-doc-changeboarding.introSpotlight.learnMore",defaultMessage:"Find out more"},tryItOut:{id:"onboarding-live-doc-changeboarding.introSpotlight.tryItOut",defaultMessage:"Try it out"}});t.exports.CreateLiveDocPopoverItemSpotlight=({children:t,handleDismiss:a,handleProceed:c,targetName:d,source:u,fireAnalyticsEventOnMessageDisposition:m=!0})=>{let{Spotlight:p}=(0,n("lsxnT").useChoreographerAssets)(),{formatMessage:f}=(0,n("8C5kA").default)(),g=u.toLowerCase(),E=g.includes("contextual"),C=g.includes("global"),h="dark"===(0,n("cOrQJ").default)().colorMode?e(i):e(s),b=(0,o.useMemo)(()=>E?"right middle":C?"left top":void 0,[E,C]),{createAnalyticsEvent:_}=(0,n("inPa6").useAnalyticsEvents)(),I=(0,o.useCallback)(e=>{"started"===e&&_({type:"sendUIEvent",data:{action:"shown",actionSubject:"spotlight",actionSubjectId:"liveDocIntro",source:g}}).fire()},[_,g]);return e(o).createElement(n("6cnUO").default,null,e(o).createElement(n("5izcQ").default,{name:d},t),e(o).createElement(n("2Fndw").default,null,e(o).createElement(p,{dialogPlacement:b,actions:[{onClick:e=>{_({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"tryItOut",source:"liveDocIntroSpotlight",attributes:{spotlightSource:g}}}).fire(),c(e)},text:f(l.tryItOut)},(0,n("9wGTI").fg)("cc_modernize_ga_changeboarding")?{onClick:()=>{_({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"findOutMore",source:"liveDocIntroSpotlight",attributes:{spotlightSource:g}}}).fire(),a(),window.open("https://support.atlassian.com/confluence-cloud/docs/create-and-collaborate-in-real-time-with-live-docs/","_blank")},text:f(l.findOutMore),appearance:"subtle"}:{onClick:()=>{_({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"dismiss",source:"liveDocIntroSpotlight",attributes:{spotlightSource:g}}}).fire(),a()},text:f(l.dismiss)}],heading:f((0,n("9wGTI").fg)("cc_modernize_ga_changeboarding")?l.headingForGA:l.heading),headingAfterElement:e(o).createElement(n("1qfLF").default,{testId:"live-docs-intro-spotlight-dismiss",icon:t=>e(o).createElement(e(n("hmuev")),{...t,color:"var(--ds-icon-inverse, #FFFFFF)"}),appearance:"subtle",label:f(l.dismiss),onClick:()=>{_({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"dismiss",source:"liveDocIntroSpotlight",attributes:{spotlightSource:g}}}).fire(),a()}}),targetRadius:6,target:d,key:`${d}-key`,messageType:"engagement",messageId:`${d}-message-id`,image:(0,n("9wGTI").fg)("cc_modernize_ga_changeboarding")?h:e(r),dialogWidth:(0,n("9wGTI").fg)("cc_modernize_ga_changeboarding")?320:338,targetOnClick:e=>{_({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"tryItOut",source:"onboardingLiveDocIntroSpotlight",attributes:{menu:g}}}).fire(),c(e.event)},shouldWatchTarget:!0,scrollPositionBlock:E?"nearest":void 0,...m?{onMessageDisposition:I}:{},targetBgColor:"var(--ds-surface-overlay, #FFFFFF)"},f((0,n("9wGTI").fg)("cc_modernize_ga_changeboarding")?l.bodyForGA:l.body))))}}),a("aZfTF",function(e,t){e.exports=new URL("LiveDocsIntroGif.d2fc0787.gif",import.meta.url).toString()}),a("6YEO8",function(e,t){e.exports=new URL("LiveDocIntroGADark.45e6357d.svg",import.meta.url).toString()}),a("aCAOX",function(e,t){e.exports=new URL("LiveDocIntroGALight.8a32f41a.svg",import.meta.url).toString()}),a("bBaUQ",function(e,t){var a=n("3u0dr"),o=n("frIzR"),r=n("42omo");let i=(0,a.isReactCompilerActiveV1)()?e=>{let t,a=(0,o.c)(4),{push:r}=(0,n("dPJCf").useRouteActions)(),i=(0,n("dPJCf").useMatchRoute)();return a[0]!==e||a[1]!==i||a[2]!==r?(t=t=>{(0,n("dHSeC").getSpaTransitionDetails)(t,{matchRoute:i})&&e&&(t.preventDefault(),r(e))},a[0]=e,a[1]=i,a[2]=r,a[3]=t):t=a[3],t}:e=>{let{push:t}=(0,n("dPJCf").useRouteActions)(),a=(0,n("dPJCf").useMatchRoute)();return(0,r.useCallback)(o=>{(0,n("dHSeC").getSpaTransitionDetails)(o,{matchRoute:a})&&e&&(o.preventDefault(),t(e))},[a,t,e])};e.exports.useHybridLinkClick=i}),a("jo6R7",function(t,a){var o=n("3u0dr"),r=n("frIzR"),i=n("42omo");let s=(0,n("ecnYn").xcss)({marginRight:"space.075"}),l=(0,o.isReactCompilerActiveV1)()?t=>{let a,o,l,c=(0,r.c)(8),{children:d,lozenge:u,useLabsLozenge:m}=t;return c[0]!==d?(a=e(i).createElement(n("6f0Oj").default,{xcss:s},d),c[0]=d,c[1]=a):a=c[1],c[2]!==u||c[3]!==m?(o=m?e(i).createElement(n("c8U3F").ConfluenceLabsLozenge,null):e(i).createElement(n("5nBzc").default,{appearance:"new"},u),c[2]=u,c[3]=m,c[4]=o):o=c[4],c[5]!==a||c[6]!==o?(l=e(i).createElement(n("bUlM5").default,{alignItems:"center",justifyContent:"space-between"},a,o),c[5]=a,c[6]=o,c[7]=l):l=c[7],l}:({children:t,lozenge:a,useLabsLozenge:o})=>e(i).createElement(n("bUlM5").default,{alignItems:"center",justifyContent:"space-between"},e(i).createElement(n("6f0Oj").default,{xcss:s},t),o?e(i).createElement(n("c8U3F").ConfluenceLabsLozenge,null):e(i).createElement(n("5nBzc").default,{appearance:"new"},a));t.exports.ItemTitleWithLozenge=l}),a("c8U3F",function(t,a){var o=n("42omo");let r=(0,n("cgtv4").defineMessages)({tooltip:{id:"ai-common.confluence-labs-lozenge.tooltip",defaultMessage:"Beta: This feature is still in development."}}),i=(0,o.forwardRef)(function({children:t,...a},r){return e(o).createElement(n("afneb").default,{...a,ref:r,className:(0,n("gMc0m").default)(["_2rko12b0 _11c81o8v _vchhusvi _p12f7l9q _bfhk1aqn _syaz15cr _152tze3t _1e02ze3t _1i4q1hna _85i5v77o _1q51v77o _y4ti12x7 _bozg12x7 _slp31hna"])},t)});t.exports.ConfluenceLabsLozenge=()=>{let{formatMessage:t}=(0,n("8C5kA").default)(),{colorMode:a}=(0,n("cOrQJ").default)();return e(o).createElement(n("3gadb").default,{component:i,content:t(r.tooltip)},e(o).createElement("div",{"data-testid":"confluence-labs-lozenge",className:(0,n("gMc0m").default)(["_2rko12b0 _18zr1b66 _1e0c1txw _4cvr1h6o _1bah1h6o","_2rko12b0 _18zr1b66 _kqswh2mm _bfhksm61 _1e0c1txw _4cvr1h6o _1bah1h6o _1pbyidpf _1tesidpf _rfx312b0 _1414t94y _p7f0t94y _7gpxt94y _syayt94y _1s6kyrfl _16qq1ajn _1kt9b3bt _1cs8stnw _1ankm4tz _12a1epuu _x5brkvto _13sb1p67 _dsq4glyw _1g0v1mrw"])},e(o).createElement(n("u9agA").default,{grow:"hug",space:"space.025",alignBlock:"center"},e(o).createElement(n("e8XIL").ConfluenceLabsIcon,{darkMode:"dark"===a}),e(o).createElement("div",{className:(0,n("gMc0m").default)(["_1p1dangw"])},e(o).createElement(n("iXCQx").default,{size:"small",weight:"semibold",color:"color.text"},"Labs")))))}}),a("e8XIL",function(t,a){var o=n("42omo");t.exports.ConfluenceLabsIcon=({darkMode:t=!1})=>t?e(o).createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 10 7",fill:"none","data-testid":"confluence-labs-icon-dark"},e(o).createElement("g",{clipPath:"url(#clip0_1466_13761)"},e(o).createElement("path",{d:"M8.66319 5.51003C6.1943 4.31624 5.47305 4.13786 4.43279 4.13786C3.21221 4.13786 2.17195 4.64556 1.24264 6.07262L1.09007 6.30589C0.96524 6.498 0.9375 6.5666 0.9375 6.64893C0.9375 6.73127 0.979111 6.79987 1.13168 6.89593L2.69901 7.87017C2.78223 7.92506 2.85159 7.9525 2.92094 7.9525C3.00416 7.9525 3.05964 7.91133 3.14286 7.78784L3.39252 7.40363C3.78089 6.8136 4.12764 6.62149 4.57149 6.62149C4.95985 6.62149 5.41757 6.73127 5.98625 7.0057L7.62293 7.77412C7.78937 7.85645 7.96968 7.81528 8.0529 7.62318L8.82963 5.92168C8.91286 5.72958 8.85737 5.60608 8.66319 5.51003ZM1.46457 2.50497C3.93346 3.69876 4.65471 3.87714 5.69497 3.87714C6.91555 3.87714 7.95581 3.36944 8.88512 1.94238L9.03769 1.70911C9.16252 1.517 9.19026 1.4484 9.19026 1.36607C9.19026 1.28373 9.14865 1.21513 8.99608 1.11907L7.42875 0.14483C7.34552 0.0899435 7.27617 0.0625 7.20682 0.0625C7.1236 0.0625 7.06812 0.103665 6.9849 0.227161L6.73524 0.61137C6.34687 1.2014 6.00012 1.39351 5.55627 1.39351C5.16791 1.39351 4.71019 1.28373 4.14151 1.0093L2.50483 0.240883C2.33839 0.158552 2.15808 0.199717 2.07486 0.391822L1.29812 2.09332C1.2149 2.28542 1.27038 2.40892 1.46457 2.50497Z",fill:"white"})),e(o).createElement("defs",null,e(o).createElement("clipPath",{id:"clip0_1466_13761"},e(o).createElement("rect",{width:"8.25276",height:"7.89",fill:"white",transform:"translate(0.9375 0.0625)"})))):e(o).createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 10 7",fill:"none","data-testid":"confluence-labs-icon"},e(o).createElement("g",{clipPath:"url(#clip0_1352_45568)"},e(o).createElement("path",{d:"M8.66319 5.51003C6.1943 4.31624 5.47305 4.13786 4.43279 4.13786C3.21221 4.13786 2.17195 4.64556 1.24264 6.07262L1.09007 6.30589C0.96524 6.498 0.9375 6.5666 0.9375 6.64893C0.9375 6.73127 0.979111 6.79987 1.13168 6.89593L2.69901 7.87017C2.78223 7.92506 2.85159 7.9525 2.92094 7.9525C3.00416 7.9525 3.05964 7.91133 3.14286 7.78784L3.39252 7.40363C3.78089 6.8136 4.12764 6.62149 4.57149 6.62149C4.95985 6.62149 5.41757 6.73127 5.98625 7.0057L7.62293 7.77412C7.78937 7.85645 7.96968 7.81528 8.0529 7.62318L8.82963 5.92168C8.91286 5.72958 8.85737 5.60608 8.66319 5.51003ZM1.46457 2.50497C3.93346 3.69876 4.65471 3.87714 5.69497 3.87714C6.91555 3.87714 7.95581 3.36944 8.88512 1.94238L9.03769 1.70911C9.16252 1.517 9.19026 1.4484 9.19026 1.36607C9.19026 1.28373 9.14865 1.21513 8.99608 1.11907L7.42875 0.14483C7.34552 0.0899435 7.27617 0.0625 7.20682 0.0625C7.1236 0.0625 7.06812 0.103665 6.9849 0.227161L6.73524 0.61137C6.34687 1.2014 6.00012 1.39351 5.55627 1.39351C5.16791 1.39351 4.71019 1.28373 4.14151 1.0093L2.50483 0.240883C2.33839 0.158552 2.15808 0.199717 2.07486 0.391822L1.29812 2.09332C1.2149 2.28542 1.27038 2.40892 1.46457 2.50497Z",fill:"#1E1F21"})),e(o).createElement("defs",null,e(o).createElement("clipPath",{id:"clip0_1352_45568"},e(o).createElement("rect",{width:"8.25276",height:"7.89",fill:"white",transform:"translate(0.9375 0.0625)"}))))}),a("dAC7y",function(t,a){var o=n("3u0dr"),r=n("frIzR"),i=n("42omo");let s=(0,n("cgtv4").defineMessages)({title:{id:"create-blank-fabric-page.universal-create.page.title",defaultMessage:"Page"}}),l=(0,o.isReactCompilerActiveV1)()?function(t){let a,o,i,l,c,d,u,m,p=(0,r.c)(22),{parentId:f,source:g,spaceKey:E,onClick:C}=t,{formatMessage:h}=(0,n("8C5kA").default)();p[0]===Symbol.for("react.memo_cache_sentinel")?(a={source:"create-page-popover-item"},p[0]=a):a=p[0];let{enforceStorageLimit:b,shouldBlockCreate:_}=(0,n("lqy4C").useHardStorageEnforcement)(a);p[1]!==f||p[2]!==g||p[3]!==E?(o=(0,n("bZSO8").buildCreationLink)({contentType:"page",parentPageId:f,withFallback:!0,source:g,spaceKey:E}),p[1]=f,p[2]=g,p[3]=E,p[4]=o):o=p[4];let I=o,y=(0,n("bBaUQ").useHybridLinkClick)(I);p[5]!==y||p[6]!==C?(i=e=>{C("createPagePopoverItem"),y(e)},p[5]=y,p[6]=C,p[7]=i):i=p[7];let S=i;p[8]===Symbol.for("react.memo_cache_sentinel")?(l=n("6yCpa").Ati.parse("ati:cloud:confluence:page"),p[8]=l):l=p[8],p[9]!==h?(c=h(s.title),p[9]=h,p[10]=c):c=p[10],p[11]!==b||p[12]!==S?(d=b(S),p[11]=b,p[12]=S,p[13]=d):d=p[13],p[14]!==I||p[15]!==_?(u=!_&&{href:I},p[14]=I,p[15]=_,p[16]=u):u=p[16];let v=`create-menu-${_?"button":"link"}-item`;return p[17]!==c||p[18]!==d||p[19]!==u||p[20]!==v?(m={ati:l,children:c,onClick:d,elemBefore:e(n("8jHAi")),...u,testId:v},p[17]=c,p[18]=d,p[19]=u,p[20]=v,p[21]=m):m=p[21],m}:function({parentId:t,source:a,spaceKey:o,onClick:r}){let{formatMessage:l}=(0,n("8C5kA").default)(),{enforceStorageLimit:c,shouldBlockCreate:d}=(0,n("lqy4C").useHardStorageEnforcement)({source:"create-page-popover-item"}),u=(0,n("bZSO8").buildCreationLink)({contentType:"page",parentPageId:t,withFallback:!0,source:a,spaceKey:o}),m=(0,n("bBaUQ").useHybridLinkClick)(u),p=(0,i.useCallback)(e=>{r("createPagePopoverItem"),m(e)},[r,m]);return{ati:n("6yCpa").Ati.parse("ati:cloud:confluence:page"),children:l(s.title),onClick:c(p),elemBefore:e(n("8jHAi")),...!d&&{href:u},testId:`create-menu-${d?"button":"link"}-item`}};t.exports.usePageItem=l}),a("ejGOi",function(t,a){var o=n("3u0dr"),r=n("frIzR"),i=n("42omo"),s=n("fCfQ7"),l=n("dcUvx");let c="cc-whiteboard-nudge-global-create-experiment",d="globalCreateCohort",u={experimentName:c,cohort:d},m=(0,n("cgtv4").defineMessages)({title:{id:"create-blank-fabric-page.universal-create.whiteboard.title",defaultMessage:"Whiteboard"},toolTipTextAnonymous:{id:"create-blank-fabric-page.universal-create.whiteboard.tooltip.text-anonymous",defaultMessage:"Log in to create a whiteboard"},toolTipTextUnlicensed:{id:"create-blank-fabric-page.universal-create.whiteboard.tooltip.text-unlicensed",defaultMessage:"Sign up to Confluence to create a whiteboard"}}),p={contentType:"whiteboard",paywallFlow:"upfront"},f={itemWrapper:"_4cvr1h6o _1bah1yb4 _1e0c1txw _kqswh2mm",childrenWrapper:"_16jlkb7n",rightIcon:"_4t3idlk8 _kqswstnw _1xi2pxbi _lcxvglyw"},g=(0,o.isReactCompilerActiveV1)()?t=>{let a,o,s,c,d,u,m,p,g=(0,r.c)(13),{children:E}=t,[C,h]=(0,i.useState)(!1);g[0]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{(0,n("6mKj3").isExperimentEnabled)("confluence_race_mode")&&h(!0)},g[0]=a):a=g[0];let b=a;g[1]===Symbol.for("react.memo_cache_sentinel")?(o=e=>{(0,n("6mKj3").isExperimentEnabled)("confluence_race_mode")&&h(!1)},g[1]=o):o=g[1];let _=o;return g[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n("gMc0m").default)([f.itemWrapper]),c=(0,n("gMc0m").default)([f.childrenWrapper]),g[2]=s,g[3]=c):(s=g[2],c=g[3]),g[4]!==E?(d=E(),g[4]=E,g[5]=d):d=g[5],g[6]!==d?(u=e(i).createElement("div",{className:c},d),g[6]=d,g[7]=u):u=g[7],g[8]!==C?(m=C&&(0,n("6mKj3").isExperimentEnabled)("confluence_race_mode")&&e(i).createElement(n("gj7hi").default,{src:e(l),srcDark:e(l),alt:"",testId:"confluence-whiteboards-car-icon",className:(0,n("gMc0m").default)([f.rightIcon])}),g[8]=C,g[9]=m):m=g[9],g[10]!==u||g[11]!==m?(p=e(i).createElement("div",{onMouseEnter:b,onFocus:b,onMouseLeave:_,onBlur:_,className:s},u,m),g[10]=u,g[11]=m,g[12]=p):p=g[12],p}:({children:t})=>{let[a,o]=(0,i.useState)(!1),r=e=>{(0,n("6mKj3").isExperimentEnabled)("confluence_race_mode")&&o(!0)},s=e=>{(0,n("6mKj3").isExperimentEnabled)("confluence_race_mode")&&o(!1)};return e(i).createElement("div",{onMouseEnter:r,onFocus:r,onMouseLeave:s,onBlur:s,className:(0,n("gMc0m").default)([f.itemWrapper])},e(i).createElement("div",{className:(0,n("gMc0m").default)([f.childrenWrapper])},t()),a&&(0,n("6mKj3").isExperimentEnabled)("confluence_race_mode")&&e(i).createElement(n("gj7hi").default,{src:e(l),srcDark:e(l),alt:"",testId:"confluence-whiteboards-car-icon",className:(0,n("gMc0m").default)([f.rightIcon])}))},E=(0,o.isReactCompilerActiveV1)()?function(t){let a,o,l,f,E,C,h,b,_,I,y,S,v,T,A,w,N,R=(0,r.c)(59),{parentId:k,source:x,spaceKey:O,onClick:L}=t,{formatMessage:P}=(0,n("8C5kA").default)(),{isOpen:M}=(0,n("eB1TF").useUniversalCreateState)(),D=(0,n("eVXGa").useIsAllowedToCreateWhiteboard)(),{showModal:U}=(0,n("8aF6s").useDialogs)(),{createAnalyticsEvent:F}=(0,n("inPa6").useAnalyticsEvents)(),B=(0,i.useContext)(n("1kHsc").ExperienceTrackerContext);R[0]!==M?(a=(0,n("9wGTI").fg)("load-whiteboards-paywall-query-when-menu-is-open")&&!M,R[0]=M,R[1]=a):a=R[1];let j=a,{deactivationIdentifier:V,error:G,paywallStatus:H,showPaywallBeforeCreate:K}=(0,n("5nX81").useWhiteboardCreationPaywall)(j);R[2]===Symbol.for("react.memo_cache_sentinel")?(o={source:"create-whiteboard-popover-item"},R[2]=o):o=R[2];let{enforceStorageLimit:W,shouldBlockCreate:q}=(0,n("lqy4C").useHardStorageEnforcement)(o);R[3]!==V||R[4]!==k||R[5]!==H||R[6]!==x||R[7]!==O?(l=(e,t)=>(0,n("bZSO8").buildCreationLink)({contentType:"whiteboard",parentPageId:k,withFallback:!0,source:x+(void 0===t?"":t),spaceKey:O,deactivationIdentifier:V,paywallStatus:H,...void 0===e?{}:e}),R[3]=V,R[4]=k,R[5]=H,R[6]=x,R[7]=O,R[8]=l):l=R[8];let z=l;R[9]!==z?(f=z(),R[9]=z,R[10]=f):f=R[10];let Y=f,Q=(0,n("bBaUQ").useHybridLinkClick)(Y);R[11]!==z||R[12]!==F||R[13]!==G||R[14]!==B||R[15]!==Q||R[16]!==L||R[17]!==H||R[18]!==U||R[19]!==K||R[20]!==x?(E=e=>{L("createWhiteboardPopoverItem"),(0,n("9wGTI").fg)("confluence_content_creation_paywall_fix_enabled")&&(B.start({name:n("irVI7").CONTENT_CREATION_PAYWALL_EXPERIENCE,attributes:p,collect:n("5nX81").collectStartCreateWhiteboardExperience}),G&&B.fail({name:n("irVI7").CONTENT_CREATION_PAYWALL_EXPERIENCE,error:G})),K?(e.stopPropagation(),e.preventDefault(),U(s.WhiteboardCreationPaywallDialog,{buildWhiteboardCreationLink:z})):(H===n("98wxI").PaywallStatus.UNSET&&F({type:"sendOperationalEvent",data:{action:"clicked",actionSubject:"createUnsetWhiteboardLink",source:x,attributes:{reason:G?"error":"loading"}}}).fire(),Q(e))},R[11]=z,R[12]=F,R[13]=G,R[14]=B,R[15]=Q,R[16]=L,R[17]=H,R[18]=U,R[19]=K,R[20]=x,R[21]=E):E=R[21];let X=E,{getExperiment:J,skipCoordinationClientForExperiment:Z}=(0,n("gUusY").useWhiteboardNudgeExperiments)(c,d),[ee,et]=(0,n("8fj5s").useSkippableCoordination)("cc-whiteboards-nudge-exp-spotlight-v2",q||Z),[en,ea]=(0,i.useState)(!0);R[22]!==J||R[23]!==ee?(C=ee&&"variation"===J(u.experimentName,u.cohort,!0),R[22]=J,R[23]=ee,R[24]=C):C=R[24];let eo=C;R[25]!==et?(h=()=>{ea(!1),et()},R[25]=et,R[26]=h):h=R[26];let er=h;R[27]!==Y||R[28]!==X||R[29]!==er||R[30]!==x?(b=t=>{let{children:a}=t;return e(i).createElement(n("lv5Bc").CreateWhiteboardExperimentPopoverItemSpotlight,{createHref:Y,spotlightDialogPlacement:"right middle",handleSpotlightClose:er,handleClosePopoverMenu:X,source:x,shouldWatchTarget:!0},a())},R[27]=Y,R[28]=X,R[29]=er,R[30]=x,R[31]=b):b=R[31];let ei=b;R[32]===Symbol.for("react.memo_cache_sentinel")?(_=n("6yCpa").Ati.parse("ati:cloud:confluence:whiteboard"),R[32]=_):_=R[32],R[33]!==G?(I=!(0,n("9wGTI").fg)("confluence_content_creation_paywall_fix_enabled")&&e(i).createElement(e(i).Fragment,null,e(i).createElement(n("ln0hx").ExperienceStart,{name:n("irVI7").CONTENT_CREATION_PAYWALL_EXPERIENCE,collect:n("5nX81").collectStartCreateWhiteboardExperience,attributes:p}),G&&e(i).createElement(n("gfIPU").ExperienceFailure,{name:n("irVI7").CONTENT_CREATION_PAYWALL_EXPERIENCE,error:G})),R[33]=G,R[34]=I):I=R[34],R[35]!==P?(y=P(m.title),R[35]=P,R[36]=y):y=R[36],R[37]!==I||R[38]!==y?(S=e(i).createElement("div",null,I,y),R[37]=I,R[38]=y,R[39]=S):S=R[39],R[40]!==W||R[41]!==X?(v=W(X),R[40]=W,R[41]=X,R[42]=v):v=R[42],R[43]===Symbol.for("react.memo_cache_sentinel")?(T=(0,n("6mKj3").isExperimentEnabled)("confluence_race_mode")&&{Wrapper:g},R[43]=T):T=R[43],R[44]!==Y||R[45]!==D||R[46]!==q?(A=!q&&D&&{href:Y},R[44]=Y,R[45]=D,R[46]=q,R[47]=A):A=R[47],R[48]!==ei||R[49]!==D||R[50]!==eo||R[51]!==en?(w=en&&eo&&D&&{Wrapper:ei},R[48]=ei,R[49]=D,R[50]=eo,R[51]=en,R[52]=w):w=R[52];let es=`create-menu-${q?"button":"link"}-item`;return R[53]!==S||R[54]!==v||R[55]!==A||R[56]!==w||R[57]!==es?(N={ati:_,children:S,onClick:v,elemBefore:e(n("ZDq1z")),...T,...A,...w,testId:es},R[53]=S,R[54]=v,R[55]=A,R[56]=w,R[57]=es,R[58]=N):N=R[58],N}:function({parentId:t,source:a,spaceKey:o,onClick:r}){let{formatMessage:l}=(0,n("8C5kA").default)(),{isOpen:f}=(0,n("eB1TF").useUniversalCreateState)(),E=(0,n("eVXGa").useIsAllowedToCreateWhiteboard)(),{showModal:C}=(0,n("8aF6s").useDialogs)(),{createAnalyticsEvent:h}=(0,n("inPa6").useAnalyticsEvents)(),b=(0,i.useContext)(n("1kHsc").ExperienceTrackerContext),_=(0,n("9wGTI").fg)("load-whiteboards-paywall-query-when-menu-is-open")&&!f,{deactivationIdentifier:I,error:y,paywallStatus:S,showPaywallBeforeCreate:v}=(0,n("5nX81").useWhiteboardCreationPaywall)(_),{enforceStorageLimit:T,shouldBlockCreate:A}=(0,n("lqy4C").useHardStorageEnforcement)({source:"create-whiteboard-popover-item"}),w=(e={},r="")=>(0,n("bZSO8").buildCreationLink)({contentType:"whiteboard",parentPageId:t,withFallback:!0,source:a+r,spaceKey:o,deactivationIdentifier:I,paywallStatus:S,...e}),N=w(),R=(0,n("bBaUQ").useHybridLinkClick)(N),k=e=>{r("createWhiteboardPopoverItem"),(0,n("9wGTI").fg)("confluence_content_creation_paywall_fix_enabled")&&(b.start({name:n("irVI7").CONTENT_CREATION_PAYWALL_EXPERIENCE,attributes:p,collect:n("5nX81").collectStartCreateWhiteboardExperience}),y&&b.fail({name:n("irVI7").CONTENT_CREATION_PAYWALL_EXPERIENCE,error:y})),v?(e.stopPropagation(),e.preventDefault(),C(s.WhiteboardCreationPaywallDialog,{buildWhiteboardCreationLink:w})):(S===n("98wxI").PaywallStatus.UNSET&&h({type:"sendOperationalEvent",data:{action:"clicked",actionSubject:"createUnsetWhiteboardLink",source:a,attributes:{reason:y?"error":"loading"}}}).fire(),R(e))},{getExperiment:x,skipCoordinationClientForExperiment:O}=(0,n("gUusY").useWhiteboardNudgeExperiments)(c,d),[L,P]=(0,n("8fj5s").useSkippableCoordination)("cc-whiteboards-nudge-exp-spotlight-v2",A||O),[M,D]=(0,i.useState)(!0),U=L&&"variation"===x(u.experimentName,u.cohort,!0),F=(0,i.useCallback)(()=>{D(!1),P()},[P,D]);return{ati:n("6yCpa").Ati.parse("ati:cloud:confluence:whiteboard"),children:e(i).createElement("div",null,!(0,n("9wGTI").fg)("confluence_content_creation_paywall_fix_enabled")&&e(i).createElement(e(i).Fragment,null,e(i).createElement(n("ln0hx").ExperienceStart,{name:n("irVI7").CONTENT_CREATION_PAYWALL_EXPERIENCE,collect:n("5nX81").collectStartCreateWhiteboardExperience,attributes:p}),y&&e(i).createElement(n("gfIPU").ExperienceFailure,{name:n("irVI7").CONTENT_CREATION_PAYWALL_EXPERIENCE,error:y})),l(m.title)),onClick:T(k),elemBefore:e(n("ZDq1z")),...(0,n("6mKj3").isExperimentEnabled)("confluence_race_mode")&&{Wrapper:g},...!A&&E&&{href:N},...M&&U&&E&&{Wrapper:({children:t})=>e(i).createElement(n("lv5Bc").CreateWhiteboardExperimentPopoverItemSpotlight,{createHref:N,spotlightDialogPlacement:"right middle",handleSpotlightClose:F,handleClosePopoverMenu:k,source:a,shouldWatchTarget:!0},t())},testId:`create-menu-${A?"button":"link"}-item`}};t.exports.useWhiteboardItem=E}),a("gfIPU",function(e,t){var a=n("3u0dr"),o=n("frIzR"),r=n("42omo");let i=(0,a.isReactCompilerActiveV1)()?function(e){let t,a,i=(0,o.c)(6),{name:s,error:l,attributes:c}=e,d=(0,r.useContext)(n("1kHsc").ExperienceTrackerContext);return i[0]!==c||i[1]!==l||i[2]!==d||i[3]!==s?(t=()=>d.fail({name:s,error:l,attributes:c}),a=[d,s,l,c],i[0]=c,i[1]=l,i[2]=d,i[3]=s,i[4]=t,i[5]=a):(t=i[4],a=i[5]),(0,r.useEffect)(t,a),null}:function({name:e,error:t,attributes:a}){let o=(0,r.useContext)(n("1kHsc").ExperienceTrackerContext);return(0,r.useEffect)(()=>o.fail({name:e,error:t,attributes:a}),[o,e,t,a]),null};e.exports.ExperienceFailure=i}),a("eVXGa",function(e,t){let a=e=>e===n("d9tcB").AccessStatus.LICENSED_ADMIN_ACCESS||e===n("d9tcB").AccessStatus.LICENSED_USE_ACCESS||e===n("d9tcB").AccessStatus.EXTERNAL_COLLABORATOR_ACCESS;e.exports.useIsAllowedToCreateWhiteboard=()=>{let{accessStatus:e}=(0,n("bQm3c").useSessionData)();return a(e)}}),a("lv5Bc",function(t,a){var o=n("42omo"),r=n("fdesk");let i=(0,n("cgtv4").defineMessages)({tryWhiteboardsButton:{id:"content-types-experiments.spotlight.try.whiteboards.button",defaultMessage:"Try whiteboards"},dismissButton:{id:"content-types-experiments.spotlight.dismiss.button",defaultMessage:"Dismiss"},body:{id:"content-types-experiments.spotlight.body.text",defaultMessage:"Collaborate on ideas and visualize work with whiteboards."}}),s=(0,n("ecnYn").xcss)({height:"60px"});t.exports.CreateWhiteboardExperimentPopoverItemSpotlight=({children:t,createHref:a,handleSpotlightClose:l,handleClosePopoverMenu:c,spotlightDialogPlacement:d,source:u,shouldWatchTarget:m=!1})=>{let p=(0,n("8C5kA").default)(),{createAnalyticsEvent:f}=(0,n("inPa6").useAnalyticsEvents)(),g=(0,o.useRef)(!1),E=(0,o.useCallback)(()=>{g.current||(g.current=!0,l?.())},[l]);(0,o.useEffect)(()=>()=>{E()},[E,f,u]),(0,o.useEffect)(()=>{f({type:"sendScreenEvent",data:{name:"whiteboardNudgeCampaignSpotlight",attributes:{nudgeSource:u}}}).fire()},[]);let C=(0,o.useCallback)(e=>{f({type:"sendUIEvent",data:{action:"clicked",actionSubject:"link",actionSubjectId:"tryIt",source:"whiteboardNudgeCampaignSpotlight",attributes:{nudgeSource:u}}}).fire(),c?.(e),E()},[c,E,f,u]),h=(0,o.useCallback)(()=>{f({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"dismiss",source:"whiteboardNudgeCampaignSpotlight",attributes:{nudgeSource:u}}}).fire(),E()},[E,f,u]);return e(o).createElement(n("6cnUO").default,{onBlanketClicked:E},e(o).createElement(n("5izcQ").default,{name:"create-whiteboard-experimentation-spotlight"},t),e(o).createElement(n("2Fndw").default,null,e(o).createElement(n("5RBJ9").default,{target:"create-whiteboard-experimentation-spotlight",targetBgColor:"var(--ds-text-inverse, #FFFFFF)",targetRadius:4,dialogPlacement:d,image:e(r),dialogWidth:275,shouldWatchTarget:m,actions:[{href:a,onClick:C,text:p.formatMessage(i.tryWhiteboardsButton)},{appearance:"subtle",onClick:h,text:p.formatMessage(i.dismissButton)}]},e(o).createElement(n("6f0Oj").default,{xcss:s},e(o).createElement(n("gtD4K").default,i.body)))))}}),a("fdesk",function(e,t){e.exports=new URL("WhiteboardExperimentSpotlightImage.49c94c1b.svg",import.meta.url).toString()}),a("gUusY",function(e,t){e.exports.useWhiteboardNudgeExperiments=(e,t)=>{let a=(e,t,a)=>{let[o,r]=(0,n("6mKj3").UNSAFE_noExposureExp)(e);return a&&r(),o.get(t,"not-enrolled")};return{skipCoordinationClientForExperiment:"not-enrolled"===a(e,t,!1),getExperiment:a}}}),a("5nX81",function(e,t){var a=n("3u0dr"),o=n("frIzR");let r=(0,a.isReactCompilerActiveV1)()?e=>{let t,a,r,i=(0,o.c)(9),{edition:s}=(0,n("bQm3c").useSessionData)(),l=s===n("euL71").ConfluenceEdition.PREMIUM,c=(0,n("eVXGa").useIsAllowedToCreateWhiteboard)(),d=void 0!==e&&e||!c||l;i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n("eSUdr").default)`query useWhiteboardCreationPaywallWhiteboardCreationPaywallContentToDisableQuery{paywallContentToDisable(contentType:"whiteboard"){deactivationIdentifier link title}}`,i[0]=t):t=i[0],i[1]!==d?(a={fetchPolicy:"no-cache",skip:d},i[1]=d,i[2]=a):a=i[2];let{data:u,error:m}=(0,n("xQxzY").useQuery)(t,a);if(l){let e;return i[3]===Symbol.for("react.memo_cache_sentinel")?(e={deactivationIdentifier:void 0,paywallStatus:n("98wxI").PaywallStatus.ACTIVE,showPaywallBeforeCreate:!1},i[3]=e):e=i[3],e}let p=u?.paywallContentToDisable?.deactivationIdentifier,f=u?n("98wxI").PaywallStatus.ACTIVE:n("98wxI").PaywallStatus.UNSET,g=!!p;return i[4]!==p||i[5]!==m||i[6]!==f||i[7]!==g?(r={deactivationIdentifier:p,error:m,paywallStatus:f,showPaywallBeforeCreate:g},i[4]=p,i[5]=m,i[6]=f,i[7]=g,i[8]=r):r=i[8],r}:(e=!1)=>{let{edition:t}=(0,n("bQm3c").useSessionData)(),a=t===n("euL71").ConfluenceEdition.PREMIUM,o=(0,n("eVXGa").useIsAllowedToCreateWhiteboard)(),{data:r,error:i}=(0,n("xQxzY").useQuery)((0,n("eSUdr").default)`query useWhiteboardCreationPaywallWhiteboardCreationPaywallContentToDisableQuery{paywallContentToDisable(contentType:"whiteboard"){deactivationIdentifier link title}}`,{fetchPolicy:"no-cache",skip:e||!o||a});if(a)return{deactivationIdentifier:void 0,paywallStatus:n("98wxI").PaywallStatus.ACTIVE,showPaywallBeforeCreate:!1};let s=r?.paywallContentToDisable?.deactivationIdentifier;return{deactivationIdentifier:s,error:i,paywallStatus:r?n("98wxI").PaywallStatus.ACTIVE:n("98wxI").PaywallStatus.UNSET,showPaywallBeforeCreate:!!s}};e.exports.useWhiteboardCreationPaywall=r,e.exports.collectStartCreateWhiteboardExperience=(e,t)=>{e.find(e=>"taskStart"===e.action&&e.name===n("irVI7").CREATE_WHITEBOARD_EXPERIENCE)&&t.succeed()}}),a("fCfQ7",function(t,a){var o=n("3u0dr"),r=n("frIzR"),i=n("42omo"),s=n("5vUJ3"),l=n("b3j2Y");let c=`${n("hQnHK").WHITEBOARD_CREATION_PAYWALL_SOURCE_PREFIX}upfrontDialog`,d=(0,n("cgtv4").defineMessages)({body:{id:"create-blank-fabric-page.whiteboard-creation-paywall-dialog.body",defaultMessage:"You have a limit of three editable whiteboards. If you create a new whiteboard, an older whiteboard will become view-only."},bodyFree:{id:"create-blank-fabric-page.whiteboard-creation-paywall-dialog.body-free",defaultMessage:"You have a limit of three editable whiteboards. If you create a new whiteboard, an older whiteboard will become view-only."},bodyStandard:{id:"create-blank-fabric-page.whiteboard-creation-paywall-dialog.body-standard",defaultMessage:"You have a limit of ten editable whiteboards. If you create a new whiteboard, an older whiteboard will become view-only."},bodyUpsell:{id:"create-blank-fabric-page.whiteboard-creation-paywall-dialog.bodyUpsell",defaultMessage:"To create unlimited whiteboards, upgrade to Premium."},bodyAdminStandard:{id:"create-blank-fabric-page.whiteboard-creation-paywall-dialog.body-admin-standard",defaultMessage:"You can only edit ten whiteboards at a time. Until you upgrade, your oldest boards will become view-only as you create new ones."},bodyEndUserStandard:{id:"create-blank-fabric-page.whiteboard-creation-paywall-dialog.body-end-user-standard",defaultMessage:"You can only edit ten whiteboards at a time. Until you upgrade through your admin, your oldest boards will become view-only as you create new ones."},bodyAdminFree:{id:"create-blank-fabric-page.whiteboard-creation-paywall-dialog.body-admin-free",defaultMessage:"You can only edit three whiteboards at a time. Until you upgrade, your oldest boards will become view-only as you create new ones."},bodyEndUserFree:{id:"create-blank-fabric-page.whiteboard-creation-paywall-dialog.body-end-user-free",defaultMessage:"You can only edit three whiteboards at a time. Until you upgrade through your admin, your oldest boards will become view-only as you create new ones."},createWhiteboard:{id:"create-blank-fabric-page.whiteboard-creation-paywall-dialog.createWhiteboard",defaultMessage:"Create whiteboard"},defaultTitle:{id:"create-blank-fabric-page.whiteboard-creation-paywall-dialog.defaultWhiteboardName",defaultMessage:"An older board will become view-only"},learnMore:{id:"create-blank-fabric-page.whiteboard-creation-paywall-dialog.learnMore",defaultMessage:"Learn about usage"},title:{id:"create-blank-fabric-page.whiteboard-creation-paywall-dialog.title",defaultMessage:"{whiteboardName} will become view-only"}}),u=(0,n("ecnYn").xcss)({textDecoration:"none",":hover":{textDecoration:"underline",cursor:"pointer"}}),m=(0,o.isReactCompilerActiveV1)()?t=>{let a,o,s=(0,r.c)(5),{href:l,name:c}=t;s[0]!==l||s[1]!==c?(a=()=>{if(!c)return e(i).createElement(n("gtD4K").default,{...d.defaultTitle,tagName:"span"});let t=l?function(t,a){return(0,n("9wGTI").fg)("ten_active_boards_in_standard")?e(i).createElement(n("fpGTa").default,{xcss:u,href:t},a):(0,n("9wGTI").fg)("dst-a11y__replace-anchor-with-link__content-types")?e(i).createElement(n("2Nwuj").default,{href:t,target:"_blank"},a):e(i).createElement("a",{href:t,target:"_blank"},a)}(`${n("1NBp8").WIKI.toUrl()}${l}`,c):c;return e(i).createElement(n("gtD4K").default,{...d.title,values:{whiteboardName:t}})},s[0]=l,s[1]=c,s[2]=a):a=s[2];let m=a;return s[3]!==m?(o=e(i).createElement("span",{"data-testid":"paywall-title"},m()),s[3]=m,s[4]=o):o=s[4],o}:({href:t,name:a})=>{let o=(t,a)=>(0,n("9wGTI").fg)("ten_active_boards_in_standard")?e(i).createElement(n("fpGTa").default,{xcss:u,href:t},a):(0,n("9wGTI").fg)("dst-a11y__replace-anchor-with-link__content-types")?e(i).createElement(n("2Nwuj").default,{href:t,target:"_blank"},a):e(i).createElement("a",{href:t,target:"_blank"},a);return e(i).createElement("span",{"data-testid":"paywall-title"},(()=>{if(!a)return e(i).createElement(n("gtD4K").default,{...d.defaultTitle,tagName:"span"});let r=t?o(`${n("1NBp8").WIKI.toUrl()}${t}`,a):a;return e(i).createElement(n("gtD4K").default,{...d.title,values:{whiteboardName:r}})})())},p=(0,o.isReactCompilerActiveV1)()?t=>{let a,o,u,p,f,g,E,C,h,b,_,I,y,S,v,T,A=(0,r.c)(40),{onClose:w,onCloseComplete:N,buildWhiteboardCreationLink:R}=t,{createAnalyticsEvent:k}=(0,n("inPa6").useAnalyticsEvents)(),{push:x}=(0,n("dPJCf").useRouteActions)(),O=(0,n("bQm3c").useSessionData)(),L=O?.edition,{isSiteAdmin:P}=(0,i.useContext)(n("1ytiN").SPAViewContext);A[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n("eSUdr").default)`query WhiteboardCreationPaywallDialogWhiteboardCreationPaywallContentToDisableQuery{paywallContentToDisable(contentType:"whiteboard"){deactivationIdentifier link title}}`,o={fetchPolicy:"no-cache"},A[0]=a,A[1]=o):(a=A[0],o=A[1]);let{data:M,loading:D,error:U}=(0,n("xQxzY").useQuery)(a,o);A[2]!==R||A[3]!==M?.paywallContentToDisable?({link:p,title:g,deactivationIdentifier:u}=M?.paywallContentToDisable||{},f=R({deactivationIdentifier:u,paywallStatus:n("98wxI").PaywallStatus.ACTIVE},"-creationPaywall"),A[2]=R,A[3]=M?.paywallContentToDisable,A[4]=u,A[5]=p,A[6]=f,A[7]=g):(u=A[4],p=A[5],f=A[6],g=A[7]);let F=f;A[8]!==k||A[9]!==F||A[10]!==u||A[11]!==U||A[12]!==D||A[13]!==w||A[14]!==N||A[15]!==x?(E=()=>{D||U||u||(x(F),k({type:"sendOperationalEvent",data:{action:"autoCreate",actionSubject:"activeSlotAvailableAfterRenderingCreationPaywall",source:c}}).fire(),w(),N())},C=[u,D,U,F,w,N,x,k],A[8]=k,A[9]=F,A[10]=u,A[11]=U,A[12]=D,A[13]=w,A[14]=N,A[15]=x,A[16]=E,A[17]=C):(E=A[16],C=A[17]),(0,i.useEffect)(E,C),A[18]!==w||A[19]!==N?(h=()=>{w(),N()},A[18]=w,A[19]=N,A[20]=h):h=A[20],A[21]!==F||A[22]!==h?(b={actionSubjectId:"whiteboardPaywallCreateNewWhiteboardButton",messageDescriptor:d.createWhiteboard,href:F,onClick:h,target:"_self"},A[21]=F,A[22]=h,A[23]=b):b=A[23];let B=b;A[24]===Symbol.for("react.memo_cache_sentinel")?(_={actionSubjectId:n("hQnHK").WHITEBOARD_PAYWALL_INFO_ACTION_SUBJECT_ID,href:"https://support.atlassian.com/confluence-cloud/docs/understand-confluence-whiteboards-plans-and-features/",messageDescriptor:d.learnMore},A[24]=_):_=A[24];let j=_,V=d.body;return(0,n("9wGTI").fg)("ten_active_boards_in_standard")&&(V=L===n("euL71").ConfluenceEdition.STANDARD?P?d.bodyAdminStandard:d.bodyEndUserStandard:P?d.bodyAdminFree:d.bodyEndUserFree),A[25]!==p||A[26]!==g?(I=e(i).createElement(m,{href:p,name:g}),A[25]=p,A[26]=g,A[27]=I):I=A[27],A[28]!==V?(y=e(i).createElement(n("gtD4K").default,{...V,tagName:"p"}),A[28]=V,A[29]=y):y=A[29],A[30]===Symbol.for("react.memo_cache_sentinel")?(S=!(0,n("9wGTI").fg)("ten_active_boards_in_standard")&&e(i).createElement(n("gtD4K").default,{...d.bodyUpsell,tagName:"p"}),A[30]=S):S=A[30],A[31]!==U?(v=U&&e(i).createElement(l.ErrorDisplay,{error:U},e(i).createElement(n("gfIPU").ExperienceFailure,{name:n("irVI7").CONTENT_CREATION_PAYWALL_EXPERIENCE,error:U})),A[31]=U,A[32]=v):v=A[32],A[33]!==B||A[34]!==w||A[35]!==N||A[36]!==y||A[37]!==v||A[38]!==I?(T=e(i).createElement(s.WhiteboardsActiveBoardLimitModal,{learnMoreLink:j,onClose:w,onCloseComplete:N,secondaryLink:B,source:c,title:I,upgradeEditionActionSubjectId:n("hQnHK").WHITEBOARD_PAYWALL_UPSELL_ACTION_SUBJECT_ID},y,S,v),A[33]=B,A[34]=w,A[35]=N,A[36]=y,A[37]=v,A[38]=I,A[39]=T):T=A[39],T}:({onClose:t,onCloseComplete:a,buildWhiteboardCreationLink:o})=>{let{createAnalyticsEvent:r}=(0,n("inPa6").useAnalyticsEvents)(),{push:u}=(0,n("dPJCf").useRouteActions)(),p=(0,n("bQm3c").useSessionData)(),f=p?.edition,{isSiteAdmin:g}=(0,i.useContext)(n("1ytiN").SPAViewContext),{data:E,loading:C,error:h}=(0,n("xQxzY").useQuery)((0,n("eSUdr").default)`query WhiteboardCreationPaywallDialogWhiteboardCreationPaywallContentToDisableQuery{paywallContentToDisable(contentType:"whiteboard"){deactivationIdentifier link title}}`,{fetchPolicy:"no-cache"}),{link:b,title:_,deactivationIdentifier:I}=E?.paywallContentToDisable||{},y=o({deactivationIdentifier:I,paywallStatus:n("98wxI").PaywallStatus.ACTIVE},"-creationPaywall");(0,i.useEffect)(()=>{C||h||I||(u(y),r({type:"sendOperationalEvent",data:{action:"autoCreate",actionSubject:"activeSlotAvailableAfterRenderingCreationPaywall",source:c}}).fire(),t(),a())},[I,C,h,y,t,a,u,r]);let S={actionSubjectId:"whiteboardPaywallCreateNewWhiteboardButton",messageDescriptor:d.createWhiteboard,href:y,onClick:()=>{t(),a()},target:"_self"},v={actionSubjectId:n("hQnHK").WHITEBOARD_PAYWALL_INFO_ACTION_SUBJECT_ID,href:"https://support.atlassian.com/confluence-cloud/docs/understand-confluence-whiteboards-plans-and-features/",messageDescriptor:d.learnMore},T=d.body;return(0,n("9wGTI").fg)("ten_active_boards_in_standard")&&(T=f===n("euL71").ConfluenceEdition.STANDARD?g?d.bodyAdminStandard:d.bodyEndUserStandard:g?d.bodyAdminFree:d.bodyEndUserFree),e(i).createElement(s.WhiteboardsActiveBoardLimitModal,{learnMoreLink:v,onClose:t,onCloseComplete:a,secondaryLink:S,source:c,title:e(i).createElement(m,{href:b,name:_}),upgradeEditionActionSubjectId:n("hQnHK").WHITEBOARD_PAYWALL_UPSELL_ACTION_SUBJECT_ID},e(i).createElement(n("gtD4K").default,{...T,tagName:"p"}),!(0,n("9wGTI").fg)("ten_active_boards_in_standard")&&e(i).createElement(n("gtD4K").default,{...d.bodyUpsell,tagName:"p"}),h&&e(i).createElement(l.ErrorDisplay,{error:h},e(i).createElement(n("gfIPU").ExperienceFailure,{name:n("irVI7").CONTENT_CREATION_PAYWALL_EXPERIENCE,error:h})))};t.exports.WhiteboardCreationPaywallDialog=p}),a("5vUJ3",function(t,a){var o=n("42omo"),r=n("aJv6Q"),i=n("lHQAj"),s=n("hvXOl"),l=n("5hK0S"),c=n("iDxbX"),d=n("2aQ91"),u=n("cHKtk");let m=(0,o.forwardRef)(({as:t="div",style:a,...r},i)=>e(o).createElement(t,{...r,style:a,ref:i,className:(0,n("gMc0m").default)(["_1reo15vq _18m915vq _2rko22hw",r.className])})),p=(e,t,n)=>n?"default":t.appearance?t.appearance:e?"link":"primary",f=(0,r.withErrorBoundary)({attribution:n("3IBnw").Attribution.CONTENT_TYPES})(({children:t,learnMoreLink:a,secondaryLink:r,onClose:f,source:g,title:E,upgradeEditionActionSubjectId:C})=>{let{createAnalyticsEvent:h}=(0,n("inPa6").useAnalyticsEvents)(),{formatMessage:b}=(0,n("8C5kA").default)(),{isSiteAdmin:_}=(0,o.useContext)(n("1ytiN").SPAViewContext),{showRequestUpgradeButton:I,showRequestUpgradeButtonAATest:y,loading:S}=(0,u.useEnableEndUserRequestUpgrade)(g);(0,o.useEffect)(()=>{h({type:"sendScreenEvent",data:{name:g}}).fire()},[h,g]);let v=()=>{h({type:"sendUIEvent",data:{action:"clicked",actionSubject:"link",actionSubjectId:a.actionSubjectId,source:g}}).fire()},T=_&&!(0,n("9wGTI").fg)("ten_active_boards_in_standard");return e(o).createElement(m,null,e(o).createElement(i.Card,{body:e(o).createElement(e(o).Fragment,null,t),isLoadingRequestUpgradeButton:S,showRequestUpgradeButton:I,showRequestUpgradeButtonAATest:y,learnMoreLink:I?void 0:{...a,appearance:a.appearance||"link"},secondaryLink:{...r,appearance:p(_,r,!!I)},source:g,targetEdition:n("euL71").ConfluenceEdition.PREMIUM,title:E,upgradeEditionActionSubjectId:C,headerButton:e(o).createElement(e(o).Fragment,null,T&&e(o).createElement(n("3gadb").default,{content:b(a.messageDescriptor)},t=>e(o).createElement(n("eEA8O").default,{appearance:"subtle-link",href:a.href,iconBefore:e(o).createElement(e(n("ci7Ox")),{label:b(a.messageDescriptor),color:"var(--ds-text-subtle, #505258)"}),spacing:"none",target:"_blank",...t,onClick:e=>{t?.onClick?.(e),v()}})),e(o).createElement(n("8TTLA").CloseButton,{testId:"whiteboards-active-board-modal-close-button",onClick:()=>{f?.("close")}}))},e(o).createElement(n("gj7hi").default,{src:(0,n("9wGTI").fg)("ten_active_boards_in_standard")?e(c):e(s),srcDark:(0,n("9wGTI").fg)("ten_active_boards_in_standard")?e(d):e(l),alt:"",width:"100%"})))});t.exports.WhiteboardsActiveBoardLimitModal=t=>e(o).createElement(n("8CZUH").default,{onClose:()=>t.onClose?.("close"),onCloseComplete:t.onCloseComplete,shouldScrollInViewport:!0,testId:"whiteboards-upsell-modal",width:"440px"},e(o).createElement(f,t))}),a("lHQAj",function(t,a){var o=n("42omo"),r=n("4WmbV");let i=(0,o.forwardRef)(({as:t="div",style:a,...r},i)=>e(o).createElement(t,{...r,style:a,ref:i,className:(0,n("gMc0m").default)(["_1e0c1txw _2lx21bp4 _16jlkb7n _4cvr1h6o _bfhk1bhr _kqswh2mm",r.className])})),s=(0,o.forwardRef)(({as:t="div",style:a,...r},i)=>e(o).createElement(t,{...r,style:a,ref:i,className:(0,n("gMc0m").default)(["_1yt41ejb _1wpz1fhb",r.className])})),l=(0,o.forwardRef)(({as:t="div",style:a,...r},i)=>e(o).createElement(t,{...r,style:a,ref:i,className:(0,n("gMc0m").default)(["_18rx4jg8",r.className])}));l.displayName="CardContentsContainer";let c=(0,o.forwardRef)(({as:t="div",style:a,...r},i)=>e(o).createElement(t,{...r,style:a,ref:i,className:(0,n("gMc0m").default)(["_2rko12b0 _19itoecm _11q71bhr _1reo15vq _18m915vq _16qs130s",r.className])}));t.exports.Card=({children:t,...n})=>e(o).createElement(i,null,2>e(o).Children.count(t)?t:e(o).createElement("div",null,t),e(o).createElement(s,null,e(o).createElement(r.ChangeEditionSectionMessage,{...n,withTasteAndToneStyling:!0,buttonGroupAlignment:"right"}))),t.exports.CardContainer=({children:t})=>e(o).createElement(c,null,e(o).createElement(l,null,t))}),a("4WmbV",function(t,a){var o,r=n("42omo"),i=n("iJ9aA"),s=n("ki6F7"),l=n("cHKtk"),c=((o={}).DEFAULT="default",o.UPGRADE_ONLY="upgradeOnly",o.NONE="none",o);t.exports.SectionMessageButtonConfig=c,t.exports.ChangeEditionSectionMessage=({canShowUpgradeButton:t=!0,buttonConfig:a="default",upgradeEditionActionSubjectId:o="freeTryNow",grandfathered:c,source:d,onUpFlowOpen:u,secondaryLink:m,targetEdition:p,learnMoreLink:f,footer:g,headerButton:E,showRequestUpgradeButton:C=!1,showRequestUpgradeButtonAATest:h=!1,isLoadingRequestUpgradeButton:b=!1,..._})=>{let{createAnalyticsEvent:I}=(0,n("iC1wS").useEditionsAnalyticsContext)(),{isSiteAdmin:y}=(0,r.useContext)(n("1ytiN").SPAViewContext),S=(0,r.useMemo)(()=>({isSiteAdmin:y,isGrandfathered:!!c}),[c,y]),v=e=>({actionSubjectId:e,source:d,attributes:S}),T=(e,t)=>{I&&I({type:"sendUIEvent",data:{action:"clicked",actionSubject:"link",actionSubjectId:e,source:d,attributes:{...S,linkMessage:t}}}).fire()},A=()=>{m&&(T(m.actionSubjectId,m.messageDescriptor.defaultMessage),"function"==typeof m.onClick&&m.onClick())};(0,r.useEffect)(()=>{I&&I({type:"sendScreenEvent",data:{name:"changeEditionGatewayScreen",attributes:{...S,source:d}}}).fire()},[I,S,d]);let w=(t,a)=>{let o=f?.icon||a?f?.appearance||"default":"link",i=t?N({appearance:o}):null,s=m?e(r).createElement(n("eEA8O").default,{key:"secondLink",appearance:m.appearance||"default",href:m.href?m.href:void 0,id:"secondaryLink",spacing:"default",target:m.target||"_blank",onClick:A,testId:(0,n("k4Vdy").calculateTestId)({source:d,actionSubjectId:m.actionSubjectId})},e(r).createElement(n("gtD4K").default,m.messageDescriptor)):null;return m?.appearance==="primary"&&"primary"!==o?[s,i]:[i,s]},N=({children:t,...a})=>e(r).createElement(i.LearnMoreButton,{key:"learnMore",analyticsProps:v(f?.actionSubjectId||"freeLearnMore"),appearance:f?.appearance||"default",onUpFlowOpen:u,targetEdition:p,inProductHelpId:f?.inProductHelpId,inProductHelpTopic:f?.inProductHelpTopic,href:f?.href,icon:f?.icon,ariaLabel:f?.ariaLabel,...a,onClick:f?.onClick},void 0!==t?t:f?.messageDescriptor?e(r).createElement(n("gtD4K").default,f.messageDescriptor):void 0);return e(r).createElement(n("bhvFb").EditionSectionMessage,{actions:"none"!==a?e(r).createElement(n("hArLp").default,null,b&&(0,n("9wGTI").fg)("connie_end_user_request_kill_switch")?e(r).createElement(n("kpYGL").default,{width:"200px",height:"32px"}):e(r).createElement(n("lNKOh").ChangeEditionSectionMessageButtonsWrapper,{isSiteAdmin:y,canShowUpgradeButton:t,shouldShowLearnMore:!m,showRequestUpgradeButton:C},({showUpgradeTryNowButton:t,showLearnMore:i,learnMoreIsPrimaryCTA:c})=>{let m,f,g=t?e(r).createElement(s.UpgradeEditionButton,{analyticsProps:v(o),onUpFlowOpen:u,targetEdition:p,..._}):null;return g?m=g:C&&(0,n("9wGTI").fg)("connie_end_user_request_kill_switch")?m=e(r).createElement(l.EndUserRequestUpgradeButton,{source:d}):h&&(0,n("9wGTI").fg)("connie_end_user_request_kill_switch")&&(m=e(r).createElement("div",null)),"upgradeOnly"===a&&y||(f=g&&m!==g?[e(r).cloneElement(g,{appearance:"link"})]:w(i,c)),e(r).createElement(e(r).Fragment,null,m,f)})):void 0,edition:p,footer:y&&g?e(r).createElement(e(r).Fragment,null,g):null,headerButton:e(r).createElement(n("hArLp").default,null,E),..._})}}),a("iJ9aA",function(t,a){var o=n("bsrY7"),r=n("42omo"),i=n("f7tt0"),s=n("e5k34");let l=(0,n("ecnYn").xcss)({paddingLeft:"space.100",paddingRight:"space.100",margin:"auto"}),c=(0,n("ecnYn").xcss)({padding:"space.0"}),d=(0,n("cgtv4").defineMessages)({tryItFree:{id:"change-edition.section.message.try.free",defaultMessage:"Try it free"},learnMoreButton:{id:"change-edition.section.message.general.button.link",defaultMessage:"Learn more"}}),u=({analyticsProps:t,appearance:a,isSiteAdmin:u,onUpFlowOpen:m,targetEdition:p=n("euL71").ConfluenceEdition.STANDARD,isGrandfathered:f=!1,inProductHelpId:g,inProductHelpTopic:E,href:C,children:h,icon:b,onClick:_,ariaLabel:I,...y})=>{let S=(0,n("8C5kA").default)(),{cloudId:v,edition:T,userId:A,isLicensed:w}=(0,n("bQm3c").useSessionData)(),{createAnalyticsEvent:N}=(0,n("iC1wS").useEditionsAnalyticsContext)(),[R,k]=(0,r.useState)(!1),x=(0,r.useContext)(n("1kHsc").ExperienceTrackerContext),O=w&&(!u||T===n("euL71").ConfluenceEdition.FREE),{source:L,actionSubjectId:P}=t,M=(0,n("k4Vdy").calculateTestId)({source:L,actionSubjectId:P}),D=void 0!==h?h:e(r).createElement(n("gtD4K").default,d.learnMoreButton),U=b&&!D;(0,r.useEffect)(()=>()=>{O||x.abort({name:n("irVI7").UPSELL_EDITION_PREMIUM_EXPERIENCE,reason:"Canceled by user"})},[x,O]);let F=()=>{N({type:"sendUIEvent",data:{action:"clicked",actionSubject:"link",actionSubjectId:"freeLearnMore",...t,attributes:{currentEdition:T,isSiteAdmin:u,linkMessage:d.learnMoreButton.defaultMessage,targetEdition:p,...t.attributes}}}).fire(),x.start({name:O?n("irVI7").UPSELL_EDITION_UPFLOW_EXPERIENCE:n("irVI7").UPSELL_EDITION_PREMIUM_EXPERIENCE,attributes:{currentEdition:T,linkClicked:P||"freeLearnMore",source:L,targetEdition:p}})};if(f&&!u)return null;C||(C=O?"#":n("gsZdA").LEARN_MORE_LINK);let B=C.startsWith("#")?void 0:"_blank",j={target:B,href:C,onClick:e=>{if(F(),_)return void _();!B&&O&&(k(!0),e.preventDefault())},"aria-label":I&&S.formatMessage(I),testId:M,...y};return e(r).createElement(e(r).Fragment,null,!O&&g&&E?e(r).createElement(n("6f0Oj").default,{xcss:U?c:l},e(r).createElement(i.InProductHelpButton,{articleId:g,onClick:()=>{N({type:"sendUIEvent",data:{action:"clicked",actionSubject:"helpLink",source:"adminKeyUpSell",attributes:{targetArticleId:g,isSPA:!0}}}).fire()},articleTopic:E,testId:M,...y},U?b:D)):((t={})=>"inline-link"===a?e(r).createElement("a",t,D):e(r).createElement(n("eEA8O").default,{appearance:a,className:"subtle-link"===a?void 0:"primaryButton",id:"learnMoreLink",spacing:U?"none":"default",iconBefore:b,testId:M,...t},D))(j),O&&R&&e(r).createElement(s.UpFlowCommerceRouterLoadable,{cloudId:v,atlassianAccountId:A||void 0,canChangeEdition:u,currentEdition:T||void 0,targetEdition:p,flow:n("2KmnS").UpFlowComponentFlowType.LEARN_MORE,product:"confluence",touchpointId:L,onClose:()=>{e(o)(m)||k(!1)},onOpen:m,isExperienceTrackerEnabled:!0,epMessageId:n("gsZdA").UP_FLOW_EP_MESSAGE_ID}))},m=(0,n("f7Bnv").withIsSiteAdmin)(u);t.exports.i18n=d,t.exports.LearnMoreButtonComponent=u,t.exports.LearnMoreButton=m}),a("2KmnS",function(e,t){var n,a=((n={}).LEARN_MORE="learn-more",n.UPGRADE="upgrade",n.REQUEST_UPGRADE="request-upgrade",n.REQUEST_LEARN_MORE="request-learn-more",n);e.exports.UpFlowComponentFlowType=a}),a("f7tt0",function(e,t){let a=(0,n("jmjWc").LoadableAfterPaint)({__loadable_id__:"xD_n9",name:"InProductHelpButton",loader:async()=>(await n("j0wkI")).InProductHelpButton});e.exports.InProductHelpButton=a}),a("j0wkI",function(e,t){e.exports=n("4mJKd")(5)("82QsP").then(()=>n("lcEzf"))}),a("gsZdA",function(e,t){var n,a=((n={}).DEFAULT="default",n.FLAT="flat",n.INLINE="inline",n.INLINE_MODAL="inline-modal",n);e.exports.LEARN_MORE_LINK="https://confluence.atlassian.com/display/ConfCloud/Confluence+Cloud+plans",e.exports.SECTION_MESSAGE_APPEARANCE_TYPES=a,e.exports.UP_FLOW_EP_MESSAGE_ID="confluence-up-flow-modal"}),a("f7Bnv",function(t,a){var o=n("42omo");t.exports.withIsSiteAdmin=function(t){return function(a){let{isSiteAdmin:r,error:i,loading:s}=(0,o.useContext)(n("1ytiN").SPAViewContext);return i||s?null:e(o).createElement(t,{...a,isSiteAdmin:r})}}}),a("iC1wS",function(t,a){var o=n("42omo");let r=(0,o.createContext)(void 0),i=(e,t)=>({...e,data:{...e.data,attributes:{...e.data.attributes,...t?.customAttributes}}}),s=()=>{let e=(0,o.useContext)(r),{createAnalyticsEvent:t}=(0,n("inPa6").useAnalyticsEvents)(),a=(0,o.useCallback)(t=>i(t,e),[e]);return{createAnalyticsEvent:(0,o.useCallback)(e=>t(a(e)),[t,a]),wrapAnalyticsEventPayload:a}},l=()=>{let e=(0,o.useContext)(r),{createAnalyticsEvent:t}=(0,n("inPa6").useAnalyticsEvents)(),a=(0,o.useCallback)(t=>i(t,e),[e]);return{createAnalyticsEvent:(0,o.useCallback)(e=>{let n=t(a(e)),o=n.context?.find(e=>e?.attributes?.experimentMeta)?.attributes?.experimentMeta;return n.payload={...n.payload,data:{...n.payload?.data,attributes:{...n.payload?.data?.attributes,...o?.key&&o?.cohort&&{experiments:{[o.key]:{cohort:o.cohort}}}}}},n},[t,a]),wrapAnalyticsEventPayload:a}},c={};t.exports.useEditionsAnalyticsContext=()=>{let e=l(),t=s();return(0,n("9wGTI").fg)("replace_upsell_cta_content_fg")?e:t},t.exports.AnalyticsProvider=({children:t,customAttributes:n=c})=>{let a=(0,o.useMemo)(()=>({customAttributes:n}),[n]);return e(o).createElement(r.Provider,{value:a},t)}}),a("k4Vdy",function(t,a){var o=n("12IaO");t.exports.calculateTestId=({actionSubjectId:t,source:n})=>void 0!==t?`${n}${e(o)(t)}`:void 0}),a("ki6F7",function(t,a){var o=n("42omo"),r=n("b3j2Y"),i=n("hSqtY"),s=n("l0DoV"),l=n("e5k34");let c=(0,n("cgtv4").defineMessages)({tryItFree:{id:"change-edition.upgrade.try.free",defaultMessage:"Try it free"},tryItNow:{id:"change-edition.upgrade.try.now",defaultMessage:"Try it now"},tryPremium:{id:"change-edition.upgrade.try.premium",defaultMessage:"Try Premium"}}),d={[n("euL71").ConfluenceEdition.FREE]:n("5M47w").CommerceDeepLinksTargetEdition.FREE,[n("euL71").ConfluenceEdition.STANDARD]:n("5M47w").CommerceDeepLinksTargetEdition.STANDARD,[n("euL71").ConfluenceEdition.PREMIUM]:n("5M47w").CommerceDeepLinksTargetEdition.PREMIUM},u=e=>"primary"===e?n("dqdrq").GradientCTAButton:"subtle-link"===e?n("ktelT").GradientSubtleLinkButton:n("4KS7f").default,m=({analyticsProps:{actionSubjectId:t,attributes:a,source:i},appearance:m="primary",children:p,onUpFlowOpen:f,targetEdition:g=n("euL71").ConfluenceEdition.STANDARD,onUpgradeButtonClick:E})=>{let[C,h]=(0,o.useState)(!1),[b,_]=(0,o.useState)(),{cloudId:I,edition:y,userId:S}=(0,n("bQm3c").useSessionData)(),{createAnalyticsEvent:v}=(0,n("iC1wS").useEditionsAnalyticsContext)(),T=(0,n("ij4CE").useWriteFragmentInterop)({fragmentSpec:n("ey6Pt").default}),A=(0,o.useContext)(n("1kHsc").ExperienceTrackerContext),w=g===n("euL71").ConfluenceEdition.STANDARD,{cohort:N,isSiteAdmin:R,isBillingAdmin:k,loading:x}=(0,n("2UjZJ").useUpflowV2ConfluenceStandardFGsExperiment)({skip:!w||!C,touchpointId:i,currentEdition:y,targetEdition:g}),{commerceBackendName:O,planConsentDeepLink:L,errorMessage:P}=(0,n("5M47w").useCommerceDeepLinks)({targetEdition:d[g],skipDeepLinks:w});(0,o.useEffect)(()=>()=>{w||A.abort({name:n("irVI7").UPSELL_EDITION_PREMIUM_EXPERIENCE,reason:"Canceled by user"})},[A,w]),(0,o.useEffect)(()=>{v({type:"sendTrackEvent",data:{action:"rendered",actionSubject:"upgradeEditionButton",actionSubjectId:t,source:i,attributes:{...a,currentEdition:y,targetEdition:g}}}).fire()},[]);let M=()=>{a&&(a.currentEdition=y,a.targetEdition=g,a.commerceBackend=O),v({type:"sendUIEvent",data:{action:"clicked",actionSubject:"link",actionSubjectId:t,source:i,attributes:a}}).fire(),P&&v({type:"sendOperationalEvent",data:{action:"errored",actionSubject:"useCommerceDeepLinks",actionSubjectId:t,source:i,attributes:{...a,currentEdition:y,targetEdition:g,upsellDeepLink:L?L.split("?")[0]:void 0,errorMessage:P}}}).fire()},D=async()=>{E&&E();try{let e=await (0,n("fDbEj").waitForEditionChange)(y,T);A.succeed({name:n("irVI7").UPSELL_EDITION_PREMIUM_EXPERIENCE,attributes:{currentEdition:y,targetEdition:e}}),window.location.reload()}catch(e){e===n("fDbEj").TimeoutError?A.abort({name:n("irVI7").UPSELL_EDITION_PREMIUM_EXPERIENCE,reason:"Possibly canceled by user"}):((0,n("fGzMp").stopExperienceOnError)(n("irVI7").UPSELL_EDITION_PREMIUM_EXPERIENCE,e),_(e))}},U=()=>{h(!1)},F={appearance:m,className:"primaryButton",href:w?void 0:L,onClick:()=>{M(),A.start({name:w?n("irVI7").UPSELL_EDITION_UPFLOW_EXPERIENCE:n("irVI7").UPSELL_EDITION_PREMIUM_EXPERIENCE,attributes:{currentEdition:y,linkClicked:t,source:i,targetEdition:g}}),w?h(!0):D()},target:w?void 0:"_blank",iconBefore:"primary"===m?e(o).createElement(e(n("izVB4")),{label:"",color:"var(--ds-icon-inverse, #FFFFFF)"}):void 0,testId:(0,n("k4Vdy").calculateTestId)({source:i,actionSubjectId:t})},B={appearance:m,testId:"upflowV2ExperimentLoadingButton",isDisabled:!0,isLoading:!0,iconBefore:"primary"===m?e(n("izVB4")):void 0},j=p||e(o).createElement(n("gtD4K").default,c.tryItFree),V=u(m);return e(o).createElement(e(o).Fragment,null,b?e(o).createElement(r.ErrorDisplay,{error:b}):null,x?e(o).createElement(n("ccHMk").default,B,j):e(o).createElement(V,F,j),w&&C?x?null:"variation"===N?e(o).createElement(s.TryStandardUpflowV2ExperimentTreatmentModalLoadable,{isOpen:C,closeModal:U,touchpointId:i,targetEdition:g,isBillingAdmin:k,isSiteAdmin:R,currentEdition:y}):e(o).createElement(l.UpFlowCommerceRouterLoadable,{canChangeEdition:!0,cloudId:I,currentEdition:y||void 0,atlassianAccountId:S||void 0,flow:"upgrade",product:"confluence",targetEdition:g,touchpointId:i,isExperienceTrackerEnabled:!0,onClose:f?void 0:U,onOpen:f,epMessageId:n("gsZdA").UP_FLOW_EP_MESSAGE_ID}):null)},p=(0,n("3yh4a").componentWithFG)("replace_upsell_cta_content_fg",({analyticsProps:{actionSubjectId:t,attributes:a,source:r},appearance:s="primary",children:l,onUpFlowOpen:c,targetEdition:d=n("euL71").ConfluenceEdition.STANDARD,onUpgradeButtonClick:u})=>{let{edition:p}=(0,n("bQm3c").useSessionData)(),{createAnalyticsEvent:f}=(0,n("iC1wS").useEditionsAnalyticsContext)(),{upgradeButtonContent:g,cohort:E}=(0,n("b0Zto").useChangeEditionUpgradeButtonContentExperiment)({targetEdition:d,featureGateId:t||r});return e(o).createElement(i.TransparentErrorBoundary,{attribution:n("3IBnw").Attribution.GROWTH_LUNA,onError:(e,o)=>{f((0,n("8hmrm").createProductSpecificAnalyticsIntegrationPayload)({product:n("gwZbZ").Product.CONFLUENCE,team:n("6o7wX").Team.GROWTH_LUNA,experimentMeta:{experimentKey:"replace_upsell_cta_content"},errorType:n("gwZbZ").ErrorType.ERROR_BOUNDARY,errorMessage:e.message,severity:n("gwZbZ").Severity.MEDIUM,source:"replace_upsell_cta_content",additionalAttributes:{...o,feature_gate:t||r,attributes:a,source:r}})).fire()}},e(o).createElement(n("lgF8o").ExperimentAnalyticsContext,{experimentMeta:{key:"replace_upsell_cta_content",cohort:E,targetEdition:d,currentEdition:p,content:g||l}},e(o).createElement(m,{analyticsProps:{actionSubjectId:t,attributes:a,source:r},appearance:s,onUpFlowOpen:c,targetEdition:d,onUpgradeButtonClick:u},g||l)))},m);t.exports.UpgradeEditionButton=p}),a("ey6Pt",function(e,t){var n;let a={argumentDefinitions:[],kind:"Fragment",name:"UpgradeEditionButtonFragment",selections:[{concreteType:"Editions",kind:"LinkedField",name:"editions",plural:!1,selections:[{kind:"ScalarField",name:"confluence"},n={kind:"ScalarField",name:"__typename"}]},n],type:"ConfluenceTenantContext"};a.hash="bee007bb99f1be1656322a1f41effd37",e.exports.default=a}),a("izVB4",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var a=r(n("42omo")),o=r(n("aSNrY"));function r(e){return e&&e.__esModule?e:{default:e}}let i=e=>a.default.createElement(o.default,Object.assign({name:"EditionsIcon",dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M2.614 1.353A.75.75 0 0 1 3.25 1h9.5a.75.75 0 0 1 .636.353l2.5 4a.75.75 0 0 1-.065.884l-7.25 8.5a.75.75 0 0 1-1.142 0l-7.25-8.5a.75.75 0 0 1-.065-.885zM3.666 2.5 2.103 5H4.7l.78-2.5zm3.385 0L6.271 5H9.73l-.781-2.5zm3.47 0L11.3 5h2.596l-1.563-2.5zm3.103 4h-2.328l-1.424 4.399zM8 11.813 9.72 6.5H6.28zM4.704 6.5l1.424 4.399L2.375 6.5z" clip-rule="evenodd"/>'},e));i.displayName="EditionsIcon",e.exports.default=i}),a("lgF8o",function(e,t){var a=n("l998X");n("42omo"),e.exports.ExperimentAnalyticsContext=({experimentMeta:e,children:t})=>(0,a.jsx)(n("bYRk6").default,{data:{attributes:{experimentMeta:e}},children:t})}),a("8hmrm",function(e,t){e.exports.createProductSpecificAnalyticsIntegrationPayload=({product:e,team:t,experimentMeta:a,errorType:o,errorMessage:r,source:i,severity:s,additionalAttributes:l={}},c=!0)=>{(0,n("39G0n").validateExperimentName)(a.experimentKey);let d=(0,n("gvWCD").createEventPayload)({team:t,experimentMeta:a,errorType:o,errorMessage:r,source:i,severity:s,isActiveExperiment:c,additionalAttributes:l,product:e});switch(e){case n("gwZbZ").Product.ADMIN_HUB:return{data:d};case n("gwZbZ").Product.JIRA:return{data:d,productSpecificRules:{jira:{createAnalyticsEventPayload:(0,n("3HIy9").convertEventPayloadForJiraCreateAnalyticsEvent)({data:d}),fireEventPayload:(0,n("3HIy9").convertEventAttributesForJiraFireEvent)({data:d})}}};case n("gwZbZ").Product.CONFLUENCE:return{type:n("gwZbZ").CONFLUENCE_OPERATIONAL_EVENT_TYPE,data:d};default:throw Error(`Unsupported product: ${e}`)}}}),a("gwZbZ",function(e,t){var n,a,o,r=((n={}).JIRA="jira",n.CONFLUENCE="confluence",n.ADMIN_HUB="admin-hub",n),i=((a={}).GRAPHQL="graphql",a.REST="rest",a.ERROR_BOUNDARY="error-boundary",a.GENERIC="generic",a),s=((o={}).LOW="low",o.MEDIUM="medium",o.HIGH="high",o);e.exports.ERROR_ACTION="error",e.exports.ERROR_ACTION_SUBJECT="growth-experiment",e.exports.CONFLUENCE_OPERATIONAL_EVENT_TYPE="sendOperationalEvent",e.exports.Product=r,e.exports.ErrorType=i,e.exports.Severity=s,e.exports.EVENT_TAG_GROWTH="growth"}),a("gvWCD",function(e,t){e.exports.createEventPayload=({team:e,experimentMeta:t,errorType:a,errorMessage:o,source:r,severity:i,isActiveExperiment:s,product:l,additionalAttributes:c={}})=>{let d=`${n("gwZbZ").ERROR_ACTION_SUBJECT}-${t.experimentKey}-${a}`;return{action:n("gwZbZ").ERROR_ACTION,actionSubject:n("gwZbZ").ERROR_ACTION_SUBJECT,actionSubjectId:d,source:t.experimentKey,attributes:{errorType:a,team:e,experimentKey:t.experimentKey,cohort:t?.cohort,severity:i,errorMessage:o,isActiveExperiment:s,product:l,detailedSource:r,...c},tags:[n("gwZbZ").EVENT_TAG_GROWTH]}}}),a("3HIy9",function(e,t){e.exports.convertEventPayloadForJiraCreateAnalyticsEvent=e=>{let{data:t}=e;return{action:t.action,actionSubject:t.actionSubject,source:t.source,actionSubjectId:t.actionSubjectId,tags:t.tags}},e.exports.convertEventAttributesForJiraFireEvent=e=>{let{data:t}=e;return{eventName:`${t.actionSubject} ${t.action}`,attributes:t.attributes}}}),a("39G0n",function(e,t){e.exports.validateExperimentName=e=>{if(e.includes(" "))throw Error(`Experiment name "${e}" contains spaces. Experiment names must not contain spaces to ensure proper tracking in dashboards. Use camelCase or hyphens instead (e.g., "myExperiment" or "my-experiment").`)}}),a("6o7wX",function(e,t){var n,a=((n={}).GROWTH_LUNA="growth-luna",n);e.exports.Team=a}),a("b0Zto",function(t,a){var o=n("42omo");let r=(0,n("cgtv4").defineMessages)({upgradeButtonText:{id:"experiment-change-edition-upgrade-button-content.upgrade-button.text",defaultMessage:"Upgrade"},getStartedButtonText:{id:"experiment-change-edition-upgrade-button-content.get-started-button.text",defaultMessage:"Get started"}}),i=({targetEdition:e,featureGateId:t})=>!!t&&e===n("d9tcB").ConfluenceEdition.PREMIUM&&!["editorAITryPremium","quickSummaryTryPremium","whiteboardPaywallLearnMoreButton","elevateAutomationUpsellExploreAutomation","elevateAutomationUpsellTryPremium"].includes(t);t.exports.useChangeEditionUpgradeButtonContentExperiment=t=>{let{createAnalyticsEvent:a}=(0,n("inPa6").useAnalyticsEvents)(),s=t&&i(t)?(0,n("6mKj3").expVal)("replace_upsell_cta_content","cohort","not-enrolled"):"not-enrolled";return((0,o.useEffect)(()=>{"not-enrolled"!==s&&a({type:"sendTrackEvent",data:{action:"exposed",actionSubject:"feature",source:"replace_upsell_cta_content",attributes:{flagKey:"replace_upsell_cta_content",cohort:s}}}).fire()},[s,a]),"variant-upgrade"===s)?{upgradeButtonContent:e(o).createElement(n("gtD4K").default,r.upgradeButtonText),cohort:s}:"variant-get-started"===s?{upgradeButtonContent:e(o).createElement(n("gtD4K").default,r.getStartedButtonText),cohort:s}:{upgradeButtonContent:null,cohort:s}}}),a("3yh4a",function(e,t){e.exports.componentWithFG=(e,t,a)=>(0,n("8YePs").componentWithCondition)(()=>(0,n("9wGTI").fg)(e),t,a)}),a("8YePs",function(t,a){var o=n("42omo");t.exports.componentWithCondition=function(t,n,a){let r=(0,o.forwardRef)((r,i)=>t()?e(o).createElement(n,{...r,ref:i}):e(o).createElement(a,{...r,ref:i}));return""!==n.name&&(r.displayName=`ComponentWithCondition[${t.name}]`),r}}),a("2UjZJ",function(e,t){var a=n("42omo");e.exports.useUpflowV2ConfluenceStandardFGsExperiment=({skip:e,touchpointId:t,currentEdition:o,targetEdition:r})=>{let i=(0,n("gXR0B").useFeatureExposedAnalytics)(),[s,l]=(0,a.useState)(null),{isEligible:c,isSiteAdmin:d,isBillingAdmin:u,error:m,loading:p}=(0,n("f1B2z").useIsEligibleForUpflowV2ConfluenceStandardFGsExperiment)({skip:e,currentEdition:o,targetEdition:r});return(0,a.useEffect)(()=>{c?(i({flagKey:"grw-1930_confluence_upv2_standard_ab",cohort:(0,n("6mKj3").expVal)("grw-1930_confluence_upv2_standard_ab","cohort","not-enrolled"),growthInitiative:"luna",touchpointId:t,additionalAttributes:{currentEdition:o,targetEdition:r,isSiteAdmin:d,isBillingAdmin:u}}),l((0,n("6mKj3").expVal)("grw-1930_confluence_upv2_standard_ab","cohort","not-enrolled"))):m?l(null):l("not-enrolled")},[i,c,m,o,r,d,u,t]),{cohort:s,isSiteAdmin:d,isBillingAdmin:u,loading:p,error:m}}}),a("gXR0B",function(e,t){var a=n("42omo");e.exports.useFeatureExposedAnalytics=()=>{let{createAnalyticsEvent:e}=(0,n("inPa6").useAnalyticsEvents)(),t=(0,a.useRef)([]);return(0,a.useCallback)(({flagKey:n,cohort:a,touchpointId:o,growthInitiative:r,additionalAttributes:i={}})=>{let s=`${n}:${o}`;t.current.includes(s)||(e({type:"sendTrackEvent",data:{action:"exposed",actionSubject:"experiment",actionSubjectId:`${n}-exposed`,source:n,attributes:{cohort:a,touchpointId:o,growthInitiative:r,...i}}}).fire(),t.current.push(s))},[e])}}),a("f1B2z",function(e,t){var a=n("42omo");let o=e=>e?.tenantContexts?.[0]?.entitlementInfo?.entitlement?.transactionAccount?.isCurrentUserBillingAdmin;e.exports.useIsEligibleForUpflowV2ConfluenceStandardFGsExperiment=({skip:e=!1,currentEdition:t,targetEdition:r})=>{let{createAnalyticsEvent:i}=(0,n("inPa6").useAnalyticsEvents)(),{cloudId:s}=(0,n("bQm3c").useSessionData)(),{isSiteAdmin:l}=(0,a.useContext)(n("1ytiN").SPAViewContext),c=!!(s&&t===n("euL71").ConfluenceEdition.FREE&&r===n("euL71").ConfluenceEdition.STANDARD&&l),{data:d,loading:u,error:m}=(0,n("xQxzY").useQuery)((0,n("eSUdr").default)`query useIsEligibleForUpflowV2ConfluenceStandardFGsExperimentQuery($cloudId:ID!){tenantContexts(cloudIds:[$cloudId]){entitlementInfo(hamsProductKey:"confluence.ondemand"){entitlement{id transactionAccount{...on Node{id __typename}isCurrentUserBillingAdmin}}}}}`,{client:(0,n("gKr8t").getAGGClient)(),variables:{cloudId:s},skip:e||!c});(0,a.useEffect)(()=>{m&&i((0,n("8hmrm").createProductSpecificAnalyticsIntegrationPayload)({product:n("gwZbZ").Product.CONFLUENCE,team:n("6o7wX").Team.GROWTH_LUNA,experimentMeta:{experimentKey:"grw-1930_confluence_upv2_standard_ab"},errorType:n("gwZbZ").ErrorType.GRAPHQL,errorMessage:m.message,source:"useIsEligibleForUpflowV2ConfluenceStandardFGsExperiment hook",severity:n("gwZbZ").Severity.HIGH})).fire()},[m,i]);let p=(0,a.useMemo)(()=>o(d),[d]);return{isEligible:!!(c&&p),isSiteAdmin:l,isBillingAdmin:p,loading:u,error:m}}}),a("5M47w",function(e,t){var a,o=n("42omo"),r=n("j1Ss3"),i=((a={}).FREE="free",a.STANDARD="standard",a.PREMIUM="premium",a);let s={PRODUCTION:"https://admin.atlassian.com",STAGING:"https://admin.stg.atlassian.com"},l=e=>new(0,n("6Co6F").default)({product:"confluence"}).addToUrl(e),c=({cloudId:e,environment:t,orgId:n})=>{let a=s[t??"PRODUCTION"];return n||e?n?`${a}/o/${n}/billing-preview`:`${a}/s/${e}/billing-preview`:a},d=e=>{let{cloudId:t,commerceBackendName:a,environment:o,entitlementId:r,transactionAccountId:i,orgId:l}=e;if(a===n("6bHqX").COMMERCE_BACKEND_HAMS)return"/admin/billing/applications/change-edition/confluence.ondemand";if(a===n("6bHqX").COMMERCE_BACKEND_CCP&&r&&i){let e=s[o??"PRODUCTION"];return`${e}/billing/${i}/entitlement/${r}/change-plan?referrer=confluence`}return c({cloudId:t,environment:o,orgId:l})},u=e=>{let{cloudId:t,commerceBackendName:a,entitlementId:o,environment:r,orgId:i,transactionAccountId:s,targetEdition:l}=e;return a===n("6bHqX").COMMERCE_BACKEND_HAMS?l?`${d(e)}/${l}`:d(e):a===n("6bHqX").COMMERCE_BACKEND_CCP&&o&&s?l?`${d(e)}&offeringName=${l}`:d(e):c({cloudId:t,environment:r,orgId:i})},m=e=>{let{cloudId:t,commerceBackendName:a,environment:o,entitlementId:r,orgId:i,transactionAccountId:l}=e;if(a===n("6bHqX").COMMERCE_BACKEND_HAMS)return"/admin/billing/applications";if(a===n("6bHqX").COMMERCE_BACKEND_CCP&&r&&l){let e=s[o??"PRODUCTION"];return`${e}/billing/${l}/entitlement/${r}`}return c({cloudId:t,environment:o,orgId:i})},p=(e,t)=>{let n=t instanceof Error?t.message:String(t);return`${e}: ${n}`};e.exports.CommerceDeepLinksTargetEdition=i,e.exports.useCommerceDeepLinks=({targetEdition:e,skipDeepLinks:t=!1})=>{let a,i,s,c,f,{environment:g,cloudId:E,orgId:C}=(0,n("bQm3c").useSessionData)(),{isSiteAdmin:h}=(0,o.useContext)(n("1ytiN").SPAViewContext);h&&E||(t=!0);let{commerceBackendName:b,loading:_,error:I}=(0,n("hfUvC").useCommerceRolloutInformation)(t||(0,n("lzcvT").isFedRamp)()),y=b===n("6bHqX").COMMERCE_BACKEND_CCP||(0,n("lzcvT").isFedRamp)(),{data:S,loading:v,error:T}=(0,r.useQuery)((0,n("eSUdr").default)`query useCommerceDeepLinksCcpEntitlementQuery{confluence_tenantContext{licenseStates{confluence{ccpEntitlementId}}}tenant{cloudId}}`,{skip:t||!y}),A=v?void 0:(0,n("lh1MN").getCcpEntitlementFromQuery)(S),{data:w,loading:N,error:R}=(0,r.useQuery)((0,n("eSUdr").default)`query useCommerceDeepLinksCcpTransactionAccountIdQuery($entitlementId:ID!$targetEditionName:String$shouldFetchChangeOffering:Boolean!){ccp{entitlement(id:$entitlementId){transactionAccountId experienceCapabilities@include(if:$shouldFetchChangeOffering){changeOfferingV2(offeringName:$targetEditionName){experienceUrl}}}}}`,{variables:{entitlementId:A||"",targetEditionName:e||"",shouldFetchChangeOffering:(0,n("9wGTI").fg)("ld-74-fetch-change-offering-url-in-upgrade-edition")},skip:t||!y||!A,client:(0,n("gKr8t").getAGGClient)()});if(t)return{commerceBackendName:null,planSelectionDeepLink:void 0,planConsentDeepLink:void 0,subscriptionDetailsDeepLink:void 0,loading:!1,errorMessage:void 0};try{let t=w?.ccp?.entitlement?.transactionAccountId,o=w?.ccp?.entitlement?.experienceCapabilities?.changeOfferingV2?.experienceUrl??void 0,r={cloudId:E,commerceBackendName:b,environment:g,entitlementId:A,orgId:C,transactionAccountId:t||void 0};i=l(d(r)),s=l(u({targetEdition:e,...r})),f=o?l(`${o}confluence`):void 0,c=l(m(r)),(0,n("8H5XZ").isGraphQLError)(T)&&!(0,n("7Sm4c").isErrorMarkedAsHandled)(T)&&(0,n("7Sm4c").markErrorAsHandled)(T),(0,n("8H5XZ").isGraphQLError)(R)&&!(0,n("7Sm4c").isErrorMarkedAsHandled)(R)&&(0,n("7Sm4c").markErrorAsHandled)(R),I?a=p("Error retrieving Commerce Backend Service",I):T?a=p("Error retrieving CCP Entitlement Id",T):R&&(a=p("Error retrieving CCP Transaction Account Id",R))}catch(e){a=p("Error in useCommerceDeepLinks",e)}return{commerceBackendName:b,planSelectionDeepLink:i,planConsentDeepLink:f||s,subscriptionDetailsDeepLink:c,loading:_||v||N,errorMessage:a}}}),a("6bHqX",function(e,t){n("42omo");let a=`${n("gstll").GATEWAY_URL}/bag`,o=async(e,{fetch:t})=>{try{let n=await t(`${a}/rollout/service?cloudId=${encodeURIComponent(e.cloudId)}`);if(200!==n.status)return{payload:void 0,error:`Failed to fetch commerce rollout information: ${n.statusText}`,exception:void 0};let o=(await n.json()).service;return{payload:"CCP"===o?{commerceBackend:o,ccp:{}}:{commerceBackend:o,hams:{}},error:void 0,exception:void 0}}catch(e){return{payload:void 0,error:void 0,exception:e}}};e.exports.COMMERCE_BACKEND_HAMS="HAMS",e.exports.COMMERCE_BACKEND_CCP="CCP",e.exports.fetchCommerceRolloutInformation=o}),a("gstll",function(e,t){e.exports.GATEWAY_URL="/gateway/api"}),a("6H9BA",function(e,t){var a=n("42omo");e.exports.useCommerceFetch=()=>{let e=(0,n("1EMUC").useCommerceOverride)(fetch),t=(0,n("bIMHH").useSentryExceptionDispatch)();return(0,a.useCallback)(async(...a)=>{let o=performance.now(),[r]=a,i=(0,n("1cK19").sanitizeUrlString)((0,n("lzJ3V").getRequestUrl)(r));try{let r=await e(...a);return r.status>=400&&t({exception:Error(`Status: ${r.status}
URL: ${i}`)}),(0,n("4u5NT").addSpanToAll)("fetch",i,[{name:"network"}],o,performance.now(),JSON.stringify(r).length),r}catch(n){console.warn(n);let e=n instanceof Error?n.stack??n.toString():JSON.stringify(n);throw t({exception:Error(`An error occurred when fetching from ${i}

 ${e}`)}),n}},[e,t])}}),a("goqBE",function(e,t){class n extends Error{constructor(e,t,a){super(`Unable to fetch ${e}, status: ${t}`),this.statusCode=void 0,this.body=void 0,this.name="HttpResponseError",this.statusCode=t,this.body=a,Object.setPrototypeOf(this,n.prototype)}}let a=async(e,t)=>{let a=await t;if(a.ok)return t;throw new n(e,a.status,await a.json().catch(()=>void 0))};e.exports.HttpResponseError=n,e.exports.rejectOnHttpError=a}),a("bIMHH",function(e,t){let a=n("aNwpq").internalGasV3UIEventChannel.useBreadcrumbedEventDispatch;n("aNwpq").internalGasV3ScreenEventChannel.useEventDispatch,n("aNwpq").internalGasV3TrackEventChannel.useBreadcrumbedEventDispatch,n("aNwpq").internalGasV3OperationalEventChannel.useBreadcrumbedEventDispatch;let o=n("aNwpq").internalSentryExceptionChannel.useBreadcrumbedEventDispatch;(0,n("k6lJw").createAtlaskitToEventChannelRepackager)(a),n("aNwpq").breadcrumbMountedEventChannel.Listener,e.exports.useSentryExceptionDispatch=o}),a("aNwpq",function(e,t){let a=(0,n("6YLhE").createBreadcrumbAPI)(),o=a.breadcrumbMountedEventChannel,r=a.Breadcrumb;a.useGetBreadcrumbs,(0,n("eUjEX").createCatchingEventChannel)(),(0,n("eUjEX").createCatchingEventChannel)(),(0,n("eUjEX").createCatchingEventChannel)(),(0,n("eUjEX").createCatchingEventChannel)(),(0,n("eUjEX").createCatchingEventChannel)();let i=(0,n("6YLhE").createBreadcrumbedEventChannel)(a,n("eUjEX").createCatchingEventChannel),s=(0,n("eUjEX").createCatchingEventChannel)(),l=(0,n("6YLhE").createBreadcrumbedEventChannel)(a,n("eUjEX").createCatchingEventChannel),c=(0,n("6YLhE").createBreadcrumbedEventChannel)(a,n("eUjEX").createCatchingEventChannel),d=(0,n("6YLhE").createBreadcrumbedEventChannel)(a,n("eUjEX").createCatchingEventChannel);e.exports.breadcrumbMountedEventChannel=o,e.exports.Breadcrumb=r,e.exports.internalGasV3UIEventChannel=i,e.exports.internalGasV3ScreenEventChannel=s,e.exports.internalGasV3TrackEventChannel=l,e.exports.internalGasV3OperationalEventChannel=c,e.exports.internalSentryExceptionChannel=d}),a("6YLhE",function(e,t){var a=n("l998X"),o=n("42omo");let r={};e.exports.createBreadcrumbAPI=()=>{let e=(0,o.createContext)(()=>void 0),t=()=>(0,o.useContext)(e),r=(0,n("eUjEX").createEventChannel)(),{useEventDispatch:i}=r,s=({name:e,getMountedBreadcrumbPayload:t})=>{let n=i();return(0,o.useEffect)(()=>{n(t())},[e]),null};return{breadcrumbMountedEventChannel:r,Breadcrumb:({children:n,...r})=>{let i=t(),l=(0,o.useRef)(r);(0,o.useLayoutEffect)(()=>{l.current=r});let c=(0,o.useCallback)(()=>({breadcrumbs:[...i()?.breadcrumbs??[],l.current],payload:l.current}),[i]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s,{name:r.name,getMountedBreadcrumbPayload:c}),(0,a.jsx)(e.Provider,{value:c,children:n})]})},useGetBreadcrumbs:t}},e.exports.createBreadcrumbedEventChannel=({useGetBreadcrumbs:e},t=n("eUjEX").createEventChannel)=>{let{Listener:a,useEventDispatch:r}=t();return{Listener:a,useEventDispatch:r,useBreadcrumbedEventDispatch:()=>{let t=r(),n=e();return(0,o.useCallback)(e=>t({breadcrumbs:n()?.breadcrumbs??[],payload:e}),[n,t])}}},e.exports.withBreadcrumb=(e,t,n,o=r)=>r=>(0,a.jsx)(t,{...o,name:n,children:(0,a.jsx)(e,{...r})})}),a("eUjEX",function(e,t){var a=n("l998X"),o=n("42omo");let r=e=>{let t=(0,o.createContext)(e);return{Listener:({onEvent:e,children:n})=>(0,a.jsx)(t.Provider,{value:e,children:n}),useEventDispatch:()=>{let e=(0,o.useContext)(t);return(0,o.useCallback)(t=>{e?.(t)},[e])}}},i=(...e)=>({children:t,onEvent:n})=>{let o=t;for(let t of e)o=t({onEvent:n,children:o});return(0,a.jsx)(a.Fragment,{children:o})},s=({from:e,to:t,useTransformer:n})=>{let r=Array.isArray(e)?i(...e):e;return({children:e,...i})=>{let s=t(),l=n(i),c=(0,o.useCallback)(e=>{s(l(e))},[s,l]);return(0,a.jsx)(r,{onEvent:c,children:e})}},l=({from:e,to:t})=>s({from:e,to:t,useTransformer:({onEvent:e})=>(0,o.useCallback)(t=>(e(t),t),[e])});e.exports.createCatchingEventChannel=r,e.exports.createEventChannel=()=>{let e=r();return{Listener:l({from:e.Listener,to:e.useEventDispatch}),useEventDispatch:e.useEventDispatch}}}),a("k6lJw",function(e,t){var a=n("l998X"),o=n("42omo");let r=(e,t)=>({children:r,...i})=>{let s=e(),l=(0,o.useCallback)(e=>{s({...i,...e.payload,attributes:{...i.attributes,...e.payload.attributes}})},[s,i]);return(0,a.jsx)(n("kDuN4").default,{channel:t,onEvent:l,children:r})};e.exports.createAtlaskitToEventChannelRepackager=e=>r(e,"atlaskit")}),a("1cK19",function(e,t){e.exports.sanitizeUrlString=e=>e.replace(/\?.*$/,"")}),a("1EMUC",function(e,t){n("l998X");var a=n("42omo");let o=()=>(0,a.useContext)(n("9Bcp3").overrideContext);e.exports.useCommerceOverride=e=>(o()||new Map).get(e)||e}),a("9Bcp3",function(e,t){let a=(0,n("42omo").createContext)(new Map);e.exports.overrideContext=a}),a("lzJ3V",function(e,t){e.exports.getRequestUrl=e=>"string"==typeof e?e:e instanceof URL?e.href:e.url}),a("4Twfb",function(e,t){var a=n("42omo");let o=(e,t={loading:!1,data:void 0,error:void 0})=>{let[n,o]=(0,a.useState)(t),r=(0,a.useCallback)(async(...t)=>{o({loading:!0,data:void 0,error:void 0});try{let n=await e(...t);return o({loading:!1,data:n,error:void 0}),n}catch(e){throw o({loading:!1,data:void 0,error:e}),e}},[e]);return(0,a.useMemo)(()=>({...n,fetchData:r}),[n,r])};e.exports.useFetchService=e=>{let t=o(e,{loading:!0,data:void 0,error:void 0}),{fetchData:n}=t;return(0,a.useEffect)(()=>{n().catch(e=>console.warn(e))},[n]),(0,a.useMemo)(()=>{let{fetchData:e,...n}=t;return{...n,refresh:()=>e()}},[t])},e.exports.useUpdateService=e=>{let t=o(e,{loading:!1,data:void 0,error:void 0});return(0,a.useMemo)(()=>{let{fetchData:e,...n}=t;return{...n,update:e}},[t])}}),a("3yFL2",function(e,t){e.exports.GUARANTEED="guaranteed",e.exports.MAYBE="maybe",e.exports.NONE="none"}),a("3SLm1",function(e,t){e.exports.UNKNOWN="unknown",e.exports.UNKNOWN_EXTERNAL="unknown-external",e.exports.COMMERCE_LIBRARIES="commerce-libraries",e.exports.HAMS="hams",e.exports.BILLING_API_GATEWAY="billing-api-gateway"}),a("cEhot",function(e,t){var a=n("42omo");let o=e=>e.charAt(0).toUpperCase()+e.substring(1),r=({action:e,actionSubject:t,actionSubjectId:r,histogramBuckets:i="4000"})=>{let s=n("aNwpq").internalGasV3TrackEventChannel.useBreadcrumbedEventDispatch(),l=n("aNwpq").internalSentryExceptionChannel.useBreadcrumbedEventDispatch(),c=r?`${r}`:`${e}${o(t)}`;return(0,a.useCallback)(e=>{let t={...e},a=(t,a,o,r)=>{void 0===t&&[n("3yFL2").MAYBE,n("3yFL2").NONE].includes(r.probabilityOfBug)||l({exception:t,scopeContext:(0,n("in0Xj").withTelemetryInfoScopeContext)({tags:{task:c,eventName:a,...r,...void 0!==o?{eventTaskId:o}:void 0,...void 0!==e.actionSubjectId?{actionSubjectId:e.actionSubjectId}:void 0}})})};return{fail:({loggablePayload:e,probabilityOfBug:t=n("3yFL2").MAYBE,eventTaskId:o,responsibleService:r=n("3SLm1").UNKNOWN}={})=>{a(e,"fe.user.task.failure",void 0!==o?o:t===n("3yFL2").GUARANTEED?(0,n("jVQXW").responsibleServiceIncludesCommerceLibraries)(r)?"guaranteed-bug":"external-bug":void 0,{probabilityOfBug:t,responsibleService:r})},succeed:({loggablePayload:e,eventTaskId:o,responsibleService:r=n("3SLm1").UNKNOWN}={})=>{a(e,"fe.user.task.success",o,{probabilityOfBug:n("3yFL2").NONE,responsibleService:r}),s(t)}}},[s,l,c])};e.exports.useTaskTracker=e=>{let t=r(e),o=(0,a.useRef)(e);return(0,a.useCallback)(async(e,a)=>{let{fail:r,succeed:i}=t(a||o.current);try{let t=await e();return void 0!==t.succeed?i(t.succeed):r(void 0!==t.fail?t.fail:{probabilityOfBug:n("3yFL2").GUARANTEED,loggablePayload:{result:t,error:Error("Could not find succeed nor fail")}}),t}catch(e){throw r(e instanceof TypeError&&"Failed to fetch"===e.message?{probabilityOfBug:n("3yFL2").MAYBE,loggablePayload:e}:{probabilityOfBug:n("3yFL2").GUARANTEED,loggablePayload:e}),e}},[t])}}),a("in0Xj",function(e,t){let a=({probabilityOfBug:e,responsibleService:t})=>{switch(e){case n("3yFL2").GUARANTEED:if((0,n("jVQXW").responsibleServiceIncludesCommerceLibraries)(t))return"fatal";return"error";case n("3yFL2").MAYBE:return"warning";case n("3yFL2").NONE:return"log";default:return"fatal"}};e.exports.withTelemetryInfoScopeContext=e=>{let t={...e.tags,responsibleService:e.tags.responsibleService??n("3SLm1").UNKNOWN};return{...e,tags:t,level:a(t)}}}),a("jVQXW",function(e,t){e.exports.responsibleServiceIncludesCommerceLibraries=e=>e===n("3SLm1").COMMERCE_LIBRARIES||e===n("3SLm1").UNKNOWN}),a("1Y5Zp",function(e,t){e.exports.isException=e=>void 0!==e.exception,e.exports.isSuccessful=e=>void 0!==e.payload}),a("lh1MN",function(e,t){e.exports.getCcpEntitlementFromQuery=e=>{if(e)return e.confluence_tenantContext?.licenseStates?.confluence?.ccpEntitlementId||void 0}}),a("hfUvC",function(e,t){var a=n("42omo");let o=(0,n("2XqLN").default)(async e=>await (0,n("6bHqX").fetchCommerceRolloutInformation)({cloudId:e,productKey:"confluence.ondemand"},{fetch:n("f7B1p").cfetch}));e.exports.useCommerceRolloutInformation=(e=!1)=>{let[t,r]=(0,a.useState)(!0),[i,s]=(0,a.useState)(null),[l,c]=(0,a.useState)(null),{cloudId:d}=(0,n("bQm3c").useSessionData)();return d||(e=!0),(0,a.useEffect)(()=>{e||(async()=>{try{let e=await o(d);if((0,n("bXe73").isSuccessful)(e))c(e.payload.commerceBackend);else{let t=(0,n("bXe73").isException)(e)?e.exception:e.error;s(t)}}catch(e){e.message=`useCommerceBackendName: ${e.message}`,s(e)}finally{r(!1)}})()},[d,e]),{commerceBackendName:e?null:l,loading:!e&&t,error:e?null:i}}}),a("bXe73",function(e,t){e.exports.isException=e=>void 0!==e.exception,e.exports.isSuccessful=e=>void 0!==e.payload}),a("dqdrq",function(t,a){var o=n("42omo");let r=(0,o.forwardRef)(({as:t=n("6J7Bn").ButtonBase,style:a,...r},i)=>e(o).createElement(t,{...r,style:{...a,"--_iozncj":(0,n("7sObp").default)(n("j4WDj").GRADIENT_CTA_BUTTON_DEFAULT_START),"--_id2ec3":(0,n("7sObp").default)(n("j4WDj").GRADIENT_CTA_BUTTON_DEFAULT_END),"--_1wa1xp5":(0,n("7sObp").default)(n("j4WDj").GRADIENT_CTA_BUTTON_HOVER_START),"--_1ck0ygl":(0,n("7sObp").default)(n("j4WDj").GRADIENT_CTA_BUTTON_HOVER_END),"--_1jf6nc6":(0,n("7sObp").default)(n("j4WDj").GRADIENT_CTA_BUTTON_ACTIVE_START),"--_1kksnqn":(0,n("7sObp").default)(n("j4WDj").GRADIENT_CTA_BUTTON_ACTIVE_END)},ref:i,className:(0,n("gMc0m").default)(["_1wgmglyw _1tnq12b0 _nup9qsa8 _ge1r1cay _h99ltlke _r7sm1uxc _1xlotlke _1jypidpf _1fm3idpf _12z9idpf _1dwpidpf _kl6h116y _1w901gfe _1l5a1gfe _zelm1gfe _1fh11gfe _1f1j1gfe",r.className])})),i=(0,o.forwardRef)(({as:t="span",style:a,...r},i)=>e(o).createElement(t,{...r,style:a,ref:i,className:(0,n("gMc0m").default)(["_11c82smr _1e0c1txw _4cvr1h6o _1bah1h6o _k48p1wq8",r.className])}));t.exports.GradientCTAButton=({children:t,...a})=>e(o).createElement(r,{iconBefore:e(o).createElement(e(n("izVB4")),{label:""}),...a},e(o).createElement(i,null,t))}),a("j4WDj",function(e,t){e.exports.GRADIENT_CTA_BUTTON_DEFAULT_START="var(--ds-chart-purple-bolder, #AF59E1)",e.exports.GRADIENT_CTA_BUTTON_DEFAULT_END="var(--ds-chart-blue-bolder, #357DE8)",e.exports.GRADIENT_CTA_BUTTON_HOVER_START="var(--ds-chart-purple-bolder-hovered, #964AC0)",e.exports.GRADIENT_CTA_BUTTON_HOVER_END="var(--ds-chart-blue-bolder-hovered, #1868DB)",e.exports.GRADIENT_CTA_BUTTON_ACTIVE_START="var(--ds-chart-purple-boldest, #803FA5)",e.exports.GRADIENT_CTA_BUTTON_ACTIVE_END="var(--ds-chart-blue-boldest, #1558BC)",e.exports.GRADIENT_BACKGROUND_SUBTLEST_START="var(--ds-background-accent-blue-subtlest, #E9F2FE)",e.exports.GRADIENT_BACKGROUND_SUBTLEST_END="var(--ds-background-accent-purple-subtlest, #F8EEFE)",e.exports.GRADIENT_CTA_BUTTON_INVERTED_BORDER_START="var(--ds-border-accent-purple, #AF59E1)",e.exports.GRADIENT_CTA_BUTTON_INVERTED_BORDER_END="var(--ds-border-accent-blue, #357DE8)",e.exports.GRADIENT_CTA_BUTTON_SELECTED_START="var(--ds-background-discovery-bold-pressed, #673286)",e.exports.GRADIENT_CTA_BUTTON_SELECTED_END="var(--ds-background-selected-bold-pressed, #123263)"}),a("6J7Bn",function(e,t){var a=n("42omo");let o=(0,a.forwardRef)(({as:e=n("eEA8O").default,style:t,...o},r)=>a.createElement(e,{...o,style:t,ref:r,className:(0,n("gMc0m").default)(["_d16p1ano _1dqt12x7 _1toh1r31 _5jyqglyw _mrqmnqa1 _if29116y _1kba1h6o",o.className])}));e.exports.ButtonBase=o}),a("ktelT",function(t,a){var o=n("42omo");let r=(0,o.forwardRef)(({as:t="a",style:a,...r},i)=>e(o).createElement(t,{...r,style:a,ref:i,className:(0,n("gMc0m").default)(["_11q71879 _11c82smr _zulpv77o _1e0c116y _4cvr1h6o _80omtlke _k48pmoej _1bsb1ns9 _pjrq1758 _oo9g1j28 _18u01b66 _1xjxgktf _1nj1uyj3 _13r27vkz _1nm57vkz _19lc19y2 _1fyq1yf3 _1h7d1kdv _v6kc1j28",r.className])}));t.exports.GradientSubtleLinkButton=({href:t,onClick:a,target:i,children:s})=>e(o).createElement(r,{href:t,onClick:a,target:i,role:"link"},e(o).createElement(e(n("izVB4")),{label:""}),s)}),a("l0DoV",function(e,t){let a=(0,n("jmjWc").LoadableLazy)({__loadable_id__:"uHF1j",name:"TryStandardUpflowV2ExperimentTreatmentModalLoadable",loader:async()=>(await n("2LGpS")).TryStandardUpflowV2ExperimentTreatmentModalWithErrorBoundary});e.exports.TryStandardUpflowV2ExperimentTreatmentModalLoadable=a}),a("2LGpS",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("6wr18"),a("eeaKR"),a("ffEVr"),a("let0D"),a("hhss7"),a("fYFVU")]).then(()=>n("h60zh"))}),a("fDbEj",function(e,t){let a=()=>new Date().getTime(),o=Error("TIMEOUT");e.exports.TimeoutError=o,e.exports.waitForEditionChange=(e,t)=>{if(!e)return Promise.reject(Error("No currentEdition supplied"));let r=new Date(a()+6e4*n("jKFU9").CHANGE_EDITION_POLL_DURATION_MINS).getTime(),i=(s,l)=>{a()>r&&l(o),(0,n("hp2SH").getApolloClient)().query({query:n("gQY3Y").waitForEditionChangeQuery,errorPolicy:"all",fetchPolicy:"network-only"}).then(a=>{let o=a.data?.tenant?.editions?.confluence;o&&e!==o?((0,n("6mKj3").expValEquals)("remove_usages_of_cache_read_write","isEnabled",!0)?t({fragmentId:"$ROOT_QUERY.confluence_tenantContext",data:{editions:{confluence:o,__typename:"ConfluenceEditions"},__typename:"Tenant"}}):(0,n("hp2SH").getApolloClient)().writeQuery({query:n("gQY3Y").waitForEditionChangeQuery,data:{tenant:{editions:{confluence:o,__typename:"ConfluenceEditions"},__typename:"Tenant"}}}),s(o)):setTimeout(()=>{i(s,l)},1e3*n("jKFU9").CHANGE_EDITION_POLL_INTERVAL_SECS)}).catch(l)};return new Promise((e,t)=>i(e,t))}}),a("gQY3Y",function(e,t){let a=(0,n("eSUdr").default)`query waitForEditionChangeQuery{tenant:confluence_tenantContext{editions{confluence}}}`;e.exports.waitForEditionChangeQuery=a}),a("jKFU9",function(e,t){e.exports.CHANGE_EDITION_POLL_INTERVAL_SECS=3,e.exports.CHANGE_EDITION_POLL_DURATION_MINS=1}),a("lNKOh",function(e,t){e.exports.ChangeEditionSectionMessageButtonsWrapper=({canShowUpgradeButton:e,children:t,isSiteAdmin:n,shouldShowLearnMore:a=!0,showRequestUpgradeButton:o})=>{let r=!1,i=!0,s=!0;return e&&(n&&(r=!0),r&&(i=a,s=!1)),o&&(i=a),t({showUpgradeTryNowButton:r,showLearnMore:i,learnMoreIsPrimaryCTA:s})}}),a("bhvFb",function(t,a){var o=n("42omo"),r=n("3HQYo");let i={regular:"_1e0c1txw _2lx21bp4 _16jlkb7n _p12f1lk2",isCard:"_p12f1osq"},s={regular:"_11c8nbxd _19pkidpf _syazi7uo",regularNew:"_11c8lodh _k48p1wq8 _19pkidpf _syazi7uo",inlineModal:"_11c8lodh _19pkze3t _n3tdpxbi"},l={withTitle:"_19pku2gc",noTitle:"_19pkidpf"},c={regular:"_1e0c1txw _1bahesu3 _kqswstnw _154ipxbi _1xi21ejb",default:"_154ixy5q _1xi2oahv",isCardDefault:"_1xi2xy5q",isCard:"_1xi2pxbi"},d={default:"_1e0c1txw _19pkpxbi",right:"_1bahesu3 _166l1sbv _6ufw1q9c",inlineModal:"_19pk16xz _1e0c1txw"},u={default:"_x3do1uh4 _19pkpxbi _otyrpxbi _ca0qutpp"},m={regular:"_2rkofajl _19pkidpf _2hwx1wug _otyridpf _18u01wug _bfhk1bhr _1e0c1txw _16jlkb7n",withTasteAndToneStyling:"_19pkidpf _2hwxidpf _otyridpf _18u0idpf _bfhk1j28",default:"_1yt44ar7 _16qs130s _p12fasau",flat:"_1yt44ar7 _p12fasau",inline:"_11c82smr",inlineModal:"_p12f1kdj"};t.exports.EditionSectionMessage=({actions:t,appearanceType:a,body:p,footer:f,title:g,headerButton:E,withTasteAndToneStyling:C=!1,buttonGroupAlignment:h="left"})=>{let b=!!g,_="right"===h,I=a||(C?n("gsZdA").SECTION_MESSAGE_APPEARANCE_TYPES.INLINE:n("gsZdA").SECTION_MESSAGE_APPEARANCE_TYPES.DEFAULT);return e(o).createElement("div",{"data-testid":"edition-section-message",className:(0,n("gMc0m").default)([m.regular,C&&m.withTasteAndToneStyling,I===n("gsZdA").SECTION_MESSAGE_APPEARANCE_TYPES.DEFAULT&&m.default,I===n("gsZdA").SECTION_MESSAGE_APPEARANCE_TYPES.FLAT&&m.flat,I===n("gsZdA").SECTION_MESSAGE_APPEARANCE_TYPES.INLINE&&m.inline,I===n("gsZdA").SECTION_MESSAGE_APPEARANCE_TYPES.INLINE_MODAL&&m.inlineModal])},e(o).createElement("div",{className:(0,n("gMc0m").default)([i.regular,_&&i.isCard])},b&&e(o).createElement("div",{className:(0,n("gMc0m").default)([s[(0,n("9wGTI").fg)("ten_active_boards_in_standard")?"regularNew":"regular"],I===n("gsZdA").SECTION_MESSAGE_APPEARANCE_TYPES.INLINE_MODAL&&s.inlineModal])},g),"string"==typeof p?e(o).createElement("div",{dangerouslySetInnerHTML:{__html:e(r).sanitize(p)},className:(0,n("gMc0m").default)([l.noTitle,b&&l.withTitle])}):e(o).createElement("div",{className:(0,n("gMc0m").default)([l.noTitle,b&&l.withTitle])},p),E&&e(o).createElement("div",{className:(0,n("gMc0m").default)([c.regular,I===n("gsZdA").SECTION_MESSAGE_APPEARANCE_TYPES.DEFAULT&&c.default,_&&c.isCard,_&&I===n("gsZdA").SECTION_MESSAGE_APPEARANCE_TYPES.DEFAULT&&c.isCardDefault])},E),t&&e(o).createElement("div",{className:(0,n("gMc0m").default)([d.default,"right"===h&&d.right,I===n("gsZdA").SECTION_MESSAGE_APPEARANCE_TYPES.INLINE_MODAL&&d.inlineModal,"actionButtons"])},t),f&&e(o).createElement("div",{className:(0,n("gMc0m").default)([u.default])},f)))}}),a("3HQYo",function(e,t){var n;e.exports,e.exports=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,n){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,n)}function n(e,a,o){return(n=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?function(e,n,a){var o=[null];o.push.apply(o,n);var r=new(Function.bind.apply(e,o));return a&&t(r,a.prototype),r}:Reflect.construct).apply(null,arguments)}function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var r,i=Object.hasOwnProperty,s=Object.setPrototypeOf,l=Object.isFrozen,c=Object.getPrototypeOf,d=Object.getOwnPropertyDescriptor,u=Object.freeze,m=Object.seal,p=Object.create,f="undefined"!=typeof Reflect&&Reflect,g=f.apply,E=f.construct;g||(g=function(e,t,n){return e.apply(t,n)}),u||(u=function(e){return e}),m||(m=function(e){return e}),E||(E=function(e,t){return n(e,a(t))});var C=N(Array.prototype.forEach),h=N(Array.prototype.pop),b=N(Array.prototype.push),_=N(String.prototype.toLowerCase),I=N(String.prototype.toString),y=N(String.prototype.match),S=N(String.prototype.replace),v=N(String.prototype.indexOf),T=N(String.prototype.trim),A=N(RegExp.prototype.test),w=(r=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return E(r,t)});function N(e){return function(t){for(var n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return g(e,t,a)}}function R(e,t,n){n=null!=(a=n)?a:_,s&&s(e,null);for(var a,o=t.length;o--;){var r=t[o];if("string"==typeof r){var i=n(r);i!==r&&(l(t)||(t[o]=i),r=i)}e[r]=!0}return e}function k(e){var t,n=p(null);for(t in e)!0===g(i,e,[t])&&(n[t]=e[t]);return n}function x(e,t){for(;null!==e;){var n=d(e,t);if(n){if(n.get)return N(n.get);if("function"==typeof n.value)return N(n.value)}e=c(e)}return function(e){return console.warn("fallback value for",e),null}}var O=u(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),L=u(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),P=u(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),M=u(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),D=u(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),U=u(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),F=u(["#text"]),B=u(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),j=u(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),V=u(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),G=u(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),H=m(/\{\{[\w\W]*|[\w\W]*\}\}/gm),K=m(/<%[\w\W]*|[\w\W]*%>/gm),W=m(/\${[\w\W]*}/gm),q=m(/^data-[\-\w.\u00B7-\uFFFF]+$/),z=m(/^aria-[\-\w]+$/),Y=m(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Q=m(/^(?:\w+script|data):/i),X=m(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),J=m(/^html$/i),Z=m(/^[a-z][.\w]*(-[.\w]+)+$/i),ee=function(t,n){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var a=null,o="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(o)&&(a=n.currentScript.getAttribute(o));var r="dompurify"+(a?"#"+a:"");try{return t.createPolicy(r,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};return function t(){var n,o,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,i=function(e){return t(e)};if(i.version="2.5.8",i.removed=[],!r||!r.document||9!==r.document.nodeType)return i.isSupported=!1,i;var s=r.document,l=r.document,c=r.DocumentFragment,d=r.HTMLTemplateElement,m=r.Node,p=r.Element,f=r.NodeFilter,g=r.NamedNodeMap,E=void 0===g?r.NamedNodeMap||r.MozNamedAttrMap:g,N=r.HTMLFormElement,et=r.DOMParser,en=r.trustedTypes,ea=p.prototype,eo=x(ea,"cloneNode"),er=x(ea,"nextSibling"),ei=x(ea,"childNodes"),es=x(ea,"parentNode");if("function"==typeof d){var el=l.createElement("template");el.content&&el.content.ownerDocument&&(l=el.content.ownerDocument)}var ec=ee(en,s),ed=ec?ec.createHTML(""):"",eu=l,em=eu.implementation,ep=eu.createNodeIterator,ef=eu.createDocumentFragment,eg=eu.getElementsByTagName,eE=s.importNode,eC={};try{eC=k(l).documentMode?l.documentMode:{}}catch(e){}var eh={};i.isSupported="function"==typeof es&&em&&void 0!==em.createHTMLDocument&&9!==eC;var eb=Y,e_=null,eI=R({},[].concat(a(O),a(L),a(P),a(D),a(F))),ey=null,eS=R({},[].concat(a(B),a(j),a(V),a(G))),ev=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),eT=null,eA=null,ew=!0,eN=!0,eR=!1,ek=!0,ex=!1,eO=!0,eL=!1,eP=!1,eM=!1,eD=!1,eU=!1,eF=!1,eB=!0,ej=!1,eV=!0,eG=!1,eH={},eK=null,eW=R({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),eq=null,ez=R({},["audio","video","img","source","image","track"]),eY=null,eQ=R({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),e$="http://www.w3.org/1998/Math/MathML",eX="http://www.w3.org/2000/svg",eJ="http://www.w3.org/1999/xhtml",eZ=eJ,e0=!1,e1=null,e2=R({},[e$,eX,eJ],I),e4=["application/xhtml+xml","text/html"],e3=null,e6=l.createElement("form"),e9=function(e){return e instanceof RegExp||e instanceof Function},e5=function(t){e3&&e3===t||(t&&"object"===e(t)||(t={}),t=k(t),o="application/xhtml+xml"===(n=n=-1===e4.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE)?I:_,e_="ALLOWED_TAGS"in t?R({},t.ALLOWED_TAGS,o):eI,ey="ALLOWED_ATTR"in t?R({},t.ALLOWED_ATTR,o):eS,e1="ALLOWED_NAMESPACES"in t?R({},t.ALLOWED_NAMESPACES,I):e2,eY="ADD_URI_SAFE_ATTR"in t?R(k(eQ),t.ADD_URI_SAFE_ATTR,o):eQ,eq="ADD_DATA_URI_TAGS"in t?R(k(ez),t.ADD_DATA_URI_TAGS,o):ez,eK="FORBID_CONTENTS"in t?R({},t.FORBID_CONTENTS,o):eW,eT="FORBID_TAGS"in t?R({},t.FORBID_TAGS,o):{},eA="FORBID_ATTR"in t?R({},t.FORBID_ATTR,o):{},eH="USE_PROFILES"in t&&t.USE_PROFILES,ew=!1!==t.ALLOW_ARIA_ATTR,eN=!1!==t.ALLOW_DATA_ATTR,eR=t.ALLOW_UNKNOWN_PROTOCOLS||!1,ek=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,ex=t.SAFE_FOR_TEMPLATES||!1,eO=!1!==t.SAFE_FOR_XML,eL=t.WHOLE_DOCUMENT||!1,eD=t.RETURN_DOM||!1,eU=t.RETURN_DOM_FRAGMENT||!1,eF=t.RETURN_TRUSTED_TYPE||!1,eM=t.FORCE_BODY||!1,eB=!1!==t.SANITIZE_DOM,ej=t.SANITIZE_NAMED_PROPS||!1,eV=!1!==t.KEEP_CONTENT,eG=t.IN_PLACE||!1,eb=t.ALLOWED_URI_REGEXP||eb,eZ=t.NAMESPACE||eJ,ev=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&e9(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ev.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&e9(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ev.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(ev.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ex&&(eN=!1),eU&&(eD=!0),eH&&(e_=R({},a(F)),ey=[],!0===eH.html&&(R(e_,O),R(ey,B)),!0===eH.svg&&(R(e_,L),R(ey,j),R(ey,G)),!0===eH.svgFilters&&(R(e_,P),R(ey,j),R(ey,G)),!0===eH.mathMl&&(R(e_,D),R(ey,V),R(ey,G))),t.ADD_TAGS&&(e_===eI&&(e_=k(e_)),R(e_,t.ADD_TAGS,o)),t.ADD_ATTR&&(ey===eS&&(ey=k(ey)),R(ey,t.ADD_ATTR,o)),t.ADD_URI_SAFE_ATTR&&R(eY,t.ADD_URI_SAFE_ATTR,o),t.FORBID_CONTENTS&&(eK===eW&&(eK=k(eK)),R(eK,t.FORBID_CONTENTS,o)),eV&&(e_["#text"]=!0),eL&&R(e_,["html","head","body"]),e_.table&&(R(e_,["tbody"]),delete eT.tbody),u&&u(t),e3=t)},e7=R({},["mi","mo","mn","ms","mtext"]),e8=R({},["annotation-xml"]),te=R({},["title","style","font","a","script"]),tt=R({},L);R(tt,P),R(tt,M);var tn=R({},D);R(tn,U);var ta=function(e){var t=es(e);t&&t.tagName||(t={namespaceURI:eZ,tagName:"template"});var a=_(e.tagName),o=_(t.tagName);return!!e1[e.namespaceURI]&&(e.namespaceURI===eX?t.namespaceURI===eJ?"svg"===a:t.namespaceURI===e$?"svg"===a&&("annotation-xml"===o||e7[o]):!!tt[a]:e.namespaceURI===e$?t.namespaceURI===eJ?"math"===a:t.namespaceURI===eX?"math"===a&&e8[o]:!!tn[a]:e.namespaceURI===eJ?(t.namespaceURI!==eX||!!e8[o])&&(t.namespaceURI!==e$||!!e7[o])&&!tn[a]&&(te[a]||!tt[a]):"application/xhtml+xml"===n&&!!e1[e.namespaceURI])},to=function(e){b(i.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=ed}catch(t){e.remove()}}},tr=function(e,t){try{b(i.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){b(i.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!ey[e])if(eD||eU)try{to(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},ti=function(e){if(eM)e="<remove></remove>"+e;else{var t,a,o=y(e,/^[\r\n\t ]+/);a=o&&o[0]}"application/xhtml+xml"===n&&eZ===eJ&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var r=ec?ec.createHTML(e):e;if(eZ===eJ)try{t=new et().parseFromString(r,n)}catch(e){}if(!t||!t.documentElement){t=em.createDocument(eZ,"template",null);try{t.documentElement.innerHTML=e0?ed:r}catch(e){}}var i=t.body||t.documentElement;return(e&&a&&i.insertBefore(l.createTextNode(a),i.childNodes[0]||null),eZ===eJ)?eg.call(t,eL?"html":"body")[0]:eL?t.documentElement:i},ts=function(e){return ep.call(e.ownerDocument||e,e,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT|f.SHOW_PROCESSING_INSTRUCTION|f.SHOW_CDATA_SECTION,null,!1)},tl=function(e){return e instanceof N&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof E)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},tc=function(t){return"object"===e(m)?t instanceof m:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},td=function(e,t,n){eh[e]&&C(eh[e],function(e){e.call(i,t,n,e3)})},tu=function(e){if(td("beforeSanitizeElements",e,null),tl(e)||A(/[\u0080-\uFFFF]/,e.nodeName))return to(e),!0;var t,n=o(e.nodeName);if(td("uponSanitizeElement",e,{tagName:n,allowedTags:e_}),e.hasChildNodes()&&!tc(e.firstElementChild)&&(!tc(e.content)||!tc(e.content.firstElementChild))&&A(/<[/\w]/g,e.innerHTML)&&A(/<[/\w]/g,e.textContent)||"select"===n&&A(/<template/i,e.innerHTML)||7===e.nodeType||eO&&8===e.nodeType&&A(/<[/\w]/g,e.data))return to(e),!0;if(!e_[n]||eT[n]){if(!eT[n]&&tp(n)&&(ev.tagNameCheck instanceof RegExp&&A(ev.tagNameCheck,n)||ev.tagNameCheck instanceof Function&&ev.tagNameCheck(n)))return!1;if(eV&&!eK[n]){var a=es(e)||e.parentNode,r=ei(e)||e.childNodes;if(r&&a)for(var s=r.length,l=s-1;l>=0;--l){var c=eo(r[l],!0);c.__removalCount=(e.__removalCount||0)+1,a.insertBefore(c,er(e))}}return to(e),!0}return e instanceof p&&!ta(e)||("noscript"===n||"noembed"===n||"noframes"===n)&&A(/<\/no(script|embed|frames)/i,e.innerHTML)?(to(e),!0):(ex&&3===e.nodeType&&(t=S(t=e.textContent,H," "),t=S(t,K," "),t=S(t,W," "),e.textContent!==t&&(b(i.removed,{element:e.cloneNode()}),e.textContent=t)),td("afterSanitizeElements",e,null),!1)},tm=function(e,t,n){if(eB&&("id"===t||"name"===t)&&(n in l||n in e6))return!1;if(eN&&!eA[t]&&A(q,t));else if(ew&&A(z,t));else if(!ey[t]||eA[t]){if(!(tp(e)&&(ev.tagNameCheck instanceof RegExp&&A(ev.tagNameCheck,e)||ev.tagNameCheck instanceof Function&&ev.tagNameCheck(e))&&(ev.attributeNameCheck instanceof RegExp&&A(ev.attributeNameCheck,t)||ev.attributeNameCheck instanceof Function&&ev.attributeNameCheck(t))||"is"===t&&ev.allowCustomizedBuiltInElements&&(ev.tagNameCheck instanceof RegExp&&A(ev.tagNameCheck,n)||ev.tagNameCheck instanceof Function&&ev.tagNameCheck(n))))return!1}else if(eY[t]);else if(A(eb,S(n,X,"")));else if(("src"===t||"xlink:href"===t||"href"===t)&&"script"!==e&&0===v(n,"data:")&&eq[e]);else if(eR&&!A(Q,S(n,X,"")));else if(n)return!1;return!0},tp=function(e){return"annotation-xml"!==e&&y(e,Z)},tf=function(t){td("beforeSanitizeAttributes",t,null);var n,a,r,s,l=t.attributes;if(!(!l||tl(t))){var c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ey};for(s=l.length;s--;){var d=(n=l[s]).name,u=n.namespaceURI;if(a="value"===d?n.value:T(n.value),c.attrName=r=o(d),c.attrValue=a,c.keepAttr=!0,c.forceKeepAttr=void 0,td("uponSanitizeAttribute",t,c),a=c.attrValue,!c.forceKeepAttr&&(tr(d,t),c.keepAttr)){if(!ek&&A(/\/>/i,a)){tr(d,t);continue}ex&&(a=S(a,H," "),a=S(a,K," "),a=S(a,W," "));var m=o(t.nodeName);if(tm(m,r,a)){if(ej&&("id"===r||"name"===r)&&(tr(d,t),a="user-content-"+a),eO&&A(/((--!?|])>)|<\/(style|title)/i,a)){tr(d,t);continue}if(ec&&"object"===e(en)&&"function"==typeof en.getAttributeType)if(u);else switch(en.getAttributeType(m,r)){case"TrustedHTML":a=ec.createHTML(a);break;case"TrustedScriptURL":a=ec.createScriptURL(a)}try{u?t.setAttributeNS(u,d,a):t.setAttribute(d,a),tl(t)?to(t):h(i.removed)}catch(e){}}}}td("afterSanitizeAttributes",t,null)}},tg=function e(t){var n,a=ts(t);for(td("beforeSanitizeShadowDOM",t,null);n=a.nextNode();)td("uponSanitizeShadowNode",n,null),tu(n),tf(n),n.content instanceof c&&e(n.content);td("afterSanitizeShadowDOM",t,null)};return i.sanitize=function(t){var n,a,l,d,u,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((e0=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!tc(t))if("function"==typeof t.toString){if("string"!=typeof(t=t.toString()))throw w("dirty is not a string, aborting")}else throw w("toString is not a function");if(!i.isSupported){if("object"===e(r.toStaticHTML)||"function"==typeof r.toStaticHTML){if("string"==typeof t)return r.toStaticHTML(t);if(tc(t))return r.toStaticHTML(t.outerHTML)}return t}if(eP||e5(p),i.removed=[],"string"==typeof t&&(eG=!1),eG){if(t.nodeName){var f=o(t.nodeName);if(!e_[f]||eT[f])throw w("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof m)1===(a=(n=ti("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?n=a:n.appendChild(a);else{if(!eD&&!ex&&!eL&&-1===t.indexOf("<"))return ec&&eF?ec.createHTML(t):t;if(!(n=ti(t)))return eD?null:eF?ed:""}n&&eM&&to(n.firstChild);for(var g=ts(eG?t:n);l=g.nextNode();)(3!==l.nodeType||l!==d)&&(tu(l),tf(l),l.content instanceof c&&tg(l.content),d=l);if(d=null,eG)return t;if(eD){if(eU)for(u=ef.call(n.ownerDocument);n.firstChild;)u.appendChild(n.firstChild);else u=n;return(ey.shadowroot||ey.shadowrootmod)&&(u=eE.call(s,u,!0)),u}var E=eL?n.outerHTML:n.innerHTML;return eL&&e_["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&A(J,n.ownerDocument.doctype.name)&&(E="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+E),ex&&(E=S(E,H," "),E=S(E,K," "),E=S(E,W," ")),ec&&eF?ec.createHTML(E):E},i.setConfig=function(e){e5(e),eP=!0},i.clearConfig=function(){e3=null,eP=!1},i.isValidAttribute=function(e,t,n){return e3||e5({}),tm(o(e),o(t),n)},i.addHook=function(e,t){"function"==typeof t&&(eh[e]=eh[e]||[],b(eh[e],t))},i.removeHook=function(e){if(eh[e])return h(eh[e])},i.removeHooks=function(e){eh[e]&&(eh[e]=[])},i.removeAllHooks=function(){eh={}},i}()}()}),a("cHKtk",function(t,a){var o=n("42omo"),r=n("4PPzL"),i=n("TCbX7");let s={pageInsights:{requestedEdition:"standard",requestedFeature:"pageInsights"},archiveUpsellDialog:{requestedEdition:"standard",requestedFeature:"archive"},generalAccessLevelSelector:{requestedEdition:"standard",requestedFeature:"pagePermissions"},shareAndRestrictDialogUpsell:{requestedEdition:"standard",requestedFeature:"pagePermissions"},quickSummaryUpsellScreen:{requestedEdition:"premium",requestedFeature:"rovo"},teamCalendarUpsellScreen:{requestedEdition:"premium",requestedFeature:"calendars"},"whiteboardCreationPaywall-upfrontDialog":{requestedEdition:"premium",requestedFeature:"whiteboards"}};t.exports.ELIGIBLE_TOUCHPOINTS=s,t.exports.useEnableEndUserRequestUpgrade=e=>{let{cloudId:t,edition:a,userId:r}=(0,n("bQm3c").useSessionData)(),{isSiteAdmin:i}=(0,o.useContext)(n("1ytiN").SPAViewContext),{createAnalyticsEvent:l}=(0,n("inPa6").useAnalyticsEvents)(),c=s[e]?.requestedEdition??"standard",{loading:d,data:u}=(0,n("jMyy4").useQueryInterop)(n("hG9ZM").default,{variables:{cloudId:t,offeringName:c},fetchPolicy:"cache-first",skip:!(0,n("9wGTI").fg)("connie_end_user_request_kill_switch")||i||a!==n("d9tcB").ConfluenceEdition.FREE||!(e in s),client:(0,n("gKr8t").getAGGClient)()}),m=(0,o.useMemo)(()=>{let e=u?.tenantContexts?.[0]?.entitlementInfo?.entitlement,t=e?.relatesFromEntitlements?.find(e=>e?.relationshipType==="COLLECTION")?.entitlementId,o=e?.experienceCapabilities?.changeOfferingV2?.isAvailableToUser,i=e?.experienceCapabilities?.changeOfferingV2?.experienceUrl,s=!!e?.transactionAccount?.isBillToPresent,l=u?.tenantContexts?.[0]?.entitlementInfo,c=l?.entitlementId,m=e?.transactionAccount?.key;return!!(!d&&!t&&a===n("d9tcB").ConfluenceEdition.FREE&&s&&!(o&&i)&&r&&i&&m&&c)},[u,d,a,r]);return(0,o.useEffect)(()=>{m&&l({type:"sendTrackEvent",data:{action:"exposed",actionSubject:"feature",source:"useEnableEndUserRequestUpgrade",attributes:{cohort:(0,n("6mKj3").expVal)("connie_end_user_request_exp","cohort","not-enrolled"),flagKey:"connie_end_user_request_exp",touchpoint:e}}}).fire()},[m,l,e]),{showRequestUpgradeButton:m&&(0,n("9wGTI").fg)("connie_end_user_request_kill_switch")&&(0,n("6mKj3").expValEquals)("connie_end_user_request_exp","cohort","variation"),showRequestUpgradeButtonAATest:m&&(0,n("9wGTI").fg)("connie_end_user_request_kill_switch")&&"not-enrolled"!==(0,n("6mKj3").expVal)("connie_end_user_request_exp_aa","cohort","not-enrolled"),loading:d}},t.exports.EndUserRequestUpgradeButton=({source:t})=>{let[a,s]=(0,o.useState)(!1),[l,c]=(0,o.useState)(!1),{createAnalyticsEvent:d}=(0,n("inPa6").useAnalyticsEvents)();return(0,o.useEffect)(()=>{d({type:"sendUIEvent",data:{action:"viewed",actionSubject:"button",actionSubjectId:"endUserRequestUpgradeButton",source:t}}).fire()},[d,t]),e(o).createElement(r.ErrorBoundary,{attribution:"growth-transmuters"},e(o).createElement(n("ccHMk").default,{onClick:()=>{c(!0),s(!0),d({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"endUserRequestUpgradeButton",source:t}}).fire()},appearance:"primary",isLoading:l},e(o).createElement(n("gtD4K").default,{id:"experiment-confluence-enable-end-user-request.request-upgrade-button.label",defaultMessage:"Request to try"})),e(o).createElement(n("6xdDU").default,null,a&&e(o).createElement(i.EndUserRequestUpgradeModalEntrypoint,{source:t,handleCloseModal:()=>{s(!1)},setIsLoadingModal:c})))}}),a("hG9ZM",function(e,t){var n,a,o,r,i,s,l,c,d,u,m,p;let f={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"cloudId"},{defaultValue:null,kind:"LocalArgument",name:"offeringName"}],kind:"Fragment",name:"useEnableEndUserRequestUpgradeQuery",selections:[{args:a=[{items:[{kind:"Variable",name:"cloudIds.0",variableName:"cloudId"}],kind:"ListValue",name:"cloudIds"}],concreteType:"TenantContext",kind:"LinkedField",name:"tenantContexts",plural:!0,selections:[{args:o=[{kind:"Literal",name:"hamsProductKey",value:"confluence.ondemand"}],kind:"LinkedField",name:"entitlementInfo",plural:!1,selections:[r={kind:"ScalarField",name:"entitlementId"},{kind:"LinkedField",name:"entitlement",plural:!1,selections:[i={kind:"ScalarField",name:"id"},s={kind:"ScalarField",name:"__typename"},{kind:"LinkedField",name:"experienceCapabilities",plural:!1,selections:[{args:l=[{kind:"Variable",name:"offeringName",variableName:"offeringName"}],kind:"LinkedField",name:"changeOfferingV2",plural:!1,selections:[c={kind:"ScalarField",name:"isAvailableToUser"},d={kind:"ScalarField",name:"experienceUrl"}]}]},{kind:"LinkedField",name:"transactionAccount",plural:!1,selections:[u={kind:"ScalarField",name:"key"},m={kind:"ScalarField",name:"isBillToPresent"}]},{kind:"LinkedField",name:"relatesFromEntitlements",plural:!0,selections:[r,p={kind:"ScalarField",name:"relationshipType"}]}]}],storageKey:'entitlementInfo(hamsProductKey:"confluence.ondemand")'}]}],type:"Query"},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"useEnableEndUserRequestUpgradeQuery",selections:[{args:a,concreteType:"TenantContext",kind:"LinkedField",name:"tenantContexts",plural:!0,selections:[{args:o,kind:"LinkedField",name:"entitlementInfo",plural:!1,selections:[s,r,{kind:"LinkedField",name:"entitlement",plural:!1,selections:[i,s,{kind:"LinkedField",name:"experienceCapabilities",plural:!1,selections:[s,{args:l,kind:"LinkedField",name:"changeOfferingV2",plural:!1,selections:[s,c,d]}]},{kind:"LinkedField",name:"transactionAccount",plural:!1,selections:[s,u,m,{kind:"InlineFragment",selections:[i],type:"Node",abstractKey:"__isNode"}]},{kind:"LinkedField",name:"relatesFromEntitlements",plural:!0,selections:[s,r,p]}]}],storageKey:'entitlementInfo(hamsProductKey:"confluence.ondemand")'}]}]},params:{cacheID:"989abf351aeb67905f94bc68fcbdc6f9",id:"af36fdb75e5ba6fe2375c3d04cb026bb8ab7a77e90b1ba2f68692d54063709a6",metadata:{},name:"useEnableEndUserRequestUpgradeQuery",operationKind:"query",text:'query useEnableEndUserRequestUpgradeQuery($cloudId:ID!,$offeringName:String!){tenantContexts(cloudIds:[$cloudId]){entitlementInfo(hamsProductKey:"confluence.ondemand"){__typename,entitlementId,entitlement{id,__typename,experienceCapabilities{__typename,changeOfferingV2(offeringName:$offeringName){__typename,isAvailableToUser,experienceUrl}},transactionAccount{__typename,key,isBillToPresent,...on Node{__isNode:__typename,id}},relatesFromEntitlements{__typename,entitlementId,relationshipType}}}}}'}};f.hash="0499128be9f3a7a4d5f8ca7826eaa363",e.exports.default=f}),a("TCbX7",function(e,t){let a=(0,n("jmjWc").LoadableAfterPaint)({__loadable_id__:"i-AMj",name:"EndUserRequestUpgradeModalEntrypoint",loader:async()=>(await n("i3CPV")).EndUserRequestUpgradeModal});e.exports.EndUserRequestUpgradeModalEntrypoint=a}),a("i3CPV",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("6wr18"),a("8UKe0"),a("bjfAh"),a("kiGNy"),a("ffEVr"),a("Wowvf"),a("let0D"),a("hhss7"),a("eRrWU")]).then(()=>n("4YFRT"))}),a("hvXOl",function(e,t){e.exports=new URL("WhiteboardsPaywall.cf2c63af.svg",import.meta.url).toString()}),a("5hK0S",function(e,t){e.exports=new URL("WhiteboardsPaywallDark.0948bce6.svg",import.meta.url).toString()}),a("iDxbX",function(e,t){e.exports=new URL("WhiteboardsPaywallV2.5dd554e3.svg",import.meta.url).toString()}),a("2aQ91",function(e,t){e.exports=new URL("WhiteboardsPaywallDarkV2.e9c25635.svg",import.meta.url).toString()}),a("dcUvx",function(e,t){e.exports=new URL("Racecar.f378b1ee.svg",import.meta.url).toString()}),a("3LivB",function(t,a){var o=n("3u0dr"),r=n("frIzR");let i=(0,n("cgtv4").defineMessages)({title:{id:"create-blank-fabric-page.universal-create.page.database",defaultMessage:"Database"}}),s=(0,o.isReactCompilerActiveV1)()?function(t){let a,o,s,l,c,d,u,m,p=(0,r.c)(22),{parentId:f,source:g,spaceKey:E,onClick:C}=t,{formatMessage:h}=(0,n("8C5kA").default)();p[0]===Symbol.for("react.memo_cache_sentinel")?(a={source:"create-database-popover-item"},p[0]=a):a=p[0];let{enforceStorageLimit:b,shouldBlockCreate:_}=(0,n("lqy4C").useHardStorageEnforcement)(a);p[1]!==f||p[2]!==g||p[3]!==E?(o=(0,n("bZSO8").buildCreationLink)({contentType:"database",parentPageId:f,withFallback:!0,source:g,spaceKey:E}),p[1]=f,p[2]=g,p[3]=E,p[4]=o):o=p[4];let I=o,y=(0,n("bBaUQ").useHybridLinkClick)(I);p[5]!==y||p[6]!==C?(s=e=>{C("createDatabasePopoverItem"),y(e)},p[5]=y,p[6]=C,p[7]=s):s=p[7];let S=s;p[8]===Symbol.for("react.memo_cache_sentinel")?(l=n("6yCpa").Ati.parse("ati:cloud:confluence:database"),p[8]=l):l=p[8],p[9]!==h?(c=h(i.title),p[9]=h,p[10]=c):c=p[10],p[11]!==b||p[12]!==S?(d=b(S),p[11]=b,p[12]=S,p[13]=d):d=p[13],p[14]!==I||p[15]!==_?(u=!_&&{href:I},p[14]=I,p[15]=_,p[16]=u):u=p[16];let v=`create-menu-${_?"button":"link"}-item`;return p[17]!==c||p[18]!==d||p[19]!==u||p[20]!==v?(m={ati:l,children:c,onClick:d,elemBefore:e(n("6B0jU")),...u,testId:v},p[17]=c,p[18]=d,p[19]=u,p[20]=v,p[21]=m):m=p[21],m}:function({parentId:t,source:a,spaceKey:o,onClick:r}){let{formatMessage:s}=(0,n("8C5kA").default)(),{enforceStorageLimit:l,shouldBlockCreate:c}=(0,n("lqy4C").useHardStorageEnforcement)({source:"create-database-popover-item"}),d=(0,n("bZSO8").buildCreationLink)({contentType:"database",parentPageId:t,withFallback:!0,source:a,spaceKey:o}),u=(0,n("bBaUQ").useHybridLinkClick)(d);return{ati:n("6yCpa").Ati.parse("ati:cloud:confluence:database"),children:s(i.title),onClick:l(e=>{r("createDatabasePopoverItem"),u(e)}),elemBefore:e(n("6B0jU")),...!c&&{href:d},testId:`create-menu-${c?"button":"link"}-item`}};t.exports.useDatabaseItem=s}),a("1OVup",function(t,a){var o=n("3u0dr"),r=n("frIzR"),i=n("42omo");let s=(0,n("cgtv4").defineMessages)({title:{id:"create-blank-fabric-page.universal-create.blog.title",defaultMessage:"Blog"}}),l=(0,o.isReactCompilerActiveV1)()?function(t){let a,o,i,l,c,d,u,m,p=(0,r.c)(21),{source:f,spaceKey:g,onClick:E}=t,{formatMessage:C}=(0,n("8C5kA").default)();p[0]===Symbol.for("react.memo_cache_sentinel")?(a={source:"create-blog-popover-item"},p[0]=a):a=p[0];let{enforceStorageLimit:h,shouldBlockCreate:b}=(0,n("lqy4C").useHardStorageEnforcement)(a);p[1]!==f||p[2]!==g?(o=(0,n("bZSO8").buildCreationLink)({contentType:"blog",withFallback:!0,source:f,spaceKey:g}),p[1]=f,p[2]=g,p[3]=o):o=p[3];let _=o,I=(0,n("bBaUQ").useHybridLinkClick)(_);p[4]!==I||p[5]!==E?(i=e=>{E("createBlogPopoverItem"),I(e)},p[4]=I,p[5]=E,p[6]=i):i=p[6];let y=i;p[7]===Symbol.for("react.memo_cache_sentinel")?(l=n("6yCpa").Ati.parse("ati:cloud:confluence:blogpost"),p[7]=l):l=p[7],p[8]!==C?(c=C(s.title),p[8]=C,p[9]=c):c=p[9],p[10]!==h||p[11]!==y?(d=h(y),p[10]=h,p[11]=y,p[12]=d):d=p[12],p[13]!==_||p[14]!==b?(u=!b&&{href:_},p[13]=_,p[14]=b,p[15]=u):u=p[15];let S=`create-menu-${b?"button":"link"}-item`;return p[16]!==c||p[17]!==d||p[18]!==u||p[19]!==S?(m={ati:l,children:c,onClick:d,elemBefore:e(n("9RVmI")),...u,testId:S},p[16]=c,p[17]=d,p[18]=u,p[19]=S,p[20]=m):m=p[20],m}:function({source:t,spaceKey:a,onClick:o}){let{formatMessage:r}=(0,n("8C5kA").default)(),{enforceStorageLimit:l,shouldBlockCreate:c}=(0,n("lqy4C").useHardStorageEnforcement)({source:"create-blog-popover-item"}),d=(0,n("bZSO8").buildCreationLink)({contentType:"blog",withFallback:!0,source:t,spaceKey:a}),u=(0,n("bBaUQ").useHybridLinkClick)(d),m=(0,i.useCallback)(e=>{o("createBlogPopoverItem"),u(e)},[o,u]);return{ati:n("6yCpa").Ati.parse("ati:cloud:confluence:blogpost"),children:r(s.title),onClick:l(m),elemBefore:e(n("9RVmI")),...!c&&{href:d},testId:`create-menu-${c?"button":"link"}-item`}};t.exports.useBlogItem=l}),a("fw6FY",function(t,a){var o=n("3u0dr"),r=n("frIzR");let i=(0,n("cgtv4").defineMessages)({title:{id:"create-blank-fabric-page.universal-create.smart-link-embed.title",defaultMessage:"Smart Link"}}),s=(0,o.isReactCompilerActiveV1)()?function(t){let a,o,s,l,c,d,u,m,p=(0,r.c)(22),{parentId:f,source:g,spaceKey:E,onClick:C}=t,{formatMessage:h}=(0,n("8C5kA").default)();p[0]===Symbol.for("react.memo_cache_sentinel")?(a={source:"create-smart-link-embed-popover-item"},p[0]=a):a=p[0];let{enforceStorageLimit:b,shouldBlockCreate:_}=(0,n("lqy4C").useHardStorageEnforcement)(a);p[1]!==f||p[2]!==g||p[3]!==E?(o=(0,n("bZSO8").buildCreationLink)({contentType:"smartLinkEmbed",parentPageId:f,withFallback:!0,source:g,spaceKey:E}),p[1]=f,p[2]=g,p[3]=E,p[4]=o):o=p[4];let I=o,y=(0,n("bBaUQ").useHybridLinkClick)(I);p[5]!==y||p[6]!==C?(s=e=>{C("createSmartLinkEmbedPopoverItem"),y(e)},p[5]=y,p[6]=C,p[7]=s):s=p[7];let S=s;p[8]===Symbol.for("react.memo_cache_sentinel")?(l=n("6yCpa").Ati.parse("ati:cloud:confluence:embed"),p[8]=l):l=p[8],p[9]!==h?(c=h(i.title),p[9]=h,p[10]=c):c=p[10],p[11]!==b||p[12]!==S?(d=b(S),p[11]=b,p[12]=S,p[13]=d):d=p[13],p[14]!==I||p[15]!==_?(u=!_&&{href:I},p[14]=I,p[15]=_,p[16]=u):u=p[16];let v=`create-menu-${_?"button":"link"}-item`;return p[17]!==c||p[18]!==d||p[19]!==u||p[20]!==v?(m={ati:l,children:c,onClick:d,elemBefore:e(n("duwSm")),...u,testId:v},p[17]=c,p[18]=d,p[19]=u,p[20]=v,p[21]=m):m=p[21],m}:function({parentId:t,source:a,spaceKey:o,onClick:r}){let{formatMessage:s}=(0,n("8C5kA").default)(),{enforceStorageLimit:l,shouldBlockCreate:c}=(0,n("lqy4C").useHardStorageEnforcement)({source:"create-smart-link-embed-popover-item"}),d=(0,n("bZSO8").buildCreationLink)({contentType:"smartLinkEmbed",parentPageId:t,withFallback:!0,source:a,spaceKey:o}),u=(0,n("bBaUQ").useHybridLinkClick)(d);return{ati:n("6yCpa").Ati.parse("ati:cloud:confluence:embed"),children:s(i.title),onClick:l(e=>{r("createSmartLinkEmbedPopoverItem"),u(e)}),elemBefore:e(n("duwSm")),...!c&&{href:d},testId:`create-menu-${c?"button":"link"}-item`}};t.exports.useEmbedItem=s}),a("4e5hr",function(t,a){var o=n("42omo");let r=(0,n("cgtv4").defineMessages)({title:{id:"create-blank-fabric-page.universal-create.space.title",defaultMessage:"Space"}});t.exports.useSpaceItem=function({source:t,onClick:a}){let{isRovoLLMEnabled:i}=(0,n("bQm3c").useSessionData)(),{formatMessage:s}=(0,n("8C5kA").default)(),{openDrawer:l}=(0,n("bAyaS").useCreateSpaceStoreActions)(),{openModal:c}=(0,n("jyA9t").useSmartCreationModalActions)(),{enforceStorageLimit:d}=(0,n("lqy4C").useHardStorageEnforcement)({source:"create-space-button"}),{resetStickySearchRef:u,createContentPopoverButtonRef:m}=(0,o.useContext)(n("lBYCH").AppNavigationContext),p=(0,o.useRef)(null),{createAnalyticsEvent:f}=(0,n("inPa6").useAnalyticsEvents)(),g=(0,o.useCallback)(e=>{u?.current?.();let o="topCreateNav";i&&(0,n("9wGTI").fg)("aifc_space_creation_enabled")?c("globalCreateSpaceButton",""):l(m||p,o),f({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"createSpaceButton",source:t,attributes:{location:o}}}).fire(),a("createSpacePopoverItem"),e.stopPropagation()},[f,m,l,a,c,u,t,i]),E=()=>{(0,n("4vyfK").preloadWebItemLocation)({location:n("eSLr0").CREATE_SPACE_DIALOG})};return{ati:n("6yCpa").Ati.parse("ati:cloud:confluence:space"),children:s(r.title),onClick:d(g),elemBefore:(0,n("6mKj3").expVal)("confluence_space_icon_update","isEnabled",!1)?e(n("hbYDZ")):e(n("buthI")),testId:"create-menu-button-item",Wrapper:({children:t})=>e(o).createElement(n("gdv5Z").default,{onMouseDown:E},t())}}}),a("hbYDZ",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var a=r(n("42omo")),o=r(n("aSNrY"));function r(e){return e&&e.__esModule?e:{default:e}}let i=e=>a.default.createElement(o.default,Object.assign({name:"SpacesIcon",dangerouslySetGlyph:'<path fill="currentcolor" d="M13.809 9.496a5.98 5.98 0 0 1-2.809 3.7 5.98 5.98 0 0 1-4.608.583 29.4 29.4 0 0 0 3.858-1.881 29.4 29.4 0 0 0 3.559-2.402"/><path fill="currentcolor" fill-rule="evenodd" d="M5 2.804a6 6 0 0 1 6.515.333c.859-.264 1.65-.425 2.308-.447.377-.013.751.017 1.083.126.338.11.678.32.888.684.354.613.152 1.297-.107 1.8-.276.538-.736 1.113-1.306 1.688q-.197.196-.413.397a20 20 0 0 1-1.517 1.263 29 29 0 0 1-2.951 1.95 29 29 0 0 1-3.165 1.58c-.65.275-1.272.506-1.85.683h-.003q-.28.087-.548.159c-.783.206-1.511.317-2.116.288-.505-.025-1.114-.162-1.49-.63l-.052-.069-.07-.109-.07-.139a1.6 1.6 0 0 1-.078-.972c.071-.342.231-.681.431-1.001.35-.559.883-1.164 1.541-1.776A6 6 0 0 1 5 2.804m-2.541 7.499c-.302.324-.536.62-.698.879-.147.235-.213.407-.236.515l-.004.046c.048.022.155.056.37.067.329.016.78-.036 1.343-.165a6 6 0 0 1-.775-1.342m8.429-5.756A4.502 4.502 0 0 0 3.52 8.435l.045.34c.089.504.265 1.004.538 1.475.198.344.435.652.702.921 1.181-.43 2.542-1.062 3.945-1.872s2.63-1.672 3.593-2.48a4.5 4.5 0 0 0-1.31-2.146zm2.987-.36a6 6 0 0 0-1.111.166q.233.306.432.647.196.341.342.695c.394-.423.665-.788.816-1.08.098-.192.121-.303.127-.355q-.016-.009-.041-.019a1.7 1.7 0 0 0-.565-.053" clip-rule="evenodd"/>'},e));i.displayName="SpacesIcon",e.exports.default=i}),a("bAyaS",function(e,t){let a=(0,n("1P1Tu").createStore)({initialState:{showCreateSpaceDrawer:!1,shouldRenderDrawer:!1,createSpaceButtonRef:{current:null},createSpaceButtonLocation:void 0},actions:{openDrawer:(e,t)=>({setState:n})=>{n({showCreateSpaceDrawer:!0,shouldRenderDrawer:!0,createSpaceButtonRef:e,createSpaceButtonLocation:t})},closeDrawer:()=>({setState:e})=>{e({showCreateSpaceDrawer:!1,createSpaceButtonLocation:void 0})}},name:"createSpaceStore"}),o=(0,n("9zUhf").createHook)(a),r=(0,n("9zUhf").createHook)(a,{selector:e=>e.shouldRenderDrawer});(0,n("9zUhf").createHook)(a,{selector:e=>e.showCreateSpaceDrawer});let i=(0,n("9zUhf").createActionsHook)(a);e.exports.useCreateSpaceStore=o,e.exports.useShouldRenderDrawer=r,e.exports.useCreateSpaceStoreActions=i}),a("4vyfK",function(e,t){e.exports.preloadWebItemLocation=function({location:e=null,contentId:t=null,spaceKey:a=null,version:o=null}={}){if(!t&&a){let t=(0,n("4JHZe").beforePreloaderAsyncCall)();return(0,n("dYU3e").query)({query:n("fjiOd").WebItemLocationWithSpaceKeyQuery,variables:{location:Array.isArray(e)?null:e,locations:Array.isArray(e)?e:[],spaceKey:a,version:o}}).then(({data:a})=>{(0,n("4JHZe").afterPreloaderAsyncCall)(t),a?.space?.homepageId&&(0,n("dYU3e").writeQuery)({query:n("fjiOd").WebItemLocationQuery,variables:{location:Array.isArray(e)?null:e,locations:Array.isArray(e)?e:[],contentId:a?.space?.homepageId,spaceKey:null,version:o},data:{webItemSections:a?.space?.homepageWebSections||[]}})})}let r={location:Array.isArray(e)?null:e,locations:Array.isArray(e)?e:[],contentId:t,spaceKey:a,version:o};return(0,n("dYU3e").query)({query:n("fjiOd").WebItemLocationQuery,variables:r})}}),a("jyA9t",function(e,t){let a=(0,n("1P1Tu").createStore)({initialState:{showSmartCreationModal:!1,spaceKey:"",parentContent:{id:"",title:"",contentType:""},content:void 0,stagingAreaActive:!1,entryPoint:"confluenceUnknown"},actions:{openModal:(e,t,n,a,o)=>({setState:r})=>{r({showSmartCreationModal:!0,entryPoint:e,spaceKey:t,parentContent:n??{id:"",title:"",contentType:""},content:o??void 0,stagingAreaActive:a??!1})},closeModal:()=>({setState:e})=>{e({showSmartCreationModal:!1,content:void 0,stagingAreaActive:!1,entryPoint:"confluenceUnknown"})}},name:"smartCreationModalStore"}),o=(0,n("9zUhf").createHook)(a),r=(0,n("9zUhf").createActionsHook)(a),i=(0,n("9zUhf").createStateHook)(a);e.exports.useSmartCreationModalStore=o,e.exports.useSmartCreationModalActions=r,e.exports.useSmartCreationModalState=i}),a("8hdRZ",function(t,a){var o=n("3u0dr"),r=n("frIzR"),i=n("42omo"),s=n("9uAPw");let l="globalCreateContentPopover",c="CROSS_JOIN",d=(0,n("cgtv4").defineMessages)({title:{id:"create-blank-fabric-page.universal-create.loom.title",defaultMessage:"Loom video"},crossJoinPopupTitle:{id:"create-blank-fabric-page.universal-create.loom.crossJoinPopupTitle",defaultMessage:"Share your work with a video"},crossJoinPopupDescription:{id:"create-blank-fabric-page.universal-create.loom.crossJoinPopupDescription",defaultMessage:"Save time and engage your team with a video walkthrough, demo, update, and more."},crossJoinCTA:{id:"create-blank-fabric-page.universal-create.loom.crossJoinCTA",defaultMessage:"Try now"},crossJoinLozenge:{id:"create-blank-fabric-page.universal-create.loom.cross-join-lozenge",defaultMessage:"Join"}}),u=(0,o.isReactCompilerActiveV1)()?function(t,a,o,s){let l,c,u,m,p,f,g,E=(0,r.c)(21),{formatMessage:C}=(0,n("8C5kA").default)(),h=(0,n("f5Ulo").useLoomCrossJoinUrl)();E[0]!==t||E[1]!==C||E[2]!==s?(l=a=>{let{children:o}=a;return e(i).createElement(n("8Q0mA").LoomCrossJoinPopupCard,{description:C(d.crossJoinPopupDescription),entryPointId:"loom-confluence-create-menu",sourceComponent:s,shouldRenderToParent:!1,title:C(d.crossJoinPopupTitle),sourceActionSubjectId:"createLoomPopoverItem",triggerLink:(e,t)=>o({triggerProps:t}),flags:(0,n("9wGTI").fg)("twcg-1241_streamlining_loom_cross_join_gate")?t:void 0})},E[0]=t,E[1]=C,E[2]=s,E[3]=l):l=E[3];let b=l;return E[4]===Symbol.for("react.memo_cache_sentinel")?(c=n("6yCpa").Ati.parse("ati:cloud:confluence:loom-cross-join"),E[4]=c):c=E[4],E[5]!==a||E[6]!==h||E[7]!==o?(u=!(0,n("9wGTI").fg)("twcg-1241_streamlining_loom_cross_join_gate")&&!a&&!o&&{href:h},E[5]=a,E[6]=h,E[7]=o,E[8]=u):u=E[8],E[9]!==C?(m=C(d.crossJoinLozenge),E[9]=C,E[10]=m):m=E[10],E[11]!==C?(p=C(d.title),E[11]=C,E[12]=p):p=E[12],E[13]!==m||E[14]!==p?(f=e(i).createElement(n("jo6R7").ItemTitleWithLozenge,{lozenge:m},p),E[13]=m,E[14]=p,E[15]=f):f=E[15],E[16]!==b||E[17]!==o||E[18]!==u||E[19]!==f?(g={ati:c,...u,isLoading:o,target:"_blank",testId:"create-menu-link-item",children:f,Wrapper:b,elemBefore:e(n("2Yaht"))},E[16]=b,E[17]=o,E[18]=u,E[19]=f,E[20]=g):g=E[20],g}:function(t,a,o,r){let{formatMessage:s}=(0,n("8C5kA").default)(),l=(0,n("f5Ulo").useLoomCrossJoinUrl)();return{ati:n("6yCpa").Ati.parse("ati:cloud:confluence:loom-cross-join"),...!(0,n("9wGTI").fg)("twcg-1241_streamlining_loom_cross_join_gate")&&!a&&!o&&{href:l},isLoading:o,target:"_blank",testId:"create-menu-link-item",children:e(i).createElement(n("jo6R7").ItemTitleWithLozenge,{lozenge:s(d.crossJoinLozenge)},s(d.title)),Wrapper:({children:a})=>e(i).createElement(n("8Q0mA").LoomCrossJoinPopupCard,{description:s(d.crossJoinPopupDescription),entryPointId:"loom-confluence-create-menu",sourceComponent:r,shouldRenderToParent:!1,title:s(d.crossJoinPopupTitle),sourceActionSubjectId:"createLoomPopoverItem",triggerLink:(e,t)=>a({triggerProps:t}),flags:(0,n("9wGTI").fg)("twcg-1241_streamlining_loom_cross_join_gate")?t:void 0}),elemBefore:e(n("2Yaht"))}},m=(0,o.isReactCompilerActiveV1)()?t=>{let a,o,c,u,m,p,f,g,E,C,h,b=(0,r.c)(39),{parentId:_,source:I,spaceKey:y,onClick:S,flags:v}=t,{formatMessage:T}=(0,n("8C5kA").default)(),A=(0,n("7QM6o").useSpaceId)(),{push:w}=(0,n("dPJCf").useRouteActions)(),{createAnalyticsEvent:N}=(0,n("inPa6").useAnalyticsEvents)();b[0]!==v?(a={entryPointLocation:l,flags:v},b[0]=v,b[1]=a):a=b[1];let{openLoomRecorder:R,isLoomRecorderInitialized:k,hasRecordingAccess:x}=(0,s.useLoomRecorderEntryPoint)(a);b[2]===Symbol.for("react.memo_cache_sentinel")?(o={source:"record-loom-popover-item"},b[2]=o):o=b[2];let{enforceStorageLimit:O,shouldBlockCreate:L}=(0,n("lqy4C").useHardStorageEnforcement)(o);b[3]!==N||b[4]!==S||b[5]!==R||b[6]!==_||b[7]!==w||b[8]!==I||b[9]!==A||b[10]!==y?(c=()=>{S("createLoomPopoverItem"),R({onInsert:e=>{w((0,n("bZSO8").buildCreationLink)({contentType:"smartLinkEmbed",parentPageId:_,withFallback:!0,smartLinkCreateSource:"loomRecordSDK",smartLinkEmbedUrl:e,source:I,spaceKey:y})),(0,n("jojoK").getHashedLoomVideoIdFromUrl)(e).then(e=>{N({type:"sendTrackEvent",data:{action:"insertVideo",actionSubject:"loom",source:I,objectType:"embed",containerType:"space",containerId:A,attributes:{location:"contentTreeItem",video_id:e}}}).fire()})},insertButtonText:"Insert video",location:"topNav"})},b[3]=N,b[4]=S,b[5]=R,b[6]=_,b[7]=w,b[8]=I,b[9]=A,b[10]=y,b[11]=c):c=b[11];let P=c;b[12]!==x||b[13]!==k?(u=k&&x&&(0,n("9wGTI").fg)("confluence_m25_onboarding_spotlights"),b[12]=x,b[13]=k,b[14]=u):u=b[14];let M=u,[D,U]=(0,n("8fj5s").useSkippableCoordination)("cc-loom-onboarding-spotlight-creation",!M||L),[F,B]=(0,i.useState)(!0);b[15]!==D||b[16]!==U?(m=()=>{D&&(B(!1),U())},b[15]=D,b[16]=U,b[17]=m):m=b[17];let j=m;b[18]!==O||b[19]!==P||b[20]!==j||b[21]!==I?(p=t=>{let{children:a}=t;return e(i).createElement(n("lKj5W").RecordLoomPopoverItemSpotlight,{onRecord:O(P),onClose:j,source:I,shouldWatchTarget:!0},a())},b[18]=O,b[19]=P,b[20]=j,b[21]=I,b[22]=p):p=b[22];let V=p;b[23]===Symbol.for("react.memo_cache_sentinel")?(f=n("6yCpa").Ati.parse("ati:cloud:confluence:video"),b[23]=f):f=b[23],b[24]!==T?(g=T(d.title),b[24]=T,b[25]=g):g=b[25];let G=!k;return b[26]!==O||b[27]!==P?(E=O(P),b[26]=O,b[27]=P,b[28]=E):E=b[28],b[29]!==V||b[30]!==F||b[31]!==D||b[32]!==M?(C=M&&D&&F&&{Wrapper:V},b[29]=V,b[30]=F,b[31]=D,b[32]=M,b[33]=C):C=b[33],b[34]!==E||b[35]!==C||b[36]!==g||b[37]!==G?(h={ati:f,children:g,isLoading:G,elemBefore:e(n("2Yaht")),testId:"create-menu-button-item",onClick:E,...C},b[34]=E,b[35]=C,b[36]=g,b[37]=G,b[38]=h):h=b[38],h}:({parentId:t,source:a,spaceKey:o,onClick:r,flags:c})=>{let{formatMessage:u}=(0,n("8C5kA").default)(),m=(0,n("7QM6o").useSpaceId)(),{push:p}=(0,n("dPJCf").useRouteActions)(),{createAnalyticsEvent:f}=(0,n("inPa6").useAnalyticsEvents)(),{openLoomRecorder:g,isLoomRecorderInitialized:E,hasRecordingAccess:C}=(0,s.useLoomRecorderEntryPoint)({entryPointLocation:l,flags:c}),{enforceStorageLimit:h,shouldBlockCreate:b}=(0,n("lqy4C").useHardStorageEnforcement)({source:"record-loom-popover-item"}),_=(0,i.useCallback)(()=>{r("createLoomPopoverItem"),g({onInsert:e=>{p((0,n("bZSO8").buildCreationLink)({contentType:"smartLinkEmbed",parentPageId:t,withFallback:!0,smartLinkCreateSource:"loomRecordSDK",smartLinkEmbedUrl:e,source:a,spaceKey:o})),(0,n("jojoK").getHashedLoomVideoIdFromUrl)(e).then(e=>{f({type:"sendTrackEvent",data:{action:"insertVideo",actionSubject:"loom",source:a,objectType:"embed",containerType:"space",containerId:m,attributes:{location:"contentTreeItem",video_id:e}}}).fire()})},insertButtonText:"Insert video",location:"topNav"})},[r,g,t,a,o,p,f,m]),I=E&&C&&(0,n("9wGTI").fg)("confluence_m25_onboarding_spotlights"),[y,S]=(0,n("8fj5s").useSkippableCoordination)("cc-loom-onboarding-spotlight-creation",!I||b),[v,T]=(0,i.useState)(!0),A=(0,i.useCallback)(()=>{y&&(T(!1),S())},[S,y]);return{ati:n("6yCpa").Ati.parse("ati:cloud:confluence:video"),children:u(d.title),isLoading:!E,elemBefore:e(n("2Yaht")),testId:"create-menu-button-item",onClick:h(_),...I&&y&&v&&{Wrapper:({children:t})=>e(i).createElement(n("lKj5W").RecordLoomPopoverItemSpotlight,{onRecord:h(_),onClose:A,source:a,shouldWatchTarget:!0},t())}}},p=(0,o.isReactCompilerActiveV1)()?function(e){let{entryPointVariant:t,error:a,loading:o}=(0,n("4R3wx").useLoomEntryPointVariant)(),r=m(e),i=u(e.flags,a,o,e.source);return t===c?i:r}:function(e){let{entryPointVariant:t,error:a,loading:o}=(0,n("4R3wx").useLoomEntryPointVariant)(),r=m(e),i=u(e.flags,a,o,e.source);return t===c?i:r};t.exports.useLoomItem=p}),a("f5Ulo",function(e,t){let a={DEVELOPMENT:"dev",STAGING:"stg",PRODUCTION:"prod"};e.exports.useLoomCrossJoinUrl=()=>{let{cloudId:e,environment:t}=(0,n("bQm3c").useSessionData)(),o=(0,n("dedJV").getATLContextDomain)("id",[a[t],"commercial"]),r=`ari:cloud:loom::site/${e}`,i=encodeURIComponent(`https://${o}/join/user-access?resource=${r}&continue=${"PRODUCTION"===t?"https://loom.com/api/auth/atlassian":"https://stage.loom.com/api/auth/atlassian"}`);return`https://${o}/login?continue=${i}`}}),a("8Q0mA",function(t,a){var o=n("42omo");let r="crossJoin",i=(0,n("cgtv4").defineMessages)({crossJoinCTA:{id:"loom-utils.loom-cross-sell-popup-card.crossJoinCTA",defaultMessage:"Try now"},requestAccessSuccessFlagTitle:{id:"loom-utils.loom-cross-join-popup-card.request-access-success-flag.title",defaultMessage:"Your admins were notified of your request"},requestAccessSuccessFlagDescription:{id:"loom-utils.loom-cross-join-popup-card.request-access-success-flag.description",defaultMessage:"Youll receive an email once theyve approved it."},requestAccessErrorFlagTitle:{id:"loom-utils.loom-cross-join-popup-card.request-access-error-flag.title",defaultMessage:"We couldn't add you to Loom"},requestAccessErrorFlagDescription:{id:"loom-utils.loom-cross-join-popup-card.request-access-error-flag.description",defaultMessage:"Try again in a few minutes. If you still aren't able to join, "},requestAccessErrorFlagActionTitle:{id:"loom-utils.loom-cross-join-popup-card.request-access-error-flag.action.title",defaultMessage:"contact support"}});t.exports.LoomCrossJoinPopupCard=({description:t,entryPointId:a,placement:s,shouldRenderToParent:l,sourceActionSubjectId:c,sourceComponent:d,title:u,triggerLink:m,flags:p})=>{let{createAnalyticsEvent:f}=(0,n("inPa6").useAnalyticsEvents)(),g=(0,n("8C5kA").default)(),E=(0,n("f5Ulo").useLoomCrossJoinUrl)(),C=(0,o.useContext)(n("1kHsc").ExperienceTrackerContext),{stopPulse:h}=(0,n("aFmsO").useDiscoverabilityPulseActions)(),{stopPostOffice:b}=(0,n("jHpN3").useDiscoverabilityPulseActions)(),_=(0,n("erVVf").useStreamliningCrossJoin)({entryPointId:a,flags:p,source:"loomCrossJoinPopupCard",sourceAdType:r,sourceComponent:d}),I=(0,o.useCallback)(()=>{if((0,n("9wGTI").fg)("confluence_loom_x-sell_ep_po_migration"))return void b();h()},[b,h]),y=(0,o.useCallback)(()=>{I(),C.succeed({name:n("irVI7").LOOM_CROSS_SELL_EXPERIENCE,attributes:{sourceComponent:a,adType:r}})},[a,C,I]),S=(0,o.useCallback)(async()=>{(0,n("9wGTI").fg)("twcg-1241_streamlining_loom_cross_join_gate")&&await _(),f({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"tryNow",source:"loomCrossJoinPopupCard",attributes:{adType:r,entrypoint:a,sourceComponent:d}}}).fire(),y()},[f,a,y,d,_]),v=(0,o.useCallback)(async()=>{(0,n("9wGTI").fg)("twcg-1241_streamlining_loom_cross_join_gate")&&await _(),f({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:c,source:c,attributes:{adType:r,entrypoint:a,sourceComponent:d}}}).fire(),y()},[f,a,y,c,d,_]);return e(o).createElement(n("cnQgR").BaseLoomPopupCard,{actions:(0,n("9wGTI").fg)("twcg-1241_streamlining_loom_cross_join_gate")?e(o).createElement(n("ccHMk").default,{appearance:"discovery",onClick:S},g.formatMessage(i.crossJoinCTA)):e(o).createElement(n("7p4As").default,{appearance:"discovery",href:E,onClick:S,rel:"noreferrer",target:"_blank"},g.formatMessage(i.crossJoinCTA)),description:t,entryPointId:a,placement:s,shouldRenderToParent:l,title:u,trigger:e=>m((0,n("9wGTI").fg)("twcg-1241_streamlining_loom_cross_join_gate")?"":E,{...e,onClick:v}),sourceAdType:r,sourceComponent:d})}}),a("aFmsO",function(e,t){var a=n("42omo");e.exports.useDiscoverabilityPulseActions=()=>{let e=(0,n("lwNi3").useCoordinationClient)(),{stop:t}=(0,n("gd8AW").useDiscoverabilityPulseActions)();return{stopPulse:(0,a.useCallback)(()=>{(0,n("9wGTI").fg)("confluence_frontend_loom_discoverability_pulse")&&t(e)},[e,t])}},e.exports.useDiscoverabilityPulse=e=>{let t=(0,n("lwNi3").useCoordinationClient)(),{start:o}=(0,n("gd8AW").useDiscoverabilityPulseActions)(),r=(0,n("gd8AW").useIsPulseActive)(e),i=r||(0,n("gd8AW").havePulsesEnded)();return(0,a.useEffect)(()=>{if(i||!(0,n("9wGTI").fg)("confluence_frontend_loom_discoverability_pulse"))return;let a=async n=>{let a=!!await t.start(n);return a&&o(e,n),a};(async()=>{!(await a("cc-loom-x-sell-discoverability-pulse-1")||await a("cc-loom-x-sell-discoverability-pulse-2")||await a("cc-loom-x-sell-discoverability-pulse-3"))&&!await a("cc-loom-x-sell-discoverability-pulse-4")&&await a("cc-loom-x-sell-discoverability-pulse-5")&&((0,n("gd8AW").endPulses)(),t.stop("cc-loom-x-sell-discoverability-pulse-5"))})()},[t,e,i,o]),{isPulseActive:r&&(0,n("9wGTI").fg)("confluence_frontend_loom_discoverability_pulse")}}}),a("gd8AW",function(e,t){let a=()=>!!n("17wUi").confluenceLocalStorageInstance.getItem(n("1UApO").PERSISTED_KEYS_ON_SERVER.PERSISTED_LOOM_CROSS_SELL_DISCOVERABILITY_PULSES_HAVE_ENDED),o=()=>n("17wUi").confluenceLocalStorageInstance.setItem(n("1UApO").PERSISTED_KEYS_ON_SERVER.PERSISTED_LOOM_CROSS_SELL_DISCOVERABILITY_PULSES_HAVE_ENDED,!0),r=(0,n("1P1Tu").createStore)({initialState:{entryPointId:null,messageId:null},actions:{start:(e,t)=>({setState:n})=>{n({entryPointId:e,messageId:t})},stop:e=>({getState:t,setState:n})=>{let{messageId:r}=t();r&&e.stop(r),a()||o(),n({entryPointId:null,messageId:null})}},name:"LoomEntryPointsDiscoverabilityPulse"}),i=(0,n("9zUhf").createStateHook)(r,{selector:(e,t)=>e.entryPointId===t}),s=(0,n("9zUhf").createActionsHook)(r);e.exports.havePulsesEnded=a,e.exports.endPulses=o,e.exports.useIsPulseActive=i,e.exports.useDiscoverabilityPulseActions=s}),a("jHpN3",function(e,t){let a=()=>!!n("17wUi").confluenceLocalStorageInstance.getItem(n("1UApO").PERSISTED_KEYS_ON_SERVER.PERSISTED_LOOM_CROSS_SELL_DISCOVERABILITY_PULSES_HAVE_ENDED),o=()=>n("17wUi").confluenceLocalStorageInstance.setItem(n("1UApO").PERSISTED_KEYS_ON_SERVER.PERSISTED_LOOM_CROSS_SELL_DISCOVERABILITY_PULSES_HAVE_ENDED,!0),r=(0,n("1P1Tu").createStore)({initialState:{activeMessageId:null,entryPointIds:[],clickTrackingHandler:null,dismissHandler:null,wasDismissedByUser:!1},actions:{start:(e,t,n)=>({getState:a,setState:o})=>{let r=a(),i=r.activeMessageId!==t?{activeMessageId:t,entryPointIds:[e],clickTrackingHandler:n?.onClick??null,dismissHandler:n?.onDismiss??null,wasDismissedByUser:!1}:{activeMessageId:t,entryPointIds:r.entryPointIds.includes(e)?r.entryPointIds:[...r.entryPointIds,e],clickTrackingHandler:n?.onClick??r.clickTrackingHandler,dismissHandler:n?.onDismiss??r.dismissHandler,wasDismissedByUser:!1},s=i.entryPointIds!==r.entryPointIds,l=i.clickTrackingHandler!==r.clickTrackingHandler,c=i.dismissHandler!==r.dismissHandler,d=i.activeMessageId!==r.activeMessageId,u=r.wasDismissedByUser;(s||l||c||d||u)&&o(i)},stopPostOffice:()=>({getState:e,setState:t})=>{let n=e();n.clickTrackingHandler?.(),n.dismissHandler?.(),a()||o(),null===n.activeMessageId&&0===n.entryPointIds.length&&null===n.dismissHandler&&null===n.clickTrackingHandler&&n.wasDismissedByUser||t({activeMessageId:null,entryPointIds:[],clickTrackingHandler:null,dismissHandler:null,wasDismissedByUser:!0})}},name:"LoomEntryPointsDiscoverabilityPulse"}),i=(0,n("9zUhf").createStateHook)(r,{selector:(e,t)=>e.entryPointIds.includes(t)&&!e.wasDismissedByUser}),s=(0,n("9zUhf").createActionsHook)(r);e.exports.havePulsesEnded=a,e.exports.endPulses=o,e.exports.useIsPulseActive=i,e.exports.useDiscoverabilityPulseActions=s}),a("erVVf",function(t,a){var o=n("42omo");let r=(0,n("cgtv4").defineMessages)({requestAccessSuccessFlagTitle:{id:"loom-utils.loom-cross-join-popup-card.request-access-success-flag.title",defaultMessage:"Your admins were notified of your request"},requestAccessSuccessFlagDescription:{id:"loom-utils.loom-cross-join-popup-card.request-access-success-flag.description",defaultMessage:"Youll receive an email once theyve approved it."},requestAccessErrorFlagTitle:{id:"loom-utils.loom-cross-join-popup-card.request-access-error-flag.title",defaultMessage:"We couldn't add you to Loom"},requestAccessErrorFlagDescription:{id:"loom-utils.loom-cross-join-popup-card.request-access-error-flag.description",defaultMessage:"Try again in a few minutes. If you still aren't able to join, "},requestAccessErrorFlagActionTitle:{id:"loom-utils.loom-cross-join-popup-card.request-access-error-flag.action.title",defaultMessage:"contact support"}});t.exports.useStreamliningCrossJoin=({entryPointId:t,flags:a,source:i,sourceAdType:s,sourceComponent:l})=>{let c=(0,n("8C5kA").default)(),d=(0,n("f5Ulo").useLoomCrossJoinUrl)(),{createAnalyticsEvent:u}=(0,n("inPa6").useAnalyticsEvents)(),m=(0,n("64hvi").useRequestAccessService)({entryPointId:t,source:i,sourceAdType:s}),p=(0,n("64hvi").useFetchRequestAccessCapability)({entryPointId:t,source:i,sourceAdType:s});return(0,o.useCallback)(async()=>{if("REQUEST_ACCESS"===await p()&&["control","variation"].includes((0,n("6mKj3").expVal)("twcg-1241_streamlining_loom_cross_join","cohort","not-enrolled"))&&(u({type:"sendTrackEvent",data:{action:"exposed",actionSubject:"feature",source:i,attributes:{adType:s,entrypoint:t,flagKey:"twcg-1241_streamlining_loom_cross_join",cohort:(0,n("6mKj3").expVal)("twcg-1241_streamlining_loom_cross_join","cohort","not-enrolled")}}}).fire(),(0,n("6mKj3").expValEquals)("twcg-1241_streamlining_loom_cross_join","cohort","variation")))try{if(await m()){a&&a.showSuccessFlag({title:c.formatMessage(r.requestAccessSuccessFlagTitle),description:c.formatMessage(r.requestAccessSuccessFlagDescription)});return}}catch(d){u({type:"sendTrackEvent",data:{action:"failed",actionSubject:"requestAccess",source:i,attributes:{adType:s,entrypoint:t,sourceComponent:l,error:d instanceof Error?d.message:"unknown"}}}).fire(),a&&a.showErrorFlag({title:c.formatMessage(r.requestAccessErrorFlagTitle),description:e(o).createElement(e(o).Fragment,null,e(o).createElement("span",null,c.formatMessage(r.requestAccessErrorFlagDescription)),e(o).createElement(n("7p4As").default,{href:"https://support.atlassian.com/contact",target:"_blank",rel:"noreferrer"},c.formatMessage(r.requestAccessErrorFlagActionTitle)))})}window&&window.open(d,"_blank")},[u,d,t,p,a,c,m,i,s,l])}}),a("64hvi",function(e,t){var a=n("42omo");let o=async e=>{let{url:t,...a}=e;return(await (0,n("f7B1p").cfetch)(t,a)).json()};e.exports.useRequestAccessService=({entryPointId:e,source:t,sourceAdType:r})=>{let{createAnalyticsEvent:i}=(0,n("inPa6").useAnalyticsEvents)(),{cloudId:s,userId:l}=(0,n("bQm3c").useSessionData)(),c=(0,a.useMemo)(()=>({createAnalyticsEvent:({type:e,data:n})=>i({type:e,data:{source:t,...n}}),fetchJSON:o,getCurrentCloudId:()=>s,getCurrentUserId:()=>l??"",getCurrentProduct:()=>"confluence"}),[i,s,t,l]),d=(0,n("hCOLa").useService)(n("fNwcJ").requestAccess,c);return(0,a.useCallback)(async()=>{try{let{result:n=""}=await d({product:"loom",integration:e}),a="PENDING_REQUEST_CREATED"===n;return i({type:"sendOperationalEvent",data:{action:"succeeded",actionSubject:"fetch",actionSubjectId:"requestAccess",source:t,attributes:{adType:r,entrypoint:e,result:n,success:a}}}).fire(),a}catch(n){throw i({type:"sendOperationalEvent",data:{action:"failed",actionSubject:"fetch",actionSubjectId:"requestAccess",source:t,attributes:{adType:r,entrypoint:e,error:n instanceof Error?n.message:"unknown",result:void 0,success:!1}}}).fire(),n}},[e,d,t,r,i])},e.exports.useFetchRequestAccessCapability=({entryPointId:e,source:t,sourceAdType:r})=>{let{createAnalyticsEvent:i}=(0,n("inPa6").useAnalyticsEvents)(),{cloudId:s}=(0,n("bQm3c").useSessionData)();return(0,a.useCallback)(async()=>{let n=`ari:cloud:loom::site/${s}`;try{let a=new URLSearchParams({resource:n}),s=`/gateway/api/invitations/v1/access-requests/capabilities?${a.toString()}`,l=await o({url:s});return i({type:"sendOperationalEvent",data:{action:"succeeded",actionSubject:"fetch",actionSubjectId:"requestAccessCapability",source:t,attributes:{adType:r,entrypoint:e,resource:n}}}).fire(),l.results[n]||void 0}catch(a){i({type:"sendOperationalEvent",data:{action:"failed",actionSubject:"fetch",actionSubjectId:"requestAccessCapability",source:t,attributes:{adType:r,entrypoint:e,error:a instanceof Error?a.message:"unknown",resource:n}}}).fire()}},[s,i,e,t,r])}}),a("hCOLa",function(e,t){var a=n("42omo");let o=(e,t)=>{if(t===e)return!0;if(!e||!t)return!1;{let n=Object.keys(e),a=Object.keys(t);if(a.length!==n.length)return!1;for(let n of a)if(t[n]!==e[n])return!1;return!0}};e.exports.useService=(e,t)=>{let r=(0,a.useRef)({service:void 0,depsOverrides:void 0,result:void 0}),i=r.current;return i&&i.service===e&&o(i.depsOverrides,t)||(r.current.result=(0,n("jdJm1").resolveService)(e,t),r.current.depsOverrides=t,r.current.service=e),r.current.result}}),a("jdJm1",function(e,t){function a(e,t){return"function"==typeof e&&(0,n("7DBey").isServiceWithDeps)(e)?n=>e(n,o(e.dependencies,t??{})):e}let o=(e,t)=>{let n;return{dependencies(){if(n)return n;for(let[o,r]of(n={},Object.entries(e)))n[o]=o in t?t[o]:a(r,t);return n}}};e.exports.resolveService=a}),a("7DBey",function(e,t){e.exports.isServiceWithDeps=e=>"function"==typeof e&&"dependencies"in e,e.exports.unimplementedAbstractService=e=>Object.assign(t=>{throw TypeError(`Unimplemented abstract service: ${e}`)},{abstract:!0}),e.exports.toError=e=>e instanceof Error?e:TypeError("Service Error: "+e)}),a("fNwcJ",function(e,t){let a=Object.assign(o,{dependencies:{fetchJSON:n("bmTr3").fetchJSON,createAnalyticsEvent:n("2Q94g").createAnalyticsEvent,getStargateURL:n("2Q94g").getStargateURL,getCurrentUserId:n("2Q94g").getCurrentUserId,getCurrentCloudId:n("2Q94g").getCurrentCloudId,getCurrentProduct:n("2Q94g").getCurrentProduct}});async function o(e,t){let a,o=t.dependencies(),r=e.cloudId??o.getCurrentCloudId(),i=o.getCurrentUserId(),s=`ari:cloud:${e.product}::site/${r}`;try{var l,c;l=await o.fetchJSON({url:o.getStargateURL("/invitations/v1/access-requests/request"),method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({resource:s})}),c={resource:s,userId:i,...e},a={error:null,result:l.results[c.resource],...c}}catch(t){a={error:(0,n("7DBey").toError)(t),...e,result:null,resource:s,userId:i}}return function({error:e,product:t,result:n},a){if(!e){var o;let e=a.dependencies().getCurrentUserId(),r={userAaid:e,actorAaid:e,roleName:"product/member",inviteStatus:n,sourceProduct:a.dependencies().getCurrentProduct(),sourceTenantId:a.dependencies().getCurrentCloudId(),product:t};"ACCESS_GRANTED"===n?function({userUuid:e,userAaid:t,roleName:n,sourceTenantId:a,sourceProduct:o,recommendationSources:r,product:i},s){s.dependencies().createAnalyticsEvent({type:"sendTrackEvent",data:{actionSubject:"product",action:"joined",actionSujectId:i,attributes:{userUuid:e,userAaid:t,roleName:n,sourceTenantId:a,sourceProduct:o,recommendationSources:r,product:i}}}).fire()}(r,a):(o=r,a.dependencies().createAnalyticsEvent({type:"sendTrackEvent",data:{actionSubject:"productAccess",action:"requested",actionSujectId:o.userAaid,attributes:o}}).fire())}}({...e,...a},t),a}e.exports.requestAccess=a}),a("2Q94g",function(e,t){let a=(0,n("7DBey").unimplementedAbstractService)("getCurrentCloudId"),o=(0,n("7DBey").unimplementedAbstractService)("getCurrentUserId"),r=(0,n("7DBey").unimplementedAbstractService)("getCurrentProduct"),i=(0,n("7DBey").unimplementedAbstractService)("createAnalyticsEvent");(0,n("7DBey").unimplementedAbstractService)("fireErrorAnalytics");class s extends Error{constructor(e,t,n,a,o){a?.message?super(a.message):super(`Received error response during action ${e}: ${n.statusText}`),this.responseCode=void 0,this.errorType=void 0,this.response=void 0,this.responseJson=void 0,this.name="FetchError",this.responseCode=t,this.response=n,this.responseJson=a,this.errorType=o}}let l=(e,t)=>!t&&d(e)||401===t,c=["Failed to fetch","NetworkError when attempting to fetch resource.","A server with the specified hostname could not be found."],d=e=>c.some(t=>e?.includes(t)),u=(e,t)=>{try{return JSON.parse(e).some(e=>e.errorCodes.userName.includes(t))}catch(e){return!1}},m=(e,t)=>"noDefaultGroup"===e||"Default group for the requested resource not found."===t;e.exports.getStargateURL=e=>`/gateway/api${e}`,e.exports.getCurrentCloudId=a,e.exports.getCurrentUserId=o,e.exports.getCurrentProduct=r,e.exports.createAnalyticsEvent=i,e.exports.getErrorDetails=e=>({code:e instanceof Error?e.name:"UNKNOWN",message:e instanceof Error?e.message:String(e),status:e instanceof s?e.responseCode:void 0}),e.exports.isAcceptableFailure=l,e.exports.isAcceptableFailureForUserInvite=e=>{let{key:t,message:n,status:a}=e;return l(n,a)||400===a&&(u(n,"EMAIL_BLOCKED")||u(n,"REACHED_MAX_NUMBER_OF_EMAIL_ALIAS_SIGNUPS"))||412===a&&m(t,n)},e.exports.shouldReportFailedInvite=e=>{let{code:t,message:n}=e;return("bad-request"!==t||"User cannot invite themselves"!==n)&&"licence-exceeded"!==t}}),a("bmTr3",function(e,t){let a=(0,n("7DBey").unimplementedAbstractService)("fetchJSON");e.exports.fetchJSON=a}),a("cnQgR",function(t,a){var o=n("42omo"),r=n("2fvAC");let i=(0,n("ecnYn").xcss)({borderRadius:"radius.small",overflow:"auto",width:"352px"}),s=(0,n("ecnYn").xcss)({padding:"space.300"}),l=(0,n("ecnYn").xcss)({height:"201px"});t.exports.BaseLoomPopupCard=({actions:t,description:a,entryPointId:c,placement:d,shouldRenderToParent:u=!0,title:m,trigger:p,sourceAdType:f,sourceComponent:g})=>{let{createAnalyticsEvent:E}=(0,n("inPa6").useAnalyticsEvents)(),[C,h]=(0,o.useState)(!1),b=(0,o.useRef)(!1),_=(0,o.useRef)(null),I=(0,o.useRef)(null),y=(0,o.useRef)(null),S=(0,o.useRef)(null),v=(0,o.useRef)(!1),T=(0,o.useCallback)(()=>{_.current&&(clearTimeout(_.current),_.current=null)},[]),A=(0,o.useCallback)(()=>{I.current&&(clearTimeout(I.current),I.current=null)},[]),w=(0,o.useContext)(n("1kHsc").ExperienceTrackerContext);(0,o.useEffect)(()=>{C&&w.start({name:n("irVI7").LOOM_CROSS_SELL_EXPERIENCE,attributes:{sourceComponent:c,adType:f}})},[c,w,C,f]);let N=(0,o.useCallback)(()=>{h(!1),w.abort({name:n("irVI7").LOOM_CROSS_SELL_EXPERIENCE,reason:"Loom pop up closed",attributes:{sourceComponent:c,adType:f}}),v.current=!0,setTimeout(()=>{v.current=!1},0)},[c,w,f]),R=(0,o.useCallback)(()=>{A(),_.current||(_.current=setTimeout(()=>{N(),_.current=null},400))},[A,N]),k=(0,o.useCallback)(()=>{T(),b.current||(b.current=!0,new Image().src=e(r)),I.current||(I.current=setTimeout(()=>{E({type:"sendScreenEvent",data:{name:"loomAdPopupCard",attributes:{adType:f,entrypoint:c,sourceComponent:g}}}).fire(),h(!0),I.current=null},400))},[T,E,c,f,g]),x=(0,o.useCallback)(()=>{A()},[A]),O=(0,o.useCallback)(()=>{v.current||k()},[k]),L=(0,o.useCallback)(()=>{k()},[k]),P=(0,o.useCallback)(()=>{T()},[T]),M=(0,o.useCallback)(()=>{y.current?.contains(document.activeElement)||document.activeElement===S.current||R()},[R]);return e(o).createElement(n("lGgRw").default,{autoFocus:!1,content:()=>e(o).createElement(n("6f0Oj").default,{onMouseEnter:P,onMouseLeave:M,ref:y,xcss:i},e(o).createElement(n("6f0Oj").default,{xcss:l},e(o).createElement(n("gj7hi").default,{alt:"",height:"201px",width:"352px",src:e(r)})),e(o).createElement(n("1GzhS").default,{space:"space.300",xcss:s},e(o).createElement(n("1GzhS").default,{space:"space.100"},e(o).createElement(n("7hXDW").default,{as:"h2",size:"small"},m),e(o).createElement(n("5dK2X").default,{as:"p",color:"color.text.subtle"},a)),e(o).createElement(n("dcJ7R").default,{alignBlock:"center",spread:"space-between"},e(o).createElement(n("lAFHW").LoomAttributionLogo,{appearance:"brand",size:"medium"}),t))),isOpen:C,label:m,onClose:N,placement:d||"auto",role:"dialog",shouldRenderToParent:u,trigger:e=>p({...e,isSelected:C,onBlur:x,onFocus:O,onMouseEnter:L,onMouseLeave:M,ref:(0,n("4rwCt").mergeRefs)([e.ref,S])})})}}),a("2fvAC",function(e,t){e.exports=new URL("LoomCrossSellPopupCardImage.6e60c328.png",import.meta.url).toString()}),a("a26i4",function(t,a){var o=n("3u0dr"),r=n("frIzR"),i=n("42omo"),s=n("cbBHq");let l=(0,n("cgtv4").defineMessages)({smartCreateTitle:{id:"create-blank-fabric-page.create.content.smart-create-with-ai.title",defaultMessage:"Create with Rovo"}}),c=async()=>{let e=(await (0,n("dDAsV").experimentalPromotedSpacesQuery)({variables:{promotedSpaceKey:void 0,promotedSpacesLimit:1,otherSpacesLimit:1}})).data;return e?.experimentalPromotedSpaces?.nodes?.[0]?.id??""},d=(0,o.isReactCompilerActiveV1)()?function(t){let a,o,d,u,m,p,f,g,E,C,h,b,_,I=(0,r.c)(32),{spaceKey:y,onClick:S,source:v,excludeContext:T}=t,{formatMessage:A}=(0,n("8C5kA").default)(),{openModal:w}=(0,n("jyA9t").useSmartCreationModalActions)(),{isOpen:N}=(0,n("eB1TF").useUniversalCreateState)(),R=(0,n("7pmZw").useAIMateExperienceTracker)(),k=(0,s.usePreloadSmartCreationModal)(),[x,O]=(0,i.useState)(""),[L,P]=(0,i.useState)(!0);I[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{P(!0),c().then(O).finally(()=>P(!1))},o=[],I[0]=a,I[1]=o):(a=I[0],o=I[1]),(0,i.useEffect)(a,o),I[2]!==N||I[3]!==k?(d=()=>{N&&k()},u=[N,k],I[2]=N,I[3]=k,I[4]=d,I[5]=u):(d=I[4],u=I[5]),(0,i.useEffect)(d,u),I[6]!==T||I[7]!==R||I[8]!==x||I[9]!==w||I[10]!==v||I[11]!==y?(m=()=>{R.start({name:n("16lEl").ExperienceName.AIFC_LOAD_STAGING_AREA_MODAL,id:n("16lEl").ExperienceName.AIFC_LOAD_STAGING_AREA_MODAL,attributes:{product:"confluence",source:v}}),T?w(v):w(v,y??x)},I[6]=T,I[7]=R,I[8]=x,I[9]=w,I[10]=v,I[11]=y,I[12]=m):m=I[12];let M=m;I[13]!==M||I[14]!==S?(p=(e,t,n)=>{S(t,n),e?.metaKey||e?.ctrlKey||(e.preventDefault(),M())},I[13]=M,I[14]=S,I[15]=p):p=I[15];let D=p;I[16]!==M||I[17]!==v||I[18]!==L?(f=t=>e(i).createElement(n("b8pRY").UniversalCreateWithRovoSpotlight,{onClick:()=>M(),isLoading:L,source:v},t.children&&t.children()),I[16]=M,I[17]=v,I[18]=L,I[19]=f):f=I[19];let U=f;I[20]===Symbol.for("react.memo_cache_sentinel")?(g=n("1NBp8").HOME.toUrl({},{query:{openCreateWithRovo:"true"}}),I[20]=g):g=I[20];let F=g;I[21]!==A?(E=()=>(0,n("9wGTI").fg)("aifc_onboarding_ga_enabled")&&(0,n("6mKj3").expValEquals)("cc-aifc-databases-experiment","isEnabled",!0)?A(l.smartCreateTitle):e(i).createElement(n("jo6R7").ItemTitleWithLozenge,{useLabsLozenge:!0},A(l.smartCreateTitle)),I[21]=A,I[22]=E):E=I[22];let B=E;return I[23]===Symbol.for("react.memo_cache_sentinel")?(C=n("6yCpa").Ati.parse("ati:cloud:confluence:page"),I[23]=C):C=I[23],I[24]!==B?(h=B(),I[24]=B,I[25]=h):h=I[25],I[26]!==D?(b=e=>D(e,"createAISmartCreatePopoverItem"),I[26]=D,I[27]=b):b=I[27],I[28]!==U||I[29]!==h||I[30]!==b?(_={ati:C,children:h,Wrapper:U,onClick:b,href:F,elemBefore:e(n("h7YX1")),testId:"create-menu-link-item"},I[28]=U,I[29]=h,I[30]=b,I[31]=_):_=I[31],_}:function({spaceKey:t,onClick:a,source:o,excludeContext:r}){let{formatMessage:d}=(0,n("8C5kA").default)(),{openModal:u}=(0,n("jyA9t").useSmartCreationModalActions)(),{isOpen:m}=(0,n("eB1TF").useUniversalCreateState)(),p=(0,n("7pmZw").useAIMateExperienceTracker)(),f=(0,s.usePreloadSmartCreationModal)(),[g,E]=(0,i.useState)(""),[C,h]=(0,i.useState)(!0);(0,i.useEffect)(()=>{h(!0),c().then(E).finally(()=>h(!1))},[]),(0,i.useEffect)(()=>{m&&f()},[m,f]);let b=(0,i.useCallback)(()=>{p.start({name:n("16lEl").ExperienceName.AIFC_LOAD_STAGING_AREA_MODAL,id:n("16lEl").ExperienceName.AIFC_LOAD_STAGING_AREA_MODAL,attributes:{product:"confluence",source:o}}),r?u(o):u(o,t??g)},[r,p,g,u,o,t]),_=(0,i.useCallback)((e,t,n)=>{a(t,n),e?.metaKey||e?.ctrlKey||(e.preventDefault(),b())},[a,b]),I=(0,i.useMemo)(()=>t=>e(i).createElement(n("b8pRY").UniversalCreateWithRovoSpotlight,{onClick:()=>b(),isLoading:C,source:o},t.children&&t.children()),[b,o,C]),y=n("1NBp8").HOME.toUrl({},{query:{openCreateWithRovo:"true"}});return{ati:n("6yCpa").Ati.parse("ati:cloud:confluence:page"),children:(0,n("9wGTI").fg)("aifc_onboarding_ga_enabled")&&(0,n("6mKj3").expValEquals)("cc-aifc-databases-experiment","isEnabled",!0)?d(l.smartCreateTitle):e(i).createElement(n("jo6R7").ItemTitleWithLozenge,{useLabsLozenge:!0},d(l.smartCreateTitle)),Wrapper:I,onClick:e=>_(e,"createAISmartCreatePopoverItem"),href:y,elemBefore:e(n("h7YX1")),testId:"create-menu-link-item"}};t.exports.useAISmartCreateItem=d}),a("h7YX1",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var a=r(n("42omo")),o=r(n("aSNrY"));function r(e){return e&&e.__esModule?e:{default:e}}let i=e=>a.default.createElement(o.default,Object.assign({name:"AiGenerativeTextIcon",dangerouslySetGlyph:'<path fill="currentcolor" d="M12.617 9.011a.75.75 0 0 1 .588.483l.615 1.687 1.687.615a.75.75 0 0 1 0 1.41l-1.687.615-.615 1.686a.75.75 0 0 1-1.409 0l-.616-1.686-1.686-.616a.75.75 0 0 1 0-1.409l1.686-.615.616-1.687.048-.106A.75.75 0 0 1 12.5 9z"/><path fill="currentcolor" fill-rule="evenodd" d="M9.337.604a2 2 0 0 1 2.828 0l1.233 1.232a2 2 0 0 1 0 2.828l-8.1 8.099a2 2 0 0 1-1.022.547l-3.378.676a.75.75 0 0 1-.883-.883l.676-3.38a2 2 0 0 1 .546-1.02zm-7.04 9.159a.5.5 0 0 0-.136.256l-.456 2.275 2.278-.455a.5.5 0 0 0 .254-.137l6.078-6.078-1.94-1.94zm8.808-8.099a.5.5 0 0 0-.707 0l-.961.961 1.94 1.94.96-.961a.5.5 0 0 0 0-.707z" clip-rule="evenodd"/>'},e));i.displayName="AiGenerativeTextIcon",e.exports.default=i}),a("16lEl",function(e,t){let n={LOAD_PANEL:"aiMateLoadPanel",LOAD_BROWSE_AGENTS:"aiMateLoadBrowseAgents",LOAD_CREATE_AGENT:"aiMateLoadCreateAgent",FETCH_CHAT:"aiMateFetchChat",FETCH_AGENTS:"aiMateFetchAgents",FETCH_AGENTS_PAGINATED:"aiMateFetchAgentsPaginated",FETCH_AGENTS_OVERRIDES:"aiMateFetchAgentsOverrides",FETCH_AGENT_BY_AGENT_ID:"aiMateFetchAgentByAgentId",FETCH_SCENARIO_LIST:"aiMateFetchScenarioList",FETCH_AGENT_BY_IDENTITY_ACCOUNT_ID:"aiMateFetchAgentByIdentityAccountId",FETCH_AGENT_BY_EXTERNAL_CONFIG_REFERENCE:"aiMateFetchAgentByExternalConfigReference",FETCH_AGENT_DEBUG_MODAL_DATA:"aiMateFetchAgentDebugModalData",FETCH_AGENT_DEBUG_MODAL_CONVERSATION_REVIEW:"aiMateFetchAgentDebugModalDataConversationReview",CREATE_AGENT:"aiMateCreateAgent",UPDATE_AGENT:"aiMateUpdateAgent",DELETE_AGENT:"aiMateDeleteAgent",HYDRATE_AGENT_DATA:"aiMateHydrateAgentData",FAVOURITE_AGENT:"aiMateFavouriteAgent",UNFAVOURITE_AGENT:"aiMateUnfavouriteAgent",CLEAR_CHAT:"aiMateClearChat",SEND_MESSAGE:"aiMateSendMessage",SEND_MESSAGE_ROVO_CUSTOM_AGENT:"aiMateSendMessageRovoCustomAgent",SEND_DR_MESSAGE:"aiMateSendDRMessage",SEND_TD_MESSAGE:"aiMateSendThinkDeeperMessage",SEND_CONFIRMED_TOOLS_MESSAGE:"aiMateSendConfirmedToolsMessage",ABORT_AGENT_STREAM:"aiMateAbortAgentStream",HYDRATE_CONVERSATION:"aiMateHydrateConversation",GET_CONVERSATION_CHANNELS:"aiMateGetConversationChannels",GET_CONVERSATION_CHANNELS_INITIAL_LOAD:"aiMateGetConversationChannelsInitialLoad",UPDATE_CONVERSATION_CHANNEL:"aiMateUpdateConversationChannel",CREATE_SEEDED_CONVERSATION_CHANNEL:"aiMateCreateSeededConversationChannel",PUBSUB_LISTENER:"aiMatePubSubListener",FETCH_AGENT_TENANT_DATA:"aiMateFetchAgentTenantData",RESOLVE_CONVERSATION_ACTION:"aiMateResolveConversationAction",MESSAGE_RENDERER:"aiMateMessageRenderer",FETCH_CONTEXTUAL_STARTERS:"aiMateFetchContextualStarters",FETCH_DYNAMIC_CONVERSATION_STARTERS:"aiMateFetchDynamicConversationStarters",GENERATE_CONVERSATION_STARTERS:"aiMateGenerateConversationStarters",FETCH_AGENT_TEAM_DATA:"aiMateFetchAgentTeamData",FETCH_CONNECTED_KNOWLEDGE_SOURCES:"aiMateFetchConnectedKnowledgeSources",FETCH_AGENT_ACTIONS:"aiMateFetchAgentActions",CHANGE_AGENT_OWNER:"aiMateChangeAgentOwner",GET_AGENT_PERMISSIONS:"aiMateGetAgentPermissions",AIFC_FINALIZE_CONTENT:"aiMateAIFCFinalizeContent",PREVIEW_CONTENT:"aiMatePreviewContent",PREVIEW_CARD_RENDER:"aiMatePreviewCardRender",FETCH_AGENT_SITE_PERMISSIONS:"aiMateFetchAgentSitePermissions",SEND_MESSAGE_NL_AGENT:"aiMateSendMessageNLAgent",GET_RECOMMENDED_AGENTS:"aiMateGetRecommendedAgents",UPLOAD_FILES_TO_CONVERSATION:"aiMateUploadFilesToConversation",VALIDATE_FILES:"aiMateValidateFiles",GET_CONVERSATION_FILES:"aiMateGetConversationFiles",AIFC_MESSAGE:"aiMateAifcMessage",AIFC_LOAD_STAGING_AREA_MODAL:"aiMateLoadStagingAreaModal",AIFC_LOAD_DRAFTS_SECTION:"aiMateLoadDraftsSection",AIFC_GENERATE_CONTENT:"aiMateAifcGenerateContent",AIFC_GENERATE_CONTENT_IN_CHAT:"aiMateAifcGenerateContentInChat",AIFC_INITIAL_DATA_RECEIVED:"aiMateAifcInitialDataReceived",AIFC_ALL_DATA_HANDLED:"aiMateAifcAllDataHandled",AIFC_UPDATE_CONTENT:"aiMateAifcUpdateContent",AIFC_MODAL_SESSION:"aiMateAifcModalSession",CSM_WIDGET_RENDER:"csmWidgetRender",CSM_AGENT_IDENTITY_NAME:"csmAgentIdentityName",CSM_AGENT_IDENTITY_COMPANY:"csmAgentIdentityCompany",CSM_AGENT_IDENTITY_TONE:"csmAgentIdentityTone",CSM_AGENT_IDENTITY_GREETING_MESSAGE:"csmAgentIdentityGreetingMessage",CSM_AGENT_IDENTITY_CONVERSATION_STARTERS:"csmAgentIdentityConversationStarters",CSM_AGENT_IDENTITY_GENERATE_CONVERSATION_STARTERS:"csmAgentIdentityGenerateConversationStarters",GET_AUTO_APPLY_STATE:"aiMateGetAutoApplyState",SET_AUTO_APPLY_STATE:"aiMateSetAutoApplyState",AGENTS_MODAL_AND_SIDEBAR_LIST:"aiMateAgentsModalAndSidebarList",AGENTS_MODAL_FAVOURITE_AGENTS:"aiMateAgentsModalFavouriteAgents",AGENTS_FULLSCREEN_AGENT_LIST:"aiMateAgentsFullscreenAgentList"};var a,o=((a={}).MINI_MODAL="miniModal",a);let r=[n.AIFC_GENERATE_CONTENT,n.AIFC_GENERATE_CONTENT_IN_CHAT,n.AIFC_UPDATE_CONTENT,n.AIFC_FINALIZE_CONTENT,n.AIFC_LOAD_STAGING_AREA_MODAL,n.AIFC_MODAL_SESSION],i=[n.AIFC_INITIAL_DATA_RECEIVED,n.AIFC_ALL_DATA_HANDLED,n.PREVIEW_CONTENT,...r];e.exports.ExperienceName=n,e.exports.ExperienceNamePostfix=o,e.exports.sendMessageExperienceName=({deepResearchEnabled:e,thinkDeeperEnabled:t,isCustomRovoAgent:a})=>a?n.SEND_MESSAGE_ROVO_CUSTOM_AGENT:e?n.SEND_DR_MESSAGE:t?n.SEND_TD_MESSAGE:n.SEND_MESSAGE,e.exports.AIFC_EXPERIENCES_TO_FAIL=r,e.exports.AIFC_EXPERIENCES_TO_ABORT=i}),a("7pmZw",function(e,t){var a=n("42omo");let o=e=>e&&"object"==typeof e&&"errorAttributes"in e&&"object"==typeof e.errorAttributes;class r{setSendAnalyticsEvent(e){this.sendAnalyticsEvent=e}static getInstance(){return r.instance||(r.instance=new r),r.instance}static setLabelStack(e){r.labelStack=e}constructor(){this.experienceTracker=new(0,n("9tntP").ExperienceTracker),this.sendAnalyticsEvent=null,this.experienceTracker.subscribe(e=>{let t={},a=!1;if("error"in e){if((0,n("j2DyP").isClientFetchError)(e.error)&&(a=!0),e.attributes){let{webSearchEnabled:n,deepResearchEnabled:a,thinkDeeperEnabled:o}=e.attributes;void 0!==n&&(t={...t,webSearchEnabled:n}),void 0!==a&&(t={...t,deepResearchEnabled:a}),void 0!==o&&(t={...t,thinkDeeperEnabled:o})}if(o(e.error)&&(t=Object.fromEntries(Object.entries(e.error.errorAttributes).filter(([,e])=>void 0!==e))),!a){let a=e.error instanceof Error?e.error:Error(JSON.stringify(e.error)),o=e.attributes,r=o?.touchpointSource,i=o?.teamName,{traceId:s,...l}=t,c=o?.traceId||s;(0,n("1yaYZ").logException)({exception:a,name:e.name,tags:{source:"aiMateExperienceTracker",...l,...r&&{touchpointSource:r},...i&&{teamName:i},...c&&{altTraceId:c}}})}}("taskSuccess"===e.action||"taskFail"===e.action||"taskAbort"===e.action)&&(0,n("4u5NT").addSpanToAll)("custom",`exp-${e.name}`,r.labelStack,e.startTime,e.startTime+e.duration),this.sendAnalyticsEvent?.({eventType:"operational",action:e.action,actionSubject:"ui",attributes:{task:e.name,taskId:e.id,startTime:e.startTime,...("taskSuccess"===e.action||"taskFail"===e.action)&&{duration:e.duration},..."taskFail"===e.action&&{error:e.error.message,...t},...e.attributes}},{removeDefaultTags:!0})})}}r.instance=void 0,r.labelStack=[],e.exports.useUFOLabelStackSetter=()=>(0,a.useCallback)(e=>{r.setLabelStack(e)},[]),e.exports.useAIMateExperienceTracker=e=>{(0,n("fBMbo").di)(n("kIvLT").useAnalytics);let{sendAnalyticsEvent:t,mode:o}=(0,n("kIvLT").useAnalytics)(),i=(0,a.useCallback)(e=>"mini-modal"===o?`${e}.${n("16lEl").ExperienceNamePostfix.MINI_MODAL}`:e,[o]);return(0,a.useMemo)(()=>{r.getInstance().setSendAnalyticsEvent(t)},[t]),(0,a.useMemo)(()=>new Proxy(r.getInstance().experienceTracker,{get:(t,n)=>"fail"===n?n=>{t.fail({...n,attributes:{...n.attributes,name:n.name?i(n.name):n.name,touchpointSource:e?.touchpointSource,teamName:n.teamName}})}:"succeed"===n?n=>{t.succeed({...n,name:n.name?i(n.name):n.name,attributes:{...n.attributes,touchpointSource:e?.touchpointSource}})}:"start"===n?e=>{t.start({...e,name:e.name?i(e.name):e.name})}:"abort"===n?e=>{t.abort({...e,name:e.name?i(e.name):e.name})}:"stopOnError"===n?e=>{t.stopOnError({...e,name:e.name?i(e.name):e.name})}:"function"==typeof t[n]?t[n].bind(t):t[n]}),[e?.touchpointSource,i])}}),a("fBMbo",function(e,t){e.exports.di=function(e,...t){let{getDependencies:a}=n("dNGPK").Context._currentRenderer2&&n("dNGPK").Context._currentValue2||n("dNGPK").Context._currentValue||n("7qH1e").globalDi;return a(t,e)}}),a("dNGPK",function(t,a){let o=e(n("42omo")).createContext({getDependencies:n("7qH1e").globalDi.getDependencies});t.exports.Context=o}),a("7qH1e",function(e,t){let a=new Map;e.exports.globalDi={getDependencies(e,t){if(a.size)for(let o=0;o<e.length;o++){let r=(0,n("b1tX2").findInjectable)(a,e[o],t);r&&(e[o]=r.value)}return e},use(e){if(a.size)throw Error(`${n("ipvr6").PACKAGE_NAME} has replacements configured already. Implicit merging is not supported, so please concatenate injectables. If this is not expected, please file a bug report`);e.forEach(e=>(0,n("b1tX2").addInjectableToMap)(a,e))},clear(){a.clear()},_fromProvider(e,t={}){e.forEach(e=>{(t.global||n("ipvr6").diRegistry.get(e).global)&&(0,n("b1tX2").addInjectableToMap)(a,e)})},_remove(e){e.forEach(e=>(0,n("b1tX2").removeInjectableFromMap)(a,e))}}}),a("ipvr6",function(e,t){let n=new WeakMap;e.exports.diRegistry=n,e.exports.PACKAGE_NAME="react-magnetic-di"}),a("b1tX2",function(e,t){e.exports.addInjectableToMap=function(e,t){let a=n("ipvr6").diRegistry.get(t);if(!a)throw Error(`Seems like you are trying to use "${t}" as injectable, but magnetic-di needs the return value of "injectable()"`);return a.track&&n("aqxLC").stats.set(a),e.has(a.from)?e.get(a.from).add(a):e.set(a.from,new Set([a])),e},e.exports.removeInjectableFromMap=function(e,t){let a=n("ipvr6").diRegistry.get(t),o=e.get(a.from)||new Set;1===o.size?e.delete(a.from):o.delete(a)},e.exports.findInjectable=function(e,t,a){let o=e.get(t);if(!o)return null;let r=null,i=null;for(let e of o){var s;e.targets||(r=e),null!=(s=e.targets)&&s.has(a)&&(i=e)}let l=i||r;return n("aqxLC").stats.track(l),l}}),a("aqxLC",function(e,t){let n=()=>({unused:new Map,used:new Set,provided:new Set}),a={state:n(),set(e){var t;for(let t of this.state.unused.keys())t.from===e.from&&this.state.unused.delete(t);this.state.unused.set(e,Error(`Unused "di" injectable: ${(null==(t=e.value)?void 0:t.displayName)||e.value}.`,{cause:e.cause})),e.cause=null},track(e){e&&(this.state.unused.delete(e),this.state.used.add(e),this.state.provided.add(e.from))},reset(){this.state=n()},unused(){return Array.from(this.state.unused.entries()).map(([e,t])=>({get:()=>e.value,error:()=>t}))}};e.exports.stats=a}),a("j2DyP",function(e,t){let n=["server with the specified hostname could not be found","connection failure","Failed to fetch","Network request failed","NetworkError","The request timed out","The network connection was lost","The operation was aborted"],a=e=>!!e&&!!n.find(t=>e.includes(t)),o=["AbortError","AuthError","ChunkLoadError","NetworkError"];e.exports.isClientFetchError=e=>!!e&&"object"==typeof e&&(o.includes(e.name)||a(e.message)||"object"==typeof e.cause&&(o.includes(e.cause.name)||a(e.cause.message)))}),a("1yaYZ",function(e,t){let a,o=async()=>n("qPf6L"),r=["onerror","onunhandledrejection","Dedupe"],i=()=>"production",s=async({customSentryDsn:e,packageName:t,product:s,ignoreErrors:l}={})=>{let c,d="UNKNOWN_AAID",u=s??(0,n("35fh0").getRovoChatProduct)();try{let e=await (0,n("mbtR9").performHttpFetch)({path:"/gateway/api/me",options:{method:"GET"}});e?.account_id&&(d=e.account_id)}catch{}if(a){a.setTag("product",u),a.setUser({id:d});return}try{c=await o()}catch(e){console.warn("Failed to load conversation-assistant sentry",e);return}c.init({dsn:e||"https://0d679a1c0fe3816e2b2e34d4ca85d5da@o55978.ingest.sentry.io/4506794008903680",environment:i(),integrations:e=>e.filter(e=>-1===r.indexOf(e.name)),initialScope:{user:{id:d},tags:{packageName:t||"@atlassian/conversation-assistant",product:u}},beforeSend:(e,t)=>{let a=t?.originalException;if((0,n("j2DyP").isClientFetchError)(a)||!e.tags?.name)return null;if(e.request?.url){if(e.request.url.includes("localhost")||e.request.url.includes("jira-dev.com")||e.request.url.includes("stg.atlassian.com")||e.request.url.includes("stg.internal.atlassian.com")||e.request.url.includes("stg-east.frontend.public.atl-paas.net"))return null;e.request.url=(0,n("ldpU6").normaliseUrl)(e.request.url)}if(e.exception?.values){let t=[];e.exception.values=e.exception.values.map(e=>{let{normalized:a,matchedUUIDs:o}=(0,n("ldpU6").normalizeUUID)(e.value);return t.push(...o),{...e,value:a}}),t.length>0&&(e.tags||(e.tags={}),e.tags.matchedUUID=JSON.stringify(t))}return e},attachStacktrace:!0,ignoreErrors:l}),a=c},l=async()=>(a||await s(),a),c=async({exception:e,name:t,tags:a})=>{let o=await l();o&&"function"==typeof o.captureException&&o.withScope(r=>{if(r.setTag("name",t),a&&r.setTags(a),a?.source==="aiMateExperienceTracker"&&(r.setTag("experience",t),"aiMateFetchChat"===t&&(0,n("dh538").fg)("rovo_sentry_issues_grouping_by_experience"))){let n=[t];e instanceof Error&&n.push(e.name),r.setFingerprint(n)}o.captureException(e,r)})};e.exports.setupSentryClient=s,e.exports.logException=c}),a("mbtR9",function(e,t){class a extends Error{constructor(e,t){super(e),this.message=e,this.errorAttributes=t}}let o=async({path:e,options:t})=>{try{let n=await fetch(e,t);return(!n.ok||n.status>=400)&&await r({response:n}),await n.json()}catch(a){let t=a instanceof Error?"Original error: "+a.message:"Unknown error";throw new(0,n("kU4HV").FetchError)(`performHttpFetch error while fetching ${e}. ${t}`,{errorCode:"performHttpFetchError"})}},r=async({response:e})=>{throw new a(`[Code ${e.status}] ${await e.text()}`,{statusCode:e.status,traceId:(0,n("hdasn").getTraceIdFromResponse)(e)})};e.exports.performHttpFetch=o}),a("kU4HV",function(e,t){e.exports.FetchError=class extends Error{constructor(e,t){super(e),this.errorAttributes=t,this.name="FetchError"}}}),a("hdasn",function(e,t){e.exports.getTraceIdFromResponse=e=>e?.headers?.get("x-trace-id")??e?.headers?.get("atl-traceid")??e?.headers?.get("x-b3-traceid")??void 0}),a("35fh0",function(e,t){e.exports.getRovoChatProduct=()=>{let e="UNKNOWN";return window&&window.__ROVO_CHAT_CONFIG_PRODUCT__&&(e=window.__ROVO_CHAT_CONFIG_PRODUCT__),e}}),a("ldpU6",function(e,t){let n=["/jira/","/wiki/","/browse/"],a=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/gi;e.exports.normaliseUrl=e=>{try{let t=new URL(e),a="/any/";("home.atlassian.com"===t.host||"team.atlassian.com"===t.host)&&(a=t.pathname.replace(/\/o\/[^/]+/,"/o/orgId"));let o=RegExp(`^(${n.join("|")})`);return o.test(t.pathname)&&(a=t.pathname.match(o)[0]),`${t.protocol}//${t.host}${a}`}catch(e){return"https://could-not-parse.example.com"}},e.exports.normalizeUUID=e=>{if(!e)return{normalized:"",matchedUUIDs:[]};let t=e.match(a)||[];return{normalized:e.replace(a,"{uuid}"),matchedUUIDs:t}}}),a("qPf6L",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("hyqsV"),a("2KJHS")]).then(()=>n("3spmo"))}),a("kIvLT",function(e,t){var a=n("42omo");let o=()=>["home.atlassian.com","team.atlassian.com"].some(e=>window.location?.host.includes(e)),r=["atlaskit","aiMate"];e.exports.useAnalytics=()=>{let{createAnalyticsEvent:e}=(0,n("inPa6").useAnalyticsEvents)(),{propertiesRef:t,mode:i}=(0,n("TwPkE").useAnalyticsPropertiesContext)(),s=(0,a.useCallback)(e=>{let t=(0,n("6v6KC").isUIAnalyticsEvent)(e)?e.payload:e;return"ui"===t.actionSubject&&"operational"===t.eventType&&o()?["townsquare"]:[]},[]),l=[...r];o()&&l.push("townsquare");let{trackAIInteractionInit:c,trackAIResultView:d,trackAIResultError:u,trackAIInteractionDismiss:m,trackAIResultAction:p,trackAIFeedbackSubmit:f}=(0,n("fYQcF").useAIEventsInstrumentation)({product:t.current.product,subproduct:t.current.product,aiFeatureName:"aiChat",proactiveGeneratedAI:0,userGeneratedAI:1,enablePlatformEvents:!0,tags:l,customAnalyticsFire:(t,a)=>{let o=e(t),r=(0,n("lUZCl").getAttributesFromContexts)(o.context);o.update({attributes:{...o.payload.attributes,...r}}).fire(n("bQGO7").ANALYTICS_CHANNEL)}}),g=(0,a.useCallback)(()=>{let{agentCreatorType:e,agentId:a,agentVisibility:o,agentExternalConfigReference:r,agentActions:i,agentIsDefault:s,conversationChannelId:l,experienceId:c,fullScreen:d,product:u,productHeader:m,mode:p}=t.current;return{[n("jA9SA").AI_MATE_ATTRIBUTES.agentCreatorType]:e,[n("jA9SA").AI_MATE_ATTRIBUTES.agentId]:a,[n("jA9SA").AI_MATE_ATTRIBUTES.agentVisibility]:o,[n("jA9SA").AI_MATE_ATTRIBUTES.conversationChannelId]:l,[n("jA9SA").AI_MATE_ATTRIBUTES.experienceId]:c,[n("jA9SA").AI_MATE_ATTRIBUTES.fullScreen]:d,[n("jA9SA").AI_MATE_ATTRIBUTES.product]:u,[n("jA9SA").AI_MATE_ATTRIBUTES.productHeader]:m,[n("jA9SA").AI_MATE_ATTRIBUTES.singleInstrumentationID]:l,[n("jA9SA").AI_MATE_ATTRIBUTES.agentExternalConfigReference]:r,[n("jA9SA").AI_MATE_ATTRIBUTES.agentActions]:i,[n("jA9SA").AI_MATE_ATTRIBUTES.agentIsDefault]:s,[n("jA9SA").AI_MATE_ATTRIBUTES.mode]:p}},[t]),E=(0,a.useCallback)(t=>{let a=[...r];o()&&a.push("townsquare");let{source:i,subjectId:s,proactive:l,userGenerated:E,messageId:C,messageActions:h,singleInstrumentationID:b,deepResearchEnabled:_,webSearchEnabled:I,timestamp:y,citedProductList:S,citedProduct:v,sourceProducts:T,sourceProduct:A,invokedPlugins:w,responseSources:N,usesJsm:R,invokedFrom:k,conversationChannelId:x,attributes:O}=t,L={...g(),isAIFeature:1,proactiveAIGenerated:+!!l,userGeneratedAI:+!!E,aiFeatureName:"aiChat",citedProductList:S,citedProduct:v,sourceProducts:T,sourceProduct:A,...O};C&&(L.messageId=C),h&&(L.messageActions=h),k&&(L.invokedFrom=k),y&&(L.timestamp=y),b&&(L.singleInstrumentationID=b),w&&(L.invokedPlugins=w),N&&(L.responseSources=N),void 0!==R&&(L.usesJsm=R),_&&(L.deepResearchEnabled=_),I&&(L.webSearchEnabled=I),x&&(L.conversationChannelId=x);let P={eventType:"track",tags:a,source:i,actionSubjectId:s,attributes:L};if((0,n("dh538").fg)("rovo_ai_events_tracking_migration")){let e={...L,aiFeatureName:"aiChat",proactiveGeneratedAI:+!!l,userGeneratedAI:+!!E};switch(t.type){case"initiated":c({attributes:e,tags:a,source:i,actionSubjectId:s});break;case"viewed":d({attributes:e,tags:a,source:i,actionSubjectId:s});break;case"error":u({aiErrorMessage:t.errorMessage},{attributes:e,tags:a,source:i,actionSubjectId:s});break;case"dismissed":m({attributes:e,tags:a,source:i,actionSubjectId:s});break;case"actioned":p(t.actionResult,{attributes:e,tags:a,source:i,actionSubjectId:s});break;case"feedback":f(t.feedbackResult,{attributes:e,tags:a,source:i,actionSubjectId:s})}}else{switch(t.type){case"initiated":P={...P,actionSubject:"aiInteraction",action:"initiated"};break;case"viewed":P={...P,actionSubject:"aiResult",action:"viewed"};break;case"error":P={...P,actionSubject:"aiResult",action:"error"};break;case"dismissed":P={...P,actionSubject:"aiInteraction",action:"dismissed"};break;case"actioned":P={...P,actionSubject:"aiResult",action:"actioned",attributes:{...P.attributes,aiResultAction:t.actionResult}};break;case"feedback":P={...P,actionSubject:"aiFeedback",action:"submitted",attributes:{...P.attributes,aiFeedbackResult:t.feedbackResult}}}let a=e(P),o=(0,n("lUZCl").getAttributesFromContexts)(a.context);a.update({attributes:{...a.payload.attributes,...o}}).fire(n("bQGO7").ANALYTICS_CHANNEL)}},[e,g,c,d,u,m,p,f]);return{sendAnalyticsEvent:(0,a.useCallback)((t,a)=>{let o=Array.from(new Set([...a?.removeDefaultTags?[]:r,...t.tags||[],...s(t)])),i=g();if((0,n("6v6KC").isUIAnalyticsEvent)(t)){let e=(0,n("lUZCl").getAttributesFromContexts)(t.context);t.update({...t.payload,tags:o,attributes:{...i,...t.payload.attributes,...e}}).fire(n("bQGO7").ANALYTICS_CHANNEL)}else{let a=e({...t,tags:o,attributes:{...i,...t.attributes}}),r=(0,n("lUZCl").getAttributesFromContexts)(a.context);a.update({attributes:{...a.payload.attributes,...r}}).fire(n("bQGO7").ANALYTICS_CHANNEL)}},[e,s,g]),trackAIMAUEvent:E,mode:i}}}),a("fYQcF",function(e,t){var a=n("42omo"),o=n("dWJ5i"),r=n("3pfAb");e.exports.useAIEventsInstrumentation=e=>{let t=(0,a.useContext)(n("ifW2H").AIEventsInstrumentationContext);e&&(t={config:{...n("8Y3mE").defaultAIEventsInstrumentationConfigValues,...e},...(0,n("j4EkW").useAIInstrumentationSetup)(e.singleInstrumentationID,e.cookieSingleInstrumentationConfig)});let{createAnalyticsEvent:i}=(0,n("inPa6").useAnalyticsEvents)();if(null===t)throw Error("useAIEventsInstrumentation must be used within a AIEventsInstrumentationProvider");let{config:{source:s,channel:l,subproduct:c,actionSubjectId:d,tags:u,product:m,eventDispatcherSource:p,skipAISessionValidation:f,customAnalyticsFire:g,additionalAttributes:E,useDefaultGASv3EventSchema:C,enablePlatformEvents:h},refreshSingleInstrumentationID:b,getSingleInstrumentationID:_,setAISessionState:I,getAISessionState:y}=t,S=(0,a.useRef)({}),v=(0,a.useCallback)(e=>{let t=y();return(0,o.match)({currentState:t,nextState:e,skipAISessionValidation:f}).with({skipAISessionValidation:!0},()=>!0).with({currentState:n("ea2ui").AISessionState.unset,nextState:o.P.union(n("ea2ui").AISessionState.viewed,n("ea2ui").AISessionState.error,n("ea2ui").AISessionState.dismissed)},()=>(console.error(`[@atlassian/ai-analytics]: ${e} event should be called only after trackAIInteractionInit()`),!1)).with({currentState:n("ea2ui").AISessionState.initiated,nextState:o.P.union(n("ea2ui").AISessionState.submitted,n("ea2ui").AISessionState.actioned,n("ea2ui").AISessionState.discarded)},()=>(console.error(`[@atlassian/ai-analytics]: ${e} event should be called only after trackAIResultView()`),!1)).otherwise(()=>(I(e),!0))},[I,y,f]),T=(0,a.useCallback)(e=>"function"==typeof g?void g(e,i({})):h?void i(e).fire(r.FabricChannel.aiMate):l?void i(e).fire(l):void i(e).fire(),[l,g,i,h]),A=(0,a.useCallback)(()=>{let{config:e}=t,n=S.current,a=n.aiExperienceName||e.aiExperienceName,o=n.aiFeatureName||e.aiFeatureName,r=n.proactiveGeneratedAI||e.proactiveGeneratedAI;return{aiExperienceName:a,aiFeatureName:o,proactiveGeneratedAI:r,userGeneratedAI:n.userGeneratedAI||e.userGeneratedAI,isAIFeature:n.isAIFeature||e.isAIFeature}},[t]),w=(0,a.useCallback)((e,t)=>{let a=_(),{aiExperienceName:r,aiFeatureName:i,proactiveGeneratedAI:f,userGeneratedAI:g,isAIFeature:b}=A(),I={action:e.action,actionSubject:e.actionSubject,actionSubjectId:t?.actionSubjectId??d,attributes:{aiExperienceName:r,aiFeatureName:i,proactiveGeneratedAI:f,userGeneratedAI:g,isAIFeature:b,eventDispatcherSource:p,singleInstrumentationID:a,...e.attributes,...t?.attributes,...E}};return(0,o.match)({product:m,channel:l,useDefaultGASv3EventSchema:C,enablePlatformEvents:h}).with({enablePlatformEvents:!0},()=>({eventType:"track",...I,tags:(0,n("oWrxz").getTagsWithPlatfromTag)(u),source:t?.source??s,subproduct:c,product:m})).with({product:"confluence",channel:o.P.nullish,useDefaultGASv3EventSchema:!1},()=>({type:"sendTrackEvent",data:{...I,tags:t?.tags??u,source:t?.source??s,subproduct:c}})).with({product:"jira",channel:o.P.nullish,useDefaultGASv3EventSchema:!1},()=>I).otherwise(()=>({eventType:"track",...I,tags:t?.tags??u,source:t?.source??s,subproduct:c,product:m}))},[c,l,m,_,C,s,u,p,d,E,h,A]),N=(0,a.useCallback)(e=>{v(n("ea2ui").AISessionState.initiated)&&(b(e?.attributes?.singleInstrumentationID),T(w({action:"initiated",actionSubject:"aiInteraction"},e)))},[b,w,T,v]),R=(0,a.useCallback)(e=>{if(!v(n("ea2ui").AISessionState.viewed))return;let{doesNotMeetMAUCriteria:t,attributes:a,...o}=e||{};T(w({action:"viewed",actionSubject:"aiResult"},{...o,attributes:{...a,doesNotMeetMAUCriteria:!!t}}))},[v,w,T]),k=(0,a.useCallback)((e,t)=>{v(n("ea2ui").AISessionState.error)&&T(w({action:"error",actionSubject:"aiResult",attributes:{...e}},t))},[v,w,T]),x=(0,a.useCallback)(e=>{v(n("ea2ui").AISessionState.dismissed)&&T(w({action:"dismissed",actionSubject:"aiInteraction"},e))},[v,w,T]),O=(0,a.useCallback)((e,t)=>{v(n("ea2ui").AISessionState.actioned)&&T(w({action:"actioned",actionSubject:"aiResult",attributes:{aiResultAction:e}},t))},[v,w,T]),L=(0,a.useCallback)((e,t)=>{v(n("ea2ui").AISessionState.discarded)&&T(w({action:"discarded",actionSubject:"aiResult",attributes:{aiResultAction:e}},t))},[v,w,T]);return{trackAIInteractionInit:N,trackAIResultView:R,trackAIResultError:k,trackAIResultDiscarded:L,trackAIInteractionDismiss:x,trackAIResultAction:O,trackAIFeedbackSubmit:(0,a.useCallback)((e,t)=>{v(n("ea2ui").AISessionState.submitted)&&T(w({action:"submitted",actionSubject:"aiFeedback",attributes:{aiFeedbackResult:e}},t))},[v,w,T]),refreshSingleInstrumentationID:b,updateAIAttributes:(0,a.useCallback)(e=>{S.current={...S.current,...e}},[])}}}),a("dWJ5i",function(e,t){let n=Symbol.for("@ts-pattern/matcher"),a=Symbol.for("@ts-pattern/isVariadic"),o="@ts-pattern/anonymous-select-key",r=e=>!!(e&&"object"==typeof e),i=e=>e&&!!e[n],s=(e,t,o)=>{if(i(e)){let{matched:a,selections:r}=e[n]().match(t);return a&&r&&Object.keys(r).forEach(e=>o(e,r[e])),a}if(r(e)){if(!r(t))return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;let n=[],r=[],l=[];for(let t of e.keys()){let o=e[t];i(o)&&o[a]?l.push(o):l.length?r.push(o):n.push(o)}if(l.length){if(l.length>1)throw Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(t.length<n.length+r.length)return!1;let e=t.slice(0,n.length),a=0===r.length?[]:t.slice(-r.length),i=t.slice(n.length,0===r.length?1/0:-r.length);return n.every((t,n)=>s(t,e[n],o))&&r.every((e,t)=>s(e,a[t],o))&&(0===l.length||s(l[0],i,o))}return e.length===t.length&&e.every((e,n)=>s(e,t[n],o))}return Reflect.ownKeys(e).every(a=>{let r=e[a];return(a in t||i(r)&&"optional"===r[n]().matcherType)&&s(r,t[a],o)})}return Object.is(t,e)},l=e=>{var t,a,o;return r(e)?i(e)?null!=(t=null==(a=(o=e[n]()).getSelectionKeys)?void 0:a.call(o))?t:[]:Array.isArray(e)?c(e,l):c(Object.values(e),l):[]},c=(e,t)=>e.reduce((e,n)=>e.concat(t(n)),[]);function d(e){return Object.assign(e,{optional:()=>u(e),and:t=>f(e,t),or:t=>g(e,t),select:t=>void 0===t?C(e):C(t,e)})}function u(e){return d({[n]:()=>({match:t=>{let n={},a=(e,t)=>{n[e]=t};return void 0===t?(l(e).forEach(e=>a(e,void 0)),{matched:!0,selections:n}):{matched:s(e,t,a),selections:n}},getSelectionKeys:()=>l(e),matcherType:"optional"})})}let m=(e,t)=>{for(let n of e)if(!t(n))return!1;return!0},p=(e,t)=>{for(let[n,a]of e.entries())if(!t(a,n))return!1;return!0};function f(...e){return d({[n]:()=>({match:t=>{let n={},a=(e,t)=>{n[e]=t};return{matched:e.every(e=>s(e,t,a)),selections:n}},getSelectionKeys:()=>c(e,l),matcherType:"and"})})}function g(...e){return d({[n]:()=>({match:t=>{let n={},a=(e,t)=>{n[e]=t};return c(e,l).forEach(e=>a(e,void 0)),{matched:e.some(e=>s(e,t,a)),selections:n}},getSelectionKeys:()=>c(e,l),matcherType:"or"})})}function E(e){return{[n]:()=>({match:t=>({matched:!!e(t)})})}}function C(...e){let t="string"==typeof e[0]?e[0]:void 0,a=2===e.length?e[1]:"string"==typeof e[0]?void 0:e[0];return d({[n]:()=>({match:e=>{let n={[null!=t?t:o]:e};return{matched:void 0===a||s(a,e,(e,t)=>{n[e]=t}),selections:n}},getSelectionKeys:()=>[null!=t?t:o].concat(void 0===a?[]:l(a))})})}function h(e){return"number"==typeof e}function b(e){return"string"==typeof e}function _(e){return"bigint"==typeof e}let I=d(E(function(e){return!0})),y=e=>Object.assign(d(e),{startsWith:t=>y(f(e,E(e=>b(e)&&e.startsWith(t)))),endsWith:t=>y(f(e,E(e=>b(e)&&e.endsWith(t)))),minLength:t=>y(f(e,E(e=>b(e)&&e.length>=t))),length:t=>y(f(e,E(e=>b(e)&&e.length===t))),maxLength:t=>y(f(e,E(e=>b(e)&&e.length<=t))),includes:t=>y(f(e,E(e=>b(e)&&e.includes(t)))),regex:t=>y(f(e,E(e=>b(e)&&!!e.match(t))))}),S=y(E(b)),v=e=>Object.assign(d(e),{between:(t,n)=>v(f(e,E(e=>h(e)&&t<=e&&n>=e))),lt:t=>v(f(e,E(e=>h(e)&&e<t))),gt:t=>v(f(e,E(e=>h(e)&&e>t))),lte:t=>v(f(e,E(e=>h(e)&&e<=t))),gte:t=>v(f(e,E(e=>h(e)&&e>=t))),int:()=>v(f(e,E(e=>h(e)&&Number.isInteger(e)))),finite:()=>v(f(e,E(e=>h(e)&&Number.isFinite(e)))),positive:()=>v(f(e,E(e=>h(e)&&e>0))),negative:()=>v(f(e,E(e=>h(e)&&e<0)))}),T=v(E(h)),A=e=>Object.assign(d(e),{between:(t,n)=>A(f(e,E(e=>_(e)&&t<=e&&n>=e))),lt:t=>A(f(e,E(e=>_(e)&&e<t))),gt:t=>A(f(e,E(e=>_(e)&&e>t))),lte:t=>A(f(e,E(e=>_(e)&&e<=t))),gte:t=>A(f(e,E(e=>_(e)&&e>=t))),positive:()=>A(f(e,E(e=>_(e)&&e>0))),negative:()=>A(f(e,E(e=>_(e)&&e<0)))}),w=A(E(_)),N=d(E(function(e){return"boolean"==typeof e})),R=d(E(function(e){return"symbol"==typeof e})),k=d(E(function(e){return null==e})),x=d(E(function(e){return null!=e}));class O extends Error{constructor(e){let t;try{t=JSON.stringify(e)}catch(n){t=e}super(`Pattern matching error: no pattern matches value ${t}`),this.input=void 0,this.input=e}}let L={matched:!1,value:void 0};class P{with(...e){let t;if(this.state.matched)return this;let n=e[e.length-1],a=[e[0]];3===e.length&&"function"==typeof e[1]?t=e[1]:e.length>2&&a.push(...e.slice(1,e.length-1));let r=!1,i={},l=(e,t)=>{r=!0,i[e]=t},c=a.some(e=>s(e,this.input,l))&&(!t||t(this.input))?{matched:!0,value:n(r?o in i?i[o]:i:this.input,this.input)}:L;return new P(this.input,c)}when(e,t){if(this.state.matched)return this;let n=!!e(this.input);return new P(this.input,n?{matched:!0,value:t(this.input,this.input)}:L)}otherwise(e){return this.state.matched?this.state.value:e(this.input)}exhaustive(e=M){return this.state.matched?this.state.value:e(this.input)}run(){return this.exhaustive()}returnType(){return this}narrow(){return this}constructor(e,t){this.input=void 0,this.state=void 0,this.input=e,this.state=t}}function M(e){throw new O(e)}e.exports.P={__proto__:null,matcher:n,optional:u,array:function(...e){return function e(t){return Object.assign(Object.assign(t,{[Symbol.iterator](){let e=0,n=[{value:Object.assign(t,{[a]:!0}),done:!1},{done:!0,value:void 0}];return{next:()=>{var t;return null!=(t=n[e++])?t:n.at(-1)}}}}),{optional:()=>e(u(t)),select:n=>e(void 0===n?C(t):C(n,t))})}({[n]:()=>({match:t=>{if(!Array.isArray(t))return{matched:!1};if(0===e.length)return{matched:!0};let n=e[0],a={};if(0===t.length)return l(n).forEach(e=>{a[e]=[]}),{matched:!0,selections:a};let o=(e,t)=>{a[e]=(a[e]||[]).concat([t])};return{matched:t.every(e=>s(n,e,o)),selections:a}},getSelectionKeys:()=>0===e.length?[]:l(e[0])})})},set:function(...e){return d({[n]:()=>({match:t=>{if(!(t instanceof Set))return{matched:!1};let n={};if(0===t.size)return{matched:!0,selections:n};if(0===e.length)return{matched:!0};let a=(e,t)=>{n[e]=(n[e]||[]).concat([t])},o=e[0];return{matched:m(t,e=>s(o,e,a)),selections:n}},getSelectionKeys:()=>0===e.length?[]:l(e[0])})})},map:function(...e){return d({[n]:()=>({match:t=>{var n;if(!(t instanceof Map))return{matched:!1};let a={};if(0===t.size)return{matched:!0,selections:a};let o=(e,t)=>{a[e]=(a[e]||[]).concat([t])};if(0===e.length)return{matched:!0};if(1===e.length)throw Error(`\`P.map\` wasn't given enough arguments. Expected (key, value), received ${null==(n=e[0])?void 0:n.toString()}`);let[r,i]=e;return{matched:p(t,(e,t)=>{let n=s(r,t,o),a=s(i,e,o);return n&&a}),selections:a}},getSelectionKeys:()=>0===e.length?[]:[...l(e[0]),...l(e[1])]})})},intersection:f,union:g,not:function(e){return d({[n]:()=>({match:t=>({matched:!s(e,t,()=>{})}),getSelectionKeys:()=>[],matcherType:"not"})})},when:E,select:C,any:I,_:I,string:S,number:T,bigint:w,boolean:N,symbol:R,nullish:k,nonNullable:x,instanceOf:function(e){return d(E(t=>t instanceof e))},shape:function(e){return d(E(function(...e){if(1===e.length){let[t]=e;return e=>s(t,e,()=>{})}if(2===e.length){let[t,n]=e;return s(t,n,()=>{})}throw Error(`isMatching wasn't given the right number of arguments: expected 1 or 2, received ${e.length}.`)}(e)))}},e.exports.match=function(e){return new P(e,L)}}),a("ifW2H",function(e,t){let a=(0,n("42omo").createContext)(null);e.exports.AIEventsInstrumentationContext=a}),a("8Y3mE",function(e,t){let a={isAIFeature:1,actionSubjectId:"client",eventDispatcherSource:n("ea2ui").EventDispatcherSources.JSLib,skipAISessionValidation:!1,useDefaultGASv3EventSchema:!1,enablePlatformEvents:!1};e.exports.defaultAIEventsInstrumentationConfigValues=a}),a("ea2ui",function(e,t){var n,a,o=((n={}).unset="[AIInteraction]:UNSET",n.initiated="[AIInteraction]:INITIATED",n.viewed="[AIInteraction]:VIEWED",n.error="[AIInteraction]:ERROR",n.dismissed="[AIInteraction]:DISMISSED",n.actioned="[AIInteraction]:ACTIONED",n.discarded="[AIInteraction]:DISCARDED",n.submitted="[AIInteraction]:SUBMITTED",n),r=((a={}).JSLib="name:@atlassian/ai-analytics|language:javascript",a);e.exports.AISessionState=o,e.exports.EventDispatcherSources=r}),a("oWrxz",function(e,t){e.exports.getTagsWithPlatfromTag=e=>{let t=["atlaskit"];return e?t.concat(e):t}}),a("j4EkW",function(e,t){var a=n("42omo");e.exports.useAIInstrumentationSetup=(e,t)=>{let o=(0,a.useRef)(void 0),r=(0,a.useRef)(n("ea2ui").AISessionState.unset),i=(0,a.useCallback)(e=>{r.current=e},[]),s=(0,a.useCallback)(()=>r.current,[]),l=(0,a.useCallback)(a=>{let r=(0,n("kTkuM").getNewSingleInstrumentationID)(a,e);o.current=r,t&&(0,n("a4NM6").setSingleInstrumentationIDCookie)(t.uniqueCookieFeatureName,r)},[e,t]),c=(0,a.useCallback)(()=>e&&e!==o.current?(l(),o.current):t?(0,n("a4NM6").readSingleInstrumentationIDCookie)(t.uniqueCookieFeatureName):o.current,[e,t,l]);return{refreshSingleInstrumentationID:l,getSingleInstrumentationID:c,setAISessionState:i,getAISessionState:s}}}),a("kTkuM",function(t,a){var o=n("dWJ5i"),r=n("cUcZ5");t.exports.getNewSingleInstrumentationID=function(t,n){return(0,o.match)({customSingleInstrumentationIDFromEvent:t,customSingleInstrumentationIDFromUserConfig:n}).with({customSingleInstrumentationIDFromEvent:o.P.string},e=>e.customSingleInstrumentationIDFromEvent).with({customSingleInstrumentationIDFromUserConfig:o.P.string},e=>e.customSingleInstrumentationIDFromUserConfig).otherwise(()=>e(r)())}}),a("a4NM6",function(e,t){let a=e=>`AI_INSTRUMENTATION_FEATURE_ID_${e}`;e.exports.setSingleInstrumentationIDCookie=(e,t)=>(0,n("eGd7K").setCookie)(a(e),t,{expires:7,domain:location.hostname,sameSite:"strict"}),e.exports.readSingleInstrumentationIDCookie=e=>(0,n("hEbxW").getCookie)(a(e))||"SINGLE_INSTRUMENTATION_ID_IS_NOT_SET"}),a("TwPkE",function(e,t){var a=n("l998X"),o=n("42omo");let r={conversationChannelId:"",experienceId:"",product:"",productHeader:"",agentId:null,agentExternalConfigReference:null,agentActions:[],agentIsDefault:null,fullScreen:!1,agentCreatorType:"",agentVisibility:"",singleInstrumentationID:"",mode:void 0},i=(0,o.createContext)({propertiesRef:{current:{...r}},mode:void 0,setAnalyticsPropertiesWithoutRerender:()=>{}}),s=(0,o.createContext)({sharedFeaturesInstrumentationId:void 0,isInSmartCreateFlow:void 0}),l=({children:e,mode:t})=>{let n=(0,o.useRef)({...r}),s=(0,o.useCallback)(e=>{n.current={...n.current,...e}},[]),l=(0,o.useMemo)(()=>({propertiesRef:n,mode:t,setAnalyticsPropertiesWithoutRerender:s}),[s,t]);return(0,a.jsx)(i.Provider,{value:l,children:e})};e.exports.SharedFeaturesInstrumentationIdContext=s,e.exports.AnalyticsContextWithSourceAndProperties=({source:e,sharedFeaturesInstrumentationId:t,children:r,mode:i,isAlwaysInSmartCreateFlow:c})=>{let{sharedFeaturesInstrumentationId:d,isInSmartCreateFlow:u}=(0,o.useContext)(s),m=void 0===c?u:c,p=(0,o.useMemo)(()=>({source:e,attributes:{sharedFeaturesInstrumentationId:t??d,isInSmartCreateFlow:m}}),[e,t,d,m]);return(0,a.jsx)(n("bYRk6").default,{data:p,children:(0,a.jsx)(s.Provider,{value:{sharedFeaturesInstrumentationId:t??d,isInSmartCreateFlow:m},children:(0,a.jsx)(l,{mode:i,children:r})})})},e.exports.useAnalyticsPropertiesContext=()=>(0,o.useContext)(i)}),a("jA9SA",function(e,t){e.exports.AI_MATE_ATTRIBUTES={agentCreatorType:"agentCreatorType",agentId:"agentId",agentVisibility:"agentVisibility",agentExternalConfigReference:"agentExternalConfigReference",agentActions:"agentActions",agentIsDefault:"agentIsDefault",conversationChannelId:"conversationChannelId",experienceId:"experienceId",fullScreen:"fullScreen",mode:"mode",product:"product",productHeader:"productHeader",singleInstrumentationID:"singleInstrumentationID",sharedFeaturesInstrumentationId:"sharedFeaturesInstrumentationId"}}),a("bQGO7",function(e,t){let a=n("3pfAb").FabricChannel.aiMate;var o,r=((o={}).ROVO_CHAT="rovo-chat",o.CONFLUENCE_AIFC="confluence-aifc",o);e.exports.ANALYTICS_CHANNEL=a,e.exports.AUTOSUGGEST_SOURCE=r}),a("lUZCl",function(e,t){var a=n("ffCOo");let o=e=>"object"==typeof e&&null!==e&&"source"in e&&"attributes"in e&&"object"==typeof e.attributes&&null!==e.attributes&&n("iN5LM").ALLOWED_AI_MATE_SOURCES.includes(e.source);e.exports.getAttributesFromContexts=e=>e&&Array.isArray(e)?e.filter(e=>o(e)||e[a.AI_MATE_CONTEXT]).reduce((e,t)=>({...e,...t[a.AI_MATE_CONTEXT]?.attributes??{},...t.attributes??{}}),{}):{}}),a("iN5LM",function(e,t){e.exports.ALLOWED_AI_MATE_SOURCES=["AIMate","smart-create","CSMAI","CSMAIEmbed","rovoServiceAgent"]}),a("dDAsV",function(e,t){let a=async({variables:e,fetchPolicy:t})=>{let a=e&&e.promotedSpacesLimit||10,o=e&&e.otherSpacesLimit||10,r=e&&e.promotedSpaceKey||"";return{data:(await (0,n("iS5Ay").experimentalQuery)({url:`/wiki/rest/create-dialog/1.0/spaces?promotedSpacesLimit=${a}&otherSpacesLimit=${o}&promotedSpaceKey=${r}`,method:"GET",headers:{"Content-Type":n("jaPWl").MediaType.JSON},variables:e||{},fetchPolicy:t,parseResult:e=>{let t=e.matchedPromotedSpaces&&e.matchedPromotedSpaces.spaces||[];return{experimentalPromotedSpaces:{nodes:(e.promotedSpaces&&e.promotedSpaces.spaces||[]).concat(e.otherSpaces&&e.otherSpaces.spaces||[]),matchedPromotedSpaces:t,__typename:"ExperimentalPromotedSpaces"}}}})).data}};e.exports.experimentalPromotedSpacesQuery=a}),a("iS5Ay",function(e,t){async function a({url:e,method:t="GET",headers:a,body:o,credentials:r,variables:i,parseResult:s,fetchPolicy:l="cache-first",errorPolicy:c="none",skip:d=!1,onError:u,parseResponseOnSuccess:m,parseResponseOnError:p,ignoreNoNetworkError:f,transformError:g}){let E=(0,n("6l6jb").generateCacheKey)({url:e,method:t,headers:a,body:o,credentials:r,variables:i}),C=async()=>{try{let l=await (0,n("GLgaM").fetchResponse)({url:e,method:t,body:o,headers:a,credentials:r,parseResponseOnSuccess:m,parseResponseOnError:p},i);return await s(l,i)}catch(e){if(f&&(0,n("6fil2").containsNetworkError)(e))return;throw e}},h=n("4HDYO").defaultRegistry.getStore(n("7ji4X").queryStateStore),b=async e=>(0,n("bjeS8").convertToApolloError)(await g?.(e)||e);return(0,n("1RY07").apolloCompatibleQuery)({fetchData:C,fetchPolicy:l,errorPolicy:c,skip:d,getCachedData:()=>{let e=h.storeState.getState();return e[E]?.data},setCachedData:e=>{h.actions.setQueryState(E,{data:e,loading:!1,error:void 0,called:!0})},onError:u,convertToApolloError:b})}e.exports.experimentalQuery=a}),a("1RY07",function(e,t){async function a({fetchData:e,fetchPolicy:t,errorPolicy:a="none",skip:o=!1,onCompleted:r,onError:i,getCachedData:s,setCachedData:l,convertToApolloError:c}){if(o)return{data:void 0,errors:[]};if(("cache-first"===t||"store-or-network"===t)&&s){let e=s();if(void 0!==e)return r?.(e),{data:e,errors:[]}}if("cache-and-network"===t&&s){let t=s();if(void 0!==t)return e().catch(()=>{}),r?.(t),{data:t,errors:[]}}try{let n=await e();return"no-cache"!==t&&l&&await l(n),r?.(n),{data:n,errors:[]}}catch(t){let e=await Promise.resolve(c(t));if(e.graphQLErrors?.length&&e.graphQLErrors.forEach(e=>{(0,n("7Sm4c").processError)(e)}),i?.(e),"all"===a)return{data:void 0,errors:e.graphQLErrors||[]};throw e}}e.exports.apolloCompatibleQuery=a}),a("b8pRY",function(t,a){var o=n("42omo");t.exports.UniversalCreateWithRovoSpotlight=({onClick:t,isLoading:a,source:r,children:i})=>e(o).createElement(n("cSCao").AISmartCreateSpotlight,{onClick:t,offset:[0,16],placement:"left-end",source:r,isLoading:a},i)}),a("cSCao",function(t,a){var o=n("42omo"),r=n("kkssp"),i=n("9zecR");let s=(0,n("cgtv4").defineMessages)({smartCreateTitle:{id:"onboarding-ai-first-create.nudge.smart-create-with-ai.title",defaultMessage:"Start work faster with Rovo"},smartCreateDescription:{id:"onboarding-ai-first-create.nudge.smart-create-with-ai.description",defaultMessage:"Let Rovo draft the doc or whiteboard you need to get started fast."},smartCreateCTA:{id:"onboarding-ai-first-create.nudge.smart-create-with-ai.cta",defaultMessage:"Try it now"}});t.exports.AISmartCreateSpotlight=({children:t,onClick:a,source:l,isLoading:c,offset:d=[0,2],placement:u="left-start"})=>{let{formatMessage:m}=(0,n("8C5kA").default)(),{createAnalyticsEvent:p}=(0,n("inPa6").useAnalyticsEvents)(),{setOnboardingState:f}=(0,n("ivb8S").useSetOnboardingState)(),{useChoreographer:g}=(0,n("lsxnT").useChoreographerAssets)(),[E,C]=(0,o.useState)(!1),h=(0,o.useCallback)(()=>{f([{key:n("bPDOf").AIFC_ONBOARDING_STATE_KEYS.hasSeenAIFCSpotlight,value:"true"}]),C(!0),p({type:"sendScreenEvent",data:{name:"AISmartCreateSpotlight",attributes:{source:l}}}).fire()},[p,f,l]),b=g("AISmartCreateSpotlight",{start:h,stop:()=>{C(!1)}}),{isAIFCOnbardingEligible:_,loading:I,error:y}=(0,n("evORK").useIsAIFCOnbardingEligible)(),{data:S,loading:v,error:T}=(0,n("ivb8S").useGetOnboardingState)([...Object.values(n("bPDOf").AIFC_ONBOARDING_STATE_KEYS)],!(0,n("9wGTI").fg)("aifc_onboarding_killswitch")||!(0,n("9wGTI").fg)("aifc_create_enabled")),{hasSeenAIFCSpotlight:A}=(0,n("ivb8S").deserializeState)(S),w=(0,o.useCallback)(e=>{a?.(e),p({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"AISmartCreateSpotlightCTA",source:l}}).fire(),b.stopMessage()},[b,p,a,l]),N=(0,o.useCallback)(e=>{w(e)},[w]),R=(0,o.useCallback)(()=>{C(!1),p({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"AISmartCreateSpotlightDismiss",source:l}}).fire(),b.stopMessage()},[b,p,l]),k=(0,o.useCallback)(()=>{try{if(n("17wUi").confluenceSessionStorageInstance.getItem("aifc-create-spotlight-session-key"))return!0}catch{}return!1},[]);(0,o.useEffect)(()=>{let e=k();c||I||y||v||T||!_||A?e&&(h(),n("17wUi").confluenceSessionStorageInstance.removeItem("aifc-create-spotlight-session-key")):b.startMessage()},[b,A,c,_,y,I,T,v,k,h]);let x=(0,o.useMemo)(()=>e(o).createElement("div",{className:(0,n("gMc0m").default)(["_1bsbaq3k _4t3ihcro _bfhkdaj9"])},e(o).createElement(n("gj7hi").default,{src:e(i),srcDark:e(r),width:295,height:135,alt:""})),[]);return e(o).createElement(n("k7Tf7").PopoverProvider,null,e(o).createElement(n("8tIbq").UNSAFE_UpdateOnChange,null),e(o).createElement(n("a90ar").PopoverTarget,null,t),e(o).createElement(n("caX7N").default,{zIndex:600},e(o).createElement(n("bqAtB").PopoverContent,{dismiss:R,isVisible:E,placement:u,offset:d},e(o).createElement(n("fT2ta").default,{entranceDirection:"right-end"===u?"right":"left"},t=>e(o).createElement("div",t,e(o).createElement(n("71521").SpotlightCard,{testId:"ai-smart-create-spotlight"},e(o).createElement(n("aZQ5F").SpotlightHeader,null,e(o).createElement(n("bUJpY").SpotlightHeadline,null,m(s.smartCreateTitle)),e(o).createElement(n("aVS0S").SpotlightControls,null,e(o).createElement(n("2owmo").SpotlightDismissControl,null))),e(o).createElement(n("fdtRy").SpotlightMedia,null,x),e(o).createElement(n("f1UQW").SpotlightBody,null,e(o).createElement(n("iXCQx").default,null,m(s.smartCreateDescription))),e(o).createElement(n("eopLP").SpotlightFooter,null,e(o).createElement(n("3chlW").SpotlightActions,null,e(o).createElement(n("fNcP1").SpotlightPrimaryAction,{onClick:e=>N(e)},m(s.smartCreateCTA))))))))))}}),a("fdtRy",function(e,t){var a=n("l998X");let o=(0,n("42omo").forwardRef)(({children:e,testId:t},o)=>(0,a.jsx)(n("gdv5Z").default,{ref:o,xcss:"_1reo15vq _18m915vq _1bsbaq3k _4t3ihcro",testId:t,children:e}));e.exports.SpotlightMedia=o}),a("8tIbq",function(e,t){var a=n("42omo");let o={childList:!0,subtree:!0};e.exports.UNSAFE_UpdateOnChange=({selectors:e=["body"],options:t=o})=>{let{popoverContent:r}=(0,a.useContext)(n("2MPqq").SpotlightContext),{update:i}=r;return(0,a.useEffect)(()=>{if(!i||0===e.length)return;let a=(0,n("hTKp4").getDocument)();if(!a)return;let o=new Set;if(e.forEach(e=>{let t=a.querySelector(e);t&&o.add(t)}),0===o.size)return;let r=[];return o.forEach(e=>{let n=new MutationObserver(e=>{0!==e.length&&i()});n.observe(e,t),r.push(n)}),()=>{r.forEach(e=>e.disconnect())}},[e,t,i]),null}}),a("kkssp",function(e,t){e.exports=new URL("CreateWithRovoSpotlightAnimationDark.886221cf.gif",import.meta.url).toString()}),a("9zecR",function(e,t){e.exports=new URL("CreateWithRovoSpotlightAnimationLight.1a1df728.gif",import.meta.url).toString()}),a("cbBHq",function(e,t){var a=n("42omo"),o=n("2PxwR");e.exports.usePreloadSmartCreationModal=()=>{let[e]=(0,n("lvOsp").useLazyQueryInterop)(n("5Cllo").ConfluenceSmartCreationModalQuery);return(0,a.useCallback)(()=>{(0,n("9wGTI").fg)("aifc_create_enabled")&&(e(),o.LazyConfluenceSmartCreationModal.preload())},[e])}}),a("lvOsp",function(e,t){e.exports.useLazyQueryInterop=function(e,t){return(0,n("jxs8y").useLazyQuery)((0,n("86okN").toDocumentNode)(e),t)}}),a("2PxwR",function(e,t){let a=(0,n("jmjWc").LoadableLazy)({__loadable_id__:"4mwBk",name:"LazyConfluenceSmartCreationModal",loader:async()=>(await n("QN6Pa")).ConfluenceSmartCreationModal});e.exports.LazyConfluenceSmartCreationModal=a}),a("QN6Pa",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("7Omhy"),a("cSaRA"),a("jlSv2"),a("1UUrt"),a("amUNi"),a("kWZnd"),a("92LGf"),a("kUbUu"),a("71brO"),a("lXGg9"),a("hy3sK"),a("nbjnv"),a("8JZKd"),a("2YffH"),a("lWxi6"),a("4WLYZ"),a("8kzZS"),a("cPWI2"),a("litDc"),a("epFxL"),a("9MSTM"),a("aYx1O"),a("86sUJ"),a("8VzWv"),a("xK6fL"),a("7zIKF"),a("cyGuT"),a("2spqH"),a("gWSdF"),a("9XYQ9"),a("ggFEH"),a("9gFpE"),a("b2FtX"),a("8dLea"),a("cmCrq"),a("aeEUI"),a("hRUX7"),a("g4oYs"),a("hshEG"),a("jTaSF"),a("8fXIr"),a("dVkhd"),a("6wr18"),a("kjZZD"),a("ht5OT"),a("sj9Xz"),a("hhss7"),a("3EXzu"),a("65u2R"),a("bj2rY"),a("Wowvf"),a("ffEVr"),a("jSdjl"),a("l2EUC"),a("gZGoR"),a("let0D"),a("joFPh"),a("6vyHt"),a("bgHzk"),a("7EorR"),a("fQKYr")]).then(()=>n("6CLTo"))}),a("5Cllo",function(e,t){let a=(0,n("eSUdr").gql)`query ConfluenceSmartCreationModalQuery{user:confluence_atlassianUser(current:true){id title}}`;e.exports.ConfluenceSmartCreationModalQuery=a}),a("jzS8g",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("jTaSF"),a("6vyHt"),a("1L4bW"),a("kFEyO"),a("3FKNK"),a("hhss7"),a("9ftJe"),a("7EorR"),a("3fgvt")]).then(()=>n("dAcK0"))}),a("4ihOc",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("jTaSF"),a("jSdjl"),a("l2EUC"),a("6vyHt"),a("6wr18"),a("bz5xg"),a("e1fGs"),a("3VpLA"),a("1L4bW"),a("kFEyO"),a("3FKNK"),a("hhss7"),a("ffEVr"),a("9ftJe"),a("7EorR"),a("4XUbE")]).then(()=>n("7aarm"))}),a("eTign",function(t,a){var o=n("3u0dr"),r=n("frIzR"),i=n("42omo"),s=n("94z7g"),l=n("aQZ08");let c=(0,n("cgtv4").defineMessages)({gaSpotlightBody:{id:"create-blank-fabric-page.global-create.ga-spotlight-body",defaultMessage:"Create a whiteboard at any time using this button."},gaSpotlightCloseButton:{id:"create-blank-fabric-page.global-create.ga-spotlight-close",defaultMessage:"Okay"},spotlightBody:{id:"create-blank-fabric-page.global-create.spotlight-body",defaultMessage:"Create whiteboards from wherever you are in Confluence, whenever inspiration strikes."},spotlightCloseButton:{id:"create-blank-fabric-page.global-create.spotlight-close",defaultMessage:"Got it"}}),d=(0,o.isReactCompilerActiveV1)()?t=>{let a,o,d,u,m,p,f,g=(0,r.c)(21),{isGA:E,isUniversalCreate:C,spotlightEnabled:h,onSpotlightClose:b}=t,_=void 0!==C&&C,{createAnalyticsEvent:I}=(0,n("inPa6").useAnalyticsEvents)(),{formatMessage:y}=(0,n("8C5kA").default)();g[0]!==I||g[1]!==E||g[2]!==b?(a=()=>{b(),E&&I({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"closeWhiteboardGAOnboardingSpotlight",source:"globalCreateSpotlight"}}).fire()},g[0]=I,g[1]=E,g[2]=b,g[3]=a):a=g[3];let S=a;return g[4]!==I||g[5]!==E||g[6]!==h?(o=()=>{h&&E&&I({type:"sendScreenEvent",data:{name:"globalCreateWBSpotlightScreen",attributes:{boardType:"ga-onboarding"},source:"globalNavigation"}}).fire()},d=[I,E,h],g[4]=I,g[5]=E,g[6]=h,g[7]=o,g[8]=d):(o=g[7],d=g[8]),(0,i.useEffect)(o,d),g[9]!==_?(u=e(i).createElement(n("5izcQ").default,{name:"nav-create-whiteboard-onboarding"},_?e(i).createElement(s.UniversalCreate,null):e(i).createElement(l.GlobalCreateContentPopover,null)),g[9]=_,g[10]=u):u=g[10],g[11]!==y||g[12]!==E||g[13]!==S||g[14]!==h?(m=h&&e(i).createElement(n("5RBJ9").default,{dialogWidth:287,targetRadius:3,actions:[{onClick:S,text:y(E?c.gaSpotlightCloseButton:c.spotlightCloseButton)}],target:"nav-create-whiteboard-onboarding",key:"nav-create-whiteboard-onboarding"},e(i).createElement(n("gtD4K").default,E?c.gaSpotlightBody:c.spotlightBody)),g[11]=y,g[12]=E,g[13]=S,g[14]=h,g[15]=m):m=g[15],g[16]!==m?(p=e(i).createElement(n("2Fndw").default,null,m),g[16]=m,g[17]=p):p=g[17],g[18]!==u||g[19]!==p?(f=e(i).createElement(e(i).Fragment,null,u,p),g[18]=u,g[19]=p,g[20]=f):f=g[20],f}:({isGA:t,isUniversalCreate:a=!1,spotlightEnabled:o,onSpotlightClose:r})=>{let{createAnalyticsEvent:d}=(0,n("inPa6").useAnalyticsEvents)(),{formatMessage:u}=(0,n("8C5kA").default)(),m=(0,i.useCallback)(()=>{r(),t&&d({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"closeWhiteboardGAOnboardingSpotlight",source:"globalCreateSpotlight"}}).fire()},[d,t,r]);return(0,i.useEffect)(()=>{o&&t&&d({type:"sendScreenEvent",data:{name:"globalCreateWBSpotlightScreen",attributes:{boardType:"ga-onboarding"},source:"globalNavigation"}}).fire()},[d,t,o]),e(i).createElement(e(i).Fragment,null,e(i).createElement(n("5izcQ").default,{name:"nav-create-whiteboard-onboarding"},a?e(i).createElement(s.UniversalCreate,null):e(i).createElement(l.GlobalCreateContentPopover,null)),e(i).createElement(n("2Fndw").default,null,o&&e(i).createElement(n("5RBJ9").default,{dialogWidth:287,targetRadius:3,actions:[{onClick:m,text:u(t?c.gaSpotlightCloseButton:c.spotlightCloseButton)}],target:"nav-create-whiteboard-onboarding",key:"nav-create-whiteboard-onboarding"},e(i).createElement(n("gtD4K").default,t?c.gaSpotlightBody:c.spotlightBody))))},u=(0,n("jmjWc").LoadableAfterPaint)({__loadable_id__:"3ZtCp",name:"GlobalCreateContentPopoverSpotlightLoader",loader:async()=>(await t.exports).GlobalCreateContentPopoverSpotlight});t.exports.GlobalCreateContentPopoverSpotlight=d,t.exports.GlobalCreateContentPopoverSpotlightLoader=u}),a("aQZ08",function(t,a){var o=n("3u0dr"),r=n("frIzR"),i=n("42omo"),s=n("56QzY"),l=n("gsXbX");let c=(0,o.isReactCompilerActiveV1)()?()=>{let t,a,o,c,u,m=(0,r.c)(19),[p,f]=(0,i.useState)(!1),{createAnalyticsEvent:g}=(0,n("inPa6").useAnalyticsEvents)(),[E]=(0,n("ep3mz").usePageSpaceKey)(),{match:C}=(0,i.useContext)(n("7zgzO").RoutesContext),h=(0,n("de2j9").useIsEditorPage)(),b=(0,n("gz8ZY").useIsNav4Enabled)();m[0]!==g||m[1]!==b||m[2]!==h||m[3]!==p||m[4]!==C?.name?(t=()=>{f(!p),g({type:"sendUIEvent",data:{action:"clicked",actionSubject:"navigationItem",actionSubjectId:"globalCreateContentPopover",source:"globalNavigation",attributes:{selectedItemPageContext:C?.name,navigationLayer:"global",navigationContainer:"top",navVersion:b?"4":"3",navdexPointType:s.START,isOnEditRoute:h}}}).fire()},m[0]=g,m[1]=b,m[2]=h,m[3]=p,m[4]=C?.name,m[5]=t):t=m[5];let _=t,{isCreateWhiteboardEnabled:I,isCreateBlogEnabled:y,isCreateLiveDocEnabled:S,isCreateDatabaseEnabled:v,isCreateSmartLinkEnabled:T}=(0,n("7EIq6").useSpaceEnabledContentTypes)(E);m[6]!==y||m[7]!==v||m[8]!==S||m[9]!==T||m[10]!==I?(a=()=>e(i).createElement(d,{closePopup:()=>f(!1),isCreateBlogEnabled:y,isCreateLiveDocEnabled:S,isCreateWhiteboardEnabled:I,isCreateDatabaseEnabled:v,isCreateSmartLinkEnabled:T}),m[6]=y,m[7]=v,m[8]=S,m[9]=T,m[10]=I,m[11]=a):a=m[11];let A=a;m[12]!==_?(o=t=>e(i).createElement(e(i).Fragment,null,e(i).createElement(n("5izcQ").default,{name:"space-types-changeboarding-target"},e(i).createElement(l.GlobalCreateContentButton,{onClick:_,triggerProps:t}))),m[12]=_,m[13]=o):o=m[13];let w=o;return m[14]===Symbol.for("react.memo_cache_sentinel")?(c=()=>f(!1),m[14]=c):c=m[14],m[15]!==p||m[16]!==A||m[17]!==w?(u=e(i).createElement(n("lGgRw").default,{isOpen:p,onClose:c,placement:"bottom-start",content:A,trigger:w,testId:"create-content-popover",shouldRenderToParent:!0}),m[15]=p,m[16]=A,m[17]=w,m[18]=u):u=m[18],u}:()=>{let[t,a]=(0,i.useState)(!1),{createAnalyticsEvent:o}=(0,n("inPa6").useAnalyticsEvents)(),[r]=(0,n("ep3mz").usePageSpaceKey)(),{match:c}=(0,i.useContext)(n("7zgzO").RoutesContext),u=(0,n("de2j9").useIsEditorPage)(),m=(0,n("gz8ZY").useIsNav4Enabled)(),p=(0,i.useCallback)(()=>{a(!t),o({type:"sendUIEvent",data:{action:"clicked",actionSubject:"navigationItem",actionSubjectId:"globalCreateContentPopover",source:"globalNavigation",attributes:{selectedItemPageContext:c?.name,navigationLayer:"global",navigationContainer:"top",navVersion:m?"4":"3",navdexPointType:s.START,isOnEditRoute:u}}}).fire()},[a,t,o,c,u,m]),{isCreateWhiteboardEnabled:f,isCreateBlogEnabled:g,isCreateLiveDocEnabled:E,isCreateDatabaseEnabled:C,isCreateSmartLinkEnabled:h}=(0,n("7EIq6").useSpaceEnabledContentTypes)(r),b=(0,i.useCallback)(()=>e(i).createElement(d,{closePopup:()=>a(!1),isCreateBlogEnabled:g,isCreateLiveDocEnabled:E,isCreateWhiteboardEnabled:f,isCreateDatabaseEnabled:C,isCreateSmartLinkEnabled:h}),[g,E,f,C,h]),_=(0,i.useCallback)(t=>e(i).createElement(e(i).Fragment,null,e(i).createElement(n("5izcQ").default,{name:"space-types-changeboarding-target"},e(i).createElement(l.GlobalCreateContentButton,{onClick:p,triggerProps:t}))),[p]);return e(i).createElement(n("lGgRw").default,{isOpen:t,onClose:()=>a(!1),placement:"bottom-start",content:b,trigger:_,testId:"create-content-popover",shouldRenderToParent:!0})},d=(0,n("jmjWc").LoadableAfterPaint)({__loadable_id__:"5t0g-",name:"GlobalCreateContentPopoverMenuLoader",loader:async()=>(await n("cmazZ")).GlobalCreateContentPopoverMenu});t.exports.GlobalCreateContentPopover=c}),a("cmazZ",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("6wr18"),a("aDPqY"),a("7EorR"),a("ffEVr"),a("jlSv2"),a("1UUrt"),a("amUNi"),a("kWZnd"),a("92LGf"),a("7Omhy"),a("kC80R"),a("dwffN")]).then(()=>n("bvmt1"))}),a("jqe2L",function(e,t){var a=n("jiJCD");let o=()=>(0,n("9wGTI").fg)("confluence_frontend_fabric_editor_blank_page")||(0,n("9wGTI").fg)("confluence_frontend_fabric_editor_all_pages"),r=()=>{try{(0,n("9PBjm").getApolloCache)().writeQuery({query:(0,n("eSUdr").default)`query WriteFabricEditor{fabricEditor@client{editorMode}}`,data:{fabricEditor:{__typename:"FabricEditor",editorMode:"create-page"}}})}catch(e){}},i=e=>{if(!e)throw Error("No url for new content");return e.startsWith(n("jlIaF").CONTEXT_PATH)?e:`${n("jlIaF").CONTEXT_PATH}${e}`};e.exports.isCreateBlankFabricPageEnabled=()=>o(),e.exports.appendQueryParams=(e,t,o)=>{(0,n("6mKj3").expValEquals)("confluence_replace_apollo_client_schema","isEnabled",!0)?o?.("create-page"):r();let i=(0,a.parse)(e,!0);return(0,a.format)({...i,search:void 0,query:{...i.query,...t}})},e.exports.processDraftUrl=i,e.exports.getEditPageUrl=({spaceKey:e,contentId:t,url:a,type:o="page"})=>{let r=n("1NBp8").RESUME_DRAFT_LEGACY.match(a),s=r?.query?.draftShareId||"";return i("blogpost"===o?n("1NBp8").EDIT_BLOG_V2.toUrl({contentType:"blog",spaceKey:e,contentId:t},{query:{draftShareId:s}}):n("1NBp8").EDIT_PAGE_V2.toUrl({contentType:"pages",spaceKey:e,contentId:t},{query:{draftShareId:s}}))},e.exports.graphqlErrorHasMessage=(e,t)=>!!e&&"graphQLErrors"in e&&e.graphQLErrors?.some(({message:e})=>t.some(t=>e.includes(t)))}),a("iU3Bi",function(e,t){e.exports=n("4mJKd")(5)("9y1Aa").then(()=>n("dwUCw"))}),a("l2sYS",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("6wr18"),a("hhss7"),a("ffEVr"),a("jBwbI")]).then(()=>n("aEtWp"))}),a("fywGr",function(e,t){e.exports.preloadEditorOnboardingState=()=>(0,n("6mKj3").expVal)("confluence_centralized_onboarding_state","isEnabled",!1)?(0,n("1k2r8").preloadAllOnboardingState)():(0,n("dYU3e").query)({query:n("66UJS").getOnboardingStateGQL,variables:{key:Object.values(n("5cryL").EDITOR_ONBOARDING_STATE_KEYS)}})}),a("1k2r8",function(e,t){e.exports.preloadAllOnboardingState=()=>(0,n("dYU3e").query)({query:n("66UJS").getOnboardingStateGQL,variables:{key:n("9xoMO").OnboardingKeysCombined}})}),a("7yn0t",function(t,a){var o=n("3u0dr"),r=n("frIzR"),i=n("42omo");let s=(0,o.isReactCompilerActiveV1)()?t=>{let a,o,s,l,c=(0,r.c)(14),{children:d,editSource:u}=t,m=void 0===u?"":u,p=(0,i.useContext)(n("58PBI").EditContentButtonPreloaderContext),[f,g]=(0,i.useState)(!1),[E,C]=(0,n("4ri4I").useEditSource)(),{editSource:h}=E,{setEditSource:b}=C;c[0]!==m||c[1]!==b?(a=()=>{b(m),g(!0)},c[0]=m,c[1]=b,c[2]=a):a=c[2];let _=a;return c[3]!==d||c[4]!==_?(o=e(i).createElement("div",{onMouseEnter:_},d),c[3]=d,c[4]=_,c[5]=o):o=c[5],c[6]!==h||c[7]!==f||c[8]!==m||c[9]!==p?(s=m===h&&f&&p?p({}):null,c[6]=h,c[7]=f,c[8]=m,c[9]=p,c[10]=s):s=c[10],c[11]!==o||c[12]!==s?(l=e(i).createElement(i.Fragment,null,o,s),c[11]=o,c[12]=s,c[13]=l):l=c[13],l}:({children:t,editSource:a=""})=>{let o=(0,i.useContext)(n("58PBI").EditContentButtonPreloaderContext),[r,s]=(0,i.useState)(!1),[{editSource:l},{setEditSource:c}]=(0,n("4ri4I").useEditSource)(),d=(0,i.useCallback)(()=>{c(a),s(!0)},[a,c]);return e(i).createElement(i.Fragment,null,e(i).createElement("div",{onMouseEnter:d},t),a===l&&r&&o?o({}):null)};t.exports.CreateContentButtonPreloader=s}),a("58PBI",function(t,a){let o=e(n("42omo")).createContext(()=>null);o.displayName="EditContentButtonPreloaderContext",t.exports.EditContentButtonPreloaderContext=o}),a("7DERG",function(e,t){let a=(0,n("jmjWc").LoadableLazy)({__loadable_id__:"c07Cp",name:"ConfluenceSmartCreationModalLoader",loader:async()=>(await n("gXz7g")).ConfluenceSmartCreationModalManager});e.exports.ConfluenceSmartCreationModalLoader=a}),a("gXz7g",function(e,t){e.exports=n("4mJKd")(5)("gs8si").then(()=>n("iaA9H"))}),a("6g41Q",function(e,t){let a=(0,n("jmjWc").LoadableAfterPaint)({__loadable_id__:"grVUL",name:"EngagementInlineDialogLoaderNav3",loader:async()=>(await n("kxzsd")).EngagementInlineDialogWrapper}),o=(0,n("jmjWc").LoadablePaint)({__loadable_id__:"xXIQx",name:"EngagementInlineDialogLoader",loader:async()=>(await n("kxzsd")).EngagementInlineDialogWrapper});e.exports.EngagementInlineDialogLoaderNav3=a,e.exports.EngagementInlineDialogLoader=o}),a("kxzsd",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("gryT8"),a("b8oHe")]).then(()=>n("1Q21q"))}),a("6A3wB",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("6wr18"),a("kFEyO"),a("iMSgb"),a("hhss7"),a("7EorR"),a("ffEVr"),a("dnVDi")]).then(()=>n("ePUmE"))}),a("9EfFC",function(t,a){var o=n("42omo");let r="_|unknown|_";class i extends e(o).PureComponent{componentDidMount(){n("g6YCz").mentionRenderedUfoExperience.getInstance(this.props.id).success()}componentWillUnmount(){this.hoverTimeout&&clearTimeout(this.hoverTimeout);let e=n("g6YCz").mentionRenderedUfoExperience.getInstance(this.props.id);[n("28cxD").UFOExperienceState.STARTED,n("28cxD").UFOExperienceState.IN_PROGRESS].includes(e.state)&&e.abort()}renderUnknownUserError(t){return e(o).createElement(n("bwC67").UnknownUserError,{values:{userId:t.slice(-5)}},t=>e(o).createElement(e(o).Fragment,null,`@${t}`))}render(){let{handleOnClick:t,handleOnMouseEnter:a,handleOnMouseLeave:i,props:s}=this,{text:l,id:c,accessLevel:d,localId:u}=s,m=this.getMentionType(),p=l===`@${r}`,f=m===n("6mYMS").MentionType.RESTRICTED,g=e(o).createElement(n("dOMrE").default,null,e(o).createElement(n("4qXXo").default,{mentionType:m,onClick:t,onMouseEnter:a,onMouseLeave:i,spellCheck:!1,"data-testid":`mention-${c}`,"data-mention-type":m,"data-mention-tooltip":f},p?this.renderUnknownUserError(c):l||"@...")),E=s.ssrPlaceholderId?{"data-ssr-placeholder":s.ssrPlaceholderId}:{};return e(o).createElement(n("g6YCz").UfoErrorBoundary,{id:c},e(o).createElement("span",{id:u,"data-mention-id":c,"data-local-id":u,"data-access-level":d,spellCheck:!1,...E},e(o).createElement(n("i0btU").default,null,f?e(o).createElement(e(o).Suspense,{fallback:g},e(o).createElement(n("l2474").default,{name:l},g)):g)))}constructor(e){super(e),this.hoverTimeout=void 0,this.handleOnClick=e=>{let{id:t,text:n,onClick:a}=this.props;a&&a(t,n,e)},this.handleOnMouseEnter=e=>{let{id:t,text:n,onMouseEnter:a,onHover:o}=this.props;a&&a(t,n,e),this.hoverTimeout=window.setTimeout(()=>{o&&o(),this.hoverTimeout=void 0},1e3)},this.handleOnMouseLeave=e=>{let{id:t,text:n,onMouseLeave:a}=this.props;a&&a(t,n,e),this.hoverTimeout&&clearTimeout(this.hoverTimeout)},this.getMentionType=()=>{let{accessLevel:e,isHighlighted:t}=this.props;return t?n("6mYMS").MentionType.SELF:(0,n("6mYMS").isRestricted)(e)?n("6mYMS").MentionType.RESTRICTED:n("6mYMS").MentionType.DEFAULT},n("g6YCz").mentionRenderedUfoExperience.getInstance(e.id).start()}}let s=(0,n("1DWH0").default)({onClick:(e,t)=>{let{id:a,text:o,accessLevel:r}=t;return(0,n("3jsXx").fireAnalyticsMentionEvent)(e)("mention","selected",o,a,r)},onHover:(e,t)=>{let{id:a,text:o,accessLevel:r}=t;return(0,n("3jsXx").fireAnalyticsMentionEvent)(e)("mention","hovered",o,a,r)}})(i);t.exports.UNKNOWN_USER_ID=r,t.exports.default=s}),a("4qXXo",function(e,t){var a=n("42omo");let o={[n("6mYMS").MentionType.SELF]:{background:`var(--ds-background-brand-bold, ${n("6fnsQ").B400})`,borderColor:"transparent",text:`var(--ds-text-inverse, ${n("6fnsQ").N20})`,hoveredBackground:`var(--ds-background-brand-bold-hovered, ${n("6fnsQ").B400})`,pressedBackground:`var(--ds-background-brand-bold-pressed, ${n("6fnsQ").B400})`},[n("6mYMS").MentionType.RESTRICTED]:{background:"transparent",borderColor:`var(--ds-border-bold, ${n("6fnsQ").N500})`,text:`var(--ds-text, ${n("6fnsQ").N500})`,hoveredBackground:"transparent",pressedBackground:"transparent"},[n("6mYMS").MentionType.DEFAULT]:{background:`var(--ds-background-neutral, ${n("6fnsQ").N30A})`,borderColor:"transparent",text:`var(--ds-text-subtle, ${n("6fnsQ").N500})`,hoveredBackground:`var(--ds-background-neutral-hovered, ${n("6fnsQ").N30A})`,pressedBackground:`var(--ds-background-neutral-pressed, ${n("6fnsQ").N30A})`}},r=({mentionType:e},t)=>o[e][t],i=(0,a.forwardRef)(({mentionType:e,...t},a)=>(0,n("9K4OG").jsx)("span",{ref:a,css:(0,n("9K4OG").css)("display:inline;border:var(--ds-border-width, 1px) solid ",r({mentionType:e},"borderColor"),";background:",r({mentionType:e},"background"),";color:",r({mentionType:e},"text"),";border-radius:20px;cursor:pointer;padding:0 0.3em 2px 0.23em;line-height:1.714;font-size:1em;font-weight:var(--ds-font-weight-regular, 400);word-break:break-word;&:hover{background:",r({mentionType:e},"hoveredBackground"),";}&:active{background:",r({mentionType:e},"pressedBackground"),";}"),...t}));e.exports.default=i}),a("g6YCz",function(t,a){var o=n("42omo");let r=new(0,n("9801n").ConcurrentExperience)("mention-rendered",{platform:{component:"mention"},type:n("iqaft").ExperienceTypes.Load,performanceType:n("iqaft").ExperiencePerformanceTypes.PageSegmentLoad});class i extends e(o).Component{componentDidCatch(){r.getInstance(this.props.id).failure()}render(){return this.props.children}}t.exports.mentionRenderedUfoExperience=r,t.exports.UfoErrorBoundary=i}),a("8Igpw",function(e,t){let n=e=>e?.headers?.get("x-trace-id")??e?.headers?.get("atl-traceid")??e?.headers?.get("x-b3-traceid")??void 0;class a extends Error{constructor(e,t){super(e),this.errorAttributes=t,this.name="FetchError"}}class o extends Error{constructor(e,t){super(e),this.message=e,this.errorAttributes=t}}let r=async({path:e,options:t})=>{try{let n=await fetch(e,t);return(!n.ok||n.status>=400)&&await i({response:n}),await n.json()}catch(n){let t=n instanceof Error?"Original error: "+n.message:"Unknown error";throw new a(`performHttpFetch error while fetching ${e}. ${t}`,{errorCode:"performHttpFetchError"})}},i=async({response:e})=>{throw new o(`[Code ${e.status}] ${await e.text()}`,{statusCode:e.status,traceId:n(e)})};e.exports.getTraceIdFromResponse=n,e.exports.FetchError=a,e.exports.performHttpFetch=r}),a("6FQwA",function(e,t){let a=e=>e.charAt(0).toUpperCase()+e.slice(1),o=e=>e.charAt(0).toLowerCase()+e.slice(1),r=e=>{try{return new URL(e),!0}catch{return!1}},i=e=>`${n("kGZ7I").ROVO_PARAM_PREFIX}${a(e)}`,s=e=>o(e.replace(n("kGZ7I").ROVO_PARAM_PREFIX,"")),l=(e,t={filter:[]})=>{let a={},o="string"==typeof e?new URLSearchParams(r(e)?new URL(e).search:e):e,i=new URLSearchParams(o),l=new URLSearchParams;o.forEach((e,o)=>{if(!o.startsWith(n("kGZ7I").ROVO_PARAM_PREFIX))return;let r=s(o);t?.filter?.length?t.filter.includes(r)&&(a[r]=decodeURIComponent(e),l.append(o,e)):a[r]=decodeURIComponent(e),i.delete(o)});let c=[i,l].map(e=>e.toString()).filter(e=>e.length>0).join("&");return{processed:i,rovoParams:a,combinedQueryString:c}},c=(e,t)=>{let{processed:n,rovoParams:a}=l(e),o={...a,...t},r=e.includes("?")?e.split("?")[0]:e,i=Array.from(n).length?`?${n.toString()}&`:"?",s=d(o);return`${r}${i}${s}`},d=(e,t)=>t?Object.entries(e).reduce((e,[t,n])=>(e[i(t)]=encodeURIComponent(n),e),{}):Object.entries(e).filter(([e,t])=>void 0!==t).map(([e,t])=>`${i(e)}=${encodeURIComponent(t)}`).join("&");e.exports.getRovoParams=e=>{try{let t=e?new URL(e).search:window.location.search,n=new URLSearchParams(t);return l(n).rovoParams}catch{return{}}},e.exports.updatePageRovoParams=e=>{window.history.pushState({},"",c(window.location.pathname,e))},e.exports.addRovoParamsToUrl=c,e.exports.encodeRovoParams=d}),a("kGZ7I",function(e,t){e.exports.ROVO_PARAM_PREFIX="rovoChat",e.exports.ROVO_VALID_PARAMS=["pathway","agentId","conversationId","prompt","cloudId","triggerOpen","insertPrompt"]}),a("bhcGS",function(e,t){e.exports.isStaging=()=>{let e=window.location.host;return e.includes("localhost")||e.includes(".stg.atlassian")||e.includes(".stg-east.frontend.public.atl-paas.net")||e.includes("jira-dev.com")}}),a("b62XF",function(e,t){let a=e=>{let t=e.match(/(?:query|mutation)\s+(\w+)/);return t?t[1]:void 0},o=async({gqlQuery:e,headerOptions:t,variables:a,abortController:o})=>{try{let n=await fetch("/gateway/api/graphql",{headers:{"Content-Type":"application/json",...t},method:"POST",body:JSON.stringify({query:e,variables:a}),signal:o?.signal}),r=await n.json();return r?.errors?.length&&await i({errors:r.errors,gqlQuery:e}),r}catch(t){if(t instanceof r)throw t;if(t instanceof Error&&"AbortError"===t.name)return{data:null,errors:void 0};let e=t instanceof Error?t.message:"Unknown error";throw new(0,n("8Igpw").FetchError)(`GraphQL query failed (promise rejected): ${e}`,{errorCode:"performGqlFetchError"})}};class r extends Error{constructor({errors:e,queryName:t}){let n=e.map(e=>e.message).join(", "),a=`GraphQL API error: ${n}`;super(a),this.message=void 0,this.errorAttributes=void 0,this.message=a,this.name="GraphQLError",this.errorAttributes={errorCode:"GqlApiError",queryName:t,rawErrorMessage:a,errors:n}}}let i=async({errors:e,gqlQuery:t})=>{let n=[];throw e.forEach(e=>{n.push({message:e.message,status_code:e.extensions.statusCode,classification:e.extensions.classification})}),new r({errors:n,queryName:a(t)})};e.exports.performGqlFetch=o}),a("9eLw5",function(e,t){var a=n("42omo");let o=(0,n("1P1Tu").createStore)({initialState:{cache:{}},actions:{updateCacheEntry:(e,t)=>({setState:n,getState:a})=>{let o=a(),r={...o.cache[e]??{data:null,error:null,isFetching:!1},...t};n({cache:{...o.cache,[e]:r}})},getCacheEntry:e=>({getState:t})=>t().cache[e]}}),r=(0,n("cclHy").createSelector)(e=>e.cache,(e,t)=>t.key,(e,t)=>t.initialQueryEnabled,(e,t,n)=>e[t]??{data:null,error:null,isFetching:n}),i=(0,n("9zUhf").createHook)(o,{selector:r});e.exports.useQuery=({queryKey:e,queryFn:t,onSuccess:o,onError:r,enabled:s=!0,refetchOnWindowFocus:l=!1})=>{let c=e.map(e=>e?.toString()).join("_"),d=(0,a.useRef)(t);d.current=t;let u=(0,a.useRef)(o);u.current=o;let m=(0,a.useRef)(r);m.current=r;let[p,{updateCacheEntry:f,getCacheEntry:g}]=i({key:c,initialQueryEnabled:s}),E=(0,a.useCallback)(async()=>{f(c,{isFetching:!0});try{let e=await d.current();return f(c,{data:e}),u.current?.(e),e}catch(t){let e=(0,n("flpNp").mapErrorToApiError)(t);f(c,{error:e}),m.current?.(e)}finally{f(c,{isFetching:!1})}return null},[f,c]);return(0,a.useEffect)(()=>{if(s&&l)return(0,n("fFa3V").bind)(window,{type:"visibilitychange",listener:()=>{s&&l&&!g(c)?.isFetching&&"visible"===document.visibilityState&&E()}})},[s,E,g,c,l]),(0,a.useEffect)(()=>{!g(c)&&s&&E()},[c,E,s,g]),{data:p.data,error:p.error,isFetching:p.isFetching,refetch:E}}}),a("flpNp",function(e,t){class n extends Error{constructor(e,t){super(e),this.message=e,this.errorAttributes=t}}let a=e=>e instanceof n;e.exports.ApiError=n,e.exports.isApiError=a,e.exports.mapErrorToApiError=e=>a(e)?e:new n(e.message,{statusCode:0})}),a("iswAx",function(e,t){var a=n("l998X");n("42omo");let o=e=>{let t=e.match(/\/([a-zA-Z0-9_\|\-\:]{1,128})$/);return t?t[1]:void 0},r=({userId:e,siteId:t,profileCard:o=!1,simplified:r=!1})=>{(0,n("fBMbo").di)(i);let{profile:s,client:l}=i(e,t),{formatMessage:c}=(0,n("8C5kA").default)(),{atlasURL:d}=(0,n("fQF1W").useAtlasURL)(t),u=s.data?.status==="inactive"&&s.data.fullName?c(n("5kyLi").default.deactivatedCreatorName,{name:s.data.fullName}):s.data?.fullName;if(s.isFetching||!s.data)return(0,a.jsx)(n("kpYGL").default,{isShimmering:!0,height:18,width:100,borderRadius:3});if(r){let t=d(`/people/${e}`);return(0,n("dh538").fg)("dst-a11y__replace-anchor-with-link__ai-mate")?(0,a.jsx)(n("2Nwuj").default,{href:t,target:"_blank",children:u}):(0,a.jsx)("a",{href:t,target:"_blank",children:u})}return o?(0,a.jsx)(n("9uTsJ").default,{userId:e,resourceClient:l,ariaLabel:u,children:(0,a.jsx)(n("9EfFC").default,{id:e,isHighlighted:s.data.isCurrentUser,text:`@${u}`})}):(0,a.jsx)(n("9EfFC").default,{id:e,isHighlighted:s.data.isCurrentUser,text:`@${u}`})};function i(e,t,a=!0){let o=(0,n("eOn3v").useProfileClient)();return{profile:(0,n("9eLw5").useQuery)({queryKey:["fetchProfile",t,e],queryFn:async()=>{try{return await o.getProfile(t,e)}catch(e){return(0,n("1yaYZ").logException)({exception:e,name:"ConversationAssistantAgentUseProfileResolutionError"}),{}}},enabled:a}),client:o}}e.exports.getAAIDFromARI=o,e.exports.getARIFromAAID=e=>`ari:cloud:identity::user/${e}`,e.exports.AgentCreatedBy=({agent:e,siteId:t,simplified:i})=>{if((0,n("26nu6").isSystemAgent)(e)||(0,n("26nu6").isOOTBAgent)(e)||!e.creator)return(0,a.jsxs)(n("dcJ7R").default,{alignBlock:"center",testId:"atlassian-icon",children:[(0,a.jsx)(n("4Nwes").AtlassianIcon,{label:"",appearance:"brand",size:"small"}),(0,a.jsx)(n("6f0Oj").default,{children:"Atlassian"})]});if((0,n("26nu6").isCustomerAgent)(e)){let s=e.authoring_team;if(s?.id)return(0,a.jsx)(n("dcJ7R").default,{alignBlock:"center",testId:"atlassian-icon",children:(0,a.jsx)(n("2Nwuj").default,{href:s.profile_url,target:"_blank",children:s.display_name})});let l=e.creator?o(e.creator):void 0;return l?(0,a.jsx)(r,{userId:l,siteId:t,profileCard:!0,simplified:i}):null}return(0,n("26nu6").isForgeAgent)(e)?(0,a.jsx)(n("6f0Oj").default,{children:e.creator}):null},e.exports.useProfileResolution=i,e.exports.getEnabledKnowlegeArisFromAgent=e=>{let t=e.scenarios?.filter(e=>e.isActive&&e.isValid?.value)?.flatMap(e=>e.knowledgeSources).filter(e=>e?.enabled).flatMap(e=>e?.sources).filter(e=>e?.enabled);return t?.length?Array.from(t?.reduce((e,t)=>([...t?.filters?.parentFilter??[],...t?.filters?.spaceFilter??[],...t?.filters?.projectFilter??[]].forEach(t=>e.add(t)),e),new Set)):[]},e.exports.getSuggestedOotbAgents=({availableAgents:e,product:t})=>{let a=t?n("cqFPV").DEFAULT_OOTB_AGENTS_NAMED_IDS[t]??n("cqFPV").DEFAULT_AGENTS_NAMED_ID_LIST:n("cqFPV").DEFAULT_AGENTS_NAMED_ID_LIST;return e.filter(e=>a.has(e.named_id)||e.external_config_reference&&a.has(e.external_config_reference))}}),a("26nu6",function(e,t){e.exports.isSystemAgent=e=>"SYSTEM"===e.creator_type,e.exports.isCustomerAgent=e=>"CUSTOMER"===e.creator_type,e.exports.isForgeAgent=e=>"THIRD_PARTY"===e.creator_type||"FORGE"===e.creator_type,e.exports.isOOTBAgent=e=>"OOTB"===e.creator_type}),a("cqFPV",function(e,t){let n=new Set(["decision_director_agent","user_manual_writer_agent","product_requirements_expert_agent"]),a={confluence:new Set(["decision_director_agent","product_requirements_expert_agent","rovo_expert_agent"]),jira:new Set(["rovo_expert_agent","issue_organizer_agent","jira_theme_analyzer_agent"]),atlas:new Set(["progress_tracker_agent","product_requirements_expert_agent","rovo_expert_agent"])};e.exports.DEFAULT_AGENTS_NAMED_ID_LIST=n,e.exports.DEFAULT_OOTB_AGENTS_NAMED_IDS=a,e.exports.isCreateOrEditAgentAUPError=e=>!!e&&"object"==typeof e&&e.errorAttributes&&"convoai.agent.responsible-ai.failure"===e.errorAttributes.errorCode,e.exports.isHipaaError=e=>!!e&&"object"==typeof e&&e.errorAttributes&&"convoai.rest.browsing.product.has.hipaa.enabled"===e.errorAttributes.errorCode,e.exports.AGENTS_CONTAINER_ID="browse-agents-container"}),a("fQF1W",function(e,t){var a=n("42omo");e.exports.useAtlasURL=e=>{let{data:t}=(0,n("dYtRL").useTenantDataController)(e);return{atlasURL:(0,a.useCallback)(a=>(0,n("827Ne").getAtlasURL)(e,a,t?.orgId),[e,t?.orgId])}}}),a("827Ne",function(e,t){let a=()=>(0,n("bhcGS").isStaging)()?"https://home.stg.atlassian.com":"https://home.atlassian.com";e.exports.getAtlasHost=a,e.exports.getAtlasURL=(e,t,o)=>{let r="?",i=t.startsWith("/")?t:`/${t}`;i.includes("?")&&(r="&");let s=o?`${a()}/o/${o}`:a();return(0,n("6FQwA").addRovoParamsToUrl)(`${s}${i}${r}cloudId=${e}`,{cloudId:e})}}),a("dYtRL",function(e,t){e.exports.useTenantDataController=e=>{(0,n("fBMbo").di)(n("9eLw5").useQuery);let t=(0,n("7pmZw").useAIMateExperienceTracker)(),{data:a,isFetching:o,error:r}=(0,n("9eLw5").useQuery)({queryKey:["viewAgentTenantData",e],queryFn:async()=>(t.start({id:n("16lEl").ExperienceName.FETCH_AGENT_TENANT_DATA,name:n("16lEl").ExperienceName.FETCH_AGENT_TENANT_DATA}),await (0,n("hGGLc").getCloudUrlFromId)(e)),onSuccess:()=>{t.succeed({name:n("16lEl").ExperienceName.FETCH_AGENT_TENANT_DATA})},onError:e=>{t.fail({name:n("16lEl").ExperienceName.FETCH_AGENT_TENANT_DATA,error:e})}});return{data:a,isFetching:o,error:r}}}),a("hGGLc",function(e,t){let a=`
query tenantQuery($cloudIds: [ID!]) {
  tenantContexts(cloudIds: $cloudIds) {
    cloudUrl
	orgId
  }
}
`,o=new Map,r=async e=>{if((0,n("dh538").fg)("aifc_create_enabled")){if(o.has(e))return o.get(e);let t=await (0,n("b62XF").performGqlFetch)({gqlQuery:a,variables:{cloudIds:[e]}}),r=t.data?.tenantContexts?.[0];return r&&o.set(e,r),r}let t=await (0,n("b62XF").performGqlFetch)({gqlQuery:a,variables:{cloudIds:[e]}});return t.data?.tenantContexts?.[0]};e.exports.getCloudUrlFromId=r}),a("eOn3v",function(e,t){let a;var o=n("42omo");e.exports.useProfileClient=()=>((0,n("fBMbo").di)(n("fHxn4").default),(0,o.useMemo)(()=>(a||(a=new(0,n("fHxn4").default)({url:"/gateway/api/directory/graphql",cacheSize:1e3,cacheMaxAge:864e5})),a),[]))}),a("5kyLi",function(e,a){t(e.exports,"default",()=>o);var o=(0,n("cgtv4").defineMessages)({deactivatedCreatorName:{id:"rovo-chat.agent-card.deactivated-name",defaultMessage:"{name} (deactivated)"}})}),a("eV0v4",function(t,a){var o=n("42omo");t.exports.mediaChannel={channel:"media",actionSubjects:["mediaCardRender","mediaUpload","smartLink"]},t.exports.editorChannel={channel:"editor",actionSubjects:["renderer"]},t.exports.DynamicAnalyticsListener=({channelParam:t,children:a})=>{let r=(0,o.useCallback)(e=>{t.actionSubjects.includes(e.payload.actionSubject)&&e.update(e=>({...e,attributes:{...e.attributes,pageLoadInfo:(0,n("78QFu").getUniquePageLoadId)()}}))},[t]);return e(o).createElement(n("kDuN4").default,{channel:t.channel,onEvent:r},a)}});
//# sourceMappingURL=CreateComponent.f6640891.js.map
