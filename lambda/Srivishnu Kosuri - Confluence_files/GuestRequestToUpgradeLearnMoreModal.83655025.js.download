function e(e){return e&&e.__esModule?e.default:e}var t=globalThis.parcelRequired477,a=t.register;a("dUYlk",function(a,r){var s=t("42omo"),l=t("7pv6k"),o=t("eveQW");let n=(0,t("cgtv4").defineMessages)({guestRequestToUpgradeLearnMoreModalTitle:{id:"external-collab-ui.guest-request-to-upgrade-learn-more-modal-title",defaultMessage:"Request licensed user access to join your teammates"},guestRequestToUpgradeLearnMoreModalTitleSpacesMenu:{id:"external-collab-ui.guest-request-to-upgrade-learn-more-modal-title-spaces-menu",defaultMessage:"Request full access"},guestRequestToUpgradeLearnMoreModalCopy:{id:"external-collab-ui.guest-request-to-upgrade-learn-more-modal-copy",defaultMessage:"You are a guest on this Confluence site. Request licensed user access to unlock new features, and an admin will review your request."},guestRequestToUpgradeLearnMoreModalCopySpacesMenu:{id:"external-collab-ui.guest-request-to-upgrade-learn-more-modal-copy-spaces-menu",defaultMessage:"As a guest, you have limited access to this Confluence site but can request full access to unlock new ways to collaborate."},guestRequestToUpgradeLearnMoreModalGuestCardTitle:{id:"external-collab-ui.guest-request-to-upgrade-learn-more-modal-guest-card-title",defaultMessage:"Guest"},guestRequestToUpgradeLearnMoreModalGuestCardTitleLozenge:{id:"external-collab-ui.guest-request-to-upgrade-learn-more-modal-guest-card-title-lozenge",defaultMessage:"YOU"},guestRequestToUpgradeLearnMoreModalGuestCardCopy:{id:"external-collab-ui.guest-request-to-upgrade-learn-more-modal-guest-card-copy",defaultMessage:"Your admin may further restrict your functionality from these default settings."},guestRequestToUpgradeLearnMoreModalGuestCardCopySpacesMenu:{id:"external-collab-ui.guest-request-to-upgrade-learn-more-modal-guest-card-copy-spaces-menu",defaultMessage:"Your access is limited to:"},guestRequestToUpgradeLearnMoreModalGuestCardBenefitRowOne:{id:"external-collab-ui.guest-request-to-upgrade-learn-more-modal-guest-card-benefit-row-one",defaultMessage:"View, create, and edit in this space"},guestRequestToUpgradeLearnMoreModalGuestCardBenefitRowTwo:{id:"external-collab-ui.guest-request-to-upgrade-learn-more-modal-guest-card-benefit-row-two",defaultMessage:"Leave comments in this space"},guestRequestToUpgradeLearnMoreModalLicensedUserCardTitle:{id:"external-collab-ui.guest-request-to-upgrade-learn-more-modal-licensed-user-card-title",defaultMessage:"Licensed user"},guestRequestToUpgradeLearnMoreModalLicensedUserCardTitleSpacesMenu:{id:"external-collab-ui.guest-request-to-upgrade-learn-more-modal-licensed-user-card-title-spaces-menu",defaultMessage:"Full access"},guestRequestToUpgradeLearnMoreModalLicensedUserCardCopy:{id:"external-collab-ui.guest-request-to-upgrade-learn-more-modal-licensed-user-card-copy",defaultMessage:"Everything in guest plus,"},guestRequestToUpgradeLearnMoreModalLicensedUserCardCopySpacesMenu:{id:"external-collab-ui.guest-request-to-upgrade-learn-more-modal-licensed-user-card-copy-spaces-menu",defaultMessage:"Unlocks:"},guestRequestToUpgradeLearnMoreModalLicensedUserCardBenefitRowOne:{id:"external-collab-ui.guest-request-to-upgrade-learn-more-modal-licensed-user-card-benefit-row-one",defaultMessage:"Create your own space"},guestRequestToUpgradeLearnMoreModalLicensedUserCardBenefitRowTwo:{id:"external-collab-ui.guest-request-to-upgrade-learn-more-modal-licensed-user-card-benefit-row-two",defaultMessage:"View and collaborate in other spaces"},guestRequestToUpgradeLearnMoreModalLicensedUserCardBenefitRowThree:{id:"external-collab-ui.guest-request-to-upgrade-learn-more-modal-licensed-user-card-benefit-row-three",defaultMessage:"See other peopleâ€™s profiles"},guestRequestToUpgradeLearnMoreModalLicensedUserCardBenefitRowFour:{id:"external-collab-ui.guest-request-to-upgrade-learn-more-modal-licensed-user-card-benefit-row-four",defaultMessage:"Mention other people"},guestRequestToUpgradeLearnMoreModalLicensedUserCardBenefitRowFive:{id:"external-collab-ui.guest-request-to-upgrade-learn-more-modal-licensed-user-card-benefit-row-five",defaultMessage:"Create and join teams"},guestRequestToUpgradeLearnMoreModalFooterSecondaryButton:{id:"external-collab-ui.guest-request-to-upgrade-learn-more-modal-footer-secondary-button",defaultMessage:"Maybe later"},guestRequestToUpgradeLearnMoreModalFooterSecondaryButtonWhenPrimaryDisabled:{id:"external-collab-ui.guest-request-to-upgrade-learn-more-modal-footer-secondary-button-when-primary-disabled",defaultMessage:"Close"}}),u=(0,s.forwardRef)(({as:a="div",style:r,...l},o)=>e(s).createElement(a,{...l,style:r,ref:o,className:(0,t("gMc0m").default)(["_1yt41ejb _1bsb1osq _vchhusvi _y3gn1h6o _ca0qxy5q",l.className])})),d=(0,s.forwardRef)(({as:a="div",style:r,...l},o)=>e(s).createElement(a,{...l,style:r,ref:o,className:(0,t("gMc0m").default)(["_y3gn1h6o",l.className])})),c=(0,s.forwardRef)(({as:a="div",style:r,...l},o)=>e(s).createElement(a,{...l,style:r,ref:o,className:(0,t("gMc0m").default)(["_18s8kzvm _1yt45gjp _p12f1lk4 _vchhusvi _y3gn1h6o",l.className])})),i=(0,s.forwardRef)(({as:a="div",style:r,...l},o)=>e(s).createElement(a,{...l,style:r,ref:o,className:(0,t("gMc0m").default)(["_zulp1ejb _1yt45gjp _1e0c1txw _1n261q9c _otyrv77o _dl4n1g80",l.className])})),g=(0,s.forwardRef)(({as:a="div",style:r,...l},o)=>e(s).createElement(a,{...l,style:r,ref:o,className:(0,t("gMc0m").default)(["_19itno8c _2rkog72m _16jlkb7n _1o9zkb7n _i0dl5x59 _vchhusvi _1e0c1txw _2lx21bp4 _1n261g80 _4cvr1y6m _1tke7ivc _16qst7xp",l.className])})),m=(0,s.forwardRef)(({as:a="img",style:r,...l},o)=>e(s).createElement(a,{...l,style:r,ref:o,className:(0,t("gMc0m").default)(["_18s8glhf _1bsb1osq _4t3ixncg",l.className])})),p=(0,s.forwardRef)(({as:a="h1",style:r,...l},o)=>e(s).createElement(a,{...l,style:r,ref:o,className:(0,t("gMc0m").default)(["_11c8lodh _zulpu2gc _1yt41big _1e0c1txw _4cvr1h6o _1bah1h6o _1bsb1osq _vchhusvi _y3gn1h6o _19pkidpf",l.className])})),f=(0,s.forwardRef)(({as:a="div",style:r,...l},o)=>e(s).createElement(a,{...l,style:r,ref:o,className:(0,t("gMc0m").default)(["_1yt45gjp _y3gn1e5h",l.className])})),M=(0,s.forwardRef)(({as:a="div",style:r,...l},o)=>e(s).createElement(a,{...l,style:r,ref:o,className:(0,t("gMc0m").default)(["_otyrv47k _vchhusvi _1bsb1osq",l.className])})),E=(0,s.forwardRef)(({as:a="div",style:r,...l},o)=>e(s).createElement(a,{...l,style:r,ref:o,className:(0,t("gMc0m").default)(["_zulpu2gc _1e0c1txw _4cvr1h6o _1bah1y6m _otyru2gc",l.className])})),h=[{message:n.guestRequestToUpgradeLearnMoreModalGuestCardBenefitRowOne},{message:n.guestRequestToUpgradeLearnMoreModalGuestCardBenefitRowTwo}],q=[{message:n.guestRequestToUpgradeLearnMoreModalLicensedUserCardBenefitRowOne,highlighted:!0},{message:n.guestRequestToUpgradeLearnMoreModalLicensedUserCardBenefitRowTwo,highlighted:!0},{message:n.guestRequestToUpgradeLearnMoreModalLicensedUserCardBenefitRowThree,highlighted:!0},{message:n.guestRequestToUpgradeLearnMoreModalLicensedUserCardBenefitRowFour,highlighted:!0},{message:n.guestRequestToUpgradeLearnMoreModalLicensedUserCardBenefitRowFive,highlighted:!0}],y=({highlighted:a=!1,children:r})=>e(s).createElement(E,null,e(s).createElement(e(t("3sFtD")),{color:a?"var(--ds-icon-success, #6A9A23)":"var(--ds-icon-accent-gray, #7D818A)",spacing:"none",label:""}),r),R=(e,t)=>"button"===t.payload.actionSubject?"closeButton":"modalDialog"===t.payload.actionSubject?e instanceof KeyboardEvent&&"Escape"===e.key?"escapeKey":"outsideClick":"unknown",C=({onSubmit:a,requestPending:r,closeModal:E,analytics:C})=>{let{createAnalyticsEvent:T}=(0,t("inPa6").useAnalyticsEvents)(),{Modal:U}=(0,t("lsxnT").useChoreographerAssets)(),b=(0,s.useContext)(t("1kHsc").ExperienceTrackerContext),L=(0,s.useRef)(null),[v,{loading:w}]=(0,t("e8W3S").useSubmitGuestUpgradeRequest)({onCompleted:a});(0,s.useEffect)(()=>{T({type:"sendScreenEvent",data:{name:"guestRequestAccessValuePropModal",attributes:{touchpointId:C?.touchpointId}}}).fire()},[T,C]);let _=async(e,a)=>{T({type:"sendUIEvent",data:{...a.payload,actionSubjectId:"submitGuestUpgradeRequest",source:"guestRequestAccessValuePropModal",attributes:{touchpointId:C?.touchpointId}}}).fire(),b.start({name:t("irVI7").SUBMIT_GUEST_REQUEST_TO_UPGRADE_EXPERIENCE}),await v(),E()},S=(e,t)=>{E(),T({type:"sendUIEvent",data:{action:"closed",actionSubject:"modalDialog",actionSubjectId:"guestRequestAccessValuePropModal",source:"guestRequestAccessValuePropModal",attributes:{requested:r,closeTrigger:R(e,t),touchpointId:C?.touchpointId}}}).fire()},x=r?n.guestRequestToUpgradeLearnMoreModalFooterSecondaryButtonWhenPrimaryDisabled:n.guestRequestToUpgradeLearnMoreModalFooterSecondaryButton;return e(s).createElement(U,{width:752,onClose:S,onOpenComplete:()=>L.current?.scrollIntoView({behavior:"smooth"}),shouldScrollInViewport:!0,shouldCloseOnEscapePress:!0,shouldCloseOnOverlayClick:!0},e(s).createElement(u,{ref:L},e(s).createElement(t("7hXDW").default,{size:"large",as:"h1"},e(s).createElement(t("gtD4K").default,n.guestRequestToUpgradeLearnMoreModalTitle),e(s).createElement(t("8TTLA").CloseButton,{onClick:S}))),e(s).createElement(d,null,e(s).createElement(c,null,e(s).createElement(t("gtD4K").default,n.guestRequestToUpgradeLearnMoreModalCopy)),e(s).createElement(i,null,e(s).createElement(g,{className:"first"},e(s).createElement(m,{src:e(l)}),e(s).createElement(p,null,e(s).createElement(t("gtD4K").default,n.guestRequestToUpgradeLearnMoreModalGuestCardTitle),e(s).createElement(t("5nBzc").default,null,e(s).createElement(t("gtD4K").default,n.guestRequestToUpgradeLearnMoreModalGuestCardTitleLozenge))),e(s).createElement(f,null,e(s).createElement(M,null,e(s).createElement(t("gtD4K").default,n.guestRequestToUpgradeLearnMoreModalGuestCardCopy)),h.map(a=>e(s).createElement(y,{key:a.message.id,highlighted:a.highlighted},e(s).createElement(t("gtD4K").default,a.message))))),e(s).createElement(g,null,e(s).createElement(m,{src:e(o)}),e(s).createElement(p,null,e(s).createElement(t("gtD4K").default,n.guestRequestToUpgradeLearnMoreModalLicensedUserCardTitle)),e(s).createElement(f,null,e(s).createElement(M,null,e(s).createElement(t("gtD4K").default,n.guestRequestToUpgradeLearnMoreModalLicensedUserCardCopy)),q.map(a=>e(s).createElement(y,{key:a.message.id,highlighted:a.highlighted},e(s).createElement(t("gtD4K").default,a.message))))))),e(s).createElement(t("8o1lj").default,null,e(s).createElement(t("eEA8O").default,{appearance:"subtle",onClick:S},e(s).createElement(t("gtD4K").default,x)),e(s).createElement(t("ftdAe").GuestRequestUpgradeButton,{appearance:"primary",requestPending:r,loading:w,onClick:_})))};a.exports.GuestRequestToUpgradeLearnMoreModal=C,a.exports.GuestRequestToUpgradeLearnMoreDialogModal=({onClose:a,onCloseComplete:r,onSubmit:E,requestPending:C,analytics:T,isSpacesMenu:U=!1})=>{let{createAnalyticsEvent:b}=(0,t("inPa6").useAnalyticsEvents)(),{Modal:L}=(0,t("lsxnT").useChoreographerAssets)(),v=(0,s.useContext)(t("1kHsc").ExperienceTrackerContext),w=(0,s.useRef)(null),[_,{loading:S}]=(0,t("e8W3S").useSubmitGuestUpgradeRequest)({onCompleted:E});(0,s.useEffect)(()=>{b({type:"sendScreenEvent",data:{name:"guestRequestAccessValuePropModal",attributes:{touchpointId:T?.touchpointId}}}).fire()},[b,T]);let x=()=>w.current?.scrollIntoView({behavior:"smooth"}),D=async(e,r)=>{b({type:"sendUIEvent",data:{...r.payload,actionSubjectId:"submitGuestUpgradeRequest",source:"guestRequestAccessValuePropModal",attributes:{touchpointId:T?.touchpointId}}}).fire(),v.start({name:t("irVI7").SUBMIT_GUEST_REQUEST_TO_UPGRADE_EXPERIENCE}),await _(),a()},k=(e,t)=>{b({type:"sendUIEvent",data:{action:"closed",actionSubject:"modalDialog",actionSubjectId:"guestRequestAccessValuePropModal",source:"guestRequestAccessValuePropModal",attributes:{requested:C,closeTrigger:R(e,t),touchpointId:T?.touchpointId}}}).fire(),a()},B=C?n.guestRequestToUpgradeLearnMoreModalFooterSecondaryButtonWhenPrimaryDisabled:n.guestRequestToUpgradeLearnMoreModalFooterSecondaryButton;return U?e(s).createElement(L,{width:752,onClose:k,onCloseComplete:r,onOpenComplete:x,shouldScrollInViewport:!0,shouldCloseOnEscapePress:!0,shouldCloseOnOverlayClick:!0},e(s).createElement(u,{ref:w},e(s).createElement(t("7hXDW").default,{size:"large",as:"h1"},e(s).createElement(t("gtD4K").default,n.guestRequestToUpgradeLearnMoreModalTitleSpacesMenu),e(s).createElement(t("8TTLA").CloseButton,{onClick:k}))),e(s).createElement(d,null,e(s).createElement(c,null,e(s).createElement(t("gtD4K").default,n.guestRequestToUpgradeLearnMoreModalCopySpacesMenu)),e(s).createElement(i,null,e(s).createElement(g,{className:"first"},e(s).createElement(m,{src:e(l)}),e(s).createElement(p,null,e(s).createElement(t("gtD4K").default,n.guestRequestToUpgradeLearnMoreModalGuestCardTitle),e(s).createElement(t("5nBzc").default,null,e(s).createElement(t("gtD4K").default,n.guestRequestToUpgradeLearnMoreModalGuestCardTitleLozenge))),e(s).createElement(f,null,e(s).createElement(M,null,e(s).createElement(t("gtD4K").default,n.guestRequestToUpgradeLearnMoreModalGuestCardCopySpacesMenu)),h.map(a=>e(s).createElement(y,{key:a.message.id,highlighted:a.highlighted},e(s).createElement(t("gtD4K").default,a.message))))),e(s).createElement(g,null,e(s).createElement(m,{src:e(o)}),e(s).createElement(p,null,e(s).createElement(t("gtD4K").default,n.guestRequestToUpgradeLearnMoreModalLicensedUserCardTitleSpacesMenu)),e(s).createElement(f,null,e(s).createElement(M,null,e(s).createElement(t("gtD4K").default,n.guestRequestToUpgradeLearnMoreModalLicensedUserCardCopySpacesMenu)),q.map(a=>e(s).createElement(y,{key:a.message.id,highlighted:a.highlighted},e(s).createElement(t("gtD4K").default,a.message))))))),e(s).createElement(t("8o1lj").default,null,e(s).createElement(t("eEA8O").default,{appearance:"subtle",onClick:k},e(s).createElement(t("gtD4K").default,B)),e(s).createElement(t("ftdAe").GuestRequestUpgradeButton,{appearance:"primary",requestPending:C,loading:S,onClick:D}))):e(s).createElement(L,{width:752,onClose:k,onCloseComplete:r,onOpenComplete:x,shouldScrollInViewport:!0,shouldCloseOnEscapePress:!0,shouldCloseOnOverlayClick:!0},e(s).createElement(u,{ref:w},e(s).createElement(t("7hXDW").default,{size:"large",as:"h1"},e(s).createElement(t("gtD4K").default,n.guestRequestToUpgradeLearnMoreModalTitle),e(s).createElement(t("8TTLA").CloseButton,{onClick:k}))),e(s).createElement(d,null,e(s).createElement(c,null,e(s).createElement(t("gtD4K").default,n.guestRequestToUpgradeLearnMoreModalCopy)),e(s).createElement(i,null,e(s).createElement(g,{className:"first"},e(s).createElement(m,{src:e(l)}),e(s).createElement(p,null,e(s).createElement(t("gtD4K").default,n.guestRequestToUpgradeLearnMoreModalGuestCardTitle),e(s).createElement(t("5nBzc").default,null,e(s).createElement(t("gtD4K").default,n.guestRequestToUpgradeLearnMoreModalGuestCardTitleLozenge))),e(s).createElement(f,null,e(s).createElement(M,null,e(s).createElement(t("gtD4K").default,n.guestRequestToUpgradeLearnMoreModalGuestCardCopy)),h.map(a=>e(s).createElement(y,{key:a.message.id,highlighted:a.highlighted},e(s).createElement(t("gtD4K").default,a.message))))),e(s).createElement(g,null,e(s).createElement(m,{src:e(o)}),e(s).createElement(p,null,e(s).createElement(t("gtD4K").default,n.guestRequestToUpgradeLearnMoreModalLicensedUserCardTitle)),e(s).createElement(f,null,e(s).createElement(M,null,e(s).createElement(t("gtD4K").default,n.guestRequestToUpgradeLearnMoreModalLicensedUserCardCopy)),q.map(a=>e(s).createElement(y,{key:a.message.id,highlighted:a.highlighted},e(s).createElement(t("gtD4K").default,a.message))))))),e(s).createElement(t("8o1lj").default,null,e(s).createElement(t("eEA8O").default,{appearance:"subtle",onClick:k},e(s).createElement(t("gtD4K").default,B)),e(s).createElement(t("ftdAe").GuestRequestUpgradeButton,{appearance:"primary",requestPending:C,loading:S,onClick:D})))},a.exports.GuestRequestToUpgradeLearnMoreModalFactory=t=>a=>e(s).createElement(C,{...t,closeModal:a})}),a("lsxnT",function(e,a){var r=t("42omo");e.exports.useChoreographerAssets=()=>{let e=(0,r.useContext)(t("cryCi").Context);if(!e)throw Error("ChoreographerAssetsContext not found, did you include the correct Context provider?");return e}}),a("7pv6k",function(e,t){e.exports=new URL("Guest-Avatar.ebdf69f1.svg",import.meta.url).toString()}),a("eveQW",function(e,t){e.exports=new URL("Team-Avatars.4f1b07ad.svg",import.meta.url).toString()}),a("ftdAe",function(a,r){var s=t("42omo");let l=(0,t("cgtv4").defineMessages)({requestToUpgradeButton:{id:"external-collab-ui.guest-request-to-upgrade-page-tree.request-to-upgrade-button",defaultMessage:"Request full access"},requestToUpgradePendingButton:{id:"external-collab-ui.guest-request-to-upgrade-page-tree.request-to-upgrade-pending-button",defaultMessage:"Request pending approval"}});a.exports.GuestRequestUpgradeButton=({appearance:a,requestPending:r,loading:o,onClick:n})=>e(s).createElement(t("9YwaJ").default,{appearance:a,isDisabled:r,isLoading:o,onClick:n},r?e(s).createElement(t("gtD4K").default,l.requestToUpgradePendingButton):e(s).createElement(t("gtD4K").default,l.requestToUpgradeButton))}),a("e8W3S",function(e,a){var r=t("42omo");let s=(0,t("cgtv4").defineMessages)({upgradeRequestNote:{id:"external-collab-ui.guest-request-to-upgrade.upgrade-request-note",defaultMessage:"This guest requested a Confluence license"}}),l=(e,t)=>JSON.stringify({resource:`ari:cloud:confluence::site/${e}`,note:t});e.exports.useSubmitGuestUpgradeRequest=({onCompleted:e})=>{let a=(0,t("8C5kA").default)(),[{requestAccessState:o},{setRequestAccessState:n}]=(0,t("eh0mb").useGuestRequestUpgradeStore)(),{cloudId:u}=(0,t("bQm3c").useSessionData)();return[(0,r.useCallback)(async()=>(n("loading"),(0,t("f7B1p").cfetch)("/gateway/api/invitations/v1/access-requests/request",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:l(u,a.formatMessage(s.upgradeRequestNote))}).then(a=>{if(a.ok&&200===a.status)n("submitted"),e();else throw n(void 0),new(0,t("hBkCm").BadStatusError)(`${a.status}: ${a.statusText}`,a)}).catch(t=>{n(void 0),e(t instanceof Error?t:Error("Unknown error occurred during submission"))})),[u,a,e,n]),{loading:"loading"===o,isSubmitted:"submitted"===o}]}});
//# sourceMappingURL=GuestRequestToUpgradeLearnMoreModal.83655025.js.map
