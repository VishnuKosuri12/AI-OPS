function e(e,t,r,a){Object.defineProperty(e,t,{get:r,set:a,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r=globalThis.parcelRequired477,a=r.register;a("iE25L",function(e,t){function a(e,t){let{tags:r,...a}=t;return r&&e.setTags(r),Object.keys(a).length&&e.setExtras(a),e}async function s(e,t,i={}){try{let s=await (0,r("hI8o2").getSentryClient)();if(!s||"function"!=typeof s.captureException)return;s.withScope(r=>{a(r,i),r.setTag("name",t),r.setTag("packageName",i.packageName??"unknown"),r.setTag("packageVersion",i.packageVersion??"unknown"),s.captureException(e,r)})}catch{}}async function i(e,t,s={}){let n=await (0,r("hI8o2").getSentryClient)();n&&"function"==typeof n.captureException&&n.withScope(r=>{a(r,s),r.setLevel(e),r.setTag("packageName",s.packageName??"unknown"),r.setTag("packageVersion",s.packageVersion??"unknown"),n.captureMessage(t,r)})}function n(e,t={}){i("error",e,t).catch(()=>{})}function o(e,t={}){i("info",e,t).catch(()=>{})}let c=e=>(t,r,a={})=>{s(t,r,{tags:{...e,...a}})};async function m(e){(await (0,r("hI8o2").getSentryClient)()).withScope(t=>{t.addBreadcrumb("string"==typeof e?{message:e}:e)})}e.exports.logException=s,e.exports.logErrorMessage=n,e.exports.logInfoMessage=o,e.exports.logExceptionWithPackageContext=e=>(...t)=>{s(t[0],t[1],{...t[2],packageName:e.packageName,packageVersion:e.packageVersion})},e.exports.logErrorMessageWithPackageContext=e=>(...t)=>{n(t[0],{...t[1],packageName:e.packageName,packageVersion:e.packageVersion})},e.exports.logInfoMessageWithPackageContext=e=>(...t)=>{o(t[0],{...t[1],packageName:e.packageName,packageVersion:e.packageVersion})},e.exports.createErrorHandlerWithPackageContext=e=>(...t)=>c({...t[0],packageName:e.packageName,packageVersion:e.packageVersion}),e.exports.addBreadcrumb=m}),a("hI8o2",function(t,a){let s;e(t.exports,"sentryClient",()=>s);let i=(0,r("lzcvT").isFedRamp)()?"https://067abcc494be9a87b3cdf9416f2b97d5@sentry.atlassian-us-gov-mod.com/47":"https://1dc056d49dfe4df8961dc1b810e4620d@o55978.ingest.sentry.io/5988845",n={whitelistUrls:[/atl-paas.net/,/localhost/],ignoreErrors:[/^SentryIgnore:/,"The operation was aborted","Software caused connection abort","GraphQL error: Failed to fetch","TypeError: Failed to fetch","TypeError: NetworkError when attempting to fetch resource.","AbortError: The user aborted a request.",/^network error/i,/^network failure/i,/^NetworkError/i,/^Unexpected token ..*/],ignoreUrls:[/extensions\//i,/^chrome:\/\//i],dsn:i,attachStacktrace:!0},o=["onerror","onunhandledrejection","Dedupe"];async function c(e,t){if(r("hI8o2").sentryClient||!e)return;(0,r("hI8o2").setSentryClient)(e);let a=function(e){let{env:t,version:r,noGlobals:a,...s}=e;return{...s,...n,release:"platform-pkg@0.0.0-use.local",environment:t||"prod"}}(t);r("hI8o2").sentryClient.init({...a,integrations:function(e){return e.filter(function(e){return -1===o.indexOf(e.name)})}})}let m=async()=>(s||await l({}),s);async function l({appName:e,env:t}){let r=await u();r&&c(r,{initialScope:{tags:{renderMode:e||"unknown",productBuild:window.BUILD_KEY||window.__buildInfo?.FRONTEND_VERSION||"unknown",product:function(){let e=window.location.pathname;return e.includes("/jira/people")?"jira":e.includes("/wiki/people")?"confluence":"unknown"}()}},env:t,noGlobals:!0,dsn:i,attachStacktrace:!0})}async function u(){try{return r("5YDBG")}catch(e){console.warn("Ignoring rejected promise when loading sentry resource.",e);return}}t.exports.setSentryClient=e=>{s=e},t.exports.getSentryClient=m,t.exports.setupSentryClient=l}),a("5YDBG",function(e,t){let a=r("4mJKd")(5);e.exports=Promise.all([a("7Omhy"),a("kC80R")]).then(()=>r("7hGsm"))}),a("4mJKd",function(e,t){e.exports=e=>t=>import(r("8tirZ").shardUrl(r("02nRr").resolve(t),e))}),a("8tirZ",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.applyShardToDomain=n,e.exports.domainShardingKey=void 0,e.exports.getDomainShardIndex=a,e.exports.shardUrl=function(e,t){return globalThis[r]?o(e,t):e},e.exports.shardUrlUnchecked=o;let r="__ATLASPACK_ENABLE_DOMAIN_SHARDS";function a(e,t){let r=t+1,a=e.split("").reduce((e,t)=>{let a=(e<<r)-e+t.charCodeAt(0);return a&a},0);return(a%=r)<0&&(a+=r),a}let s=/-\d+$/;function i(e){if(!s.test(e))return e;let t=e.lastIndexOf("-");return e.slice(0,t)}function n(e,t){let r=e.indexOf("."),a=0===t?"":`-${t-1}`;if(-1===r)return`${i(e)}${a}`;let s=i(e.slice(0,r));return`${s}${a}${e.slice(r)}`}function o(e,t){let r=new URL(e),s=a(function(e){let t=e.lastIndexOf("/");if(-1===t||t===e.length-1)throw Error("Expected an absolute URL with a file name, unable to apply sharding.");return e.slice(t+1)}(r.pathname),t);return r.hostname=n(r.hostname,s),r.toString()}e.exports.domainShardingKey=r}),a("02nRr",function(t,r){e(t.exports,"register",()=>a,e=>a=e),e(t.exports,"resolve",()=>s,e=>s=e);var a,s,i=new Map;a=function(e,t){for(var r=0;r<t.length-1;r+=2)i.set(t[r],{baseUrl:e,path:t[r+1]})},s=function(e){var t=i.get(e);if(null==t)throw Error("Could not resolve bundle with id "+e);return new URL(t.path,t.baseUrl).toString()}}),a("asH6r",function(e,a){let s,i,n=new Map([...["getAllTeams","getTeamById","updateTeamById","querySettings","queryFeatureFlags","queryTeamMemberships","queryUser","inviteUsersToTeam","getMyTeamMembership","getTeamLinksByTeamId","createTeamLink","updateTeamLink","deleteTeamLink","reorderTeamLink","acceptTeamInvitation","declineTeamInvitation","selfJoinTeam","cancelJoinRequest","acceptJoinRequest","declineJoinRequest","deleteTeamMembership","revokeTeamInvite","deleteTeam","archiveTeam","unarchiveTeam","unlinkTeamFromGroup","isSingleFullMemberTeam","createTeam","createTeamContainers","createExternalTeam","getProfileWithMutability","getIsSiteAdmin","addUsersToTeam","removeTeamMemberships","getRecommendedProducts","joinOrRequestDefaultAccessToProductsBulk","getReadMediaToken","getWriteUserMediaToken","updateUserHeaderImage","getWriteTeamMediaToken","getSoftDeletedTeamById","restoreTeam","getUserInSiteUserBase","getLinkedTeamsBulk","getTeamProfileDetails","getUserContainers","getRecommendedUsers","getPermissions","getUserManageConfig","getMyAvatarUploadedStatus","deleteUserAvatar","getTeamLinkIcons","getTeamInSlack","getOrgScope","restoreTeamToSyncedGroup","getTeamAndGroupDiff","linkExistingTeamToGroup","fetchUserAvatarInfo","getOrgEligibilityForManagedTeams","updateUser","updateUserAvatar","disconnectTeamInSlack","updateTeamInSlack","getUserTenure","getAriFromUrl","getWebLinkTitle","addAgentToTeam","getTeamEnabledSites","assignTeamsToSites","removeAgentTeamAssociation","getAssignedTeams","setTeamSiteAssignmentPermission","getUnassignedTeams","getTeamSiteAssignmentOrgDetails","getTeamsToBeClonedToJsmSites","getReportingLines"].map(e=>[e,new(0,r("4VXWT").TeamsUFOExperience)(`teams-client-${e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}`,{type:r("iqaft").ExperienceTypes.Operation,performanceType:r("iqaft").ExperiencePerformanceTypes.Custom,platform:{component:"people"}})])]);class o{setContext(e){this.context={...e,cloudId:e.cloudId||"None"}}getContext(){return this.context}getOrgId(e){let t=e||this.getContext().orgId;if(!t){let e=Error("No orgId set");throw this.logException(e,"No orgId set"),e}return t}getCloudId(e){return e||this.getContext().cloudId}keyWithContext(e){return`${this.getContext().cloudId}-${this.getContext().orgId??"no-org-id"}-${this.getContext().userId??"no-user-id"}-${e}`}cacheValue(e,t,r=3e5){this.cache[this.keyWithContext(e)]={data:t,expiration:Date.now()+r}}getCachedValue(e){let t=this.cache[this.keyWithContext(e)];if(t&&t.expiration>Date.now())return t.data}constructor(e){this.config=void 0,this.context=void 0,this.cache={},this.logException=(e,t,a)=>{(0,r("iE25L").logException)(e,t,a),this.config.logException(e,t,a)},this.config=e,this.context={cloudId:"None"}}}let c={handlers:{},get:()=>c.handlers,setHandlers(e){c.handlers=e}};function m(e){let{status:t}=e,r=c.get()[t];"function"==typeof r&&r(e)}async function l(e,t,a={}){let s=a.operationName?`?q=${a.operationName}`:"",i=a.errorPolicy||"none",n=fetch(e+s,{method:"POST",headers:new Headers({"Content-Type":"application/json",...a.headers||{}}),credentials:"include",body:JSON.stringify(t)}).then(e=>{if(e.status<300||400===e.status)return e.json();throw e});try{let e=await n,t=e.errors;if(t){if("none"===i)throw r("ftJwu").GraphQLError.from(t);else if("all"===i)return new Promise((e,a)=>{setTimeout(()=>{a(r("ftJwu").GraphQLError.from(t))},0)})}return e.data}catch(e){if(e instanceof Response)return{response:e};if(Object(e).hasOwnProperty("response"))throw e;return e}}async function u(e,t,a={}){let s=(0,r("aR5ht").withExponentialBackoff)(l,{initial:r("aR5ht").EXPONENTIAL_BACKOFF_RETRY_POLICY.INITIAL_DELAY,jitter:r("aR5ht").EXPONENTIAL_BACKOFF_RETRY_POLICY.JITTER,max:r("aR5ht").EXPONENTIAL_BACKOFF_RETRY_POLICY.MAX_RETRIES,retryIf:e=>(0,r("aR5ht").isFetchResponse)(e)&&(0,r("aR5ht").is5xx)(e.response.status)}),i=await s(e,t,a),n=i?.response;if(n){let e=n.status,t=n.statusText,a=n.headers.get("atl-traceid");if(m(n),e>400&&e<=599)throw new(0,r("ftJwu").HttpError)({message:t,status:e,traceId:a??void 0})}return i}class d extends o{setServiceUrl(e){this.serviceUrl=e}createQueryContextHeaders(e){if(e)return{"X-Query-Context":`ari:cloud:platform::site/${e}`}}async makeGraphQLRequest(e,t={}){try{let r=this.getCloudId(),a=this.createQueryContextHeaders(r),s={...t,headers:{...a,...t.headers}};return u(this.serviceUrl,e,s)}catch(e){if(e instanceof r("ftJwu").GraphQLError)throw e;throw this.logException(e,"UnknownError in GraphQLClient.makeGraphQLRequestWithoutRetries"),new(0,r("ftJwu").DefaultError)({})}}constructor(e,t){super(t),this.serviceUrl=void 0,this.serviceUrl=e}}let p=(0,r("lB1H3").print)((0,r("eSUdr").default)`mutation unlinkTeamToContainerMutation($teamId:ID!$containerId:ID!){graphStore@optIn(to:["GraphStoreMutation"]){deleteTeamConnectedToContainer(input:{relationships:[{from:$teamId to:$containerId}]})@optIn(to:["GraphStoreTeamConnectedToContainer"]){errors{message extensions{statusCode errorType}}success}}}`),g=(0,r("lB1H3").print)((0,r("eSUdr").default)`query getNumberOfTeamsForContainer($containerId:ID!){graphStore@optIn(to:"GraphStore"){teamConnectedToContainerInverse(id:$containerId consistentRead:true)@optIn(to:"GraphStoreTeamConnectedToContainer"){edges{id}}}}`),h=(0,r("lB1H3").print)((0,r("eSUdr").default)`query getTeamsForContainer($containerId:ID!){graphStore@optIn(to:"GraphStore"){teamConnectedToContainerInverse(id:$containerId consistentRead:true)@optIn(to:"GraphStoreTeamConnectedToContainer"){edges{node{...on TeamV2{id description displayName creator{id}smallAvatarImageUrl smallHeaderImageUrl largeAvatarImageUrl largeHeaderImageUrl members{nodes{member{id name picture accountStatus ...on AtlassianAccountUser{extendedProfile{jobTitle}}...on AppUser{appType}}role state}pageInfo{endCursor hasNextPage}}organizationId membershipSettings isVerified state}}}}}}`),T=(0,r("lB1H3").print)((0,r("eSUdr").default)`query TeamContainersQueryV2($cypherQuery:String!$params:JSON!){graphStore@optIn(to:["GraphStore" "GraphStoreCypherQueryV2"]){cypherQueryV2(query:$cypherQuery params:$params){edges{node{columns{key value{...on GraphStoreCypherQueryV2AriNode{data{__typename ...on ConfluenceSpace{id confluenceSpaceName:name type createdDate links{base webUi}icon{path}}...on JiraProject{id jiraProjectName:name webUrl created avatar{medium}projectType projectTypeName}...on LoomSpace{id loomSpaceName:name url}}}}}}}}}}`),y=(0,r("lB1H3").print)((0,r("eSUdr").default)`query serviceName_TeamHasAgentsQuery($id:ID!){graphStore@optIn(to:"GraphStore"){teamHasAgents(id:$id)@optIn(to:"GraphStoreTeamHasAgents"){edges{node{...on AppUser{id name picture}}cursor}pageInfo{hasNextPage endCursor}}}}`),I=`query app_user_characteristics($teamId: ID!, $siteId: String!, $membershipState: [TeamMembershipState!]!, $first: Int!, $after: String) {
    team {
      teamV2(
        id: $teamId
        siteId: $siteId
      ) @optIn(to: "Team-v2") {
        members(state: $membershipState, first: $first, after: $after) {
          edges {
            node {
              member {
                id
                name
                picture
                accountStatus
                ... on AtlassianAccountUser {
                  extendedProfile {
                    jobTitle
                  }
                }
                ... on AppUser {
                  appType
                }
              }
              role
              state
            }
          }
          pageInfo {
            endCursor
            hasNextPage
          }
        }
      }
    }
  }`,f=(0,r("lB1H3").print)((0,r("eSUdr").default)`query TeamsUserQuery($userId:ID!){user(accountId:$userId){id name picture accountStatus __typename ...on AtlassianAccountUser{email nickname locale zoneinfo extendedProfile{jobTitle organization department location phoneNumbers{type value}closedDate inactiveDate}}...on CustomerUser{email locale zoneinfo}...on AppUser{appType}}}`),C=new class extends d{setBaseUrl(e){this.setServiceUrl(`${e}/graphql`)}async queryTeamMemberships(e,t=["FULL_MEMBER"],a={first:100}){let s=await this.makeGraphQLRequest({query:I,variables:{teamId:e,membershipState:t,siteId:this.getCloudId(),...a}},{operationName:"TeamMembership"});return{edges:s.team.teamV2.members.edges.map(({node:t})=>({membershipId:{teamId:e,memberId:(0,r("cFYtL").toUserId)(t.member.id)},state:t.state,role:t.role,user:{id:(0,r("cFYtL").toUserId)(t.member.id),fullName:t.member.name,avatarUrl:t.member.picture,status:t.member.accountStatus,title:t.member.extendedProfile?.jobTitle??void 0,userType:function({isBot:e,appType:t}){return t?.toLocaleLowerCase()==="agent"?"agent":e?"bot":"user"}({appType:t.member.appType})}})),pageInfo:s.team.teamV2.members.pageInfo}}async queryAGGUser(e){return(await this.makeGraphQLRequest({query:f,variables:{userId:e}},{operationName:"TeamsUserQuery"})).user}async queryTeamHasAgents(e){let t=(0,r("cFYtL").toTeamARI)(e),a=await this.makeGraphQLRequest({query:y,variables:{id:t}},{operationName:"TeamHasAgentsQuery"});return this.processTeamHasAgentsResponse(e,a.graphStore)}processTeamHasAgentsResponse(e,t){return t.teamHasAgents.edges.map(({node:t})=>({associationId:{teamId:e,accountId:(0,r("cFYtL").toUserId)(t.id)},agent:{id:t.id,fullName:t.name,avatarUrl:t.picture}}))}async getTeamContainers(e){let t=(0,r("cFYtL").toTeamARI)(e),a=`MATCH (team:IdentityTeam {ari: '${t}'})-[:team_connected_to_container]->(container) RETURN container`,s=await this.makeGraphQLRequest({query:T,variables:{cypherQuery:a,params:{id:t}}},{operationName:"TeamContainersQueryV2"});return this.processV2Response(s)}processV2Response(e){return e.graphStore.cypherQueryV2.edges.reduce((e,t)=>(t.node.columns.forEach(t=>{let r=t.value?.data;r&&(r?.__typename==="ConfluenceSpace"?e.push({id:r.id,type:r.__typename,name:r.confluenceSpaceName||"",icon:`${r.links.base}${r.icon.path}`,createdDate:new Date(r.createdDate),link:`${r.links.base}${r.links.webUi}`,containerTypeProperties:{subType:void 0,name:void 0}}):r?.__typename==="JiraProject"?e.push({id:r.id,type:r.__typename,name:r.jiraProjectName,icon:r.avatar.medium,createdDate:new Date(r.created),link:r.webUrl,containerTypeProperties:{subType:r.projectType||"",name:r.projectTypeName||""}}):r?.__typename==="LoomSpace"&&e.push({id:r.id,type:r.__typename,name:r.loomSpaceName,icon:"",link:r.url}))}),e),[])}async unlinkTeamContainer(e,t){let a=(0,r("cFYtL").toTeamARI)(e);return(await this.makeGraphQLRequest({query:p,variables:{containerId:t,teamId:a}},{operationName:"UnlinkContainerMutation"})).graphStore}async queryNumberOfTeamConnectedToContainer(e){let t=await this.makeGraphQLRequest({query:g,variables:{containerId:e}},{operationName:"NumberOfTeamConnectedToContainerQuery"});return t?.graphStore?.teamConnectedToContainerInverse?.edges?.length}async queryTeamsConnectedToContainer(e){let t=await this.makeGraphQLRequest({query:h,variables:{containerId:e}},{operationName:"TeamConnectedToContainerQuery"});return t?.graphStore?.teamConnectedToContainerInverse?.edges?.map(({node:e})=>({id:e.id,displayName:e.displayName,description:e.description,state:e.state,membershipSettings:e.membershipSettings,organizationId:e.organizationId,creatorId:e.creator?.id,isVerified:e.isVerified,members:e.members?.nodes.map(({member:e})=>({id:e?.id?(0,r("cFYtL").toUserId)(e?.id):"",fullName:e?.name??"",avatarUrl:e?.picture,status:e?.accountStatus}))??[],includesYou:!1,memberCount:e.members?.nodes.length??0,largeAvatarImageUrl:e.largeAvatarImageUrl,smallAvatarImageUrl:e.smallAvatarImageUrl,largeHeaderImageUrl:e.largeHeaderImageUrl,smallHeaderImageUrl:e.smallHeaderImageUrl,restriction:"ORG_MEMBERS"}))}constructor(e,t){super(`${e}/graphql`,t)}}(r("9qOkK").DEFAULT_CONFIG.stargateRoot,{logException:r("iE25L").logException});var R,U,b,k,S=r("20sPA");let E="redirectCount";async function $(e){let t,r=await e.text();try{t=JSON.parse(r)}catch(e){return r}return(delete t.timestamp,t.error)?`${t.status||"UNKNOWN_STATUS"} ${t.error||"MISSING_ERROR_MESSAGE"}`:t.status?`${t.status} MISSING_ERROR_MESSAGE`:t.errors?t.errors.map(e=>"string"==typeof e?e:e.code||e.message||"MISSING_ERROR_MESSAGE").join("\n - "):JSON.stringify(t)}let v=new RegExp(/((\w{4,12}-?)){5}/g),A=e=>e.replace(v,"<UUID>"),w={credentials:"include",headers:{Accept:"application/json"},mode:"cors"};s=t(S)(()=>{var e;return e=function(e,t=0){let r=RegExp(`${e}=(\\d+)`),a=document.cookie.match(r);return a?parseInt(a[1],10):t}(E)+1,void(document.cookie=`${E}=${e};path=/;max-age=30`)}),i=t(S)(()=>{document.cookie=`${E}=doesntmatter;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT`});class x extends o{setServiceUrl(e){this.serviceUrl=e}async getResource(e,t={}){return this.makeRequest(e,t)}async getResourceCached(e,t={},r){let a=this.getCachedValue(e);if(a)return a;let s=await this.getResource(e,t);return this.cacheValue(e,s,r?.expiration),s}async postResource(e,t,r={}){return this.postResourceRaw(e,JSON.stringify(t),r)}async postResourceRaw(e,t,r={}){return r={method:"post",headers:{},...r},t&&(r={body:t,...r,headers:{"Content-Type":"application/json",...r.headers}}),this.makeRequest(e,r)}async patchResource(e,t){let r={method:"PATCH"};return t&&(r={...r,body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}),this.makeRequest(e,r)}async putResource(e,t,r={}){let a={method:"put"};return t&&Object.assign(a,{body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}),this.makeRequest(e,{...a,...r})}async deleteResource(e,t={}){let r={...t,method:"delete"};return this.makeRequest(e,r)}async makeRequest(e,t={shouldLogError:e=>429!==e.status}){let a=this.serviceUrl+e,s={...w,...t},i=await (0,r("aR5ht").fetchWithExponentialBackoff)(a,s);this.preventInfiniteRedirectLoop(i),m(i);let n=i.status,o=i.headers.get("atl-traceid");if(!i.ok)if(401===n)throw new(0,r("ftJwu").SLOIgnoreError)({message:"Unauthorized Request - incrementing redirect count"});else{let t=await $(i),c=new(0,r("ftJwu").HttpError)({message:t,status:n,traceId:o??void 0,path:e});throw s.shouldLogError&&s.shouldLogError(c)&&this.logException(c,A(e),{method:s.method||"GET",url:a,status:n}),c}return t.ignoreResponse?null:function(e){let t=e.status;if(204===t||202===t)return null;let r=e.headers.get("content-type");return!r||r.includes("text/html")||r.includes("text/plain")?e.text():r.includes("application/json")?e.json():null}(i)}constructor({serviceUrl:e="",config:t={logException:()=>{}}}){super(t),this.serviceUrl=void 0,this.preventInfiniteRedirectLoop=e=>{e.ok?i():401===e.status&&s()},this.serviceUrl=e}}var _=((R=_||{}).JIRA_PROJECT="jiraProject",R.CONFLUENCE_SPACE="confluenceSpace",R),L=((U=L||{}).CONTAINER="CONTAINER",U.USER="USER",U),P=new class extends x{getUserContainers({userId:e,principalId:t,siteId:r,sessionId:a,maxNumberOfResults:s}){return this.postResource("/v1/collaborationgraph/user/container",{context:{contextType:"atlassianDirectory",principalId:t,siteId:r,sessionId:a},containerTypes:["confluenceSpace","jiraProject"],maxNumberOfResults:s,userId:e,expanded:!0})}getRecommendedUsers({accountId:e,cloudId:t,maxNumberOfResults:r=12,filter:a='account_status:"active" AND (NOT email_domain:"connect.atlassian.com") AND (NOT account_type:"app")'}){return this.postResource("/v2/recommend/user",{context:{userId:e,tenantId:t},modelRequestParams:{experience:"CgUserNearbyUser",caller:"atlas"},requestingUserId:e,expand:"existing",maxNumberOfResults:r,filter:a})}}({serviceUrl:r("9qOkK").DEFAULT_CONFIG.collaborationGraphUrl});let N=(e,t)=>({query:`query TeamMembership($teamId: String!, $membershipState: [TeamMembershipStatus]) {
    TeamMembership: TeamMembership(teamId: $teamId, membershipStates: $membershipState) {
      user: profile {
        id,
        fullName,
        title,
        avatarUrl,
        timezone,
        status
      },
      state:membershipStatus,
      role,
      membershipId {
        teamId, memberId
      }
    }
  }`,variables:{teamId:e,membershipState:t}}),O=(e,t)=>({query:`query CloudUser($userId: String!, $cloudId: String!) {
    CloudUser(userId: $userId, cloudId: $cloudId) {
      avatarUrl
      id
      fullName
      title
    }
  }`,variables:{userId:e,cloudId:t}}),q=e=>new Promise(t=>{setTimeout(t,e)}),M=new class extends d{setBaseUrl(e){this.setServiceUrl(`${e}/directory/graphql`)}async queryFeatureFlags(e,t){let r={query:`query FeatureFlags($cloudId: String!, $flags: [String]!) {
        FeatureFlags(cloudId: $cloudId, flags: $flags) {
          flag
          enabled
        }
      }`,variables:{cloudId:this.getCloudId(e),flags:t}},{FeatureFlags:a}=await this.makeGraphQLRequest(r,{operationName:"FeatureFlags"});return a.map(({flag:e,enabled:t})=>[e,t]).reduce((e,t)=>(e[t[0]]=t[1],e),{})}canRetryError(e,t){return e>0&&!!t&&"object"==typeof t&&"category"in t&&"NotFound"===t.category}queryTeamMemberships(e,t=["FULL_MEMBER"]){console.warn("Directory queryTeamMemberships is deprecated, use AGG instead");let r=N(e,t),a=async(e=3,t=2e3)=>{try{return await this.makeGraphQLRequest(r,{operationName:"TeamMembership"})}catch(r){if(this.canRetryError(e,r))return await q(t/e),a(e-1);throw r}};return a().then(({TeamMembership:e})=>e)}queryUser(e,t){let r=O(e,this.getCloudId(t)),a=async(e=3,t=2e3)=>{try{return await this.makeGraphQLRequest(r,{operationName:"CloudUser"})}catch(r){if(this.canRetryError(e,r))return await q(t/e),a(e-1);throw r}};return a()}constructor(e,t){super(`${e}/directory/graphql`,t)}}(r("9qOkK").DEFAULT_CONFIG.stargateRoot,{logException:r("iE25L").logException});r("3Vbz9");let F=new Map([["id","account_id"],["fullName","name"],["nickname","nickname"],["timezone","zoneinfo"],["locale","locale"],["avatarUrl","picture"],["email","email"]]),D=new Map([["title","job_title"],["department","department"],["companyName","organization"],["location","location"],["phoneNumber","phone_number"]]);var G=((b={}).FullName="fullName",b.Nickname="nickname",b.Title="title",b.Department="department",b.CompanyName="companyName",b.Location="location",b.Timezone="timezone",b.Email="email",b.PhoneNumber="phoneNumber",b.Avatar="picture",b.Language="language",b.LocalTime="localTime",b.RemoteWeekdayIndex="remoteWeekdayIndex",b.RemoteWeekdayString="remoteWeekdayString",b.RemoteTimeString="remoteTimeString",b);let B={fullName:"name",nickname:"nickname",timezone:"zoneinfo",locale:"locale",email:"email",title:"extended_profile.job_title",phoneNumber:"extended_profile.phone_number",companyName:"extended_profile.organization",department:"extended_profile.department",location:"extended_profile.location"},H={email:"email.initiateChange",picture:"avatar"},j=(e,t)=>{if(("email"===t||"picture"===t)&&H[t])return e[H[t]];let r=t in B?B[t]:void 0;if(r)return e["profile.write"][r]},W=e=>{if(Object.values(G).includes(e))return e},J=(e,t)=>{let r=j(e,t);if(!r||r.allowed)return;let a=W(t);if(!a)return;let s=r.reason;return{field:a,reason:s&&s.key||null}},V=e=>({mutabilityConstraints:Object.keys(B).map(t=>J(e,t)).filter(e=>void 0!==e)}),Q=e=>{let t={extended_profile:{}};return Object.keys(e).forEach(r=>{F.has(r)&&(t[F.get(r)]=e[r]),D.has(r)&&(t.extended_profile[D.get(r)]=e[r])}),t},z={serviceUrl:`${r("9qOkK").DEFAULT_CONFIG.stargateRoot}/users`};var K=new class extends x{async getUserManageConfig(e){return this.getResourceCached(`/${e}/manage`).then(e=>V(e))}async getMyAvatarUploadedStatus(e){return this.fetchUserAvatarInfo(e)}async deleteAvatar(e){return this.deleteResource(`/${e}/manage/avatar`)}async fetchUserAvatarInfo(e){return this.getResource(`/${e}/manage/avatar`)}async updateUser({id:e,...t}){return this.patchResource(`/${e}/manage/profile`,Q(t))}async updateUserAvatar({id:e,fileURI:t}){let r=function(e,t="untitled"){let r;if(0===e.length)throw Error("dataURI not found");let a=e.split(",")[0].includes("base64")?atob(e.split(",")[1]):decodeURIComponent(e.split(",")[1]);try{r=e.split(",")[0].split(":")[1].split(";")[0]}catch(e){r="unknown"}let s=new Uint8Array(a.length);for(let e=0;e<a.length;e++)s[e]=a.charCodeAt(e);let i=new Blob([s],{type:r});try{return new File([i],t,{type:r})}catch(e){return i}}(t),a=new FormData;return a.append("file",r),(await this.makeRequest(`/${e}/manage/avatar`,{method:"PUT",body:a})).url}constructor(e={}){super({...z,...e})}};let Y=(e,t)=>e===t?0:"DIRECT_ACCESS"===e?-1:1,X=(e,t)=>e===t?0:e?t?"OPEN"===e?-1:1:-1:1,Z=(e,t)=>{if(e.resourceId!==t.resourceId)throw Error("Recommendations must have the same resource ID");return 0>Y(e.capability,t.capability)?-1:Y(e.capability,t.capability)>0?1:0>X(e.mode,t.mode)?-1:1*!!(X(e.mode,t.mode)>0)},ee=e=>{let{capability:t,...r}=e;return{...r}},et=e=>{let{DIRECT_ACCESS:t,REQUEST_ACCESS:r}=e.capability,a={};[...t.map(e=>({...e,capability:"DIRECT_ACCESS"})),...r.map(e=>({...e,capability:"REQUEST_ACCESS"}))].forEach(e=>{let t=a[e.resourceId];t&&0>=Z(t,e)||(a[e.resourceId]=e)});let s=Object.values(a);return{capability:{DIRECT_ACCESS:s.filter(e=>"DIRECT_ACCESS"===e.capability).map(ee),REQUEST_ACCESS:s.filter(e=>"REQUEST_ACCESS"===e.capability).map(ee)}}},er=["confluence","jira","jira-core","jira-servicedesk","jira-software","jira-incident-manager","jira-product-discovery","opsgenie","statuspage","avocado","townsquare","compass","avp","beacon","mercury"];var ea=new class extends x{async getProductRecommendationsInner(e=er,t){try{let r=this.getOrgId(),a=(e&&e.length>0?e:er).map(e=>`product=${e}`).join("&"),s=t&&t.length>0?"&"+t.map(e=>`capability=${e}`).join("&"):"",i=`/v1/product-recommendations?orgId=${r}&${a}${s}`;return await this.getResource(i)}catch(e){throw this.logException(e,"An error occurred while getting product recommendations."),e}}async getProductRecommendations(e=er,t){let r=await this.getProductRecommendationsInner(e,t);try{return et(r)}catch(e){throw this.logException(e,"An error occurred while deduplicating product recommendations."),e}}async joinOrRequestDefaultAccessToProductsBulk(e){if(0===e.productAris.length)return Promise.resolve([]);try{let t={resources:e.productAris.map(e=>({ari:e,role:"product/member"})),note:e.note,accessMode:e.accessMode,source:e.source};return await this.postResource("/v1/access-requests/bulk/request",t)}catch(e){throw this.logException(e,"An error occurred while joining or requesting access to products."),e}}constructor(e,t){super({serviceUrl:e,config:t})}}(r("9qOkK").DEFAULT_CONFIG.invitationsServiceUrl,{logException:r("iE25L").logException});let es="/v3/teams",ei="/v4/teams",en=new class extends x{setRootUrl(e){e!==this.serviceUrlRoot&&(this.serviceUrlRoot=e,this.setServiceUrl(e))}async getTeamById(e,t){let r=this.getCloudId(t),a=await this.getResource(`${ei}/${this.trimTeamARI(e)}?siteId=${r}`);return this.mapTeamResponseV4ToTeam(a)}async getAllTeams(e){try{let t=this.getOrgId(e.orgId),r=this.getCloudId(),{entities:a,cursor:s}=await this.postResource(`${ei}/search`,{organizationId:t,siteId:r,limit:e.limit,query:e.searchQuery,cursor:e.cursor||"",sortBy:e.useDefaultSort?null:e.sortBy&&e.sortBy.length>0?e.sortBy:[{field:"displayName",order:"asc"}],membership:{memberAccountIds:e.memberAccountIds},showEmptyTeams:e.showEmptyTeams,teamTypeIdsFilter:e.teamTypeIdsFilter}),i=a.map(e=>this.mapTeamSearchResponseV4ToTeamWithMembership(e));return{cursor:s,teams:i}}catch(e){return this.logException(e,"getAllTeams"),{cursor:"",teams:[],error:e instanceof Error?e:void 0}}}async updateTeamById(e,t){let r=await this.patchResource(`${ei}/${this.trimTeamARI(e)}`,t);return this.mapTeamResponseV4ToTeam(r)}async inviteUsersToTeam(e,t,r){if(!t||0===t.length)return Promise.resolve([]);let a=[],s=[];t.forEach(e=>{e.id?s.push(e.id):e.email&&a.push(e.email)});let i=`${es}/ui/${this.trimTeamARI(e)}/membership/invite?${this.constructProductOriginParams(r)}`;return this.postResource(i,{emailAddresses:a,atlassianAccounts:s})}async getMyTeamMembership(e){return this.getResource(`${ei}/${this.trimTeamARI(e)}/membership/me?siteId=${this.getCloudId()}`,{shouldLogError:e=>400!==e.status})}async getTeamLinksByTeamId(e){let t=this.getCloudId(),r=await this.getResource(`${ei}/${this.trimTeamARI(e)}/links?siteId=${t}`);return this.mapLegionTeamLinksResponseV4ToTeamLinkResponse(r)}async createTeamLink(e,t){let r={contentTitle:t.contentTitle.trim(),linkUri:t.linkUri.trim(),description:t.description.trim(),...t.creationTime?{creationTime:t.creationTime.trim()}:{},...t.teamId?{teamId:t.teamId.trim()}:{}},a=await this.postResource(`${ei}/${this.trimTeamARI(e)}/links`,r);return this.mapLegionTeamLinkResponseV4ToTeamLink(a)}async updateTeamLink(e,t,{linkUri:r,...a}){let s=await this.putResource(`${ei}/${this.trimTeamARI(e)}/links/${t}`,{linkUri:r.trim(),...a});return this.mapLegionTeamLinkResponseV4ToTeamLink(s)}async deleteTeamLink(e,t){return this.deleteResource(`${ei}/${this.trimTeamARI(e)}/links/${t}`)}async reorderTeamLink(e,t,r){let a=`?linkId=${t}&newPosition=${r}`;return this.postResource(`${ei}/${this.trimTeamARI(e)}/links/order${a}`)}async getOrgEligibilityForManagedTeams(){let e=this.getOrgId();if(!e){let e=Error("Organization ID is required");throw this.logException(e,"getOrgEligibilityForManagedTeams"),e}return this.getResourceCached(`${ei}/org/${e}/premium/eligibility`)}async acceptTeamInvitation(e){return this.postResource(`${es}/ui/${this.trimTeamARI(e)}/membership/accept`)}async declineTeamInvitation(e){return this.postResource(`${es}/ui/${this.trimTeamARI(e)}/membership/decline`)}async selfJoinTeam(e,t){let r=`${ei}/${this.trimTeamARI(e)}/membership/join?${this.constructProductOriginParams(t)}`;return this.postResource(r)}async addAgentsToTeam(e,t){if(!t||0===t.length){let e=Error("Missing agents to add");throw this.logException(e,"addAgentToTeam"),e}try{let r=`${ei}/${this.trimTeamARI(e)}/agents`;return this.postResource(r,{agents:t})}catch(e){throw this.logException(e,"addAgentToTeam"),e}}async removeAgentTeamAssociation(e,t){try{let r=`${ei}/${this.trimTeamARI(e)}/agents/${t}`;return this.deleteResource(r)}catch(e){throw this.logException(e,"removeAgentTeamAssociation"),e}}async cancelJoinRequest(e){return this.deleteResource(`${ei}/${this.trimTeamARI(e)}/membership/request`)}async acceptJoinRequest(e,t){return this.postResource(`${ei}/${this.trimTeamARI(e)}/membership/${t}/request/accept`)}async declineJoinRequest(e,t){return this.postResource(`${ei}/${this.trimTeamARI(e)}/membership/${t}/request/decline`)}async deleteTeamMembership(e,t){return this.deleteResource(`${es}/${this.trimTeamARI(e)}/members/${t}`)}async revokeTeamInvite(e,t){return this.deleteResource(`${es}/ui/${this.trimTeamARI(e)}/membership/${t}/revoke`)}async deleteTeam(e){return this.deleteResource(`${ei}/${this.trimTeamARI(e)}`)}async archiveTeam(e){let t=this.getCloudId();return this.postResource(`${ei}/${this.trimTeamARI(e)}/archive?siteId=${t}`)}async unArchiveTeam(e){let t=this.getCloudId();return this.postResource(`${ei}/${this.trimTeamARI(e)}/unarchive?siteId=${t}`)}async unlinkTeamFromGroup(e,t){return this.patchResource(`${ei}/${this.trimTeamARI(e)}`,{membershipSettings:t})}async isSingleFullMemberTeam(e){return 1===(await this.getResource(`${ei}/${this.trimTeamARI(e)}/members?size=2&membershipState=FULL_MEMBER&siteId=${this.getCloudId()}`)).entities.length}async createTeam(e,t,r,a="OPEN",s){let i=this.getContext().orgId;if(!i){let e=Error("Organization ID is required");throw this.logException(e,"createTeam"),e}let n=`${ei}?${this.constructProductOriginParams(t)}`,o=await this.postResource(n,{displayName:e,description:"",membershipSettings:a,siteId:this.getCloudId(),organizationId:i,members:[...new Set(r)],typeId:s});return this.mapTeamCreateResponseV4ToTeam(o)}async createExternalTeam(e,t,r,a){let s=this.getContext().orgId,i=this.getContext().cloudId;if(!s){let e=Error("Organization ID is required");throw this.logException(e,"createTeam"),e}let n=`${ei}/external?origin.cloudId=${encodeURIComponent(this.getCloudId(a||i))}`,o=await this.postResource(n,{description:e,externalReference:t,organizationId:s,siteId:a||i,displayName:r});return this.mapTeamCreateResponseV4ToTeam(o)}async getTeamAndGroupDiff(e,t){let r=this.getCloudId();return this.postResource(`${ei}/${this.trimTeamARI(e)}/external/diff`,{siteId:r,externalReference:t})}async linkExistingTeamToGroup(e,t){let r=this.getCloudId();return this.postResource(`${ei}/${this.trimTeamARI(e)}/external/link`,{externalReference:t,siteId:r})}async getWriteMediaToken(){return this.getResource("/v4/teams/header-image/media-upload").then(e=>({...e,baseUrl:e.baseUrl?.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl}))}async getSoftDeletedTeamById(e){let t=this.getOrgId(),r=this.getCloudId();return this.getResource(`${ei}/org/${t}/soft-deleted/${this.trimTeamARI(e)}?siteId=${r}`).then(t=>({...t.teamResponse,id:e}))}async getUserInSiteUserBase(e){let t=this.getCloudId();return this.getResource(`/teams/site/${t}/users/${e}/exists`,{headers:{Accept:"application/json","X-header-client-id":"ptc-fe"}})}async retrieveBrowseUserPermission(e){return this.getResourceCached(`/teams/site/${this.getCloudId()}/canSearchUsers?product=${e}`,void 0,{expiration:12e4})}async getPermissions(){let e=this.getContext().orgId,t=this.getCloudId();if(!e){let e=Error("Organization ID is required");throw this.logException(e,"getPermissions"),e}return this.getResourceCached(`${ei}/permission/self/organization/${e}?siteId=${t}`)}async getLinkedTeamsBulk(e){let t=this.getContext().orgId;if(!t){let e=Error("Organization ID is required");throw this.logException(e,"getLinkedTeamsBulk"),e}return await this.postResource(`${ei}/external/bulk`,{organizationId:t,source:"ATLASSIAN_GROUP",externalIds:e})}async getTeamProfileDetails(e,t){let r=t||this.getCloudId();if(!r){let e=Error("Site ID is required");throw this.logException(e,"getTeamProfileDetails"),e}return await this.getResource(`${ei}/${e}/profile?siteId=${r}`)}async getOrgScope(){let e=this.getContext().orgId;if(!e){let e=Error("Organization ID is required");throw this.logException(e,"getOrgScope"),e}return await this.getResourceCached(`${ei}/org/${e}/scope`)}async restoreTeamToSyncedGroup(e,t){let r=this.getCloudId();return await this.postResource(`${ei}/${e}/external/restore`,{externalReference:t,siteId:r})}async createTeamContainers(e){return this.postResource(`${ei}/containers`,{...e})}async getTeamEnabledSites(e){return await this.getResourceCached(`${ei}/migrations/scope/${e}`)}async assignTeamsToSites(e){return await this.postResource(`${ei}/migrations/scope`,{originOrgId:this.getContext().orgId,migrations:e})}async getTeamsToBeClonedToJsmSites(e){return this.postResource(`${ei}/migrations/scope/review`,{orgId:this.getContext().orgId,teamsToSiteScope:e})}async setTeamSiteAssignmentPermission(e,t){return this.postResource(`${ei}/migrations/scope/permissions`,{orgId:e,alignmentPermission:t})}async getAssignedTeams(e,t,r,a){return await this.postResource(`${ei}/migrations/scope/aligned/search`,{orgId:e,count:t,cursor:r,displayNameContains:a})}async getUnassignedTeams(e,t,r,a){return await this.postResource(`${ei}/migrations/scope/unaligned/search`,{orgId:e,count:t,cursor:r,query:a})}async getTeamSiteAssignmentOrgDetails(){let e=this.getContext().orgId;if(!e){let e=Error("Organization ID is required");throw this.logException(e,"getTeamSiteAssignmentOrgDetails"),e}return this.getResource(`${ei}/migrations/scope/details/${e}`)}trimTeamARI(e=""){return e.replace("ari:cloud:identity::team/","").replace("ari:cloud:teams::team/","")}constructProductOriginParams(e){let t=(e.product||"").toUpperCase(),r=[`origin.cloudId=${encodeURIComponent(this.getCloudId(e.cloudId))}`];return t&&r.push(`origin.product=${encodeURIComponent(t)}`),r.join("&")}mapTeamResponseV4ToTeam(e){return{id:e.id,displayName:e.displayName,description:e.description,state:e.state,membershipSettings:e.membershipSettings,organizationId:e.organizationId,restriction:"ORG_MEMBERS",creatorId:e.creatorId,permission:e.permission,orgId:e.organizationId,smallHeaderImageUrl:e.smallHeaderImageUrl,largeHeaderImageUrl:e.largeHeaderImageUrl,smallAvatarImageUrl:e.smallAvatarImageUrl,largeAvatarImageUrl:e.largeAvatarImageUrl,scopeMode:e.scopeMode,isVerified:e.isVerified,...e.externalReference&&{externalReference:{id:e.externalReference.id,source:e.externalReference.source}}}}mapTeamCreateResponseV4ToTeam(e){return{id:e.id,displayName:e.displayName,description:e.description,state:e.state,membershipSettings:e.membershipSettings,organizationId:e.organizationId,restriction:"ORG_MEMBERS",creatorId:e.creatorId,permission:e.permission,orgId:e.organizationId,memberIds:e.membership?.members?.map(e=>e.membershipId.memberId)||[],membership:e.membership}}mapTeamSearchResponseV4ToTeamWithMembership(e){return{id:e.id,displayName:e.displayName,description:e.description,state:e.state,membershipSettings:e.membershipSettings,organizationId:e.organizationId,restriction:"ORG_MEMBERS",smallHeaderImageUrl:e.smallHeaderImageUrl,largeAvatarImageUrl:e.largeAvatarImageUrl,smallAvatarImageUrl:e.smallAvatarImageUrl,largeHeaderImageUrl:e.largeHeaderImageUrl,memberCount:e.memberCount,includesYou:e.includesYou,memberIds:[],members:[],membership:{members:[],errors:[]},isVerified:e.isVerified}}mapLegionTeamLinksResponseV3ToTeamLinkResponse(e){return{entities:e.entities.map(this.mapLegionTeamLinkResponseV3ToTeamLink)}}mapLegionTeamLinksResponseV4ToTeamLinkResponse(e){return{entities:e.entities.map(this.mapLegionTeamLinkResponseV4ToTeamLink)}}mapLegionTeamLinkResponseV3ToTeamLink(e){return{contentTitle:e.contentTitle,description:e.description,creationTime:e.creationTime,linkUri:e.linkUri,linkId:e.linkId,teamId:e.teamId}}mapLegionTeamLinkResponseV4ToTeamLink(e){return{contentTitle:e.contentTitle,description:e.description,linkUri:e.linkUri,linkId:e.linkId,teamId:e.teamId}}checkOrgFullAlignmentStatus(e){try{return this.getResource(`${ei}/migrations/scope/${e}/fully-aligned`)}catch(e){throw this.logException(e,"checkOrgFullAlignmentStatus"),e}}async getTeamStatesInBulk(e,t){try{return this.postResource(`${ei}/adminhub/states/bulk`,{orgId:e,teamIds:t})}catch(e){throw this.logException(e,"getTeamStatesInBulk"),e}}constructor(e){super({serviceUrl:e}),this.serviceUrlRoot=void 0,this.serviceUrlRoot=e}}(r("9qOkK").DEFAULT_CONFIG.stargateRoot),eo={serviceUrl:`${r("9qOkK").DEFAULT_CONFIG.stargateRoot}/users/manage`},ec="not_editable";var em=new class extends x{async getProfileWithMutability(e){return this.getResource(`/${e}/profile`).then(e=>(function(e){let t=[];if(null!=e[ec])for(let a of e[ec])t=t.concat({field:a.field,reason:function(e){switch(e){case"managed":case"ext.dir.scim":case"ext.dir.google":return e;default:throw new(0,r("ftJwu").DefaultError)({message:`Unknown mutability constraint reason: ${e}`})}}(a.reason)});return t})(e))}constructor(e={}){super({...eo,...e})}},el=((k={}).CONFLUENCE="Confluence",k.JIRA="Jira",k);let eu=e=>{let{url:t,generator:{name:r,icon:a}}=e;switch(r){case el.CONFLUENCE:return{linkUrl:t,iconUrl:eg(t),productName:r};case el.JIRA:return{linkUrl:t,iconUrl:eh(t),productName:r};default:return{linkUrl:t,iconUrl:"object"==typeof a?a.url:a,productName:r}}},ed=e=>200===e.status,ep=e=>e.filter(ed).map(e=>e.body.data).map(eu).filter(e=>void 0!==e.iconUrl),eg=e=>`https://${new URL(e).hostname}/wiki/favicon.ico`,eh=e=>`https://${new URL(e).hostname}/favicon.ico`,eT={serviceUrl:`${r("9qOkK").DEFAULT_CONFIG.stargateRoot}`};var ey=new class extends x{async getTeamLinkIcons(e){let t=e.map(e=>({resourceUrl:e}));return this.postResourceRaw("/object-resolver/resolve/batch",JSON.stringify(t)).then(ep)}async getAriFromUrl(e){return this.postResourceRaw("/object-resolver/converter/toAri",JSON.stringify({resourceUrl:e})).then(e=>e?.data?.ari)}async getWebLinkTitle(e){try{let t=await this.postResourceRaw("/object-resolver/resolve",JSON.stringify({resourceUrl:e}));if(t&&"data"in t&&t.data?.name)return t.data.name;if(t&&"meta"in t&&(t.meta?.visibility==="restricted"||t.meta?.visibility==="unauthorized")){let e=t.meta.auth?.[0];if(e?.displayName)return e.displayName}return}catch(e){return}}constructor(e={}){super({...eT,...e})}},eI=new class extends x{getIsSiteAdmin(e){return this.postResource("/permitted",{permissionId:"manage",resourceId:`ari:cloud:platform::site/${this.getCloudId(e)}`}).then(e=>e.permitted)}}({serviceUrl:r("9qOkK").DEFAULT_CONFIG.permsServiceUrl});let ef="/teams/v1",eC=["TEAM_NOT_FOUND"];var eR=new class extends x{async addUsersToTeam(e,t){if(!t||0===t.length){let e=Error("Missing members to add");throw this.logException(e,"addUsersToTeam"),e}let a=t.filter(e=>!!e.accountId);if(a.length!==t.length&&this.logException(Error("Missing accountIds for some members"),"addUsersToTeam"),0===a.length){let e=Error("Missing accountIds for all members");throw this.logException(e,"addUsersToTeam"),e}try{let t=this.getOrgId(),r=`${ef}/org/${t}/teams/${e}/members/add`;return await this.postResource(r,{members:a})}catch(e){if(this.logException(e,"addUsersToTeam"),e instanceof r("ftJwu").HttpError&&eC.includes(e.message))throw new(0,r("ftJwu").SLOIgnoreHttpError)(e);throw e}}async removeTeamMemberships(e,t){if(!t||0===t.length){let e=Error("Missing members to remove");throw this.logException(e,"removeTeamMemberships"),e}let r=t.filter(e=>!!e.accountId);if(r.length!==t.length&&this.logException(Error("Missing accountIds for some members"),"addUsersToTeam"),0===r.length){let e=Error("Missing accountIds for all members");throw this.logException(e,"removeTeamMemberships"),e}try{let t=this.getOrgId(),a=`${ef}/org/${t}/teams/${e}/members/remove`;return await this.postResource(a,{members:r})}catch(e){throw this.logException(e,"removeTeamMemberships"),e}}async getTeamDetails(e){try{let t=this.getOrgId(),r=`${ef}/org/${t}/teams/${e}`;return await this.getResource(r)}catch(e){throw this.logException(e,"getTeamDetails"),e}}async getTeamMembers(e,t=50,r){try{let a=this.getOrgId(),s=`${ef}/org/${a}/teams/${e}/members`;return await this.postResource(s,{after:r,first:t})}catch(e){throw this.logException(e,"getTeamMembers"),e}}async restoreTeam(e){try{let t=this.getOrgId(),r=`${ef}/org/${t}/teams/${e}/restore`;return this.postResource(r)}catch(e){throw this.logException(e,"restoreTeam"),e}}constructor(e){super({serviceUrl:e})}}(r("9qOkK").DEFAULT_CONFIG.publicApiRoot);let eU={serviceUrl:`${r("9qOkK").DEFAULT_CONFIG.stargateRoot}/user-tenure/v1`};var eb=new class extends x{async getUserTenure(e){let t=this.getOrgId();return this.getResource(`/${t}/${e}`).then(e=>({...e,userHireDate:new Date(e.userHireDate)})).catch(e=>{throw Error("Failed to fetch user tenure")})}constructor(e={}){super({...eU,...e})}},ek=(0,r("lB1H3").print)((0,r("eSUdr").default)`fragment ReportingLinesUserPII on UserPII{name picture accountStatus extendedProfile{jobTitle}}fragment ReportingLinesUserFragment on ReportingLinesUser{accountIdentifier identifierType numberOfDirectReports numberOfTotalReports pii{...ReportingLinesUserPII}}query ReportingLines($aaid:String){reportingLines(aaidOrHash:$aaid){lastModifiedDate user{...ReportingLinesUserFragment}managers{...ReportingLinesUserFragment}peers{...ReportingLinesUserFragment}reports{...ReportingLinesUserFragment}}}`);let eS=`${r("9qOkK").DEFAULT_CONFIG.stargateRoot}/watermelon/graphql`;var eE=new class extends d{async getReportingLines(e){return await this.makeGraphQLRequest({query:ek,variables:{aaid:e}},{operationName:"ReportingLines"})}constructor(e){super(eS,e)}}({logException:r("iE25L").logException});let e$=(0,r("lB1H3").print)((0,r("eSUdr").default)`mutation addTeamWatcher($teamId:String!$cloudId:String){addTeamWatcher(input:{teamId:$teamId cloudId:$cloudId}){isWatching __typename}}`),ev=(0,r("lB1H3").print)((0,r("eSUdr").default)`mutation createTagForCloudId($name:String!$cloudId:String!){createTagForCloudId(input:{name:$name cloudId:$cloudId}){tag{id uuid name}}}`),eA=(0,r("lB1H3").print)((0,r("eSUdr").default)`mutation CreateHelpPointer($cloudId:String!$description:String$icon:IconInput$tagUuids:[UUID]$link:String!$name:String!$teamId:String!$type:HelpPointerType!){createHelpPointer(input:{cloudId:$cloudId description:$description icon:$icon tagUuids:$tagUuids link:$link name:$name teamId:$teamId type:$type}){helpPointer{id}}}`),ew=(0,r("lB1H3").print)((0,r("eSUdr").default)`mutation DeleteHelpPointer($id:ID!){deleteHelpPointer(input:{id:$id}){success}}`),ex=(0,r("lB1H3").print)((0,r("eSUdr").default)`mutation UpdateHelpPointer($id:ID!$description:String$teamId:String$newTeamName:String$icon:IconInput$tagUuids:[UUID]$link:String$name:String$type:HelpPointerType){updateHelpPointer(input:{id:$id description:$description icon:$icon tagUuids:$tagUuids link:$link teamId:$teamId newTeamName:$newTeamName name:$name type:$type}){helpPointer{id}}}`),e_=(0,r("lB1H3").print)((0,r("eSUdr").default)`mutation DeleteKudos($id:ID!){deleteKudos(input:{id:$id}){success kudos{id}}}`),eL=(0,r("lB1H3").print)((0,r("eSUdr").default)`mutation removeTeamWatcher($teamId:String!$cloudId:String){removeTeamWatcher(input:{teamId:$teamId cloudId:$cloudId}){isWatching __typename}}`),eP=(0,r("lB1H3").print)((0,r("eSUdr").default)`query IsTeamWatcher($teamId:String!$cloudId:String!){isTeamWatcher:teamByTeamId(teamId:$teamId cloudId:$cloudId){watching}}`),eN=(0,r("lB1H3").print)((0,r("eSUdr").default)`query TagListByCloudId($q:String!$cloudId:String!$first:Int){tagSearchByCloudId(q:$q cloudId:$cloudId first:$first){edges{node{id uuid name projects{count}goals{count}helpLinks{count}}}}}`),eO=(e,t)=>`${e}/townsquare/s/${t}/graphql`,eq=e=>`${e}/watermelon/graphql`;var eM=new class extends d{setBaseUrl(e){let t=this.getCloudId();this.setServiceUrl(t&&"None"!==t?eO(e,t):eq(e))}async isTeamWatcher(e,t){return(await this.makeGraphQLRequest({query:eP,variables:{teamId:e.replace("ari:cloud:identity::team/",""),cloudId:t||"None"}},{operationName:"isTeamWatcher"})).isTeamWatcher}async addTeamWatcher(e,t){return(await this.makeGraphQLRequest({query:e$,variables:{teamId:e,cloudId:t}},{operationName:"addTeamWatcher"})).addTeamWatcher}async removeTeamWatcher(e,t){return(await this.makeGraphQLRequest({query:eL,variables:{teamId:e,cloudId:t}},{operationName:"removeTeamWatcher"})).removeTeamWatcher}async deleteKudos(e){return(await this.makeGraphQLRequest({query:e_,variables:{id:e}},{operationName:"DeleteKudos"})).deleteKudos}async queryTagList(e){return(await this.makeGraphQLRequest({query:eN,variables:e},{operationName:"TagListByCloudId"})).tagSearchByCloudId}async createTag(e){return(await this.makeGraphQLRequest({query:ev,variables:e},{operationName:"createTagForCloudId"})).createTagForCloudId}async createHelpPointer(e){return(await this.makeGraphQLRequest({query:eA,variables:e},{operationName:"CreateHelpPointer"})).createHelpPointer}async updateHelpPointer(e){return(await this.makeGraphQLRequest({query:ex,variables:e},{operationName:"UpdateHelpPointer"})).updateHelpPointer}async deleteHelpPointer(e){return(await this.makeGraphQLRequest({query:ew,variables:e},{operationName:"DeleteHelpPointer"})).deleteHelpPointer}constructor(e,t){super(eq(e),t)}}(r("9qOkK").DEFAULT_CONFIG.stargateRoot,{logException:r("iE25L").logException});let eF={serviceUrl:`${r("9qOkK").DEFAULT_CONFIG.stargateRoot}/teamsslack/api/team`};var eD=new class extends x{async getTeamInSlack(e,t){return this.getResource(`/${e}?teamName=${encodeURIComponent(t)}`).then(t=>({id:e,...t}))}async disconnectTeamInSlack(e){return this.deleteResource(`/${e}`).then(t=>({id:e,...t}))}async updateTeamInSlack(e,t,r){return this.postResource(`/${e}?channel=${t}&groupName=${r}`).then(t=>({id:e,...t}))}constructor(e={}){super({...eF,...e})}};let eG=e=>`/api/user-image/${e}/header-image/read`;var eB=new class extends x{async getReadMediaToken(e){return this.getResource(eG(e)).then(e=>e)}async getWriteMediaToken(){return this.getResource("/api/user-image/header-image/write").then(e=>e)}async updateUserHeaderImage(e){return await this.putResource("/api/user-image/self/header-image",{headerImageId:e})}}({serviceUrl:r("9qOkK").DEFAULT_CONFIG.stargateRoot});let eH=new class{async measurePerformance(e,t){let r=n.get(e);if(!r)return t();r.start();try{let e=await t();return r.success(),e}catch(e){throw r.failWithError(e),e}}setBaseUrl(e){this._aggClient.setBaseUrl(e),this._directoryClient.setBaseUrl(e)}setContext(e){this._aggClient.setContext(e),this._directoryClient.setContext(e),this._legionClient.setContext(e),this._permsClient.setContext(e),this._mutabilityClient.setContext(e),this._publicApiClient.setContext(e),this._invitationsClient.setContext(e),this._replinesClient.setContext(e)}setTeamCentralContext(e,t){this._teamCentralClient.setContext(t),this._teamCentralClient.setBaseUrl(e)}setDirectoryBaseUrl(e){return console.warn("setDirectoryBaseUrl is deprecated, use setBaseUrl instead"),this._directoryClient.setBaseUrl(e)}async querySettings(e,t){if(e){let t=this._legionClient.getContext();this.setContext({...t,cloudId:e})}return this.measurePerformance("querySettings",async()=>{if(!t)throw Error("Product is required");return{"internal.browse-users-allowed":(await this._legionClient.retrieveBrowseUserPermission(t)).canSearchUsers}})}async getPermissions(){return this.measurePerformance("getPermissions",()=>this._legionClient.getPermissions())}async queryFeatureFlags(...e){return this.measurePerformance("queryFeatureFlags",()=>this._directoryClient.queryFeatureFlags(...e))}async queryTeamMemberships(e,t=["FULL_MEMBER"],r={first:100}){return this._aggClient.queryTeamMemberships(e,t,r)}async queryAGGUser(e){return this._aggClient.queryAGGUser(e)}async queryTeamHasAgents(e){return this._aggClient.queryTeamHasAgents(e)}async getTeamContainers(e){return this._aggClient.getTeamContainers(e)}async unlinkTeamContainer(e,t){return this._aggClient.unlinkTeamContainer(e,t)}async queryNumberOfTeamConnectedToContainer(e){return this._aggClient.queryNumberOfTeamConnectedToContainer(e)}async getNumberOfConnectedTeams(e){return this.queryNumberOfTeamConnectedToContainer(e)}async queryTeamsConnectedToContainer(e){return this._aggClient.queryTeamsConnectedToContainer(e)}async getConnectedTeams(e){return this.queryTeamsConnectedToContainer(e)}queryUser(...e){return this.measurePerformance("queryUser",()=>this._directoryClient.queryUser(...e))}setLegionRootUrl(e){return this._legionClient.setRootUrl(e)}async getTeamById(e,t){return this.measurePerformance("getTeamById",()=>this._legionClient.getTeamById(e,t))}async getAllTeams(...e){return this.measurePerformance("getAllTeams",()=>this._legionClient.getAllTeams(...e))}async updateTeamById(...e){return this.measurePerformance("updateTeamById",()=>this._legionClient.updateTeamById(...e))}async inviteUsersToTeam(...e){return this.measurePerformance("inviteUsersToTeam",()=>this._legionClient.inviteUsersToTeam(...e))}async getMyTeamMembership(...e){return this.measurePerformance("getMyTeamMembership",()=>this._legionClient.getMyTeamMembership(...e))}async getTeamLinksByTeamId(e){return this.measurePerformance("getTeamLinksByTeamId",()=>this._legionClient.getTeamLinksByTeamId(e))}async createTeamLink(...e){return this.measurePerformance("createTeamLink",()=>this._legionClient.createTeamLink(...e))}async updateTeamLink(...e){return this.measurePerformance("updateTeamLink",()=>this._legionClient.updateTeamLink(...e))}async deleteTeamLink(...e){return this.measurePerformance("deleteTeamLink",()=>this._legionClient.deleteTeamLink(...e))}async reorderTeamLink(...e){return this.measurePerformance("reorderTeamLink",()=>this._legionClient.reorderTeamLink(...e))}async getOrgEligibilityForManagedTeams(){return this.measurePerformance("getOrgEligibilityForManagedTeams",()=>this._legionClient.getOrgEligibilityForManagedTeams())}async acceptTeamInvitation(...e){return this.measurePerformance("acceptTeamInvitation",()=>this._legionClient.acceptTeamInvitation(...e))}async declineTeamInvitation(...e){return this.measurePerformance("declineTeamInvitation",()=>this._legionClient.declineTeamInvitation(...e))}async selfJoinTeam(...e){return this.measurePerformance("selfJoinTeam",()=>this._legionClient.selfJoinTeam(...e))}async addAgentsToTeam(...e){return this.measurePerformance("addAgentToTeam",()=>this._legionClient.addAgentsToTeam(...e))}async removeAgentTeamAssociation(...e){return this.measurePerformance("removeAgentTeamAssociation",()=>this._legionClient.removeAgentTeamAssociation(...e))}async cancelJoinRequest(e){return this.measurePerformance("cancelJoinRequest",()=>this._legionClient.cancelJoinRequest(e))}async acceptJoinRequest(...e){return this.measurePerformance("acceptJoinRequest",()=>this._legionClient.acceptJoinRequest(...e))}async declineJoinRequest(...e){return this.measurePerformance("declineJoinRequest",()=>this._legionClient.declineJoinRequest(...e))}async deleteTeamMembership(...e){return this.measurePerformance("deleteTeamMembership",()=>this._legionClient.deleteTeamMembership(...e))}async revokeTeamInvite(...e){return this.measurePerformance("revokeTeamInvite",()=>this._legionClient.revokeTeamInvite(...e))}async deleteTeam(e){return this.measurePerformance("deleteTeam",()=>this._legionClient.deleteTeam(e))}async archiveTeam(e){return this.measurePerformance("archiveTeam",()=>this._legionClient.archiveTeam(e))}async unarchiveTeam(e){return this.measurePerformance("unarchiveTeam",()=>this._legionClient.unArchiveTeam(e))}async unlinkTeamFromGroup(e){return this.measurePerformance("unlinkTeamFromGroup",()=>this._legionClient.unlinkTeamFromGroup(e,"MEMBER_INVITE"))}async isSingleFullMemberTeam(e){return this._legionClient.isSingleFullMemberTeam(e)}async createTeam(...e){return this.measurePerformance("createTeam",()=>this._legionClient.createTeam(...e))}async createTeamContainers(...e){return this.measurePerformance("createTeamContainers",()=>this._legionClient.createTeamContainers(...e))}async createExternalTeam(...e){return this.measurePerformance("createExternalTeam",()=>this._legionClient.createExternalTeam(...e))}async getLinkedTeamsBulk(...e){return this.measurePerformance("getLinkedTeamsBulk",()=>this._legionClient.getLinkedTeamsBulk(...e))}async getOrgScope(...e){return this.measurePerformance("getOrgScope",()=>this._legionClient.getOrgScope(...e))}async restoreTeamToSyncedGroup(...e){return this.measurePerformance("restoreTeamToSyncedGroup",()=>this._legionClient.restoreTeamToSyncedGroup(...e))}async getTeamAndGroupDiff(...e){return this.measurePerformance("getTeamAndGroupDiff",()=>this._legionClient.getTeamAndGroupDiff(...e))}async linkExistingTeamToGroup(...e){return this.measurePerformance("linkExistingTeamToGroup",()=>this._legionClient.linkExistingTeamToGroup(...e))}async getTeamProfileDetailsByTeamId(...e){return this.measurePerformance("getTeamProfileDetails",()=>this._legionClient.getTeamProfileDetails(...e))}async getSoftDeletdTeamById(e){return this.measurePerformance("getSoftDeletedTeamById",()=>this._legionClient.getSoftDeletedTeamById(e))}async getUserInSiteUserBase(e){return this.measurePerformance("getUserInSiteUserBase",()=>this._legionClient.getUserInSiteUserBase(e))}trimTeamARI(e=""){return this._legionClient.trimTeamARI(e)}async getProfileWithMutability(...e){return this.measurePerformance("getProfileWithMutability",()=>this._mutabilityClient.getProfileWithMutability(...e))}async getTeamEnabledSites(...e){return this.measurePerformance("getTeamEnabledSites",()=>this._legionClient.getTeamEnabledSites(...e))}async assignTeamsToSites(...e){return this.measurePerformance("assignTeamsToSites",()=>this._legionClient.assignTeamsToSites(...e))}async getAssignedTeams(...e){return this.measurePerformance("getAssignedTeams",()=>this._legionClient.getAssignedTeams(...e))}async getUnassignedTeams(...e){return this.measurePerformance("getUnassignedTeams",()=>this._legionClient.getUnassignedTeams(...e))}async setTeamSiteAssignmentPermission(...e){return this.measurePerformance("setTeamSiteAssignmentPermission",()=>this._legionClient.setTeamSiteAssignmentPermission(...e))}async getTeamSiteAssignmentOrgDetails(...e){return this.measurePerformance("getTeamSiteAssignmentOrgDetails",()=>this._legionClient.getTeamSiteAssignmentOrgDetails(...e))}async getTeamsToBeClonedToJsmSites(...e){return this.measurePerformance("getTeamsToBeClonedToJsmSites",()=>this._legionClient.getTeamsToBeClonedToJsmSites(...e))}getIsSiteAdmin(...e){return this.measurePerformance("getIsSiteAdmin",()=>this._permsClient.getIsSiteAdmin(...e))}addUsersToTeam(...e){return this.measurePerformance("addUsersToTeam",()=>this._publicApiClient.addUsersToTeam(...e))}removeTeamMemberships(...e){return this.measurePerformance("removeTeamMemberships",()=>this._publicApiClient.removeTeamMemberships(...e))}restoreTeam(...e){return this.measurePerformance("restoreTeam",()=>this._publicApiClient.restoreTeam(...e))}getRecommendedProducts(...e){return this.measurePerformance("getRecommendedProducts",()=>this._invitationsClient.getProductRecommendations(...e))}joinOrRequestDefaultAccessToProductsBulk(...e){return this.measurePerformance("joinOrRequestDefaultAccessToProductsBulk",()=>this._invitationsClient.joinOrRequestDefaultAccessToProductsBulk(...e))}async getWriteTeamMediaToken(){return this.measurePerformance("getWriteTeamMediaToken",()=>this._legionClient.getWriteMediaToken())}async getReadMediaToken(...e){return this.measurePerformance("getReadMediaToken",()=>this._userPreferencesClient.getReadMediaToken(...e))}async getWriteUserMediaToken(){return this.measurePerformance("getWriteUserMediaToken",()=>this._userPreferencesClient.getWriteMediaToken())}async updateUserHeaderImage(e){return this.measurePerformance("updateUserHeaderImage",()=>this._userPreferencesClient.updateUserHeaderImage(e))}async getUserContainers(...e){return this.measurePerformance("getUserContainers",()=>this._collaborationGraphClient.getUserContainers(...e))}async getRecommendedUsers(...e){return this.measurePerformance("getRecommendedUsers",()=>this._collaborationGraphClient.getRecommendedUsers(...e))}async getUserManageConfig(...e){return this.measurePerformance("getUserManageConfig",()=>this._identityClient.getUserManageConfig(...e))}async getMyAvatarUploadedStatus(...e){return this.measurePerformance("getMyAvatarUploadedStatus",()=>this._identityClient.getMyAvatarUploadedStatus(...e))}async deleteAvatar(...e){return this.measurePerformance("deleteUserAvatar",()=>this._identityClient.deleteAvatar(...e))}async fetchUserAvatarInfo(...e){return this.measurePerformance("fetchUserAvatarInfo",()=>this._identityClient.fetchUserAvatarInfo(...e))}async getTeamLinkIcons(...e){return this.measurePerformance("getTeamLinkIcons",()=>this._objectResolverClient.getTeamLinkIcons(...e))}async getAriFromUrl(...e){return this.measurePerformance("getAriFromUrl",()=>this._objectResolverClient.getAriFromUrl(...e))}async getWebLinkTitle(...e){return this.measurePerformance("getWebLinkTitle",()=>this._objectResolverClient.getWebLinkTitle(...e))}async getTeamInSlack(...e){return this.measurePerformance("getTeamInSlack",()=>this._teamsInSlackClient.getTeamInSlack(...e))}async disconnectTeamInSlack(...e){return this.measurePerformance("disconnectTeamInSlack",()=>this._teamsInSlackClient.disconnectTeamInSlack(...e))}async updateTeamInSlack(...e){return this.measurePerformance("updateTeamInSlack",()=>this._teamsInSlackClient.updateTeamInSlack(...e))}async updateUser(...e){return this.measurePerformance("updateUser",()=>this._identityClient.updateUser(...e))}async updateUserAvatar(...e){return this.measurePerformance("updateUserAvatar",()=>this._identityClient.updateUserAvatar(...e))}async addTeamWatcher(...e){return this._teamCentralClient.addTeamWatcher(...e)}async isTeamWatcher(...e){return this._teamCentralClient.isTeamWatcher(...e)}async removeTeamWatcher(...e){return this._teamCentralClient.removeTeamWatcher(...e)}async deleteKudos(...e){return this._teamCentralClient.deleteKudos(...e)}async queryTagList(...e){return this._teamCentralClient.queryTagList(...e)}async createTag(...e){return this._teamCentralClient.createTag(...e)}async createHelpPointer(...e){return this._teamCentralClient.createHelpPointer(...e)}async updateHelpPointer(...e){return this._teamCentralClient.updateHelpPointer(...e)}async deleteHelpPointer(...e){return this._teamCentralClient.deleteHelpPointer(...e)}async getUserTenure(...e){return this.measurePerformance("getUserTenure",()=>this._replinesClient.getUserTenure(...e))}async checkOrgFullAlignmentStatus(...e){return this._legionClient.checkOrgFullAlignmentStatus(...e)}async getTeamStatesInBulk(...e){return this._legionClient.getTeamStatesInBulk(...e)}async getReportingLines(...e){return this.measurePerformance("getReportingLines",()=>this._reportingLinesClient.getReportingLines(...e))}constructor(e){this._aggClient=C,this._directoryClient=M,this._legionClient=en,this._mutabilityClient=em,this._permsClient=eI,this._publicApiClient=eR,this._invitationsClient=ea,this._userPreferencesClient=eB,this._objectResolverClient=ey,this._teamsInSlackClient=eD,this._collaborationGraphClient=P,this._identityClient=K,this._teamCentralClient=eM,this._replinesClient=eb,this._reportingLinesClient=eE,e&&this.setContext(e)}};e.exports.teamsClient=eH}),a("4VXWT",function(e,t){let a=e=>({error:{name:e.name,message:e.message,stack:e.stack,traceId:e instanceof r("ftJwu").HttpError?e.traceId:void 0,status:e instanceof r("ftJwu").HttpError?e.status:void 0}}),s=["SLOIgnoreError","SLOIgnoreHttpError"],i=e=>{let t=e?.constructor.name;return!!t&&s.includes(t)};class n extends r("4SCyD").UFOExperience{abortWithError(e,t){return super.abort({metadata:{error:a(e),reason:t}})}failWithError(e){return e instanceof Error?(0,r("ftJwu").isAuthError)(e)?this.abortWithError(e,"Abort due to user unauthenticated"):(0,r("ftJwu").isErrorStatusCode)(r("ftJwu").StatusCode.GONE,e)?this.abortWithError(e,"Abort due to unavailable resource"):i(e)?this.abortWithError(e,"Abort due to an error in ignore list"):(0,r("ftJwu").isNetworkError)(e)?this.abortWithError(e,"Abort due to network error"):super.failure({metadata:{error:a(e),packageVersion:"0.0.0-use.local",packageName:"platform-pkg"}}):super.failure({metadata:{error:"unknown error",packageVersion:"0.0.0-use.local",packageName:"platform-pkg"}})}}e.exports.TeamsUFOExperience=n}),a("ftJwu",function(e,t){(r={}).NotFound="NotFound",r.NotPermitted="NotPermitted",r.MalformedInput="MalformedInput",r.Internal="Internal";var r,a,s=((a={})[a.UNAUTHORIZED=401]="UNAUTHORIZED",a[a.FORBIDDEN=403]="FORBIDDEN",a[a.TIMEOUT=408]="TIMEOUT",a[a.GONE=410]="GONE",a[a.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",a);function i(e,t){if(!t)return!1;if(t.status===e||t.statusCode===e)return!0;let r=RegExp(`status (code)?.*(${e})`);return!!t?.message?.match(r)}class n extends Error{constructor(e){super(e),this.message=void 0,this.name=void 0,this.stack=void 0,this.name=this.constructor.name,this.message=e||"UnknownError",this.stack=Error(e).stack||""}}class o extends n{constructor({message:e}){super(e||"UnknownError"),Object.setPrototypeOf(this,o.prototype)}}class c extends n{constructor({message:e}){super(`SentryIgnore: ${e||"UnknownError"}`),Object.setPrototypeOf(this,c.prototype)}}class m extends n{constructor({message:e,status:t,traceId:r,path:a}){super(e),this.status=void 0,this.traceId=void 0,this.path=void 0,Object.setPrototypeOf(this,m.prototype),this.status=t,this.traceId=r,this.path=a}}class l extends m{constructor(e){super(e),Object.setPrototypeOf(this,l.prototype)}}class u extends n{constructor({message:e,category:t="default",fields:r}){super(e),this.fields=void 0,this.category=void 0,Object.setPrototypeOf(this,u.prototype),this.category=t,r&&(this.fields=r)}}u.from=e=>{let t=e[0],r={category:t.category,message:t.message};return t.fields&&(r.fields=t.fields.reduce((e,t)=>(e[t.field]=t.message,e),{})),new u(r)},e.exports.StatusCode=s,e.exports.isAuthError=function(e){return i(401,e)||i(403,e)},e.exports.isErrorStatusCode=i,e.exports.DefaultError=o,e.exports.SLOIgnoreError=c,e.exports.HttpError=m,e.exports.SLOIgnoreHttpError=l,e.exports.GraphQLError=u,e.exports.isNetworkError=function(e){return e&&!!e.message&&(e.message.includes("NetworkError")||e.message.startsWith("Failed to fetch")||e.message.includes("GraphQL error: Failed to fetch")||e.message.includes("GraphQL error: The operation was aborted")||e.message.includes("GraphQL error: cancelled")||e.message.includes("Abgebrochen")||e.message.includes("")||e.message.includes("  .")||e.message.includes("anulowane")||e.message.includes("annul")||e.message.includes("")||e.message.includes("cancelado")||e.message.includes("")||e.message.includes("cancelled")||e.message.includes("Network error")||!!(e.graphQLErrors&&e.networkError))}}),a("cFYtL",function(e,t){let r="ari:cloud:identity::user/",a="ari:cloud:identity::team/",s=e=>e.startsWith(r),i=e=>e.startsWith(a);e.exports.toUserId=e=>{if(s(e))return e.replace(r,"");throw Error("Invalid UserARI")},e.exports.toUserARI=e=>s(e)?e:`${r}${e}`,e.exports.toTeamId=e=>{if(i(e))return e.replace(a,"");throw Error("Invalid TeamARI")},e.exports.toTeamARI=e=>i(e)?e:`${a}${e}`}),a("9qOkK",function(e,t){e.exports.DEFAULT_CONFIG={stargateRoot:"/gateway/api",permsServiceUrl:"/gateway/api/permissions",publicApiRoot:"/gateway/api/public",invitationsServiceUrl:"/gateway/api/invitations",collaborationGraphUrl:"/gateway/api/collaboration"}}),a("aR5ht",function(e,t){let r={INITIAL_DELAY:200,MAX_RETRIES:5,JITTER:!0};function a(e){return 500<=e&&e<=599}let s={initial:200,jitter:!1,max:5,retryIf:e=>!e};function i(e,t=s){let{initial:r,jitter:a,max:n,retryIf:o}=t,c=n,m=r;return async function t(...r){let s=await e(...r);return(--c,o&&o(s)&&c>0)?(await new Promise(e=>setTimeout(e,a?Math.random()*m:m)),m*=2,t(...r)):s}}let n=i((e,t)=>fetch(e,t),{initial:r.INITIAL_DELAY,jitter:r.JITTER,max:r.MAX_RETRIES,retryIf:e=>a(e.status)});e.exports.EXPONENTIAL_BACKOFF_RETRY_POLICY=r,e.exports.is5xx=a,e.exports.isFetchResponse=function(e){return!!e&&!!e.hasOwnProperty("response")&&e.response instanceof Response},e.exports.withExponentialBackoff=i,e.exports.fetchWithExponentialBackoff=n});
//# sourceMappingURL=ProjectPanel.d52304a4.js.map
