function e(e){return e&&e.__esModule?e.default:e}function t(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}var n=globalThis.parcelRequired477,a=n.register;a("lVF98",function(t,a){var o,i,r,s,l,d,c,u,m,p,f,g,b,E,S=n("42omo"),_=n("l998X");n("42omo");var h=({children:e,duration:t="large",enteringAnimation:a,exitingAnimation:o,onFinish:i,isPaused:r,animationTimingFunction:s})=>(0,_.jsx)(n("gZTYb").default,{duration:t,enteringAnimation:a,exitingAnimation:o,animationTimingFunction:s,onFinish:i,isPaused:r,children:e}),C=n("hU34N"),I=n("iIQbF"),y=n("77nKA"),A=n("b8XTE"),T=n("3tUdX"),v=n("auvZ1"),w=n("9VC5k"),x=n("c8mrj"),P=n("UNr39"),k=n("auLW1"),O=n("eN3MW");let L=(0,n("cgtv4").defineMessages)({inlineCommentsMenuItemLabel:{id:"page-rovo-config-common.menu.item.label.inline-comments",defaultMessage:"Summarize comments"},pageCatchupMenuItemLabel:{id:"page-rovo-config-common.menu.item.label.page-catchup",defaultMessage:"Summarize changes"},summarizeSectionLabel:{id:"page-rovo-config-common.summarize.section.label",defaultMessage:"Summarize page"},bulkIssueCreateMenuItemLabel:{id:"page-rovo-config-common.menu.item.label.bulk-issue-create",defaultMessage:"Create Jira issues"},bulkWorkItemsCreateMenuItemLabel:{id:"page-rovo-config-common.menu.item.label.bulk-work-items-create",defaultMessage:"Create Jira work items"},exploreRelatedWorkAndUpdates:{id:"page-rovo-config-common.menu.item.label.explore-related-items.non-final",defaultMessage:"Explore related work and resources"}}),R=()=>{let{contentId:t,contentType:a,spaceKey:o,lastModifiedDate:i,isUnpublishedDraft:r}=(0,n("amW67").useRovoConfigProviderProps)(),{formatMessage:s}=(0,n("8C5kA").default)(),{unresolvedInlineCommentsCount:l,footerCommentsCount:d}=(0,S.useContext)(n("3Am3T").CommentCountsContext),c=(0,n("aSsfA").useGetPageMode)(),u=(0,n("jln20").useRightSidebarContext)(),{showWarningDialog:m}=(0,n("4aiCO").useWarningDialogStateActions)(),p=u.getCurrent()?.panelId===P.BULK_ISSUE_CREATE_SIDE_PANEL_ID,f=(0,S.useRef)("undefined"!=typeof document?document.querySelector("div#content"):null),g=(0,x.useBulkIssueCreate)({contentId:t,content:f}),b=(0,S.useCallback)(()=>({id:"summarize-changes-ai-action",title:s(L.pageCatchupMenuItemLabel),icon:()=>e(S).createElement(e(n("kevJM")),{label:"",testId:"summarize-changes-ai-action.icon"}),viewConfig:{render:()=>e(S).createElement(k.PageCatchupComponent,{contentId:t,contentType:a,spaceKey:o,setIsOpen:()=>{},contentPath:window.location.pathname,isInObjectSidebar:!0,showAIDisclaimer:!1,allowCustomFollowUp:!0})},type:"ai-action",handleType:n("6Htct").HandleActionType.Base,customFollowUpContext:{available:!1,fetch:()=>Promise.resolve([])},nudgeContext:{id:"content-catchup"}}),[s,t,a,o]),E=(0,S.useCallback)(()=>({id:"summarize-page-ai-action",title:s(L.summarizeSectionLabel),icon:()=>e(S).createElement(e(n("cUQMr")),{label:"",testId:"summarize-page-ai-action.icon"}),viewConfig:{render:()=>e(S).createElement(O.QuickSummaryStreamingComponent,{contentId:t,spaceKey:o,contentType:a,lastModifiedDate:i??"",source:"view-page",setIsOpen:()=>{},contentPath:window.location.pathname,isInObjectSidebar:!0,showAIDisclaimer:!1,allowCustomFollowUp:!0})},type:"ai-action",handleType:n("6Htct").HandleActionType.Base,customFollowUpContext:{available:!1,fetch:()=>Promise.resolve([])},nudgeContext:{id:"page-summaries"}}),[s,t,a,o,i]),_=(0,S.useCallback)(()=>({id:"summarize-comments-ai-action",title:s(L.inlineCommentsMenuItemLabel),icon:()=>e(S).createElement(e(n("1yB28")),{label:""}),viewConfig:{render:()=>e(S).createElement(n("3Am3T").CommentCountsProvider,{contentId:t},e(S).createElement(v.FooterCommentsSummaryCombined,{contentId:t,contentType:a,source:w.CommentsSummarySource.Footer,spaceKey:o,isInObjectSidebar:!0,showAIDisclaimer:!1}))},type:"ai-action",handleType:n("6Htct").HandleActionType.Base}),[s,t,a,o]),h=(0,S.useCallback)(()=>{p?m(n("4aiCO").WarningDialog.FLOATING):g()},[p,m,g]),C=(0,S.useCallback)(()=>({id:"bulk-issue-create-ai-action",title:s((0,n("9wGTI").fg)("confluence-issue-terminology-refresh")?L.bulkWorkItemsCreateMenuItemLabel:L.bulkIssueCreateMenuItemLabel),icon:()=>e(S).createElement(e(n("7ZcJJ")),{label:""}),onClick:h,type:"ai-action",handleType:n("6Htct").HandleActionType.Base}),[s,h]),I=(0,S.useCallback)(()=>{let e=[];return"page"!==a&&"blogpost"!==a||r||(e.push({actionId:"page-catchup",action:b()},{actionId:"quick-summary",action:E()}),(l>0||d>0)&&!(0,n("6mKj3").expValEquals)("proactive_comment_summary","isEnabled",!0)&&e.push({actionId:"comment-summary",action:_()}),c===n("cD1qu").PageMode.VIEW&&(0,n("9wGTI").fg)("confluence_ai_bulk_issue_creation")&&e.push({actionId:"bulk-issue-create",action:C()})),e},[a,C,_,d,r,b,c,E,l]);return(0,S.useMemo)(()=>I(),[I])},N=(e,t)=>{let{isAdminHubAIEnabled:a}=(0,n("bQm3c").useSessionData)(),o=(0,n("aSsfA").useGetPageMode)(),i=(0,n("8uM2K").useAIRovoButtonEnablement)(),{readTime:r,loading:s}=(0,n("h2uld").useReadTime)(t,!a||o===n("cD1qu").PageMode.EDIT);return i&&"page"===e&&o!==n("cD1qu").PageMode.EDIT&&!s&&Number(r)>.5&&(0,n("9wGTI").fg)("aix_nudge_recommendation_migration_enabled")},D=({setConfiguration:e})=>{let{contentType:t,contentId:a}=(0,n("amW67").useRovoConfigProviderProps)(),o=R(),i=N(t,a),{setNudges:r}=(0,n("4acD6").useAISmartButtonActions)(),s=(0,S.useMemo)(()=>({getActions:async()=>Promise.resolve(o.map(e=>e.action))}),[o]);return(0,S.useEffect)(()=>{if(e(s),i){let e=o.find(e=>"page-catchup"===e.actionId)?.action;e&&r([e])}else r([])},[s,e,i,o,r]),null},M=t=>{let{contentId:a}=(0,n("amW67").useRovoConfigProviderProps)();return e(S).createElement(n("3Am3T").CommentCountsProvider,{contentId:a},e(S).createElement(D,t))},j=({setConfiguration:e})=>{let t=R(),a=(0,n("02cx8").useEditorRovoButtonActionsActions)(),o=(0,n("02cx8").useEditorRovoButtonActionsContext)(),i=(0,S.useMemo)(()=>({getActions:async()=>o?.reference?Promise.resolve(a):Promise.resolve([...a,...t.map(e=>e.action)])}),[a,o,t]);return(0,S.useEffect)(()=>{e(i)},[i,e]),null},U=t=>{let{contentId:a}=(0,n("amW67").useRovoConfigProviderProps)();return e(S).createElement(n("3Am3T").CommentCountsProvider,{contentId:a},e(S).createElement(j,t))};var V=n("hji5f"),B=n("gIaMn");let F=(0,n("jmjWc").LoadableActivatable)({__loadable_id__:"h5GrM",name:"AudioButtonLoaderActivatable",loader:async()=>(await n("hBvuf")).AudioButton,triggers:[{type:B.ActivationTriggerType.HOVER}],ssrSuccessCheckName:n("5Abqh").SSR_PARTIAL_COMPONENT.AudioButton}),G=(0,n("jmjWc").LoadableAfterPaint)({__loadable_id__:"IJrya",name:"AudioButtonLoaderAfterPaint",loader:async()=>(await n("hBvuf")).AudioButton}),q=t=>{let{isView:a,contentId:o,contentType:i,spaceKey:r,contentTitle:s,isDisabled:l}=t;return a&&(0,n("6mKj3").expVal)("confluence_selective_hydration_audio_button","isEnabled",!1)?e(S).createElement(z,t):e(S).createElement(G,{contentId:o,contentType:i,spaceKey:r,contentTitle:s,isDisabled:l})},z=({contentId:t,contentType:a,spaceKey:o,contentTitle:i,isDisabled:r})=>{let s=(0,S.useRef)(null),[l,d]=(0,S.useState)(!0),[c,u]=(0,S.useState)(!1),m=(0,S.useCallback)(()=>{},[]),p=(0,n("e4o8D").useRenderServerPlaceholder)(),{showChangeboarding:f,handleCloseChangeboarding:g}=(0,V.useAudioBriefingChangeboarding)({contentId:t,onShow:m,skip:!1===l});(0,S.useEffect)(()=>{"undefined"!=typeof MediaSource&&MediaSource.isTypeSupported("audio/mpeg")||(0,S.startTransition)(()=>{d(!1)})},[]),(0,S.useEffect)(()=>{let e=s.current;if(!e)return;let t=e=>{let t=e.target;t&&t.matches('button, [role="button"]')&&t.matches(":focus-visible")&&(0,S.startTransition)(()=>{u(!0)})};return e.addEventListener("focus",t,!0),()=>{e.removeEventListener("focus",t,!0)}},[]);let b=f||!1===l||c,E=r&&(0,n("6mKj3").expVal)("platform_editor_offline_editing_web","isEnabled",!1)||!p&&!l;return e(S).createElement("div",{ref:s},e(S).createElement(F,{contentId:t,contentType:a,spaceKey:o,contentTitle:i,isDisabled:E,immediateActivationCondition:b,selectiveHydrationEnabled:!0,showChangeboardingFromWrapper:f,handleCloseChangeboardingFromWrapper:g,audioSupportedByBrowserFromWrapper:l??!0}))};var W=n("3D12W");let H=()=>{let{isElementVisible:e}=(0,n("5qLRP").useElementVisibility)(),{data:t}=(0,n("3l7KO").useContentLabels)(),{hasEditPermissions:a}=t;return{isLabelsAvailable:e(n("5qLRP").ELEMENTS.ROWS.LABELS),canEditLabels:a}},K=async({contentId:e,canUpdateContent:t})=>{if(e&&t&&(0,n("9wGTI").fg)("dlp_cc-redactions-metadata-modal"))return(0,n("dYU3e").query)({query:n("iCs0a").default,variables:{contentId:e},errorPolicy:"all"})};var Q=n("hysf6"),Y=n("4vaoM"),J=n("6GD8y");let Z=(0,n("cgtv4").defineMessages)({openDetailsPanelLabel:{id:"object-sidebar-components.open.details.panel.label",defaultMessage:"Open Details Panel"},showDetailsLabel:{id:"object-sidebar-components.show.details.label",defaultMessage:"Show details"}}),X=(0,n("7aRa9").withFlags)(({contentId:t,collapsed:a,isDisabled:o=!1,flags:i})=>{let{formatMessage:r}=(0,n("8C5kA").default)(),{createAnalyticsEvent:s}=(0,n("inPa6").useAnalyticsEvents)(),l=(0,S.useContext)(n("1kHsc").ExperienceTrackerContext),{showDetailsPanel:d}=(0,Q.useShowDetailsPanel)(),[c]=(0,n("ep3mz").useContentType)(),u=c!==n("1ggpj").ContentType.DATABASE,m=(0,n("aWwYt").usePanel)(),{hideObjectSidebar:p}=(0,n("aWwYt").useObjectSidebarActions)(),[f=""]=(0,n("ep3mz").usePageSpaceKey)(),{showModal:g}=(0,n("8aF6s").useDialogs)(),{isLabelsAvailable:b,canEditLabels:E}=H(),{push:_}=(0,n("dPJCf").useRouteActions)(),h=(0,n("8uM2K").useAIRovoButtonEnablement)(),[{isEditMode:C}]=(0,n("efvKr").useLivePageMode)(),I=(0,n("de2j9").useIsEditorPage)(),y=(0,n("aSsfA").useGetPageMode)(),{showNoEditAccessFlag:A}=(0,n("3u7PM").useNoEditAccessFlag)(i),T=(0,n("4tOXV").useShortcutStrings)({shortcut:n("gnkil").UNIVERSAL_OPEN_DETAILS_PANEL_SHORTCUT}),[v]=(0,n("2wo33").useCanPerformContentOperation)({contentId:t??"",contentType:c,operation:n("lfBMY").OperationTypes.UPDATE}),w=(0,S.useCallback)(()=>{l.start({name:n("irVI7").SIDEBAR_DETAILS_PANEL_LOAD_EXPERIENCE}),d(),s({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"detailsPanel",source:"contentWrapper",attributes:{contentType:c,pageMode:y}}}).fire()},[d,s,l,c,y]),x=(0,S.useCallback)(()=>{(0,n("9wGTI").fg)("dlp_cc-redactions-metadata-modal")&&K({contentId:t,canUpdateContent:!!v})},[t,v]),P=(0,S.useCallback)(e=>{e.preventDefault(),m?.id==="detailsPanel"?p():w()},[w,p,m?.id]),k=(0,S.useCallback)(()=>{g(Y.EditLabelDialogLoader,{contentId:t,spaceKey:f,source:"detailsPanelKeyboardShortcut"})},[g,t,f]),O=e(S).createElement(e(S).Fragment,null,e(S).createElement(J.GeneralShortcutListener,{accelerator:n("gnkil").UNIVERSAL_OPEN_DETAILS_PANEL_SHORTCUT,listener:P}),b&&e(S).createElement(J.GeneralShortcutListener,{deprecatedAccelerator:C||I?void 0:n("gnkil").LABELS_SHORTCUT,accelerator:n("gnkil").UNIVERSAL_LABELS_SHORTCUT,listener:E?k:A}),e(S).createElement(J.GeneralShortcutListener,{deprecatedAccelerator:C||I?void 0:n("gnkil").VIEW_ATTACHMENTS_SHORTCUT,accelerator:(0,n("4tOXV").isMac)()?n("gnkil").UNIVERSAL_VIEW_ATTACHMENTS_SHORTCUT_MAC:n("gnkil").UNIVERSAL_VIEW_ATTACHMENTS_SHORTCUT_WIN,listener:()=>_((0,n("6mKj3").expVal)("cc_attachments_page","isEnabled",!1)?n("1NBp8").ATTACHMENTS_PAGE.toUrl({spaceKey:f,contentId:t}):`${n("jlIaF").CONTEXT_PATH}/pages/viewpageattachments.action?pageId=${t}`)}));return a?O:e(S).createElement(n("5izcQ").default,{name:n("4ZXww").OBJECT_SIDEBAR_TOUR_TARGETS.SIDEBAR_DETAILS_BUTTON},e(S).createElement(n("gdv5Z").default,{onMouseEnter:x,"data-vc":"object-sidebar-details-button",testId:"object-sidebar-details-button-id"},e(S).createElement(n("3gadb").default,{position:"left",content:u&&!(0,n("9wGTI").fg)("platform_tooltip_shortcuts_migration_1")?e(S).createElement(n("4tOXV").ShortcutVisualizer,{shortcut:n("gnkil").UNIVERSAL_OPEN_DETAILS_PANEL_SHORTCUT,contentBefore:r(Z.showDetailsLabel),isTooltip:!0}):e(S).createElement(n("gtD4K").default,Z.showDetailsLabel),shortcut:u&&(0,n("9wGTI").fg)("platform_tooltip_shortcuts_migration_1")?T:void 0,delay:0,hideTooltipOnClick:!0},e(S).createElement(n("1qfLF").default,{onClick:w,appearance:"subtle",shape:h?"default":"circle",icon:e(n("8tSmd")),label:r(Z.openDetailsPanelLabel),testId:"sidebar-details-button",isDisabled:o&&(0,n("6mKj3").expVal)("platform_editor_offline_editing_web","isEnabled",!1),interactionName:"details-panel-interaction"}),O)))}),ee=({title:t,subActionItems:a,onSubItemClick:o})=>{let{formatMessage:i}=(0,n("8C5kA").default)();return e(S).createElement(n("gdv5Z").default,{xcss:"_1rjcze3t"},e(S).createElement(n("2SlZp").default,null,e(S).createElement(n("7rvPL").default,{title:i(t)},a.map(t=>{let a=t.icon;return e(S).createElement(n("56M4r").default,{key:t.title.id,onClick:()=>{o(),t.onClick()},iconBefore:e(S).createElement(a,{size:"small",label:i(t.title)})},i(t.title))}))))},et=({action:t,isDisabled:a})=>{let{formatMessage:o}=(0,n("8C5kA").default)(),[i,r]=(0,S.useState)(!1),s=(0,S.useCallback)(()=>{r(e=>!e)},[r]),l=(0,S.useCallback)(()=>{r(!1)},[r]);return e(S).createElement(n("lGgRw").Popup,{shouldRenderToParent:!0,isOpen:i,onClose:l,placement:"left",content:()=>e(S).createElement(ee,{title:t.title,subActionItems:t.subItems,onSubItemClick:l}),trigger:i=>e(S).createElement(n("3gadb").default,{position:"left",content:o(t.title),hideTooltipOnClick:!0},e(S).createElement(n("1qfLF").default,{...i,icon:t.icon,appearance:"subtle",label:o(t.title),testId:t.title.id,onClick:s,tooltip:{position:"left"},isDisabled:a}))})},en=({editorAIActions:t,isDisabled:a})=>{let{formatMessage:o}=(0,n("8C5kA").default)(),i=t.map(t=>"subItems"in t?e(S).createElement(et,{key:t.title.id,action:t,isDisabled:a}):e(S).createElement(n("3gadb").default,{key:t.title.id,position:"left",content:o(t.title),hideTooltipOnClick:!0},e(S).createElement(n("1qfLF").default,{icon:t.icon,appearance:"subtle",label:o(t.title),onClick:t.onClick,isDisabled:a})));return e(S).createElement(e(S).Fragment,null,i)},ea="objectSidebar",eo=(0,n("cgtv4").defineMessages)({undoLabel:{id:"object-sidebar-components.undo.editor.action.label",defaultMessage:"Undo"},redoLabel:{id:"object-sidebar-components.redo.editor.action.label",defaultMessage:"Redo"}}),ei=e=>e?e[0].toUpperCase()+e.slice(1).toLowerCase():e,er=({type:t,canPerformAction:a,onAction:o,isDisabled:i=!1})=>{let r=(0,n("aSsfA").useGetPageMode)(),s=(0,n("8uM2K").useAIRovoButtonEnablement)(),[l]=(0,n("ep3mz").useContentType)(),{formatMessage:d}=(0,n("8C5kA").default)(),[{isEditMode:c}]=(0,n("efvKr").useLivePageMode)(),u=l!==n("1ggpj").ContentType.DATABASE,m={undo:{icon:e(n("fnaPh")),shortcut:n("gnkil").EDITOR2_SHORTCUTS.UNDO,label:eo.undoLabel,testId:"sidebar-undo-button"},redo:{icon:e(n("kFjZK")),shortcut:n("gnkil").EDITOR2_SHORTCUTS.REDO,label:eo.redoLabel,testId:"sidebar-redo-button"}}[t],p={source:ea,name:`${ea}${ei(t)}Button`,attributes:{source:ea,name:`${ea}${ei(t)}Button`}},f=(0,n("4tOXV").useShortcutStrings)({shortcut:m.shortcut,isEditorShortcut:"edit"===r||c});return e(S).createElement(n("3gadb").default,{position:"left",content:u&&!(0,n("9wGTI").fg)("platform_tooltip_shortcuts_migration_1")?e(S).createElement(n("4tOXV").ShortcutVisualizer,{shortcut:m.shortcut,contentBefore:d(m.label),isEditorShortcut:"edit"===r||c,isTooltip:!0}):e(S).createElement(n("gtD4K").default,m.label),shortcut:u&&(0,n("9wGTI").fg)("platform_tooltip_shortcuts_migration_1")?f:void 0,delay:0},e(S).createElement(n("1qfLF").default,{icon:m.icon,appearance:"subtle",label:"",testId:m.testId,shape:s?"default":"circle",onClick:()=>{o()},tooltip:{position:"left"},isDisabled:!a||i,analyticsContext:p}))},es=({canUndo:t,undo:n,isDisabled:a=!1})=>e(S).createElement(er,{type:"undo",canPerformAction:t,onAction:n,isDisabled:a}),el=({canRedo:t,redo:n,isDisabled:a=!1})=>e(S).createElement(er,{type:"redo",canPerformAction:t,onAction:n,isDisabled:a}),ed=(0,n("cgtv4").defineMessages)({toggleShowDiffEditorLabel:{id:"object-sidebar-components.toggle.show-diff.editor.label",defaultMessage:"View changes"}}),ec=({isShowDiffEnabled:t,isShowDiffSelected:a,onShowDiff:o})=>{let i=(0,n("8uM2K").useAIRovoButtonEnablement)(),r={source:ea,name:`${ea}ShowDiffButton`,attributes:{source:ea,name:`${ea}ShowDiffButton`,willSelectShowDiff:!a}};return e(S).createElement(n("3gadb").default,{position:"left",content:e(S).createElement(n("gtD4K").default,ed.toggleShowDiffEditorLabel),delay:0},e(S).createElement(n("1qfLF").default,{icon:e(n("fi2El")),appearance:"subtle",label:"",testId:"sidebar-show-diff-button",shape:i?"default":"circle",onClick:()=>{o()},tooltip:{position:"left"},isSelected:a,isDisabled:!t,analyticsContext:r}))};var eu=n("dcvq8"),em=n("di8q4");let ep=(0,n("cgtv4").defineMessages)({feedbackButtonTooltip:{id:"object-sidebar-components.object-sidebar.feedback-collector-tooltip",defaultMessage:"Give feedback on our new layout"},feedbackDialogTitle:{id:"object-sidebar-components.object-sidebar.feedback-collector-title",defaultMessage:"Help us improve the new layout"},tellUsMore:{id:"object-sidebar-components.object-sidebar.tell-us-more",defaultMessage:"Tell us more about your experience"},rateExperience:{id:"object-sidebar-components.object-sidebar.rate-experience",defaultMessage:"Please rate your experience with the new layout:"},feedbackCategory:{id:"object-sidebar-components.object-sidebar.feedback-category",defaultMessage:"What category best describes your feedback? (optional)"},userInterfaceQuality:{id:"object-sidebar-components.object-sidebar.user-interface-quality",defaultMessage:"User interface quality"},featureSuggestion:{id:"object-sidebar-components.object-sidebar.feature-suggestion",defaultMessage:"Feature suggestion or request"},reportBug:{id:"object-sidebar-components.object-sidebar.report-bug",defaultMessage:"Report a bug"},successFlagTitle:{id:"object-sidebar-components.object-sidebar.feedback-success-flag-title",defaultMessage:"We’ve recorded your response"},successFlagDescription:{id:"object-sidebar-components.object-sidebar.feedback-success-flag-description",defaultMessage:"Thanks for taking the time to share your feedback with us."}});(o={}).VeryDissatisfied="Very dissatisfied",o.Dissatisfied="Dissatisfied",o.Neutral="Neutral",o.Satisfied="Satisfied",o.VerySatisfied="Very satisfied";let ef=(0,n("ecnYn").xcss)({width:"129px",paddingTop:"space.100"}),eg=(0,n("ecnYn").xcss)({paddingTop:"space.100"}),eb=(0,S.forwardRef)(({as:t="button",style:a,...o},i)=>{let{isSelected:r,...s}=o;return e(S).createElement(t,{...s,style:a,ref:i,className:(0,n("gMc0m").default)(["_12ji1r31 _1qu2glyw _12y31o36 _11c82smr _1yt41ano _2rko1rr0 _vchhusvi _1e0c116y _80omtlke _uiztglyw _o5721q9c _s7n4jp4b _4t3izwfg _1bah1h6o _4cvr1h6o _11cpidpf _y2mv7g83 _858u1j28",o.isSelected?"_bfhk15s3":"_bfhki8nm",o.isSelected?"_syaz6x5g":"_syazi7uo",o.isSelected?"_irr3ufnl":"_irr3plhp",o.isSelected?"_19ithueu":"_19it1tra",o.className])})}),eE=({categoryName:t,selectedCategories:n,setSelectedCategories:a,children:o})=>e(S).createElement(eb,{isSelected:n[t],onClick:e=>{e.preventDefault(),a(e=>({...e,[t]:!e[t]}))}},o),eS=({experienceRating:t,setExperienceRating:a,selectedCategories:o,setSelectedCategories:i})=>{let{formatMessage:r}=(0,n("8C5kA").default)(),s=[{emojiId:"1f620",experienceRating:"Very dissatisfied"},{emojiId:"2639",experienceRating:"Dissatisfied"},{emojiId:"1f610",experienceRating:"Neutral"},{emojiId:"1f642",experienceRating:"Satisfied"},{emojiId:"1f603",experienceRating:"Very satisfied"}];return e(S).createElement(e(S).Fragment,null,e(S).createElement(n("fb3kw").default,{label:r(ep.rateExperience),name:"rate-experience",id:"rate-experience",isRequired:!0},({fieldProps:o})=>e(S).createElement(n("bUlM5").default,{direction:"row",justifyContent:"space-between","data-name":o.id,xcss:ef},s.map(o=>e(S).createElement(em.LazyEmojiComponentLoader,{emoji:o.emojiId,key:o.emojiId,height:18,context:"contentWrapperFeedbackCollector",shouldRemoveEmojiLeftPadding:!0,wrapper:({children:i})=>e(S).createElement(n("ccHMk").default,{appearance:"subtle","data-name":o.experienceRating,"data-value":o.experienceRating,onClick:e=>{e.preventDefault(),a(o.experienceRating)},isSelected:t===o.experienceRating},i)})))),e(S).createElement(n("fb3kw").default,{label:r(ep.feedbackCategory),name:"feedback-category",id:"feedback-category"},({fieldProps:t})=>e(S).createElement(n("dcJ7R").default,{space:"space.050","data-name":t.id,xcss:eg},e(S).createElement(eE,{categoryName:"uiQuality",selectedCategories:o,setSelectedCategories:i},e(S).createElement(n("gtD4K").default,ep.userInterfaceQuality)),e(S).createElement(eE,{categoryName:"featureSuggestion",selectedCategories:o,setSelectedCategories:i},e(S).createElement(n("gtD4K").default,ep.featureSuggestion)),e(S).createElement(eE,{categoryName:"reportBug",selectedCategories:o,setSelectedCategories:i},e(S).createElement(n("gtD4K").default,ep.reportBug)))))},e_=(0,n("7aRa9").withFlags)(({flags:t,contentId:a,isDisabled:o=!1})=>{let{formatMessage:i,locale:r}=(0,n("8C5kA").default)(),[s,l]=(0,S.useState)(!1),[d,c]=(0,S.useState)("Neutral"),[u,m]=(0,S.useState)({uiQuality:!1,featureSuggestion:!1,reportBug:!1}),{userId:p,displayName:f,cloudId:g,edition:b,environment:E}=(0,n("bQm3c").useSessionData)(),_=(0,n("8uM2K").useAIRovoButtonEnablement)(),h=()=>{c("Neutral"),m({uiQuality:!1,featureSuggestion:!1,reportBug:!1}),l(!1)};return e(S).createElement(e(S).Fragment,null,e(S).createElement(n("3gadb").default,{position:"left",content:i(ep.feedbackButtonTooltip)},e(S).createElement(n("1qfLF").default,{onClick:()=>{l(!0)},appearance:"subtle",shape:_?"default":"circle",icon:e(n("6fjxX")),label:i(ep.feedbackButtonTooltip),testId:"sidebar-feedback-button","data-vc":"object-sidebar-feedback-button",isDisabled:o&&(0,n("6mKj3").expVal)("platform_editor_offline_editing_web","isEnabled",!1)})),s&&((0,n("9wGTI").fg)("confluence_modernize_feedback_consolidation")?e(S).createElement(eu.GlobalFeedbackCollector,{onClose:h,onCloseComplete:()=>{},feedbackSource:n("lx6jn").FeedbackSource.CONTENT_WRAPPER}):e(S).createElement(n("biiXa").default,{entrypointId:"a7ad93ff-d025-479e-beaf-8885e38fa5a9",locale:r,atlassianAccountId:p??"",name:f??"",showTypeField:!1,feedbackTitle:i(ep.feedbackDialogTitle),customTextAreaLabel:i(ep.tellUsMore),customContent:e(S).createElement(eS,{experienceRating:d,setExperienceRating:c,selectedCategories:u,setSelectedCategories:m}),additionalFields:[{id:"customfield_10047",value:(()=>{let e=[];for(let t in u)u[t]&&e.push(t);return JSON.stringify({location:window.location.hostname,userId:p??"",cloudId:g??"",contentId:a,edition:b??"",environment:E??"","Experience Rating":d,"Feedback Categories":e.length?e:void 0},null,2)})()}],onClose:h,onSubmit:()=>{t.showSuccessCircleFlag({id:"object-sidebar-components.feedback-collector.success-flag",title:i(ep.successFlagTitle),description:i(ep.successFlagDescription),isAutoDismiss:!0})}})))}),eh=(e,t,a)=>{let{setActiveFeature:o,openAudioPlayer:i}=(0,n("9s8in").useAudioPlayerStore)();(0,S.useEffect)(()=>{if(a||!new URLSearchParams(window.location.search).get("audioShare"))return;let{feature:r,supportingContent:s}=(0,n("eq3pJ").parseAudioShareLink)(window.location.href);o(r),i({...e,supportingContent:s},{isUninitialized:t});let l=new URL(window.location.href);l.searchParams.delete("audioShare"),window.history.replaceState({},"",l.toString())},[o,i,e,a,t])},eC=(0,n("cgtv4").defineMessages)({listen:{id:"audio.audio-player.audio-listen-button.listen",defaultMessage:"Listen"},browserNotSupported:{id:"audio.audio-player.audio-listen-button.browserNotSupported",defaultMessage:"Your browser doesn’t support this feature"}}),eI=({shape:t="default",isDisabled:a,activeContent:o})=>{let[i,r]=(0,S.useState)(!0);(0,S.useEffect)(()=>{"undefined"!=typeof MediaSource&&MediaSource.isTypeSupported("audio/mpeg")||r(!1)},[]);let{formatMessage:s}=(0,n("8C5kA").default)(),[l,d]=(0,S.useState)(!1),{openAudioPlayer:c,isOpen:u}=(0,n("9s8in").useAudioPlayerStore)(),{sendUIEvent:m}=(0,n("dxfEr").usePlatformInstrumentation)(),{state:p}=(0,n("4wsPv").useAudioPlayerStreamingStore)(),f=p.state===n("aU1TP").AudioStreamingState.UNINITIALIZED;eh(o,f,a);let g=(0,S.useCallback)(e=>{m({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:"audioPopup",source:"contentWrapper",attributes:{action:e,contentType:o.contentType??"page"}})},[m,o]),b=s(i?eC.listen:eC.browserNotSupported),E=(0,S.useCallback)(()=>{u||g("openPopup"),c(o,{isUninitialized:f})},[u,g,c,o,f]);return(0,_.jsx)(n("3gadb").default,{content:b,position:"left",children:(0,_.jsx)(n("1qfLF").default,{label:s(eC.listen),appearance:"subtle",icon:l?e(n("8tdj3")):e(n("afBrg")),shape:t,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),onClick:E,testId:"audio-listen-button",isDisabled:a||!i})})},ey=(i=[{defaultValue:null,kind:"LocalArgument",name:"contentId"}],r=[{kind:"Variable",name:"id",variableName:"contentId"}],l={kind:"ScalarField",name:"title"},d={kind:"ScalarField",name:"subType"},u={alias:"emoji",args:[{kind:"Literal",name:"key",value:"emoji-title-published"}],concreteType:"PaginatedJsonContentPropertyList",kind:"LinkedField",name:"properties",plural:!1,selections:[{concreteType:"JsonContentProperty",kind:"LinkedField",name:"nodes",plural:!0,selections:[s={kind:"ScalarField",name:"id"},c={kind:"ScalarField",name:"value"}]}],storageKey:'properties(key:"emoji-title-published")'},g={concreteType:"LinksDownloadEdituiWebuiContextSelfTinyuiCollectionBase",kind:"LinkedField",name:"links",plural:!1,selections:[{kind:"ScalarField",name:"webui"},{kind:"ScalarField",name:"base"}]},{fragment:{argumentDefinitions:i,kind:"Fragment",name:"useAudioContentQuery",selections:[{args:r,concreteType:"Content",kind:"LinkedField",name:"singleContent",plural:!1,selections:[s,l,d,u,{concreteType:"History",kind:"LinkedField",name:"history",plural:!1,selections:[{kind:"LinkedField",name:"createdBy",plural:!1,selections:f=[m={kind:"ScalarField",name:"displayName"},p={concreteType:"Icon",kind:"LinkedField",name:"profilePicture",plural:!1,selections:[{kind:"ScalarField",name:"path"}]}]},{kind:"LinkedField",name:"ownedBy",plural:!1,selections:f}]},g,b={args:[{kind:"Literal",name:"keys",value:["emoji-title-published"]}],concreteType:"PaginatedJsonContentPropertyList",kind:"LinkedField",name:"properties",plural:!1,selections:[{concreteType:"JsonContentProperty",kind:"LinkedField",name:"nodes",plural:!0,selections:[c]}],storageKey:'properties(keys:["emoji-title-published"])'}]}],type:"Query"},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"useAudioContentQuery",selections:[{args:r,concreteType:"Content",kind:"LinkedField",name:"singleContent",plural:!1,selections:[s,l,d,u,{concreteType:"History",kind:"LinkedField",name:"history",plural:!1,selections:[{kind:"LinkedField",name:"createdBy",plural:!1,selections:E=[{kind:"ScalarField",name:"__typename"},m,p]},{kind:"LinkedField",name:"ownedBy",plural:!1,selections:E}]},g,b]}]},params:{cacheID:"a6a1155d6eebc5efc8e5615e2d97aa24",id:"f2739beff27e3783ad844c748270919f3750326ef1332e004ac8b19de37fc1ef",metadata:{},name:"useAudioContentQuery",operationKind:"query",text:'query useAudioContentQuery($contentId:ID!){singleContent(id:$contentId){id,title,subType,emoji:properties(key:"emoji-title-published"){nodes{id,value}},history{createdBy{__typename,displayName,profilePicture{path}},ownedBy{__typename,displayName,profilePicture{path}}},links{webui,base},properties(keys:["emoji-title-published"]){nodes{value}}}}'}});ey.hash="a4d4454b668c7e4700edcccaf4bfb5b4";let eA=({contentId:e})=>{let{data:t}=(0,n("jMyy4").useQueryInterop)(ey,{variables:{contentId:e},skip:!e});return{data:t}},eT=({isRovoButtonEnabled:t,contentId:n,contentType:a,spaceKey:o,title:i})=>{let{data:r}=eA({contentId:n}),s=r?.singleContent?.history?.ownedBy?.displayName,l=r?.singleContent?.history?.createdBy?.displayName,d=r?.singleContent?.history?.ownedBy?.profilePicture?.path,c=r?.singleContent?.history?.createdBy?.profilePicture?.path,u=r?.singleContent?.links?.base||"",m=r?.singleContent?.links?.webui||"",p=s&&"page"===a,f=p?s:l,g=p?d:c,b=u+m,E=r?.singleContent?.properties?.nodes?.[0]?.value,_=r?.singleContent?.subType,h=(0,S.useMemo)(()=>({contentId:n,contentType:a,subType:_,spaceKey:o,title:i,author:f,avatarUrl:g,supportingContent:[],mainContentLink:b,emojiId:E}),[n,a,_,o,i,f,g,E,b]);return e(S).createElement(eI,{shape:t?"default":"circle",activeContent:h,isDisabled:!r?.singleContent})},ev=(0,n("jmjWc").LoadableLazy)({__loadable_id__:"hFsXW",name:"ObjectSidebarSpotlightTour",loader:async()=>(await n("7mgQ0")).ObjectSidebarSpotlightTour}),ew=(0,n("ecnYn").xcss)({padding:"space.100",boxShadow:"elevation.shadow.raised",backgroundColor:"elevation.surface.raised",borderRadius:"radius.full"}),ex=(0,n("ecnYn").xcss)({padding:"space.100",boxShadow:"elevation.shadow.raised",backgroundColor:"elevation.surface.raised",borderRadius:"radius.xlarge"}),eP=(0,n("ecnYn").xcss)({paddingTop:"space.100",marginBottom:"space.050"}),ek=(0,n("ecnYn").xcss)({borderBottom:"var(--ds-border-width-selected, 2px) solid var(--ds-border, #0B120E24)",display:"inline-block",width:"16px",height:"1px"}),eO=(0,n("cgtv4").defineMessages)({expandToggleLabel:{id:"object-sidebar-components.expand-toggle-label",defaultMessage:"Expand action bar"},collapseToggleLabel:{id:"object-sidebar-components.collapse-toggle-label",defaultMessage:"Collapse action bar"}}),eL=(0,S.memo)(({hasCommentsButton:t,hasDetailsButton:a,hasLoomButton:o,hasAiButton:i,undoRedoButtonActions:r,hasUndoRedoButton:s,showDiffButtonActions:l,hasAudioButton:d,hasFeedbackButton:c=!0,contentId:u,spaceKey:m,contentType:p,contentTitle:f,lastModifiedDate:g,aiIsStreaming:b=!1,pageCommentsSectionInView:E,isUnpublishedDraft:_,largeBottomPadding:h,editorAIActions:v,shouldDisableUndoRedo:w=!1,isDatabasesStagingArea:x=!1})=>{let[{isCollabOffline:P}]=(0,n("kM55L").useCollabNetworkStatus)(),k=P&&(0,n("6mKj3").expVal)("platform_editor_offline_editing_web","isEnabled",!1)&&!(0,n("9wGTI").fg)("platform_editor_offline_editing_wrapper_override"),{isFullScreenEmbedView:O}=(0,n("iV5Ic").useReactProps_DO_NOT_USE)()||{},{formatMessage:L}=(0,n("8C5kA").default)(),[R,N]=(0,S.useState)(!1),D=(0,n("aWwYt").useSidebarControlState)(),j=(0,n("aWwYt").useSidebarControlExpandCollapsedState)(),{setSidebarControlState:V,toggleObjectSidebarControl:B,setSidebarControlExpandCollapsedState:F}=(0,n("aWwYt").useObjectSidebarActions)(),G=(0,n("aSsfA").useGetPageMode)(),z=(0,n("eNjW4").useIsLoomDisabled)(),{width:H}=(0,n("jln20").useRightSidebarContext)().getCurrent()||{},{width:K}=(0,n("3qFIQ").usePreviewPanelsState)(),{mode:Q}=(0,n("8unJx").useRovoExperienceAPIStore)(),Y=(0,n("8uM2K").useAIRovoButtonEnablement)(),{isMobileApp:J}=(0,n("bj5fB").useIsMobileApp)(),Z=(0,n("dPJCf").useRouteName)({selector:e=>!!e&&e===n("1NBp8").PDF_EXPORT_PAGE.name}),ee=(0,n("3jwuS").useIsCurrentPageLive)(),[{isViewMode:et}]=(0,n("efvKr").useLivePageMode)(),ea=(0,n("e4o8D").useRenderServerPlaceholder)();(0,S.useEffect)(()=>{F("expanded")},[u,F]),(0,S.useEffect)(()=>(V("shown"),F("expanded"),()=>{F("collapsed")}),[V,F]);let eo="expanded"===j||ea,ei=[],er=[];if(s&&r&&!et&&(0,n("9wGTI").fg)("platform_editor_ai_aifc_streaming")&&(!(0,n("9wGTI").fg)("platform_editor_toolbar_aifc_undo_redo_confluence")||x)){let{canUndo:t,undo:n,canRedo:a,redo:o}=r;n&&void 0!==t&&er.push(e(S).createElement(es,{canUndo:t,undo:n,isDisabled:b||w})),o&&void 0!==a&&er.push(e(S).createElement(el,{canRedo:a,redo:o,isDisabled:b||w}))}if(l&&!et&&(0,n("9wGTI").fg)("platform_editor_ai_aifc_streaming")&&(!(0,n("9wGTI").fg)("platform_editor_toolbar_aifc_undo_redo_confluence")||x)){let{onShowDiff:t,isShowDiffEnabled:n,isShowDiffSelected:a}=l;er.push(e(S).createElement(ec,{isShowDiffSelected:a,isShowDiffEnabled:n&&!b,onShowDiff:t}))}let ed=[],eu=[];(0,n("9wGTI").fg)("platform_editor_ai_aifc_streaming")?(t&&(0,n("9wGTI").fg)("confluence-frontend-comments-panel")&&(eu.push(e(S).createElement(W.CommentPanelButton,{contentId:u,isDisabled:k})),eo||ei.push(e(S).createElement(W.CommentPanelButton,{contentId:u,collapsed:!0,isDisabled:k}))),a&&(eu.push(e(S).createElement(X,{contentId:u,isDisabled:k})),eo||ei.push(e(S).createElement(X,{contentId:u,collapsed:!0,isDisabled:k}))),d&&((0,n("9wGTI").fg)("confluence_audio_briefings_v3")?eu.push(e(S).createElement(eT,{isRovoButtonEnabled:Y,contentId:u,contentType:p??"",spaceKey:m??"",title:f??""})):eu.push(e(S).createElement(q,{contentId:u,contentType:p,spaceKey:m,contentTitle:f,isDisabled:k,isView:G===n("cD1qu").PageMode.VIEW}))),o&&!z&&eu.push(e(S).createElement(y.PageHeaderLoomEntryPoint,{contentId:u,crossSellPopupPlacement:"left-end",spaceKey:m??"",contentType:p??"",isCircle:!Y,testId:"sidebar-loom-button",source:"contentWrapper",isDisabled:k})),v&&eu.push(e(S).createElement(en,{editorAIActions:v,isDisabled:b}))):(t&&(0,n("9wGTI").fg)("confluence-frontend-comments-panel")&&(er.push(e(S).createElement(W.CommentPanelButton,{contentId:u,isDisabled:k})),eo||ei.push(e(S).createElement(W.CommentPanelButton,{contentId:u,collapsed:!0,isDisabled:k}))),a&&(er.push(e(S).createElement(X,{contentId:u,isDisabled:k})),eo||ei.push(e(S).createElement(X,{contentId:u,collapsed:!0,isDisabled:k}))),d&&((0,n("9wGTI").fg)("confluence_audio_briefings_v3")?ed.push(e(S).createElement(eT,{isRovoButtonEnabled:Y,contentId:u,contentType:p??"",spaceKey:m??"",title:f??""})):ed.push(e(S).createElement(q,{contentId:u,contentType:p,spaceKey:m,contentTitle:f,isDisabled:k,isView:G===n("cD1qu").PageMode.VIEW}))),o&&!z&&ed.push(e(S).createElement(y.PageHeaderLoomEntryPoint,{contentId:u,crossSellPopupPlacement:"left-end",spaceKey:m??"",contentType:p??"",isCircle:!Y,testId:"sidebar-loom-button",source:"contentWrapper",isDisabled:k})),c&&ed.push(e(S).createElement(e_,{contentId:u,isDisabled:k})));let em=(0,S.useMemo)(()=>G===n("cD1qu").PageMode.VIEW||G===n("cD1qu").PageMode.LIVE&&et?{experience:n("dppWL").RegisteredExperience.VIEW_PAGE,provider:M}:G!==n("cD1qu").PageMode.EDIT&&(G!==n("cD1qu").PageMode.LIVE||et)?void 0:{experience:n("dppWL").RegisteredExperience.EDIT_PAGE,provider:U},[G,et]);if(Z)return null;let ep=G===n("cD1qu").PageMode.VIEW&&H?H:0,ef=G===n("cD1qu").PageMode.VIEW&&K?K:0,eg=(0,n("1iSzD").isEmbeddedConfluence_DO_NOT_USE)(),eb=eg?x||O:!eg,eE=(0,n("9wGTI").fg)("cc_modernize_ga_changeboarding")?e(S).Fragment:n("6cnUO").default,eS=!i&&!eo,eh=eo&&R||i&&!eo,eC=i&&eb&&!J,eI=eC&&Y&&Q===n("hR4U4").ConversationAssistantUIModes.MINI_MODAL,ey=L(eo?eO.collapseToggleLabel:eO.expandToggleLabel),eA=e(S).createElement(n("3gadb").default,{position:"left",content:L(eO.expandToggleLabel),hideTooltipOnClick:!0},e(S).createElement(n("1qfLF").default,{appearance:"subtle",icon:t=>e(S).createElement(e(n("2AytZ")),{...t,size:"small"}),label:ey,onClick:B,shape:"circle",testId:"integrated-expand-button"}));return e(S).createElement(e(S).Fragment,null,e(S).createElement("div",{"data-testid":"object-sidebar-container","data-vc":"object-sidebar-container",style:{marginRight:ep+ef},onMouseEnter:()=>{N(!0)},onMouseLeave:()=>{N(!1)},className:(0,n("gMc0m").default)(["_kqsw1n9t _1xi2idpf _94n5idpf _1pbyowjs _lcxvglyw _w1y61wug",("page"===p||"blogpost"===p||G===n("cD1qu").PageMode.VIEW)&&"_u5f31ejb _n3tdu2gc","database"===p&&"_u5f3u2gc _n3tdu2gc",h&&"_n3td1ejb",eI&&"_1pby16oo",G===n("cD1qu").PageMode.VIEW&&!eI&&!(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")&&"_1pbykb7n",G===n("cD1qu").PageMode.VIEW&&!eI&&(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")&&"_1pbycs5v",!ea&&"hidden"===D&&"_1e0cglyw"])},er.length+ed.length+eu.length>0&&eb&&!J&&(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")&&e(S).createElement(eE,null,e(S).createElement(n("5izcQ").default,{name:n("4ZXww").OBJECT_SIDEBAR_TOUR_TARGETS.OBJECT_SIDEBAR_CONTROL},e(S).createElement("div",{className:(0,n("gMc0m").default)(["_1bsboahv _18u01wug"])},e(S).createElement(n("3gadb").default,{position:"left",content:ey,hideTooltipOnClick:!0},e(S).createElement("div",{style:{paddingBottom:eo?"var(--ds-space-100, 8px)":void 0,visibility:eh?"visible":"hidden"},"data-testid":"collapsible-hover-toggle",className:(0,n("gMc0m").default)(["_19pk1wug _2hwx1wug _otyr1wug _18u01wug _1bsbxy5q"])},e(S).createElement(n("1qfLF").default,{appearance:"subtle",icon:t=>eo?e(S).createElement(e(n("ghftu")),{...t,size:"small"}):e(S).createElement(e(n("2AytZ")),{...t,size:"small"}),label:ey,onClick:()=>{B(),N(!eo)},shape:"circle",testId:"collapsible-hover-button"}))),e(S).createElement(n("5izcQ").default,{name:n("3oZ9l").OBJECT_SIDEBAR_SPOTLIGHT_TARGET},e(S).createElement("div",null,eo||ea?e(S).createElement(eR,{actionBarIsHovered:R},e(S).createElement(n("bUlM5").default,{xcss:Y?ex:ew,direction:"column",gap:"space.100",justifyContent:"center",alignItems:"center",testId:"object-sidebar-control"},er,(0,n("9wGTI").fg)("platform_editor_ai_aifc_streaming")?e(S).createElement(e(S).Fragment,null,er.length>0&&eu.length>0&&e(S).createElement(n("6f0Oj").default,{xcss:ek}),eu):e(S).createElement(e(S).Fragment,null,ed.length>0&&e(S).createElement(n("6f0Oj").default,{xcss:ek}),ed))):e(S).createElement(e(S).Fragment,null,ei))),eS?e(S).createElement(n("bUlM5").default,{xcss:Y?ex:ew,direction:"column",gap:"space.100",justifyContent:"center",alignItems:"center",testId:"object-sidebar-control"},eA):null)),e(S).createElement(n("2Fndw").default,null,e(S).createElement(ev,{contentId:u}))),eC&&(Y?e(S).createElement("div",{className:(0,n("gMc0m").default)(["_ca0qu2gc _otyrpxbi _18u0t94y"])},e(S).createElement(T.RovoConfigProvider,{experience:em?.experience,provider:em?.provider,contentId:u,contentType:p??"",spaceKey:m??"",contentTitle:f??"",lastModifiedDate:g,isUnpublishedDraft:_}),e(S).createElement(C.AISmartButtonWrapper,{contentId:u,contentType:p??"",pageMode:G,isDisabled:k})):"database"!==p&&e(S).createElement(n("6f0Oj").default,{xcss:eP},e(S).createElement(I.AIFloatingContextMenu,{spaceKey:m??"",contentId:u,contentType:p??"",lastModifiedDate:g,pageCommentsSectionInView:E,isLivePage:ee,isInObjectSideBar:!0})))),e(S).createElement(A.PageSegmentLoadEnd,{metric:n("fgdVB").OBJECT_SIDEBAR_CONTROL_METRIC}))}),eR=({children:t,actionBarIsHovered:a})=>(0,n("6mKj3").expValEquals)("cc-motion-survey-experiment","cohort","experiment")?e(S).createElement(h,{duration:"medium",enteringAnimation:"fade-in-from-bottom",exitingAnimation:"fade-out-from-top",animationTimingFunction:"ease-in-40-out"},n=>e(S).createElement("div",{...a?n:{},"data-testid":"action-bar-animation-wrapper"},t)):e(S).createElement(e(S).Fragment,null,t);t.exports.ObjectSidebarControl=eL}),a("5izcQ",function(e,t){var a=n("l998X");n("42omo");let o=({children:e,name:t})=>(0,a.jsx)(n("6cnUO").TargetConsumer,{children:o=>"function"==typeof e?e({targetRef:o?.(t)}):o?(0,a.jsx)(n("QiYCb").default,{name:t,hasNodeResolver:!(0,n("dh538").fg)("platform_design_system_team_onboarding_noderesolve"),getTargetRef:o,children:(0,a.jsx)(a.Fragment,{children:e})}):e});o.displayName="SpotlightTarget",e.exports.default=o}),a("QiYCb",function(t,a){var o=n("l998X"),i=n("42omo"),r=n("e8Hkv");let s=({hasNodeResolver:t,children:a,getTargetRef:s,name:l})=>{let d=(0,i.useRef)(null);return((0,i.useEffect)(()=>{let e=s(l);return t||e(d.current?.firstElementChild),()=>{t||e(void 0)}},[t,l,s]),t)?(0,o.jsx)(e(r),{innerRef:s(l),children:a}):(0,o.jsx)("span",{ref:d,className:(0,n("gMc0m").default)(["_1e0c1bgi"]),children:a})};s.displayName="NodeResolverSpotlightTarget",t.exports.default=s}),a("8unJx",function(e,t){let a={mode:void 0,isMiniModalAvailable:!1,isSidebarAvailable:!0},o=(0,n("1P1Tu").createStore)({name:"rovoExperienceAPIStore",initialState:a,actions:{reset:()=>({setState:e})=>{e(a)},setMode:e=>({setState:t})=>{t({mode:e})},toggleConversationAssistantUIMode:({targetMode:e,sidebarApi:t})=>({getState:a,setState:o})=>{let{mode:i}=a();if(!e){o({mode:void 0}),t.isSidebarOpen()&&t.closeSidebar();return}if(i===e)switch(e){case n("kPbXZ").ConversationAssistantUIModes.SIDEBAR:if(!t.isSidebarOpen())return void t.openSidebar();t.closeSidebar(),o({mode:void 0});return;case n("kPbXZ").ConversationAssistantUIModes.MINI_MODAL:o({mode:void 0});return;default:return}switch(e){case n("kPbXZ").ConversationAssistantUIModes.SIDEBAR:t.isSidebarOpen()||t.openSidebar(),o({mode:n("kPbXZ").ConversationAssistantUIModes.SIDEBAR});return;case n("kPbXZ").ConversationAssistantUIModes.MINI_MODAL:t.isSidebarOpen()&&t.closeSidebar(),o({mode:n("kPbXZ").ConversationAssistantUIModes.MINI_MODAL});return}},setIsMiniModalAvailable:e=>({setState:t})=>{t({isMiniModalAvailable:e})},setIsSidebarAvailable:e=>({setState:t})=>{t({isSidebarAvailable:e})}}}),i=(0,n("9zUhf").createHook)(o);(0,n("9zUhf").createActionsHook)(o),e.exports.useRovoExperienceAPIStore=()=>{let[{mode:e,isMiniModalAvailable:t,isSidebarAvailable:n},{reset:a,toggleConversationAssistantUIMode:o,setIsMiniModalAvailable:r,setIsSidebarAvailable:s}]=i();return{mode:e,reset:a,toggleConversationAssistantUIMode:o,setIsMiniModalAvailable:r,setIsSidebarAvailable:s,isMiniModalAvailable:t,isSidebarAvailable:n}}}),a("kPbXZ",function(e,t){e.exports.ConversationAssistantUIModes={SIDEBAR:"sidebar",MINI_MODAL:"mini-modal"}}),a("hR4U4",function(e,t){e.exports.ConversationAssistantUIModes={SIDEBAR:"sidebar",MINI_MODAL:"mini-modal"}}),a("jln20",function(t,a){var o=n("3u0dr"),i=n("frIzR"),r=n("42omo");function s({sidebars:e,setSidebars:t,triggerButtonRef:a,setTriggerButtonRef:o,hideObjectSidebar:i,hidePreviewPanel:r,isPreviewPanelOpen:s}){let d=e.map((e,t)=>[e.panelId,t]).reduce((e,[t,n])=>(e[t]=n,e),{});return{sidebars:e,open:(a,o,l=!1,c=!0)=>{i(),s&&(0,n("6mKj3").expValEquals)("confluence_preview_panels_exp","isEnabled",!0)&&r();let u=Array.from(e);a in d&&u.splice(d[a],1),(c?Array.prototype.unshift:Array.prototype.push).call(u,{panelId:a,width:o,isCollapsed:!1,isMinimized:l}),t(u)},close:n=>{let a=d[n];if(a>=0){let n=Array.from(e);n.splice(a,1),t(n)}},closeCurrent:()=>{let n=l(e);if(n>=0){let a=Array.from(e);a.splice(n,1),t(a)}},closeAll:()=>{t([])},minimize:n=>{let a=d[n];if(a>=0){let n=Array.from(e);n[a].isMinimized=!0,t(n)}},getCurrent:()=>{let t=l(e);return t>=0?e[t]:null},triggerButtonRef:a,setTriggerButtonRef:o}}function l(e){return 1===e.length?0:e.findIndex(e=>!e.isCollapsed&&!e.isMinimized)}let d=e(r).createContext({sidebars:[],open:()=>{},close:()=>{},closeCurrent:()=>{},closeAll:()=>{},minimize:()=>{},getCurrent:()=>null,triggerButtonRef:null,setTriggerButtonRef:()=>{}}),c=((0,o.isReactCompilerActiveV1)(),()=>(0,r.useContext)(d)),u=(0,o.isReactCompilerActiveV1)()?t=>{let a,o,l,c,u,m=(0,i.c)(12),{children:p}=t;m[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],m[0]=a):a=m[0];let[f,g]=(0,r.useState)(a),[b,E]=(0,r.useState)(null),{hideObjectSidebar:S}=(0,n("aWwYt").useObjectSidebarActions)(),{close:_}=(0,n("4BDAe").usePreviewPanelsActions)(),h=(0,n("gK1lf").useIsPreviewPanelOpen)();m[1]!==S||m[2]!==_||m[3]!==h||m[4]!==f||m[5]!==b?(o=s({sidebars:f,setSidebars:g,triggerButtonRef:b,setTriggerButtonRef:E,hideObjectSidebar:S,hidePreviewPanel:_,isPreviewPanelOpen:h}),m[1]=S,m[2]=_,m[3]=h,m[4]=f,m[5]=b,m[6]=o):o=m[6];let C=o;return m[7]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{let e=()=>{g([])};return window.addEventListener("closeGlobalSidebar",e),()=>{window.removeEventListener("closeGlobalSidebar",e)}},c=[],m[7]=l,m[8]=c):(l=m[7],c=m[8]),(0,r.useEffect)(l,c),m[9]!==p||m[10]!==C?(u=e(r).createElement(d.Provider,{value:C},p),m[9]=p,m[10]=C,m[11]=u):u=m[11],u}:({children:t})=>{let[a,o]=(0,r.useState)([]),[i,l]=(0,r.useState)(null),{hideObjectSidebar:c}=(0,n("aWwYt").useObjectSidebarActions)(),{close:u}=(0,n("4BDAe").usePreviewPanelsActions)(),m=(0,n("gK1lf").useIsPreviewPanelOpen)(),p=(0,r.useMemo)(()=>s({sidebars:a,setSidebars:o,triggerButtonRef:i,setTriggerButtonRef:l,hideObjectSidebar:c,hidePreviewPanel:u,isPreviewPanelOpen:m}),[a,i,c,u,m]);return(0,r.useEffect)(()=>{let e=()=>{o([])};return window.addEventListener("closeGlobalSidebar",e),()=>{window.removeEventListener("closeGlobalSidebar",e)}},[]),e(r).createElement(d.Provider,{value:p},t)};t.exports.useRightSidebarContext=c,t.exports.RightSidebarContextProvider=u}),a("gK1lf",function(e,t){e.exports.useIsPreviewPanelOpen=e=>{let t=(0,n("fN3iy").usePreviewPanelsContext)();return e?t?.state.panel?.id===e:t?.state.panel!=null}}),a("77nKA",function(t,a){var o=n("42omo");let i=(0,n("jmjWc").LoadableAfterPaint)({__loadable_id__:"StaAg",name:"PageHeaderLoomEntryPoint",loader:async()=>(await n("ibBSf")).PageHeaderLoomEntryPoint,loading:({isCircle:t})=>e(o).createElement(n("cxQ7E").LoomPageHeaderPlaceholder,{isCircle:t,isEnabled:!0})});t.exports.PageHeaderLoomEntryPoint=i}),a("cxQ7E",function(t,a){var o=n("3u0dr"),i=n("frIzR"),r=n("42omo");let s=(0,n("ecnYn").xcss)({minWidth:"30px"}),l=(0,o.isReactCompilerActiveV1)()?t=>{let a=(0,i.c)(3),{isCircle:o,isEnabled:l}=t,{entryPointVariant:d}=(0,n("4R3wx").useLoomEntryPointVariant)();if("DISABLED"===d)return null;{let t,i=o?"circle":"default",d=!l;return a[0]!==i||a[1]!==d?(t=e(r).createElement(n("6f0Oj").default,{xcss:s},e(r).createElement(n("1qfLF").default,{appearance:"subtle",shape:i,icon:n("531iT").LoomVideoIcon,testId:"page-header-loom-entry-point-loading-icon","data-vc":"loom-button",isDisabled:d,label:"Record a Loom video"})),a[0]=i,a[1]=d,a[2]=t):t=a[2],t}}:({isCircle:t,isEnabled:a})=>{let{entryPointVariant:o}=(0,n("4R3wx").useLoomEntryPointVariant)();return"DISABLED"===o?null:e(r).createElement(n("6f0Oj").default,{xcss:s},e(r).createElement(n("1qfLF").default,{appearance:"subtle",shape:t?"circle":"default",icon:n("531iT").LoomVideoIcon,testId:"page-header-loom-entry-point-loading-icon","data-vc":"loom-button",isDisabled:!a,label:"Record a Loom video"}))};t.exports.LoomPageHeaderPlaceholder=l}),a("4R3wx",function(e,t){e.exports.useLoomEntryPointVariant=()=>{let e=(0,n("cYe4v").useIsLoomBetaEnabled)(),t=(0,n("eNjW4").useIsLoomDisabled)(),a=(0,n("932VV").useIsLoomEntryPointsEnabled)(),o=!a||e||t||!(0,n("9wGTI").fg)("confluence_frontend_loom_cross_sell"),i=(0,n("dpJII").useLoomPermissionStatus)({skip:o||!!window.__SSR_LOOM_ENTRY_POINT__});return window.__SSR_LOOM_ENTRY_POINT__?window.__SSR_LOOM_ENTRY_POINT__:t||!a?{entryPointVariant:"DISABLED"}:e?{entryPointVariant:"BETA"}:!(0,n("9wGTI").fg)("confluence_frontend_loom_cross_sell")||"CROSS_FLOW"===i.entryPointVariant&&(0,n("9wGTI").fg)("confluence_frontend_loom_cross_flow_ads_opt_out")?{entryPointVariant:"DISABLED"}:i}}),a("932VV",function(e,t){var a=n("j1Ss3");e.exports.useIsLoomEntryPointsEnabled=()=>{let{accessStatus:e,activationId:t,cloudId:o}=(0,n("bQm3c").useSessionData)(),i=e!==n("d9tcB").AccessStatus.LICENSED_ADMIN_ACCESS&&e!==n("d9tcB").AccessStatus.LICENSED_USE_ACCESS,{data:r,error:s,loading:l}=(0,a.useQuery)((0,n("eSUdr").default)`query useIsLoomEntryPointsEnabledQuery($cloudId:ID!){confluence_loomEntryPoints(cloudId:$cloudId){isLoomEntryPointsEnabled}}`,{variables:{cloudId:o},context:{headers:{...(0,n("i8Ofl").createAtlAttributionHeader)(o,t)}},skip:i||!!window.__SSR_LOOM_ENTRY_POINT__});if(!window.__SSR_LOOM_ENTRY_POINT__){if(s)return(0,n("7Sm4c").markErrorAsHandled)(s),!0;if(!l&&r)return r?.confluence_loomEntryPoints?.isLoomEntryPointsEnabled}}}),a("i8Ofl",function(e,t){let n=(e,t)=>`ari:cloud:confluence:${e}:workspace/${t}`;e.exports.createAtlAttributionHeader=(e,t)=>({"atl-attribution":JSON.stringify({atlWorkspaceId:n(e,t),tenantId:e,product:"Confluence Cloud",service:"cc-fe-bifrost"})})}),a("cYe4v",function(e,t){e.exports.useIsLoomBetaEnabled=()=>{let{accessStatus:e}=(0,n("bQm3c").useSessionData)(),t=e===n("d9tcB").AccessStatus.LICENSED_ADMIN_ACCESS||e===n("d9tcB").AccessStatus.LICENSED_USE_ACCESS,a=(0,n("8dwdz").isMobileUserAgent)()||(0,n("8dwdz").shouldShowMobileWeb)();return t&&!a&&(0,n("9wGTI").fg)("confluence_loom_beta_enabled")}}),a("dpJII",function(e,t){var a=n("42omo");e.exports.useLoomPermissionStatus=({skip:e=!1}={})=>{let{cloudId:t,userId:o,environment:i}=(0,n("bQm3c").useSessionData)(),[{loomEntryPointVariant:r},{initLoomEntryPointVariant:s}]=(0,n("5CUwy").useLoomEntryPointVariantState)(),{entryPointVariant:l,loading:d}=r;return((0,a.useEffect)(()=>{!e&&("NONE"!==l||d||s(t,o,i))},[t,s,d,l,e,o,i]),"NONE"===l)?{entryPointVariant:"NONE",loading:!0}:r}}),a("5CUwy",function(e,t){var a,o,i=((a={}).PROVISIONED="provisioned",a.NOT_PROVISIONED="not-provisioned",a.ERROR="error,",a),r=((o={}).PERMITTED="permitted",o.NOT_PERMITTED="not-permitted",o.ERROR="error,",o);let s=async()=>{try{let e=await (0,n("hp2SH").getApolloClient)().query({query:n("4zCDj").GetLicensedProductsQuery});return e.data.confluence_tenantContext?.licensedProducts.some(e=>"loom"===e.productKey&&e.licenseStatus===n("bxT4f").LicenseStatus.ACTIVE)?"provisioned":"not-provisioned"}catch(e){return(0,n("5ZqQS").getMonitoringClient)().submitError(e,{attribution:n("3IBnw").Attribution.CONTENT_TYPES}),(0,n("7Sm4c").markErrorAsHandled)(e),"error,"}},l=async(e,t,a)=>{let o=`ari:cloud:loom::site/${e}`;try{let e;{let t=await (0,n("8J8QJ").postJson)("/gateway/api/permissions/permitted",{permissionId:"write",resourceId:o,checkProductStatus:!0});e=t?.permitted}return e?"permitted":"not-permitted"}catch(e){return(0,n("5ZqQS").getMonitoringClient)().submitError(e,{attribution:n("3IBnw").Attribution.CONTENT_TYPES}),(0,n("7Sm4c").markErrorAsHandled)(e),"error,"}},d={loomEntryPointVariant:window.__SSR_LOOM_ENTRY_POINT__?window.__SSR_LOOM_ENTRY_POINT__:{entryPointVariant:"NONE"}},c=(0,n("1P1Tu").createStore)({initialState:d,actions:{initLoomEntryPointVariant:(e,t,n)=>async({getState:a,setState:o})=>{if("NONE"!==a().loomEntryPointVariant.entryPointVariant)return;o({loomEntryPointVariant:{entryPointVariant:"CROSS_FLOW",loading:!0}});let i=await s();if("not-provisioned"===i)return void o({loomEntryPointVariant:{entryPointVariant:"CROSS_FLOW"}});if("error,"===i)return void o({loomEntryPointVariant:{entryPointVariant:"CROSS_FLOW",error:!0}});o({loomEntryPointVariant:{entryPointVariant:"CROSS_JOIN",loading:!0}});let r=await l(e,t,n);return"not-permitted"===r?void o({loomEntryPointVariant:{entryPointVariant:"CROSS_JOIN"}}):"error,"===r?void o({loomEntryPointVariant:{entryPointVariant:"CROSS_JOIN",error:!0}}):void o({loomEntryPointVariant:{entryPointVariant:"CO_USE"}})},crossFlowSuccessCheck:({cloudId:e,onCrossflowFailure:t,createAnalyticsEvent:a,sourceComponent:o})=>async({setState:i})=>{try{let{ok:r,tries:s}=await (0,n("8999o").waitUntil)({fn:()=>(0,n("lnyJf").fetchLicenseInformation)(e),condition:e=>e.products.loom?.state==="ACTIVE",maxTries:2,retryWait:500});(0,n("cbc8g").addUFOCustomData)({pollingTries:s,hasLoom:r}),r?(i({loomEntryPointVariant:{entryPointVariant:"CO_USE"}}),window.__SSR_LOOM_ENTRY_POINT__={entryPointVariant:"CO_USE"}):t&&t(),a({type:"sendOperationalEvent",data:{actionSubject:"confluenceLoomUtils.fetchLicenseInformation",action:"success",source:"confluenceLoomUtils",attributes:{hasLoom:r,tries:s,sourceComponent:o}}}).fire()}catch(e){t&&t(),a({type:"sendOperationalEvent",data:{actionSubject:"confluenceLoomUtils.fetchLicenseInformation",action:"fail",source:"confluenceLoomUtils",attributes:{error:e.message,sourceComponent:o}}}).fire()}}},name:"loomEntryPointVariantState"}),u=(0,n("9zUhf").createHook)(c),m=(0,n("9zUhf").createActionsHook)(c);e.exports.LoomTenantProvisionStatus=i,e.exports.LoomUserPermissionStatus=r,e.exports.getLoomUserPermissionStatus=l,e.exports.useLoomEntryPointVariantState=u,e.exports.useLoomEntryPointVariantActions=m}),a("8999o",function(e,t){let n=async({fn:e,condition:t,retryWait:n,maxTries:a})=>{let o=0;for(;;){o++;let i=await e(),r=t(i);if(o===a||r)return{ok:r,result:i,tries:o};await new Promise(e=>setTimeout(e,n))}};e.exports.waitUntil=n}),a("lnyJf",function(e,t){e.exports.fetchLicenseInformation=e=>(0,n("8J8QJ").fetchJSON)(`/gateway/api/xflow/${e}/license-information`)}),a("8J8QJ",function(e,t){e.exports.postJson=(e,t)=>{let a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return(0,n("f7B1p").cfetch)(e,a).then(e=>e.json())},e.exports.fetchJSON=e=>(0,n("f7B1p").cfetch)(e,{method:"GET",headers:{Accept:"application/json"}}).then(e=>e.json())}),a("bxT4f",function(e,t){var n,a=((n={}).ACTIVE="ACTIVE",n.SUSPENDED="SUSPENDED",n.UNLICENSED="UNLICENSED",n);e.exports.LicenseStatus=a}),a("4zCDj",function(e,t){let a=(0,n("eSUdr").default)`query GetLicensedProductsQuery{confluence_tenantContext{licensedProducts{licenseStatus productKey}}}`;e.exports.GetLicensedProductsQuery=a}),a("eNjW4",function(e,t){var a=n("5spQU");e.exports.useIsLoomDisabled=()=>{let e=(0,n("lzcvT").isFedRamp)(),t=(0,n("8dwdz").isMobileUserAgent)()||(0,n("8dwdz").shouldShowMobileWeb)(),o=(0,n("9wGTI").fg)("use_frontend_feature_encoding_sdk")?(0,a.isFeatureEnabled)("confluence","confluence-loom-integration"):!e,{accessStatus:i,isLoggedIn:r}=(0,n("bQm3c").useSessionData)(),s=i==n("d9tcB").AccessStatus.LICENSED_ADMIN_ACCESS||i==n("d9tcB").AccessStatus.LICENSED_USE_ACCESS;return!r||!s||!o||!!t}}),a("531iT",function(t,a){var o=n("3u0dr"),i=n("frIzR"),r=n("42omo");let s=(0,o.isReactCompilerActiveV1)()?t=>{let a,o=(0,i.c)(4),s=t.color||"var(--ds-icon-subtle, #505258)",l=t.label||"";return o[0]!==s||o[1]!==l||o[2]!==t?(a=e(r).createElement(e(n("2Yaht")),{...t,color:s,label:l,spacing:"spacious"}),o[0]=s,o[1]=l,o[2]=t,o[3]=a):a=o[3],a}:t=>{let a=t.color||"var(--ds-icon-subtle, #505258)",o=t.label||"";return e(r).createElement(e(n("2Yaht")),{...t,color:a,label:o,spacing:"spacious"})};t.exports.LoomVideoIcon=s}),a("ibBSf",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("6wr18"),a("eufZR"),a("i1fZC"),a("ffEVr"),a("klDll")]).then(()=>n("D7PHQ"))}),a("8uM2K",function(e,t){var a=n("5spQU");e.exports.useAIRovoButtonEnablement=()=>{let{isAdminHubAIEnabled:e,isRovoLLMEnabled:t}=(0,n("bQm3c").useSessionData)();return((0,n("9wGTI").fg)("use_frontend_feature_encoding_sdk")?(0,a.isFeatureEnabled)("confluence","confluence-ai"):!(0,n("lzcvT").isFedRamp)())&&e&&t}}),a("4acD6",function(e,t){let a=(0,n("1P1Tu").createStore)({initialState:{nudges:[]},actions:{setNudges:e=>({setState:t})=>{t({nudges:e})},setButtonClickedTimestamp:e=>({setState:t})=>{t({buttonClickedTimestamp:e})}},name:"AISmartButtonStore"}),o=(0,n("9zUhf").createActionsHook)(a);e.exports.AISmartButtonStore=a,e.exports.useAISmartButtonActions=o}),a("3Am3T",function(t,a){var o=n("42omo");let i=(0,o.createContext)({footerCommentsCount:0,unresolvedInlineCommentsCount:0});t.exports.CommentCountsContext=i,t.exports.CommentCountsProvider=({contentId:t,children:a})=>{let r=(0,n("dDqLo").useCommentCounts)(t);return e(o).createElement(i.Provider,{value:r},a)}}),a("dDqLo",function(e,t){var a=n("42omo");e.exports.useCommentCounts=e=>{let t=(0,n("aPT9H").useCommentCountsLegacy)(e),o=(0,n("4L9ve").useProcessedCommentsDataState)(),{data:i}=(0,n("dkkKv").useActiveCommentsQuery)({pageId:e,skip:!e||(0,n("6mKj3").expVal)("cc_comments_new_comments_data_manager","isEnabled",!1)||!(0,n("6mKj3").expValEquals)("confluence_comment_use_active_comment_query_exp","isEnabled",!0)});return(0,a.useMemo)(()=>o.isDataProcessed&&(0,n("6mKj3").expVal)("cc_comments_new_comments_data_manager","isEnabled",!1)?{unresolvedInlineCommentsCount:o.openInlineComments.length,footerCommentsCount:o.openFooterComments.length}:i?.comments?.nodes&&!(0,n("6mKj3").expVal)("cc_comments_new_comments_data_manager","isEnabled",!1)&&(0,n("6mKj3").expValEquals)("confluence_comment_use_active_comment_query_exp","isEnabled",!0)?{unresolvedInlineCommentsCount:i.comments.nodes.filter(e=>e?.location?.type==="INLINE").length,footerCommentsCount:i.comments.nodes.filter(e=>e?.location?.type==="FOOTER").length}:t||{unresolvedInlineCommentsCount:0,footerCommentsCount:0},[o.isDataProcessed,o.openInlineComments.length,o.openFooterComments.length,i?.comments?.nodes,t])}}),a("aPT9H",function(e,t){var a=n("j1Ss3");e.exports.useCommentCountsLegacy=e=>{let{unresolvedInlineComments:t}=(0,n("k8e76").useInlineCommentsState)(),o=(0,n("l5y3Y").useIsReactionsEnabled)(e),{data:i,error:r}=(0,a.useQuery)(o?n("ftXPY").CommentsSectionQuery:n("ftXPY").CommentsSectionWithoutReactionsQuery,{variables:{contentId:e,offset:"",first:100},fetchPolicy:window.__SSR_RENDERED__&&(0,n("9wGTI").fg)("confluence_frontend_remove_comments_placeholder")?"cache-first":void 0,skip:(0,n("9wGTI").fg)("confluence_comment_use_active_comment_query")||(0,n("6mKj3").expVal)("cc_comments_new_comments_data_manager","isEnabled",!1)||!e});if(r&&(0,n("7Sm4c").markErrorAsHandled)(r),!((0,n("9wGTI").fg)("confluence_comment_use_active_comment_query")||(0,n("6mKj3").expVal)("cc_comments_new_comments_data_manager","isEnabled",!1)))return{unresolvedInlineCommentsCount:(t&&t.length)??0,footerCommentsCount:(i&&i.comments?.totalCount)??0}}}),a("l5y3Y",function(e,t){e.exports.useIsReactionsEnabled=e=>{let t=(0,n("dPJCf").usePathnameMatcher)({selector:e=>e?.indexOf("/wiki/pdf/")!==-1}),a={variables:{contentId:e,location:n("eSLr0").ATL_PAGE_CONTENT_FOOTER_ACTIONS},skip:t},{data:o}=(0,n("6mKj3").expValEquals)("confluence_stop_watching_webpanellocationquery","isEnabled",!0)?(0,n("jtuBN").useQueryNoFurtherUpdateInterop)(n("8pvtc").WebPanelLocationQuery,a):(0,n("xQxzY").useQuery)(n("8pvtc").WebPanelLocationQuery,{...a,fetchPolicy:"cache-first"});return!t&&!!o?.webPanels?.length}}),a("02cx8",function(e,t){let a=(0,n("1P1Tu").createStore)({initialState:{actions:[]},actions:{setActions:e=>({setState:t})=>{t({actions:e})},setContext:e=>({setState:t})=>{t({context:e})},removeContext:()=>({setState:e})=>{e({context:void 0})},removeActions:()=>({setState:e})=>{e({actions:[]})}},name:"EditorRovoButtonActionsStore"}),o=(0,n("9zUhf").createActionsHook)(a),i=(0,n("9zUhf").createStateHook)(a,{selector:e=>e.actions}),r=(0,n("9zUhf").createStateHook)(a,{selector:e=>e.context});e.exports.useEditorRovoButtonActions=o,e.exports.useEditorRovoButtonActionsActions=i,e.exports.useEditorRovoButtonActionsContext=r}),a("hji5f",function(e,t){var a=n("42omo");e.exports.useAudioBriefingChangeboarding=({contentId:e,onShow:t,skip:o})=>{let[i,r]=(0,a.useState)(!1),{readTime:s}=(0,n("h2uld").useReadTime)(e),{cloudId:l,userId:d}=(0,n("bQm3c").useSessionData)(),c=(0,n("8Lx5S").useIsLicensed)(),{data:u,loading:m}=(0,n("gqypm").useExperimentalSiteUserPersonalization)({variables:{cloudId:l,userId:d},skip:!c||!d}),p=u?.experimentalSiteUserPersonalization?.attributes,f=p?.find(({name:e})=>"confluence_first_active"===e)?.value,g=f?new Date(f):null,{shouldExclude:b}=(0,n("6vgLy").useShouldExcludeUser)({checkDate:g,daysThreshold:28}),E=!(0,n("9wGTI").fg)("confluence_audio_briefing_changeboarding")||o||!(s&&s>=3)||(0,n("9wGTI").fg)("cc_activation_hide_changeboarding_for_new_users")&&(b||m),S=(0,n("9wGTI").fg)("cc_modernize_ga_changeboarding")?[n("d282Z").ONBOARDING_INSIGHTS.AUDIO_BRIEFING,n("9DBk6").LIVE_DOC_CHANGEBOARDING_ONBOARDING_STATE_KEYS.hasDismissedContentWrapperTour]:[n("d282Z").ONBOARDING_INSIGHTS.AUDIO_BRIEFING],{data:_,loading:h,error:C}=(0,n("ivb8S").useGetOnboardingState)(S,E),{setOnboardingState:I}=(0,n("ivb8S").useSetOnboardingState)(),{hasAudioBriefingChangeboardingBeenSeen:y,hasDismissedContentWrapperTour:A}=(0,n("ivb8S").deserializeState)(_),T=(0,a.useMemo)(()=>{let e=!(0,n("9wGTI").fg)("cc_modernize_ga_changeboarding")||A;return!!(!E&&!h&&!C&&e&&!y)},[h,C,A,y,E]);return(0,a.useEffect)(()=>{if(r(!1),T){let e=setTimeout(()=>{r(!0),t()},3e3);return()=>clearTimeout(e)}},[e,T,t]),{showChangeboarding:i,handleCloseChangeboarding:(0,a.useCallback)(()=>{I({key:n("d282Z").ONBOARDING_INSIGHTS.AUDIO_BRIEFING,value:"true"}),r(!1)},[I])}}}),a("6vgLy",function(e,t){e.exports.useShouldExcludeUser=({checkDate:e,daysThreshold:t=14,cutoffDate:a})=>{if(!e)return{shouldExclude:!0,isNewlyCreatedUser:!1,isNewUserAfterCutoffDate:!1};let o=(0,n("e0SBo").default)((0,n("922yL").default)(e,t),new Date),i=!!(a&&(0,n("cFEpk").default)(a))&&(0,n("e0SBo").default)(e,a);return{shouldExclude:o||i,isNewlyCreatedUser:o,isNewUserAfterCutoffDate:i}}}),a("922yL",function(e,a){t(e.exports,"default",()=>o);function o(e,t){(0,n("b5utg").default)(2,arguments);var a=(0,n("egXhZ").default)(e),o=(0,n("jZ39j").default)(t);return isNaN(o)?new Date(NaN):(o&&a.setDate(a.getDate()+o),a)}}),a("e0SBo",function(e,a){t(e.exports,"default",()=>o);function o(e,t){(0,n("b5utg").default)(2,arguments);var a=(0,n("egXhZ").default)(e),o=(0,n("egXhZ").default)(t);return a.getTime()>o.getTime()}}),a("gqypm",function(e,t){e.exports.useExperimentalSiteUserPersonalization=({variables:e,skip:t})=>(0,n("dK51B").useExperimentalQuery)({url:({cloudId:e,userId:t})=>`/gateway/api/tap-delivery/api/v3/personalization/site/${e}/user/${t}`,method:"GET",variables:e,parseResult:e=>({experimentalSiteUserPersonalization:{attributes:(0,n("CIjCq").stringifyPersonalizationAttributes)(e.attributes)}}),skip:t})}),a("CIjCq",function(e,t){e.exports.stringifyPersonalizationAttributes=function(e){return e?e.map(e=>({...e,value:String(e.value)})):[]}}),a("hBvuf",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("7t5Ax"),a("lVBal"),a("3ZAtx"),a("2Gceu"),a("lLK0D"),a("fisfU"),a("hhss7"),a("Wowvf"),a("6wr18"),a("kjZZD"),a("ht5OT"),a("sj9Xz"),a("ffEVr"),a("7EorR"),a("aEk9k")]).then(()=>n("e1z3L"))}),a("4ZXww",function(e,t){let n="object-sidebar-tour-target:",a={MORE_ACTIONS_ITEMS:`${n}more-actions-items`,OBJECT_SIDEBAR_CONTROL:`${n}object-sidebar-control`,SIDEBAR_DETAILS_BUTTON:`${n}sidebar-details-button`};e.exports.OBJECT_SIDEBAR_TOUR_TARGETS=a}),a("3D12W",function(t,a){var o=n("42omo"),i=n("cMvMc"),r=n("5fMeR"),s=n("8Q7Uc"),l=n("iBnoc"),d=n("6GD8y");let c=(0,n("cgtv4").defineMessages)({openCommentsPanelLabel:{id:"object-sidebar-components.open.comments.panel.label",defaultMessage:"Open Comments Panel"},viewAllCommentsLabel:{id:"object-sidebar-components.view.all.comments",defaultMessage:"View all comments"},showCommentsLabel:{id:"object-sidebar-components.show.comments.label",defaultMessage:"Show comments"},unreadCommentsLabel:{id:"object-sidebar-components.unread.comments.icon.label",defaultMessage:"You have unread comments"}});t.exports.CommentPanelButton=({contentId:t,collapsed:a,testId:u,isStandaloneComment:m=!1,isDisabled:p=!1,isViewAllIcon:f=!1})=>{let g=(0,n("aSsfA").useGetPageMode)(),{commentsMarkedAsRead:b}=(0,n("3mVfX").useCommentsPanelState)(),{resetInitialDataLoadedMap:E}=(0,n("3mVfX").useCommentsPanelActions)(),{showCommentsPanel:S}=(0,r.useShowCommentsPanel)(),{viewProps:_,selectionProps:h,hoverProps:C,editorViewProps:I,editorCreateProps:y,showCreateComponent:A,selectionOptions:T}=(0,n("cZa7r").useAnnotations)(),{setViewProps:v,setSelectionProps:w,setHoverProps:x,setEditorViewProps:P,setEditorCreateProps:k,setShowCreateComponent:O,setSelectionOptions:L}=(0,n("cZa7r").useAnnotationsDispatch)(),{hideObjectSidebar:R}=(0,n("aWwYt").useObjectSidebarActions)(),N=(0,n("aWwYt").usePanel)(),{hasContentChanged:D}=(0,n("bSvtO").useCommentsContentState)(),{resetContentChanged:M}=(0,n("bSvtO").useCommentsContentActions)(),j=g===n("cD1qu").PageMode.VIEW?(0,n("gczDe").getRendererAnnotationEventEmitter)():(0,n("gfqXk").getEditorAnnotationEventEmitter)(),{newCommentHighlight:U,activeHighlight:V}=(0,n("9jl6v").useInlineCommentsContext)(),{createAnalyticsEvent:B}=(0,n("inPa6").useAnalyticsEvents)(),{showModal:F}=(0,n("8aF6s").useDialogs)(),{formatMessage:G}=(0,n("8C5kA").default)(),[{isViewMode:q,isEditMode:z}]=(0,n("efvKr").useLivePageMode)(),[W]=(0,n("ep3mz").useContentType)(),H=(0,n("8uM2K").useAIRovoButtonEnablement)(),{closeCommentContainer:K}=(0,n("fNzRA").useObjectCommentDispatchContext)(),{expanded:Q}=(0,n("fNzRA").useObjectCommentContext)(),Y=(0,n("7aw3q").useEmbeddedComments)(),{unreadCommentIDSet:J}=(0,n("fHAwL").useUnreadCommentsState)(),Z=(0,n("4tOXV").useShortcutStrings)({shortcut:n("gnkil").UNIVERSAL_TOGGLE_INLINE_COMMENTS_SHORTCUT,isEditorShortcut:"edit"===g||z}),X=W!==n("1ggpj").ContentType.DATABASE,ee=(0,o.useCallback)(()=>{_&&(j.emit(n("21K7m").AnnotationUpdateEvent.DESELECT_ANNOTATIONS),j.emit(n("21K7m").AnnotationUpdateEvent.REMOVE_ANNOTATION_FOCUS),v(null)),A&&T&&(O(!1),L(void 0)),I&&(j.emit("setselectedannotation",""),P(null)),h&&(h.onClose(),w(null)),C&&(C.onClose(),x(null)),y&&(y?.onClose&&y.onClose(),k(null)),(U||V)&&window.dispatchEvent(new Event("closeLegacyInlineCommentSidebar")),Q&&!(0,n("9wGTI").fg)("confluence_comment_panel_close_footer")&&K(),N?.id==="commentsPanel"?R():S()},[j,_,I,h,C,U,V,v,P,w,x,S,R,N,y,K,Q,k,A,T,O,L]),et=(0,o.useCallback)(({triggeredByKeyboardShortcut:e=!1,isViewAllIcon:t=!1}={})=>()=>{t||(D?F(i.CommentWarningDialog,{onConfirm:()=>{M(),ee(),(0,n("9wGTI").fg)("confluence_comments_reset_data_on_comment_discard")&&E()}}):ee(),B({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"commentsPanel",source:"contentWrapper",attributes:{triggeredByKeyboardShortcut:e,contentType:W,pageMode:g}}}).fire())},[D,ee,M,E,F,B,W,g]),en=e(o).createElement(e(o).Fragment,null,("view"===g||q)&&e(o).createElement(d.GeneralShortcutListener,{deprecatedAccelerator:n("gnkil").TOGGLE_INLINE_COMMENTS_SHORTCUT_RENDERER,accelerator:n("gnkil").UNIVERSAL_TOGGLE_INLINE_COMMENTS_SHORTCUT,listener:et({triggeredByKeyboardShortcut:!0})}),("edit"===g||z)&&e(o).createElement(d.GeneralShortcutListener,{accelerator:n("gnkil").UNIVERSAL_TOGGLE_INLINE_COMMENTS_SHORTCUT,listener:et({triggeredByKeyboardShortcut:!0})}));return a?en:e(o).createElement("div",{"data-testid":u||"object-sidebar-comments-button-id","data-vc":"object-sidebar-comments-button",className:(0,n("gMc0m").default)(["_kqswh2mm"])},e(o).createElement(n("3gadb").default,{position:"left",content:X&&!(0,n("9wGTI").fg)("platform_tooltip_shortcuts_migration_1")?e(o).createElement(n("4tOXV").ShortcutVisualizer,{shortcut:n("gnkil").UNIVERSAL_TOGGLE_INLINE_COMMENTS_SHORTCUT,contentBefore:G(c.showCommentsLabel),isEditorShortcut:"edit"===g||z,isTooltip:!0}):e(o).createElement(n("gtD4K").default,c.showCommentsLabel),shortcut:X&&(0,n("9wGTI").fg)("platform_tooltip_shortcuts_migration_1")?Z:void 0,delay:0,hideTooltipOnClick:!0},Y&&e(o).createElement(e(o).Fragment,null,e(o).createElement(n("1qfLF").default,{onClick:et({isViewAllIcon:f}),appearance:"subtle",spacing:m?"compact":void 0,shape:H?"default":"circle",icon:m&&(0,n("6mKj3").expValEquals)("confluence_comments_cohiti_panel_icon_update","isEnabled",!0)?e(n("jypE9")):e(n("1yB28")),label:G(c.openCommentsPanelLabel),testId:"sidebar-comments-button",interactionName:"view-comments-menu-action",...(0,n("6mKj3").expVal)("confluence_frontend_comments_a11y_kb_exp","isEnabled",!1)?{ariaLabel:G(c.viewAllCommentsLabel)}:{},isDisabled:p&&(0,n("6mKj3").expVal)("platform_editor_offline_editing_web","isEnabled",!1)}),(0,n("9wGTI").fg)("confluence_frontend_unread_comments_fixes")?!m&&J?.size>0&&e(o).createElement(l.UnreadIndicator,null):e(o).createElement(s.UnreadCommentCount,{pageId:t,pageMode:"view"===g?"view":"edit",commentsMarkedAsRead:b,isStandaloneComment:m})),!m&&en))}}),a("5fMeR",function(e,t){var a=n("42omo"),o=n("cMvMc");let i=(0,n("jmjWc").LoadableLazy)({__loadable_id__:"Cp4VO",name:"CommentsPanelFilterMenu",loader:async()=>(await n("fLkVA")).CommentsPanelFilterMenu}),r=(0,n("jmjWc").LoadableLazy)({__loadable_id__:"V6uhH",name:"CommentsPanelFooter",loader:async()=>(await n("ciyfl")).CommentsPanelFooter}),s=(0,n("jmjWc").LoadableLazy)({__loadable_id__:"EqpEC",name:"CommentsPanelHeaderIcon",loader:async()=>(await n("jpT9Z")).CommentsPanelHeaderIcon}),l=(0,n("jmjWc").LoadableLazy)({__loadable_id__:"r3W5r",name:"CommentsPanelWrapper",loader:async()=>(await n("7js2L")).CommentsPanelWrapper}),d=(0,n("cgtv4").defineMessages)({commentsPanelHeaderLabel:{id:"comments-panel.panel.header.label",defaultMessage:"Comments"}});e.exports.useShowCommentsPanel=()=>{let e=(0,n("gEtAQ").isSpaceOverview)(),t=(0,n("gEtAQ").isDatabase)(),c=(0,n("gEtAQ").isWhiteboard)(),{handleMarkCommentsAsRead:u}=(0,n("9buj5").useUnreadPanelComments)(),{contentStatus:m}=(0,n("htsj6").useContentStatus)(),[p,f]=(0,a.useState)(!1),g=(0,n("aWwYt").useIsObjectSidebarShown)(),b=(0,n("aWwYt").usePanel)(),{showObjectSidebar:E,hideObjectSidebar:S}=(0,n("aWwYt").useObjectSidebarActions)(),{setViewProps:_,setEditorViewProps:h}=(0,n("cZa7r").useAnnotationsDispatch)(),{setCurrentView:C,setCurrentlySelectedThreadKey:I,setReplyToCommentId:y}=(0,n("3mVfX").useCommentsPanelActions)(),[A]=(0,n("ep3mz").usePageContentId)(),{canAddComments:T}=(0,n("dANtQ").useAddCommentPermissionCheck)(A??"",!0),v=(0,n("aSsfA").useGetPageMode)(),w=v===n("cD1qu").PageMode.VIEW?(0,n("gczDe").getRendererAnnotationEventEmitter)():(0,n("gfqXk").getEditorAnnotationEventEmitter)(),x=(0,a.useContext)(n("1kHsc").ExperienceTrackerContext),{showModal:P}=(0,n("8aF6s").useDialogs)(),{hasContentChanged:k}=(0,n("bSvtO").useCommentsContentState)(),{resetContentChanged:O}=(0,n("bSvtO").useCommentsContentActions)(),L=(0,n("7aw3q").useEmbeddedComments)(),R=(0,a.useRef)(k);(0,a.useEffect)(()=>{R.current=k},[k]),(0,a.useEffect)(()=>{if(!(0,n("9wGTI").fg)("confluence_frontend_unread_comments_fixes"))return p&&u(),()=>{f(!1)}},[p,f]);let N=()=>{C(void 0),f(!0),v===n("cD1qu").PageMode.VIEW?(w.emit(n("21K7m").AnnotationUpdateEvent.DESELECT_ANNOTATIONS),w.emit(n("21K7m").AnnotationUpdateEvent.REMOVE_ANNOTATION_FOCUS),_(null)):(w.emit("setselectedannotation",""),h(null)),I(""),(0,n("6mKj3").expValEquals)("confluence_comments_5766_bugfix","isEnabled",!0)&&y()},D=(0,a.useCallback)(N,[C,f,v,w,_,h,I,y]),M=(0,n("6mKj3").expValEquals)("confluence_edit_page_rerender_optimizations","isEnabled",!0)?D:N,j=(0,a.useCallback)(async()=>!R.current||!!(0,n("9wGTI").fg)("confluence_comments_fix_duplicate_modal")||new Promise(e=>{P(o.CommentWarningDialog,{onConfirm:()=>{O&&O(),e(!0)},onCancel:()=>{e(!1)}})}),[O,P]),U=({openWithView:a}={})=>{if(!L)return;x.start({name:n("irVI7").SIDEBAR_COMMENTS_PANEL_LOAD_EXPERIENCE,attributes:{...(0,n("gtj7V").getCommentsDataManagerExperimentAttributes)(),openWithView:a,contentId:A,pageMode:v}});let o=!(0,n("9wGTI").fg)("confluence_comment_footercomments_editpage")||v!==n("cD1qu").PageMode.EDIT;E({id:n("jvYFk").PanelName.CommentsPanel,headerComponentElements:{HeaderIcon:(0,n("9wGTI").fg)("confluence_frontend_comments_panel_v2")?s:void 0,headerLabel:d.commentsPanelHeaderLabel,HeaderRightAlignedElement:(0,n("9wGTI").fg)("confluence_frontend_comments_panel_v2")?i:void 0},BodyComponent:()=>l({openWithView:a}),FooterComponent:T&&m!==n("cD1qu").ContentStatus.DRAFT&&o&&!e&&!t&&!c&&(0,n("9wGTI").fg)("confluence_frontend_comments_panel_v2")?r:void 0,closeOptions:{canClosePanel:j,onPanelClose:M}},"push")},V=(0,a.useCallback)(U,[L,T,j,A,m,x,t,e,c,M,v,E]),B=(0,n("6mKj3").expValEquals)("confluence_edit_page_rerender_optimizations","isEnabled",!0)?V:U;return{isCommentsPanelShown:g&&b?.id===n("jvYFk").PanelName.CommentsPanel,showCommentsPanel:B,hideCommentsPanel:S}}}),a("7aw3q",function(e,t){e.exports.useEmbeddedComments=()=>{let e=(0,n("1iSzD").isEmbeddedConfluence_DO_NOT_USE)(),{hasComments:t,hasInlineCommentsAndHighlightActions:a}=(0,n("cxu5H").useEmbeddedViewPageFeatures)(),{hasInlineCommentsAndHighlightActions:o}=(0,n("9bL1w").useEmbeddedEditPageFeatures)();return!e||t&&(a||o)}}),a("9bL1w",function(e,t){var a;let{edit:o}=n("hpNab").DEFAULT_ALLOWED_FEATURES;(a={}).DELETE_DRAFT="delete-draft",a.TEMPLATE_BROWSER="template-browser",e.exports.useEmbeddedEditPageFeatures=()=>{let e=(0,n("gyiJY").useAllowedFeatures)()||o,t=["disable-publish-close-buttons"],a="all"===e,i=a?n("9VQUw").EDIT_PAGE_FEATURES.filter(e=>!t.includes(e)):e,r=[];i?.includes("delete-draft")&&r.push("delete-draft");let s=a?void 0:e?.find(e=>"object"==typeof e&&null!==e&&"template-browser"in e),l=i?.includes("template-browser")||!!s;l&&r.push("template-browser");let d=s?.["template-browser"]?.["space-picker-disabled"]??!1,c=i?.includes("inline-comments"),u=i?.includes("publish-modal");return{allowedEllipsisButtons:r,isTemplateBrowserEnabled:l,isSpacePickerDisabled:d,hasInlineCommentsAndHighlightActions:c,isPublishModalEnabled:u,hidePublishCloseButtons:i?.includes("disable-publish-close-buttons"),loomExternalOpenRoute:i?.find(e=>"object"==typeof e&&null!==e&&"loom-external-open"in e)?.["loom-external-open"]?.route}}}),a("jvYFk",function(e,t){var n,a=((n={}).CommentsPanel="commentsPanel",n.DetailsPanel="detailsPanel",n.WorkflowsPanel="workflowsPanel",n);e.exports.PanelName=a}),a("3mVfX",function(e,t){var a,o,i,r,s=((a={}).OPEN="OPEN",a.UNREAD="UNREAD",a.DELETED_CONTENT="DELETED_CONTENT",a.RESOLVED="RESOLVED",a),l=((o={}).PAGE_ORDER="PAGE_ORDER",o.MOST_RECENT="MOST_RECENT",o),d=((i={}).VIEW="view",i.ADD="add",i),c=((r={}).FOOTER="footer",r.STICKY_DRAFT="sticky_draft",r.STICKY_FOOTER="sticky_footer",r);let u=()=>({currentView:void 0,currentSort:"PAGE_ORDER",showInlineComments:!0,showGeneralComments:!0,currentlySelectedThreadKey:void 0,commentsMarkedAsRead:{inline:{},general:{}},initialDataLoadedForViewMap:{UNREAD:!1,OPEN:!1,DELETED_CONTENT:!1,RESOLVED:!1},replyToCommentId:void 0,replyToCommentUser:void 0,footerEditCommentIds:new Set,currentlyRenderedThreads:[],location:void 0,commentType:void 0,commentMode:"view",isCommentAddPromptFocused:!1,commentContainerToFocus:void 0,addFooterCommentAdf:void 0}),m=(0,n("1P1Tu").createStore)({initialState:u(),actions:{setCurrentView:e=>({setState:t})=>{t({currentView:e})},setCurrentSort:e=>({setState:t})=>{t({currentSort:e})},setShowInlineComments:e=>({setState:t})=>{t({showInlineComments:e})},setShowGeneralComments:e=>({setState:t})=>{t({showGeneralComments:e})},setCurrentlySelectedThreadKey:(e,t)=>({setState:n})=>{n({currentlySelectedThreadKey:e,commentType:t})},setCommentsInThreadToBeMarkedAsRead:({threadKey:e,commentIds:t,commentType:n})=>({setState:a,getState:o})=>{let{commentsMarkedAsRead:i}=o();if(e&&t){let o={...i},r=o[n][e]||new Set;t.forEach(e=>r.add(e)),o[n][e]=r,a({commentsMarkedAsRead:o})}},setCommentsToBeMarkedAsRead:e=>({setState:t})=>{t({commentsMarkedAsRead:e})},clearCommentsMarkedAsRead:()=>({setState:e})=>{e({commentsMarkedAsRead:{inline:{},general:{}}})},setInitialDataLoadedForView:({viewToSetLoaded:e})=>({getState:t,setState:n})=>{let{initialDataLoadedForViewMap:a}=t();a[e]=!0,n({initialDataLoadedForViewMap:a})},setReplyToCommentId:({parentCommentId:e,location:t,user:n}={})=>({setState:a})=>{a({replyToCommentId:e,location:t,replyToCommentUser:n})},resetInitialDataLoadedMap:()=>({setState:e})=>{e(u())},setCurrentlyRenderedThreads:e=>({setState:t})=>{t({currentlyRenderedThreads:e})},addFooterEditCommentId:e=>({setState:t,getState:n})=>{let{footerEditCommentIds:a}=n(),o=new Set(a);o.add(e),t({footerEditCommentIds:o})},removeFooterEditCommentId:e=>({setState:t,getState:n})=>{let{footerEditCommentIds:a}=n(),o=new Set(a);o.delete(e),t({footerEditCommentIds:o})},setCommentMode:e=>({setState:t})=>{t({commentMode:e})},setIsCommentAddPromptFocused:e=>({setState:t})=>{t({isCommentAddPromptFocused:e})},resetCommentMode:()=>({setState:e})=>{e({commentMode:"view",isCommentAddPromptFocused:!1})},setCommentContainerToFocus:e=>({setState:t})=>{t({commentContainerToFocus:e})},setAddFooterCommentAdf:e=>({setState:t})=>{t({addFooterCommentAdf:e})}},name:"CommentsStore"}),p=(0,n("9zUhf").createHook)(m),f=(0,n("9zUhf").createActionsHook)(m),g=(0,n("9zUhf").createStateHook)(m);e.exports.ViewValues=s,e.exports.SortValues=l,e.exports.CommentMode=d,e.exports.AddFooterCommentMode=c,e.exports.useCommentsPanel=p,e.exports.useCommentsPanelActions=f,e.exports.useCommentsPanelState=g}),a("dANtQ",function(e,t){let a=(0,n("eSUdr").default)`query useAddCommentPermissionCheckPermissionCheckAddCommentQuery($contentId:ID!){content(id:$contentId status:["draft" "current"]){nodes{id type operations{operation targetType}}}}`;e.exports.useAddCommentPermissionCheck=(e,t=!1)=>{let{data:o,loading:i,error:r,refetch:s,networkStatus:l}=(0,n("xQxzY").useQuery)(a,{variables:{contentId:e},notifyOnNetworkStatusChange:!0,fetchPolicy:t?"cache-only":"cache-and-network",skip:!e}),d=o?.content?.nodes?.[0];return{canAddComments:(d?.operations??[]).some(e=>e?.operation==="create"&&e?.targetType==="comment"),loading:i,contentQueryError:r,refetch:s,networkStatus:l}}}),a("9buj5",function(e,t){var a=n("42omo");let o=(0,n("eSUdr").default)`mutation useUnreadPanelCommentsMarkInlineCommentsReadMutation($commentIds:[ID!]!){markCommentsAsRead(input:{commentIds:$commentIds}){success errors}}`;e.exports.useUnreadPanelComments=()=>{let[{commentsMarkedAsRead:e},{clearCommentsMarkedAsRead:t}]=(0,n("3mVfX").useCommentsPanel)(),{updateUnreadStatus:i}=(0,n("8i27m").useCommentsDataActions)(),[{readCommentsListState:r,unreadCommentsListState:s},{updateReadCommentsListState:l,updateUnreadCommentsListState:d}]=(0,n("fHAwL").useUnreadComments)(),[c]=(0,n("1KmJq").useMutation)(o),u=(0,a.useCallback)(()=>{if(!(0,n("9wGTI").fg)("confluence_frontend_unread_comments_fixes")&&(Object.keys(e.inline).length>0||Object.keys(e.general).length>0)){let a=[...Object.values(e.inline).reduce((e,t)=>(e.push(...t),e),[]),...Object.values(e.general).reduce((e,t)=>(e.push(...t),e),[])];if(!a?.length)return;c({variables:{commentIds:a}}),i(e,n("8i27m").UnreadAction.READ),t();let o=new Set(a),u=s.filter(e=>!o.has(e.id));d(()=>u);let m=new Set([...r,...a]);l(()=>m)}},[c,t,e,i,r,s,l,d]);return(0,a.useEffect)(()=>{if((0,n("9wGTI").fg)("confluence_frontend_unread_comments_fixes"))return;let e=()=>{u()};return window.addEventListener("beforeunload",e),()=>{u(),window.removeEventListener("beforeunload",e)}},[]),(0,a.useMemo)(()=>({handleMarkCommentsAsRead:u}),[u])}}),a("fLkVA",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("jq3Jz"),a("9jS5g"),a("jSdjl"),a("l2EUC"),a("kHOMt"),a("7Ewqa"),a("1QdXB"),a("goLL0"),a("9Z7qK"),a("duPDN"),a("8OK9Z"),a("coJiW"),a("1Jgsw"),a("cPWI2"),a("lkOIY"),a("clQc9"),a("8PPsf"),a("1iUSs"),a("4eboO"),a("8YSo7"),a("lXGg9"),a("hy3sK"),a("9ijrN"),a("Wowvf"),a("cyGuT"),a("a1MBa"),a("lavAq"),a("65u2R"),a("bj2rY"),a("fZt2F"),a("7u4WP"),a("d6s42"),a("gZGoR"),a("let0D"),a("joFPh"),a("6vyHt"),a("6M36W"),a("ioQAS"),a("kUbUu"),a("4Lgj0"),a("kSJiq"),a("ZZR2T"),a("5QKVr"),a("bxFZs"),a("gYeBT"),a("39eyQ"),a("gLGsg"),a("nbjnv"),a("kCMj8"),a("5tz7G"),a("6wr18"),a("jwWp5"),a("hhss7"),a("7EorR"),a("awqCy"),a("ffEVr"),a("bZz7X")]).then(()=>n("g9dNl"))}),a("ciyfl",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("jq3Jz"),a("9jS5g"),a("jSdjl"),a("l2EUC"),a("kHOMt"),a("7Ewqa"),a("1QdXB"),a("goLL0"),a("9Z7qK"),a("duPDN"),a("8OK9Z"),a("coJiW"),a("1Jgsw"),a("cPWI2"),a("lkOIY"),a("clQc9"),a("8PPsf"),a("1iUSs"),a("4eboO"),a("8YSo7"),a("lXGg9"),a("hy3sK"),a("9ijrN"),a("Wowvf"),a("cyGuT"),a("a1MBa"),a("lavAq"),a("65u2R"),a("bj2rY"),a("fZt2F"),a("7u4WP"),a("d6s42"),a("gZGoR"),a("let0D"),a("joFPh"),a("6vyHt"),a("6M36W"),a("ioQAS"),a("kUbUu"),a("4Lgj0"),a("kSJiq"),a("ZZR2T"),a("5QKVr"),a("bxFZs"),a("gYeBT"),a("39eyQ"),a("gLGsg"),a("nbjnv"),a("kCMj8"),a("5tz7G"),a("6wr18"),a("jwWp5"),a("hhss7"),a("7EorR"),a("awqCy"),a("ffEVr"),a("bZz7X")]).then(()=>n("gFN6K"))}),a("jpT9Z",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("jq3Jz"),a("9jS5g"),a("jSdjl"),a("l2EUC"),a("kHOMt"),a("7Ewqa"),a("1QdXB"),a("goLL0"),a("9Z7qK"),a("duPDN"),a("8OK9Z"),a("coJiW"),a("1Jgsw"),a("cPWI2"),a("lkOIY"),a("clQc9"),a("8PPsf"),a("1iUSs"),a("4eboO"),a("8YSo7"),a("lXGg9"),a("hy3sK"),a("9ijrN"),a("Wowvf"),a("cyGuT"),a("a1MBa"),a("lavAq"),a("65u2R"),a("bj2rY"),a("fZt2F"),a("7u4WP"),a("d6s42"),a("gZGoR"),a("let0D"),a("joFPh"),a("6vyHt"),a("6M36W"),a("ioQAS"),a("kUbUu"),a("4Lgj0"),a("kSJiq"),a("ZZR2T"),a("5QKVr"),a("bxFZs"),a("gYeBT"),a("39eyQ"),a("gLGsg"),a("nbjnv"),a("kCMj8"),a("5tz7G"),a("6wr18"),a("jwWp5"),a("hhss7"),a("7EorR"),a("awqCy"),a("ffEVr"),a("bZz7X")]).then(()=>n("ioFqb"))}),a("7js2L",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("jq3Jz"),a("9jS5g"),a("jSdjl"),a("l2EUC"),a("kHOMt"),a("7Ewqa"),a("1QdXB"),a("goLL0"),a("9Z7qK"),a("duPDN"),a("8OK9Z"),a("coJiW"),a("1Jgsw"),a("cPWI2"),a("lkOIY"),a("clQc9"),a("8PPsf"),a("1iUSs"),a("4eboO"),a("8YSo7"),a("lXGg9"),a("hy3sK"),a("9ijrN"),a("Wowvf"),a("cyGuT"),a("a1MBa"),a("lavAq"),a("65u2R"),a("bj2rY"),a("fZt2F"),a("7u4WP"),a("d6s42"),a("gZGoR"),a("let0D"),a("joFPh"),a("6vyHt"),a("6M36W"),a("ioQAS"),a("kUbUu"),a("4Lgj0"),a("kSJiq"),a("ZZR2T"),a("5QKVr"),a("bxFZs"),a("gYeBT"),a("39eyQ"),a("gLGsg"),a("nbjnv"),a("kCMj8"),a("5tz7G"),a("6wr18"),a("jwWp5"),a("hhss7"),a("7EorR"),a("awqCy"),a("ffEVr"),a("bZz7X")]).then(()=>n("5hqV2"))}),a("8Q7Uc",function(e,t){let a=(0,n("jmjWc").LoadableAfterPaint)({__loadable_id__:"ykWGq",name:"UnreadCommentCount",loader:async()=>(await n("hV0WE")).UnreadCommentCount});e.exports.UnreadCommentCount=a}),a("hV0WE",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("7ZBIQ"),a("kpzlp")]).then(()=>n("i34K4"))}),a("iBnoc",function(e,t){let a=(0,n("jmjWc").LoadableAfterPaint)({__loadable_id__:"1wNs0",name:"UnreadIndicator",loader:async()=>(await n("9bA4s")).UnreadIndicator});e.exports.UnreadIndicator=a}),a("9bA4s",function(e,t){e.exports=n("4mJKd")(5)("i8hiG").then(()=>n("yTrVP"))}),a("6GD8y",function(e,t){let a=(0,n("jmjWc").LoadableBackground)({__loadable_id__:"pU1rv",name:"GeneralShortcutListener",loader:async()=>(await n("9Q4ck")).GeneralShortcutListener});e.exports.GeneralShortcutListener=a}),a("9Q4ck",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("fZt2F"),a("hhss7"),a("kpHRm")]).then(()=>n("3w3bV"))}),a("lfBMY",function(e,t){var n,a=((n={}).USE="use",n.LIMITED_USE="limited_use",n.EXTERNAL_COLLABORATOR_USE="external_collaborator_use",n.CREATE="create",n.READ="read",n.UPDATE="update",n.DELETE="delete",n.COPY="copy",n.MOVE="move",n.EXPORT="export",n.ARCHIVE="archive",n.PURGE="purge",n.PURGE_VERSION="purge_version",n.ADMINISTER="administer",n.RESTORE="restore",n.CREATE_SPACE="create_space",n.RESTRICT_CONTENT="restrict_content",n.CLEAR_PERMISSIONS="clear_permissions",n);e.exports.OperationTypes=a}),a("2wo33",function(e,t){var a=n("j1Ss3");let o=({operationCheckResult:e,operation:t,contentType:n})=>{let a=e?.content?.nodes?.[0]?.operations??[],o=n||e?.content?.nodes?.[0]?.type;return!!o&&a.some(e=>e?.operation===t&&e?.targetType===o)};e.exports.canPerformSpaceOperation=({operationCheckResult:e,operation:t,contentType:n})=>(e?.space?.operations??[]).some(e=>e?.operation===t&&e?.targetType===n),e.exports.useCanPerformContentOperation=({contentId:e,operation:t,contentType:i,status:r})=>{let s,l=(0,a.useQuery)((0,n("eSUdr").default)`query entityOperationsHelpersContentOperationsQuery($contentId:ID!$status:[String]){content(id:$contentId status:$status){nodes{id type operations{operation targetType}}}}`,{variables:{contentId:e,status:r}});return l?.data&&(s=o({operationCheckResult:l?.data,operation:t,contentType:i})),[s,l]}}),a("63cta",function(e,t){let a=(0,n("eSUdr").default)`query ContentOperationsQuery($contentId:ID!$status:[String]){content(id:$contentId status:$status){nodes{id type operations{operation targetType}}}}`;e.exports.ContentOperationsQuery=a}),a("5rZJf",function(e,t){let a=(0,n("eSUdr").default)`query SpaceOperationsQuery($spaceKey:String!){space(key:$spaceKey){id operations{operation targetType}}}`;e.exports.SpaceOperationsQuery=a}),a("5qLRP",function(e,t){let a={ROWS:{CUSTOM_CONTENT:"customContent",VIEWS:"views",LENGTH:"length",STATUS:"status",REDACTIONS:"redactions",LABELS:"labels"},SECTIONS:{PROPERTIES:"properties",CONNECTIONS:"connections"}},o={[a.ROWS.CUSTOM_CONTENT]:!1,[a.ROWS.STATUS]:!1,[a.ROWS.REDACTIONS]:!1},i={[a.ROWS.VIEWS]:!1,[a.ROWS.LENGTH]:!1,[a.ROWS.STATUS]:!1,[a.ROWS.REDACTIONS]:!1,[a.ROWS.LABELS]:!1,[a.SECTIONS.CONNECTIONS]:!1},r={[a.ROWS.VIEWS]:!1,[a.ROWS.LENGTH]:!1,[a.ROWS.STATUS]:!1,[a.ROWS.REDACTIONS]:!1,[a.ROWS.LABELS]:!1,[a.SECTIONS.CONNECTIONS]:!1};e.exports.ELEMENTS=a,e.exports.useElementVisibility=()=>{let e=(0,n("gEtAQ").isSpaceOverview)(),[t]=(0,n("ep3mz").usePageContentId)(),[s]=(0,n("ep3mz").usePageSpaceKey)(),[l]=(0,n("ep3mz").useContentType)(),d=(0,n("bMPhU").useSpaceHomepageId)(s),c=e||d===t,u=()=>c?o:l===n("1ggpj").ContentType.DATABASE?i:l===n("1ggpj").ContentType.WHITEBOARD?r:null;return{isElementVisible:e=>{if(e===a.ROWS.LABELS&&(l===n("1ggpj").ContentType.DATABASE||l===n("1ggpj").ContentType.WHITEBOARD))return(0,n("9wGTI").fg)("confluence_frontend_labels_wb_db");let t=u();return(t&&t[e])??!0}}}}),a("3l7KO",function(e,t){var a=n("42omo"),o=n("j1Ss3");let i=(0,n("eSUdr").default)`query useContentLabelsDetailsPanelContentLabelsQuery($contentId:ID!){singleContent(id:$contentId){id labels(orderBy:{sortField:LABELLING_CREATIONDATE direction:ASCENDING}){count nodes{id label name prefix}}}content(id:$contentId status:["archived" "current" "draft"]){nodes{id type operations{operation targetType}}}}`,r=(0,n("eSUdr").default)`mutation useContentLabelsDetailsPanelContentLabelDeleteMutation($contentId:ID!$label:String!){deleteLabel(input:{contentId:$contentId label:$label}){contentId}}`;e.exports.useContentLabels=()=>{let[e=""]=(0,n("ep3mz").usePageContentId)(),{data:t,loading:s,error:l,refetch:d}=(0,o.useQuery)(i,{variables:{contentId:e},skip:!e}),[c]=(0,o.useMutation)(r);return{data:(0,a.useMemo)(()=>(0,n("a9Ftk").normalizeContentLabelsData)(t),[t]),handleDeleteLabelClick:c,loading:s,error:l,refetch:d}}}),a("a9Ftk",function(e,t){e.exports.normalizeContentLabelsData=e=>{let t=e?.singleContent?.labels?.nodes,n=e?.content?.nodes?.[0],a=n?.operations??[],o=n?.type,i=!!a?.find(e=>e?.operation==="update"&&e?.targetType===o);return{labels:t?.filter(e=>e?.name!=="favourite"||e?.prefix!=="my")||[],hasEditPermissions:i}}}),a("iCs0a",function(e,t){var n,a;let o={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"contentId"}],kind:"Fragment",name:"useContentRedactionsQuery",selections:a=[{args:[{kind:"Variable",name:"id",variableName:"contentId"}],concreteType:"Content",kind:"LinkedField",name:"singleContent",plural:!1,selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"redactionMetadataCount"}]}],type:"Query"},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"useContentRedactionsQuery",selections:a},params:{cacheID:"ceddc8fd35d455d0ec9c8131440c1d1d",id:"ba1d88df9c48f9ec78d00fe08fc0d6c6e19c7bc9cedad817a92edcca4b72ef88",metadata:{},name:"useContentRedactionsQuery",operationKind:"query",text:"query useContentRedactionsQuery($contentId:ID!){singleContent(id:$contentId){id,redactionMetadataCount}}"}};o.hash="e90ee1af326d42d6929ca80f7d23161b",e.exports.default=o}),a("hysf6",function(e,t){let a=(0,n("jmjWc").LoadableLazy)({__loadable_id__:"TmpiW",name:"DetailsPanelHeaderIcon",loader:async()=>(await n("bdeA7")).DetailsPanelHeaderIcon}),o=(0,n("jmjWc").LoadableLazy)({__loadable_id__:"WdQRW",name:"DetailsPanelBody",loader:async()=>(await n("fAmkr")).DetailsPanelBody}),i=(0,n("cgtv4").defineMessages)({detailsPanelHeaderLabel:{id:"details-panel.panel.header.label",defaultMessage:"Details"}});e.exports.useShowDetailsPanel=()=>{let{showObjectSidebar:e}=(0,n("aWwYt").useObjectSidebarActions)(),t=(0,n("aWwYt").useIsObjectSidebarShown)(),r=(0,n("aWwYt").usePanel)();return{isDetailsPanelShown:t&&r?.id===n("jvYFk").PanelName.DetailsPanel,showDetailsPanel:({highlightLabels:t}={})=>{e({id:n("jvYFk").PanelName.DetailsPanel,headerComponentElements:{HeaderIcon:a,headerLabel:i.detailsPanelHeaderLabel},BodyComponent:o,props:{highlightLabels:t}},"push")}}}}),a("bdeA7",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("nbjnv"),a("a08Vk"),a("jtwfh"),a("9ZkgN"),a("2mt3f"),a("lnnYm"),a("4XFRu"),a("gctwz"),a("coJiW"),a("l4YAS"),a("clQc9"),a("8PPsf"),a("h4Nf7"),a("5uN9h"),a("lXGg9"),a("hy3sK"),a("hRUX7"),a("g4oYs"),a("Wowvf"),a("kjZZD"),a("ht5OT"),a("sj9Xz"),a("dTsOE"),a("hhss7"),a("7EorR"),a("awqCy"),a("65u2R"),a("bj2rY"),a("gZGoR"),a("let0D"),a("joFPh"),a("6vyHt"),a("6wr18"),a("ffEVr"),a("8zlfy")]).then(()=>n("7N9MO"))}),a("fAmkr",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("nbjnv"),a("a08Vk"),a("jtwfh"),a("9ZkgN"),a("2mt3f"),a("lnnYm"),a("4XFRu"),a("gctwz"),a("coJiW"),a("l4YAS"),a("clQc9"),a("8PPsf"),a("h4Nf7"),a("5uN9h"),a("lXGg9"),a("hy3sK"),a("hRUX7"),a("g4oYs"),a("Wowvf"),a("kjZZD"),a("ht5OT"),a("sj9Xz"),a("dTsOE"),a("hhss7"),a("7EorR"),a("awqCy"),a("65u2R"),a("bj2rY"),a("gZGoR"),a("let0D"),a("joFPh"),a("6vyHt"),a("6wr18"),a("ffEVr"),a("8zlfy")]).then(()=>n("9igqG"))}),a("4vaoM",function(e,t){let a=(0,n("jmjWc").LoadableLazy)({__loadable_id__:"JXn3W",name:"EditLabelDialogLoader",loader:async()=>(await n("ikzSA")).EditLabelDialogComponent});e.exports.EditLabelDialogLoader=a}),a("ikzSA",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("hRUX7"),a("g4oYs"),a("6wr18"),a("89WyM"),a("7EorR"),a("ZZR2T"),a("jigcs"),a("ffEVr"),a("1fnbu")]).then(()=>n("m0wkE"))}),a("fi2El",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var a=i(n("42omo")),o=i(n("aSNrY"));function i(e){return e&&e.__esModule?e:{default:e}}let r=e=>a.default.createElement(o.default,Object.assign({name:"HistoryIcon",dangerouslySetGlyph:'<path fill="currentcolor" d="M1.5 8A6.5 6.5 0 1 0 8 1.5a6.36 6.36 0 0 0-4.651 2.005l1.298.26a.75.75 0 0 1-.09 1.483l-3.25.25A.75.75 0 0 1 .5 4.75V1.5l.013-.137a.75.75 0 0 1 1.456-.079l.34 1.138A7.86 7.86 0 0 1 8 0a8 8 0 1 1-8 8zm7.25-4.25v4.389l2.219 1.775-.938 1.172-2.5-2A.75.75 0 0 1 7.25 8.5V3.75z"/>'},e));r.displayName="HistoryIcon",e.exports.default=r}),a("dcvq8",function(e,t){let a=(0,n("jmjWc").LoadableAfterPaint)({__loadable_id__:"1kdap",name:"GlobalFeedbackCollector",loader:async()=>(await n("gHIXP")).GlobalFeedbackCollector}),o=(0,n("jmjWc").LoadableLazy)({__loadable_id__:"7vDuP",name:"LazyGlobalFeedbackCollector",loader:async()=>(await n("gHIXP")).GlobalFeedbackCollector});e.exports.GlobalFeedbackCollector=a,e.exports.LazyGlobalFeedbackCollector=o}),a("gHIXP",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("6wr18"),a("ffEVr"),a("Wowvf"),a("hhss7"),a("cyGuT"),a("dGk3x")]).then(()=>n("liJpy"))}),a("afBrg",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var a=i(n("42omo")),o=i(n("aSNrY"));function i(e){return e&&e.__esModule?e:{default:e}}let r=e=>a.default.createElement(o.default,Object.assign({name:"AiGenerativeAudioBriefingIcon",dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M8 0c.97 0 1.88.2 2.72.55l-.24.09c-.52.19-.93.56-1.19 1.02A5.5 5.5 0 0 0 2.5 7v.71A2.5 2.5 0 0 1 6 10v3.08A1.92 1.92 0 0 1 4.08 15 3.08 3.08 0 0 1 1 12V7a7 7 0 0 1 7-7M3.5 9a1 1 0 0 0-1 1v1.92c0 .87.71 1.58 1.58 1.58.23 0 .42-.19.42-.42V10a1 1 0 0 0-1-1m11.46-2.78Q15 6.6 15 7v5a3.08 3.08 0 0 1-3.08 3A1.92 1.92 0 0 1 10 13.08V10a2.5 2.5 0 0 1 3.5-2.29v-.73a2.25 2.25 0 0 0 1.46-.77M12.5 9a1 1 0 0 0-1 1v3.08c0 .23.19.42.42.42.87 0 1.58-.71 1.58-1.58V10a1 1 0 0 0-1-1" clip-rule="evenodd"/><path fill="currentcolor" d="M13.365.009a.75.75 0 0 1 .541.378l.05.106.334.92a.5.5 0 0 0 .298.297l.919.335a.75.75 0 0 1 0 1.41l-.92.335a.5.5 0 0 0-.297.298l-.335.919a.75.75 0 0 1-1.41 0l-.335-.92a.5.5 0 0 0-.298-.297l-.919-.335a.75.75 0 0 1-.484-.589L10.5 2.75l.009-.116a.75.75 0 0 1 .484-.59l.92-.334a.5.5 0 0 0 .297-.298l.335-.919A.75.75 0 0 1 13.249 0z"/>'},e));r.displayName="AiGenerativeAudioBriefingIcon",e.exports.default=r}),a("dxfEr",function(e,t){var a=n("42omo"),o=n("3pfAb");e.exports.usePlatformInstrumentation=({channel:e}={channel:o.FabricChannel.atlaskit})=>{let{createAnalyticsEvent:t}=(0,n("inPa6").useAnalyticsEvents)(),i=(0,a.useCallback)(n=>{t(n).fire(e)},[e,t]),r=(0,a.useCallback)(n=>{t(n).fire(e)},[e,t]);return{sendUIEvent:i,sendTrackEvent:r,sendOperationalEvent:(0,a.useCallback)(n=>{t(n).fire(e)},[e,t]),sendScreenEvent:(0,a.useCallback)(n=>{t(n).fire(e)},[e,t])}}}),a("4wsPv",function(e,t){var a=n("42omo"),o=n("lbhE8");e.exports.useAudioPlayerStreamingStore=()=>({state:(0,o.useAtom)(n("aU1TP").audioPlayerStreamingStore),updateAudioPlayerStreamingStore:(0,a.useCallback)(e=>{(0,n("aU1TP").setAudioPlayerStreamingStore)(e)},[])})}),a("aU1TP",function(e,t){var a,o=((a={}).UNINITIALIZED="uninitialized",a.LOADING="loading",a.ERROR="error",a.STREAM_STARTED="stream_started",a.STREAM_DISPOSED="stream_disposed",a);let i=(0,n("9TRAA").e)({state:"uninitialized"});e.exports.AudioStreamingState=o,e.exports.audioPlayerStreamingStore=i,e.exports.setAudioPlayerStreamingStore=e=>{switch(e.type){case"uninitialized":i.set({state:"uninitialized"});break;case"loading":i.set({state:"loading"});break;case"error":i.set({state:"error",error:e.error});break;case"stream_started":i.set({state:"stream_started",response:e.response});break;case"stream_disposed":i.set({state:"stream_disposed"})}}}),a("eq3pJ",function(e,t){var a=n("iA9co").Buffer;let o=(e,t)=>e===n("CAM5Y").AudioFeatureType.BRIEFING?t.map(e=>`${e.ari},${e.link}`).join(","):"",i=(e,t)=>{let i=o(e,t),r=`feature=${e};type=${n("5vJ4Q").AudioSharingVersion.V1};payload=${i}`,s=(0,n("6otn0").gzipSync)(new TextEncoder().encode(r));return a.from(s).toString("base64")},r=e=>{let t=e.split(",").filter(Boolean);if(t.length%2!=0)return[];let n=[];for(let e=0;e<t.length;e+=2)n.push({ari:t[e],link:t[e+1]});return n},s=e=>{try{let t=Uint8Array.from(a.from(e,"base64")),o=(0,n("6otn0").gunzipSync)(t),i=new TextDecoder().decode(o).split(";").map(e=>e.split("=")),r=Object.fromEntries(i);return{feature:r.feature||"",type:r.type||"",payload:r.payload||""}}catch{return null}};e.exports.generateAudioShareLink=(e,t,n)=>{let a=new URL(e),o=i(t,n);return a.searchParams.set("audioShare",o),a.toString()},e.exports.parseAudioShareLink=e=>{let t={feature:n("CAM5Y").AudioFeatureType.BRIEFING,supportingContent:[]};try{let a=new URL(e).searchParams.get("audioShare");if(!a)return t;let o=s(a);if(!o)return t;if(o.type!==n("5vJ4Q").AudioSharingVersion.V1)return{feature:o.feature||n("CAM5Y").AudioFeatureType.BRIEFING,supportingContent:[]};return{feature:o.feature||n("CAM5Y").AudioFeatureType.BRIEFING,supportingContent:r(o.payload)}}catch{return t}}}),a("5vJ4Q",function(e,t){e.exports.AudioSharingVersion={V1:"1"}}),a("7mgQ0",function(e,t){e.exports=n("4mJKd")(5)("KSMZE").then(()=>n("jFrMf"))}),a("3T2Zj",function(e,t){let a=(0,n("eSUdr").default)`query ReadTimeQuery($contentId:ID$status:[String]$includeContentBody:Boolean=true){content(id:$contentId status:$status){nodes{id type body@include(if:$includeContentBody){dynamic{value representation}}operations{operation targetType}}}}`;e.exports.ReadTimeQuery=a}),a("8G3G6",function(e,t){var n,a;let o={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"contentId"},{defaultValue:null,kind:"LocalArgument",name:"contentType"}],kind:"Fragment",name:"useDynamicSplitButtonCatchupLastViewedTimeQuery",selections:a=[{args:[{kind:"Variable",name:"contentId",variableName:"contentId"},{kind:"Variable",name:"contentType",variableName:"contentType"}],concreteType:"CatchupLastViewedTimeResponse",kind:"LinkedField",name:"catchupGetLastViewedTime",plural:!1,selections:[{kind:"ScalarField",name:"lastViewedTimeISO"}]}],type:"Query"},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"useDynamicSplitButtonCatchupLastViewedTimeQuery",selections:a},params:{cacheID:"4454a52ea4ab532f76ee4e80586f3a56",id:"1b93f6dc06e9898ae5a96da49582122e7834ced458f11ee2b79ed14f9d9b3a87",metadata:{},name:"useDynamicSplitButtonCatchupLastViewedTimeQuery",operationKind:"query",text:"query useDynamicSplitButtonCatchupLastViewedTimeQuery($contentId:ID!,$contentType:CatchupContentType!){catchupGetLastViewedTime(contentId:$contentId,contentType:$contentType){lastViewedTimeISO}}"}};o.hash="4580906c8b823122d6a7f5ad8c2e2c6c",e.exports.default=o}),a("dlSEv",function(e,a){t(e.exports,"default",()=>o);function o(e,t){(0,n("b5utg").default)(2,arguments);var a=(0,n("egXhZ").default)(e),o=(0,n("egXhZ").default)(t);return a.getTime()<o.getTime()}}),a("fVTNs",function(t,a){var o=n("l998X");n("42omo");var i=n("e7URT"),r=n("1j3sF");let s=t=>{let{children:n,sourceName:a,sourceType:o,...s}=t,l=a&&o?`${a}${o}`:void 0;return e(r)({source:l,...s},e(i))};t.exports.ContextWrapper=e=>{let t=s(e);return(0,o.jsx)(n("bYRk6").default,{data:t,children:(0,o.jsx)(o.Fragment,{children:e.children})})}}),a("4WmbV",function(t,a){var o,i=n("42omo"),r=n("iJ9aA"),s=n("ki6F7"),l=n("cHKtk"),d=((o={}).DEFAULT="default",o.UPGRADE_ONLY="upgradeOnly",o.NONE="none",o);t.exports.SectionMessageButtonConfig=d,t.exports.ChangeEditionSectionMessage=({canShowUpgradeButton:t=!0,buttonConfig:a="default",upgradeEditionActionSubjectId:o="freeTryNow",grandfathered:d,source:c,onUpFlowOpen:u,secondaryLink:m,targetEdition:p,learnMoreLink:f,footer:g,headerButton:b,showRequestUpgradeButton:E=!1,showRequestUpgradeButtonAATest:S=!1,isLoadingRequestUpgradeButton:_=!1,...h})=>{let{createAnalyticsEvent:C}=(0,n("iC1wS").useEditionsAnalyticsContext)(),{isSiteAdmin:I}=(0,i.useContext)(n("1ytiN").SPAViewContext),y=(0,i.useMemo)(()=>({isSiteAdmin:I,isGrandfathered:!!d}),[d,I]),A=e=>({actionSubjectId:e,source:c,attributes:y}),T=(e,t)=>{C&&C({type:"sendUIEvent",data:{action:"clicked",actionSubject:"link",actionSubjectId:e,source:c,attributes:{...y,linkMessage:t}}}).fire()},v=()=>{m&&(T(m.actionSubjectId,m.messageDescriptor.defaultMessage),"function"==typeof m.onClick&&m.onClick())};(0,i.useEffect)(()=>{C&&C({type:"sendScreenEvent",data:{name:"changeEditionGatewayScreen",attributes:{...y,source:c}}}).fire()},[C,y,c]);let w=(t,a)=>{let o=f?.icon||a?f?.appearance||"default":"link",r=t?x({appearance:o}):null,s=m?e(i).createElement(n("eEA8O").default,{key:"secondLink",appearance:m.appearance||"default",href:m.href?m.href:void 0,id:"secondaryLink",spacing:"default",target:m.target||"_blank",onClick:v,testId:(0,n("k4Vdy").calculateTestId)({source:c,actionSubjectId:m.actionSubjectId})},e(i).createElement(n("gtD4K").default,m.messageDescriptor)):null;return m?.appearance==="primary"&&"primary"!==o?[s,r]:[r,s]},x=({children:t,...a})=>e(i).createElement(r.LearnMoreButton,{key:"learnMore",analyticsProps:A(f?.actionSubjectId||"freeLearnMore"),appearance:f?.appearance||"default",onUpFlowOpen:u,targetEdition:p,inProductHelpId:f?.inProductHelpId,inProductHelpTopic:f?.inProductHelpTopic,href:f?.href,icon:f?.icon,ariaLabel:f?.ariaLabel,...a,onClick:f?.onClick},void 0!==t?t:f?.messageDescriptor?e(i).createElement(n("gtD4K").default,f.messageDescriptor):void 0);return e(i).createElement(n("bhvFb").EditionSectionMessage,{actions:"none"!==a?e(i).createElement(n("hArLp").default,null,_&&(0,n("9wGTI").fg)("connie_end_user_request_kill_switch")?e(i).createElement(n("kpYGL").default,{width:"200px",height:"32px"}):e(i).createElement(n("lNKOh").ChangeEditionSectionMessageButtonsWrapper,{isSiteAdmin:I,canShowUpgradeButton:t,shouldShowLearnMore:!m,showRequestUpgradeButton:E},({showUpgradeTryNowButton:t,showLearnMore:r,learnMoreIsPrimaryCTA:d})=>{let m,f,g=t?e(i).createElement(s.UpgradeEditionButton,{analyticsProps:A(o),onUpFlowOpen:u,targetEdition:p,...h}):null;return g?m=g:E&&(0,n("9wGTI").fg)("connie_end_user_request_kill_switch")?m=e(i).createElement(l.EndUserRequestUpgradeButton,{source:c}):S&&(0,n("9wGTI").fg)("connie_end_user_request_kill_switch")&&(m=e(i).createElement("div",null)),"upgradeOnly"===a&&I||(f=g&&m!==g?[e(i).cloneElement(g,{appearance:"link"})]:w(r,d)),e(i).createElement(e(i).Fragment,null,m,f)})):void 0,edition:p,footer:I&&g?e(i).createElement(e(i).Fragment,null,g):null,headerButton:e(i).createElement(n("hArLp").default,null,b),...h})}}),a("lNKOh",function(e,t){e.exports.ChangeEditionSectionMessageButtonsWrapper=({canShowUpgradeButton:e,children:t,isSiteAdmin:n,shouldShowLearnMore:a=!0,showRequestUpgradeButton:o})=>{let i=!1,r=!0,s=!0;return e&&(n&&(i=!0),i&&(r=a,s=!1)),o&&(r=a),t({showUpgradeTryNowButton:i,showLearnMore:r,learnMoreIsPrimaryCTA:s})}}),a("en1dX",function(e,t){var n,a,o,i=((n={}).COMMENTS_PANEL="commentsPanel",n.STANDALONE="standalone",n.PAGE_FOOTER="pageFooter",n),r=((a={}).REOPEN_COMMENT="reopenComment",a),s=((o={}).INLINE="inline",o.GENERAL="general",o.PAGE="page",o);e.exports.AnalyticsSource=i,e.exports.ActionName=r,e.exports.CommentType=s}),a("3J7nf",function(e,t){var a=n("42omo");let o={introSpotlight:{isVisible:!1,complete:()=>{}},liveDocTour:{isVisible:!1,complete:()=>{}},contentWrapperTour:{isVisible:!1,complete:()=>{}},aiButtonTour:{isVisible:!1,complete:()=>{}}},i={selector:e=>e===n("1NBp8").SPACE_OVERVIEW.name};e.exports.isLiveDocChangeboardingActive=e=>Object.values(e).some(e=>"object"==typeof e&&null!==e&&"isVisible"in e&&e.isVisible),e.exports.useLiveDocChangeboarding=()=>{let[e,t]=(0,a.useState)(!1),{setOnboardingState:r}=(0,n("ivb8S").useSetOnboardingState)(),{isAIFCOnbardingEligible:s,loading:l,error:d}=(0,n("evORK").useIsAIFCOnbardingEligible)(),{isAdminHubAIEnabled:c}=(0,n("bQm3c").useSessionData)(),{isEstablishedUser:u,loading:m,error:p}=(0,n("1zBOs").useIsEstablishedUser)({skip:!(0,n("9wGTI").fg)("cc_onboarding_changeboarding_for_live_pages_eap")&&!(0,n("9wGTI").fg)("confluence_ai_uber_button_changeboarding")}),{data:f,loading:g,error:b}=(0,n("ivb8S").useGetOnboardingState)([...Object.values(n("9DBk6").LIVE_DOC_CHANGEBOARDING_ONBOARDING_STATE_KEYS),...Object.values(n("bPDOf").AIFC_ONBOARDING_STATE_KEYS)],!(0,n("9wGTI").fg)("cc_modernize_ga_changeboarding")&&!(0,n("9wGTI").fg)("cc_onboarding_changeboarding_for_live_pages_eap")&&!(0,n("9wGTI").fg)("confluence_ai_uber_button_changeboarding")),{hasDismissedIntroSpotlight:E,hasDismissedLiveDocTour:S,hasDismissedAiButtonTour:_,hasSeenAIFCSpotlight:h,isAIFCSpotlightActive:C}=(0,n("ivb8S").deserializeState)(f),{isLicensed:I,isGuest:y}=(0,n("8Lx5S").useAccessStatus)(),{isLivePagesFeatureEnabled:A}=(0,n("gTyTP").useIsLivePagesFeatureEnabled)(),T=(0,n("cgSxj").useIsLivePagesAvailableInSpace)(),v=(0,n("3jwuS").useIsCurrentPageLive)(),{sidebarControlState:w}=(0,n("aWwYt").useObjectSidebarState)(),x=(0,n("dPJCf").useRouteName)(i),P=!(s&&(!h||C))&&!e&&A&&!S&&!E&&T&&!v&&(I||y),k=P&&!(0,n("9wGTI").fg)("cc_modernize_ga_changeboarding")&&(0,n("9wGTI").fg)("cc_onboarding_changeboarding_for_live_pages_eap"),O=P&&(0,n("9wGTI").fg)("cc_modernize_ga_changeboarding"),L=!v&&!x&&"shown"===w&&c&&!_&&(0,n("9wGTI").fg)("confluence_ai_uber_button_changeboarding"),{isUserEnrolledInNav4Changeboarding:R,isUserCompletedNav4Changeboarding:N,loading:D,error:M}=(0,n("irr7I").useIsNav4Changeboarding)(),j=(0,a.useCallback)(()=>{t(!0),r({key:n("9DBk6").LIVE_DOC_CHANGEBOARDING_ONBOARDING_STATE_KEYS.hasDismissedIntroSpotlight,value:"true"})},[r]),U=(0,a.useCallback)(()=>{r({key:n("9DBk6").LIVE_DOC_CHANGEBOARDING_ONBOARDING_STATE_KEYS.hasDismissedLiveDocTour,value:"true"})},[r]),V=(0,a.useCallback)(()=>{r({key:n("9DBk6").LIVE_DOC_CHANGEBOARDING_ONBOARDING_STATE_KEYS.hasDismissedAiButtonTour,value:"true"})},[r]);return((0,a.useEffect)(()=>{!(0,n("9wGTI").fg)("cc_modernize_ga_changeboarding")&&(b||g||p||m||l||d||!u&&(k&&j(),L&&V()))},[u,k,L,V,j,U,b,l,d,p,m,g]),b||M||d)?{...o,error:b||M||d}:g||D||m||l?{...o,loading:!0}:O?{...o,introSpotlight:{isVisible:!0,complete:j}}:(!R||N)&&u?L?{...o,aiButtonTour:{isVisible:!0,complete:V}}:k?{...o,introSpotlight:{isVisible:!0,complete:j}}:o:o}}),a("1zBOs",function(e,t){e.exports.useIsEstablishedUser=({skip:e})=>{let{userId:t}=(0,n("bQm3c").useSessionData)(),a=(0,n("2FNNv").useIsEstablishedUserTraitName)(),{data:o,loading:i,error:r}=(0,n("30D0J").useExperimentalUserPersonalizationQuery)({skip:e||!t,variables:{userId:t??""}});return{isEstablishedUser:!!o?.experimentalUserPersonalization?.attributes?.some(({name:e,value:t})=>e===a&&"true"===t),loading:i,error:r}}}),a("2FNNv",function(e,t){e.exports.useIsEstablishedUserTraitName=()=>{let{environment:e}=(0,n("bQm3c").useSessionData)();return"PRODUCTION"!==e?"confluence_is_established_user_stg":"confluence_is_established_user"}}),a("30D0J",function(e,t){e.exports.useExperimentalUserPersonalizationQuery=({skip:e,onError:t,variables:a})=>(0,n("dK51B").useExperimentalQuery)({url:({userId:e})=>`/gateway/api/tap-delivery/api/v3/personalization/user/${e}`,method:"GET",parseResult:e=>({experimentalUserPersonalization:{attributes:(0,n("CIjCq").stringifyPersonalizationAttributes)(e.attributes)}}),skip:e,onError:t,variables:a})}),a("evORK",function(e,t){e.exports.useIsAIFCOnbardingEligible=()=>{let{isRovoLLMEnabled:e,cloudId:t,userId:a}=(0,n("bQm3c").useSessionData)(),o=(0,n("8Lx5S").useIsLicensed)(),{data:i,loading:r,error:s}=(0,n("gqypm").useExperimentalSiteUserPersonalization)({variables:{cloudId:t,userId:a},skip:!a||!t||!o||!e||!(0,n("9wGTI").fg)("aifc_onboarding_killswitch")||!(0,n("9wGTI").fg)("aifc_create_enabled")}),l=i?.experimentalSiteUserPersonalization?.attributes,d=l?.find(({name:e})=>"confluence_first_active"===e)?.value,{attributes:c,loading:u,error:m}=(0,n("kAcNG").useSitePersonalizationQuery)({cloudId:t,skip:!t||!o||!e||!(0,n("9wGTI").fg)("aifc_onboarding_killswitch")||!(0,n("9wGTI").fg)("aifc_create_enabled")}),p=c?.find(({name:e})=>"confluence_aifc_enabled_datetime"===e)?.value,f=!!d&&!!p&&(0,n("dlSEv").default)(new Date(d),new Date(p));return m||u||s||r||!(0,n("9wGTI").fg)("aifc_onboarding_killswitch")||!(0,n("9wGTI").fg)("aifc_create_enabled")?{isAIFCOnbardingEligible:!1,error:m||s,loading:u||r}:{isAIFCOnbardingEligible:f,loading:!1}}}),a("kAcNG",function(e,t){let a=!1;e.exports.useSitePersonalizationQuery=({cloudId:e,skip:t,fetchPolicy:o})=>{let i=(0,n("8Lx5S").useIsLicensed)(),r=t||!i||a||!1,{data:s,loading:l,error:d}=(0,n("hcDKy").useExperimentalSitePersonalizationQuery)({variables:{cloudId:e},fetchPolicy:o||"cache-first",skip:r,onError(e){a=e?.graphQLErrors?.some(e=>(0,n("aMcHK").isStatusCodeError)(e,"401")||(0,n("1uFM6").isUnauthorizedError)(e))}});return{loading:l,error:d,attributes:s?.experimentalSitePersonalization?.attributes||[]}}}),a("hcDKy",function(e,t){e.exports.useExperimentalSitePersonalizationQuery=({skip:e,onError:t,variables:a,fetchPolicy:o})=>(0,n("dK51B").useExperimentalQuery)({url:({cloudId:e})=>`/gateway/api/tap-delivery/api/v3/personalization/site/${e}`,method:"GET",parseResult:e=>({experimentalSitePersonalization:{attributes:(0,n("CIjCq").stringifyPersonalizationAttributes)(e.attributes)}}),skip:e,onError:t,variables:a,fetchPolicy:o})}),a("cgSxj",function(e,t){var a=n("j1Ss3");e.exports.useIsLivePagesAvailableInSpace=()=>{let[e]=(0,n("ep3mz").usePageSpaceKey)(),{data:t}=(0,n("iLgzu").useExperimentalPromotedSpacesQuery)({skip:void 0!==e,variables:{promotedSpacesLimit:1,otherSpacesLimit:1,promotedSpaceKey:null}}),{data:o}=(0,a.useQuery)((0,n("eSUdr").default)`query useIsLivePagesAvailableInSpaceSpaceEnabledContentTypesQuery($spaceKey:String){space(key:$spaceKey){id key spaceTypeSettings{enabledContentTypes{isBlogsEnabled isDatabasesEnabled isEmbedsEnabled isLivePagesEnabled isWhiteboardsEnabled isFoldersEnabled}}}}`,{errorPolicy:"all",skip:!e&&!t,variables:{spaceKey:e||t?.experimentalPromotedSpaces?.nodes?.[0]?.id}});return!!o&&o?.space?.spaceTypeSettings?.enabledContentTypes?.isLivePagesEnabled}}),a("irr7I",function(e,t){let a=e=>!!(0,n("1uFM6").isUnauthorizedError)(e);e.exports.useIsNav4Changeboarding=()=>{let{cloudId:e,userId:t}=(0,n("bQm3c").useSessionData)(),o=(0,n("gz8ZY").useIsNav4Enabled)(),{data:i,loading:r,error:s}=(0,n("gqypm").useExperimentalSiteUserPersonalization)({variables:{cloudId:e,userId:t},skip:!t||!o});if(s&&a(s)&&(0,n("7Sm4c").markErrorAsHandled)(s),!o)return{isUserEnrolledInNav4Changeboarding:!1,isUserCompletedNav4Changeboarding:!1};let l=i?.experimentalSiteUserPersonalization?.attributes;return{isUserEnrolledInNav4Changeboarding:!!l?.some(({name:e,value:t})=>"segment_confluence_nav_4_changeboarding_cloned_siteuser"===e&&"true"===t),isUserCompletedNav4Changeboarding:!!l?.some(({name:e,value:t})=>"completed_cc-nav-4-changeboarding-prod"===e&&!!t),loading:r,error:s}}}),a("9cZ1w",function(e,t){let a=(0,n("epLE5").createLazyCallbackHook)(async()=>(await n("h3Trn")).showCreateWithRovoModalCloseFeedbackFlagThunk);e.exports.useLazyShowFeedbackFlag=a}),a("epLE5",function(e,t){var a=n("42omo");e.exports.createLazyCallbackHook=e=>(...t)=>(0,a.useCallback)((...n)=>e().then(e=>e(...t)(...n)),[...t])}),a("h3Trn",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("8dLea"),a("hhss7"),a("cyGuT"),a("k7MRD")]).then(()=>n("hlCkz"))}),a("cJeDc",function(e,t){var n,a=((n={}).AFTER_AIFC_MODAL_CLOSE="after-aifc-modal-close",n.AFTER_UPDATE_STREAM_COMPLETE="after-update-stream-complete",n);e.exports.FeedbackVariant=a}),a("lHQAj",function(t,a){var o=n("42omo"),i=n("4WmbV");let r=(0,o.forwardRef)(({as:t="div",style:a,...i},r)=>e(o).createElement(t,{...i,style:a,ref:r,className:(0,n("gMc0m").default)(["_1e0c1txw _2lx21bp4 _16jlkb7n _4cvr1h6o _bfhk1bhr _kqswh2mm",i.className])})),s=(0,o.forwardRef)(({as:t="div",style:a,...i},r)=>e(o).createElement(t,{...i,style:a,ref:r,className:(0,n("gMc0m").default)(["_1yt41ejb _1wpz1fhb",i.className])})),l=(0,o.forwardRef)(({as:t="div",style:a,...i},r)=>e(o).createElement(t,{...i,style:a,ref:r,className:(0,n("gMc0m").default)(["_18rx4jg8",i.className])}));l.displayName="CardContentsContainer";let d=(0,o.forwardRef)(({as:t="div",style:a,...i},r)=>e(o).createElement(t,{...i,style:a,ref:r,className:(0,n("gMc0m").default)(["_2rko12b0 _19itoecm _11q71bhr _1reo15vq _18m915vq _16qs130s",i.className])}));t.exports.Card=({children:t,...n})=>e(o).createElement(r,null,2>e(o).Children.count(t)?t:e(o).createElement("div",null,t),e(o).createElement(s,null,e(o).createElement(i.ChangeEditionSectionMessage,{...n,withTasteAndToneStyling:!0,buttonGroupAlignment:"right"}))),t.exports.CardContainer=({children:t})=>e(o).createElement(d,null,e(o).createElement(l,null,t))}),a("jIOyV",function(e,t){e.exports.MORE_ACTIONS_DROPDOWN_INTERACTION="more-actions-dropdown",e.exports.MOVE_PAGE_DIALOG_INTERACTION="move-page-dialog",e.exports.CONTENT_ANALYTICS_DIALOG_INTERACTION="content-analytics-dialog",e.exports.CONTENT_ANALYTICS_DIALOG_MENTIONS_TAB_INTERACTION="content-analytics-dialog-mentions-tab",e.exports.RESTRICTIONS_DIALOG_INTERACTION="restrictions-dialog",e.exports.QUICK_SUMMARY_DIALOG_INTERACTION="quick-summary-dialog",e.exports.OPEN_LOOM_RECORDER_SDK_INTERACTION="open-loom-recorder-sdk",e.exports.INITIALIZE_LOOM_RECORDER_SDK_INTERACTION="initialize-loom-recorder-sdk",e.exports.COMMENTS_SUMMARY_COMPONENT_INTERACTION="comments_summary_component",e.exports.CREATE_SPACE_DRAWER_INTERACTION="create-space-drawer",e.exports.VIEW_AI_PRESENTATION_INTERACTION="ai-presentation-modal",e.exports.AI_CONTENT_CATCHUP_INTERACTION="ai-content-catchup",e.exports.AI_AUDIO_BRIEFING_INTERACTION="ai-audio-briefing"}),a("d3UlG",function(e,t){var a=n("42omo"),o=n("5NXxU");e.exports.useConvoAIStreaming=function(e,t,i){let r=(0,a.useRef)(crypto.randomUUID()),[s,l]=(0,n("6yCLg").useStatefulObservableEffect)(n("cPtvM").convoAIStreamingEffect,(0,n("kAaxz").getDefaultConvoAIStreamingState)(),[e,t,r.current]);return(0,n("iIEgX").useObservableEffect)(e=>e.pipe((0,o.tap)(([e,t])=>t?.(e))),[s,i]),[s,(0,a.useCallback)(()=>{r.current=crypto.randomUUID(),l({inputs:[e,t,r.current],state:(0,n("kAaxz").getDefaultConvoAIStreamingState)()})},[e,t,l])]}}),a("6yCLg",function(e,t){var a=n("42omo");e.exports.useStatefulObservableEffect=function(e,t,o){let[i,r]=(0,n("aXpOY").useStatefulObservableLazyEffect)(e,t);return(0,a.useEffect)(()=>{r({inputs:o,state:t})},o),[i,r]}}),a("cAdj8",function(e,t){var a=n("42omo"),o=n("j1Ss3");let i=(0,n("eSUdr").default)`query usePageInfoPageInfoQuery($pageId:ID){content(id:$pageId status:["current" "archived" "draft"]){nodes{id type status space{id}operations{operation targetType}version{number}}}}`,r={id:"",type:"",status:"",space:{id:""},operations:[],version:{number:-1}};e.exports.usePageInfo=({fetchPolicy:e="cache-and-network",onCompleted:t,onError:s}={})=>{let[l]=(0,n("ep3mz").usePageContentId)(),{data:d,loading:c,error:u,refetch:m}=(0,o.useQuery)(i,{variables:{pageId:l},fetchPolicy:e,onCompleted:t});return(0,a.useMemo)(()=>{if(u)return((0,n("1uFM6").isUnauthorizedError)(u)||u instanceof n("flE5X").NoNetworkError)&&(0,n("7Sm4c").markErrorAsHandled)(u),s?.(u),{pageInfo:null,loading:!1,error:u,refetch:null};if(d){let e=d.content?.nodes?.[0]??null;return e?{pageInfo:e,loading:c,error:void 0,refetch:m}:{pageInfo:{...r},loading:c,error:void 0,refetch:m}}return{pageInfo:null,loading:c,error:void 0,refetch:null}},[d,c,u,s,m])}}),a("dOOm2",function(e,t){var a=n("l998X");let o=(0,n("42omo").forwardRef)(({as:e="div",style:t,...o},i)=>(0,a.jsx)(e,{...o,style:t,ref:i,className:(0,n("gMc0m").default)(["_1bsb1osq _kqswh2mm _c71l1kw7",o.className])})),i=(0,n("ecnYn").xcss)({overflow:"hidden",position:"relative",background:`conic-gradient(
    from var(--gradient-angle, 45deg),
    #0065FF 10%,
    #0469FF 30%,
    #BF63F3 50%,
    #FFA900 70%,
    #0065FF 90%
  )`,...n("7hpmn").reduceMotionAsPerUserPreference,maxHeight:"inherit"}),r=(0,n("ecnYn").xcss)({animation:"rotationAnimation linear 2s infinite"}),s=(0,n("ecnYn").xcss)({position:"absolute",filter:"blur(25px)",opacity:"0.5",height:"100%",width:"100%"}),l=(0,n("ecnYn").xcss)({borderRadius:"radius.large"}),d=(0,n("ecnYn").xcss)({borderRadius:"radius.small"}),c=(0,n("ecnYn").xcss)({backgroundColor:"elevation.surface.overlay",maxHeight:"inherit",display:"flex",flexDirection:"column",backgroundClip:"content-box"});e.exports.AIBorder=({loading:e=!1,children:t,useModalStyles:u,hideGlow:m,customInnerContainerStyles:p,customGlowStyles:f,...g})=>{let b=(0,n("7hpmn").useIsReducedMotion)(),E=e&&!b,S=E?[i,r]:[i],_=u?d:l;return(0,a.jsxs)(o,{"data-testid":"ai-border-container",...g,children:[E&&(0,a.jsx)(n("6f0Oj").default,{xcss:[...S,_,...m?[]:f?[s,f]:[s]],testId:"loading-glow"}),(0,a.jsx)(n("6f0Oj").default,{xcss:[...S,_],children:(0,a.jsx)(n("6f0Oj").default,{padding:"space.025",xcss:[c,_,p],children:t})})]})}}),a("dchHi",function(t,a){var o=n("42omo");let i="customfield_10047",r=(0,o.createContext)(void 0);t.exports.FeedbackCollectorPropertiesProvider=({children:t,entrypointId:a,locale:s,feedbackContextId:l=i,feedbackContext:d={},userId:c,displayName:u})=>{let{displayName:m,userId:p}=(0,n("bQm3c").useSessionData)(),{locale:f}=(0,n("8C5kA").default)(),g=Object.entries(d).map(([e,t])=>`${e}: ${JSON.stringify(t)}`).join(" "),b=(0,o.useMemo)(()=>({entrypointId:a,feedbackContextId:l,feedbackContext:g,locale:s||f,userId:c||p||void 0,displayName:u||m||void 0}),[a,l,g,s,f,c,p,u,m]);return e(o).createElement(r.Provider,{value:b},t)},t.exports.useFeedbackCollectorProperties=()=>{let e=(0,o.useContext)(r);if(void 0===e)throw Error("useFeedbackCollectorProperties must be used within a FeedbackCollectorPropertiesProvider");return e}}),a("kfIha",function(e,t){let n=()=>!!(navigator.clipboard&&"function"==typeof navigator.clipboard.writeText);e.exports.useCopyToClipboard=()=>({copyToClipboard:async e=>{e&&n()&&await navigator.clipboard.writeText(e)}})}),a("5qqdA",function(e,t){e.exports.CONVERSATION_ASSISTANT_CONTAINER_ID="ai-mate-container",e.exports.CONVERSATION_ASSISTANT_CONTAINER_WIDTH=439,e.exports.CONVERSATION_ASSISTANT_BRAND_NAME="Chat",e.exports.DEFAULT_PAGE_TITLE="Rovo"}),a("ai7NK",function(e,t){let a=(0,n("1P1Tu").createStore)({initialState:{isSidePanelOpen:!1},actions:{showSidePanel:()=>({setState:e})=>{e({isSidePanelOpen:!0})},hideSidePanel:()=>({setState:e})=>{e({isSidePanelOpen:!1})}},name:"SidePanelState"}),o=(0,n("9zUhf").createActionsHook)(a),i=(0,n("9zUhf").createStateHook)(a,{selector:e=>e.isSidePanelOpen});e.exports.useSidePanelStateActions=o,e.exports.useIsSidePanelOpen=i}),a("kmWRd",function(t,a){var o=n("3u0dr"),i=n("frIzR"),r=n("42omo");let s=(0,n("ecnYn").xcss)({position:"absolute",width:"100%",backgroundColor:"elevation.surface",height:"100%",top:"0",right:"0",left:"0",bottom:"0",display:"flex",flexDirection:"column"}),l=(0,o.isReactCompilerActiveV1)()?t=>{let a,o,l=(0,i.c)(9),{headerHeight:d,isFixed:c,children:u,displayTopBorder:m,panelTop:p,isOpen:f}=t,g=void 0===d?0:d,b=void 0===p?0:p,E=void 0===f||f;return l[0]!==u||l[1]!==m||l[2]!==g||l[3]!==c||l[4]!==E||l[5]!==b?(a=E&&e(r).createElement(n("h3cbw").default,{enterFrom:"right",fade:"inout"},t=>e(r).createElement("div",{...t,style:{backgroundColor:"elevation.surface",position:c?"fixed":"absolute",right:"0",top:`${b}px`,width:"320px",padding:"space.300",borderLeft:"var(--ds-border-width, 1px) solid var(--ds-border, #0B120E24)",height:`calc(100vh - ${g}px)`,borderTop:m?"var(--ds-border-width, 1px) solid var(--ds-border, #0B120E24)":"none"}},e(r).createElement(n("6f0Oj").default,{xcss:s},u))),l[0]=u,l[1]=m,l[2]=g,l[3]=c,l[4]=E,l[5]=b,l[6]=a):a=l[6],l[7]!==a?(o=e(r).createElement(n("g9Srd").default,{appear:!0},a),l[7]=a,l[8]=o):o=l[8],o}:({headerHeight:t=0,isFixed:a,children:o,displayTopBorder:i,panelTop:l=0,isOpen:d=!0})=>e(r).createElement(n("g9Srd").default,{appear:!0},d&&e(r).createElement(n("h3cbw").default,{enterFrom:"right",fade:"inout"},d=>e(r).createElement("div",{...d,style:{backgroundColor:"elevation.surface",position:a?"fixed":"absolute",right:"0",top:`${l}px`,width:"320px",padding:"space.300",borderLeft:"var(--ds-border-width, 1px) solid var(--ds-border, #0B120E24)",height:`calc(100vh - ${t}px)`,borderTop:i?"var(--ds-border-width, 1px) solid var(--ds-border, #0B120E24)":"none"}},e(r).createElement(n("6f0Oj").default,{xcss:s},o))));t.exports.SidePanel=l}),a("4WZFP",function(t,a){var o=n("3u0dr"),i=n("frIzR"),r=n("42omo");let s=(0,o.isReactCompilerActiveV1)()?t=>{let a,o=(0,i.c)(2),{children:s}=t;return o[0]!==s?(a=e(r).createElement(n("gdv5Z").default,{paddingBlock:"space.100",paddingInlineStart:"space.300",paddingInlineEnd:"space.150"},s),o[0]=s,o[1]=a):a=o[1],a}:({children:t})=>e(r).createElement(n("gdv5Z").default,{paddingBlock:"space.100",paddingInlineStart:"space.300",paddingInlineEnd:"space.150"},t);t.exports.SidePanelHeader=s}),a("2YmgJ",function(e,t){let a=(0,n("1P1Tu").createStore)({initialState:{actionFilter:void 0,actions:[],jiraIssueViewActions:void 0,input:"",activeAction:void 0,buttonClickedTimestamp:void 0},actions:{setConversationActions:e=>({setState:t})=>{t({actions:e})},setJiraIssueViewActions:e=>({setState:t})=>{t({jiraIssueViewActions:e})},setInput:e=>({setState:t})=>{t({input:e})},setActionFilter:e=>({setState:t})=>{t({actionFilter:e})},setActiveAction_UNSAFE:e=>({setState:t})=>{t({activeAction:e})},setActiveActionFollowUpContext:e=>({getState:t,setState:n})=>{let a=t().activeAction;a&&"customFollowUpContext"in a&&n({activeAction:{...a,customFollowUpContext:e}})},setButtonClickedTimestamp:e=>({setState:t})=>{t({buttonClickedTimestamp:e})},getConversationActions:()=>({getState:e})=>e().actions,getActionFilter:()=>({getState:e})=>e().actionFilter,getInput:()=>({getState:e})=>e().input,getActiveAction:()=>({getState:e})=>e().activeAction,getButtonClickedTimestamp:()=>({getState:e})=>e().buttonClickedTimestamp}}),o=(0,n("9zUhf").createHook)(a),i=(0,n("9zUhf").createActionsHook)(a),r=(0,n("9zUhf").createStateHook)(a);e.exports.useConversationActionsStore=o,e.exports.useConversationActionsStoreActions=i,e.exports.useConversationActionsStoreState=r}),a("2bR8c",function(e,t){var a=n("42omo");e.exports.useCreateRovoExperienceSidebarController=()=>{let e=(0,n("jln20").useRightSidebarContext)(),{panelId:t}=e.getCurrent()||{},o=t===n("5qqdA").CONVERSATION_ASSISTANT_CONTAINER_ID;return(0,a.useMemo)(()=>({isSidebarOpen:()=>o,openSidebar:()=>{e.open(n("5qqdA").CONVERSATION_ASSISTANT_CONTAINER_ID,n("5qqdA").CONVERSATION_ASSISTANT_CONTAINER_WIDTH)},closeSidebar:()=>{o&&e.close(n("5qqdA").CONVERSATION_ASSISTANT_CONTAINER_ID)}}),[o,e])}}),a("b6KjD",function(e,t){var a=n("l998X");n("42omo");let o={wrapper:"_vchhusvi _1bsb1ina _19pkpxbi _4t3inau3 _bfhkvuon _1e0c1txw _2lx21bp4 _ae4v1fhb _4cvr1fhb",wrapperNav4:"_vchhusvi _1bsb1osq _4t3i1osq _bfhkvuon _1e0c1txw _2lx21bp4 _ae4v1fhb _4cvr1fhb",wrapperHeight:"_1tke1edt",externalEmbed:"_19pkze3t _2hwxze3t _otyrze3t _18u0ze3t _1bsb1osq _4t3i1osq",fullscreenDebug:"_1r04ze3t _kqsw1n9t _19pkze3t _2hwxze3t _otyrze3t _18u0ze3t _4t3in7od _1bsbn7od",halfWidth:"_1bsb1ssb"},i={borderNavV3:"_1h6d1l7x _189ee4h9 _1dqonqa1 _13li1mok _qrwq1mok",borderNavV4:"",borderFullScreenDebug:"_2rko1mok _1dqonqa1 _1h6d1w55 _189e1mok",borderExternalEmbed:"",borderStagingArea:"_2rkopb1k _16qst7xp"};e.exports.MainWrapper=({testId:e,children:t,isNav4Enabled:r,mode:s})=>{let l=s===n("hR4U4").ConversationAssistantUIModes.MINI_MODAL,{externalEmbed:d,fullScreen:c,elements:u}=(0,n("i08Mr").useUIConfig)(),{stagingAreaMode:m}=(0,n("2O3ot").useStagingAreaState)(),p="true"===localStorage.getItem("DEBUG_rovo_chat_fullscreen")&&(0,n("dh538").fg)("rovo_chat_show_local_frontend_components");return p?(0,a.jsx)(n("caX7N").default,{zIndex:500,children:(0,a.jsx)("div",{"data-testid":e,className:(0,n("gMc0m").default)([r?o.wrapperNav4:o.wrapper,l?"_2rko1tm3 _1reo15vq _18m915vq _v5641kxi _16qs130s":o.wrapperHeight,d&&o.externalEmbed,o.fullscreenDebug,i.borderFullScreenDebug]),children:t})}):(0,a.jsx)("div",{"data-testid":e,className:(0,n("gMc0m").default)([r?o.wrapperNav4:o.wrapper,l?"_2rko1tm3 _1reo15vq _18m915vq _v5641kxi _16qs130s":o.wrapperHeight,d&&o.externalEmbed,i[u?.stagingAreaEnabled?"borderStagingArea":d?"borderExternalEmbed":p?"borderFullScreenDebug":r?"borderNavV4":"borderNavV3"],c&&"inline"===m&&o.halfWidth]),children:t})}}),a("zCcSI",function(e,t){var a=n("42omo"),o=n("32x2E"),i=n("9cZ1w");e.exports.useConversationAssistantConfig=({assistanceServiceConfigHeaders:e={},preventAbortRequestsOnStagingModalClose:t=!1,preventAbortRequestsOnStandaloneChatClose:i=!1})=>{let{cloudId:r,orgId:s,userId:l}=(0,n("bQm3c").useSessionData)(),d=(0,a.useMemo)(()=>(0,o.getEmojiProvider)(n("ibzAc").default,{cloudId:r,userId:l}),[l,r]);return{displaySubmitFlag:!0,siteId:r,product:"confluence",orgId:s,assistanceServiceConfig:{headers:e,baseUrl:"/gateway/api/assist"},emojiProvider:d,userId:l??void 0,preventAbortRequestsOnStagingModalClose:t,preventAbortRequestsOnStandaloneChatClose:i}},e.exports.useConversationAssistantUiConfig=({flags:e})=>{let{push:t}=(0,n("dPJCf").useRouteActions)(),o=(0,n("8C5kA").default)(),{showModal:r}=(0,n("8aF6s").useDialogs)(),{createAnalyticsEvent:s}=(0,n("inPa6").useAnalyticsEvents)(),{cloudId:l}=(0,n("bQm3c").useSessionData)(),d=(0,a.useCallback)(async({baseUrl:e,path:a})=>{(0,n("c96tF").createNavigateToObject)(t)({baseUrl:e,path:a}),await new Promise(e=>setTimeout(e,500))},[t]),c=(0,i.useLazyShowFeedbackFlag)(e,o,r,s);return{customHandlers:{handleSubmitSmartCreate:d,handleCloseSmartCreate:(0,a.useCallback)(()=>{c(n("cJeDc").FeedbackVariant.AFTER_AIFC_MODAL_CLOSE,void 0,l)},[c,l])}}}}),a("c96tF",function(e,t){let a=e=>{let t=window.location.host;return e.includes(t)&&e.includes(n("jlIaF").CONTEXT_PATH)},o=(e,t)=>{let n=new URL(t,e);return n.searchParams.set("flow","aiCreate"),n.pathname+n.search};e.exports.createNavigateToObject=e=>({baseUrl:t,path:i})=>{let r=!!n("1NBp8").DATABASE_VIEW.match(`${t}${i}`),s=i;r&&(s=o(t,i)),a(t)?e(n("jlIaF").CONTEXT_PATH+s):window.location.href=`${t}${s}`}}),a("5ruin",function(e,t){let a={getActions:async()=>[]},o=(0,n("1P1Tu").createStore)({initialState:{configuration:a},actions:{setConfiguration:e=>({setState:t})=>{t({configuration:e})},resetConfiguration:()=>({setState:e})=>{e({configuration:a})},updateConfiguration:e=>({setState:t,getState:n})=>{t({configuration:{...n().configuration,...e}})}},name:"RovoCurrentConfigStore"}),i=(0,n("9zUhf").createActionsHook)(o),r=(0,n("9zUhf").createStateHook)(o,{selector:e=>e.configuration});e.exports.useRovoCurrentConfigStoreActions=i,e.exports.useRovoCurrentConfig=r}),a("8LJEA",function(e,t){var a=n("l998X");n("42omo");let o=(0,n("ecnYn").xcss)({color:"color.text.subtlest",backgroundColor:"elevation.surface.sunken",padding:"space.150",borderRadius:"radius.large",borderBottomLeftRadius:"radius.small"}),i=(0,n("cgtv4").defineMessages)({generatingSummaryText:{id:"ai-summary-loading.title",defaultMessage:"Writing a summary"},generatingSummaryAnimationAlt:{id:"ai-stream-loading.generation-animation",defaultMessage:"Generating"}});e.exports.AISummaryLoading=()=>{let{formatMessage:e}=(0,n("8C5kA").default)();return(0,a.jsx)(n("6f0Oj").default,{xcss:o,children:(0,a.jsxs)(n("1GzhS").default,{space:"space.100",children:[(0,a.jsx)(n("gtD4K").default,{...i.generatingSummaryText}),(0,a.jsx)(n("igbBp").GeneratingStreamAnimation,{alt:e(i.generatingSummaryAnimationAlt)})]})})}}),a("8jP1I",function(e,t){let a=(0,n("jmjWc").LoadableLazy)({__loadable_id__:"0IK46",name:"AISummaryFooter",loader:async()=>(await n("2GMRP")).AISummaryFooter});e.exports.AISummaryFooter=a}),a("2GMRP",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("jSdjl"),a("l2EUC"),a("6wr18"),a("736as"),a("ffEVr"),a("kUbT8")]).then(()=>n("4KbgO"))}),a("bbNJt",function(e,t){var a=n("42omo");let o=(0,a.forwardRef)(({as:e="div",style:t,...o},i)=>{let{useMaxHeight:r,...s}=o;return a.createElement(e,{...s,style:t,ref:i,className:(0,n("gMc0m").default)(["_11c81ixg _18m91wug _1i4q1hna _o5724jg8 _1suq1j28 _1ke81kwk _155a1mok _aayni8nm _1oglplhp",o.useMaxHeight?"_c71lgbqg":"_c71ln7od",o.className])})});e.exports.MAX_SUMMARY_HEIGHT=358,e.exports.SummaryPopupScrollableBody=o}),a("dL3KX",function(e,t){var a,o=n("42omo"),i=((a={}).TooMuchContent="tooMuchContent",a.NotEnoughContent="notEnoughContent",a.RateLimit="rateLimit",a.AUPViolation="aupViolation",a.GeneralError="generalError",a);let r={"Atlassian Intelligence can’t generate a summary for you right now, as there is too much content to summarize.":"tooMuchContent","Atlassian Intelligence can’t generate a summary for you right now, as there is not enough content to summarize. You can try again later if more is added!":"notEnoughContent",TOO_MANY_REQUEST:"rateLimit",AUP_VIOLATION:"aupViolation"},s={[n("93WqG").ConvoAIErrorMessage.ANSWER_UNAVAILABLE_FOR_CONTENT]:"notEnoughContent",[n("93WqG").ConvoAIErrorMessage.NOT_ENOUGH_CONTENT_ERROR]:"notEnoughContent",[n("93WqG").ConvoAIErrorMessage.RATE_LIMIT]:"rateLimit",[n("93WqG").ConvoAIErrorMessage.ACCEPTABLE_USE_VIOLATIONS]:"aupViolation"},l=["tooMuchContent","notEnoughContent","aupViolation"];e.exports.HandledErrorType=i,e.exports.useSummaryErrorHelper=(e,t)=>{let a=(0,o.useContext)(n("1kHsc").ExperienceTrackerContext),{errorType:i,isExpectedError:d,error:c}=(0,o.useMemo)(()=>{if(!t)return{isExpectedError:!1,stopExperienceTracking:()=>{},errorType:void 0,error:Error("[useSummaryErrorHelper]: error instance is missing")};let e="",n="";return"graphQLErrors"in t?(n=r[t.graphQLErrors[0].message],{isExpectedError:l.includes(n),error:t,errorType:n}):(n=s[t.message.message_template],{isExpectedError:l.includes(n),error:Error(t.message.content),errorType:n})},[t]);return{isExpectedError:d,stopExperienceTracking:()=>{d?((0,n("7Sm4c").markErrorAsHandled)(c),a.abort({name:e,reason:`Can not generate summary due to ${i}`})):a.fail({name:e,error:c})},error:c,errorType:i}}}),a("53ZHq",function(e,t){e.exports.TROUBLE_SHOOTING_DOCS_URL="https://support.atlassian.com/organization-administration/docs/troubleshooting-for-atlassian-intelligence/",e.exports.USAGE_LIMITS_DOCS_URL="https://support.atlassian.com/organization-administration/docs/excessive-use-in-atlassian-intelligence/",e.exports.ACCEPTABLE_USE_POLICY_URL="https://www.atlassian.com/legal/acceptable-use-policy"}),a("f7MuR",function(e,t){var a=n("42omo");let o=(0,n("1P1Tu").createStore)({initialState:{data:null,loading:!1,error:null},actions:{start:()=>({setState:e})=>{e({loading:!0,error:null})},success:e=>({setState:t})=>{t({data:e,loading:!1,error:null})},error:e=>({setState:t})=>{t({error:e,loading:!1})},reset:()=>({setState:e})=>{e({data:null,loading:!1,error:null})}},name:"siteUserTraitsStore"}),i=(0,n("9zUhf").createHook)(o);async function r(e,t){let a=await (0,n("f7B1p").cfetch)(`/gateway/api/tap-delivery/api/v3/personalization/site/${e}/user/${t}`,{method:"GET"});if(!a.ok){let e=await a.text().catch(()=>"");throw Error(`Request failed with ${a.status}: ${e||a.statusText}`)}return await a.json()}(0,n("9zUhf").createActionsHook)(o);let s=!1;e.exports.useSiteUserTraits=function({skipBootstrap:e}={}){let t=(0,a.useMemo)(()=>(function(){let e=null;if("undefined"!=typeof window&&window.__SSR_TAP_CONTEXT__&&(e=(0,n("dcJRl").formatTapTraits)(window.__SSR_TAP_CONTEXT__.siteUser)))return{attributes:e};let{tapContext:t}=(0,n("60cDW").getSSRRenderInputs)();return(e=(0,n("dcJRl").formatTapTraits)(t?.siteUser))?{attributes:e}:null})(),[]),[{data:o,loading:l,error:d},c]=i(),{accessStatus:u,cloudId:m,userId:p}=(0,n("bQm3c").useSessionData)(),f="LICENSED_USE_ACCESS"===u||"LICENSED_ADMIN_ACCESS"===u;return((0,a.useEffect)(()=>{t||o||l||d||s||e||f&&m&&p&&(s=!0,c.start(),r(m,p).then(c.success).catch(c.error))},[e,t,o,l,d,c,f,m,p]),t)?{data:t,loading:!1,error:null}:{data:o,loading:l,error:d}}}),a("NomII",function(t,a){var o=n("42omo");let i=(0,o.forwardRef)(({as:t="div",style:a,...i},r)=>e(o).createElement(t,{...i,style:a,ref:r,className:(0,n("gMc0m").default)(["_2rko1mok _16qs130s _1pbykb7n _nt751r31 _49pcglyw _1hvw1o36",i.className])})),r=(0,o.forwardRef)(({children:t,...a},r)=>{let s=(0,n("8C5kA").default)();return e(o).createElement(i,{...a,ref:r,role:"dialog","aria-label":s.formatMessage(n("bmowW").i18n.quickSummaryLabel)},e(o).createElement(n("eyWa4").default,{space:"space.150"},t))});t.exports.CustomPopupContainer=r}),a("bmowW",function(e,t){let a=(0,n("cgtv4").defineMessages)({quickSummaryLabel:{id:"quick-summary.label.text",defaultMessage:"Quick summary"},quickSummaryToolTipText:{id:"quick-summary.tooltip.text",defaultMessage:"Summarize"},quickSummaryFeatureSpotlightText:{id:"quick-summary.feature-spotlight-one.text",defaultMessage:"This might be a longer read. Save time and read a quick summary from Atlassian Intelligence."},quickSummarySpotlightSummarizeText:{id:"quick-summary.spotlight.summarize.button.text",defaultMessage:"Summarize"},quickSummarySpotlightCloseButtonText:{id:"quick-summary.spotlight.close.button.text",defaultMessage:"Dismiss"},quickSummaryOptInDialogHeaderText:{id:"quick-summary.opt-in.dialog.header.text",defaultMessage:"Work smarter, not harder"},quickSummaryOptInDialogBodyText:{id:"quick-summary.opt-in.dialog.body.text",defaultMessage:"Save time by reading an Al-generated summary instead of an entire page or blog with <a>Atlassian Intelligence</a>. <br></br><br></br> Interested in trying Atlassian Intelligence? Your admin can activate AI features from Atlassian Administration."},quickSummaryAdminOptInDialogBodyText:{id:"quick-summary.admin.opt-in.dialog.body.text",defaultMessage:"Save your team time by reading an Al-generated summary instead of an entire page with <a>Atlassian Intelligence</a>. <br></br><br></br> Activate Atlassian Intelligence features for your users from Atlassian Administration."}}),o=(0,n("cgtv4").defineMessages)({quickSummaryOptInDialogBodyText:{id:"quick-summary.opt-in.dialog.body.text.livedocs",defaultMessage:"Save time by reading an Al-generated summary instead of an entire page, live doc, or blog with <a>Atlassian Intelligence</a>. <br></br><br></br> Interested in trying Atlassian Intelligence? Your admin can activate AI features from Atlassian Administration."},quickSummaryAdminOptInDialogBodyText:{id:"quick-summary.admin.opt-in.dialog.body.text.livedocs",defaultMessage:"Save your team time by reading an Al-generated summary instead of an entire page or live doc with <a>Atlassian Intelligence</a>. <br></br><br></br> Activate Atlassian Intelligence features for your users from Atlassian Administration."}}),i=(0,n("jhwJP").mergeLiveDocI18n)(a,o);e.exports.i18n=i}),a("brrvF",function(t,a){var o=n("42omo"),i=n("42MJM"),r=n("fykBu"),s=n("7bACx");let l=(0,n("cgtv4").defineMessages)({headerText:{id:"quick-summary.upsell.header.text",defaultMessage:"Help your organization work smarter"},learnMoreLinkTextAdmin:{id:"quick-summary.upsell.learn-more.link.text.admin",defaultMessage:"More about Atlassian Intelligence"},learnMoreLinkTextUser:{id:"quick-summary.upsell.learn-more.link.text.user",defaultMessage:"Learn more about Atlassian Intelligence"},bodyTextAdmin:{id:"quick-summary.upsell.body.text.admin",defaultMessage:"Save over 45 minutes per week with Atlassian Intelligence features when you upgrade to the Premium plan."},bodyTextUser:{id:"quick-summary.upsell.body.text.user",defaultMessage:"With the premium plan, you could be saving over 45 minutes per week with Atlassian Intelligence features."}}),d=(0,n("cgtv4").defineMessages)({bodyTextAdmin:{id:"quick-summary.upsell.body.text.admin.livedocs",defaultMessage:"Save time and generate summaries for pages, live docs, or blogs with Atlassian Intelligence. Upgrade to Premium to give it a try."},bodyTextUser:{id:"quick-summary.upsell.body.text.user.livedocs",defaultMessage:"With the Premium plan, you could be saving time by summarizing pages, live docs, and blogs using Atlassian Intelligence."}}),c=(0,n("jhwJP").mergeLiveDocI18n)(l,d);t.exports.QuickSummaryUpsell=()=>{let t=(0,n("8C5kA").default)(),{isSiteAdmin:a}=(0,o.useContext)(n("1ytiN").SPAViewContext),l=t.formatMessage(c.headerText),d=a?t.formatMessage(c.bodyTextAdmin):t.formatMessage(c.bodyTextUser),u=a?t.formatMessage(c.learnMoreLinkTextAdmin):t.formatMessage(c.learnMoreLinkTextUser);return e(o).createElement(i.AIUpsell,{title:l,body:d,feature:"quickSummary",learnMoreLink:{href:"https://support.atlassian.com/organization-administration/docs/understand-atlassian-intelligence-features-in-products/",message:u},image:{src:{default:e(r),dark:e(s)},alt:""}})}}),a("fykBu",function(e,t){e.exports=new URL("quickSummaryUpsellBannerLight.edcc3647.svg",import.meta.url).toString()}),a("7bACx",function(e,t){e.exports=new URL("quickSummaryUpsellBannerDark.e27429f6.svg",import.meta.url).toString()}),a("aUTn5",function(e,t){let a='.user-mention,[data-mention-id],.ap-container,a[href^="/"],.conf-macro[data-hasbody="false"],.status-lozenge-span,.date-lozenger-container,[data-inline-card="true"],.inlineCardView-content-wrap,.smart-link-title-wrapper,.jira-issue,.ak-renderer-extension-overflow-container button,[data-node-type="expand"] > button,[data-node-type="nestedExpand"] > button,.jira-issues,.datasource-table,[data-type=\'file\'],.code-block,.conf-macro[data-macro-name="code"],.pm-table-sticky-wrapper,.blockCardView-content-wrap,.ak-excerpt-include,#view-all-inline-comments-container,s,[data-emoji-id],[data-mark-type=\'dataConsumer\'],#reattach-container,[extensionkey=\'gadget\'],span[data-placeholder],[contenteditable=\'false\'],[data-node-type=\'include\'],.page-properties-report';function o(e,t,o,i,r){let s,l=(0,n("2zMIV").textNormalize)(String(t)),d=l.trim();return d&&(s=function(e,t,o,i,r){let s=Array.from(e.querySelectorAll(".pm-table-sticky-wrapper")),l=Array.from(e.querySelectorAll(a)),{text:d,nodesStartPos:c,nodes:u}=(0,n("kbVzJ").indexTextNodes)(e,[...l,...s]),{index:m,numMatches:p,matchTraceList:f}=(0,n("kbVzJ").findMatches)(d,t,o.startContainer,o.startOffset,c,u,r),g={pageId:i,selectedText:t,index:m,numMatches:p};return f&&(g.matchTraceList=f),g}(e,l,t,o,r)),r?s.matchTraceList:{text:d,searchText:s,area:function(e){let t=window.scrollY,n=window.scrollX,a=e.getClientRects();if(!a.length&&e.parentElement&&e.parentElement()){let o=$(e.parentElement()),i=o.offset();i&&(a=[{top:i.top-t,left:i.left-n,bottom:i.top+(o.height()||0),right:i.left+(o.width()||0)}])}let o=function(e,t){let n={first:t[0],last:t[t.length-1]};return"undefined"!==e.endOffset&&0===e.endOffset&&t.length>1&&(n.last=t[t.length-2]),n}(e,a);return{first:function(e){let a={};return e&&(a.width=e.right-e.left,a.height=e.bottom-e.top,a.left=e.left+n,a.right=e.right+n,a.top=e.top+t,a.bottom=e.bottom+t),a}(o.first),average:function(e,a){let o={};return o.top=e.top,o.left=(e.left||0)+n,o.bottom=a.bottom,void 0!==e.left&&void 0!==e.right&&void 0!==a.left&&void 0!==a.right&&(e.left>=a.right?o.right=e.right:o.right=a.right),o.right=(o.right||0)+n,o.top=(o.top||0)+t,o.bottom=(o.bottom||0)+t,o.width=o.right-o.left,o.height=o.bottom-o.top,o}(o.first,o.last)}}(t),html:$("<div>").append(t.cloneContents()).html(),containingElement:function(e){if(e.commonAncestorContainer){let t=e.commonAncestorContainer;return 3===t.nodeType?t.parentNode:t}}(t),range:t,lastModified:i}}e.exports.IGNORE_SELECTORS=a,e.exports.convertSelectionToLegacyFormat=o,e.exports.getMatchTraces=function(e,t,n){return o(e,t,n,null,!0)||[]}}),a("2zMIV",function(e,t){let a=(0,n("7W8i8").getLogger)("highlight-action"),o=()=>{let e=window.getSelection();if(!e||e.isCollapsed)return null;let t=e.getRangeAt(0);return String(t).trim()?t:null},i=e=>e?1===e.nodeType&&e.classList.contains("pm-table-sticky-wrapper")?e:e.parentElement?i(e.parentElement):null:null,r=e=>{if(e.commonAncestorContainer){let t=e.commonAncestorContainer;return 3===t.nodeType?t.parentNode:t}return null};e.exports.isHighlightValidForInlineComment=(e,t)=>{let o,i=window.getSelection();if(!i||i?.type==="None")return!1;try{o=(0,n("aUTn5").convertSelectionToLegacyFormat)(e,i.getRangeAt(0),t)}catch(e){a.error`An error occurred while highlighting content - ${e}`}if(!o||!o.searchText)return!1;let{searchText:{selectedText:r,index:s,numMatches:l}}=o;return r.replace(/\n/g,"").length>0&&-1!==s&&l>0&&s<l},e.exports.isHighlightValidForBulkCreateJiraIssues=()=>{let e=window.getSelection();if(!e||e?.type==="None")return!1;let t=o();if(!t)return!1;let n=r(t);return n instanceof HTMLElement&&!!n.closest("table")},e.exports.getRange=o,e.exports.textNormalize=e=>e.replace(/\u00a0/g," "),e.exports.findStickyHeader=i}),a("kbVzJ",function(e,t){function a(e){return e&&e.nodeValue?e.nodeValue.length:0}e.exports.indexTextNodes=function(e,t){let a,o="",i=[],r=[],s=e=>t.some(t=>t===e||t.contains(e))?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT;s.acceptNode=s;let l=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,s,!1);for(;a=l.nextNode();){let e=(0,n("2zMIV").textNormalize)(a.nodeValue);(/^\u0020+$/.test(e)||e.trim())&&(i.push(o.length),r.push(a),o+=e)}return{text:o,nodesStartPos:i,nodes:r}},e.exports.findMatches=function(e,t,n,o,i,r,s){let l=[];if(!n)return{numMatches:0,index:-1,matchTraceList:null};let d=0,c=0,u=0,m=-1,p=0;for(;-1!==(u=e.indexOf(t,d));){let e=function(e,t,n){let a=Math.min(n,e.length-1),o=a,i=e.length;for(;o<i;){let n=o+i>>1;e[n]<=t?o=n+1:i=n}return Math.max(o-1,a)}(i,u,c),t=r[e],f=n;if(3===f.nodeType&&o>=a(f)&&(o-=a(f),f=n.nextSibling),f&&(3===f.nodeType&&t===f||3!==f.nodeType&&f.contains(t))&&u-i[e]<=o&&(m=p),s){let e=t.parentElement,n=[];for(;e&&"content"!==e.getAttribute("id");){let t="",a="",{tagName:o}=e,i=e.classList?e.classList.value:"",r=e.getAttributeNames().filter(e=>-1!==e.indexOf("data-"));i.length&&(t=`.${i.split(" ").join(".")}`),r.length&&r.forEach(t=>{if("data-macro-body"!==t&&"data-title"!==t){let n=e?.getAttribute(t);a+=`[${t}="${n}"]`}else a+=`[${t}]`}),n.unshift(`${o}${t}${a}`),e=e.parentElement}l.push(n.join(" > "))}p++,d=u+1,c=e}return{numMatches:p,index:m,matchTraceList:l.length?l:null}}}),a("a8ZQ3",function(t,a){var o=n("42omo");let i=(0,o.createContext)({documentUpdated:!1,documentNeedsUpdate:!1,publishedDocumentVersion:0,currentDocumentVersion:0});i.displayName="DocumentUpdateStatusContext";let r=(0,o.createContext)({setDocumentUpdated:()=>{},setDocumentNeedsUpdate:()=>{},setPublishedDocumentVersion:()=>{},setCurrentDocumentVersion:()=>{}});r.displayName="DocumentUpdateStatusDispatchContext",t.exports.DocumentUpdateStatusProvider=({children:t})=>{let[n,a]=(0,o.useState)(!1),[s,l]=(0,o.useState)(!1),[d,c]=(0,o.useState)(0),[u,m]=(0,o.useState)(0),p=(0,o.useMemo)(()=>({documentUpdated:n,documentNeedsUpdate:s,publishedDocumentVersion:d,currentDocumentVersion:u}),[n,s,d,u]),f=(0,o.useMemo)(()=>({setDocumentUpdated:a,setDocumentNeedsUpdate:l,setPublishedDocumentVersion:c,setCurrentDocumentVersion:m}),[a,l,c,m]);return e(o).createElement(i.Provider,{value:p},e(o).createElement(r.Provider,{value:f},t))},t.exports.useDocumentUpdateStatus=()=>(0,o.useContext)(i),t.exports.useDocumentUpdateStatusDispatch=()=>(0,o.useContext)(r)});
//# sourceMappingURL=ObjectSidebarControl.5701e124.js.map
