function e(e){return e&&e.__esModule?e.default:e}var t=globalThis.parcelRequired477,n=t.register;n("8fb5x",function(n,a){var i,r,o,s,l,c,d=t("3u0dr"),u=t("frIzR"),p=t("42omo"),m=t("T1bCI"),g=t("jkVM2"),f=t("b3j2Y"),y=t("4PPzL"),E=t("fiBb3"),h=t("80xNa");let S={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"contentId"},{defaultValue:null,kind:"LocalArgument",name:"isDraft"}],kind:"Fragment",name:"LivePagesByLineWithContributorsComponentEditorContentStateQuery",selections:c=[{args:[{kind:"Variable",name:"id",variableName:"contentId"}],concreteType:"Content",kind:"LinkedField",name:"singleContent",plural:!1,selections:[r={kind:"ScalarField",name:"id"},{args:[{kind:"Variable",name:"isDraft",variableName:"isDraft"}],concreteType:"ContentState",kind:"LinkedField",name:"contentState",plural:!1,selections:[r,o={kind:"ScalarField",name:"name"},s={kind:"ScalarField",name:"color"},l={kind:"ScalarField",name:"restrictionLevel"},{kind:"ScalarField",name:"isCallerPermitted"}]},{condition:"isDraft",kind:"Condition",passingValue:!1,selections:[{args:[{kind:"Literal",name:"format",value:"USER_FRIENDLY"}],concreteType:"ConfluenceDate",kind:"LinkedField",name:"contentStateLastUpdated",plural:!1,selections:[{kind:"ScalarField",name:"value"}],storageKey:'contentStateLastUpdated(format:"USER_FRIENDLY")'}]}]},{args:[{kind:"Variable",name:"contentId",variableName:"contentId"}],concreteType:"AvailableContentStates",kind:"LinkedField",name:"availableContentStates",plural:!1,selections:[{concreteType:"ContentState",kind:"LinkedField",name:"customContentStates",plural:!0,selections:[o,s,r]},{concreteType:"ContentState",kind:"LinkedField",name:"spaceContentStates",plural:!0,selections:[o,s,r,l]}]}],type:"Query"},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"LivePagesByLineWithContributorsComponentEditorContentStateQuery",selections:c},params:{cacheID:"81e92b7bef30c91df7d1d5fc36cdd372",id:"8135d45ff19837151e07f9b2e9ace783267d3926cd38525a66d27917a361fc72",metadata:{},name:"LivePagesByLineWithContributorsComponentEditorContentStateQuery",operationKind:"query",text:"query LivePagesByLineWithContributorsComponentEditorContentStateQuery($contentId:ID!,$isDraft:Boolean!){singleContent(id:$contentId){id,contentState(isDraft:$isDraft){id,name,color,restrictionLevel,isCallerPermitted},contentStateLastUpdated(format:USER_FRIENDLY)@skip(if:$isDraft){value}},availableContentStates(contentId:$contentId){customContentStates{name,color,id},spaceContentStates{name,color,id,restrictionLevel}}}"}};S.hash="cbad882df31b75e4699e60f1bcf2ae8b";var b=t("63EIj"),C=t("7om8k"),v=t("1NF8X");let I=(0,t("cgtv4").defineMessages)({addNew:{id:"live-pages-features.byline.reactions.add.new",defaultMessage:"Add new"},addReaction:{id:"live-pages-features.byline.reactions.add.reaction",defaultMessage:"Add reaction"}}),w=(0,t("ecnYn").xcss)({display:"flex",justifyContent:"left",transition:"left 600ms",marginBottom:"space.025",height:"28px",marginTop:"space.025"}),_=({contentId:n,spaceId:a,isDisabled:i=!1,contentType:r})=>{let{formatMessage:o}=(0,t("8C5kA").default)(),s=(0,t("3jwuS").useIsCurrentPageLive)(),l=e(p).createElement(e(t("4FHTF")),{testId:"emoji-add-icon",color:"var(--ds-icon-subtle, #505258)",label:o(I.addReaction)}),c=!!window.__SSR_RENDERED__;return e(p).createElement(t("6f0Oj").default,{xcss:w,testId:"live-pages-reactions"},e(p).createElement(v.ReactionsLoader,{contentId:n,location:"blogpost"===r?t("2ttXz").ReactionLocation.BLOGPOST:t("2ttXz").ReactionLocation.PAGE,containerId:a,containerType:t("2ttXz").ReactionContainerType.SPACE,contentSubType:s?t("83sfO").LIVE_PAGE_SUBTYPE:null,summaryViewEnabled:!0,summaryViewThreshold:1,allowSelectFromSummaryView:!0,useButtonAlignmentStyling:!0,summaryViewPlacement:"bottom-start",hideNoReactionsText:!0,readOnly:i,isViewOnly:i,isSubtle:!0,reactionPickerTriggerIcon:l,reactionPickerTriggerText:o(I.addNew),useDefaultStyledContainer:!0,hidePlaceholder:c,noRelativeContainer:!0,noFlexWrap:!0,hoverableSummaryView:!0,optimisticallyLoadSummaryEmojis:c,renderParticleEffectOnSummaryView:!0}))};var T=t("fImWv"),L=t("04VgG"),P=t("jSnXV"),R=t("AavAW"),B=t("9BupY");let A=(0,t("cgtv4").defineMessages)({recentFriendlyWhen:{id:"content-header.by-line.live-pages.last.updated.friendly.just.now",defaultMessage:"Just now"},tooltipWhen:{id:"content-header.by-line.live-pages.last.updated.tooltip",defaultMessage:"Last updated: {day} at {time}"}}),D=(0,p.memo)(({contentId:n,editorApi:a})=>{let{data:i,error:r,loading:o,refetch:s}=(0,t("jMyy4").useQueryInterop)(B.default,{variables:{contentId:n},notifyOnNetworkStatusChange:!0,fetchPolicy:window.__SSR_RENDERED__?"cache-first":"cache-and-network"}),l=i?.content?.nodes?.[0]?.version,[c,d]=(0,p.useState)({friendlyWhen:l?.friendlyWhen||null,when:l?.when||null}),u=(0,p.useRef)(void 0),m=(0,p.useRef)(void 0),{createAnalyticsEvent:g}=(0,t("inPa6").useAnalyticsEvents)(),{locale:y}=(0,t("bQm3c").useSessionData)(),E=(0,t("8C5kA").default)(),h=Intl.DateTimeFormat(y,{dateStyle:"medium"}),S=Intl.DateTimeFormat(y,{timeStyle:"short"});(0,p.useEffect)(()=>{l&&JSON.stringify(l)!==JSON.stringify(c)&&l.when&&l.when>=(c?.when??"0")&&d({friendlyWhen:l.friendlyWhen??null,when:l.when??null})},[l]);let b=(0,p.useMemo)(()=>e(P)(s,6e4,{leading:!0,trailing:!1,maxWait:6e4}),[s]);(0,p.useEffect)(()=>{let e=async()=>{"visible"===document.visibilityState&&b()};return window.addEventListener("visibilitychange",e),()=>{window.removeEventListener("visibilitychange",e)}},[b]);let C=(0,p.useMemo)(()=>e(P)(()=>{d({friendlyWhen:E.formatMessage(A.recentFriendlyWhen),when:new Date().toISOString()})},3e3),[d,E]);(0,t("6qdjm").usePluginStateEffect)(a,["collabEdit"],({collabEditState:e})=>{let t=e?.initialised?.lastRemoteOrganicBodyChangeAt,n=e?.initialised?.lastLocalOrganicBodyChangeAt,a=t&&t!==u.current,i=n&&n!==m.current;(a||i)&&(u.current=t,m.current=n,C())}),(0,p.useEffect)(()=>()=>{b.cancel(),C.cancel()},[b,C]);let v=(0,p.useMemo)(()=>{if(o)return null;if(c?.when){let n=new Date(c?.when);return Date.now()-n.getTime()>1728e5?null:e(p).createElement(t("gtD4K").default,{...A.tooltipWhen,values:{day:h.format(n),time:S.format(n)}})}},[o,c?.when,h,S]);if(r)if((0,t("1uFM6").isUnauthorizedError)(r))return(0,t("7Sm4c").markErrorAsHandled)(r),null;else return e(p).createElement(f.ErrorDisplay,{error:r});return e(p).createElement(t("3gadb").default,{content:v,onShow:()=>{b(),g({type:"sendUIEvent",data:{source:"LivePagesByLineLastUpdated",action:"displayed",actionSubject:"tooltip",actionSubjectId:"bylineLastUpdate",attributes:{contentId:n,isLivePage:!0}}}).fire()}},e(p).createElement(R.ByLineLastUpdatedCompact,{version:c,loading:o}))});var O=t("aKxcs"),k=t("6iOCg");let M=(0,p.memo)((0,d.isReactCompilerActiveV1)()?n=>{let a,i,r,o,s,l,c,d,f,y,E,h,v,I,w=(0,u.c)(56),{contentId:P,author:R,owner:B,contributorsCount:A,isOwnerContributor:M,contentType:x,isPublishingContent:F,userOffline:N,isKnowledgeBaseSpace:V,viewMode:U,editorApi:j,isUnpublishedDraft:K,hasByLineContributors:W,hasByLineExtensions:Q,hasReactions:q,generatedBy:z}=n,J=(0,t("3jwuS").useIsCurrentPageLive)(),G=(0,t("7QM6o").useSpaceId)(),$=(0,t("5vi32").useIsEmbeddedConfluence_DO_NOT_USE)();w[0]!==P?(a={contentId:P,isDraft:!0},w[0]=P,w[1]=a):a=w[1],w[2]!==a?(i={fetchPolicy:"cache-first",variables:a,skip:!window.__SSR_RENDERED__},w[2]=a,w[3]=i):i=w[3];let{data:Y}=(0,t("jMyy4").useQueryInterop)(S,i),X=A-!!M,H=(J||!K)&&(!$||q),Z=H?void 0:"space.050";w[4]!==R||w[5]!==X||w[6]!==z||w[7]!==B?(r=e(p).createElement(C.BadgeStylePageOwnershipByline,{owner:B,author:R,analyticsSource:"liveDoc",contributorCountWithoutOwner:X,generatedBy:z}),w[4]=R,w[5]=X,w[6]=z,w[7]=B,w[8]=r):r=w[8],w[9]!==Z||w[10]!==r?(o=e(p).createElement(t("6f0Oj").default,{paddingBlock:Z},r),w[9]=Z,w[10]=r,w[11]=o):o=w[11];let ee=o;w[12]!==P?(s=e(p).createElement(O.BylineClassification,{contentId:P}),w[12]=P,w[13]=s):s=w[13],w[14]===Symbol.for("react.memo_cache_sentinel")?(l=[t("bJX6u").ContentStateStateContainer],w[14]=l):l=w[14],w[15]!==P||w[16]!==x||w[17]!==Y?.singleContent?.contentState||w[18]!==V||w[19]!==J||w[20]!==F||w[21]!==N||w[22]!==U?(c=e(p).createElement(m.Subscribe,{to:l},t=>{if(U)return e(p).createElement(b.RendererContentState,{contentId:P,hasSeparator:!1,isDraft:!J});let n=!!Y?.singleContent?.contentState&&!!window.__SSR_RENDERED__&&t.state.shouldRunContentStateEffect;return t.state.contentState||V||n?e(p).createElement(g.EditorContentState,{contentId:P,contentType:x,isPublishingContent:F,userOffline:N,floatingToolbarButtonStyle:{alignItems:"center",height:"24px"}}):null}),w[15]=P,w[16]=x,w[17]=Y?.singleContent?.contentState,w[18]=V,w[19]=J,w[20]=F,w[21]=N,w[22]=U,w[23]=c):c=w[23],w[24]!==P||w[25]!==j||w[26]!==J?(d=J&&!(0,t("9wGTI").fg)("confluence_frontend_content_wrapper")&&e(p).createElement(D,{contentId:P,editorApi:j}),w[24]=P,w[25]=j,w[26]=J,w[27]=d):d=w[27],w[28]!==P||w[29]!==j?(f=e(p).createElement(L.ReadTime,{contentId:P,editorApi:j,isInEditor:!0}),w[28]=P,w[29]=j,w[30]=f):f=w[30],w[31]!==R||w[32]!==P||w[33]!==J||w[34]!==K?(y=(J||!K)&&e(p).createElement(T.AnalyticsByLine,{contentId:P,contentAuthorId:R.userId}),w[31]=R,w[32]=P,w[33]=J,w[34]=K,w[35]=y):y=w[35],w[36]!==f||w[37]!==y||w[38]!==s||w[39]!==c||w[40]!==d?(E=e(p).createElement(e(p).Fragment,null,s,c,d,f,y),w[36]=f,w[37]=y,w[38]=s,w[39]=c,w[40]=d,w[41]=E):E=w[41];let et=E,en=(!$||Q)&&et;w[42]!==P||w[43]!==x||w[44]!==H||w[45]!==G||w[46]!==N?(h=H&&e(p).createElement(_,{contentId:P,spaceId:G||"",isDisabled:N,contentType:x}),w[42]=P,w[43]=x,w[44]=H,w[45]=G,w[46]=N,w[47]=h):h=w[47],w[48]!==en||w[49]!==h?(v=e(p).createElement(e(p).Fragment,null,en,h),w[48]=en,w[49]=h,w[50]=v):v=w[50];let ea=v,ei=(!$||W)&&ee;return w[51]!==ea||w[52]!==P||w[53]!==x||w[54]!==ei?(I=e(p).createElement(k.SingleLineByLine,{contentId:P,contentType:x},ei,ea),w[51]=ea,w[52]=P,w[53]=x,w[54]=ei,w[55]=I):I=w[55],I}:({contentId:n,author:a,owner:i,contributorsCount:r,isOwnerContributor:o,contentType:s,isPublishingContent:l,userOffline:c,isKnowledgeBaseSpace:d,viewMode:u,editorApi:f,isUnpublishedDraft:y,hasByLineContributors:E,hasByLineExtensions:h,hasReactions:v,generatedBy:I})=>{let w=(0,t("3jwuS").useIsCurrentPageLive)(),P=(0,t("7QM6o").useSpaceId)(),R=(0,t("5vi32").useIsEmbeddedConfluence_DO_NOT_USE)(),{data:B}=(0,t("jMyy4").useQueryInterop)(S,{fetchPolicy:"cache-first",variables:{contentId:n,isDraft:!0},skip:!window.__SSR_RENDERED__}),A=(w||!y)&&(!R||v),M=e(p).createElement(t("6f0Oj").default,{paddingBlock:A?void 0:"space.050"},e(p).createElement(C.BadgeStylePageOwnershipByline,{owner:i,author:a,analyticsSource:"liveDoc",contributorCountWithoutOwner:r-!!o,generatedBy:I})),x=e(p).createElement(e(p).Fragment,null,e(p).createElement(O.BylineClassification,{contentId:n}),e(p).createElement(m.Subscribe,{to:[t("bJX6u").ContentStateStateContainer]},t=>{if(u)return e(p).createElement(b.RendererContentState,{contentId:n,hasSeparator:!1,isDraft:!w});let a=!!B?.singleContent?.contentState&&!!window.__SSR_RENDERED__&&t.state.shouldRunContentStateEffect;return t.state.contentState||d||a?e(p).createElement(g.EditorContentState,{contentId:n,contentType:s,isPublishingContent:l,userOffline:c,floatingToolbarButtonStyle:{alignItems:"center",height:"24px"}}):null}),w&&!(0,t("9wGTI").fg)("confluence_frontend_content_wrapper")&&e(p).createElement(D,{contentId:n,editorApi:f}),e(p).createElement(L.ReadTime,{contentId:n,editorApi:f,isInEditor:!0}),(w||!y)&&e(p).createElement(T.AnalyticsByLine,{contentId:n,contentAuthorId:a.userId})),F=e(p).createElement(e(p).Fragment,null,(!R||h)&&x,A&&e(p).createElement(_,{contentId:n,spaceId:P||"",isDisabled:c,contentType:s}));return e(p).createElement(k.SingleLineByLine,{contentId:n,contentType:s},(!R||E)&&M,F)});var x=t("ausiN"),F=t("83fWZ");let N=({contentId:n,contentType:a,viewMode:i,isPublishingContent:r,isKnowledgeBaseSpace:o,userOffline:s,editorApi:l,isUnpublishedDraft:c,hasByLineContributors:d,hasByLineExtensions:u,hasReactions:m})=>{let g=(0,t("3jwuS").useIsCurrentPageLive)(),[S]=(0,t("ep3mz").usePageSpaceKey)(),b=(0,p.useRef)(null),C=(0,t("e4o8D").useRenderServerPlaceholder)(),{data:v,loading:I,error:w}=(0,t("xQxzY").useQuery)(E.ContentHeaderUnifiedQuery,{variables:{contentId:n,spaceKey:S,versionOverride:null,embeddedContentRender:null,limit:h.DEFAULT_CONTRIBUTORS_FETCH_LIMIT,includeGeneratedBy:(0,t("dh538").fg)("cc-activation-user-generated-by-byline"),...c&&!g&&{status:["draft"]}},context:{single:!0},fetchPolicy:"cache-and-network"});return e(p).createElement(y.ErrorBoundary,{attribution:t("3IBnw").Attribution.PAGE_MODES},(()=>{let g=C&&!!v;if(I&&!g)if(!b.current)return e(p).createElement(x.LivePagesByLinePlaceholderComponent,null);else v=b.current;else w||(b.current=v||null);let y=v?.content?.nodes?.[0];if(w)if((0,t("1uFM6").isUnauthorizedError)(w))return(0,t("7Sm4c").markErrorAsHandled)(w),null;else return e(p).createElement(f.ErrorDisplay,{error:w});if(!y)return null;let E=V(y,v);return e(p).createElement(M,{...E,contentId:n,contentType:a,viewMode:i,isPublishingContent:r,isKnowledgeBaseSpace:o,userOffline:s,editorApi:l,isUnpublishedDraft:c,hasByLineContributors:d,hasByLineExtensions:u,hasReactions:m})})())},V=(e,t)=>{let n=(0,F.toUserProps)(e?.history?.createdBy),a=e?.history?.ownedBy&&(e?.type==="page"||e?.type==="blogpost")?(0,F.toUserProps)(e?.history?.ownedBy):null,i=t?.contentContributors?.count||0;return{author:n,owner:a,contributorsCount:i,isOwnerContributor:t?.contentContributors?.isOwnerContributor,generatedBy:e?.contentProperties?.latest?.generatedBy}},U=(0,p.forwardRef)((0,d.isReactCompilerActiveV1)()?(n,a)=>{let i,r,o,s,l,c,d=(0,u.c)(13);if(d[0]!==a||d[1]!==n){let{as:e,style:c,...u}=n;i=void 0===e?"div":e,r=u,o=c,s=a,l=(0,t("gMc0m").default)(["_1e0c1txw _1bah1yb4 _4cvr1h6o",u.className]),d[0]=a,d[1]=n,d[2]=i,d[3]=r,d[4]=o,d[5]=s,d[6]=l}else i=d[2],r=d[3],o=d[4],s=d[5],l=d[6];return d[7]!==i||d[8]!==r||d[9]!==o||d[10]!==s||d[11]!==l?(c=e(p).createElement(i,{...r,style:o,ref:s,className:l}),d[7]=i,d[8]=r,d[9]=o,d[10]=s,d[11]=l,d[12]=c):c=d[12],c}:({as:n="div",style:a,...i},r)=>e(p).createElement(n,{...i,style:a,ref:r,className:(0,t("gMc0m").default)(["_1e0c1txw _1bah1yb4 _4cvr1h6o",i.className])})),j=(0,p.forwardRef)((0,d.isReactCompilerActiveV1)()?(n,a)=>{let i,r,o,s,l,c,d=(0,u.c)(13);if(d[0]!==a||d[1]!==n){let{as:e,style:c,...u}=n;i=void 0===e?"div":e,r=u,o=c,s=a,l=(0,t("gMc0m").default)(["_16jlkb7n",u.className]),d[0]=a,d[1]=n,d[2]=i,d[3]=r,d[4]=o,d[5]=s,d[6]=l}else i=d[2],r=d[3],o=d[4],s=d[5],l=d[6];return d[7]!==i||d[8]!==r||d[9]!==o||d[10]!==s||d[11]!==l?(c=e(p).createElement(i,{...r,style:o,ref:s,className:l}),d[7]=i,d[8]=r,d[9]=o,d[10]=s,d[11]=l,d[12]=c):c=d[12],c}:({as:n="div",style:a,...i},r)=>e(p).createElement(n,{...i,style:a,ref:r,className:(0,t("gMc0m").default)(["_16jlkb7n",i.className])})),K=(0,p.forwardRef)((0,d.isReactCompilerActiveV1)()?(n,a)=>{let i,r,o,s,l,c,d=(0,u.c)(13);if(d[0]!==a||d[1]!==n){let{as:e,style:c,...u}=n;i=void 0===e?"div":e,r=u,o=c,s=a,l=(0,t("gMc0m").default)(["_1e0c1txw _1tkexy5q _4cvr1h6o",u.className]),d[0]=a,d[1]=n,d[2]=i,d[3]=r,d[4]=o,d[5]=s,d[6]=l}else i=d[2],r=d[3],o=d[4],s=d[5],l=d[6];return d[7]!==i||d[8]!==r||d[9]!==o||d[10]!==s||d[11]!==l?(c=e(p).createElement(i,{...r,style:o,ref:s,className:l}),d[7]=i,d[8]=r,d[9]=o,d[10]=s,d[11]=l,d[12]=c):c=d[12],c}:({as:n="div",style:a,...i},r)=>e(p).createElement(n,{...i,style:a,ref:r,className:(0,t("gMc0m").default)(["_1e0c1txw _1tkexy5q _4cvr1h6o",i.className])})),W=(0,d.isReactCompilerActiveV1)()?n=>{let a,i,r,o,s,l=(0,u.c)(29),{contentId:c,contentType:d,isPublishingContent:f,userOffline:y,editorAppearanceButton:E,isLivePage:h,isKnowledgeBaseSpace:S,viewMode:b,editorApi:C,isUnpublishedDraft:v,isSpaceOverview:I,hasByLineContributors:w,hasByLineExtensions:_,hasReactions:T}=n,L=(0,t("luv00").useSSRPlaceholderReplaceIdProp)();if(I)return null;if(h||(0,t("9wGTI").fg)("cc_page_experiences_new_editor_byline")){let t,n;return l[0]!==c||l[1]!==d||l[2]!==C||l[3]!==w||l[4]!==_||l[5]!==T||l[6]!==S||l[7]!==f||l[8]!==v||l[9]!==y||l[10]!==b?(t=e(p).createElement(N,{contentId:c,contentType:d,isPublishingContent:f,userOffline:y,isKnowledgeBaseSpace:S,viewMode:b,editorApi:C,isUnpublishedDraft:v,hasByLineContributors:w,hasByLineExtensions:_,hasReactions:T}),l[0]=c,l[1]=d,l[2]=C,l[3]=w,l[4]=_,l[5]=T,l[6]=S,l[7]=f,l[8]=v,l[9]=y,l[10]=b,l[11]=t):t=l[11],l[12]!==L||l[13]!==t?(n=e(p).createElement(U,{"data-vc":"editor-byline-wrapper",...L},t),l[12]=L,l[13]=t,l[14]=n):n=l[14],n}return l[15]===Symbol.for("react.memo_cache_sentinel")?(a=e(p).createElement(j,null),l[15]=a):a=l[15],l[16]===Symbol.for("react.memo_cache_sentinel")?(i=[t("bJX6u").ContentStateStateContainer],l[16]=i):i=l[16],l[17]!==c||l[18]!==d||l[19]!==S||l[20]!==f||l[21]!==y?(r=e(p).createElement(m.Subscribe,{to:i},t=>(t.state.contentState||S)&&e(p).createElement(g.EditorContentState,{contentId:c,contentType:d,isPublishingContent:f,userOffline:y})),l[17]=c,l[18]=d,l[19]=S,l[20]=f,l[21]=y,l[22]=r):r=l[22],l[23]!==E||l[24]!==r?(o=e(p).createElement(e(p).Fragment,null,a,e(p).createElement(K,{"data-testId":"editor-byline-right-area"},r,E)),l[23]=E,l[24]=r,l[25]=o):o=l[25],l[26]!==L||l[27]!==o?(s=e(p).createElement(U,{"data-vc":"editor-byline-wrapper",...L},o),l[26]=L,l[27]=o,l[28]=s):s=l[28],s}:({contentId:n,contentType:a,isPublishingContent:i,userOffline:r,editorAppearanceButton:o,isLivePage:s,isKnowledgeBaseSpace:l,viewMode:c,editorApi:d,isUnpublishedDraft:u,isSpaceOverview:f,hasByLineContributors:y,hasByLineExtensions:E,hasReactions:h})=>{let S=(0,t("luv00").useSSRPlaceholderReplaceIdProp)();return f?null:s||(0,t("9wGTI").fg)("cc_page_experiences_new_editor_byline")?e(p).createElement(U,{"data-vc":"editor-byline-wrapper",...S},e(p).createElement(N,{contentId:n,contentType:a,isPublishingContent:i,userOffline:r,isKnowledgeBaseSpace:l,viewMode:c,editorApi:d,isUnpublishedDraft:u,hasByLineContributors:y,hasByLineExtensions:E,hasReactions:h})):e(p).createElement(U,{"data-vc":"editor-byline-wrapper",...S},e(p).createElement(e(p).Fragment,null,e(p).createElement(j,null),e(p).createElement(K,{"data-testId":"editor-byline-right-area"},e(p).createElement(m.Subscribe,{to:[t("bJX6u").ContentStateStateContainer]},t=>(t.state.contentState||l)&&e(p).createElement(g.EditorContentState,{contentId:n,contentType:a,isPublishingContent:i,userOffline:r})),o)))};n.exports.EditorByLineArea=W}),n("jkVM2",function(e,n){let a=(0,t("jmjWc").LoadableAfterPaint)({__loadable_id__:"CFAQV",name:"EditorContentState",loader:async()=>(await t("g9ETT")).EditorContentState});e.exports.EditorContentState=a}),n("g9ETT",function(e,n){let a=t("4mJKd")(5);e.exports=Promise.all([a("hhss7"),a("ljCe8")]).then(()=>t("iDxDj"))}),n("63EIj",function(e,n){let a=(0,t("jmjWc").LoadableAfterPaint)({__loadable_id__:"lwzlE",name:"RendererContentState",loader:async()=>(await t("7NNvk")).RendererContentState});e.exports.RendererContentState=a}),n("7NNvk",function(e,n){e.exports=t("4mJKd")(5)("9opeZ").then(()=>t("44FvL"))}),n("83sfO",function(e,t){e.exports.LIVE_PAGE_SUBTYPE="live"}),n("04VgG",function(e,n){let a=(0,t("jmjWc").LoadableAfterPaint)({__loadable_id__:"7obd3",name:"ReadTime",loader:async()=>(await t("l6J6l")).ReadTimeLoader});e.exports.ReadTime=a}),n("l6J6l",function(e,n){let a=t("4mJKd")(5);e.exports=Promise.all([a("6wr18"),a("95zCL"),a("ffEVr"),a("ioQAS"),a("irgIM")]).then(()=>t("cbZqw"))}),n("bVAxT",function(e,n){var a=t("T1bCI");class i extends a.Container{getContentId(){return this.state.contentId}getIsOpen(){return this.state.isOpen}getTriggeredFrom(){return this.state.triggeredFrom}getHideRestrictionsButtonSpinner(){return this.state.hideRestrictionsButtonSpinner}setIsOpen(e,t=null,n){return this.setState({isOpen:e,triggeredFrom:t},()=>{n&&setTimeout(n,0)})}setContentId(e){return this.setState({contentId:e})}constructor(...e){super(...e),this.state={isOpen:!1,triggeredFrom:null,hideRestrictionsButtonSpinner:!1,contentId:""},this.initState=()=>this.setState({contentId:"",isOpen:!1,triggeredFrom:null,hideRestrictionsButtonSpinner:!1}),this.setHideRestrictionsButtonSpinner=()=>this.setState({hideRestrictionsButtonSpinner:!0})}}e.exports.RestrictionsDialogStateContainer=i}),n("i28ZW",function(e,n){var a=t("42omo");let i=(0,t("eSUdr").default)`query useSpaceManagementOperationsSpacePropertiesQuery($spaceKey:String!){space(key:$spaceKey){id currentUser{isAdmin}operations{operation targetType}}}`,r="manage_users",o="manage_nonlicensed_users",s="manage_guest_users";e.exports.useSpaceManagementOperations=({spaceKey:e,skip:n})=>{let{isRbacEnabled:l,loading:c}=(0,t("iquRY").useSpaceRoleMode)(),{data:d,loading:u}=(0,t("xQxzY").useQuery)(i,{variables:{spaceKey:e},skip:void 0!==n?n:!e||!l,onError:e=>{(0,t("1uFM6").isUnauthorizedError)(e)?(0,t("7Sm4c").markErrorAsHandled)(e):(0,t("5ZqQS").getMonitoringClient)().submitError(e,{attribution:t("3IBnw").Attribution.PERMISSIONS_EXPERIENCE})}}),p=(0,a.useCallback)(e=>d?.space?.operations?.some(t=>t?.operation===e&&t?.targetType==="space")??!1,[d]);return{canManageSomeUsers:p(r)||p(o)||p(s),canManageUsers:p(r),canManageNonlicensedUsers:p(o),canManageGuestUsers:p(s),canManagePublicLinks:p("manage_public_links"),canManageTemplates:p("manage_templates"),canManageLookAndFeel:p("manage_look_and_feel"),canAdminister:p("administer"),canManageContent:p("manage_content"),loading:u||c}}}),n("6UqI3",function(e,t){e.exports.getSpaceType=e=>e?.[0]==="~"?"personal":"global"}),n("iiPY2",function(n,a){Object.defineProperty(n.exports,"ContentTypeClassification",{get:()=>t("2JKSZ").ContentTypeClassification,set:void 0,enumerable:!0,configurable:!0});var i=t("42omo");t("2JKSZ");let r=(0,t("jmjWc").LoadableAfterPaint)({__loadable_id__:"fcpuS",name:"ContentTypeClassificationLoader",loader:async()=>(await Promise.resolve(t("2JKSZ"))).ContentTypeClassification,loading:n=>{let{contentClassificationMetadata:a}=n,{hasNoClassification:r}=a;return r?null:e(i).createElement((0,i.forwardRef)(({as:n="div",style:a,...r},o)=>e(i).createElement(n,{...r,style:a,ref:o,className:(0,t("gMc0m").default)(["_4t3i1tcg",r.className])})),{},"")}});n.exports.ContentTypeClassificationLoader=r}),n("2JKSZ",function(n,a){var i=t("42omo"),r=t("aJv6Q"),o=t("arfOv"),s=t("9yVdT");let l=(0,t("jmjWc").LoadableLazy)({__loadable_id__:"8ozBk",name:"ClassificationTagButtonError",loader:async()=>(await t("1gG4q")).ClassificationTagButtonError}),c=({spaceKey:n,contentId:a,contentType:r,contentClassificationMetadata:c,readOnly:d=!0,variant:u=t("1u6lx").TagButtonUIVariant.default,popupPlacementOverride:p,spacing:m,onRestoreFocus:g,buttonTestId:f})=>{let y=(0,t("fGQzQ").useEditSubmitCallback)({contentId:a,contentClassificationMetadata:c}),{classification:E,hasNoClassification:h,shouldDisplayClassification:S,flagStatus:b,errorState:C,contentLevelError:v,spaceDefaultIsOverridden:I}=c,w=b===t("in5LX").FlagStatus.LOADING;return(d||!h||S)&&E&&C!==t("79yie").ErrorState.NULL?C===t("79yie").ErrorState.MESSAGE?e(i).createElement(l,{contentLevelError:v}):e(i).createElement(s.TagLoadingAndFlagWrapper,{isLoading:w,flagStatus:b},e(i).createElement(o.GenericClassificationTagButton,{spaceKey:n,contentType:r,currentClassification:E,spaceDefaultIsOverridden:I,onEditSubmit:y,menuBehavior:d?o.TagButtonMenuBehavior.readOnly:o.TagButtonMenuBehavior.readAndEdit,loading:w,variant:u,popupPlacementOverride:p,spacing:m,onRestoreFocus:g,buttonTestId:f})):null},d=(0,r.withTransparentErrorBoundary)({attribution:t("3IBnw").Attribution.DLP})(t=>e(i).createElement(c,t));n.exports.ContentTypeClassification=t=>e(i).createElement(d,t)}),n("arfOv",function(n,a){var i,r=t("42omo"),o=t("i2BsV");let s=(0,t("jmjWc").LoadableLazy)({__loadable_id__:"zUIer",name:"ClassificationReadViewPopup",loader:async()=>(await t("ddDB2")).ClassificationReadViewPopup}),l=(0,t("jmjWc").LoadableLazy)({__loadable_id__:"mT5oW",name:"ClassificationEditViewPopup",loader:async()=>(await Promise.resolve(t("8KSlr"))).ClassificationEditViewPopup});var c=((i={}).readOnly="readOnly",i.editOnly="editOnly",i.readAndEdit="readAndEdit",i);let d=e(r).memo(o.default),u=(0,t("cgtv4").defineMessages)({tooltipMessage:{id:"data-classification.content-classification.tag-button.tooltip",defaultMessage:"This {contentType} is classified as {classification}"}});n.exports.TagButtonMenuBehavior=c,n.exports.GenericClassificationTagButton=({spaceKey:n,contentType:a,currentClassification:i,spaceDefaultIsOverridden:o,onEditCancel:c,onEditSubmit:p,loading:m=!1,isPopupDisabled:g=!1,menuBehavior:f="readOnly",variant:y=t("1u6lx").TagButtonUIVariant.default,popupPlacementOverride:E,spacing:h,onRestoreFocus:S,buttonTestId:b="data-classification-level"})=>{let{formatMessage:C}=(0,t("8C5kA").default)(),[v,I]=(0,r.useState)(!0),{trackEditPopupViewed:w}=(0,t("earLp").useTrackClassificationAnalytics)(),_=E||(0,t("7aj3N").getPopupPlacementForTagVariant)(y);(0,r.useEffect)(()=>{"editOnly"===f&&I(!1)},[f]);let T=o?i:void 0,L=()=>{if("readOnly"!==f)return()=>{I(!1),B({isOpen:!0,shouldForce:!0})}},P=e=>{c&&c(),e(),"editOnly"!==f&&I(!0)},R=(e,t)=>{p&&p(e),S&&S(),t(),"editOnly"!==f&&I(!0)},B=({isOpen:e,shouldForce:n=!1})=>{e&&(!v||n)&&w(t("earLp").ActionSubjectId.CONTENT_TYPE_TITLE_DATA_CLASSIFICATION_POPUP)};return e(r).createElement(e(r).Fragment,null,e(r).createElement(d,{testId:b,name:i.name,guideline:i.guideline,tooltip:C(u.tooltipMessage,{contentType:a,classification:i.name}),color:i.color,isPopupDisabled:g,renderPopupComponent:t=>v?e(r).createElement(s,{name:i.name,guideline:i.guideline,onChangeLevelClick:L()}):e(r).createElement(l,{spaceKey:n,selectedOption:T,onEditCancel:()=>P(t),onEditSubmit:e=>R(e,t),loading:m}),onPopupShown:()=>B({isOpen:!0}),isIconOnly:y===t("1u6lx").TagButtonUIVariant.iconOnly,popupPlacement:_,spacing:h}))}}),n("7aj3N",function(e,n){e.exports.getPopupPlacementForTagVariant=e=>e===t("1u6lx").TagButtonUIVariant.iconOnly?"auto":"bottom-start"}),n("1u6lx",function(e,t){var n,a=((n={}).iconOnly="iconOnly",n.default="default",n);e.exports.TagButtonUIVariant=a}),n("ddDB2",function(e,n){e.exports=t("4mJKd")(5)("iJsKa").then(()=>t("ePhVt"))}),n("9yVdT",function(n,a){var i=t("42omo"),r=t("T1bCI"),o=t("gfkT8");n.exports.TagLoadingAndFlagWrapper=({children:n,flagStatus:a,isLoading:s=!1})=>e(i).createElement(t("u9agA").default,{alignBlock:"center",space:"space.050"},n,s&&e(i).createElement(t("9hlns").default,{size:"small"}),e(i).createElement(r.Subscribe,{to:[t("gqqjz").FlagsStateContainer]},n=>a===t("in5LX").FlagStatus.ERROR&&e(i).createElement(o.SaveFlag,{flags:n,title:t("93WhG").sharedMessages.saveErrorTextPrimary,description:t("93WhG").sharedMessages.saveErrorTextSecondary,type:"warning",showRefresh:!1})))}),n("gfkT8",function(n,a){var i=t("42omo"),r=t("aJv6Q");let o=(0,t("cgtv4").defineMessage)({id:"data-classification.settings-panel.error-flag-action",defaultMessage:"Refresh page"}),s=({flags:n,type:a,title:r,description:s,classification:l,spaceName:c,showRefresh:d})=>((0,i.useEffect)(()=>{let u=d?[{content:e(i).createElement(t("gtD4K").default,o),onClick:()=>window.location.reload()}]:[];(async()=>{let o=await n.showFlag({type:a,title:e(i).createElement(t("gtD4K").default,r),description:e(i).createElement(t("gtD4K").default,{...s,values:{spaceName:c,classification:l===t("1cYlh").NO_CLASSIFICATION?"unclassified":e(i).createElement("b",null,l)}}),actions:u});setTimeout(()=>n.hideFlag(o.id),5e3)})().catch(console.error)},[n,a,r,s,c,d,l]),null),l=(0,r.withTransparentErrorBoundary)({attribution:t("3IBnw").Attribution.DLP})(t=>e(i).createElement(s,t));n.exports.SaveFlag=t=>e(i).createElement(l,t)}),n("1gG4q",function(e,n){e.exports=t("4mJKd")(5)("5odbj").then(()=>t("2O7oS"))}),n("cuWTe",function(e,t){e.exports.getContentMode=(e,t,n,a)=>t?"archived":"page"!==e&&"blogpost"!==e?void 0:n?"draft":a}),n("lOI2p",function(e,n){var a=t("42omo");e.exports.useInlineDialogCloseManager=({onClose:e,popupRef:t,triggerRef:n})=>{(0,a.useEffect)(()=>{if(!t)return;let a=({key:t})=>{("Escape"===t||"Esc"===t)&&e()},i=a=>{!(!document.body.contains(a.target)||t&&t.contains(a.target)||n&&n.contains(a.target))&&(a.target.closest(".atlaskit-portal-container [role=dialog]")||e())};return window.addEventListener("click",i),window.addEventListener("keydown",a),()=>{window.removeEventListener("click",i),window.removeEventListener("keydown",a)}},[t,n,e])}}),n("jYZsR",function(n,a){var i=t("42omo"),r=t("jSnXV");n.exports.ResizeChangeListener=({onUpdate:t,popupRef:n,children:a})=>((0,i.useEffect)(()=>{if(!n)return;let a=e(r)(t,100),i=new ResizeObserver(()=>{a()});return i.observe(n),()=>{i.disconnect()}},[n,t]),e(i).createElement(i.Fragment,null,a))}),n("grspz",function(e,t){e.exports.getLocalId=e=>e.replace(/[^a-zA-Z0-9-]/g,"-")}),n("gektR",function(e,n){var a=t("T1bCI");class i extends a.Container{constructor(...e){super(...e),this.state={alignmentButtonState:t("jVylI").TitleAlignmentType.LEFT,isUpdatingAlignment:!1,isLoadingComplete:!1},this.toggleAlignmentButton=e=>{this.state.alignmentButtonState!==e&&this.setState({alignmentButtonState:e||t("jVylI").TitleAlignmentType.LEFT})},this.setIsLoadingComplete=e=>{this.setState({isLoadingComplete:e})},this.setIsUpdatingAlignment=e=>{this.setState({isUpdatingAlignment:e})},this.resetToDefaults=()=>{this.setState({alignmentButtonState:t("jVylI").TitleAlignmentType.LEFT,isUpdatingAlignment:!1,isLoadingComplete:!1})}}}e.exports.AlignmentButtonContainer=i}),n("80koo",function(e,n){var a=t("42omo");e.exports.RequireLegacyWRM=({wrm:e,children:n})=>{let[i,r]=(0,a.useState)({loaded:!1,modules:[]});return(0,a.useEffect)(()=>{(0,t("cpjd2").requireLegacyWRM)(e,e=>{r({loaded:!0,modules:e})},()=>{})},[e]),i.loaded&&n?n(i.modules):null}}),n("aV3a0",function(n,a){var i=t("42omo");let r=t("kae7O").default,o=e=>e?.content?.nodes?.[0]?.pageTitleDraft?.nodes?.find(e=>e?.key==="page-title-property-draft"),s=(0,t("cgtv4").defineMessages)({errorFlagTitle:{id:"content-topper.page-title.alignment.error.title",defaultMessage:"We couldnâ€™t update the title alignment"},errorFlagDescription:{id:"content-topper.page-title.alignment.error.description",defaultMessage:"Try again, or refresh the page."}});n.exports.useTitleContentPropertiesForEditor=({contentId:n,propertyKey:a="page-title-property-draft",isDelete:l=!1,loadTitleContentProperties:c=!1,updateAlignmentState:d,updateCoverPictureWidthState:u,contentType:p,flags:m,updateIsLoadingComplete:g})=>{let f=e(i).useRef(!1),y=e(i).useRef(!1),E=(0,i.useCallback)((n,a)=>{(0,t("1uFM6").isUnauthorizedError)(n)||(0,t("f9jv7").isNotFoundError)(n)||(0,t("5ZqQS").getMonitoringClient)().submitError(n,{attribution:t("3IBnw").Attribution.COMPANY_HUB}),(0,t("7Sm4c").markErrorAsHandled)(n),a||m?.showErrorFlag({title:e(i).createElement(t("gtD4K").default,s.errorFlagTitle),description:e(i).createElement(t("gtD4K").default,s.errorFlagDescription)})},[m]),h=e=>{let n=o(e);if(!n?.value)return t("jVylI").defaultPropertyValue.titleLayoutAlignment;try{return(0,t("gzIc1").contentPropertyHelper)(n)?.titleLayoutAlignment||t("jVylI").defaultPropertyValue.titleLayoutAlignment}catch(e){return E(e,!1),t("jVylI").defaultPropertyValue.titleLayoutAlignment}},S=e=>{let n=e.content?.nodes?.[0]?.metadata?.frontend?.coverPictureWidth||t("jVylI").COVERPICTUREWIDTH.FULL;d?.(h(e)),u?.(n)},{data:b,networkStatus:C,refetch:v}=(0,t("jMyy4").useQueryInterop)(r,{variables:{contentId:n,status:["current","draft","archived"]},fetchPolicy:window.__SSR_RENDERED__?"cache-first":"cache-and-network",onError:e=>{E(e,!0)},skip:!(c||window.__SSR_RENDERED__),notifyOnNetworkStatusChange:!0}),I=C===t("9wEpK").NetworkStatus.loading&&!b,w=C===t("9wEpK").NetworkStatus.refetch,_=b?.content?.nodes?.[0]?.metadata?.frontend?.coverPictureWidth;y.current=(!!window.__SSR_RENDERED__||!I)&&h(b)===t("jVylI").TitleAlignmentType.CENTER,!f.current&&c&&b&&(f.current=!0,S(b),g?.(!0));let{updateContentProperty:T,updateContentPropertyResult:{loading:L}={}}=(0,t("5kqgA").useUpdateContentProperty)({contentId:n,contentType:p||"page"}),[P,{loading:R}]=(0,t("1KmJq").useMutation)(t("hF4tl").TitleContentPropertyMutation),B=(0,i.useCallback)((e,n)=>{let{pageTitlePropertyUpdated:a}=n||{};try{let e=JSON.parse(a?.value);d?.(e?.titleLayoutAlignment)}catch(e){(0,t("5ZqQS").getMonitoringClient)().submitError(e,{attribution:t("3IBnw").Attribution.PAGE_EXPERIENCES}),(0,t("7Sm4c").markErrorAsHandled)(e)}},[d]);(0,t("i9VoI").useSubscriptionEvent)({contentId:n,contentType:p||"page",delta:"pageTitlePropertyUpdated",onDataReceived:B,subscriberId:"useTitleContentPropertiesForEditor"});let A=(0,i.useCallback)(async e=>{try{let i,o=(i=(await v()).data,i?.content?.nodes?.[0]?.pageTitleDraft?.nodes?.[0]?.version?.number||0),s=o?o+1:1;(0,t("6mKj3").expValEquals)("migrate_off_experimentalupdatecontentproperty","isEnabled",!0)?await T({propertyKey:a,propertyValue:e,isDelete:l,hasExistingProperty:o>0,shouldOptimisticResponse:!0,options:{update:()=>{try{let i=(0,t("l1uFv").readQueryInterop)({query:r,variables:{contentId:n,status:["current","draft","archived"]}});i.content.nodes[0].pageTitleDraft.nodes[0]={...i.content.nodes[0].pageTitleDraft.nodes[0],id:n,key:a,value:JSON.stringify(e),version:{number:s,__typename:"Version"}},(0,t("fEmGS").writeQueryInterop)({query:r,variables:{contentId:n,status:["current","draft","archived"]},data:b})}catch(e){throw Error(` failed to write to cache while updating ${a} content property after user updated page title${e.message}`)}}}}):await P({variables:{contentId:n,propertyKey:a,isDelete:l,propertyValue:e,versionNumber:String(s)},optimisticResponse:{__typename:"Mutation",experimentalUpdateContentProperty:{__typename:"experimentalUpdateContentProperty",success:!0,id:n,key:a,value:e}},update:t=>{try{let i=t.readQuery({query:r,variables:{contentId:n,status:["current","draft","archived"]}});i.content.nodes[0].pageTitleDraft.nodes[0]={...i.content.nodes[0].pageTitleDraft.nodes[0],id:n,key:a,value:JSON.stringify(e),version:{number:s,__typename:"Version"}},t.writeQuery({query:r,variables:{contentId:n,status:["current","draft","archived"]},data:b})}catch(e){throw Error(` failed to write to cache while updating ${a} content property after user updated page title${e.message}`)}}})}catch(e){E(e,!1)}},[a,n,l,T,P,v,b,E]);return{isUpdatingAlignment:R||L||w,updatePageTitleProperty:A,onCompleted:S,isTitleAlignmentLoading:I,isTitleCenteredInitial:y.current,coverImageWidthCached:_}}}),n("hF4tl",function(e,n){let a=(0,t("eSUdr").default)`mutation TitleContentPropertyMutation($contentId:String!$propertyKey:String!$propertyValue:String$versionNumber:String$isDelete:Boolean)@experimental{experimentalUpdateContentProperty(contentId:$contentId propertyKey:$propertyKey propertyValue:$propertyValue versionNumber:$versionNumber isDelete:$isDelete){success id key value}}`;e.exports.TitleContentPropertyMutation=a});
//# sourceMappingURL=EditorByLineArea.44e24fc5.js.map
