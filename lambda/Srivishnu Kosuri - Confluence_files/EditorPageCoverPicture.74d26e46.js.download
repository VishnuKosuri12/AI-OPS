function e(e){return e&&e.__esModule?e.default:e}function t(e,t,a,r){Object.defineProperty(e,t,{get:a,set:r,enumerable:!0,configurable:!0})}var a=globalThis.parcelRequired477,r=a.register;r("4hoOb",function(t,r){var i=a("3u0dr"),o=a("frIzR"),n=a("42omo"),s=a("aJv6Q");let l=(0,a("eSUdr").default)`mutation UpdateCoverPictureIdMutation($contentId:String!$propertyKey:String!$propertyValue:String$versionNumber:String$isDelete:Boolean)@experimental{experimentalUpdateContentProperty(contentId:$contentId propertyKey:$propertyKey propertyValue:$propertyValue versionNumber:$versionNumber isDelete:$isDelete){success id key value}}`;var d=a("4hoOb");let c=(0,n.forwardRef)((0,i.isReactCompilerActiveV1)()?(t,r)=>{let i,s=(0,o.c)(11);if(s[0]!==r||s[1]!==t){let o,l,d,{as:c,style:u,...p}=t,{dynamicCoverImageHeight:m,...g}=p,f=`${p.dynamicCoverImageHeight}px`;s[3]!==f?(o=(0,a("7sObp").default)(f),s[3]=f,s[4]=o):o=s[4];let h=`-${p.dynamicCoverImageHeight}px`;s[5]!==h?(l=(0,a("7sObp").default)(h),s[5]=h,s[6]=l):l=s[6],s[7]!==u||s[8]!==o||s[9]!==l?(d={...u,"--_1isxe5u":o,"--_1tm8jw8":l},s[7]=u,s[8]=o,s[9]=l,s[10]=d):d=s[10],i=e(n).createElement(void 0===c?"div":c,{...g,style:d,ref:r,className:(0,a("gMc0m").default)(["_11q7ysee _2rkon7od _kqswh2mm _4t3i1osq _1tke1v90 _otyr4szn",p.className])}),s[0]=r,s[1]=t,s[2]=i}else i=s[2];return i}:({as:t="div",style:r,...i},o)=>{let{dynamicCoverImageHeight:s,...l}=i;return e(n).createElement(t,{...l,style:{...r,"--_1isxe5u":(0,a("7sObp").default)(`${i.dynamicCoverImageHeight}px`),"--_1tm8jw8":(0,a("7sObp").default)(`-${i.dynamicCoverImageHeight}px`)},ref:o,className:(0,a("gMc0m").default)(["_11q7ysee _2rkon7od _kqswh2mm _4t3i1osq _1tke1v90 _otyr4szn",i.className])})}),u=(0,i.isReactCompilerActiveV1)()?t=>{let r,i=(0,o.c)(20),{coverPicture:s,dynamicCoverImageHeight:l,showErrorFlag:u,mediaConfig:p,ssrConfig:m,contentId:g,hasSSRConfigInSSRModeOrHydration:f,isFixedWidthImageOption:h,isAIGenerated:v}=t;i[0]!==f||i[1]!==p||i[2]!==m?(r=f?m&&m.config:p&&{authProvider:p.authProvider},i[0]=f,i[1]=p,i[2]=m,i[3]=r):r=i[3];let I=r;if(I){let t,r,o,C,y=String(s.current.draft?.value.id),_=f?`contentId-${g}`:p?.collection;i[4]!==y||i[5]!==_?(t={mediaItemType:"file",id:y,collectionName:_},i[4]=y,i[5]=_,i[6]=t):t=i[6];let E=String(s.current.draft?.value.id);i[7]===Symbol.for("react.memo_cache_sentinel")?(r={allowAnimated:!0,mode:"full-fit",upscale:!1},i[7]=r):r=i[7];let b=f?m?.mode:void 0;return i[8]!==s.current.draft?.value||i[9]!==l||i[10]!==v||i[11]!==h||i[12]!==u?(o=t=>{let{data:r,loading:i,error:o}=t;return i?v&&(0,a("6mKj3").isExperimentEnabled)("confluence_aifc_header_image_generation_experiment")?null:e(n).createElement(c,{"data-testid":"cover-pic-loading",dynamicCoverImageHeight:l}):r?(o&&u(),e(n).createElement(d.ImageWrapper,{"data-testid":"actual-cover-picture",id:"actual-cover-picture",alt:"",src:r.src,coverPicturePosition:s.current.draft?.value.position,isFixedWidthImageOption:h,className:"cover-picture-wrapper-dangerously-set-inner-html"})):null},i[8]=s.current.draft?.value,i[9]=l,i[10]=v,i[11]=h,i[12]=u,i[13]=o):o=i[13],i[14]!==I||i[15]!==t||i[16]!==E||i[17]!==b||i[18]!==o?(C=e(n).createElement(a("btHGY").MediaImageWithErrorBoundary,{identifier:t,mediaClientConfig:I,key:E,apiConfig:r,ssr:b},o),i[14]=I,i[15]=t,i[16]=E,i[17]=b,i[18]=o,i[19]=C):C=i[19],C}}:({coverPicture:t,dynamicCoverImageHeight:r,showErrorFlag:i,mediaConfig:o,ssrConfig:s,contentId:l,hasSSRConfigInSSRModeOrHydration:u,isFixedWidthImageOption:p,isAIGenerated:m})=>{let g=u?s&&s.config:o&&{authProvider:o.authProvider};if(g)return e(n).createElement(a("btHGY").MediaImageWithErrorBoundary,{identifier:{mediaItemType:"file",id:String(t.current.draft?.value.id),collectionName:u?`contentId-${l}`:o?.collection},mediaClientConfig:g,key:String(t.current.draft?.value.id),apiConfig:{allowAnimated:!0,mode:"full-fit",upscale:!1},ssr:u?s?.mode:void 0},({data:o,loading:s,error:l})=>s?m&&(0,a("6mKj3").isExperimentEnabled)("confluence_aifc_header_image_generation_experiment")?null:e(n).createElement(c,{"data-testid":"cover-pic-loading",dynamicCoverImageHeight:r}):o?(l&&i(),e(n).createElement(d.ImageWrapper,{"data-testid":"actual-cover-picture",id:"actual-cover-picture",alt:"",src:o.src,coverPicturePosition:t.current.draft?.value.position,isFixedWidthImageOption:p,className:"cover-picture-wrapper-dangerously-set-inner-html"})):null)};var p=a("l998X");a("42omo");let m={small:"_1bsb7vkz _4t3i7vkz",medium:"_1bsb1tcg _4t3i1tcg",large:"_1bsbzwfg _4t3izwfg",xlarge:"_1bsbckbl _4t3ickbl"};var g=({size:e="medium",label:t})=>(0,p.jsxs)("svg",{viewBox:"0 0 24 24","aria-label":t,role:"img",className:(0,a("gMc0m").default)(["_1reo15vq _18m915vq _lswuvuon _lcxvglyw",m[e]]),children:[(0,p.jsx)("path",{d:"M10.7812 0.703646C11.5354 0.268228 12.4646 0.268228 13.2187 0.703646L21.1735 5.29635C21.9277 5.73177 22.3923 6.53646 22.3923 7.40729V16.5927C22.3923 17.4635 21.9277 18.2682 21.1735 18.7036L13.2187 23.2964C12.4646 23.7318 11.5354 23.7318 10.7812 23.2964L2.82642 18.7036C2.07225 18.2682 1.60767 17.4635 1.60767 16.5927V7.40729C1.60767 6.53646 2.07225 5.73177 2.82642 5.29635L10.7812 0.703646Z",fill:"#1868DB"}),(0,p.jsx)("mask",{id:"mask0_65_236",maskUnits:"userSpaceOnUse",x:"1",y:"0",width:"22",height:"24","mask-type":"alpha",children:(0,p.jsx)("path",{d:"M10.7815 0.703646C11.5356 0.268228 12.4648 0.268228 13.219 0.703646L21.1738 5.29635C21.9279 5.73177 22.3925 6.53646 22.3925 7.40729V16.5927C22.3925 17.4635 21.9279 18.2682 21.1738 18.7036L13.219 23.2964C12.4648 23.7318 11.5356 23.7318 10.7815 23.2964L2.82666 18.7036C2.0725 18.2682 1.60791 17.4635 1.60791 16.5927V7.40729C1.60791 6.53646 2.0725 5.73177 2.82666 5.29635L10.7815 0.703646Z"})}),(0,p.jsxs)("g",{mask:"url(#mask0_65_236)",children:[(0,p.jsx)("path",{d:"M-22.5135 24.6991H8.60185L5.88935 -2.41176L-22.5135 -28.4972V24.6991Z",fill:"#FCA700"}),(0,p.jsx)("path",{d:"M2.42558 35.5899C3.86103 32.8143 5.95704 30.6386 8.71725 29.1572C11.4775 27.6758 14.6828 27.0412 17.928 27.4185L0.469634 -5.11025C-2.42537 -4.58098 -5.2402 -3.60438 -7.9493 -2.15039C-10.6584 -0.696407 -12.9879 1.04419 -15.0109 3.09312L2.43287 35.5947L2.42558 35.5899Z",fill:"#BF63F3"}),(0,p.jsx)("path",{d:"M12.4885 15.9074C7.6716 17.9211 3.99287 21.2471 3.84304 25.8504C3.84304 25.8504 3.84561 25.8739 3.84317 25.8855C3.83332 26.2275 3.83962 26.5734 3.87076 26.9264C3.87202 26.9294 3.87327 26.9324 3.87452 26.9354C3.90382 27.2927 3.95486 27.6586 4.02641 28.0299C4.04474 28.1173 4.07178 28.2081 4.09011 28.2955C4.15579 28.5918 4.22146 28.8882 4.31634 29.1935C4.442 29.5986 4.58816 30.0091 4.76352 30.4286C5.08794 31.2046 5.46851 31.8973 5.87919 32.5141C6.42593 33.3345 7.02552 34.0201 7.62279 34.587C7.77289 34.7284 7.92047 34.8638 8.07175 34.9907C8.7748 35.4711 9.80174 36.1084 11.5225 36.9166C12.6464 37.4464 14.0741 38.0498 15.9023 38.7322C17.3643 36.4843 20.0395 34.7358 22.5433 32.7775C24.5199 31.2296 26.3844 29.5526 27.4471 27.3941C28.4218 25.4168 28.4471 22.9528 27.3786 20.397C24.7043 14.0001 18.7848 13.2716 12.4934 15.9018L12.4885 15.9074Z",fill:"#FCA700"}),(0,p.jsx)("mask",{id:"mask1_65_236",maskUnits:"userSpaceOnUse",x:"-16",y:"-6",width:"34",height:"42",children:(0,p.jsx)("path",{d:"M2.42503 35.5899C3.86048 32.8143 5.95649 30.6386 8.7167 29.1572C11.4769 27.6758 14.6822 27.0412 17.9274 27.4185L0.469085 -5.11025C-2.42592 -4.58098 -5.24075 -3.60438 -7.94985 -2.15039C-10.6589 -0.696407 -12.9885 1.04419 -15.0115 3.09312L2.43232 35.5947L2.42503 35.5899Z",fill:"#BF63F3"})}),(0,p.jsx)("g",{mask:"url(#mask1_65_236)",children:(0,p.jsx)("path",{d:"M12.488 15.9073C7.67118 17.921 3.99245 21.247 3.84261 25.8503C3.84261 25.8503 3.84518 25.8739 3.84275 25.8854C3.83289 26.2275 3.83919 26.5733 3.87034 26.9264C3.87159 26.9294 3.87284 26.9323 3.87409 26.9353C3.90339 27.2927 3.95444 27.6585 4.02598 28.0299C4.04432 28.1173 4.07135 28.208 4.08969 28.2954C4.15536 28.5918 4.22104 28.8882 4.31591 29.1934C4.44158 29.5985 4.58773 30.0091 4.7631 30.4285C5.08752 31.2046 5.46808 31.8973 5.87877 32.514C6.42551 33.3344 7.0251 34.02 7.62237 34.587C7.77246 34.7284 7.92004 34.8638 8.07132 34.9906C8.77437 35.4711 9.80131 36.1083 11.522 36.9166C12.646 37.4463 14.0737 38.0498 15.9019 38.7322C17.3639 36.4842 20.0391 34.7358 22.5429 32.7774C24.5195 31.2295 26.3839 29.5525 27.4467 27.394C28.4214 25.4167 28.4466 22.9528 27.3782 20.397C24.7039 14 18.7843 13.2716 12.493 15.9017L12.488 15.9073Z",fill:"#AE2A19"})}),(0,p.jsx)("path",{d:"M23.208 -15.2226L-5.4511 -10.0558C-5.4511 -10.0558 -2.50006 3.04461 -8.90569 14.9706C-8.02861 15.0379 -7.1413 15.0785 -6.2441 15.0659C10.2558 14.8334 23.4404 1.27201 23.2079 -15.2279L23.208 -15.2226Z",fill:"#82B536"}),(0,p.jsx)("mask",{id:"mask2_65_236",maskUnits:"userSpaceOnUse",x:"-16",y:"-6",width:"34",height:"42",children:(0,p.jsx)("path",{d:"M2.42503 35.5899C3.86048 32.8143 5.95649 30.6386 8.7167 29.1572C11.4769 27.6758 14.6822 27.0412 17.9274 27.4185L0.469085 -5.11025C-2.42592 -4.58098 -5.24075 -3.60438 -7.94985 -2.15039C-10.6589 -0.696407 -12.9885 1.04419 -15.0115 3.09312L2.43232 35.5947L2.42503 35.5899Z",fill:"#BF63F3"})}),(0,p.jsx)("g",{mask:"url(#mask2_65_236)",children:(0,p.jsx)("path",{d:"M23.2076 -15.2226L-5.45147 -10.0558C-5.45147 -10.0558 -2.50043 3.04461 -8.90606 14.9706C-8.02898 15.0379 -7.14166 15.0785 -6.24447 15.0659C10.2554 14.8334 23.44 1.27201 23.2076 -15.2279L23.2076 -15.2226Z",fill:"#164B35"})})]}),(0,p.jsx)("path",{d:"M11.2922 5.78246C11.7411 5.53468 12.289 5.53923 12.7342 5.79611L17.066 8.29705C17.5194 8.5586 17.8 9.04386 17.8 9.56661V14.5686C17.8 15.0934 17.5211 15.5765 17.0664 15.8379L13.8102 17.7179C13.8173 17.6979 13.8241 17.6777 13.8306 17.6574C13.891 17.47 13.923 17.272 13.923 17.0695L13.923 12.0676C13.923 11.3804 13.5575 10.7468 12.9614 10.404L10.5341 9.00319V7.06564C10.5341 6.91296 10.5577 6.76382 10.6024 6.62264C10.7122 6.28094 10.9457 5.98513 11.2652 5.80047L11.2662 5.79992C11.2754 5.79463 11.2841 5.78876 11.2922 5.78246Z",fill:"white"}),(0,p.jsx)("path",{d:"M10.1899 6.42211L6.93363 8.30209C6.47892 8.5635 6.20001 9.04661 6.20001 9.57144L6.20001 14.5734C6.20001 15.0961 6.48057 15.5814 6.93393 15.8429L11.2658 18.3439C11.711 18.6007 12.2589 18.6053 12.7078 18.3575C12.716 18.3512 12.7246 18.3454 12.7338 18.3401C13.0536 18.1556 13.2875 17.8597 13.3975 17.5178C13.4423 17.3765 13.4659 17.2272 13.4659 17.0744V15.1368L11.0388 13.7361C10.4427 13.3933 10.077 12.7595 10.077 12.0724V7.07046C10.077 6.86833 10.1089 6.67056 10.1692 6.48338C10.1758 6.46283 10.1826 6.4424 10.1899 6.42211Z",fill:"white"})]});let f=(0,a("cgtv4").defineMessages)({getCreativeLabel:{id:"ai-image-generation.rovo-header-image-generator.get-creative-label",defaultMessage:"Get creative with Rovo"},getCreativePlaceholder:{id:"ai-image-generation.rovo-header-image-generator.get-creative-placeholder",defaultMessage:"Describe an image to create"},rovoIconAlt:{id:"ai-image-generation.rovo-header-image-generator.rovo-icon-alt",defaultMessage:"Rovo icon"},submitButtonLabel:{id:"ai-image-generation.rovo-header-image-generator.submit-button-label",defaultMessage:"Generate AI header image"},pickStyleLabel:{id:"ai-image-generation.rovo-header-image-generator.pick-style-label",defaultMessage:"Pick a style"},stylePhotorealistic:{id:"ai-image-generation.rovo-header-image-generator.style-photorealistic",defaultMessage:"Photorealistic"},styleAbstract:{id:"ai-image-generation.rovo-header-image-generator.style-abstract",defaultMessage:"Abstract"},styleWatercolors:{id:"ai-image-generation.rovo-header-image-generator.style-watercolors",defaultMessage:"Watercolors"},styleGraphicDesign:{id:"ai-image-generation.rovo-header-image-generator.style-graphic-design",defaultMessage:"Graphic Design"},styleLandscape:{id:"ai-image-generation.rovo-header-image-generator.style-landscape",defaultMessage:"Landscape"}}),h={divider:"_1mou12x7 _1bsb1osq _4t3it94y _bfhk7qp0",rovoIcon:"_1bsb7vkz _4t3i7vkz _1e0c1txw _4cvr1h6o _1bah1h6o",imagePromptContainer:"_2rko1mok _1dqonqa1 _1h6d1l7x _189ee4h9 _18zrutpp _1bsb1osq _1e0c1txw _4cvr1h6o _1wpz1fhb _1bah1h6o _bfhkvuon _85i5u2gc _1pfhutpp",stack:"_1bsb1osq _2lx21bp4"},v=({generateAIHeaderImage:t,deletePreviousHeaderImage:r})=>{let{formatMessage:i}=(0,a("8C5kA").default)(),[o,s]=(0,n.useState)(null),{trackAIInteractionInit:l,trackAIResultView:d,trackAIResultError:c}=(0,a("fYQcF").useAIEventsInstrumentation)({product:"confluence",subproduct:"confluence",aiFeatureName:"aiHeaderImageGeneration",proactiveGeneratedAI:0,userGeneratedAI:1,enablePlatformEvents:!0,source:"rovoHeaderImageGenerator"}),u=[{label:i(f.stylePhotorealistic),value:"photorealistic"},{label:i(f.styleAbstract),value:"abstract"},{label:i(f.styleWatercolors),value:"watercolors"},{label:i(f.styleGraphicDesign),value:"graphic_design"},{label:i(f.styleLandscape),value:"landscape"}],m=a("c6GJD").default.getExperimentValue("confluence_aifc_header_image_generation_experiment","isEnabled",!1);return t&&m?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(a("gdv5Z").default,{xcss:h.divider}),(0,a("dh538").fg)("platform-design_system_team-form_conversion")?(0,p.jsxs)(a("fzqvY").default,{onSubmit:async e=>{let a=!o?.value;l({attributes:{promptLength:e.promptInput?.length||0,useRawPrompt:a,selectedTheme:o?.value||"none"}}),r?.();try{await t({adfContent:e.promptInput,useRawPrompt:a,...o?.value&&{theme:o.value}}),d({attributes:{promptLength:e.promptInput?.length||0,useRawPrompt:a,selectedTheme:o?.value||"none"}})}catch(e){c({aiErrorMessage:e instanceof Error?e.message:"Unknown error",aiErrorCode:e?.code})}},children:[(0,p.jsxs)(a("u9agA").default,{space:"space.075",alignBlock:"center",children:[(0,p.jsx)(a("gdv5Z").default,{xcss:h.rovoIcon,children:(0,p.jsx)(g,{label:i(f.rovoIconAlt)})}),(0,p.jsx)("label",{htmlFor:"get-creative-text-area",children:(0,p.jsx)(a("iXCQx").default,{size:"medium",id:"get-creative-label",children:i(f.getCreativeLabel)})})]}),(0,p.jsx)(a("eyWa4").default,{space:"space.100",children:(0,p.jsxs)(a("gdv5Z").default,{children:[(0,p.jsx)("label",{htmlFor:"theme-picker",children:(0,p.jsx)(a("iXCQx").default,{size:"small",weight:"semibold",children:i(f.pickStyleLabel)})}),(0,p.jsx)(a("gdv5Z").default,{paddingBlockStart:"space.050",children:(0,p.jsx)(a("2gD2K").default,{inputId:"theme-picker",options:u,value:o,onChange:e=>s(e),placeholder:i(f.pickStyleLabel)})})]})}),(0,p.jsx)(a("gdv5Z").default,{xcss:h.imagePromptContainer,children:(0,p.jsxs)(a("gdv5Z").default,{xcss:h.stack,children:[(0,p.jsx)(a("fb3kw").default,{isRequired:!0,name:"promptInput",id:"get-creative-text-area",children:({fieldProps:e})=>(0,p.jsx)(n.Fragment,{children:(0,p.jsx)(a("9EtP6").default,{placeholder:i(f.getCreativePlaceholder),appearance:"none",...e})})}),(0,p.jsx)(a("u9agA").default,{space:"space.075",alignInline:"end",children:(0,p.jsx)(a("1qfLF").default,{appearance:"primary",icon:e(a("euUgw")),label:i(f.submitButtonLabel),shape:"circle",type:"submit"})})]})})]}):(0,p.jsx)(a("fzqvY").default,{onSubmit:async e=>{let a=!o?.value;l({attributes:{promptLength:e.promptInput?.length||0,useRawPrompt:a,selectedTheme:o?.value||"none"}}),r?.();try{await t({adfContent:e.promptInput,useRawPrompt:a,...o?.value&&{theme:o.value}}),d({attributes:{promptLength:e.promptInput?.length||0,useRawPrompt:a,selectedTheme:o?.value||"none"}})}catch(e){c({aiErrorMessage:e instanceof Error?e.message:"Unknown error",aiErrorCode:e?.code})}},children:({formProps:t})=>(0,p.jsxs)("form",{...t,children:[(0,p.jsxs)(a("u9agA").default,{space:"space.075",alignBlock:"center",children:[(0,p.jsx)(a("gdv5Z").default,{xcss:h.rovoIcon,children:(0,p.jsx)(g,{label:i(f.rovoIconAlt)})}),(0,p.jsx)("label",{htmlFor:"get-creative-text-area",children:(0,p.jsx)(a("iXCQx").default,{size:"medium",id:"get-creative-label",children:i(f.getCreativeLabel)})})]}),(0,p.jsx)(a("eyWa4").default,{space:"space.100",children:(0,p.jsxs)(a("gdv5Z").default,{children:[(0,p.jsx)("label",{htmlFor:"theme-picker",children:(0,p.jsx)(a("iXCQx").default,{size:"small",weight:"semibold",children:i(f.pickStyleLabel)})}),(0,p.jsx)(a("gdv5Z").default,{paddingBlockStart:"space.050",children:(0,p.jsx)(a("2gD2K").default,{inputId:"theme-picker",options:u,value:o,onChange:e=>s(e),placeholder:i(f.pickStyleLabel)})})]})}),(0,p.jsx)(a("gdv5Z").default,{xcss:h.imagePromptContainer,children:(0,p.jsxs)(a("gdv5Z").default,{xcss:h.stack,children:[(0,p.jsx)(a("fb3kw").default,{isRequired:!0,name:"promptInput",id:"get-creative-text-area",children:({fieldProps:e})=>(0,p.jsx)(n.Fragment,{children:(0,p.jsx)(a("9EtP6").default,{placeholder:i(f.getCreativePlaceholder),appearance:"none",...e})})}),(0,p.jsx)(a("u9agA").default,{space:"space.075",alignInline:"end",children:(0,p.jsx)(a("1qfLF").default,{appearance:"primary",icon:e(a("euUgw")),label:i(f.submitButtonLabel),shape:"circle",type:"submit"})})]})})]})})]}):null},I=(0,a("cgtv4").defineMessages)({fixedWidthSelectOption:{id:"content-topper.page-title.popup.fixed-width.option",defaultMessage:"Fixed width"},fullWidthSelectOption:{id:"content-topper.page-title.popup.full-width.option",defaultMessage:"Full width"}}),C=(0,i.isReactCompilerActiveV1)()?t=>{let r,i,s,l,d,c,u,p,m,g,f,h=(0,o.c)(28),{userOffline:v,onImageWidthChange:C,selectedWidth:y,onCoverImageWidthDropdownOptionSelected:_}=t,E=void 0===y?a("jVylI").COVERPICTUREWIDTH.FULL:y,{createAnalyticsEvent:b}=(0,a("inPa6").useAnalyticsEvents)();h[0]!==b?(r=e=>{b({type:"sendUIEvent",data:{action:"clicked",source:"widthToggleDropdownButton",actionSubject:"button",actionSubjectId:`${e}WidthToggleDropdownButton`}}).fire()},h[0]=b,h[1]=r):r=h[1];let P=r;return h[2]===Symbol.for("react.memo_cache_sentinel")?(i=a("dTk3A").layers.dialog(),h[2]=i):i=h[2],h[3]!==E||h[4]!==v?(s=t=>{let{triggerRef:r,...i}=t;return e(n).createElement(a("eEA8O").default,{...i,iconAfter:e(n).createElement(e(a("ghftu")),{label:"",size:"small"}),ref:r,shouldFitContainer:!0,style:{textAlign:"left"},isDisabled:v},E==a("jVylI").COVERPICTUREWIDTH.FULL?e(n).createElement(a("gtD4K").default,I.fullWidthSelectOption):e(n).createElement(a("gtD4K").default,I.fixedWidthSelectOption))},h[3]=E,h[4]=v,h[5]=s):s=h[5],h[6]!==P||h[7]!==_||h[8]!==C||h[9]!==E?(l=()=>{C(a("jVylI").COVERPICTUREWIDTH.FULL),P(a("jVylI").COVERPICTUREWIDTH.FULL),_?.(E!==a("jVylI").COVERPICTUREWIDTH.FULL)},h[6]=P,h[7]=_,h[8]=C,h[9]=E,h[10]=l):l=h[10],h[11]===Symbol.for("react.memo_cache_sentinel")?(d=e(n).createElement(a("gtD4K").default,I.fullWidthSelectOption),h[11]=d):d=h[11],h[12]!==l?(c=e(n).createElement(a("dAYOx").default,{key:a("jVylI").COVERPICTUREWIDTH.FULL,onClick:l,testId:"coverPictureFullWidthToggleDropdownItem"},d),h[12]=l,h[13]=c):c=h[13],h[14]!==P||h[15]!==_||h[16]!==C||h[17]!==E?(u=()=>{C(a("jVylI").COVERPICTUREWIDTH.FIXED),P(a("jVylI").COVERPICTUREWIDTH.FIXED),_?.(E!==a("jVylI").COVERPICTUREWIDTH.FIXED)},h[14]=P,h[15]=_,h[16]=C,h[17]=E,h[18]=u):u=h[18],h[19]===Symbol.for("react.memo_cache_sentinel")?(p=e(n).createElement(a("gtD4K").default,I.fixedWidthSelectOption),h[19]=p):p=h[19],h[20]!==u?(m=e(n).createElement(a("dAYOx").default,{key:a("jVylI").COVERPICTUREWIDTH.FIXED,onClick:u,testId:"coverPictureFixedWidthToggleDropdownItem"},p),h[20]=u,h[21]=m):m=h[21],h[22]!==m||h[23]!==c?(g=e(n).createElement(a("ahaN7").default,null,c,m),h[22]=m,h[23]=c,h[24]=g):g=h[24],h[25]!==g||h[26]!==s?(f=e(n).createElement(a("52EPl").default,{placement:"bottom-start",zIndex:i,shouldRenderToParent:!0,shouldFitContainer:!0,trigger:s},g),h[25]=g,h[26]=s,h[27]=f):f=h[27],f}:({userOffline:t,onImageWidthChange:r,selectedWidth:i=a("jVylI").COVERPICTUREWIDTH.FULL,onCoverImageWidthDropdownOptionSelected:o})=>{let{createAnalyticsEvent:s}=(0,a("inPa6").useAnalyticsEvents)(),l=(0,n.useCallback)(e=>{s({type:"sendUIEvent",data:{action:"clicked",source:"widthToggleDropdownButton",actionSubject:"button",actionSubjectId:`${e}WidthToggleDropdownButton`}}).fire()},[s]);return e(n).createElement(a("52EPl").default,{placement:"bottom-start",zIndex:a("dTk3A").layers.dialog(),shouldRenderToParent:!0,shouldFitContainer:!0,trigger:({triggerRef:r,...o})=>e(n).createElement(a("eEA8O").default,{...o,iconAfter:e(n).createElement(e(a("ghftu")),{label:"",size:"small"}),ref:r,shouldFitContainer:!0,style:{textAlign:"left"},isDisabled:t},i==a("jVylI").COVERPICTUREWIDTH.FULL?e(n).createElement(a("gtD4K").default,I.fullWidthSelectOption):e(n).createElement(a("gtD4K").default,I.fixedWidthSelectOption))},e(n).createElement(a("ahaN7").default,null,e(n).createElement(a("dAYOx").default,{key:a("jVylI").COVERPICTUREWIDTH.FULL,onClick:()=>{r(a("jVylI").COVERPICTUREWIDTH.FULL),l(a("jVylI").COVERPICTUREWIDTH.FULL),o?.(i!==a("jVylI").COVERPICTUREWIDTH.FULL)},testId:"coverPictureFullWidthToggleDropdownItem"},e(n).createElement(a("gtD4K").default,I.fullWidthSelectOption)),e(n).createElement(a("dAYOx").default,{key:a("jVylI").COVERPICTUREWIDTH.FIXED,onClick:()=>{r(a("jVylI").COVERPICTUREWIDTH.FIXED),l(a("jVylI").COVERPICTUREWIDTH.FIXED),o?.(i!==a("jVylI").COVERPICTUREWIDTH.FIXED)},testId:"coverPictureFixedWidthToggleDropdownItem"},e(n).createElement(a("gtD4K").default,I.fixedWidthSelectOption))))},y=async e=>(0,a("f7B1p").cfetch)("/wiki/rest/internals/1.0/unsplash/download",{method:"POST",body:JSON.stringify({downloadLink:e}),headers:{"Content-Type":"application/json"}}).catch(e=>{throw(0,a("5ZqQS").getMonitoringClient)().submitError(e,{attribution:a("3IBnw").Attribution.PAGE_EXPERIENCES}),e}),_=(0,a("cgtv4").defineMessages)({popupTitleLabel:{id:"content-topper.page-title.popup.label",defaultMessage:"Header image"},popupTitleLabelSubtext:{id:"content-topper.page-title.popup.label.subtext",defaultMessage:"We recommend images 1100px or wider."},repositionButton:{id:"content-topper.page-title.popup.reposition",defaultMessage:"Reposition"},removeHeaderButton:{id:"content-topper.page-title.popup.remove-image",defaultMessage:"Remove image"}}),E=(0,a("ecnYn").xcss)({padding:"space.200",width:"280px",userSelect:"none"}),b=(0,n.forwardRef)((0,i.isReactCompilerActiveV1)()?(t,r)=>{let i,s,l,d,c,u,p=(0,o.c)(13);if(p[0]!==r||p[1]!==t){let{as:e,style:o,...n}=t;i=void 0===e?"div":e,s=n,l=o,d=r,c=(0,a("gMc0m").default)(["_1gqwidpf _q93c3f71 _1v09u2gc _p55o3f71",n.className]),p[0]=r,p[1]=t,p[2]=i,p[3]=s,p[4]=l,p[5]=d,p[6]=c}else i=p[2],s=p[3],l=p[4],d=p[5],c=p[6];return p[7]!==i||p[8]!==s||p[9]!==l||p[10]!==d||p[11]!==c?(u=e(n).createElement(i,{...s,style:l,ref:d,className:c}),p[7]=i,p[8]=s,p[9]=l,p[10]=d,p[11]=c,p[12]=u):u=p[12],u}:({as:t="div",style:r,...i},o)=>e(n).createElement(t,{...i,style:r,ref:o,className:(0,a("gMc0m").default)(["_1gqwidpf _q93c3f71 _1v09u2gc _p55o3f71",i.className])})),P=(0,n.forwardRef)((0,i.isReactCompilerActiveV1)()?(t,r)=>{let i,s,l,d,c,u,p=(0,o.c)(13);if(p[0]!==r||p[1]!==t){let{as:e,style:o,...n}=t;i=void 0===e?"div":e,s=n,l=o,d=r,c=(0,a("gMc0m").default)(["_19pkyh40 _2hwxidpf _otyridpf _18u0j39m _t9ec2i46",n.className]),p[0]=r,p[1]=t,p[2]=i,p[3]=s,p[4]=l,p[5]=d,p[6]=c}else i=p[2],s=p[3],l=p[4],d=p[5],c=p[6];return p[7]!==i||p[8]!==s||p[9]!==l||p[10]!==d||p[11]!==c?(u=e(n).createElement(i,{...s,style:l,ref:d,className:c}),p[7]=i,p[8]=s,p[9]=l,p[10]=d,p[11]=c,p[12]=u):u=p[12],u}:({as:t="div",style:r,...i},o)=>e(n).createElement(t,{...i,style:r,ref:o,className:(0,a("gMc0m").default)(["_19pkyh40 _2hwxidpf _otyridpf _18u0j39m _t9ec2i46",i.className])})),x=(0,n.forwardRef)((0,i.isReactCompilerActiveV1)()?(t,r)=>{let i,s,l,d,c,u,p=(0,o.c)(13);if(p[0]!==r||p[1]!==t){let{as:e,style:o,...n}=t;i=void 0===e?"div":e,s=n,l=o,d=r,c=(0,a("gMc0m").default)(["_y3gn1e5h",n.className]),p[0]=r,p[1]=t,p[2]=i,p[3]=s,p[4]=l,p[5]=d,p[6]=c}else i=p[2],s=p[3],l=p[4],d=p[5],c=p[6];return p[7]!==i||p[8]!==s||p[9]!==l||p[10]!==d||p[11]!==c?(u=e(n).createElement(i,{...s,style:l,ref:d,className:c}),p[7]=i,p[8]=s,p[9]=l,p[10]=d,p[11]=c,p[12]=u):u=p[12],u}:({as:t="div",style:r,...i},o)=>e(n).createElement(t,{...i,style:r,ref:o,className:(0,a("gMc0m").default)(["_y3gn1e5h",i.className])})),S=(0,i.isReactCompilerActiveV1)()?t=>{let r,i,s,l,d,c,u,p,m,g,f=(0,o.c)(43),{imageSrc:h,imageAltText:I,initialUnsplashInfoArray:S,openMediaBrowser:w,coverPictureState:U,closePopup:R,setIsUploadingPicture:A,handleUnsplashUpload:O,onReposition:k,onDelete:M,dropdownRef:j,dropdownPopupComponentRef:H,userOffline:T,contentId:F,isPageTitleComponent:L,onImageWidthChange:D,onCoverImageWidthDropdownOptionSelected:B,generateAIHeaderImage:W}=t,[N]=(0,a("ep3mz").usePageState)(),{spaceKey:V}=N,q=(0,n.useContext)(a("1kHsc").ExperienceTrackerContext);f[0]!==R||f[1]!==U||f[2]!==q||f[3]!==O||f[4]!==A?(r=async(e,t)=>{q.start({name:a("irVI7").COVER_PICTURE_UNSPLASH_UPLOAD_EXPERIENCE}),U.setIsAIUnsplashImage(!1),await y(t),O(e),A(!0),U.setIsUploadingPicture(!0),R()},f[0]=R,f[1]=U,f[2]=q,f[3]=O,f[4]=A,f[5]=r):r=f[5];let z=r;f[6]!==U||f[7]!==z?(i=async e=>{let{fullSizeImageUrl:t,downloadLink:a}=e;await z(t,a),U.setIsChangingPicture(!1)},f[6]=U,f[7]=z,f[8]=i):i=f[8];let K=i;return f[9]===Symbol.for("react.memo_cache_sentinel")?(s=e(n).createElement(a("gtD4K").default,_.popupTitleLabelSubtext),f[9]=s):s=f[9],f[10]===Symbol.for("react.memo_cache_sentinel")?(l=e(n).createElement(a("gtD4K").default,_.popupTitleLabel),f[10]=l):l=f[10],f[11]!==F||f[12]!==K||f[13]!==I||f[14]!==h||f[15]!==S||f[16]!==L||f[17]!==w||f[18]!==H||f[19]!==T?(d=e(n).createElement(a("hY5v2").UnsplashSearch,{selectedImageUrl:h,imageAltText:I,initialUnsplashResults:S,idPrefix:"unsplash-popup",helperMessage:s,handleImageSelection:K,openMediaBrowser:w,sectionLabel:l,dropdownPopupComponentRef:H,isDisabled:T,contentId:F,isPageTitleComponent:L,isNoImageAllowed:!1,analyticsSource:"editorPageCoverPicture",analyticsActionSubject:"headerImageUpload",analyticsActionSubjectId:"headerImageUploadButtonClicked",enableBottomSpacing:!1}),f[11]=F,f[12]=K,f[13]=I,f[14]=h,f[15]=S,f[16]=L,f[17]=w,f[18]=H,f[19]=T,f[20]=d):d=f[20],f[21]!==U.state||f[22]!==B||f[23]!==D||f[24]!==V||f[25]!==T?(c=(0,a("cEgMD").isCompanyHubSpaceKey)(V)||"function"!=typeof D?null:e(n).createElement(C,{onImageWidthChange:D,userOffline:T,selectedWidth:U.state.coverPictureWidth,onCoverImageWidthDropdownOptionSelected:B}),f[21]=U.state,f[22]=B,f[23]=D,f[24]=V,f[25]=T,f[26]=c):c=f[26],f[27]!==k||f[28]!==T?(u="function"==typeof k?e(n).createElement(a("eEA8O").default,{iconBefore:e(n).createElement(P,null,e(n).createElement(e(a("1kVeP")),{label:"",spacing:"none"})),testId:"reposition-image-button",isDisabled:T,onClick:k,shouldFitContainer:!0},e(n).createElement(x,null,e(n).createElement(a("gtD4K").default,_.repositionButton))):null,f[27]=k,f[28]=T,f[29]=u):u=f[29],f[30]!==W||f[31]!==M?(p=e(n).createElement(v,{generateAIHeaderImage:W,deletePreviousHeaderImage:M}),f[30]=W,f[31]=M,f[32]=p):p=f[32],f[33]!==M||f[34]!==T?(m="function"==typeof M?e(n).createElement(b,null,e(n).createElement(a("eEA8O").default,{appearance:"subtle",iconBefore:e(n).createElement(e(a("gKvd9")),{label:""}),shouldFitContainer:!0,onClick:M,isDisabled:T,testId:"remove-image-button"},e(n).createElement(x,null,e(n).createElement(a("gtD4K").default,_.removeHeaderButton)))):null,f[33]=M,f[34]=T,f[35]=m):m=f[35],f[36]!==u||f[37]!==p||f[38]!==m||f[39]!==j||f[40]!==d||f[41]!==c?(g=e(n).createElement(a("1GzhS").default,{ref:j,xcss:E,space:"space.100"},d,c,u,p,m),f[36]=u,f[37]=p,f[38]=m,f[39]=j,f[40]=d,f[41]=c,f[42]=g):g=f[42],g}:({imageSrc:t,imageAltText:r,initialUnsplashInfoArray:i,openMediaBrowser:o,coverPictureState:s,closePopup:l,setIsUploadingPicture:d,handleUnsplashUpload:c,onReposition:u,onDelete:p,dropdownRef:m,dropdownPopupComponentRef:g,userOffline:f,contentId:h,isPageTitleComponent:I,onImageWidthChange:S,onCoverImageWidthDropdownOptionSelected:w,generateAIHeaderImage:U})=>{let[{spaceKey:R}]=(0,a("ep3mz").usePageState)(),A=(0,n.useContext)(a("1kHsc").ExperienceTrackerContext),O=(0,n.useCallback)(async(e,t)=>{A.start({name:a("irVI7").COVER_PICTURE_UNSPLASH_UPLOAD_EXPERIENCE}),s.setIsAIUnsplashImage(!1),await y(t),c(e),d(!0),s.setIsUploadingPicture(!0),l()},[A,l,s,c,d]),k=(0,n.useCallback)(async({fullSizeImageUrl:e,downloadLink:t})=>{await O(e,t),s.setIsChangingPicture(!1)},[O,s]);return e(n).createElement(a("1GzhS").default,{ref:m,xcss:E,space:"space.100"},e(n).createElement(a("hY5v2").UnsplashSearch,{selectedImageUrl:t,imageAltText:r,initialUnsplashResults:i,idPrefix:"unsplash-popup",helperMessage:e(n).createElement(a("gtD4K").default,_.popupTitleLabelSubtext),handleImageSelection:k,openMediaBrowser:o,sectionLabel:e(n).createElement(a("gtD4K").default,_.popupTitleLabel),dropdownPopupComponentRef:g,isDisabled:f,contentId:h,isPageTitleComponent:I,isNoImageAllowed:!1,analyticsSource:"editorPageCoverPicture",analyticsActionSubject:"headerImageUpload",analyticsActionSubjectId:"headerImageUploadButtonClicked",enableBottomSpacing:!1}),(0,a("cEgMD").isCompanyHubSpaceKey)(R)||"function"!=typeof S?null:e(n).createElement(C,{onImageWidthChange:S,userOffline:f,selectedWidth:s.state.coverPictureWidth,onCoverImageWidthDropdownOptionSelected:w}),"function"==typeof u?e(n).createElement(a("eEA8O").default,{iconBefore:e(n).createElement(P,null,e(n).createElement(e(a("1kVeP")),{label:"",spacing:"none"})),testId:"reposition-image-button",isDisabled:f,onClick:u,shouldFitContainer:!0},e(n).createElement(x,null,e(n).createElement(a("gtD4K").default,_.repositionButton))):null,e(n).createElement(v,{generateAIHeaderImage:U,deletePreviousHeaderImage:p}),"function"==typeof p?e(n).createElement(b,null,e(n).createElement(a("eEA8O").default,{appearance:"subtle",iconBefore:e(n).createElement(e(a("gKvd9")),{label:""}),shouldFitContainer:!0,onClick:p,isDisabled:f,testId:"remove-image-button"},e(n).createElement(x,null,e(n).createElement(a("gtD4K").default,_.removeHeaderButton)))):null)},w=(0,a("cgtv4").defineMessages)({headerLabel:{id:"content-topper.add.header.image.message.floating-toolbar",defaultMessage:"Header image"},updateImage:{id:"content-topper.page-title.popup.update.header.image",defaultMessage:"Update header image"}}),U=(0,i.isReactCompilerActiveV1)()?t=>{let r,i,s,l=(0,o.c)(25),{isModalOpenState:d,closePopup:c,initialUnsplashInfoArray:u,openMediaBrowser:p,userOffline:m,handleUnsplashUpload:g,setIsUploadingPicture:f,coverPictureState:h,floatingToolbarButtonStyle:v,onAddHeaderImageButtonClicked:I,onAddHeaderImageButtonHovered:C,onReposition:y,onDelete:_,imageSrc:E,dropdownRef:b,dropdownPopupComponentRef:P,contentId:x,generateAIHeaderImage:U}=t;return l[0]!==c||l[1]!==x||l[2]!==h||l[3]!==P||l[4]!==b||l[5]!==U||l[6]!==g||l[7]!==E||l[8]!==u||l[9]!==_||l[10]!==y||l[11]!==p||l[12]!==f?(r=()=>e(n).createElement(S,{dropdownRef:b,imageSrc:E,initialUnsplashInfoArray:u,openMediaBrowser:p,handleUnsplashUpload:g,setIsUploadingPicture:f,coverPictureState:h,closePopup:c,onReposition:y,onDelete:_,dropdownPopupComponentRef:P,contentId:x,isPageTitleComponent:!0,generateAIHeaderImage:U}),l[0]=c,l[1]=x,l[2]=h,l[3]=P,l[4]=b,l[5]=U,l[6]=g,l[7]=E,l[8]=u,l[9]=_,l[10]=y,l[11]=p,l[12]=f,l[13]=r):r=l[13],l[14]!==v||l[15]!==d||l[16]!==I||l[17]!==C||l[18]!==m?(i=t=>e(n).createElement(a("eEA8O").default,{...t,isSelected:d,appearance:"subtle",style:v||{},testId:"add-header-image-button",spacing:"compact",iconBefore:e(n).createElement(e(a("fZtQj")),{label:""}),onClick:I,isDisabled:m,onMouseEnter:C},e(n).createElement("span",{className:"add-header-image-button"},e(n).createElement(a("gtD4K").default,w.headerLabel))),l[14]=v,l[15]=d,l[16]=I,l[17]=C,l[18]=m,l[19]=i):i=l[19],l[20]!==c||l[21]!==d||l[22]!==r||l[23]!==i?(s=e(n).createElement(a("lGgRw").default,{isOpen:d,onClose:c,placement:"bottom-start",shouldRenderToParent:!1,content:r,trigger:i}),l[20]=c,l[21]=d,l[22]=r,l[23]=i,l[24]=s):s=l[24],s}:({isModalOpenState:t,closePopup:r,initialUnsplashInfoArray:i,openMediaBrowser:o,userOffline:s,handleUnsplashUpload:l,setIsUploadingPicture:d,coverPictureState:c,floatingToolbarButtonStyle:u,onAddHeaderImageButtonClicked:p,onAddHeaderImageButtonHovered:m,onReposition:g,onDelete:f,imageSrc:h,dropdownRef:v,dropdownPopupComponentRef:I,contentId:C,generateAIHeaderImage:y})=>e(n).createElement(a("lGgRw").default,{isOpen:t,onClose:r,placement:"bottom-start",shouldRenderToParent:!1,content:()=>e(n).createElement(S,{dropdownRef:v,imageSrc:h,initialUnsplashInfoArray:i,openMediaBrowser:o,handleUnsplashUpload:l,setIsUploadingPicture:d,coverPictureState:c,closePopup:r,onReposition:g,onDelete:f,dropdownPopupComponentRef:I,contentId:C,isPageTitleComponent:!0,generateAIHeaderImage:y}),trigger:r=>e(n).createElement(a("eEA8O").default,{...r,isSelected:t,appearance:"subtle",style:u||{},testId:"add-header-image-button",spacing:"compact",iconBefore:e(n).createElement(e(a("fZtQj")),{label:""}),onClick:p,isDisabled:s,onMouseEnter:m},e(n).createElement("span",{className:"add-header-image-button"},e(n).createElement(a("gtD4K").default,w.headerLabel)))}),R={addHeaderImageButton:"_tzy4kb7n"},A=(0,i.isReactCompilerActiveV1)()?t=>{let r,i,s,l,d,c,u,p=(0,o.c)(30),{userOffline:m,openModal:g,openMediaBrowser:f,isModalOpenState:h,closeModal:v,handleUnsplashUpload:I,setIsUploadingPicture:C,initialUnsplashInfoArray:y,setInitialUnsplashInfoArray:_,coverPictureState:E,floatingToolbarButtonStyle:b,contentId:P,generateAIHeaderImage:x}=t,{createAnalyticsEvent:S}=(0,a("inPa6").useAnalyticsEvents)();p[0]!==y.length||p[1]!==_?(r=()=>{0===y.length&&(0,a("gTAwR").getUnsplashPhotos)(a("2Maq7").PAGE_TITLE_DEFAULT_UNSPLASH_QUERY_WORD,1,!0).then(e=>{_(e)})},p[0]=y.length,p[1]=_,p[2]=r):r=p[2];let w=r;p[3]!==S||p[4]!==g?(i=()=>{g(),S({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"addHeaderImageButtonClicked",source:"editorPageCoverPicture"}}).fire()},p[3]=S,p[4]=g,p[5]=i):i=p[5];let A=i;p[6]!==E||p[7]!==h?(s=()=>{h||E.setIsAddHeaderImageButtonFocused(!0)},p[6]=E,p[7]=h,p[8]=s):s=p[8];let O=s;p[9]!==E?(l=()=>{E.setIsAddHeaderImageButtonFocused(!1)},p[9]=E,p[10]=l):l=p[10];let k=l;return p[11]===Symbol.for("react.memo_cache_sentinel")?(d=(0,a("gMc0m").default)([R.addHeaderImageButton]),p[11]=d):d=p[11],p[12]!==v||p[13]!==P||p[14]!==E||p[15]!==b||p[16]!==x||p[17]!==I||p[18]!==h||p[19]!==A||p[20]!==w||p[21]!==f||p[22]!==C||p[23]!==y||p[24]!==m?(c=e(n).createElement(U,{imageSrc:"",initialUnsplashInfoArray:y,openMediaBrowser:f,handleUnsplashUpload:I,setIsUploadingPicture:C,coverPictureState:E,closePopup:v,userOffline:m,floatingToolbarButtonStyle:b,isModalOpenState:h,onAddHeaderImageButtonClicked:A,onAddHeaderImageButtonHovered:w,contentId:P,generateAIHeaderImage:x}),p[12]=v,p[13]=P,p[14]=E,p[15]=b,p[16]=x,p[17]=I,p[18]=h,p[19]=A,p[20]=w,p[21]=f,p[22]=C,p[23]=y,p[24]=m,p[25]=c):c=p[25],p[26]!==k||p[27]!==O||p[28]!==c?(u=e(n).createElement("div",{"data-testid":"add-header-image-button-wrapper",onFocus:O,onBlur:k,className:d},c),p[26]=k,p[27]=O,p[28]=c,p[29]=u):u=p[29],u}:({userOffline:t,openModal:r,openMediaBrowser:i,isModalOpenState:o,closeModal:s,handleUnsplashUpload:l,setIsUploadingPicture:d,initialUnsplashInfoArray:c,setInitialUnsplashInfoArray:u,coverPictureState:p,floatingToolbarButtonStyle:m,contentId:g,generateAIHeaderImage:f})=>{let{createAnalyticsEvent:h}=(0,a("inPa6").useAnalyticsEvents)(),v=(0,n.useCallback)(()=>{0===c.length&&(0,a("gTAwR").getUnsplashPhotos)(a("2Maq7").PAGE_TITLE_DEFAULT_UNSPLASH_QUERY_WORD,1,!0).then(e=>{u(e)})},[c,!0,u]),I=(0,n.useCallback)(()=>{o||p.setIsAddHeaderImageButtonFocused(!0)},[o,p]),C=(0,n.useCallback)(()=>{p.setIsAddHeaderImageButtonFocused(!1)},[p]);return e(n).createElement("div",{"data-testid":"add-header-image-button-wrapper",onFocus:I,onBlur:C,className:(0,a("gMc0m").default)([R.addHeaderImageButton])},e(n).createElement(U,{imageSrc:"",initialUnsplashInfoArray:c,openMediaBrowser:i,handleUnsplashUpload:l,setIsUploadingPicture:d,coverPictureState:p,closePopup:s,userOffline:t,floatingToolbarButtonStyle:m,isModalOpenState:o,onAddHeaderImageButtonClicked:()=>{r(),h({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"addHeaderImageButtonClicked",source:"editorPageCoverPicture"}}).fire()},onAddHeaderImageButtonHovered:v,contentId:g,generateAIHeaderImage:f}))},O=(0,a("cgtv4").defineMessages)({dragToReposition:{id:"page-cover-picture.drag.to.reposition.message",defaultMessage:"Drag to reposition"},saveReposition:{id:"page-cover-picture.save.reposition",defaultMessage:"Apply"},cancelReposition:{id:"page-cover-picture.cancel.reposition",defaultMessage:"Cancel"}}),k=(0,n.forwardRef)((0,i.isReactCompilerActiveV1)()?(t,r)=>{let i,s,l,d,c,u,p=(0,o.c)(13);if(p[0]!==r||p[1]!==t){let{as:e,style:o,...n}=t,{userOffline:u,...m}=n;i=void 0===e?"div":e,s=m,l=o,d=r,c=(0,a("gMc0m").default)(["_11q7i8nm _1e0c1txw _4cvr1h6o _3um0ewfl _4t3i1ul9 _1bsb1osq",n.userOffline?"_80om13gf":"_80om73ad",n.className]),p[0]=r,p[1]=t,p[2]=i,p[3]=s,p[4]=l,p[5]=d,p[6]=c}else i=p[2],s=p[3],l=p[4],d=p[5],c=p[6];return p[7]!==i||p[8]!==s||p[9]!==l||p[10]!==d||p[11]!==c?(u=e(n).createElement(i,{...s,style:l,ref:d,className:c}),p[7]=i,p[8]=s,p[9]=l,p[10]=d,p[11]=c,p[12]=u):u=p[12],u}:({as:t="div",style:r,...i},o)=>{let{userOffline:s,...l}=i;return e(n).createElement(t,{...l,style:r,ref:o,className:(0,a("gMc0m").default)(["_11q7i8nm _1e0c1txw _4cvr1h6o _3um0ewfl _4t3i1ul9 _1bsb1osq",i.userOffline?"_80om13gf":"_80om73ad",i.className])})}),M=(0,n.forwardRef)((0,i.isReactCompilerActiveV1)()?(t,r)=>{let i,s,l,d,c,u,p=(0,o.c)(13);if(p[0]!==r||p[1]!==t){let{as:e,style:o,...n}=t;i=void 0===e?"span":e,s=n,l=o,d=r,c=(0,a("gMc0m").default)(["_11c81ixg _syaz1j9a _1e0c1txw _1bsb1t1y _1bahesu3",n.className]),p[0]=r,p[1]=t,p[2]=i,p[3]=s,p[4]=l,p[5]=d,p[6]=c}else i=p[2],s=p[3],l=p[4],d=p[5],c=p[6];return p[7]!==i||p[8]!==s||p[9]!==l||p[10]!==d||p[11]!==c?(u=e(n).createElement(i,{...s,style:l,ref:d,className:c}),p[7]=i,p[8]=s,p[9]=l,p[10]=d,p[11]=c,p[12]=u):u=p[12],u}:({as:t="span",style:r,...i},o)=>e(n).createElement(t,{...i,style:r,ref:o,className:(0,a("gMc0m").default)(["_11c81ixg _syaz1j9a _1e0c1txw _1bsb1t1y _1bahesu3",i.className])})),j=(0,n.forwardRef)((0,i.isReactCompilerActiveV1)()?(t,r)=>{let i,s,l,d,c,u,p=(0,o.c)(13);if(p[0]!==r||p[1]!==t){let{as:e,style:o,...n}=t;i=void 0===e?"span":e,s=n,l=o,d=r,c=(0,a("gMc0m").default)(["_11c82smr _syazi7uo",n.className]),p[0]=r,p[1]=t,p[2]=i,p[3]=s,p[4]=l,p[5]=d,p[6]=c}else i=p[2],s=p[3],l=p[4],d=p[5],c=p[6];return p[7]!==i||p[8]!==s||p[9]!==l||p[10]!==d||p[11]!==c?(u=e(n).createElement(i,{...s,style:l,ref:d,className:c}),p[7]=i,p[8]=s,p[9]=l,p[10]=d,p[11]=c,p[12]=u):u=p[12],u}:({as:t="span",style:r,...i},o)=>e(n).createElement(t,{...i,style:r,ref:o,className:(0,a("gMc0m").default)(["_11c82smr _syazi7uo",i.className])})),H=(0,n.forwardRef)((0,i.isReactCompilerActiveV1)()?(t,r)=>{let i,s,l,d,c,u,p=(0,o.c)(13);if(p[0]!==r||p[1]!==t){let{as:e,style:o,...n}=t;i=void 0===e?"span":e,s=n,l=o,d=r,c=(0,a("gMc0m").default)(["_1bsb1lk2 _1e0c1txw _1bahesu3 _2hwxu2gc",n.className]),p[0]=r,p[1]=t,p[2]=i,p[3]=s,p[4]=l,p[5]=d,p[6]=c}else i=p[2],s=p[3],l=p[4],d=p[5],c=p[6];return p[7]!==i||p[8]!==s||p[9]!==l||p[10]!==d||p[11]!==c?(u=e(n).createElement(i,{...s,style:l,ref:d,className:c}),p[7]=i,p[8]=s,p[9]=l,p[10]=d,p[11]=c,p[12]=u):u=p[12],u}:({as:t="span",style:r,...i},o)=>e(n).createElement(t,{...i,style:r,ref:o,className:(0,a("gMc0m").default)(["_1bsb1lk2 _1e0c1txw _1bahesu3 _2hwxu2gc",i.className])})),T=(0,n.forwardRef)((0,i.isReactCompilerActiveV1)()?(t,r)=>{let i,s=(0,o.c)(8);if(s[0]!==r||s[1]!==t){let o,l,{as:d,style:c,...u}=t,{userOffline:p,dynamicCoverImageHeight:m,...g}=u,f=`${u.dynamicCoverImageHeight}px`;s[3]!==f?(o=(0,a("7sObp").default)(f),s[3]=f,s[4]=o):o=s[4],s[5]!==c||s[6]!==o?(l={...c,"--_1isxe5u":o},s[5]=c,s[6]=o,s[7]=l):l=s[7],i=e(n).createElement(void 0===d?"span":d,{...g,style:l,ref:r,className:(0,a("gMc0m").default)(["_kqswh2mm _4t3i1v90 _1bsb1osq _1e0c1txw _4cvr1y6m",u.userOffline?"_80om13gf":"_80ommivt",u.className])}),s[0]=r,s[1]=t,s[2]=i}else i=s[2];return i}:({as:t="span",style:r,...i},o)=>{let{userOffline:s,dynamicCoverImageHeight:l,...d}=i;return e(n).createElement(t,{...d,style:{...r,"--_1isxe5u":(0,a("7sObp").default)(`${i.dynamicCoverImageHeight}px`)},ref:o,className:(0,a("gMc0m").default)(["_kqswh2mm _4t3i1v90 _1bsb1osq _1e0c1txw _4cvr1y6m",i.userOffline?"_80om13gf":"_80ommivt",i.className])})}),F=({initialPicturePosition:t,onSaveReposition:r,setIsRepositionActive:i,setShouldShowReposition:o,coverPictureState:s,forceUpdate:l,userOffline:d,dynamicCoverImageHeight:c})=>{let u=(0,n.useRef)(d);(0,n.useEffect)(()=>{u.current=d},[d]);let{createAnalyticsEvent:p}=(0,a("inPa6").useAnalyticsEvents)(),{formatMessage:m}=(0,a("8C5kA").default)(),g=(0,a("3jwuS").useIsCurrentPageLive)(),f=()=>{C()},h=0,v=(0,n.useRef)(t||a("75Ax4").DEFAULT_POSITION_VALUE),I=e=>{if(u.current)return void C();e.preventDefault();let t=document.getElementById("actual-cover-picture");e.clientY>h?v.current-.75>=0&&(v.current-=.75,t.style.objectPosition=`center ${v.current}%`):e.clientY<h&&v.current+.75<=100&&(v.current+=.75,t.style.objectPosition=`center ${v.current}%`),h=e.clientY},C=()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",f)},y=async()=>{s.setIsRepositioningPicture(!0),await r(v.current),i(!1),o(!1),s.setIsRepositioningPicture(!1),C(),await s.setIsChangingPicture(!1),await s.setShouldShowReposition(!1),l?.(Math.random()),p({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"repositionSaveButtonClicked",source:"editorPageCoverPicture",attributes:{isLivePage:g}}}).fire()},_=async()=>{let e=document.getElementById("actual-cover-picture");i(!1),o(!1),s.setIsRepositioningPicture(!1),C(),await s.setShouldShowReposition(!1),await s.setIsChangingPicture(!1),l?.(Math.random()),e&&(e.style.objectPosition=`center ${t}%`),p({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"repositionCancelButtonClicked",source:"editorPageCoverPicture"}}).fire()};return e(n).createElement(T,{onMouseDown:d?void 0:()=>{document.addEventListener("mousemove",I),document.addEventListener("mouseup",f)},"data-testid":"reposition-div",userOffline:d,dynamicCoverImageHeight:c},e(n).createElement(k,{userOffline:d},e(n).createElement(M,null,m(O.dragToReposition)),e(n).createElement(H,null,e(n).createElement(a("eEA8O").default,{testId:"save-reposition-button",spacing:"compact",onClick:y,style:{background:"var(--ds-background-input, #FFFFFF)",marginRight:"var(--ds-space-200, 16px)",marginLeft:"var(--ds-space-negative-100, -8px)",marginBottom:"var(--ds-space-025, 2px)"},isDisabled:d},e(n).createElement(j,null,m(O.saveReposition))),e(n).createElement(a("eEA8O").default,{testId:"cancel-reposition-button",spacing:"compact",onClick:_,style:{background:"var(--ds-background-input, #FFFFFF)",marginBottom:"var(--ds-space-025, 2px)",marginLeft:"var(--ds-space-negative-050, -4px)"},isDisabled:d},e(n).createElement(j,null,m(O.cancelReposition))))))},L=(0,a("cgtv4").defineMessages)({headerLabel:{id:"content-topper.add.header.image.message.floating-toolbar",defaultMessage:"Header image"},updateImage:{id:"content-topper.page-title.popup.update.header.image",defaultMessage:"Update header image"}}),D=(0,n.forwardRef)((0,i.isReactCompilerActiveV1)()?(t,r)=>{let i,s,l,d,c,u,p=(0,o.c)(13);if(p[0]!==r||p[1]!==t){let{as:e,style:o,...n}=t,{userOffline:u,...m}=n;i=void 0===e?"button":e,s=m,l=o,d=r,c=(0,a("gMc0m").default)(["_2lx21bp4 _1n261q9c _11q7glyw _19itglyw _1e0c1txw _4cvr1h6o _syaz1j9a _12jivbh5",n.userOffline?"_80om13gf":"_80omtlke",n.className]),p[0]=r,p[1]=t,p[2]=i,p[3]=s,p[4]=l,p[5]=d,p[6]=c}else i=p[2],s=p[3],l=p[4],d=p[5],c=p[6];return p[7]!==i||p[8]!==s||p[9]!==l||p[10]!==d||p[11]!==c?(u=e(n).createElement(i,{...s,style:l,ref:d,className:c}),p[7]=i,p[8]=s,p[9]=l,p[10]=d,p[11]=c,p[12]=u):u=p[12],u}:({as:t="button",style:r,...i},o)=>{let{userOffline:s,...l}=i;return e(n).createElement(t,{...l,style:r,ref:o,className:(0,a("gMc0m").default)(["_2lx21bp4 _1n261q9c _11q7glyw _19itglyw _1e0c1txw _4cvr1h6o _syaz1j9a _12jivbh5",i.userOffline?"_80om13gf":"_80omtlke",i.className])})}),B=(0,i.isReactCompilerActiveV1)()?t=>{let r,i,s,l,d=(0,o.c)(26),{isModalOpenState:c,closePopup:u,initialUnsplashInfoArray:p,openMediaBrowser:m,userOffline:g,handleUnsplashUpload:f,setIsUploadingPicture:h,coverPictureState:v,floatingToolbarButtonStyle:I,onReposition:C,onDelete:y,imageSrc:_,dropdownRef:E,dropdownPopupComponentRef:b,contentId:P,onImageWidthChange:x,onCoverImageWidthDropdownOptionSelected:w,generateAIHeaderImage:U}=t;return d[0]===Symbol.for("react.memo_cache_sentinel")?(r=a("dTk3A").layers.dialog(),d[0]=r):r=d[0],d[1]!==I||d[2]!==c||d[3]!==g?(i=t=>{let{triggerRef:r,...i}=t;return e(n).createElement(D,{"data-testid":"update-image-button",...i,tabIndex:0,"aria-expanded":c,ref:r,style:I||{},userOffline:g,disabled:g},e(n).createElement(e(a("fZtQj")),{label:"",color:"var(--ds-icon-inverse, #FFFFFF)"}),e(n).createElement(a("gtD4K").default,L.updateImage))},d[1]=I,d[2]=c,d[3]=g,d[4]=i):i=d[4],d[5]!==u||d[6]!==P||d[7]!==v||d[8]!==b||d[9]!==E||d[10]!==U||d[11]!==f||d[12]!==_||d[13]!==p||d[14]!==w||d[15]!==y||d[16]!==x||d[17]!==C||d[18]!==m||d[19]!==h||d[20]!==g?(s=e(n).createElement(S,{dropdownRef:E,contentId:P,imageSrc:_,initialUnsplashInfoArray:p,openMediaBrowser:m,handleUnsplashUpload:f,setIsUploadingPicture:h,coverPictureState:v,closePopup:u,onReposition:C,onDelete:y,placement:"bottom",userOffline:g,dropdownPopupComponentRef:b,onImageWidthChange:x,isPageTitleComponent:!0,onCoverImageWidthDropdownOptionSelected:w,generateAIHeaderImage:U}),d[5]=u,d[6]=P,d[7]=v,d[8]=b,d[9]=E,d[10]=U,d[11]=f,d[12]=_,d[13]=p,d[14]=w,d[15]=y,d[16]=x,d[17]=C,d[18]=m,d[19]=h,d[20]=g,d[21]=s):s=d[21],d[22]!==c||d[23]!==i||d[24]!==s?(l=e(n).createElement(a("52EPl").default,{defaultOpen:!1,isOpen:c,placement:"bottom",zIndex:r,strategy:"absolute",shouldRenderToParent:!0,trigger:i},s),d[22]=c,d[23]=i,d[24]=s,d[25]=l):l=d[25],l}:({isModalOpenState:t,closePopup:r,initialUnsplashInfoArray:i,openMediaBrowser:o,userOffline:s,handleUnsplashUpload:l,setIsUploadingPicture:d,coverPictureState:c,floatingToolbarButtonStyle:u,onReposition:p,onDelete:m,imageSrc:g,dropdownRef:f,dropdownPopupComponentRef:h,contentId:v,onImageWidthChange:I,onCoverImageWidthDropdownOptionSelected:C,generateAIHeaderImage:y})=>e(n).createElement(a("52EPl").default,{defaultOpen:!1,isOpen:t,placement:"bottom",zIndex:a("dTk3A").layers.dialog(),strategy:"absolute",shouldRenderToParent:!0,trigger:({triggerRef:r,...i})=>e(n).createElement(D,{"data-testid":"update-image-button",...i,tabIndex:0,"aria-expanded":t,ref:r,style:u||{},userOffline:s,disabled:s},e(n).createElement(e(a("fZtQj")),{label:"",color:"var(--ds-icon-inverse, #FFFFFF)"}),e(n).createElement(a("gtD4K").default,L.updateImage))},e(n).createElement(S,{dropdownRef:f,contentId:v,imageSrc:g,initialUnsplashInfoArray:i,openMediaBrowser:o,handleUnsplashUpload:l,setIsUploadingPicture:d,coverPictureState:c,closePopup:r,onReposition:p,onDelete:m,placement:"bottom",userOffline:s,dropdownPopupComponentRef:h,onImageWidthChange:I,isPageTitleComponent:!0,onCoverImageWidthDropdownOptionSelected:C,generateAIHeaderImage:y})),W=(0,n.forwardRef)((0,i.isReactCompilerActiveV1)()?(t,r)=>{let i,s=(0,o.c)(3);if(s[0]!==r||s[1]!==t){let{as:o,style:l,...d}=t,{isFixedWidthImageOption:c,dynamicCoverImageHeight:u,userOffline:p,isDropdownOpen:m,...g}=d;i=e(n).createElement(void 0===o?"div":o,{...g,style:{...l,"--_pjvxvw":(0,a("7sObp").default)(d.dynamicCoverImageHeight,"px")},ref:r,className:(0,a("gMc0m").default)(["_11q7plhp _2rkofajl _1bsb1osq _kqswh2mm _1e0c1txw _1bah1h6o _4cvr1h6o",d.isFixedWidthImageOption?"_4t3i2pqz":d.isFixedWidthImageOption?"_4t3ifmv9":"_4t3i6w0c",d.userOffline?"_80om13gf":"_80omtlke",d.isDropdownOpen?"_tzy4kb7n":"_tzy4idpf",d.userOffline?"_16l4idpf":"_16l4kb7n",d.userOffline?"_1mygidpf":"_1mygkb7n",d.className])}),s[0]=r,s[1]=t,s[2]=i}else i=s[2];return i}:({as:t="div",style:r,...i},o)=>{let{isFixedWidthImageOption:s,dynamicCoverImageHeight:l,userOffline:d,isDropdownOpen:c,...u}=i;return e(n).createElement(t,{...u,style:{...r,"--_pjvxvw":(0,a("7sObp").default)(i.dynamicCoverImageHeight,"px")},ref:o,className:(0,a("gMc0m").default)(["_11q7plhp _2rkofajl _1bsb1osq _kqswh2mm _1e0c1txw _1bah1h6o _4cvr1h6o",i.isFixedWidthImageOption?"_4t3i2pqz":i.isFixedWidthImageOption?"_4t3ifmv9":"_4t3i6w0c",i.userOffline?"_80om13gf":"_80omtlke",i.isDropdownOpen?"_tzy4kb7n":"_tzy4idpf",i.userOffline?"_16l4idpf":"_16l4kb7n",i.userOffline?"_1mygidpf":"_1mygkb7n",i.className])})}),N=(0,i.isReactCompilerActiveV1)()?t=>{let r,i,s,l,d,c,u,p,m,g,f,h,v=(0,o.c)(50),{userOffline:I,closeModal:C,openMediaBrowser:y,setIsRepositionActive:_,onRemoveImage:E,onImageWidthChange:b,handleUnsplashUpload:P,setIsUploadingPicture:x,initialUnsplashInfoArray:S,setInitialUnsplashInfoArray:w,coverPictureState:U,contentId:R,dynamicCoverImageHeight:A,isFixedWidthImageOption:O,generateAIHeaderImage:k}=t,{createAnalyticsEvent:M}=(0,a("inPa6").useAnalyticsEvents)(),j=(0,n.useContext)(a("1kHsc").ExperienceTrackerContext),[H,T]=(0,n.useState)(!1),F=(0,n.useRef)(null),L=(0,n.useRef)(null),D=(0,n.useRef)(null),N=(0,a("3jwuS").useIsCurrentPageLive)();v[0]!==U?(r=e=>{F?.current&&e.target instanceof Node&&!F?.current?.contains(e.target)&&!L?.current?.contains(e.target)&&!D?.current?.contains(e.target)&&U.state.isChangingPicture&&(U.setIsChangingPicture(!1),T(!1))},v[0]=U,v[1]=r):r=v[1];let q=r;v[2]!==q?(i=()=>(addEventListener("mousedown",q),()=>{document.removeEventListener("mousedown",q)}),s=[q],v[2]=q,v[3]=i,v[4]=s):(i=v[3],s=v[4]),(0,n.useEffect)(i,s),v[5]!==U||v[6]!==M||v[7]!==S||v[8]!==N||v[9]!==w?(l=e=>{if(e.target instanceof Node&&(L?.current?.contains(e.target)||D?.current?.contains(e.target)))return;0===S.length&&(0,a("gTAwR").getUnsplashPhotos)(a("2Maq7").PAGE_TITLE_DEFAULT_UNSPLASH_QUERY_WORD,1,!0).then(e=>{w(e)});let t=U.state.isChangingPicture;U.setIsChangingPicture(!t),T(V),M({type:"sendUIEvent",data:{action:"clicked",actionSubject:"update",actionSubjectId:"updateHeaderImageButtonClicked",source:"editorPageCoverPicture",attributes:{isLivePage:N}}}).fire()},v[5]=U,v[6]=M,v[7]=S,v[8]=N,v[9]=w,v[10]=l):l=v[10];let z=l;v[11]!==U||v[12]!==M||v[13]!==_?(d=()=>{_(!0),U.setIsChangingPicture(!1),M({type:"sendUIEvent",data:{action:"clicked",actionSubject:"reposition",actionSubjectId:"repositionHeaderImageButtonClicked",source:"editorPageCoverPicture"}}).fire()},v[11]=U,v[12]=M,v[13]=_,v[14]=d):d=v[14];let K=d;v[15]!==M||v[16]!==j||v[17]!==N||v[18]!==E?(c=()=>{j.start({name:a("irVI7").COVER_PICTURE_REMOVE_EXPERIENCE}),E(),M({type:"sendUIEvent",data:{action:"clicked",actionSubject:"remove",actionSubjectId:"removeHeaderImageButtonClicked",source:"editorPageCoverPicture",attributes:{isLivePage:N}}}).fire()},v[15]=M,v[16]=j,v[17]=N,v[18]=E,v[19]=c):c=v[19];let G=c;v[20]===Symbol.for("react.memo_cache_sentinel")?(u=e=>{e&&T(!1)},v[20]=u):u=v[20];let X=u;v[21]!==U?(p=()=>{U.setIsAddHeaderImageButtonFocused(!0)},v[21]=U,v[22]=p):p=v[22];let $=p;v[23]!==U?(m=()=>{U.setIsAddHeaderImageButtonFocused(!1)},v[23]=U,v[24]=m):m=v[24];let Q=m,Y=I?void 0:z;return v[25]!==C||v[26]!==R||v[27]!==U||v[28]!==k||v[29]!==P||v[30]!==S||v[31]!==H||v[32]!==b||v[33]!==G||v[34]!==K||v[35]!==y||v[36]!==x||v[37]!==I?(g=!I&&e(n).createElement(B,{dropdownRef:L,onDelete:G,onReposition:K,imageSrc:U.state.coverPictureId,isModalOpenState:H,openMediaBrowser:y,initialUnsplashInfoArray:S,closePopup:C,userOffline:I,handleUnsplashUpload:P,setIsUploadingPicture:x,coverPictureState:U,dropdownPopupComponentRef:D,contentId:R,onImageWidthChange:b,onCoverImageWidthDropdownOptionSelected:X,generateAIHeaderImage:k}),v[25]=C,v[26]=R,v[27]=U,v[28]=k,v[29]=P,v[30]=S,v[31]=H,v[32]=b,v[33]=G,v[34]=K,v[35]=y,v[36]=x,v[37]=I,v[38]=g):g=v[38],v[39]!==A||v[40]!==H||v[41]!==O||v[42]!==Y||v[43]!==g||v[44]!==I?(f=e(n).createElement(W,{"data-testid":"hover-overlay-custom-sites",isDropdownOpen:H,onClick:Y,ref:F,userOffline:I,dynamicCoverImageHeight:A,isFixedWidthImageOption:O,className:"cover-picture-wrapper-dangerously-set-inner-html"},g),v[39]=A,v[40]=H,v[41]=O,v[42]=Y,v[43]=g,v[44]=I,v[45]=f):f=v[45],v[46]!==Q||v[47]!==$||v[48]!==f?(h=e(n).createElement("div",{onFocus:$,onBlur:Q},f),v[46]=Q,v[47]=$,v[48]=f,v[49]=h):h=v[49],h}:({userOffline:t,closeModal:r,openMediaBrowser:i,setIsRepositionActive:o,onRemoveImage:s,onImageWidthChange:l,handleUnsplashUpload:d,setIsUploadingPicture:c,initialUnsplashInfoArray:u,setInitialUnsplashInfoArray:p,coverPictureState:m,contentId:g,dynamicCoverImageHeight:f,isFixedWidthImageOption:h,generateAIHeaderImage:v})=>{let{createAnalyticsEvent:I}=(0,a("inPa6").useAnalyticsEvents)(),C=(0,n.useContext)(a("1kHsc").ExperienceTrackerContext),[y,_]=(0,n.useState)(!1),E=(0,n.useRef)(null),b=(0,n.useRef)(null),P=(0,n.useRef)(null),x=(0,a("3jwuS").useIsCurrentPageLive)(),S=(0,n.useCallback)(e=>{E?.current&&e.target instanceof Node&&!E?.current?.contains(e.target)&&!b?.current?.contains(e.target)&&!P?.current?.contains(e.target)&&m.state.isChangingPicture&&(m.setIsChangingPicture(!1),_(!1))},[m]);(0,n.useEffect)(()=>(addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}),[S]);let w=(0,n.useCallback)(e=>{if(e.target instanceof Node&&(b?.current?.contains(e.target)||P?.current?.contains(e.target)))return;0===u.length&&(0,a("gTAwR").getUnsplashPhotos)(a("2Maq7").PAGE_TITLE_DEFAULT_UNSPLASH_QUERY_WORD,1,!0).then(e=>{p(e)});let t=m.state.isChangingPicture;m.setIsChangingPicture(!t),_(e=>!e),I({type:"sendUIEvent",data:{action:"clicked",actionSubject:"update",actionSubjectId:"updateHeaderImageButtonClicked",source:"editorPageCoverPicture",attributes:{isLivePage:x}}}).fire()},[u,p,I,x,m]),U=(0,n.useCallback)(()=>{m.setIsAddHeaderImageButtonFocused(!0)},[m]),R=(0,n.useCallback)(()=>{m.setIsAddHeaderImageButtonFocused(!1)},[m]);return e(n).createElement("div",{onFocus:U,onBlur:R},e(n).createElement(W,{"data-testid":"hover-overlay-custom-sites",isDropdownOpen:y,onClick:t?void 0:w,ref:E,userOffline:t,dynamicCoverImageHeight:f,isFixedWidthImageOption:h,className:"cover-picture-wrapper-dangerously-set-inner-html"},!t&&e(n).createElement(B,{dropdownRef:b,onDelete:()=>{C.start({name:a("irVI7").COVER_PICTURE_REMOVE_EXPERIENCE}),s(),I({type:"sendUIEvent",data:{action:"clicked",actionSubject:"remove",actionSubjectId:"removeHeaderImageButtonClicked",source:"editorPageCoverPicture",attributes:{isLivePage:x}}}).fire()},onReposition:()=>{o(!0),m.setIsChangingPicture(!1),I({type:"sendUIEvent",data:{action:"clicked",actionSubject:"reposition",actionSubjectId:"repositionHeaderImageButtonClicked",source:"editorPageCoverPicture"}}).fire()},imageSrc:m.state.coverPictureId,isModalOpenState:y,openMediaBrowser:i,initialUnsplashInfoArray:u,closePopup:r,userOffline:t,handleUnsplashUpload:d,setIsUploadingPicture:c,coverPictureState:m,dropdownPopupComponentRef:P,contentId:g,onImageWidthChange:l,onCoverImageWidthDropdownOptionSelected:e=>{e&&_(!1)},generateAIHeaderImage:v})))};function V(e){return!e}let q=(0,a("ecnYn").xcss)({backgroundColor:"var(--ds-surface, #FFFFFF)",right:"20px",bottom:"20px",borderRadius:"radius.medium",paddingBlock:"space.050",paddingInline:"space.100",position:"absolute",display:"flex",justifyContent:"center",zIndex:"1"}),z=(0,a("ecnYn").xcss)({background:"var(--ds-border, #0B120E24)",width:"1px",height:"20px",display:"inline-block",marginInline:"space.100",userSelect:"none"}),K=e(n).createElement(a("6f0Oj").default,{xcss:z}),G=(0,a("cgtv4").defineMessages)({acceptLabel:{id:"page-cover-picture.ai-unsplash-toolbar.accept",defaultMessage:"Accept image"},regenerateLabel:{id:"page-cover-picture.ai-unsplash-toolbar.regenerate",defaultMessage:"Regenerate image"},removeLabel:{id:"page-cover-picture.ai-unsplash-toolbar.remove",defaultMessage:"Remove image"}}),X=(0,i.isReactCompilerActiveV1)()?t=>{let r,i,s,l,d,c,u,p=(0,o.c)(20),{onAccept:m,onRegenerate:g,onRemoveImage:f,isRegeneratingImage:h}=t,{formatMessage:v}=(0,a("8C5kA").default)();p[0]!==v?(r=v(G.acceptLabel),p[0]=v,p[1]=r):r=p[1],p[2]!==m||p[3]!==r?(i=e(n).createElement(a("1qfLF").default,{onClick:m,icon:e(a("imt6g")),appearance:"subtle",spacing:"compact",testId:"AIUnsplashHeaderToolbar-accept",label:r}),p[2]=m,p[3]=r,p[4]=i):i=p[4];let I=h?void 0:g;return p[5]!==v?(s=v(G.regenerateLabel),p[5]=v,p[6]=s):s=p[6],p[7]!==h||p[8]!==I||p[9]!==s?(l=e(n).createElement(a("1qfLF").default,{onClick:I,isLoading:h,icon:e(a("d8ohW")),appearance:"subtle",spacing:"compact",testId:"AIUnsplashHeaderToolbar-regenerate",label:s}),p[7]=h,p[8]=I,p[9]=s,p[10]=l):l=p[10],p[11]!==v?(d=v(G.removeLabel),p[11]=v,p[12]=d):d=p[12],p[13]!==f||p[14]!==d?(c=e(n).createElement(a("1qfLF").default,{onClick:f,icon:e(a("gKvd9")),appearance:"subtle",spacing:"compact",testId:"AIUnsplashHeaderToolbar-remove",label:d}),p[13]=f,p[14]=d,p[15]=c):c=p[15],p[16]!==i||p[17]!==l||p[18]!==c?(u=e(n).createElement(a("6f0Oj").default,{xcss:q,testId:"AIUnsplashHeaderToolbar"},i,K,l,K,c),p[16]=i,p[17]=l,p[18]=c,p[19]=u):u=p[19],u}:({onAccept:t,onRegenerate:r,onRemoveImage:i,isRegeneratingImage:o})=>{let{formatMessage:s}=(0,a("8C5kA").default)();return e(n).createElement(a("6f0Oj").default,{xcss:q,testId:"AIUnsplashHeaderToolbar"},e(n).createElement(a("1qfLF").default,{onClick:t,icon:e(a("imt6g")),appearance:"subtle",spacing:"compact",testId:"AIUnsplashHeaderToolbar-accept",label:s(G.acceptLabel)}),K,e(n).createElement(a("1qfLF").default,{onClick:o?void 0:r,isLoading:o,icon:e(a("d8ohW")),appearance:"subtle",spacing:"compact",testId:"AIUnsplashHeaderToolbar-regenerate",label:s(G.regenerateLabel)}),K,e(n).createElement(a("1qfLF").default,{onClick:i,icon:e(a("gKvd9")),appearance:"subtle",spacing:"compact",testId:"AIUnsplashHeaderToolbar-remove",label:s(G.removeLabel)}))},$=(0,n.forwardRef)((0,i.isReactCompilerActiveV1)()?(t,r)=>{let i,s=(0,o.c)(8);if(s[0]!==r||s[1]!==t){let o,l,{as:d,style:c,...u}=t,{dynamicCoverImageHeight:p,...m}=u,g=`${u.dynamicCoverImageHeight}px`;s[3]!==g?(o=(0,a("7sObp").default)(g),s[3]=g,s[4]=o):o=s[4],s[5]!==c||s[6]!==o?(l={...c,"--_1isxe5u":o},s[5]=c,s[6]=o,s[7]=l):l=s[7],i=e(n).createElement(void 0===d?"div":d,{...m,style:l,ref:r,className:(0,a("gMc0m").default)(["_11q7ysee _2rkofajl _1bsb1osq _4t3i1v90 _kqswh2mm _1e0c1txw _1bah1h6o _4cvr1h6o",u.className])}),s[0]=r,s[1]=t,s[2]=i}else i=s[2];return i}:({as:t="div",style:r,...i},o)=>{let{dynamicCoverImageHeight:s,...l}=i;return e(n).createElement(t,{...l,style:{...r,"--_1isxe5u":(0,a("7sObp").default)(`${i.dynamicCoverImageHeight}px`)},ref:o,className:(0,a("gMc0m").default)(["_11q7ysee _2rkofajl _1bsb1osq _4t3i1v90 _kqswh2mm _1e0c1txw _1bah1h6o _4cvr1h6o",i.className])})}),Q=(0,n.memo)((0,i.isReactCompilerActiveV1)()?t=>{let r,i,s,l=(0,o.c)(50),{hasCoverPicture:d,openMediaBrowser:c,onRemoveImage:u,userOffline:p,setIsUploadingPicture:m,isUploadingPicture:g,handleUnsplashUpload:f,initialPicturePosition:h,onSaveReposition:v,shouldShowReposition:I,setShouldShowReposition:C,coverPictureState:y,floatingToolbarButtonStyle:_,forceUpdate:E,contentId:b,dynamicCoverImageHeight:P,onImageWidthChange:x,spaceKey:S,onRegenerate:w,isRegeneratingImage:U,onAcceptAIUnsplashImage:R,shouldShowAIUnsplashHeaderToolbar:O,isFixedWidthImageOption:k,generateAIHeaderImage:M}=t,[j,H]=(0,n.useState)(!1),[T,L]=(0,n.useState)(!1);l[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],l[0]=r):r=l[0];let[D,B]=(0,n.useState)(r);l[1]!==y?(i=()=>{H(!0),y.setIsModalOpen(!0)},l[1]=y,l[2]=i):i=l[2];let W=i;l[3]!==y?(s=()=>{H(!1),y.setIsModalOpen(!1)},l[3]=y,l[4]=s):s=l[4];let V=s;if(g&&y.state.isUploadingPicture){let t,r;return l[5]===Symbol.for("react.memo_cache_sentinel")?(t=e(n).createElement(a("9hlns").default,{size:"medium"}),l[5]=t):t=l[5],l[6]!==P||l[7]!==d?(r=e(n).createElement($,{"data-testid":"uploading-picture-wrapper",hasCoverPicture:d,dynamicCoverImageHeight:P},t),l[6]=P,l[7]=d,l[8]=r):r=l[8],r}if((O||y.state.shouldShowAIUnsplashHeaderToolbar&&!I)&&d){let t;return l[9]!==U||l[10]!==R||l[11]!==w||l[12]!==u?(t=e(n).createElement(X,{onAccept:R,onRegenerate:w,onRemoveImage:u,isRegeneratingImage:U}),l[9]=U,l[10]=R,l[11]=w,l[12]=u,l[13]=t):t=l[13],t}if((T||I||y.state.shouldShowReposition)&&d){let t;return l[14]!==y||l[15]!==P||l[16]!==E||l[17]!==h||l[18]!==v||l[19]!==C||l[20]!==p?(t=e(n).createElement(F,{initialPicturePosition:h,onSaveReposition:v,setIsRepositionActive:L,setShouldShowReposition:C,coverPictureState:y,forceUpdate:E,userOffline:p,dynamicCoverImageHeight:P}),l[14]=y,l[15]=P,l[16]=E,l[17]=h,l[18]=v,l[19]=C,l[20]=p,l[21]=t):t=l[21],t}if(d){let t;return l[22]!==V||l[23]!==b||l[24]!==y||l[25]!==P||l[26]!==M||l[27]!==f||l[28]!==D||l[29]!==k||l[30]!==x||l[31]!==u||l[32]!==c||l[33]!==m||l[34]!==S||l[35]!==p?(t=e(n).createElement(N,{userOffline:p,closeModal:V,openMediaBrowser:c,setIsRepositionActive:L,onRemoveImage:u,handleUnsplashUpload:f,setIsUploadingPicture:m,initialUnsplashInfoArray:D,setInitialUnsplashInfoArray:B,coverPictureState:y,contentId:b,onImageWidthChange:x,spaceKey:S,dynamicCoverImageHeight:P,isFixedWidthImageOption:k,generateAIHeaderImage:M}),l[22]=V,l[23]=b,l[24]=y,l[25]=P,l[26]=M,l[27]=f,l[28]=D,l[29]=k,l[30]=x,l[31]=u,l[32]=c,l[33]=m,l[34]=S,l[35]=p,l[36]=t):t=l[36],t}{let t;return l[37]!==V||l[38]!==b||l[39]!==y||l[40]!==_||l[41]!==M||l[42]!==f||l[43]!==D||l[44]!==j||l[45]!==c||l[46]!==W||l[47]!==m||l[48]!==p?(t=e(n).createElement(A,{userOffline:p,openModal:W,closeModal:V,openMediaBrowser:c,isModalOpenState:j,handleUnsplashUpload:f,setIsUploadingPicture:m,initialUnsplashInfoArray:D,setInitialUnsplashInfoArray:B,coverPictureState:y,floatingToolbarButtonStyle:_,contentId:b,generateAIHeaderImage:M}),l[37]=V,l[38]=b,l[39]=y,l[40]=_,l[41]=M,l[42]=f,l[43]=D,l[44]=j,l[45]=c,l[46]=W,l[47]=m,l[48]=p,l[49]=t):t=l[49],t}}:({hasCoverPicture:t,openMediaBrowser:r,onRemoveImage:i,userOffline:o,setIsUploadingPicture:s,isUploadingPicture:l,handleUnsplashUpload:d,initialPicturePosition:c,onSaveReposition:u,shouldShowReposition:p,setShouldShowReposition:m,coverPictureState:g,floatingToolbarButtonStyle:f,forceUpdate:h,contentId:v,dynamicCoverImageHeight:I,onImageWidthChange:C,spaceKey:y,onRegenerate:_,isRegeneratingImage:E,onAcceptAIUnsplashImage:b,shouldShowAIUnsplashHeaderToolbar:P,isFixedWidthImageOption:x,generateAIHeaderImage:S})=>{let[w,U]=(0,n.useState)(!1),[R,O]=(0,n.useState)(!1),[k,M]=(0,n.useState)([]),j=()=>{U(!1),g.setIsModalOpen(!1)};return l&&g.state.isUploadingPicture?e(n).createElement($,{"data-testid":"uploading-picture-wrapper",hasCoverPicture:t,dynamicCoverImageHeight:I},e(n).createElement(a("9hlns").default,{size:"medium"})):(P||g.state.shouldShowAIUnsplashHeaderToolbar&&!p)&&t?e(n).createElement(X,{onAccept:b,onRegenerate:_,onRemoveImage:i,isRegeneratingImage:E}):(R||p||g.state.shouldShowReposition)&&t?e(n).createElement(F,{initialPicturePosition:c,onSaveReposition:u,setIsRepositionActive:O,setShouldShowReposition:m,coverPictureState:g,forceUpdate:h,userOffline:o,dynamicCoverImageHeight:I}):t?e(n).createElement(N,{userOffline:o,closeModal:j,openMediaBrowser:r,setIsRepositionActive:O,onRemoveImage:i,handleUnsplashUpload:d,setIsUploadingPicture:s,initialUnsplashInfoArray:k,setInitialUnsplashInfoArray:M,coverPictureState:g,contentId:v,onImageWidthChange:C,spaceKey:y,dynamicCoverImageHeight:I,isFixedWidthImageOption:x,generateAIHeaderImage:S}):e(n).createElement(A,{userOffline:o,openModal:()=>{U(!0),g.setIsModalOpen(!0)},closeModal:j,openMediaBrowser:r,isModalOpenState:w,handleUnsplashUpload:d,setIsUploadingPicture:s,initialUnsplashInfoArray:k,setInitialUnsplashInfoArray:M,coverPictureState:g,floatingToolbarButtonStyle:f,contentId:v,generateAIHeaderImage:S})}),Y=(0,n.forwardRef)((0,i.isReactCompilerActiveV1)()?(t,r)=>{let i,s=(0,o.c)(8);if(s[0]!==r||s[1]!==t){let o,l,{as:d,style:c,...u}=t,{dynamicCoverImageHeight:p,hasUnsplashImageLoaded:m,...g}=u,f=`${u.dynamicCoverImageHeight}px`;s[3]!==f?(o=(0,a("7sObp").default)(f),s[3]=f,s[4]=o):o=s[4],s[5]!==c||s[6]!==o?(l={...c,"--_1isxe5u":o},s[5]=c,s[6]=o,s[7]=l):l=s[7],i=e(n).createElement(void 0===d?"div":d,{...g,style:l,ref:r,className:(0,a("gMc0m").default)(["_11q7ysee _2rkon7od _kqswh2mm _4t3i1v90 _1bsb1osq",u.hasUnsplashImageLoaded?"_tzy4idpf":"_tzy4kb7n",u.className])}),s[0]=r,s[1]=t,s[2]=i}else i=s[2];return i}:({as:t="div",style:r,...i},o)=>{let{dynamicCoverImageHeight:s,hasUnsplashImageLoaded:l,...d}=i;return e(n).createElement(t,{...d,style:{...r,"--_1isxe5u":(0,a("7sObp").default)(`${i.dynamicCoverImageHeight}px`)},ref:o,className:(0,a("gMc0m").default)(["_11q7ysee _2rkon7od _kqswh2mm _4t3i1v90 _1bsb1osq",i.hasUnsplashImageLoaded?"_tzy4idpf":"_tzy4kb7n",i.className])})}),Z=(0,n.forwardRef)((0,i.isReactCompilerActiveV1)()?(t,r)=>{let i,s=(0,o.c)(8);if(s[0]!==r||s[1]!==t){let o,l,d,{as:c,style:u,...p}=t,{isFixedWidthImageOption:m,dynamicCoverImageHeight:g,...f}=p;e:{if((0,a("6mKj3").expValEquals)("confluence_ttvc_fix_dynamic_cover_image_unsplash","isEnabled",!0)){if(p.isFixedWidthImageOption){o=`${a("75Ax4").COVER_IMAGE_FIXED_HEIGHT}px`;break e}o=`${a("75Ax4").CALCULATE_SCALED_COVER_IMAGE_HEIGHT_FOR_EDIT_PAGE}px`;break e}o=`${p.dynamicCoverImageHeight}px`}s[3]!==o?(l=(0,a("7sObp").default)(o),s[3]=o,s[4]=l):l=s[4],s[5]!==u||s[6]!==l?(d={...u,"--_12kajtv":l},s[5]=u,s[6]=l,s[7]=d):d=s[7],i=e(n).createElement(void 0===c?"div":c,{...f,style:d,ref:r,className:(0,a("gMc0m").default)(["_2rkon7od _1e0c1txw _1bsb1osq _kqswstnw _1tke1xef",p.className])}),s[0]=r,s[1]=t,s[2]=i}else i=s[2];return i}:({as:t="div",style:r,...i},o)=>{let{isFixedWidthImageOption:s,dynamicCoverImageHeight:l,...d}=i;return e(n).createElement(t,{...d,style:{...r,"--_12kajtv":(0,a("7sObp").default)((0,a("6mKj3").expValEquals)("confluence_ttvc_fix_dynamic_cover_image_unsplash","isEnabled",!0)?i.isFixedWidthImageOption?`${a("75Ax4").COVER_IMAGE_FIXED_HEIGHT}px`:`${a("75Ax4").CALCULATE_SCALED_COVER_IMAGE_HEIGHT_FOR_EDIT_PAGE}px`:`${i.dynamicCoverImageHeight}px`)},ref:o,className:(0,a("gMc0m").default)(["_2rkon7od _1e0c1txw _1bsb1osq _kqswstnw _1tke1xef",i.className])})}),J=(0,i.isReactCompilerActiveV1)()?t=>{let r,i,s,l,c=(0,o.c)(14),{coverPicture:u,dynamicCoverImageHeight:p,isFixedWidthImageOption:m,coverPictureDataPosition:g,coverPictureDataId:f}=t,[h,v]=(0,n.useState)(!1);c[0]!==p||c[1]!==h?(r=!(0,a("6mKj3").expValEquals)("confluence_ttvc_fix_dynamic_cover_image_unsplash","isEnabled",!0)&&e(n).createElement(Y,{hasUnsplashImageLoaded:h,dynamicCoverImageHeight:p,"data-testid":"unsplash-loading-div"}),c[0]=p,c[1]=h,c[2]=r):r=c[2];let I=u.current.draft?.value.id??f,C=u.current.draft?.value.position??g;return c[3]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{v(!0)},c[3]=i):i=c[3],c[4]!==m||c[5]!==I||c[6]!==C?(s=e(n).createElement(d.ImageWrapper,{"data-testid":"unsplash-cover-picture",id:"actual-cover-picture","data-vc":"unsplash-cover-picture-editor",alt:"",src:I,coverPicturePosition:C,onLoad:i,isFixedWidthImageOption:m,className:"cover-picture-wrapper-dangerously-set-inner-html"}),c[4]=m,c[5]=I,c[6]=C,c[7]=s):s=c[7],c[8]!==p||c[9]!==h||c[10]!==m||c[11]!==r||c[12]!==s?(l=e(n).createElement(Z,{hasUnsplashImageLoaded:h,dynamicCoverImageHeight:p,isFixedWidthImageOption:m,"data-testid":"unsplash-wrapper"},r,s),c[8]=p,c[9]=h,c[10]=m,c[11]=r,c[12]=s,c[13]=l):l=c[13],l}:({coverPicture:t,dynamicCoverImageHeight:r,isFixedWidthImageOption:i,coverPictureDataPosition:o,coverPictureDataId:s})=>{let[l,c]=(0,n.useState)(!1);return e(n).createElement(Z,{hasUnsplashImageLoaded:l,dynamicCoverImageHeight:r,isFixedWidthImageOption:i,"data-testid":"unsplash-wrapper"},!(0,a("6mKj3").expValEquals)("confluence_ttvc_fix_dynamic_cover_image_unsplash","isEnabled",!0)&&e(n).createElement(Y,{hasUnsplashImageLoaded:l,dynamicCoverImageHeight:r,"data-testid":"unsplash-loading-div"}),e(n).createElement(d.ImageWrapper,{"data-testid":"unsplash-cover-picture",id:"actual-cover-picture","data-vc":"unsplash-cover-picture-editor",alt:"",src:t.current.draft?.value.id??s,coverPicturePosition:t.current.draft?.value.position??o,onLoad:()=>{c(!0)},isFixedWidthImageOption:i,className:"cover-picture-wrapper-dangerously-set-inner-html"}))},ee=(0,a("cgtv4").defineMessages)({errorFlagTitle:{id:"page-cover-picture.error.flag.title",defaultMessage:"We cant upload your header image"},errorFlagDescription:{id:"page-cover-picture.error.flag.description",defaultMessage:"Refresh and try again."},suggestHeaderNextTime:{id:"page-cover-picture.ai-suggested-image-header.flag.suggest-next-time",defaultMessage:"Try a suggested header next time?"},suggestHeaderKeepSuggestions:{id:"page-cover-picture.ai-suggested-image-header.flag.suggest-next-time.accept",defaultMessage:"Yes, keep suggestions"},suggestHeaderTurnOffSuggestions:{id:"page-cover-picture.ai-suggested-image-header.flag.suggest-next-time.decline",defaultMessage:"No, turn off"}}),et=(0,n.forwardRef)((0,i.isReactCompilerActiveV1)()?(t,r)=>{let i,s=(0,o.c)(3);if(s[0]!==r||s[1]!==t){let{as:o,style:l,...d}=t,{hasCoverPicture:c,isUploadingPicture:u,isFixedWidthImageOption:p,dynamicCoverImageHeight:m,isReadOnly:g,...f}=d;i=e(n).createElement(void 0===o?"div":o,{...f,style:{...l,"--_pjvxvw":(0,a("7sObp").default)(d.dynamicCoverImageHeight,"px"),"--_1vcp0mh":(0,a("7sObp").default)(d.width,"px")},ref:r,className:(0,a("gMc0m").default)(["_2rkon7od _kqswh2mm _otyru2gc",(d.hasCoverPicture||d.isUploadingPicture)&&d.isFixedWidthImageOption?"_4t3i2pqz":(d.hasCoverPicture||d.isUploadingPicture)&&!d.isFixedWidthImageOption?"_4t3i6w0c":d.hasCoverPicture||d.isUploadingPicture?"_4t3ifmv9":"_4t3iidpf",(d.hasCoverPicture||d.isUploadingPicture)&&d.isFixedWidthImageOption?"_1bsb1c3h":(d.hasCoverPicture||d.isUploadingPicture)&&!d.isFixedWidthImageOption?"_1bsb1osq":(d.hasCoverPicture||d.isUploadingPicture)&&d.width?"_1bsb1efm":"_1bsb1osq",d.isReadOnly?"_80om1wug":"_80omtlke",d.hasCoverPicture||d.isUploadingPicture?"_19pk12x7":"_19pkze3t",d.className])}),s[0]=r,s[1]=t,s[2]=i}else i=s[2];return i}:({as:t="div",style:r,...i},o)=>{let{hasCoverPicture:s,isUploadingPicture:l,isFixedWidthImageOption:d,dynamicCoverImageHeight:c,isReadOnly:u,...p}=i;return e(n).createElement(t,{...p,style:{...r,"--_pjvxvw":(0,a("7sObp").default)(i.dynamicCoverImageHeight,"px"),"--_1vcp0mh":(0,a("7sObp").default)(i.width,"px")},ref:o,className:(0,a("gMc0m").default)(["_2rkon7od _kqswh2mm _otyru2gc",(i.hasCoverPicture||i.isUploadingPicture)&&i.isFixedWidthImageOption?"_4t3i2pqz":(i.hasCoverPicture||i.isUploadingPicture)&&!i.isFixedWidthImageOption?"_4t3i6w0c":i.hasCoverPicture||i.isUploadingPicture?"_4t3ifmv9":"_4t3iidpf",(i.hasCoverPicture||i.isUploadingPicture)&&i.isFixedWidthImageOption?"_1bsb1c3h":(i.hasCoverPicture||i.isUploadingPicture)&&!i.isFixedWidthImageOption?"_1bsb1osq":(i.hasCoverPicture||i.isUploadingPicture)&&i.width?"_1bsb1efm":"_1bsb1osq",i.isReadOnly?"_80om1wug":"_80omtlke",i.hasCoverPicture||i.isUploadingPicture?"_19pk12x7":"_19pkze3t",i.className])})}),ea=(0,n.forwardRef)((0,i.isReactCompilerActiveV1)()?(t,r)=>{let i,s=(0,o.c)(8);if(s[0]!==r||s[1]!==t){let o,l,{as:d,style:c,...u}=t,{isFixedWidthImageOption:p,coverPicturePosition:m,...g}=u,f=`center ${u.coverPicturePosition}%`;s[3]!==f?(o=(0,a("7sObp").default)(f),s[3]=f,s[4]=o):o=s[4],s[5]!==c||s[6]!==o?(l={...c,"--_7bw3ey":o},s[5]=c,s[6]=o,s[7]=l):l=s[7],i=e(n).createElement(void 0===d?"img":d,{...g,style:l,ref:r,className:(0,a("gMc0m").default)(["_2rkon7od _1bsb1osq _5ral1dfr _kqswstnw _rsuf19is _1h1t1u5u _16l4kb7n",u.isFixedWidthImageOption?"_4t3i2pqz":"_4t3i6w0c",u.className])}),s[0]=r,s[1]=t,s[2]=i}else i=s[2];return i}:({as:t="img",style:r,...i},o)=>{let{isFixedWidthImageOption:s,coverPicturePosition:l,...d}=i;return e(n).createElement(t,{...d,style:{...r,"--_7bw3ey":(0,a("7sObp").default)(`center ${i.coverPicturePosition}%`)},ref:o,className:(0,a("gMc0m").default)(["_2rkon7od _1bsb1osq _5ral1dfr _kqswstnw _rsuf19is _1h1t1u5u _16l4kb7n",i.isFixedWidthImageOption?"_4t3i2pqz":"_4t3i6w0c",i.className])})}),er=(0,n.memo)(({contentId:t,isPublishingContent:r,contentType:i,userOffline:o,hasCoverPicture:s,coverPictureState:d,isUnpublishedDraft:c,flags:p,floatingToolbarButtonStyle:m,width:g,dynamicCoverImageHeight:f,isReadOnly:h,spaceKey:v,aiSuggestedUnsplashImages:I,isFixedWidthImageOption:C,aiHeaderImageStatus:y,aiHeaderImageFileId:_,generateAIHeaderImage:E,setAIHeaderImageStatus:b})=>{let[P,x]=(0,n.useState)(!1),{isExternalShareRequest:S}=(0,n.useContext)(a("gXrHX").ExternalShareContext),[w,U]=(0,n.useState)(!1),[R,A]=(0,n.useState)(!1),[O,k]=(0,n.useState)(0),[M,j]=(0,n.useState)(null),H=(0,n.useRef)({draft:null}),[,T]=(0,n.useState)(),{createAnalyticsEvent:F}=(0,a("inPa6").useAnalyticsEvents)(),L=(0,a("3jwuS").useIsCurrentPageLive)(),[D,B]=(0,n.useState)(!1),[W,N]=(0,n.useState)(!1),V=(0,a("iP9x4").useMediaSSRModeAndAuthConfig)({contentId:t,isExternalShare:S}),q=((0,a("e4o8D").useRenderServerPlaceholder)(!0)||window.__SSR_RENDERED__)&&V,z=(0,n.useContext)(a("1kHsc").ExperienceTrackerContext),{formatMessage:K}=(0,a("8C5kA").default)(),G=(0,a("8C5kA").default)(),[X,$]=(0,n.useState)(0),{updateContentProperty:Y}=(0,a("5kqgA").useUpdateContentProperty)({contentId:t,contentType:i||"page",options:{refetchQueries:()=>[{query:a("gr7Mm").CoverPictureQuery,variables:{contentId:t,status:["draft"],draftShareId:(0,a("7PLO8").getDraftShareIdFromQueryParam)()}}]}}),{data:Z,refetch:ea}=(0,a("xQxzY").useQuery)(a("gr7Mm").CoverPictureQuery,{context:{single:!0},variables:{contentId:t,status:["current","draft"],draftShareId:(0,a("7PLO8").getDraftShareIdFromQueryParam)()}}),er=(0,a("3WPGR").getRendererCoverPictureInfo)(Z,L),ei=er?.coverPicture?.published?.value?.position,eo=er?.coverPicture?.published?.value?.id,en=H.current?.draft?.value?.id,es=(0,a("9wGTI").fg)("cc_create_page_header_image_api_update")?(0,a("3WPGR").isAllowedExternalCoverPictureUrl)(en):en?.includes("images.unsplash.com"),el="LOADING"===y||"LOADING_WITH_ACCEPTANCE_FLOW"===y,[ed]=(0,a("1KmJq").useMutation)(l,{refetchQueries:()=>[{query:a("gr7Mm").CoverPictureQuery,variables:{contentId:t,status:["draft"],draftShareId:(0,a("7PLO8").getDraftShareIdFromQueryParam)()}}]}),[ec]=(0,a("1KmJq").useMutation)((0,a("eSUdr").default)`mutation EditorPageCoverPictureUpdateCoverPictureWidthMutation($contentId:ID!$coverPictureWidth:GraphQLCoverPictureWidth!){updateCoverPictureWidth(input:{contentId:$contentId coverPictureWidth:$coverPictureWidth}){content{id}}}`,{onError:e=>{(0,a("1uFM6").isUnauthorizedError)(e)&&(0,a("7Sm4c").markErrorAsHandled)(e),(0,a("5ZqQS").getMonitoringClient)().submitError(e,{attribution:a("3IBnw").Attribution.COMPANY_HUB})},ignoreResults:!0}),eu=(0,n.useCallback)(async(e,t)=>{try{await ea();let{coverPictureUpdated:e}=t||{},a=JSON.parse(e?.value),r=e?.version;H.current.draft={value:a,version:r},d.setHasCoverPicture(!0),U(!1),d.setIsUploadingPicture(!1),d.setCoverPictureId(a.id),A(!1),T(Math.random())}catch(e){(0,a("5ZqQS").getMonitoringClient)().submitError(e,{attribution:a("3IBnw").Attribution.PAGE_EXPERIENCES}),(0,a("7Sm4c").markErrorAsHandled)(e)}},[ea,d]),ep=(0,n.useCallback)((e,t)=>{let{coverPictureWidthUpdated:a}=t||{},r=a?.coverPictureWidth;d.toggleCoverPictureWidthButton(r),T(Math.random())},[d]),em=(0,n.useCallback)(async()=>{try{await ea(),H.current.draft=null,d.setHasCoverPicture(!1),d.setCoverPictureId(null),T(Math.random())}catch(e){(0,a("5ZqQS").getMonitoringClient)().submitError(e,{attribution:a("3IBnw").Attribution.PAGE_EXPERIENCES}),(0,a("7Sm4c").markErrorAsHandled)(e)}},[ea,d]),eg=i||"page";(0,a("i9VoI").useSubscriptionEvent)({subscriberId:"EditingCoverPictureSubscription",contentId:t,delta:"coverPictureUpdated",contentType:eg,onDataReceived:eu}),(0,a("i9VoI").useSubscriptionEvent)({subscriberId:"EditorCoverPictureDeletedSubscription",contentId:t,delta:"coverPictureDeleted",contentType:eg,onDataReceived:em}),(0,a("i9VoI").useSubscriptionEvent)({subscriberId:"EditorCoverPictureWidthUpdatedSubscription",contentId:t,delta:"coverPictureWidthUpdated",contentType:eg,onDataReceived:ep}),(0,n.useEffect)(()=>{let e=(Z?.content?.nodes?.[0]?.properties?.nodes||[]).find(e=>e?.key===a("bKd7w").CoverPictureIdPropertyKey.DRAFT);H.current={draft:(0,a("3WPGR").propertyToId)(e)},T(Math.random())},[Z]),(0,n.useEffect)(()=>{let e=e=>(p&&e&&p.showErrorFlag((0,a("2vVvv").getAttachmentSizeLimitErrorFlag)(e,G)).then(()=>{U(!1),d.setIsUploadingPicture(!1),z.abort({name:a("irVI7").COVER_PICTURE_MEDIA_UPLOAD_EXPERIENCE,reason:"Cover picture media upload too large"}),F({type:"sendScreenEvent",data:{name:"pageCoverPictureAttachmentTooLargeFlag"}}).fire()}),!!e);(async()=>{if(h){let{viewMediaClientConfig:e}=await (0,a("4IoVL").createRendererMediaProvider)({contentId:t,isExternalShare:!1});if(e)j({collection:`contentId-${t}`,authProvider:e.authProvider})}else{let{uploadParams:r,uploadMediaClientConfig:i}=await (0,a("4IoVL").createEditorMediaProvider)({contentId:t,contentType:"page",isExternalShare:S,onUploadRejection:p?e:void 0});if(void 0==i)return;j({collection:r?.collection,authProvider:i.authProvider,onUploadRejection:r?.onUploadRejection,useSha256ForUploads:i?.useSha256ForUploads})}})()},[t,S,p,G,d,F,z,h]),(0,n.useEffect)(()=>{r&&H.current?.draft?.value.id&&(c?d.state.isAIUnsplashImage?F({type:"sendTrackEvent",data:{action:"published",actionSubject:"aiUnsplashImage",actionSubjectId:"aiSuggestedUnsplashImage",source:"editorPageCoverPicture",objectId:t}}).fire():F({type:"sendTrackEvent",data:{action:"createdWithHeaderImage",actionSubject:"page",objectId:t,source:"editorPageCoverPicture"}}).fire():F({type:"sendTrackEvent",data:{action:"updatedWithHeaderImage",actionSubject:"page",objectId:t,source:"editorPageCoverPicture"}}).fire())},[t,r,c,F,d.state.isAIUnsplashImage]),(0,n.useEffect)(()=>{r&&s&&d.setShouldShowReposition(!1)},[s,r,d]);let ef=()=>{p.showFlag({type:"error",title:K(ee.errorFlagTitle),description:K(ee.errorFlagDescription),messageType:"transactional",messageId:"page-cover-picture-error-flag"}),U(!1),d.setIsUploadingPicture(!1),z.stopOnError({name:a("irVI7").COVER_PICTURE_MEDIA_UPLOAD_EXPERIENCE,error:Error("Error with cover picture media upload")}),F({type:"sendScreenEvent",data:{name:"pageCoverPictureErrorFlag"}}).fire()},eh=(0,n.useCallback)((e,r=!1)=>{r||(U(!0),d.setIsUploadingPicture(!0));let i=JSON.stringify({id:e,position:a("75Ax4").DEFAULT_POSITION_VALUE}),o=String((H.current?.draft?.version||0)+1);(0,a("6mKj3").isExperimentEnabled)("migrate_off_experimentalupdatecontentproperty")?Y({propertyKey:a("bKd7w").CoverPictureIdPropertyKey.DRAFT,propertyValue:i,isDelete:!1,hasExistingProperty:s}):ed({variables:{contentId:t,propertyValue:i,propertyKey:a("bKd7w").CoverPictureIdPropertyKey.DRAFT,versionNumber:o}}),d.state.isAIUnsplashImage?(B(!1),N(!0),d.setShouldShowAIUnsplashHeaderToolbar(!0)):(B(!0),d.setShouldShowReposition(!0)),z.succeed({name:a("irVI7").COVER_PICTURE_UNSPLASH_UPLOAD_EXPERIENCE}),F({type:"sendUIEvent",data:{action:"added",actionSubject:"image",actionSubjectId:"headerImageAdded",source:"editorPageCoverPicture",attributes:{imageSource:"unsplash",imageId:e,inputMethod:"header",isLivePage:L}}}).fire()},[t,d,F,z,L,ed,Y,s]),ev=(0,n.useCallback)(e=>{let r=JSON.stringify({id:e,position:a("75Ax4").DEFAULT_POSITION_VALUE}),i=String((H.current?.draft?.version||0)+1);(0,a("6mKj3").isExperimentEnabled)("migrate_off_experimentalupdatecontentproperty")?Y({propertyKey:a("bKd7w").CoverPictureIdPropertyKey.DRAFT,propertyValue:r,isDelete:!1,hasExistingProperty:s}):ed({variables:{contentId:t,propertyValue:r,propertyKey:a("bKd7w").CoverPictureIdPropertyKey.DRAFT,versionNumber:i}}),b?.("SUCCESSFULLY_SET")},[t,H,ed,b,Y,s]),eI=(0,n.useCallback)(async()=>{await d.setHasCoverPicture(!0)},[d]);(0,n.useEffect)(()=>{if(I?.[0]&&!w&&!d.state.hasCoverPicture)try{eh(I?.[X]?.fullSizeImageUrl)}finally{eI()}},[X,I,w,eh,d.state.hasCoverPicture,d.setHasCoverPicture,eI]),(0,n.useEffect)(()=>{if((0,a("6mKj3").isExperimentEnabled)("confluence_aifc_header_image_generation_experiment")){if(el)d.setIsUploadingPicture(!0);else if(d.setIsUploadingPicture(!1),_&&"SUCCESSFULLY_SET"!==y)try{ev(_)}finally{eI()}}},[el,d,_,ev,eI,y]);let eC=(0,n.useCallback)(async()=>{B(!0),N(!1),d.setShouldShowAIUnsplashHeaderToolbar(!1),d.setShouldShowReposition(!0),F({type:"sendUIEvent",data:{action:"accepted",actionSubject:"aiUnsplashImage",actionSubjectId:"aiSuggestedUnsplashImage",source:"editorPageCoverPicture",attributes:{regenerationCount:O}}}).fire()},[d,O,F]),ey=(0,n.useCallback)(async()=>{if(I&&I.length>0){A(!0),k(O+1);let e=(X+1)%I.length;$(e),eh(I?.[e]?.fullSizeImageUrl,!0)}},[X,I,eh,A,k,O]),e_=(0,n.useCallback)(e=>{F({type:"sendUIEvent",data:{action:"optIn",actionSubject:"aiUnsplashImage",actionSubjectId:"aiSuggestedUnsplashImage",source:"editorPageCoverPicture",attributes:{optIn:e}}}).fire()},[F]),eE=(0,n.useCallback)(()=>{null===a("17wUi").confluenceLocalStorageInstance.getItem(a("1UApO").keys.AI_UNSPLASH_HEADER_ACCEPTED)&&(p.showFlag({title:K(ee.suggestHeaderNextTime),type:"info",id:"ai-suggested-image-header-removed",actions:[{content:K(ee.suggestHeaderKeepSuggestions),onClick:()=>{a("17wUi").confluenceLocalStorageInstance.setItem(a("1UApO").keys.AI_UNSPLASH_HEADER_ACCEPTED,"true"),e_(!0),p.hideFlag("ai-suggested-image-header-removed")}},{content:K(ee.suggestHeaderTurnOffSuggestions),onClick:()=>{a("17wUi").confluenceLocalStorageInstance.setItem(a("1UApO").keys.AI_UNSPLASH_HEADER_ACCEPTED,"false"),e_(!1),p.hideFlag("ai-suggested-image-header-removed")}}]}),setTimeout(()=>{p.hideFlag("ai-suggested-image-header-removed")},8e3))},[p,K,e_]),eb=(0,n.useCallback)(async()=>{d.setIsRemovingPicture(!0),(0,a("6mKj3").isExperimentEnabled)("migrate_off_experimentalupdatecontentproperty")?Y({propertyKey:a("bKd7w").CoverPictureIdPropertyKey.DRAFT,isDelete:!0,hasExistingProperty:s}):ed({variables:{contentId:t,propertyKey:a("bKd7w").CoverPictureIdPropertyKey.DRAFT,isDelete:!0}}),d.setIsChangingPicture(!1),d.state.isAIUnsplashImage&&(d.setIsAIUnsplashImage(!1),d.setAISuggestedUnsplashImages(void 0),F({type:"sendUIEvent",data:{action:"removed",actionSubject:"aiUnsplashImage",actionSubjectId:"aiSuggestedUnsplashImage",source:"editorPageCoverPicture",attributes:{regenerationCount:O}}}).fire(),eE()),d.setIsRemovingPicture(!1),z.succeed({name:a("irVI7").COVER_PICTURE_REMOVE_EXPERIENCE})},[t,ed,d,z,eE,F,O,Y,s]),eP=(0,n.useCallback)(async e=>{e!==d.state.coverPictureWidth&&(d.toggleCoverPictureWidthButton(e),await ec({variables:{contentId:t,coverPictureWidth:e.toUpperCase()}}))},[t,ec,d]),ex=async e=>{if(e!=H.current?.draft?.value.position){let r=String((H.current?.draft?.version||0)+1),i=JSON.stringify({id:H.current?.draft?.value.id,position:e});H.current.draft.value.position=e,H.current.draft.version=parseInt(r),(0,a("6mKj3").isExperimentEnabled)("migrate_off_experimentalupdatecontentproperty")?Y({propertyKey:a("bKd7w").CoverPictureIdPropertyKey.DRAFT,propertyValue:i,isDelete:!1,hasExistingProperty:s}):ed({variables:{contentId:t,propertyValue:i,propertyKey:a("bKd7w").CoverPictureIdPropertyKey.DRAFT,versionNumber:r}})}},eS=(0,n.useCallback)(e=>{F({type:"sendTrackEvent",data:{action:"viewed",actionSubject:"LiveDocHeaderImage",actionSubjectId:"liveDocHeaderImage",source:"liveDocHeaderImage",attributes:{headerImageType:e?"unsplash":"user-uploaded"}}}).fire()},[F]);return(0,n.useEffect)(()=>{s&&L&&null!=es&&eS(es)},[es,L,s,eS]),e(n).createElement(a("1s5hv").default,null,s&&e(n).createElement("style",{dangerouslySetInnerHTML:{__html:`
									@container editor-area (width < 760px) {
										.cover-picture-wrapper-dangerously-set-inner-html {
											height: 147px
										}
									}
									@container editor-area (width >= 4071px) {
										.cover-picture-wrapper-dangerously-set-inner-html {
											height: 750px
										}
									}
									`}}),e(n).createElement(et,{hasCoverPicture:s,isUploadingPicture:w,"data-testid":"cover-picture-wrapper",userOffline:o,width:g,dynamicCoverImageHeight:f,className:"cover-picture-wrapper-dangerously-set-inner-html",isFixedWidthImageOption:C,isReadOnly:h},s&&(M||q)&&(es?e(n).createElement(J,{coverPicture:H,dynamicCoverImageHeight:f,isFixedWidthImageOption:C,coverPictureDataPosition:ei,coverPictureDataId:eo}):e(n).createElement(u,{coverPicture:H,mediaConfig:M,ssrConfig:V,contentId:t,showErrorFlag:ef,hasSSRConfigInSSRModeOrHydration:q,isFixedWidthImageOption:C,isAIGenerated:!!_})),!h&&e(n).createElement(Q,{hasCoverPicture:s,openMediaBrowser:()=>{x(!0)},onRemoveImage:eb,userOffline:o,isUploadingPicture:w,handleUnsplashUpload:eh,setIsUploadingPicture:U,initialPicturePosition:H.current.draft?.value.position,onSaveReposition:ex,shouldShowReposition:D,setShouldShowReposition:B,coverPictureState:d,floatingToolbarButtonStyle:m,forceUpdate:T,contentId:t,dynamicCoverImageHeight:f,onImageWidthChange:eP,spaceKey:v,isRegeneratingImage:R,onRegenerate:ey,onAcceptAIUnsplashImage:eC,shouldShowAIUnsplashHeaderToolbar:W,isFixedWidthImageOption:C,generateAIHeaderImage:E})),!h&&M&&e(n).createElement(a("10CSJ").BrowserLoader,{mediaClientConfig:{authProvider:M?.authProvider,useSha256ForUploads:M?.useSha256ForUploads},config:{multiple:!1,fileExtensions:[".jpg",".jpeg",".png",".gif"],uploadParams:{collection:M.collection,onUploadRejection:M?.onUploadRejection}},isOpen:P,onClose:()=>{x(!1)},onUploadsStart:()=>{U(!0),d.setIsUploadingPicture(!0),d.setIsChangingPicture(!1),z.start({name:a("irVI7").COVER_PICTURE_MEDIA_UPLOAD_EXPERIENCE})},onError:ef,onEnd:e=>{let r=e.file.type,i=e?.file?.id;if(r.includes("image"))if(i){let e=JSON.stringify({id:i,position:a("75Ax4").DEFAULT_POSITION_VALUE}),r=String((H.current?.draft?.version||0)+1);(0,a("6mKj3").isExperimentEnabled)("migrate_off_experimentalupdatecontentproperty")?Y({propertyKey:a("bKd7w").CoverPictureIdPropertyKey.DRAFT,propertyValue:e,isDelete:!1,hasExistingProperty:s}):ed({variables:{contentId:t,propertyValue:e,propertyKey:a("bKd7w").CoverPictureIdPropertyKey.DRAFT,versionNumber:r}}),B(!0),d.setShouldShowReposition(!0),z.succeed({name:a("irVI7").COVER_PICTURE_MEDIA_UPLOAD_EXPERIENCE}),F({type:"sendUIEvent",data:{action:"added",actionSubject:"image",actionSubjectId:"headerImageAdded",source:"editorPageCoverPicture",attributes:{imageSource:"uploaded",imageId:i,inputMethod:"header",isLivePage:L}}}).fire()}else ef();else ef()}}))}),ei=(0,a("7aRa9").withFlags)((0,s.withTransparentErrorBoundary)({attribution:a("3IBnw").Attribution.PAGE_EXTENSIONS})(er));t.exports.ImageWrapper=ea,t.exports.EditorPageCoverPicture=ei}),r("10CSJ",function(t,r){var i=a("42omo");class o extends e(i).PureComponent{componentDidMount(){this.mounted=!0,!this.state.Browser&&(0,a("dh538").fg)("jfp-magma-media-clipboard-init-after-mount")&&Promise.all([a("9VjJl"),a("2duHf")]).then(([e,t])=>{o.Browser=e.withMediaClient(t.Browser),this.mounted&&this.setState({Browser:o.Browser})})}componentWillUnmount(){this.mounted=!1}async UNSAFE_componentWillMount(){if(!this.state.Browser&&!(0,a("dh538").fg)("jfp-magma-media-clipboard-init-after-mount")){let[e,t]=await Promise.all([a("9VjJl"),a("2duHf")]);o.Browser=e.withMediaClient(t.Browser),this.mounted&&this.setState({Browser:o.Browser})}}render(){return this.state.Browser?e(i).createElement(this.state.Browser,this.props):null}constructor(...e){super(...e),this.mounted=!1,this.state={Browser:o.Browser}}}o.displayName="AsyncBrowser",o.Browser=void 0,t.exports.BrowserLoader=o}),r("9VjJl",function(e,t){let r=a("4mJKd")(5);e.exports=Promise.all([r("jp3gT"),r("fGT64"),r("joFPh"),r("6aruy")]).then(()=>a("9VKkC"))}),r("2duHf",function(e,t){let r=a("4mJKd")(5);e.exports=Promise.all([r("fGT64"),r("f35QR"),r("eVYW1"),r("ls0Um"),r("020xd"),r("eTBsW"),r("bYxCZ"),r("6HBYC"),r("eDqo1"),r("lxiFd"),r("1oiJ6"),r("huUvS"),r("6wr18"),r("jp3gT"),r("dT77m"),r("6vhrJ"),r("ffEVr"),r("hqblC")]).then(()=>a("4rZL5"))}),r("2vVvv",function(e,t){let r=(0,a("cgtv4").defineMessages)({errorTitle:{id:"fabric-media-support.attachment-size-limit-error.title",defaultMessage:"{fileName} is too large to upload"},errorDescription:{id:"fabric-media-support.attachment-size-limit-error.description",defaultMessage:"Attachments must be {size} or less."},learnMore:{id:"fabric-media-support.attachment-size-limit-error.learn-more",defaultMessage:"Learn more"}}),i=(0,a("cgtv4").defineMessages)({errorTitle:{id:"fabric-media-support.attachment-zero-byte-error.title",defaultMessage:"{fileName} is empty (zero bytes)"},errorDescription:{id:"fabric-media-support.attachment-zero-byte.description",defaultMessage:"Attachments must be at least 1 byte of size"}}),o=(e,t)=>{if(e<=0)return"0 bytes";let a=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=a.length-1,i=Math.floor(Math.log(e)/Math.log(1024));return t&&t<r&&(r=t),i=i>r?r:i,`${parseFloat((e/Math.pow(1024,i)).toFixed(2))} ${a[i]}`};e.exports.getAttachmentSizeLimitErrorFlag=(e,t)=>"fileSizeLimitExceeded"===e.reason?{title:t.formatMessage(r.errorTitle,{fileName:e.fileName}),description:t.formatMessage(r.errorDescription,{size:o(e.limit)}),actions:[{content:t.formatMessage(r.learnMore),onClick:()=>{window.open("https://support.atlassian.com/confluence-cloud/docs/upload-a-file/","_blank")}}]}:{title:t.formatMessage(i.errorTitle,{fileName:e.fileName}),description:t.formatMessage(i.errorDescription)}}),r("gXrHX",function(e,t){let r=(0,a("42omo").createContext)({isExternalShareRequest:!1,userType:a("k3pHv").UserTypes.ANONYMOUS,shareToken:void 0,isShareableLinkRequest:!1});e.exports.ExternalShareContext=r}),r("k3pHv",function(e,t){var a,r=((a={}).ANONYMOUS="anonymous",a.ORG_MEMBER="org-member",a.CONFLUENCE_USER="confluence-user",a.ATLASSIAN_USER="atlassian-user",a);e.exports.UserTypes=r}),r("aJv6Q",function(t,r){var i=a("42omo"),o=a("4PPzL"),n=a("hSqtY");function s(t,a){return function(r){return o=>e(i).createElement(t,a,e(i).createElement(r,o))}}t.exports.withErrorBoundary=function(e){return s(o.ErrorBoundary,e)},t.exports.withTypedErrorBoundary=s,t.exports.withTransparentErrorBoundary=function(e){return s(n.TransparentErrorBoundary,e)}}),r("btHGY",function(e,t){var r=a("l998X");a("42omo"),e.exports.MediaImageWithErrorBoundary=e=>(0,r.jsx)(a("lAJUP").ErrorBoundary,{fallback:(0,r.jsx)(r.Fragment,{children:e.children({loading:!1,error:!0})}),children:(0,r.jsx)(a("fKV6c").MediaImageWithMediaClient,{...e})})}),r("lAJUP",function(e,t){var r=a("42omo");let i=(0,r.createContext)(null),o={didCatch:!1,error:null};class n extends r.Component{static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){let{error:e}=this.state;if(null!==e){for(var t,a,r=arguments.length,i=Array(r),n=0;n<r;n++)i[n]=arguments[n];null==(t=(a=this.props).onReset)||t.call(a,{args:i,reason:"imperative-api"}),this.setState(o)}}componentDidCatch(e,t){var a,r;null==(a=(r=this.props).onError)||a.call(r,e,t)}componentDidUpdate(e,t){let{didCatch:a}=this.state,{resetKeys:r}=this.props;if(a&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((e,a)=>!Object.is(e,t[a]))}(e.resetKeys,r)){var i,n;null==(i=(n=this.props).onReset)||i.call(n,{next:r,prev:e.resetKeys,reason:"keys"}),this.setState(o)}}render(){let{children:e,fallbackRender:t,FallbackComponent:a,fallback:o}=this.props,{didCatch:n,error:s}=this.state,l=e;if(n){let e={error:s,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof t)l=t(e);else if(a)l=(0,r.createElement)(a,e);else if(null===o||(0,r.isValidElement)(o))l=o;else throw s}return(0,r.createElement)(i.Provider,{value:{didCatch:n,error:s,resetErrorBoundary:this.resetErrorBoundary}},l)}constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=o}}e.exports.ErrorBoundary=n,e.exports.withErrorBoundary=function(e,t){let a=(0,r.forwardRef)((a,i)=>(0,r.createElement)(n,t,(0,r.createElement)(e,{...a,ref:i}))),i=e.displayName||e.name||"Unknown";return a.displayName="withErrorBoundary(".concat(i,")"),a}}),r("fKV6c",function(e,t){var r=a("l998X"),i=a("42omo");let o=({identifier:e,apiConfig:t={},children:i,ssr:o})=>{let{width:n,height:s,mode:l,allowAnimated:d,upscale:c,"max-age":u}=t,{preview:p,error:m,copyNodeRef:g,getSsrScriptProps:f}=(0,a("k0QVR").useFilePreview)({identifier:e,dimensions:{width:n,height:s},ssr:o,resizeMode:l,allowAnimated:d,upscale:c,maxAge:u}),h="loading";return p?.dataURI?h="succeeded":m&&(h="error"),(0,r.jsxs)(r.Fragment,{children:[i({loading:"loading"===h,error:"error"===h,data:"succeeded"===h?{status:h,src:p?.dataURI}:void 0}),(0,a("dh538").fg)("platform_media_cross_client_copy")&&(0,r.jsx)("div",{ref:g,className:(0,a("gMc0m").default)(["_1e0cglyw"])}),f&&(0,r.jsx)("script",{...f()})]})};e.exports.MediaImageWithMediaClient=e=>{let t=(0,i.useMemo)(()=>(0,a("7soXU").withMediaClient)(o),[]);return(0,r.jsx)(t,{...e})}}),r("7soXU",function(e,t){var r=a("l998X"),i=a("42omo");e.exports.withMediaClient=e=>(0,a("9JpPs").componentWithCondition)(()=>(0,a("dh538").fg)("media-perf-uplift-mutation-fix"),({mediaClientConfig:t,...o})=>{let n=(0,i.useContext)(a("3rvSa").MediaClientContext),s=(0,i.useMemo)(()=>n??(0,a("grxv4").getMediaClient)(t),[t,n]);return(0,r.jsx)(a("3rvSa").MediaClientContext.Provider,{value:s,children:(0,r.jsx)(e,{...o,mediaClient:s})})},({mediaClientConfig:t,...i})=>(0,r.jsx)(a("3rvSa").MediaClientContext.Consumer,{children:o=>o?(0,r.jsx)(e,{...i,mediaClient:o}):(0,r.jsx)(a("3rvSa").MediaClientProvider,{clientConfig:t,children:(0,r.jsx)(a("3rvSa").MediaClientContext.Consumer,{children:t=>(0,r.jsx)(e,{...i,mediaClient:t})})})}))}),r("9JpPs",function(e,t){var r=a("l998X"),i=a("42omo");e.exports.componentWithCondition=function(e,t,a){let o=(0,i.forwardRef)((i,o)=>e()?(0,r.jsx)(t,{...i,ref:o}):(0,r.jsx)(a,{...i,ref:o}));return""!==t.name&&(o.displayName=`ComponentWithCondition[${e.name}]`),o}}),r("9EtP6",function(e,t){var r=a("l998X"),i=a("42omo");let o={componentName:"textArea",packageName:"platform-pkg",packageVersion:"0.0.0-use.local"},n={standard:"_1dqonqa1 _kp82rsbi _1ltx1j9a _1bqsbk0g _z1pvby5v _19wtrsbi _12yml4ek _1l02v77o _11zpv77o _141f1v6z _daj71v6z _olc612x7 _14ji12x7 _7ba01v6z _1kod1v6z _858u1v1w _jomrr01l _7ehivyy1 _186j1v1w _qu18by5v",subtle:"_1dqonqa1 _kp821j28 _1ltx1j28 _19wtrsbi _12yml4ek _1l02v77o _11zpv77o _141f1v6z _daj71v6z _olc612x7 _14ji12x7 _1kod1v6z _7ba01v6z _858u1v1w _jomrr01l _7ehivyy1",none:"_1dqoglyw _kp821j28 _1ltx1j28 _19wt1j28 _12ym1j28 _1l02v77o _daj712x7 _11zpv77o _141f12x7 _olc612x7 _1kod12x7 _14ji12x7 _7ba012x7 _858u1j28 _jomr1j28 _7ehi3sij"},s={default:"_11c81ixg _1tn22smr",monospace:"_11c81ixg _ect41odn _1tn22smr _14mdudxr"},l={horizontal:"_14zg1e08",vertical:"_14zg1e54",auto:"_14zg1hrf",smart:"_14zgglyw",none:"_14zgglyw"},d=e=>{e.style.height="auto";let t=e.scrollHeight;e.style.height=`${t+4}px`},c=(0,i.forwardRef)((e,t)=>{let c=(0,i.useRef)(null),{resize:u="smart",appearance:p="standard",isCompact:m=!1,isRequired:g=!1,isReadOnly:f=!1,isDisabled:h=!1,isInvalid:v=!1,isMonospaced:I=!1,minimumRows:C=2,testId:y,maxHeight:_="50vh",onBlur:E,onFocus:b,onChange:P,value:x,style:S,...w}=e,U=(0,i.useMemo)(()=>"none"===p?2:1,[p]);(0,i.useEffect)(()=>{let e=c.current;"smart"===u&&e&&d(e)},[u,x]);let R=(0,a("gxtzC").usePlatformLeafEventHandler)({fn:e=>{E&&E(e)},action:"blurred",...o}),A=(0,a("gxtzC").usePlatformLeafEventHandler)({fn:e=>{b&&b(e)},action:"focused",...o}),O=(0,i.useCallback)(e=>{let t=c.current;"smart"===u&&t&&d(t),P&&P(e)},[P,u]);return(0,r.jsx)("textarea",{...{"data-invalid":v||void 0,"data-compact":m||void 0,"data-testid":y||void 0},value:x,disabled:h,readOnly:f,required:g,ref:e=>{c.current=e,t&&"object"==typeof t&&(t.current=e),t&&"function"==typeof t&&t(e)},onChange:O,onBlur:R,onFocus:A,rows:C,...w,className:(0,a("gMc0m").default)(["_19pkidpf _2hwxidpf _otyridpf _18u0idpf _16jlkb7n _1o9zkb7n _i0dl1osq _2rkofajl _11c82smr _12ji1r31 _1qu2glyw _12y31o36 _1reo1wug _18m91wug _v564r5cv _189ee4h9 _1e0c1ule _vchhusvi _1bsb1osq _1ul9idpf _p12f1osq _kqswh2mm _syazi7uo _slp31hna _153g1bqt _usy41j9a _1a2sizbr _vbqb1gmx _j5dh13gf _cfjqkb7n _k3o7n7od _1goxglyw _13xeglyw _1fra1bqt _ibjdl4ek _6zpvizbr _19k0by5v _1idr1rpy _1lep1gmx _nmhq1fiz _1n388sxn _1luh1v1w _ndzbr01l _1vj0vyy1",(0,a("dh538").fg)("platform-dst-shape-theme-default")&&"_2rko1qi0",n[p],s[I?"monospace":"default"],l[u],"_uzq71i7i _16lwuel1"]),style:{...S,maxHeight:_,"--_6ny3x7":(0,a("7sObp").default)(16*C+4+2*U,"px"),"--_eorxnz":(0,a("7sObp").default)(20*C+12+2*U,"px")}})}),u=(0,i.memo)((0,i.forwardRef)(function(e,t){return(0,r.jsx)(c,{ref:t,...e})}));u.displayName="TextArea",e.exports.default=u}),r("aBfpe",function(e,t){var a,r=((a={}).JSON="application/json",a.X_WWW_FORM_URLENCODED="application/x-www-form-urlencoded",a);e.exports.MediaType=r}),r("3hoG4",function(e,r){t(e.exports,"default",()=>i);var i=a("42omo").forwardRef}),r("cQbj1",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r,i=(r=a("42omo"))&&r.__esModule?r:{default:r};let o=e=>i.default.createElement(a("id7ja").Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#8270db" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3m3 14a1 1 0 0 0-1 1v3a1 1 0 0 0 2 0v-3a1 1 0 0 0-1-1m8-6a1 1 0 0 0-1 1v9a1 1 0 0 0 2 0V9a1 1 0 0 0-1-1m-4 4a1 1 0 0 0-1 1v5a1 1 0 0 0 2 0v-5a1 1 0 0 0-1-1m8-7a1 1 0 0 0-1 1v12a1 1 0 0 0 2 0V6a1 1 0 0 0-1-1"/></svg>'},e,{size:"medium"}));o.displayName="Presentation24Icon",e.exports.default=o}),r("iFCP2",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r,i=(r=a("42omo"))&&r.__esModule?r:{default:r};let o=e=>i.default.createElement(a("id7ja").Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#36b37e" fill-rule="evenodd" d="M3 0h18a3 3 0 0 1 3 3v18a3 3 0 0 1-3 3H3a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3m2 5a1 1 0 1 0 0 2h3a1 1 0 1 0 0-2zm0 4a1 1 0 1 0 0 2h3a1 1 0 0 0 0-2zm0 4a1 1 0 0 0 0 2h3a1 1 0 0 0 0-2zm0 4a1 1 0 0 0 0 2h3a1 1 0 0 0 0-2zm7-12a1 1 0 0 0 0 2h7a1 1 0 0 0 0-2zm0 4a1 1 0 0 0 0 2h7a1 1 0 0 0 0-2zm0 4a1 1 0 0 0 0 2h7a1 1 0 0 0 0-2zm0 4a1 1 0 0 0 0 2h7a1 1 0 0 0 0-2z"/></svg>'},e,{size:"medium"}));o.displayName="Spreadsheet24Icon",e.exports.default=o}),r("bedQP",function(e,t){e.exports.componentWithFG=(e,t,r)=>(0,a("9JpPs").componentWithCondition)(()=>(0,a("dh538").fg)(e),t,r)}),r("gj7hi",function(e,r){t(e.exports,"default",()=>n);var i=a("l998X"),o=a("42omo");function n({src:e,srcDark:t,alt:r,testId:n,className:s,...l}){let d=(0,o.useRef)(null),c=(0,a("cv8Bu").UNSAFE_useColorModeForMigration)(),{colorMode:u}=(0,a("cOrQJ").default)(),p=c||u;return(0,o.useEffect)(()=>{null!==d&&null!==d.current&&(t&&"dark"===p?d.current.src=t:e&&(d.current.src=e))},[e,t,p]),(0,i.jsx)("img",{alt:r,"data-testid":n,src:e,className:(0,a("gMc0m").default)(["_p12f1osq _4t3i1wug",s]),ref:d,...l})}}),r("cv8Bu",function(e,t){a("l998X");var r=a("42omo");let i=(0,r.createContext)(void 0);(0,r.createContext)(void 0),(0,r.createContext)(void 0),(0,r.createContext)(void 0),"undefined"!=typeof window&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)"),e.exports.UNSAFE_useColorModeForMigration=function(){return(0,r.useContext)(i)}}),r("dpPtd",function(t,r){let i;var o=a("l998X"),n=a("42omo");let s=e(n).createContext(null),l=(i=0,()=>`flag-provider-unique-id:${i++}`);t.exports.useFlags=function(){let e=(0,n.useContext)(s);if(null==e)throw Error("Unable to find FlagProviderContext");return e},t.exports.FlagsProvider=function({children:e,shouldRenderToParent:t}){let[r,i]=(0,n.useState)([]),d=(0,n.useCallback)(e=>{i(t=>t.slice(0).filter(t=>t.id!==e))},[]),c=(0,n.useMemo)(()=>({showFlag:function(e){let t={...e,id:e.id||l()};return i(e=>{let a=e.findIndex(e=>e.id===t.id);if(-1===a)return[t,...e];let r=[...e];return r[a]=t,r}),function(){d(t.id)}}}),[d]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.Provider,{value:c,children:e}),(0,o.jsx)(a("6uGcC").default,{onDismissed:d,shouldRenderToParent:t,children:r.map(e=>{let{isAutoDismiss:t,...r}=e,i=t?a("aD1SW").default:a("eCEXz").default;return(0,n.createElement)(i,{...r,key:e.id})})})]})}}),r("9k33u",function(t,r){var i=a("l998X"),o=a("42omo");let n=e(o).createContext(void 0);t.exports.MediaContext=n,t.exports.MediaProvider=({children:e,mediaClientConfig:t,mediaSettings:r})=>{let s=(0,o.useMemo)(()=>(0,a("grxv4").getMediaClient)(t),[t]),l=(0,a("8IHds").useMediaParsedSettings)(r);return(0,i.jsx)(n.Provider,{value:{mediaClient:s,settings:l},children:e})}}),r("8IHds",function(e,t){var r=a("42omo");e.exports.useMediaParsedSettings=(e={})=>(0,r.useMemo)(()=>{let t={...e};return t.mediaUserPreferences=a("82Dle").defaultMediaUserPreferences,t},[e])}),r("82Dle",function(e,t){let a,r={videoCaptionsEnabled:"boolean",videoCaptionsPreferredLocale:"string"},i=(a={set:(e,t)=>{localStorage.setItem(`media-${e}`,t)},get:e=>localStorage.getItem(`media-${e}`)},{set:(e,t)=>{a.set(e,t.toString())},get:e=>{let t=a.get(e);if(null!=t)return"boolean"===r[e]?"true"===t:t}});e.exports.defaultMediaUserPreferences=i}),r("jRNsq",function(t,r){var i=a("42omo");t.exports.useMediaClient=()=>{let t=e(i).useContext(a("3rvSa").MediaClientContext),{mediaClient:r}=e(i).useContext(a("9k33u").MediaContext)||{};if(!t&&!r)throw Error("No MediaClient set, use MediaClientProvider or MediaProvider to set one");return t||r}}),r("4GGNn",function(e,t){async function r({url:e,method:t,headers:r,body:i,credentials:o,variables:n,parseResult:s,parseResponseOnSuccess:l,parseResponseOnError:d}){let c=await (0,a("GLgaM").fetchResponse)({url:e,method:t,body:i,headers:r,credentials:o,parseResponseOnSuccess:l,parseResponseOnError:d},n);return{data:await s(c,n)}}e.exports.experimentalMutate=r}),r("9ILXP",function(e,t){function a(e){this.message=e}a.prototype=Error(),a.prototype.name="InvalidCharacterError";var r="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new a("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,i,o=0,n=0,s="";i=t.charAt(n++);~i&&(r=o%4?64*r+i:i,o++%4)&&(s+=String.fromCharCode(255&r>>(-2*o&6))))i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return s};function i(e){this.message=e}i.prototype=Error(),i.prototype.name="InvalidTokenError",e.exports.default=function(e,t){if("string"!=typeof e)throw new i("Invalid token specified");var a=+(!0!==(t=t||{}).header);try{return JSON.parse(function(e){var t,a=e.replace(/-/g,"+").replace(/_/g,"/");switch(a.length%4){case 0:break;case 2:a+="==";break;case 3:a+="=";break;default:throw"Illegal base64url string!"}try{return t=a,decodeURIComponent(r(t).replace(/(.)/g,function(e,t){var a=t.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a}))}catch(e){return r(a)}}(e.split(".")[a]))}catch(e){throw new i("Invalid token specified: "+e.message)}}});
//# sourceMappingURL=EditorPageCoverPicture.74d26e46.js.map
