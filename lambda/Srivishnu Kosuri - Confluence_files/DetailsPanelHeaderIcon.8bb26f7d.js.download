var e=globalThis.parcelRequired477,a=e.register;a("i2BsV",function(a,i){Object.defineProperty(a.exports,"default",{get:()=>n,set:void 0,enumerable:!0,configurable:!0});var t=e("l998X"),l=e("42omo"),s=e("dokWT");let o={base:"_zulp1b66 _2rko12b0 _1e0c116y _ca0q1b66 _u5f31b66 _n3td1b66 _19bv1b66 _4cvr1h6o _1bah1h6o _o5724jg8 _1bto1l2s _80om73ad",compact:"_4t3igktf",expanded:"_4t3i1tcg",disabled:"_syaz1gmx _bfhkby5v _80om73ad",clickable:"_80omtlke",red:"_syazi7uo _bfhk1rtt",redClickable:"_13ix1rtt _irr3affd _1di61j5a",redBold:"_syaz15cr _bfhkuibq",redBoldClickable:"_13ixuibq _irr3100f _1di61cl6",orange:"_syazi7uo _bfhk1kkj",orangeClickable:"_13ix1kkj _irr39mfs _1di6axpp",yellow:"_syazi7uo _bfhkibhp",yellowClickable:"_13ixibhp _irr3aetg _1di61o1l",green:"_syazi7uo _bfhkn729",greenClickable:"_13ixn729 _irr33utz _1di6yfny",blue:"_syazi7uo _bfhk1dy8",blueClickable:"_13ix1dy8 _irr3815t _1di6rwxf",teal:"_syazi7uo _bfhk1a17",tealClickable:"_13ix1a17 _irr3kwwr _1di61jb0",lime:"_syazi7uo _bfhkz2ec",limeClickable:"_13ixz2ec _irr31gf0 _1di62kxc",purple:"_syazi7uo _bfhkp2ly",purpleClickable:"_13ixp2ly _irr3kca2 _1di61jbm",grey:"_syazi7uo _bfhkysee",greyClickable:"_13ixysee _irr3wejn _1di618ut",popup:"_1bsbp2n4"};function n({testId:a,name:i,tooltip:n,tooltipPosition:r,color:c="GREY",iconSize:d="small",guideline:u,isDisabled:f=!1,isPopupDisabled:C=!1,isPopupOpenByDefault:p=!1,getPopupStateControllers:g,popupZIndex:b,guidelineRepresentation:m="PLAIN",onPopupShown:v,onPopupClose:_,onClick:y,renderPopupComponent:k,popupLabel:x,popupTitleId:E,popupRole:h,popupPlacement:L="bottom-start",shouldRenderToParent:I,isIconOnly:A=!1,associatedPoliciesCount:S,spacing:F="default"}){let{formatMessage:P}=(0,e("8C5kA").default)(),[D,T]=(0,l.useState)(!f&&!C&&p);g&&g(()=>D,e=>T(e));let M=!i||0===i.length,O=M||A,R=((M?"":S?i+" "+P(e("1HYxw").messages.rules,{associatedPoliciesCount:S}):i)??"").substring(0,e("5HQ8i").nameMaxLength),j="small"===d?12:"medium"===d?18:"large"===d?24:"xlarge"===d?32:"xxlarge"===d?40:12,w=()=>{C||f||M||(v&&v(),T(!D))},N=()=>{T(!1)},B=!C&&!f&&!M,z=(l={})=>{let{"aria-expanded":s,...n}=l,r=B?e("fVUfS").default:e("gdv5Z").default;return(0,t.jsxs)(r,{role:B?"button":"presentation","aria-disabled":f,...B?{"aria-label":`${P(e("1HYxw").messages.dataClassificationLevel)} - ${i}`}:{},xcss:(0,e("1Whri").cx)(o.base,...O?[]:["expanded"===F?o.expanded:o.compact],...f?[o.disabled]:[],...f?[]:[{RED:o.red,RED_BOLD:o.redBold,ORANGE:o.orange,YELLOW:o.yellow,GREEN:o.green,BLUE:o.blue,TEAL:o.teal,LIME:o.lime,PURPLE:o.purple,GREY:o.grey}[c]],...!f&&B?[o.clickable,{RED:o.redClickable,RED_BOLD:o.redBoldClickable,ORANGE:o.orangeClickable,YELLOW:o.yellowClickable,GREEN:o.greenClickable,BLUE:o.blueClickable,TEAL:o.tealClickable,LIME:o.limeClickable,PURPLE:o.purpleClickable,GREY:o.greyClickable}[c]]:[]),testId:a,padding:"space.050",onClick:()=>{y&&y(),w()},...B?l:n,children:[(0,t.jsx)(e("1s5hv").default,{justifyContent:"center",alignItems:"center",children:(0,t.jsx)(e("gWldI").ClassificationIcon,{width:j,height:j,color:f?e("5HQ8i").disabledColorConfig.iconColor:e("5HQ8i").colorsConfig[c].iconColor})}),!O&&(0,t.jsx)(e("iXCQx").default,{size:"UNSAFE_small",maxLines:1,color:"RED_BOLD"===c?"color.text.inverse":"color.text",testId:"data-classification-level-name",children:R})]})};return C?z():(0,t.jsx)(e("lGgRw").default,{label:x,titleId:E,role:h,shouldRenderToParent:I,placement:L,trigger:a=>(0,t.jsx)(e("3gadb").default,{content:D?null:n,hideTooltipOnClick:!0,position:r,children:z(a)}),content:()=>k?k(N):(0,t.jsx)(e("gdv5Z").default,{padding:"space.250",xcss:o.popup,role:"dialog","aria-labelledby":"data-classification-read-content-name","aria-describedby":"data-classification-read-content-guideline","aria-modal":"true",children:(0,t.jsx)(s.ClassificationView,{name:i,guideline:u,guidelineRepresentation:m})}),isOpen:D,onClose:()=>{_&&_(),N()},zIndex:b})}}),a("dokWT",function(a,i){var t=e("l998X"),l=e("42omo"),s=e("67O0h");let o=(0,l.forwardRef)(({as:a="h2",style:i,...l},s)=>(0,t.jsx)(a,{...l,style:i,ref:s,className:(0,e("gMc0m").default)(["_11c8lodh _syazi7uo",l.className])})),n=(0,l.forwardRef)(({as:a="p",style:i,...l},s)=>(0,t.jsx)(a,{...l,style:i,ref:s,className:(0,e("gMc0m").default)(["_11c82smr _syazi7uo _o5721jtm _1i4q1hna",l.className])}));a.exports.ClassificationView=({name:a,guideline:i,guidelineRepresentation:l="PLAIN"})=>{let r=(a??"").substring(0,e("5HQ8i").nameMaxLength),c=(i??"").substring(0,e("5HQ8i").guidelineMaxLength);return(0,t.jsxs)(e("6f0Oj").default,{children:[r&&(0,t.jsx)(o,{id:"data-classification-read-content-name",children:r}),i&&(0,t.jsx)(e("6f0Oj").default,{paddingBlockStart:"space.200",children:"PLAIN"===l?(0,t.jsx)(n,{id:"data-classification-read-content-guideline",children:c}):(0,t.jsx)(s.default,{maxHeight:200,truncated:!0,document:JSON.parse(i)})})]})}}),a("5HQ8i",function(a,i){let{formatMessage:t}=(0,e("1e2E5").createIntl)({locale:"en"});t(e("1HYxw").messages.noClassification),a.exports.nameMaxLength=50,a.exports.guidelineMaxLength=1e3,a.exports.colorsConfig={YELLOW:{iconColor:"var(--ds-icon-accent-yellow, #B38600)",bgColor:"var(--ds-background-accent-yellow-subtlest, #FEF7C8)",fontColor:"var(--ds-text, #292A2E)"},ORANGE:{iconColor:"var(--ds-icon-accent-orange, #E06C00)",bgColor:"var(--ds-background-accent-orange-subtle, #FCA700)",fontColor:"var(--ds-text, #292A2E)"},RED:{iconColor:"var(--ds-icon-accent-red, #C9372C)",bgColor:"var(--ds-background-accent-red-subtler, #FFD5D2)",fontColor:"var(--ds-text, #292A2E)"},RED_BOLD:{iconColor:"var(--ds-icon-inverse, #FFFFFF)",bgColor:"var(--ds-background-accent-red-bolder, #C9372C)",fontColor:"var(--ds-text-inverse, #FFFFFF)"},PURPLE:{iconColor:"var(--ds-icon-accent-purple, #AF59E1)",bgColor:"var(--ds-background-accent-purple-subtlest, #F8EEFE)",fontColor:"var(--ds-text, #292A2E)"},BLUE:{iconColor:"var(--ds-icon-accent-blue, #357DE8)",bgColor:"var(--ds-background-accent-blue-subtler, #CFE1FD)",fontColor:"var(--ds-text, #292A2E)"},TEAL:{iconColor:"var(--ds-icon-accent-teal, #2898BD)",bgColor:"var(--ds-background-accent-teal-subtler, #C6EDFB)",fontColor:"var(--ds-text, #292A2E)"},GREEN:{iconColor:"var(--ds-icon-accent-green, #22A06B)",bgColor:"var(--ds-background-accent-green-subtlest, #DCFFF1)",fontColor:"var(--ds-text, #292A2E)"},GREY:{iconColor:"var(--ds-icon-accent-gray, #7D818A)",bgColor:"var(--ds-background-accent-gray-subtlest, #F0F1F2)",fontColor:"var(--ds-text, #292A2E)"},LIME:{iconColor:"var(--ds-icon-accent-lime, #6A9A23)",bgColor:"var(--ds-background-accent-lime-subtler, #D3F1A7)",fontColor:"var(--ds-text, #292A2E)"}},a.exports.disabledColorConfig={iconColor:"var(--ds-icon-disabled, #080F214A)",bgColor:"var(--ds-background-disabled, #17171708)",fontColor:"var(--ds-text-disabled, #080F214A)"}}),a("1HYxw",function(a,i){let t=(0,e("cgtv4").defineMessages)({noClassification:{id:"data-classification-level.no-classification",defaultMessage:"No classification"},classifyContent:{id:"data-classification-level.edit-popup.classify-content",defaultMessage:"Classify content"},selectClassification:{id:"data-classification-level.edit-popup.select-classification",defaultMessage:"Select classification"},updateButton:{id:"data-classification-level.edit-popup.update-button",defaultMessage:"Update"},cancelButton:{id:"data-classification-level.edit-popup.cancel-button",defaultMessage:"Cancel"},changeLevel:{id:"data-classification-level.read-popup.change-level",defaultMessage:"Change level"},rules:{id:"data-classification-level.rules",defaultMessage:"({associatedPoliciesCount, plural, one {# rule} other {# rules}})"},dataClassificationLevel:{id:"data-classification-level.data-classification-level",defaultMessage:"Data classification level"},dataClassificationLevelDialog:{id:"data-classification-level.read-popup.data-classification-level",defaultMessage:"Data classification level Dialog"}});a.exports.messages=t}),a("gWldI",function(a,i){var t=e("l998X");e("42omo"),a.exports.ClassificationIcon=({color:e,width:a,height:i})=>(0,t.jsx)("svg",{width:a,height:i,viewBox:"0 0 20 22",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.6309 0.724217L10.6368 0.729015L10.6564 0.744926C10.674 0.759116 10.7003 0.780345 10.7346 0.807883C10.8033 0.86297 10.9038 0.94325 11.03 1.04291C11.2825 1.24238 11.637 1.51872 12.0437 1.82565C12.8662 2.44636 13.8693 3.16677 14.6721 3.63718C15.3586 4.03945 16.2922 4.34531 17.1042 4.55315C17.5006 4.65463 17.8498 4.72824 18.0989 4.7763C18.2232 4.80028 18.3219 4.81775 18.3882 4.82904C18.4214 4.83469 18.4464 4.83877 18.4625 4.84135L18.4797 4.84408L18.4828 4.84456C18.9716 4.91866 19.3332 5.33888 19.3332 5.8333C19.3332 11.6129 17.1353 15.5513 14.9124 18.041C13.8065 19.2797 12.6995 20.1547 11.8642 20.7227C11.4461 21.0071 11.0944 21.2155 10.8427 21.3551C10.7168 21.4249 10.6157 21.4775 10.5435 21.5139C10.5074 21.5321 10.4785 21.5462 10.4574 21.5564C10.4469 21.5615 10.4382 21.5655 10.4316 21.5687L10.4231 21.5726L10.4201 21.5741L10.4188 21.5746C10.4183 21.5749 10.4177 21.5751 9.99984 20.6666C9.58193 21.5751 9.58142 21.5749 9.58087 21.5746L9.57961 21.5741L9.57653 21.5726L9.56808 21.5687C9.56477 21.5671 9.56096 21.5653 9.55666 21.5633C9.55235 21.5612 9.54754 21.5589 9.54226 21.5564C9.52113 21.5462 9.49227 21.5321 9.45618 21.5139C9.38402 21.4775 9.2829 21.4249 9.15697 21.3551C8.90523 21.2155 8.55357 21.0071 8.13544 20.7227C7.30013 20.1547 6.19319 19.2797 5.08723 18.041C2.86434 15.5513 0.666504 11.6129 0.666504 5.8333C0.666504 5.56667 0.772986 5.31108 0.962294 5.12331C1.15074 4.9364 1.40573 4.8321 1.67105 4.83331L1.67917 4.83324C1.68856 4.83313 1.70565 4.83282 1.72992 4.832C1.77849 4.83035 1.85559 4.82664 1.9571 4.81831C2.1605 4.80162 2.45966 4.76655 2.82229 4.69315C3.55079 4.5457 4.51413 4.24791 5.47072 3.65142C6.36007 3.09685 7.32664 2.37311 8.08223 1.77725C8.45737 1.48141 8.77527 1.22127 8.99892 1.03546C9.11068 0.942624 9.1987 0.868514 9.25835 0.817986C9.28817 0.792727 9.31088 0.773375 9.3259 0.760538L9.3426 0.74625L9.34728 0.742228C9.7143 0.426181 10.2551 0.418601 10.6309 0.724217ZM2.68698 6.74634C2.9006 11.4629 4.75094 14.6614 6.57911 16.709C7.55649 17.8036 8.53288 18.5744 9.26006 19.0689C9.55402 19.2688 9.80621 19.4228 9.99984 19.5342C10.1935 19.4228 10.4457 19.2688 10.7396 19.0689C11.4668 18.5744 12.4432 17.8036 13.4206 16.709C15.2602 14.6486 17.1222 11.4228 17.3165 6.65758C17.106 6.61216 16.8662 6.55674 16.6082 6.49068C15.741 6.26872 14.5913 5.90791 13.6609 5.36276C12.7521 4.83022 11.6718 4.05063 10.8389 3.42208C10.5278 3.18731 10.2466 2.97006 10.0155 2.78938C9.81835 2.95079 9.58294 3.14086 9.32067 3.34769C8.544 3.96016 7.51057 4.73642 6.52896 5.34851C5.31888 6.10307 4.11556 6.47195 3.21905 6.6534C3.02778 6.69212 2.84951 6.7225 2.68698 6.74634ZM9.99984 20.6666L9.58087 21.5746C9.84611 21.6966 10.1536 21.6966 10.4188 21.5746L9.99984 20.6666Z",fill:e})})}),a("earLp",function(a,i){var t,l=((t={}).EDITOR_TITLE_DATA_CLASSIFICATION_POPUP="editorTitleDataClassificationPopup",t.CONTENT_TYPE_TITLE_DATA_CLASSIFICATION_POPUP="contentTypeTitleDataClassificationPopup",t.GENERIC_DATA_CLASSIFICATION_MODAL_POPUP="genericDataClassificationModalPopup",t);let s=({cloudId:e,spaceId:a,orgId:i,actionSubjectId:t})=>({type:"sendScreenEvent",data:{name:"dataClassificationEditPopup",action:"viewed",actionSubject:"popup",actionSubjectId:t,attributes:{cloudId:e,spaceId:a,orgId:i}}});a.exports.ActionSubjectId=l,a.exports.useTrackClassificationAnalytics=()=>{let{cloudId:a,orgId:i}=(0,e("bQm3c").useSessionData)(),t=(0,e("7QM6o").useSpaceId)(),{createAnalyticsEvent:l}=(0,e("inPa6").useAnalyticsEvents)();return{trackEditPopupViewed:e=>{t&&a&&i&&l(s({cloudId:a,spaceId:t,orgId:i,actionSubjectId:e})).fire()},trackRenderTagError:e=>{t&&a&&i&&l({type:"sendOperationalEvent",data:{action:"failed",actionSubject:"dataClassificationTagRender",source:"confluence-frontend",attributes:{cloudId:a,spaceId:t,orgId:i,error:e}}}).fire()}}}}),a("hZ48t",function(e,a){var i,t,l,s;let o={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"spaceKey"}],kind:"Fragment",name:"useDefaultAndSpaceClassificationLevelsQuery",selections:s=[{args:[{kind:"Variable",name:"key",variableName:"spaceKey"}],concreteType:"Space",kind:"LinkedField",name:"space",plural:!1,selections:[t={kind:"ScalarField",name:"id"},l={kind:"ScalarField",name:"name"},{kind:"ScalarField",name:"defaultClassificationLevelId"},{concreteType:"SpaceMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{kind:"ScalarField",name:"totalCurrentPages"}]}]},{concreteType:"ContentDataClassificationLevel",kind:"LinkedField",name:"classificationLevels",plural:!0,selections:[t,{kind:"ScalarField",name:"order"},{kind:"ScalarField",name:"status"},{kind:"ScalarField",name:"color"},{kind:"ScalarField",name:"description"},{kind:"ScalarField",name:"guideline"},l]}],type:"Query"},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"useDefaultAndSpaceClassificationLevelsQuery",selections:s},params:{cacheID:"fbf771726e463887b742ac4d94e994f9",id:"9d351c6f302837de6d700036aed8b75ba3ee259f41dab092f3216999720404f5",metadata:{},name:"useDefaultAndSpaceClassificationLevelsQuery",operationKind:"query",text:"query useDefaultAndSpaceClassificationLevelsQuery($spaceKey:String!){space(key:$spaceKey){id,name,defaultClassificationLevelId,metadata{totalCurrentPages}},classificationLevels{id,order,status,color,description,guideline,name}}"}};o.hash="0204187a42c76123b2656dae3e3e9f65",e.exports.default=o}),a("cwD0R",function(a,i){var t=e("42omo");let l=e("hZ48t").default;a.exports.useDefaultAndSpaceClassificationLevels=({spaceKey:a,isAdmin:i,setClassificationsEnabledForSpace:s,skipQuery:o=!1,shouldPreloadData:n=!1})=>{let{data:r,loading:c,error:d}=(0,e("jMyy4").useQueryInterop)(l,{variables:{spaceKey:a},skip:!a||!1===i||o,errorPolicy:"all",fetchPolicy:n?"cache-first":"network-only"}),u=!d||d&&!d?.message.includes("Feature is disabled");s&&s(u);let f=d?.message.includes("No default classification set for space with ID"),C=d&&!f&&(0,e("aMcHK").isStatusCodeError)(d,"404")||(0,e("aMcHK").isStatusCodeError)(d,"500")||(0,e("aMcHK").isStatusCodeError)(d,"400");(!u||f||C)&&(0,e("7Sm4c").markErrorAsHandled)(d);let p=(0,t.useMemo)(()=>c||C||!r?[]:r.classificationLevels?.filter(a=>a.status===e("kknEZ").Status.PUBLISHED).sort((e,a)=>(e.order??0)-(a.order??0))??[],[c,C,r]),g=f?e("1cYlh").NO_CLASSIFICATION_OPTION_ID:r?.space?.defaultClassificationLevelId??"",[b,m]=(0,t.useState)(g);!b&&g&&m(g);let v=r?.space?.name??"",_=r?.space?.metadata.totalCurrentPages??0,y=f?e("1cYlh").NO_CLASSIFICATION_OPTION:r?.classificationLevels?.find(e=>e.id===b),k=(0,t.useCallback)(e=>p?.find(a=>a.id===e),[p]);return{classificationLevels:p,defaultClassification:y,defaultId:g,loading:c,isEnabled:u,expectedError:C,spaceName:v,totalCurrentPages:_,setUnfilteredClassificationId:m,getClassificationLevelFromId:k}}}),a("93WhG",function(a,i){let t=(0,e("cgtv4").defineMessages)({classifyContent:{id:"data-classification.shared-messages.edit-popup.classify-content",defaultMessage:"Classify content"},fetchErrorTextPrimary:{id:"data-classification.shared-messages.fetch-error.primary",defaultMessage:"Unable to load classification. Try again."},fetchErrorTextSecondary:{id:"data-classification.shared-messages.fetch-error.secondary",defaultMessage:"Try reloading now."},saveErrorTextPrimary:{id:"data-classification.shared-messages.save-error.primary",defaultMessage:"Update to classification failed to save"},saveErrorTextSecondary:{id:"data-classification.shared-messages.save-error.secondary",defaultMessage:"Please try again."}});a.exports.sharedMessages=t});
//# sourceMappingURL=DetailsPanelHeaderIcon.8bb26f7d.js.map
