function e(e){return e&&e.__esModule?e.default:e}var t=globalThis.parcelRequired477,s=t.register;s("i8GdI",function(s,a){var n=t("42omo");let o=(0,t("cgtv4").defineMessages)({anonymousAccessMessage:{id:"anonymous-access.anonymous-access-side-nav-message.text",defaultMessage:"You‘re viewing this with anonymous access, so some content might be blocked."},close:{id:"anonymous-access.anonymous-access-side-nav-message.close",defaultMessage:"Close"}});s.exports.AnonymousAccessSideNavMessage=()=>{let[s,a]=(0,n.useState)(!1),c=(0,t("8C5kA").default)(),i=(0,t("cLo2u").useSpaceKey)();return((0,n.useEffect)(()=>{s&&a(!1)},[i]),s)?null:e(n).createElement(t("lxWrw").SideNavFooter,null,e(n).createElement(t("1s5hv").default,{justifyContent:"space-between",testId:"anonymous-access-side-nav-message"},e(n).createElement(t("1s5hv").default,{alignItems:"center"},e(n).createElement(t("gtD4K").default,o.anonymousAccessMessage)),e(n).createElement(t("1qfLF").default,{onClick:()=>a(!0),icon:s=>e(n).createElement(e(t("hmuev")),{...s,size:"small"}),label:c.formatMessage(o.close),appearance:"subtle",spacing:"compact"})))}}),s("1Sim2",function(e,s){Object.defineProperty(e.exports,"PostOfficeConfluenceSideNavPlacement",{get:()=>t("i834V").PostOfficeConfluenceSideNavPlacement,set:void 0,enumerable:!0,configurable:!0}),t("i834V")}),s("i834V",function(s,a){let n,o,c,i;var l=t("42omo"),r=t("l998X");let d=(e,s,a)=>(0,t("2HRxT").withErrorBoundary)((0,l.memo)(n=>{if(a?.hideInIsolatedCloud&&"undefined"!=typeof document&&(0,t("T9xHm").isIsolatedCloud)())return null;let o=(0,t("PAiZW").usePostOfficeContext)(),{onEvent:c,initialData:i,...l}=n,d=n?.context??o,u=(0,t("6yHRM").usePostOfficeRoute)(),p=(0,t("4H1Ql").useStableObject)(d);return(0,r.jsx)(t("eXPKf").PerformanceTrackingSegment,{placementId:e,children:(0,r.jsx)(t("eXPKf").PerformanceTracking,{initialData:i,onEvent:c,children:(0,r.jsx)(t("MnX4h").StableProviders,{route:u,context:p,placement:{placementId:e},choreographer:a?.choreographer,children:(0,r.jsx)(s,{initialData:i,...l})})})})})),u=(e,t,s)=>{let a=d(e,t,s);return(0,l.memo)(e=>a({...e,fallbackRender:()=>null}))},p=(n=async({postOffice:e})=>{let s=await e.messagesRuntime();return m(s),{...s.data,messages:(0,t("eoKlQ").flattenMessagesForFrontend)(s.data.messages)}},e=>async({request:t,koa:s,postOffice:a,placement:o})=>{try{let c=await n({request:t,koa:s,postOffice:a,placement:o,params:e});s.ctx.body=c,s.ctx.status=200}catch(e){t.logger.error({error:e},"placement middleware error"),s.ctx.status=500,s.ctx.body={message:"An error occurred"}}}),m=({errors:e,data:t})=>{let{messages:s}=t;if(!(s.length>1))return;let a=new Set(e.map(e=>e?.messageTemplateId??"unknown")),n=new Set(s.map(e=>e.messageTemplateId));if(a.size>1&&n.size/n.size>.1)throw Error("too many message template errors")};class g extends t("hOVIX").PostOfficeError{constructor(e){super(e.message??e.error?.message??"unknown placement system error",e.code??t("hOVIX").PostOfficeErrorCodes.PlacementSystemError),this.placementId=void 0,this.messageTemplateId=void 0,this.stageName=void 0,this.placementLevel=void 0,this.name=e.error?.name??this.constructor.name,this.messageTemplateId=e.messageTemplateId,this.placementId=e.placementId,this.placementLevel=e.placementLevel,this.stageName=e.stageName,this.cause=e.error?.cause,this.stack=e.error?.stack}}class f extends g{constructor(e){super({...e,message:"unknown placement message error",code:t("hOVIX").PostOfficeErrorCodes.PlacementMessageError})}}let h=e=>t=>new e(t instanceof e?{...t,error:t}:t instanceof Error?{error:t}:{}),x=h(g),E=e=>t=>A(e)(x(t)),v=h(g),_=e=>t=>A(e)(v(t));h(g);let T=h(class extends g{constructor(e){super({...e,message:"unknown placement runtime error",code:t("hOVIX").PostOfficeErrorCodes.PlacementRuntimeError})}}),C=e=>t=>A(e)(T(t)),y=h(class extends g{constructor(e){super({...e,message:"unknown placement middleware error",code:t("hOVIX").PostOfficeErrorCodes.PlacementRuntimeError})}}),b=e=>t=>A(e)(y(t)),A=e=>t=>(e.logger.error({message:t.message,cause:t.cause,name:t.name,stack:t.stack,placementLevel:t.placementLevel}),t),I=()=>({goalMetadata:{primaryGoal:{goalId:"clickthrough"}}}),k=()=>({transformMetadata:{validate:O(),stage:I}}),O=e=>e=>e,M=[25,50,100,150,200,250,500,1e3],w="post-office.placement-v2.stage.execute",R="post-office.placement-v2.stage.result",S=e=>t=>async s=>{let a;s.request.logger.info("Started stage");let n=performance.now(),{stop:o}=s.request.metrics.histogram(w,M).measure(),c=t(s);try{let t=c instanceof Promise?await c:c;try{a=e?.({input:s,output:t})}catch{s.request.logger.warn("Unable to apply tags to stage logs")}return s.request.metrics.counter(R,{status:"success"}).incr(),t}catch(e){throw s.request.metrics.counter(R,{status:"error"}).incr(),e}finally{o();let e=performance.now()-n;s.request.logger.info({latencyInMs:e,...a},"Finished stage")}},j=S(),N=S(({input:e,output:t})=>{if(!t)return{};let s=Array.from(new Set(e.data.messages.map(e=>e.messageTemplateId)).values()),a=Array.from(new Set(t.messages.map(e=>e.messageTemplateId)).values()),n=s.filter(e=>!a.includes(e)),o=e.data.messages.map(({messageInstanceId:e})=>e),c=t.messages.map(({messageInstanceId:e})=>e),i=o.filter(e=>!c.includes(e));return{input:{number:e.data.messages.length,messageTemplateIds:s,messageInstanceIds:o},output:{number:t.messages.length,messageTemplateIds:a,messageInstanceIds:c},delta:{number:t.messages.length-e.data.messages.length,messageTemplateIds:n,messageInstanceIds:i}}}),B=e=>t=>async s=>{t.request.logger.info("Started stage");let a=performance.now(),{stop:n}=t.request.metrics.histogram(w,M).measure(),o=e(t)(s);try{let e=await o;return t.request.metrics.counter(R,{status:"success"}).incr(),e}catch(e){throw t.request.metrics.counter(R,{status:"error"}).incr(),e}finally{n();let e=performance.now()-a;t.request.logger.info({latencyInMs:e},"Finished stage")}},L=({request:e})=>t=>{let s=Array.from(new Set(t.errors.map(e=>e.messageTemplateId)).values()),a=Array.from(new Set(t.data.messages.map(e=>e.messageTemplateId)).values()),n=t.data.messages.map(({messageTemplateId:e,messageInstanceId:t,messageCreationType:s,messageCategory:a,triggerId:n})=>({messageTemplateId:e,messageInstanceId:t,messageCreationType:s,messageCategory:a,triggerId:n})),o=t.errors.map(({messageTemplateId:e,messageInstanceId:t,reason:s})=>({messageTemplateId:e,messageInstanceId:t,reason:s}));e.logger.info({errors:{number:t.errors.length,messageTemplateIds:s,messageDetails:o},messages:{number:t.data.messages.length,messageTemplateIds:a,messageDetails:n}},"Runtime result")},D=e=>async t=>e?.(t)??t.data,P=e=>(t,s)=>{{let a=Object.fromEntries(s.messages.map(e=>[e.messageInstanceId,e]));return{messages:t.data.messages.map(t=>e(t,a?.[t.messageInstanceId]?.context))}}},G=e=>D(e),U=e=>async t=>{let s=await D(e)(t),a=t?.request?.orchestrationContext?.placementId??"no-placement-found";return P((e,t)=>({...e,enrichedAttributes:{"in-app":{[a]:t}}}))(t,s)},q=({transformMetadata:e,hydrate:t})=>({init:U(e),postInit:G(t)}),F={},H=({messageTemplates:e,...s})=>({messageTemplateId:a,messageInstanceId:n,messageCategory:o,children:c,...i})=>{let l=e?.[a],d={messageTemplateId:a,messageInstanceId:n,placementLevel:"Message",stageName:s?.stageName,placementId:s.placementId};try{if(!l)return console.warn(new f({...d,...s})),null;l.validate({messageTemplateId:a,children:c,...i});let{Component:e}=l,u=(0,t("4H1Ql").useStableObject)(i);return(0,r.jsxs)(t("jVzfH").MessageRendererProvider,{...u,messageTemplateId:a,messageInstanceId:n,messageCategory:o,isUFOEnabled:!1,componentProps:u,children:[(0,r.jsx)(t("crDNP").MessageViewed,{}),(0,r.jsx)(e,{...i,children:c})]})}catch(e){return console.error(x(e)),null}},W=e=>Object.entries(J(e)).reduce((t,[s,a])=>({...t,[s]:H({messageTemplates:a,stageName:s,placementId:e.placementId})}),{}),V=e=>{let t={};return Object.entries(F).forEach(([e,s])=>{t[e]={validate:O(),stage:s}}),{...t,...e()}},z=e=>t=>{let s=e(t),a={};return Object.entries(s).forEach(([e,t])=>{t||(a[e]=void 0),a[e]=X({stageName:e,stage:t})}),a},X=({stageName:e,stage:t})=>async s=>{let a=s.request.location.tag({placementLevel:"Placement",stageName:e});if(!t)return s.data;try{return N(t)({request:a,data:s.data})}catch(e){throw _(a)(e)}},K=e=>{let t={};return e.messageTemplates.forEach(([s,a])=>Object.entries(a).forEach(([a,n])=>{t[s]||(t[s]={}),t[s][a]=Z({stage:n,stageName:a,placementId:e.placementId})})),t},Z=e=>async t=>{let{message:s}=t,a=t.request.location.tag({placementLevel:"Message",messageTemplateId:s?.messageTemplateId,messageInstanceId:s?.messageInstanceId,triggerId:s?.triggerId,stageName:e?.stageName});try{let{validate:n,stage:o}=e.stage;n(t.message.context);let c=await j(o)({request:a,message:s});return{...s,context:c}}catch(e){throw E(a)(e)}},J=e=>{let t={};return e.messageTemplates.forEach(([e,s])=>{Object.entries(s).forEach(([s,a])=>{t[s]||(t[s]={}),t[s][e]=a})}),t},$=e=>t=>async s=>{let a=s.request.orchestrationContext.recipient?.userId&&s.request.statsig.checkGate({identifiers:{atlassianAccountId:s.request.orchestrationContext.recipient.userId}},"post-office-custom-headers-v2"),n=s.request.orchestrationContext.recipient?.userId&&s.request.statsig.checkGate({identifiers:{atlassianAccountId:s.request.orchestrationContext.recipient.userId}},"post-office-is-post-office-synthetic");return a&&!n&&s.koa.ctx.set(e),p(t)(s)},Y="private, max-age=300, stale-while-revalidate=600, stale-if-error=900",Q="private, max-age=120, stale-while-revalidate=300, stale-if-error=900";$({"cache-control":Y}),$({"cache-control":Y}),$({"cache-control":Y}),$({"cache-control":Q});let ee=$({"cache-control":Q});$({"cache-control":"private, max-age=600, stale-while-revalidate=900, stale-if-error=900"});let et="not-enrolled",es=new Set(["control",et]),ea=[{messageTemplateId:"rovo-extension-install-cta-left-nav",statsigExperiment:"rovo-ext_left_nav_rovo_extension_cta",statsigParameterName:"cohort",statsigTestCohortPredicate:e=>!es.has(e)}],{createFrontend:en,createBackend:eo}={createFrontend:(c=o={placementId:"confluence-side-nav",options:{choreographer:{isDefaultEnabled:!1}}},e=>({createFrontendStage:e=>e,createMessageFrontend:e=>t=>[t.messageTemplateId,e],createPlacementFrontendComponent:t=>{let s=W({...c,...t});return u(c.placementId,e(s),c.options)}})),createBackend:(i=o,e=>({createBackendStage:e=>e,createMessageBackend:e=>t=>{let s=V(e);return[t.messageTemplateId,s]},createPlacementBackend:t=>s=>{let a=e?.stages??q,n=i.placementId,o=z(a),c=K({...i,...t}),l=(e?.customMiddleware??p)({...i,...e?.params}),r=s({messagesStages:c,placementStages:o,placementId:n}),d=()=>{let e=t.messageTemplates.map(([e,t])=>({id:e,stages:Object.keys(t)}));return{placementId:i.placementId,messageTemplates:e}};return{middleware:async(t,s)=>{let a={ctx:t,next:s},n=t.state.requestContext.location.tag({placementId:i.placementId}),o=async t=>{let s=(t?.request??n).location.tag({placementLevel:"Runtime"});if(!s)throw new g({message:"request context not available at runtime call"});let o={koa:a,request:s},c={...e?.params,...t?.params};try{let e=await B(r)(o)(c);return L(o)(e),e}catch(e){throw C(o.request)(e)}};try{let e=n.location.tag({placementLevel:"Middleware"});await l({koa:a,postOffice:{messagesRuntime:o},request:e,placement:i})}catch(e){throw b(n)(e)}finally{t.header?.["x-include-request-metadata"]==="true"&&(t.body.requestMetadata={...d(),graph:n.location.getGraph()})}},config:{...t,...e,...i},describe:d}}}))},ec=eo(t("c6GJD").default.checkGate("po_enable_confluence-side-nav-implicit-only")?{customMiddleware:ee,params:{dataRetrivalType:"implicit-only"}}:{customMiddleware:ee}),ei=["CREATE_WITH_ROVO_NUDGE","CREATE_SPACE","CREATE_PAGE","CREATE_WHITEBOARD","1_ON_1_LOOM_NUDGE","LOOM_AI_MEETING_NOTES","RESURRECTED_USER_NUDGE","ROVO_EXTENSION_CTA"],el=(e=[])=>e.sort((e,t)=>ei.indexOf(e?.nextBestActionType)-ei.indexOf(t?.nextBestActionType)),er=en(e=>({preloadedInitialData:s,onDismiss:a,onSideNavClick:n,onCallback:o,currentRoute:c})=>{let[{messages:i,status:d},u]=(0,l.useState)(()=>s?s?.messages?.length>0?{status:"done",messages:el(s?.messages)}:{messages:void 0,status:"done"}:{messages:void 0,status:"loading"}),p=(0,t("8Hyz1").usePostOfficeSideNavMessages)(),m="done"===d,{data:g,error:f,isLoading:h}=(0,t("j0Fou").usePlacementApi)("/",{autoRefetch:{isEnabled:!m,updateKey:"confluence-side-nav"}}),x=(0,l.useCallback)(()=>{a({messages:[]}),u({messages:void 0,status:"done"})},[a]),E=(0,l.useCallback)(e=>{u(t=>{if(t.messages){let s=t.messages.slice(1);return n(e,{messages:s}),{messages:s,status:"done"}}return n(e,{messages:[]}),t})},[n]);(0,l.useEffect)(()=>{h||m||u({messages:el(g?.messages),status:"done"})},[h,m,g]);let v=(0,l.useMemo)(()=>{if(!i?.length)return;let e=i.filter(e=>e.explicitEnableRequired?p?.enabledMessages.includes(e.nextBestActionType):!("rovo-extension-install-cta-left-nav"===e.messageTemplateId&&c?.includes("/search")));if(t("c6GJD").default.checkGate("po_enable_confluence-side-nav-exp-messages"))for(let s of e){let e=ea.find(e=>e.messageTemplateId===s.messageTemplateId);if(!e)return{message:s};let a=t("c6GJD").default.getExperimentValue(e.statsigExperiment,e.statsigParameterName,et);if(e.statsigTestCohortPredicate(a))return{message:s,experimentCohort:a}}return e[0]?{message:e[0]}:void 0},[i,p,c]);if(f||"loading"===d||!v)return null;let{message:_,experimentCohort:T}=v;return(0,r.jsx)("div",{className:(0,t("gMc0m").default)(["_18s8utpp _1e0c1txw"]),children:(0,r.jsx)(e.render,{..._,experimentCohort:T,onSideNavClick:E,handleOnDismissed:x,onCallback:o})})});t("42omo");let ed=({whyAmISeeingThisModalContent:e,handleOnDismissed:s})=>(0,r.jsx)("div",{className:(0,t("gMc0m").default)(["_1yt4mkb0 _kqswstnw _1e0c1txw _154iidpf _1xi2idpf"]),children:(0,r.jsx)(t("j01vW").AdControls,{iconSize:"small",showWhyAmISeeingThis:!0,whyAmISeeingThisModalContent:e,onDismissed:s})}),eu=({ctaText:e,onCTAClick:s,pressableStyle:a})=>(0,r.jsx)(t("2W0qg").default,{onClick:s,xcss:a,children:e});var ep=t("gVWoV"),em=t("jVJ5P");let eg=(e,t)=>{let{messageClicked:s,messageDismissed:a}=(0,em.useMessageEvent)(),{messageInstanceClicked:n}=(0,ep.useMessageInstanceEvent)();return{handleClick:(0,l.useCallback)(o=>{s().catch(()=>{}),n({messageEventType:"clicked",clickedElement:t,action:{actionType:"acknowledge"},additionalMetadataFromFrontend:{}}).catch(()=>{}),e(o),(t.clickIdentifier.includes("CREATE_WHITEBOARD")||t.clickIdentifier.includes("CREATE_PAGE"))&&a().catch(()=>{})},[t,s,n,e])}},ef=(0,t("ecnYn").xcss)({display:"flex",width:"120px",paddingLeft:"0",paddingRight:"0",whiteSpace:"nowrap",color:"color.link",backgroundColor:"color.background.accent.blue.subtlest",":hover":{textDecoration:"underline"}}),eh=({ctaMessage:e,onCTAClick:t,nextBestActionType:s})=>{let{handleClick:a}=eg(t,(0,l.useMemo)(()=>({clickIdentifier:`next-best-action-message-${s}`,clickedElement:"link"}),[s]));return(0,r.jsx)(eu,{ctaText:e,onCTAClick:a,pressableStyle:ef})},ex={confluenceNbaMessage:"_2rko1mok _1e0c1txw _kqswh2mm _4cvr1h6o _bfhk1s93 _1bsb1osq _ca0qutpp _u5f3utpp _19bvutpp _n3td12x7 _1ubta3nm _d0altlke"},eE=({header:e,ctaMessage:s,onMessageClick:a,nextBestActionType:n})=>(0,r.jsxs)("div",{className:(0,t("gMc0m").default)(["_1e0c1txw _2lx21bp4 _18u01ylp _19bvu2gc _2hwxzwfg _1bsb1osq"]),children:[(0,r.jsx)("div",{role:"presentation",className:(0,t("gMc0m").default)(["_11c8140y _1bsb1osq _n3tdu2gc"]),children:e}),(0,r.jsx)(eh,{ctaMessage:s,onCTAClick:a,nextBestActionType:n})]}),ev={title:(0,r.jsx)(t("gtD4K").default,{id:"post-office.ad-controls.next-best-action-title.why-am-i-seeing-this",defaultMessage:"Why am I seeing this?"}),message:(0,r.jsx)("p",{children:(0,r.jsx)(t("gtD4K").default,{id:"post-office.ad-controls.next-best-action-message.recommendation-basis",defaultMessage:"This recommendation is based on:"})}),reasons:[(0,r.jsx)(t("gtD4K").default,{id:"post-office.ad-controls.next-best-action-reason.actions-done-so-far",defaultMessage:"What you’ve done so far in the product"}),(0,r.jsx)(t("gtD4K").default,{id:"post-office.ad-controls.next-best-action-reason.suggestions",defaultMessage:"What we suggest to help you get the most value from Atlassian"})]},e_=({icon:e,header:s,ctaMessage:a,onMessageClick:n,handleOnDismissed:o,nextBestActionType:c})=>{let{messageInstanceId:i}=(0,t("3Shv6").useMessageContext)();if(!i)throw Error("messageInstanceId is required");let{handleClick:d}=eg(n,(0,l.useMemo)(()=>({clickIdentifier:`next-best-action-message-${c}`,clickedElement:"link"}),[c])),u=e=>{let t=e.currentTarget,s=e.target;for(;s.parentNode;){if("button"===s.tagName.toLowerCase()||"a"===s.tagName.toLowerCase()||"html"===s.tagName.toLowerCase())return;if(s===t)return void d(e);s=s.parentNode}};return t("c6GJD").default.checkGate("custom-interactive-elements-not-keyboard-focusable")?(0,r.jsxs)(t("fVUfS").default,{testId:"confluence-next-best-action-message",xcss:ex.confluenceNbaMessage,onClick:u,children:[(0,r.jsx)("div",{className:(0,t("gMc0m").default)(["_1e0c1txw _kqswstnw _154i1crf _1bsb1ylp _4t3i1ylp"]),children:e}),(0,r.jsx)(eE,{header:s,ctaMessage:a,onMessageClick:n,nextBestActionType:c}),(0,r.jsx)(ed,{whyAmISeeingThisModalContent:ev,handleOnDismissed:o})]}):(0,r.jsxs)("div",{"data-testid":"confluence-next-best-action-message",onClick:u,className:(0,t("gMc0m").default)(["_2rko1mok _1yt41jtk _1e0c1txw _kqswh2mm _4cvr1h6o _bfhk1s93 _1bsb1osq _1ubta3nm _d0altlke"]),children:[(0,r.jsx)("div",{className:(0,t("gMc0m").default)(["_1e0c1txw _kqswstnw _154i1crf _1bsb1ylp _4t3i1ylp"]),children:e}),(0,r.jsx)(eE,{header:s,ctaMessage:a,onMessageClick:n,nextBestActionType:c}),(0,r.jsx)(ed,{whyAmISeeingThisModalContent:ev,handleOnDismissed:o})]})},eT=()=>(0,r.jsx)("div",{children:(0,r.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M33.2748 18.1208H12.979V28.0375H33.2748V18.1208Z",fill:"#BF63F3"}),(0,r.jsx)("path",{d:"M26.9667 11.9624H6.6709V21.8791H26.9667V11.9624Z",fill:"#FCA700"}),(0,r.jsx)("path",{d:"M26.9665 18.1208H12.979V21.8792H26.9665V18.1208Z",fill:"#AE2A19"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.0125 21.7042L27.6416 26.075L25.3833 23.7542L26.3583 22.8084L27.6583 24.1417L31.0541 20.7458L32.0166 21.7083L32.0125 21.7042Z",fill:"white"})]})}),eC=({onSideNavClick:e,handleOnDismissed:s})=>{let a=(0,t("8C5kA").default)(),n=a.formatMessage({id:"post-office.confluence-side-nav.next-best-action.craete-space-header",defaultMessage:"Centralize your team's projects, and docs."}),o=a.formatMessage({id:"post-office.confluence-side-nav.next-best-action.create-space-cta-message",defaultMessage:"Create space"}),c=(0,l.useCallback)(()=>{e("CREATE_SPACE")},[e]);return(0,r.jsx)(e_,{icon:(0,r.jsx)(eT,{}),header:n,ctaMessage:o,onMessageClick:c,handleOnDismissed:s,nextBestActionType:"CREATE_SPACE"})},ey=()=>(0,r.jsx)("div",{children:(0,r.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.0876 12.9458H10.0293V30H27.0835V12.9458H27.0876ZM13.6876 18.4291H23.4335V16.6H13.6876V18.4291ZM13.6876 22.3875H23.4335V20.5583H13.6876V22.3875ZM19.7793 26.3458H13.6876V24.5166H19.7793V26.3458Z",fill:"#BF63F3"}),(0,r.jsx)("path",{d:"M23.7292 18.954L20 19.9999L21.0458 16.2707L30.3458 6.9707L33.0292 9.65404L23.7292 18.954Z",fill:"#1868DB"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.3708 12.9458L21.0458 16.2708L20.9542 16.6H23.4333V18.4291H20.4417L20 20L23.7292 18.9541L27.0875 15.5958V12.9458H24.3708Z",fill:"#09326C"})]})}),eb=({onSideNavClick:e,handleOnDismissed:s})=>{let a=(0,t("8C5kA").default)(),n=a.formatMessage({id:"post-office.confluence-side-nav.next-best-action.create-page-header",defaultMessage:"Plan projects, take notes, and track tasks."}),o=a.formatMessage({id:"post-office.confluence-side-nav.next-best-action.create-page-cta-message",defaultMessage:"Create page"}),c=(0,l.useCallback)(()=>{e("CREATE_PAGE")},[e]);return(0,r.jsx)(e_,{icon:(0,r.jsx)(ey,{}),header:n,ctaMessage:o,onMessageClick:c,handleOnDismissed:s,nextBestActionType:"CREATE_PAGE"})},eA=()=>(0,r.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M25.4297 21.0963C25.4963 20.7255 25.5297 20.3255 25.5297 19.9088C25.5297 19.4922 25.4963 19.0838 25.4255 18.7047C25.0213 16.4588 23.463 15.0755 21.2713 14.7172C20.8963 14.6547 20.5047 14.6255 20.1005 14.6255C19.6963 14.6255 19.2672 14.6588 18.8797 14.7255C16.6922 15.0922 15.1338 16.4713 14.7297 18.7047C14.663 19.0838 14.6255 19.4838 14.6255 19.9088C14.6255 20.3338 14.6588 20.7255 14.7255 21.0963C15.1255 23.3255 16.6838 24.7088 18.8797 25.0755C19.2672 25.1422 19.6755 25.1755 20.1005 25.1755C20.5255 25.1755 20.9005 25.1463 21.2713 25.0838C23.463 24.7255 25.0255 23.3422 25.4255 21.0963H25.4297Z",fill:"#FCA700"}),(0,r.jsx)("path",{d:"M7.37109 19.317L13.8711 8.17529L20.3711 19.317H7.37109Z",fill:"#BF63F3"}),(0,r.jsx)("path",{d:"M17.846 14.9922C16.2043 15.5672 15.0627 16.838 14.7293 18.7047C14.6918 18.9047 14.6668 19.1047 14.646 19.3172H20.3668L17.846 14.9922Z",fill:"#AE2A19"}),(0,r.jsx)("path",{d:"M29.917 20.8838H20.7837V30.0171H29.917V20.8838Z",fill:"#82B536"}),(0,r.jsx)("path",{d:"M20.7837 20.8877V25.146C20.9504 25.1294 21.1129 25.1085 21.2754 25.0835C23.467 24.7294 25.0254 23.3419 25.4295 21.096C25.442 21.0294 25.4545 20.9585 25.4629 20.8877H20.7837Z",fill:"#AE2A19"})]}),eI=({onSideNavClick:e,handleOnDismissed:s})=>{let a=(0,t("8C5kA").default)(),n=a.formatMessage({id:"post-office.confluence-side-nav.next-best-action.create-whiteboard-header",defaultMessage:"Dream up new ideas, and visualize your work."}),o=a.formatMessage({id:"post-office.confluence-side-nav.next-best-action.create-whiteboard-cta-message",defaultMessage:"Create whiteboard"}),c=(0,l.useCallback)(()=>{e("CREATE_WHITEBOARD")},[e]);return(0,r.jsx)(e_,{icon:(0,r.jsx)(eA,{}),header:n,ctaMessage:o,onMessageClick:c,handleOnDismissed:s,nextBestActionType:"CREATE_WHITEBOARD"})};class ek extends Error{constructor(e,t,s,a){super(t?`Error on ${e}(): invalid type on ${t}, expect to be ${s}`:`Error on ${e}(): invalid type, expect to be ${s}`),this.method=e,this.path=t,this.expected=s,this.value=a}}function eO(e){let t=function(e){let t=[];if("object"!=typeof e||null===e||Array.isArray(e))t.push({path:"value",expected:"MessageTemplateContext",value:e});else if("nextBestActionType"in e){let s=!1;{let t=[];"CREATE_SPACE"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"CREATE_SPACE",value:e.nextBestActionType}),0===t.length&&(s=!0)}if(!s){let t=[];"CREATE_PAGE"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"CREATE_PAGE",value:e.nextBestActionType}),0===t.length&&(s=!0)}if(!s){let t=[];"CREATE_WHITEBOARD"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"CREATE_WHITEBOARD",value:e.nextBestActionType}),0===t.length&&(s=!0)}if(!s){let t=[];"1_ON_1_LOOM_NUDGE"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"1_ON_1_LOOM_NUDGE",value:e.nextBestActionType}),0===t.length&&(s=!0)}if(!s){let t=[];"LOOM_AI_MEETING_NOTES"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"LOOM_AI_MEETING_NOTES",value:e.nextBestActionType}),0===t.length&&(s=!0)}if(!s){let t=[];"RESURRECTED_USER_NUDGE"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"RESURRECTED_USER_NUDGE",value:e.nextBestActionType}),0===t.length&&(s=!0)}if(!s){let t=[];"CREATE_WITH_ROVO_NUDGE"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"CREATE_WITH_ROVO_NUDGE",value:e.nextBestActionType}),0===t.length&&(s=!0)}if(!s){let t=[];"ROVO_EXTENSION_CTA"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"ROVO_EXTENSION_CTA",value:e.nextBestActionType}),0===t.length&&(s=!0)}s||t.push({path:'value["nextBestActionType"]',expected:'"CREATE_SPACE" | "CREATE_PAGE" | "CREATE_WHITEBOARD" | "1_ON_1_LOOM_NUDGE" | "LOOM_AI_MEETING_NOTES" | "RESURRECTED_USER_NUDGE" | "CREATE_WITH_ROVO_NUDGE" | "ROVO_EXTENSION_CTA"',value:e.nextBestActionType})}else t.push({path:'value["nextBestActionType"]',expected:'"CREATE_SPACE" | "CREATE_PAGE" | "CREATE_WHITEBOARD" | "1_ON_1_LOOM_NUDGE" | "LOOM_AI_MEETING_NOTES" | "RESURRECTED_USER_NUDGE" | "CREATE_WITH_ROVO_NUDGE" | "ROVO_EXTENSION_CTA"',value:void 0});return 0===t.length?{success:!0,data:e}:{success:!1,data:e,errors:t}}(e);if(!t.success){let e=t.errors[0];throw new ek("assert",e.path,e.expected,e.value)}return t.data}let eM=ec.createMessageBackend(()=>({transformMetadata:{validate:eO,stage:({message:e})=>({goalMetadata:{primaryGoal:{goalId:"clickthrough"}},nextBestAction:e.context.nextBestActionType})}})),ew=er.createMessageFrontend({render:{validate:eO,Component:({nextBestActionType:e,onSideNavClick:t,handleOnDismissed:s})=>{switch(e){case"CREATE_SPACE":return(0,r.jsx)(eC,{onSideNavClick:t,handleOnDismissed:s});case"CREATE_PAGE":return(0,r.jsx)(eb,{onSideNavClick:t,handleOnDismissed:s});case"CREATE_WHITEBOARD":return(0,r.jsx)(eI,{onSideNavClick:t,handleOnDismissed:s});default:return(0,r.jsx)(r.Fragment,{})}}}});var eR={};eR=new URL("heart.91f6fb22.svg",import.meta.url).toString();let eS=({onSideNavClick:s,handleOnDismissed:a,nextBestActionType:n})=>{let o=(0,t("8C5kA").default)(),c=o.formatMessage({id:"post-office.confluence-resurrected-user-welcome-back.next-best-action.header",defaultMessage:"Welcome back"}),i=o.formatMessage({id:"post-office.confluence-resurrected-user-welcome-back.body",defaultMessage:"Catch up on the top discussions and highlights from your team."}),d=o.formatMessage({id:"post-office.confluence-resurrected-user-welcome-back.cta",defaultMessage:"See what's popular"}),u=o.formatMessage({id:"post-office.confluence-resurrected-user-welcome-back.close",defaultMessage:"Close"}),p=o.formatMessage({id:"post-office.confluence-resurrected-user-welcome-back.image-alt",defaultMessage:"Two hearts overlapped with each other"}),{messageInstanceClicked:m,messageInstanceViewed:g}=(0,ep.useMessageInstanceEvent)(),{fireAnalyticsEvent:f}=(0,t("7XIdu").useFirePostOfficeAnalyticsEvents)();return(0,l.useEffect)(()=>{g&&(g(),f({eventType:"screen",name:"confluenceResurrectedUserWelcomeSidebarNudge"}))},[]),(0,r.jsx)(t("bYRk6").default,{data:{source:"confluence-resurrected-user-welcome-back-message"},children:(0,r.jsx)(t("1s5hv").default,{xcss:"_2rko12b0 _189ee4h9 _1h6d1l7x _1dqonqa1 _1rjcutpp _kqswh2mm _16jlkb7n _bfhk1s93 _y4tiutpp _bozg12x7",testId:"confluence-resurrected-user-welcome-back-message",children:(0,r.jsxs)(t("u9agA").default,{xcss:"_1bsb1osq",shouldWrap:!1,space:"space.100",children:[(0,r.jsx)(t("gj7hi").default,{src:e(eR),alt:p}),(0,r.jsxs)(t("eyWa4").default,{alignInline:"start",grow:"fill",space:"space.100",children:[(0,r.jsxs)(t("u9agA").default,{xcss:"_1bah1yb4 _4cvr1y6m _1bsb1osq",children:[(0,r.jsx)(t("u9agA").default,{shouldWrap:!1,alignBlock:"center",grow:"fill",spread:"space-between",children:(0,r.jsx)(t("7hXDW").default,{size:"xsmall",children:c})}),(0,r.jsx)(t("1qfLF").default,{icon:e(t("hmuev")),appearance:"subtle",label:u,isTooltipDisabled:!1,onClick:()=>{m({messageEventType:"clicked",clickedElement:{clickIdentifier:"resurrected-user-welcome-back-dismiss",clickedElement:"button",buttonType:"secondary"},action:{actionType:"dismiss"},additionalMetadataFromFrontend:{}}),f({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:"resurrectedUserWelcomeBackDismiss"}),a()},spacing:"compact"})]}),(0,r.jsx)(t("iXCQx").default,{size:"small",children:i}),(0,r.jsx)(t("fVUfS").default,{xcss:"_ca0qidpf _u5f3idpf _n3tdidpf _19bvidpf _syaz12zz _k48p1wq8 _80omtlke _bfhk1j28 _9oik1r31 _1bnx8stv _jf4cnqa1 _9h8h12zz",testId:"cta-link",onClick:()=>{m({messageEventType:"clicked",clickedElement:{clickIdentifier:"resurrected-user-welcome-back-cta",clickedElement:"button",buttonType:"primary"},action:{actionType:"open"},additionalMetadataFromFrontend:{}}),f({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:"resurrectedUserWelcomeBackCta"}),s(n)},children:d})]})]})})})},ej=ec.createMessageBackend(k),eN=er.createMessageFrontend({render:{validate:function(e){let t=function(e){let t=[];return("object"!=typeof e||null===e||Array.isArray(e)?t.push({path:"value",expected:"MessageTemplateContext",value:e}):"nextBestActionType"in e?"RESURRECTED_USER_NUDGE"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"RESURRECTED_USER_NUDGE",value:e.nextBestActionType}):t.push({path:'value["nextBestActionType"]',expected:'"RESURRECTED_USER_NUDGE"',value:void 0}),0===t.length)?{success:!0,data:e}:{success:!1,data:e,errors:t}}(e);if(!t.success){let e=t.errors[0];throw new ek("assert",e.path,e.expected,e.value)}return t.data},Component:({nextBestActionType:e,onSideNavClick:t,handleOnDismissed:s})=>(0,r.jsx)(eS,{onSideNavClick:t,handleOnDismissed:s,nextBestActionType:e})}});t("42omo");var eB={};eB=new URL("notes.c9738615.png",import.meta.url).toString();let eL=ec.createMessageBackend(k),eD={title:(0,r.jsx)(t("gtD4K").default,{id:"post-office.confluence-side-nav.next-best-action.1-on-1-loom-nudge.ad-controls.why-am-i-seeing-this",defaultMessage:"Why am I seeing this?"}),message:(0,r.jsx)("p",{children:(0,r.jsx)(t("gtD4K").default,{id:"post-office.confluence-side-nav.next-best-action.1-on-1-loom-nudge.ad-controls.recommendation-basis",defaultMessage:"This recommendation is based on:"})}),reasons:[(0,r.jsx)(t("gtD4K").default,{id:"post-office.confluence-side-nav.next-best-action.1-on-1-loom-nudge.ad-controls.actions-done-so-far",defaultMessage:"What you’ve done so far in the product"}),(0,r.jsx)(t("gtD4K").default,{id:"post-office.confluence-side-nav.next-best-action.1-on-1-loom-nudge.ad-controls.suggestions",defaultMessage:"What we suggest to help you get the most value from Atlassian"})]},eP=er.createMessageFrontend({render:{validate:function(e){let t=function(e){let t=[];return("object"!=typeof e||null===e||Array.isArray(e)?t.push({path:"value",expected:"MessageTemplateContext",value:e}):("nextBestActionType"in e?"1_ON_1_LOOM_NUDGE"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"1_ON_1_LOOM_NUDGE",value:e.nextBestActionType}):t.push({path:'value["nextBestActionType"]',expected:'"1_ON_1_LOOM_NUDGE"',value:void 0}),"explicitEnableRequired"in e?!0!==e.explicitEnableRequired&&t.push({path:'value["explicitEnableRequired"]',expected:!0,value:e.explicitEnableRequired}):t.push({path:'value["explicitEnableRequired"]',expected:"true",value:void 0})),0===t.length)?{success:!0,data:e}:{success:!1,data:e,errors:t}}(e);if(!t.success){let e=t.errors[0];throw new ek("assert",e.path,e.expected,e.value)}return t.data},Component:({nextBestActionType:s,handleOnDismissed:a,onSideNavClick:n})=>{let{messageInstanceClicked:o}=(0,ep.useMessageInstanceEvent)(),{messageDismissed:c}=(0,em.useMessageEvent)(),i=(0,t("8C5kA").default)(),l=i.formatMessage({id:"post-office.confluence-side-nav.next-best-action.1-on-1-loom-nudge.header",defaultMessage:"Automate meeting notes"}),d=i.formatMessage({id:"post-office.confluence-side-nav.next-best-action.1-on-1-loom-nudge.body",defaultMessage:"Instead of manually typing meeting notes, why not try Loom to record meetings?"}),u=i.formatMessage({id:"post-office.confluence-side-nav.next-best-action.1-on-1-loom-nudge.cta",defaultMessage:"Try now"}),p=i.formatMessage({id:"post-office.confluence-side-nav.next-best-action.1-on-1-loom-nudge.close",defaultMessage:"Close"}),m=i.formatMessage({id:"post-office.confluence-side-nav.next-best-action.1-on-1-loom-nudge.image-alt",defaultMessage:"Notepad with sparkling background"});return(0,r.jsx)(t("bYRk6").default,{data:{source:"confluence-side-nav-1-on-1-loom-nudge-message"},children:(0,r.jsxs)("div",{className:(0,t("gMc0m").default)(["_2rko1mok _1yt4utpp _bfhkhfxm _1bsb1osq"]),children:[(0,r.jsxs)(t("u9agA").default,{spread:"space-between",children:[(0,r.jsx)(t("gj7hi").default,{src:e(eB),alt:m,height:"56",width:"56"}),(0,r.jsxs)(t("u9agA").default,{children:[(0,r.jsx)(t("j01vW").AdControls,{iconSize:"small",showWhyAmISeeingThis:!0,whyAmISeeingThisModalContent:eD,onDismissed:()=>{o({messageEventType:"clicked",clickedElement:{clickIdentifier:"dismiss",clickedElement:"button",buttonType:"secondary"},action:{actionType:"dismiss"},additionalMetadataFromFrontend:{}}),c(),a()}}),(0,r.jsx)(t("1qfLF").default,{onClick:()=>{o({messageEventType:"clicked",clickedElement:{clickIdentifier:"1on1-loom-close",clickedElement:"button",buttonType:"secondary"},action:{actionType:"dismiss"},additionalMetadataFromFrontend:{}}),c(),n(s)},appearance:"subtle",icon:e(t("hmuev")),label:p})]})]}),(0,r.jsx)(t("7hXDW").default,{size:"small",children:l}),(0,r.jsx)("div",{className:(0,t("gMc0m").default)(["_19pku2gc"]),children:d}),(0,r.jsx)("div",{className:(0,t("gMc0m").default)(["_19pkutpp"]),children:(0,r.jsx)(t("7p4As").default,{onClick:()=>{o({messageEventType:"clicked",clickedElement:{clickIdentifier:"1on1-loom-cta",clickedElement:"button",buttonType:"primary"},action:{actionType:"open"},additionalMetadataFromFrontend:{}}),c(),n(s)},href:"https://www.loom.com/welcome",spacing:"compact",target:"_blank",children:u})})]})})}}});function eG(e){let t=function(e){let t=[];return("object"!=typeof e||null===e||Array.isArray(e)?t.push({path:"value",expected:"MessageTemplateContext",value:e}):("testProp"in e?"string"!=typeof e.testProp&&t.push({path:'value["testProp"]',expected:"string",value:e.testProp}):t.push({path:'value["testProp"]',expected:"string",value:void 0}),"testObjProp"in e?"object"!=typeof e.testObjProp||null===e.testObjProp||Array.isArray(e.testObjProp)?t.push({path:'value["testObjProp"]',expected:"object",value:e.testObjProp}):"testObjPropKey"in e.testObjProp?"string"!=typeof e.testObjProp.testObjPropKey&&t.push({path:'value["testObjProp"]["testObjPropKey"]',expected:"string",value:e.testObjProp.testObjPropKey}):t.push({path:'value["testObjProp"]["testObjPropKey"]',expected:"string",value:void 0}):t.push({path:'value["testObjProp"]',expected:"object",value:void 0}),"testArrayProp"in e?(Array.isArray(e.testArrayProp)||t.push({path:'value["testArrayProp"]',expected:"array",value:e.testArrayProp}),Array.isArray(e.testArrayProp)&&e.testArrayProp.forEach((e,s)=>{"number"!=typeof e&&t.push({path:"element",expected:"number",value:e})})):t.push({path:'value["testArrayProp"]',expected:"number[]",value:void 0})),0===t.length)?{success:!0,data:e}:{success:!1,data:e,errors:t}}(e);if(!t.success){let e=t.errors[0];throw new ek("assert",e.path,e.expected,e.value)}return t.data}let eU=ec.createMessageBackend(()=>({transformMetadata:{validate:eG,stage:()=>({goalMetadata:{primaryGoal:{goalId:"clickthrough"}}})},hydrate:{validate:eG,stage:({message:e})=>(e.context.testProp=`Hello ${e.context.testProp} !`,Promise.resolve(e.context))}})),eq=er.createMessageFrontend({render:{validate:eG,Component:()=>(0,r.jsx)(r.Fragment,{})}});var eF={};eF=new URL("ai-notes-icon.f866806e.svg",import.meta.url).toString();var eH=t("2YerA"),eW=t("49sr4");let eV={journey:eH.Journeys.GET_STARTED,sourceComponent:"confluenceLoomSideNavBanner",sourceContext:"confluenceLoomSideNavBannerLearnMore",targetProduct:eW.Targets.LOOM,v1:!0},ez=({pollForProvisioningSuccess:e})=>{let s=(0,l.useRef)(null),a=(0,l.useRef)(!1),{isSiteAdmin:n}=(0,t("PAiZW").usePostOfficeContext)(),[o,c]=(0,l.useState)(!1),i=(0,eH.useCrossFlow)(),r=(0,l.useCallback)(()=>{i.isEnabled&&null===s.current&&(c(!0),s.current=i.apiV1.open(eV).then(async t=>(t.success&&n&&await e(),t)).finally(()=>{s.current=null,a.current||c(!1)}))},[i,e,n]);return(0,l.useEffect)(()=>()=>{a.current=!0},[]),{openCrossFlow:r,isLoading:o}},eX={title:(0,r.jsx)(t("gtD4K").default,{id:"post-office.confluence-side-nav.next-best-action.loom-ai-meeting-notes-in-confluence.reasons-modal-title",defaultMessage:"Why am I seeing this?"}),message:(0,r.jsx)("p",{children:(0,r.jsx)(t("gtD4K").default,{id:"post-office.confluence-side-nav.next-best-action.loom-ai-meeting-notes-in-confluence.reasons-modal-explanation",defaultMessage:"We think that Loom will improve your team's productivity. The recommendation is based on:"})}),reasons:[(0,r.jsx)(t("gtD4K").default,{id:"post-office.confluence-side-nav.next-best-action.loom-ai-meeting-notes-in-confluence.reasons-modal-bullet-one",defaultMessage:"the size of your team"}),(0,r.jsx)(t("gtD4K").default,{id:"post-office.confluence-side-nav.next-best-action.loom-ai-meeting-notes-in-confluence.reasons-modal-bullet-two",defaultMessage:"your existing Atlassian products"}),(0,r.jsx)(t("gtD4K").default,{id:"post-office.confluence-side-nav.next-best-action.loom-ai-meeting-notes-in-confluence.reasons-modal-bullet-three",defaultMessage:"usage of a meeting notes template in Confluence"})]},eK=({onSideNavClick:s,onCallback:a})=>{let n=(0,t("8C5kA").default)(),o=n.formatMessage({id:"post-office.confluence-side-nav.next-best-action.loom-ai-meeting-notes-in-confluence.header",defaultMessage:"Automate your meeting notes"}),c=n.formatMessage({id:"post-office.confluence-side-nav.next-best-action.loom-ai-meeting-notes-in-confluence.body",defaultMessage:"Let Loom capture meeting notes, so you can get notes and action items instantly. "}),i=n.formatMessage({id:"post-office.confluence-side-nav.next-best-action.loom-ai-meeting-notes-in-confluence.cta",defaultMessage:"Try it free"}),d=n.formatMessage({id:"post-office.confluence-side-nav.next-best-action.loom-ai-meeting-notes-in-confluence.image-alt",defaultMessage:"Notepad with sparkling background"}),{messageInstanceClicked:u}=(0,ep.useMessageInstanceEvent)(),{openCrossFlow:p,isLoading:m}=ez({pollForProvisioningSuccess:()=>a("LOOM_AI_MEETING_NOTES")}),{fireInteractedUIEvent:g,fireViewedUIEvent:f}=(0,t("lfQiY").useFireCrossFlowAnalyticsEvents)(),h=(0,l.useMemo)(()=>"control"!==t("c6GJD").default.getExperimentValue("loom_ai_meeting_notes_in_confluence_experiment","cohort","control",{fireExperimentExposure:!0}),[]);(0,l.useEffect)(()=>{h&&f({action:"viewed",actionSubject:"card",actionSubjectId:"confluenceLoomSideNavBanner"},{source:"confluenceLoomSideNavBannerCard",recommendedProductIds:["loom"]})},[f,h]);let x=(0,l.useCallback)(()=>{u({messageEventType:"clicked",clickedElement:{clickIdentifier:"dismiss",clickedElement:"button",buttonType:"secondary"},action:{actionType:"dismiss"},additionalMetadataFromFrontend:{}}),s("LOOM_AI_MEETING_NOTES")},[u,s]),E=(0,l.useCallback)(()=>{s("LOOM_AI_MEETING_NOTES")},[s]),v=(0,l.useCallback)(()=>{p(),g({action:"clicked",actionSubject:"button",actionSubjectId:"confluenceLoomSideNavBannerLearnMore"},{source:"confluenceLoomSideNavBannerCard",targetProductId:"loom"}),u({messageEventType:"clicked",clickedElement:{clickIdentifier:"dismiss",clickedElement:"button",buttonType:"primary"},action:{actionType:"open"},additionalMetadataFromFrontend:{}}),s("LOOM_AI_MEETING_NOTES")},[u,g,p,s]);return h?(0,r.jsxs)(t("bUlM5").default,{direction:"column",xcss:(0,t("ecnYn").xcss)({borderRadius:"radius.large",backgroundColor:"color.background.accent.blue.subtlest",padding:"space.150",boxShadow:"elevation.shadow.raised"}),children:[(0,r.jsxs)(t("dcJ7R").default,{xcss:(0,t("ecnYn").xcss)({justifyContent:"space-between"}),children:[(0,r.jsx)("img",{src:e(eF),alt:d,role:"presentation",width:56,height:56}),(0,r.jsx)(t("j01vW").AdControls,{showWhyAmISeeingThis:!0,showRemindMeLater:!0,whyAmISeeingThisModalContent:eX,onDismissed:x,onRemindMeLater:E,additionalAnalyticsAttributes:{source:"confluenceLoomSideNavBannerCard"}})]}),(0,r.jsxs)(t("1GzhS").default,{alignBlock:"center",space:"space.150",children:[(0,r.jsxs)(t("1GzhS").default,{space:"space.100",children:[(0,r.jsx)(t("7hXDW").default,{size:"small",children:o}),(0,r.jsx)(t("5dK2X").default,{children:c})]}),(0,r.jsx)(t("2W0qg").default,{isDisabled:m,onClick:v,xcss:(0,t("ecnYn").xcss)({backgroundColor:"color.background.neutral.subtle",border:"1px solid",borderColor:"color.border",borderRadius:"var(--ds-radius-small, 4px)",minHeight:"space.300",width:"fit-content",paddingInline:"space.150"}),children:(0,r.jsx)(t("5dK2X").default,{size:"medium",weight:"medium",children:i})})]})]}):(s("LOOM_AI_MEETING_NOTES"),null)},eZ=ec.createMessageBackend(k),eJ=er.createMessageFrontend({render:{validate:function(e){let t=function(e){let t=[];if("object"!=typeof e||null===e||Array.isArray(e))t.push({path:"value",expected:"RequiredClientContext",value:e});else{if("nextBestActionType"in e){let s=!1;{let t=[];"CREATE_SPACE"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"CREATE_SPACE",value:e.nextBestActionType}),0===t.length&&(s=!0)}if(!s){let t=[];"CREATE_PAGE"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"CREATE_PAGE",value:e.nextBestActionType}),0===t.length&&(s=!0)}if(!s){let t=[];"CREATE_WHITEBOARD"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"CREATE_WHITEBOARD",value:e.nextBestActionType}),0===t.length&&(s=!0)}if(!s){let t=[];"1_ON_1_LOOM_NUDGE"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"1_ON_1_LOOM_NUDGE",value:e.nextBestActionType}),0===t.length&&(s=!0)}if(!s){let t=[];"LOOM_AI_MEETING_NOTES"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"LOOM_AI_MEETING_NOTES",value:e.nextBestActionType}),0===t.length&&(s=!0)}if(!s){let t=[];"RESURRECTED_USER_NUDGE"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"RESURRECTED_USER_NUDGE",value:e.nextBestActionType}),0===t.length&&(s=!0)}if(!s){let t=[];"CREATE_WITH_ROVO_NUDGE"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"CREATE_WITH_ROVO_NUDGE",value:e.nextBestActionType}),0===t.length&&(s=!0)}if(!s){let t=[];"ROVO_EXTENSION_CTA"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"ROVO_EXTENSION_CTA",value:e.nextBestActionType}),0===t.length&&(s=!0)}s||t.push({path:'value["nextBestActionType"]',expected:'"CREATE_SPACE" | "CREATE_PAGE" | "CREATE_WHITEBOARD" | "1_ON_1_LOOM_NUDGE" | "LOOM_AI_MEETING_NOTES" | "RESURRECTED_USER_NUDGE" | "CREATE_WITH_ROVO_NUDGE" | "ROVO_EXTENSION_CTA"',value:e.nextBestActionType})}else t.push({path:'value["nextBestActionType"]',expected:'"CREATE_SPACE" | "CREATE_PAGE" | "CREATE_WHITEBOARD" | "1_ON_1_LOOM_NUDGE" | "LOOM_AI_MEETING_NOTES" | "RESURRECTED_USER_NUDGE" | "CREATE_WITH_ROVO_NUDGE" | "ROVO_EXTENSION_CTA"',value:void 0});"explicitEnableRequired"in e?!0!==e.explicitEnableRequired&&t.push({path:'value["explicitEnableRequired"]',expected:!0,value:e.explicitEnableRequired}):t.push({path:'value["explicitEnableRequired"]',expected:"true",value:void 0})}return 0===t.length?{success:!0,data:e}:{success:!1,data:e,errors:t}}(e);if(!t.success){let e=t.errors[0];throw new ek("assert",e.path,e.expected,e.value)}return t.data},Component:({onSideNavClick:e,onCallback:t})=>(0,r.jsx)(eK,{onSideNavClick:e,onCallback:t})}}),e$=()=>(0,r.jsxs)("svg",{role:"img",width:"80",height:"92",viewBox:"0 0 80 92",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsxs)("g",{"clip-path":"url(#clip0_2327_84459)",children:[(0,r.jsx)("path",{d:"M3.01494 50.2585C1.34983 44.4516 4.70743 38.3943 10.5143 36.7292L31.543 30.6993C37.3499 29.0342 43.4072 32.3918 45.0723 38.1987L51.1021 59.2274C52.7672 65.0343 49.4096 71.0916 43.6027 72.7567L22.5741 78.7865C16.7672 80.4516 10.7099 77.094 9.04481 71.2871L3.01494 50.2585Z",fill:"#1868DB"}),(0,r.jsx)("g",{"clip-path":"url(#clip1_2327_84459)",children:(0,r.jsx)("g",{"clip-path":"url(#clip2_2327_84459)",children:(0,r.jsx)("path",{d:"M37.6067 56.0157C30.2172 54.7386 28.1868 54.8133 25.4524 55.5974C22.244 56.5174 19.8923 58.636 18.5252 63.0876L18.2999 63.8158C18.1166 64.4149 18.0954 64.6161 18.1575 64.8325C18.2195 65.0489 18.3806 65.1979 18.854 65.3354L23.7082 66.7149C23.9684 66.7965 24.1713 66.8163 24.3536 66.7641C24.5724 66.7013 24.6872 66.5513 24.8129 66.164L25.1795 64.9659C25.7556 63.1222 26.5223 62.3559 27.689 62.0213C28.7099 61.7286 29.9957 61.6722 31.6974 61.9649L36.5788 62.7511C37.0783 62.8421 37.5213 62.598 37.5952 62.0303L38.3544 56.9723C38.4284 56.4046 38.1895 56.1218 37.6067 56.0157ZM16.4195 53.5425C23.8089 54.8196 25.8393 54.7449 28.5737 53.9608C31.7821 53.0408 34.1338 50.9222 35.5009 46.4706L35.7262 45.7424C35.9095 45.1433 35.9307 44.9421 35.8686 44.7257C35.8066 44.5093 35.6455 44.3603 35.1721 44.2228L30.3179 42.8433C30.0577 42.7617 29.8548 42.7419 29.6725 42.7941C29.4537 42.8569 29.3389 43.0069 29.2132 43.3942L28.8466 44.5923C28.2705 46.436 27.5038 47.2023 26.3371 47.5369C25.3162 47.8296 24.0304 47.886 22.3287 47.5933L17.4474 46.8071C16.9478 46.7161 16.5049 46.9602 16.4309 47.5279L15.6717 52.5859C15.5977 53.1536 15.8366 53.4364 16.4195 53.5425Z",fill:"white"})})})]}),(0,r.jsx)("mask",{id:"mask0_2327_84459",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"42",y:"34",width:"47",height:"46",children:(0,r.jsx)("path",{d:"M84.5407 70.1354C85.399 68.8074 86.1676 67.3446 86.8433 65.7294C87.5189 64.1142 88.0399 62.4937 88.382 60.9391C90.4423 51.6574 86.6686 43.8231 78.8282 38.9377C77.4887 38.1071 76.0405 37.3553 74.4713 36.6989C72.9021 36.0425 71.2192 35.49 69.6242 35.1148C60.6205 32.9978 52.4142 35.7994 47.265 43.7403C46.3964 45.0801 45.6116 46.5686 44.9302 48.1976C44.2488 49.8267 43.7528 51.3873 43.4099 52.9308C41.3701 62.1507 45.1318 69.9746 52.9733 74.9092C54.3603 75.7813 55.8756 76.5666 57.5047 77.248C59.1337 77.9294 60.6241 78.4122 62.158 78.7781C71.1529 80.9293 79.3919 78.1143 84.5361 70.1334L84.5407 70.1354Z",fill:"#E2E3E4"})}),(0,r.jsxs)("g",{mask:"url(#mask0_2327_84459)",children:[(0,r.jsx)("path",{d:"M65.4465 54.2364C48.7381 38.7562 43.5093 13.5402 54.257 -7.8265C56.8701 -13.0214 60.2302 -17.5913 64.1386 -21.4774L21.9822 -42.6824L-33.085 66.7933L44.6016 105.87C46.0277 93.9323 49.5157 82.0341 55.2309 70.6721C58.1886 64.7921 61.6171 59.3074 65.448 54.2371L65.4465 54.2364Z",fill:"#FCA700"}),(0,r.jsx)("path",{d:"M65.4458 54.2338C82.2906 31.934 106.91 17.6731 133.454 13.3867L64.1379 -21.48C60.2294 -17.5938 56.8694 -13.024 54.2563 -7.82904C43.5086 13.5377 48.7381 38.7558 65.4458 54.2338Z",fill:"#AF59E0"}),(0,r.jsx)("path",{d:"M191.971 42.8203L153.078 23.2568C152.288 28.7116 150.622 34.1336 148.009 39.3286C134.987 65.2179 103.443 75.6484 77.5534 62.6258C73.0307 60.3509 68.9819 57.5093 65.4457 54.2328C61.6162 59.3039 58.1856 64.7893 55.2286 70.6678C49.5142 82.0285 46.0276 93.9273 44.5993 105.866L136.904 152.296L191.971 42.8203Z",fill:"#6A9A23"}),(0,r.jsx)("path",{d:"M65.4459 54.2343C68.9821 57.5108 73.0309 60.3524 77.5536 62.6273C103.443 75.6499 134.987 65.2194 148.009 39.3301C150.623 34.1351 152.288 28.7131 153.079 23.2584L133.454 13.3872C106.91 17.6737 82.2906 31.9345 65.4459 54.2343Z",fill:"#1868DB"})]}),(0,r.jsx)("path",{d:"M50.8357 59.1709C52.0329 63.3459 50.6336 67.65 47.5945 70.3584C43.5378 65.6894 41.9154 59.6856 43.4099 52.9307C43.7528 51.3873 44.2491 49.8271 44.9304 48.1982C45.4556 46.9426 46.0423 45.7704 46.6814 44.6855L50.8357 59.1709Z",fill:"#101214"}),(0,r.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M77.573 60.512L56.5132 56.8549L57.1141 53.3945L78.1739 57.0517L77.573 60.512Z",fill:"white"}),(0,r.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M63.7844 67.1848L67.4416 46.125L70.9019 46.7259L67.2448 67.7857L63.7844 67.1848Z",fill:"white"}),(0,r.jsxs)("defs",{children:[(0,r.jsx)("clipPath",{id:"clip0_2327_84459",children:(0,r.jsx)("path",{d:"M3.01494 50.2585C1.34983 44.4516 4.70743 38.3943 10.5143 36.7292L31.543 30.6993C37.3499 29.0342 43.4072 32.3918 45.0723 38.1987L51.1021 59.2274C52.7672 65.0343 49.4096 71.0916 43.6027 72.7567L22.5741 78.7865C16.7672 80.4516 10.7099 77.094 9.04481 71.2871L3.01494 50.2585Z",fill:"white"})}),(0,r.jsx)("clipPath",{id:"clip1_2327_84459",children:(0,r.jsx)("rect",{width:"32.8142",height:"32.8142",fill:"white",transform:"translate(6.54558 43.5566) rotate(-16)"})}),(0,r.jsx)("clipPath",{id:"clip2_2327_84459",children:(0,r.jsx)("rect",{width:"22.5673",height:"21.5753",fill:"white",transform:"translate(13.193 47.5195) rotate(-16)"})})]})]}),eY=(0,t("cgtv4").defineMessages)({headingLabel:{id:"post-office.confluence-create-with-rovo-side-nav-nudge.heading",defaultMessage:"You describe, Rovo creates"},bodyLabel:{id:"post-office.confluence-create-with-rovo-side-nav-nudge.body",defaultMessage:"With a simple prompt, Rovo can draft a page or whiteboard."},callToActionLabel:{id:"post-office.confluence-create-with-rovo-side-nav-nudge.call.to.action",defaultMessage:"Show me how"},dismissLabel:{id:"post-office.confluence-create-with-rovo-side-nav-nudge.dismiss",defaultMessage:"Dismiss"}}),eQ=({action:s,onPrimaryActionClick:a,onDismissClick:n})=>{let{fireAnalyticsEvent:o}=(0,t("7XIdu").useFirePostOfficeAnalyticsEvents)(),{messageInstanceClicked:c,messageInstanceViewed:i}=(0,ep.useMessageInstanceEvent)();(0,l.useEffect)(()=>{i&&(i(),o({eventType:"screen",name:"ConfluenceCreateWithRovoSideNavNudge"}))},[]);let d=({actionType:e,clickedElement:t})=>{c({messageEventType:"clicked",clickedElement:t,action:{actionType:e},additionalMetadataFromFrontend:{}})};return(0,r.jsx)(t("bYRk6").default,{data:{source:"confluence-create-with-rovo-side-nav-nudge"},children:(0,r.jsxs)(t("1s5hv").default,{xcss:"_2rko1mok _kqswh2mm _16jlkb7n _bfhk1s93",testId:"confluence-create-with-rovo-side-nav-nudge",children:[(0,r.jsxs)(t("1s5hv").default,{xcss:"_1yt4pxbi _16jlkb7n",gap:"space.100",direction:"column",children:[(0,r.jsx)(t("7hXDW").default,{size:"small",children:(0,r.jsx)(t("gtD4K").default,{...eY.headingLabel})}),(0,r.jsx)(t("iXCQx").default,{size:"small",color:"color.text.subtle",children:(0,r.jsx)(t("gtD4K").default,{...eY.bodyLabel})}),(0,r.jsx)(t("gdv5Z").default,{children:(0,r.jsx)(t("fVUfS").default,{xcss:"_ca0qidpf _u5f3idpf _n3tdidpf _19bvidpf _80omtlke _bfhk1j28 _9oik1r31 _1bnx8stv _jf4cnqa1 _9h8h12zz",onClick:()=>{d({actionType:"open",clickedElement:{clickIdentifier:"showMeHow",clickedElement:"button",buttonType:"primary"}}),o({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:"createWithRovoSideNavNudgeCta"}),a?.(s)},children:(0,r.jsx)(t("iXCQx").default,{color:"color.link",size:"medium",children:(0,r.jsx)(t("gtD4K").default,{...eY.callToActionLabel})})})})]}),(0,r.jsx)(t("1s5hv").default,{xcss:"_16jlidpf _1o9zidpf _i0dl1wug",alignItems:"center",children:(0,r.jsx)(e$,{})}),(0,r.jsx)(t("gdv5Z").default,{xcss:"_kqswstnw _154iu2gc _1xi2u2gc",children:(0,r.jsx)(t("1qfLF").default,{appearance:"subtle",spacing:"compact",icon:s=>(0,r.jsx)(e(t("hmuev")),{...s,size:"small"}),label:(0,r.jsx)(t("gtD4K").default,{...eY.dismissLabel}),isTooltipDisabled:!1,onClick:()=>{d({actionType:"dismiss",clickedElement:{clickIdentifier:"dismiss",clickedElement:"cross-icon"}}),o({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:"createWithRovoSideNavNudgeDismiss"}),n?.()}})})]})})},e0=ec.createMessageBackend(k),e1=er.createMessageFrontend({render:{validate:function(e){let t=function(e){let t=[];if("object"!=typeof e||null===e||Array.isArray(e))t.push({path:"value",expected:"MessageTemplateContext",value:e});else if("nextBestActionType"in e){let s=!1;{let t=[];"CREATE_SPACE"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"CREATE_SPACE",value:e.nextBestActionType}),0===t.length&&(s=!0)}if(!s){let t=[];"CREATE_PAGE"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"CREATE_PAGE",value:e.nextBestActionType}),0===t.length&&(s=!0)}if(!s){let t=[];"CREATE_WHITEBOARD"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"CREATE_WHITEBOARD",value:e.nextBestActionType}),0===t.length&&(s=!0)}if(!s){let t=[];"1_ON_1_LOOM_NUDGE"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"1_ON_1_LOOM_NUDGE",value:e.nextBestActionType}),0===t.length&&(s=!0)}if(!s){let t=[];"LOOM_AI_MEETING_NOTES"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"LOOM_AI_MEETING_NOTES",value:e.nextBestActionType}),0===t.length&&(s=!0)}if(!s){let t=[];"RESURRECTED_USER_NUDGE"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"RESURRECTED_USER_NUDGE",value:e.nextBestActionType}),0===t.length&&(s=!0)}if(!s){let t=[];"CREATE_WITH_ROVO_NUDGE"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"CREATE_WITH_ROVO_NUDGE",value:e.nextBestActionType}),0===t.length&&(s=!0)}if(!s){let t=[];"ROVO_EXTENSION_CTA"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"ROVO_EXTENSION_CTA",value:e.nextBestActionType}),0===t.length&&(s=!0)}s||t.push({path:'value["nextBestActionType"]',expected:'"CREATE_SPACE" | "CREATE_PAGE" | "CREATE_WHITEBOARD" | "1_ON_1_LOOM_NUDGE" | "LOOM_AI_MEETING_NOTES" | "RESURRECTED_USER_NUDGE" | "CREATE_WITH_ROVO_NUDGE" | "ROVO_EXTENSION_CTA"',value:e.nextBestActionType})}else t.push({path:'value["nextBestActionType"]',expected:'"CREATE_SPACE" | "CREATE_PAGE" | "CREATE_WHITEBOARD" | "1_ON_1_LOOM_NUDGE" | "LOOM_AI_MEETING_NOTES" | "RESURRECTED_USER_NUDGE" | "CREATE_WITH_ROVO_NUDGE" | "ROVO_EXTENSION_CTA"',value:void 0});return 0===t.length?{success:!0,data:e}:{success:!1,data:e,errors:t}}(e);if(!t.success){let e=t.errors[0];throw new ek("assert",e.path,e.expected,e.value)}return t.data},Component:({nextBestActionType:e,handleOnDismissed:t,onSideNavClick:s})=>(0,r.jsx)(eQ,{action:e,onPrimaryActionClick:s,onDismissClick:t})}}),e2="91ae3e3f-138e-43be-98cc-48df03d13c32",e4={JiraSoftwareCcpId:"d8a847a4-cde4-4c50-8ea1-dc3d4193214f",JiraServiceManagementCcpId:"de63a248-1f93-46ed-b6ea-ab8e38af1c88",JiraWorkManagementCloudCcpId:"46ccaa9e-cdb0-4995-8886-5827a5ff162b",JiraProductDiscoveryCcpId:"a6f908c8-709c-45f4-9e2d-eca25b93b94a",ConfluenceCloudCcpId:"6aab3f4e-cc71-474d-8d28-abef8b057808",StatuspageCcpId:"0b8ea1e2-52df-11ea-8d77-2e728ce88125",AtlasCcpId:"7c917705-866d-4b6b-b266-0fc7633e8342",CompassCcpId:"6bce2ccb-4f57-46f5-812a-9dbf02dc28f2",AtlassianAnalyticsCcpId:"f44da23e-5907-4d81-8a78-33bedee10969",AtlassianWhiteboardCcpId:"b6c5632b-6018-4656-b2ac-3e32e7cef0d3",OpsgenieCcpId:"fdb4649d-ca4d-49f8-a8bf-ffa558a65551",RovoCcpId:e2,RovoDevCcpId:"56cce7cb-8c54-4103-8736-e64d1ab00128",LoomCcpId:"7683a73e-423d-41a1-b43f-d497656f8b5d",FocusCcpId:"d16a2ba8-445f-4e83-9c7b-9bcf349ff905",AnyProductCcpId:"any",TestProductCcpId:"fake-id"},e5=e=>{let[t]=Object.entries(e4).find(([t,s])=>s===e)??[];return t?t.replace("CcpId","").replace(/([A-Z])/g," $1").trim():e};function e3(e){let t=function(e){let t=[];return("object"!=typeof e||null===e||Array.isArray(e)?t.push({path:"value",expected:"MessageTemplateContext",value:e}):"nextBestActionType"in e?"ROVO_EXTENSION_CTA"!==e.nextBestActionType&&t.push({path:'value["nextBestActionType"]',expected:"ROVO_EXTENSION_CTA",value:e.nextBestActionType}):t.push({path:'value["nextBestActionType"]',expected:'"ROVO_EXTENSION_CTA"',value:void 0}),0===t.length)?{success:!0,data:e}:{success:!1,data:e,errors:t}}(e);if(!t.success){let e=t.errors[0];throw new ek("assert",e.path,e.expected,e.value)}return t.data}Object.values(e4).filter(e=>e!==e4.TestProductCcpId&&e!==e4.AnyProductCcpId).map(e=>({id:e,displayName:e5(e)})),t("42omo");var e6={};e6=new URL("chrome-icon.40414d4b.svg",import.meta.url).toString();var e7={};e7=new URL("rovo-icon.a638efdd.svg",import.meta.url).toString();let e8=(0,t("cgtv4").defineMessages)({linkText:{id:"rovo-extension-install-cta-left-nav.link",defaultMessage:"Get the browser extension"},rovoIconAlt:{id:"rovo-extension-install-cta-left-nav.rovo-icon-alt",defaultMessage:"Rovo Icon"},chromeIconAlt:{id:"rovo-extension-install-cta-left-nav.chrome-icon-alt",defaultMessage:"Google Chrome Icon"},dismissLabel:{id:"rovo-extension-install-cta-left-nav.dismiss-label",defaultMessage:"Dismiss message"}}),e9={"copy-version-a":(0,t("cgtv4").defineMessages)({heading:{id:"rovo-extension-install-cta-left-nav.heading",defaultMessage:"Get help with what you're working on"},description:{id:"rovo-extension-install-cta-left-nav.description",defaultMessage:"Rovo Chat knows your context. Available from any tab."}}),"copy-version-b":(0,t("cgtv4").defineMessages)({heading:{id:"rovo-extension-install-cta-left-nav.heading.copy-version-b",defaultMessage:"Get answers for work, anywhere"},description:{id:"rovo-extension-install-cta-left-nav.description.copy-version-b",defaultMessage:"Ask about your projects, work policies, or anything about your company. Rovo Chat from any tab."}}),"copy-version-c":(0,t("cgtv4").defineMessages)({heading:{id:"rovo-extension-install-cta-left-nav.heading.copy-version-c",defaultMessage:"Unlock Rovo in every tab"},description:{id:"rovo-extension-install-cta-left-nav.description.copy-version-c",defaultMessage:"30K+ workers use it to chat with AI that understands their company."}}),"copy-version-d":(0,t("cgtv4").defineMessages)({heading:{id:"rovo-extension-install-cta-left-nav.heading.copy-version-d",defaultMessage:"Bring Rovo to every tab"},description:{id:"rovo-extension-install-cta-left-nav.description.copy-version-d",defaultMessage:"Chat with AI that understands your projects and teams. No switching tabs needed."}})},te=(e,t)=>{let s=`side_nav_install_cta_${t}`;return`https://chromewebstore.google.com/detail/rovo-search-chat-and-more/npbjhobkibekbklkghlhfhieggcggpdb?utm_source=${e}&utm_medium=banner&utm_campaign=rovo_extension_side_nav_install_cta&utm_content=${s}`},tt=e=>e9[e]||e9["copy-version-a"],ts=({context:s,handleOnDismissed:a,onSideNavClick:n})=>{let{experimentCohort:o,source:c}=s,{formatMessage:i}=(0,t("8C5kA").default)(),{heading:l,description:d}=tt(o),{messageClicked:u}=(0,em.useMessageEvent)(),{messageInstanceClicked:p}=(0,ep.useMessageInstanceEvent)(),m=i(l),g=i(d),f=i(e8.linkText),h=i(e8.rovoIconAlt),x=i(e8.chromeIconAlt),E=i(e8.dismissLabel),v=te(c,o);return(0,r.jsx)(t("6f0Oj").default,{xcss:(0,t("1Whri").cx)("_1yt4utpp _zulpu2gc _2rko12b0 _ae4v1h6o _1bah1h6o _1e0c1txw _1bsb1osq _4cvr1y6m _bfhk1s93"),style:{border:"1px solid var(--ds-border, #0B120E24)"},children:(0,r.jsxs)(t("1GzhS").default,{xcss:(0,t("1Whri").cx)("_zulpu2gc _1bsb1osq"),testId:"rovo-left-nav-content",children:[(0,r.jsxs)(t("dcJ7R").default,{xcss:(0,t("1Whri").cx)("_1bah1yb4 _4cvr1y6m _1bsb1osq"),children:[(0,r.jsxs)(t("dcJ7R").default,{xcss:(0,t("1Whri").cx)("_zulpu2gc"),alignBlock:"center",children:[(0,r.jsxs)(t("6f0Oj").default,{xcss:(0,t("1Whri").cx)("_1e0c1txw _4cvr1h6o"),children:[(0,r.jsx)(t("gj7hi").default,{src:e(e7),alt:h,width:24,height:24,style:{flexShrink:0,zIndex:2}}),(0,r.jsx)(t("gj7hi").default,{src:e(e6),alt:x,width:24,height:24,style:{marginLeft:"-8px",flexShrink:0,zIndex:1}})]}),(0,r.jsx)(t("7hXDW").default,{size:"xsmall",children:m})]}),(0,r.jsx)(t("1qfLF").default,{icon:e(t("hmuev")),label:E,appearance:"subtle",spacing:"compact",onClick:()=>{u(),p({messageEventType:"clicked",clickedElement:{clickIdentifier:"dismiss",clickedElement:"button",buttonType:"secondary"},action:{actionType:"dismiss"},additionalMetadataFromFrontend:{experimentCohort:o,source:c}}),a()}})]}),(0,r.jsx)(t("5dK2X").default,{size:"small",children:g}),(0,r.jsx)(t("2Nwuj").default,{href:v,target:"blank",onClick:()=>{u(),p({messageEventType:"clicked",clickedElement:{clickIdentifier:"installLink",clickedElement:"link"},action:{actionType:"open",destinationUrl:v},additionalMetadataFromFrontend:{experimentCohort:o,source:c}}),n("ROVO_EXTENSION_CTA")},children:f})]})})},ta=ec.createMessageBackend(()=>({transformMetadata:{validate:e3,stage:()=>({goalMetadata:{primaryGoal:{goalId:"mau",targetProduct:[e2],edition:["any"]}}})}})),tn=er.createMessageFrontend({render:{validate:O(),Component:e=>(0,r.jsx)(ts,{...e,context:{experimentCohort:e.experimentCohort,source:"confluence-side-nav"}})}}),to=e=>{let t=tc(e.messagesStages);return e.placementStages(t)},tc=e=>{let t=tl(e),s={};return Object.entries(t).forEach(([e,t])=>{let a=td(t);if(s[e])throw new f({message:"a duplicate stage name was found. Stage names should be unique"});let n=ti(a);tp(e,n),s[e]=n}),s},ti=e=>async({data:t,request:s})=>{let a=await tu(e)({data:t,request:s}),n=t.messages.length,o=a.data.messages.length;if(a.errors.length){let e=Array.from(new Set(a.errors.map(e=>e.messageTemplateId)).values());a.errors.forEach(e=>s.logger.error({messageTemplateId:e.messageTemplateId,messageInstanceId:e.messageInstanceId,reason:e.reason},"error running message stage in placement")),s.logger.error({errors:a.errors,messageTemplateIds:e,inputCount:n,successCount:o},"errors running some messages in placement")}return a.data},tl=e=>{let t={};return Object.entries(e).forEach(([e,s])=>Object.entries(s).forEach(([s,a])=>{t?.[s]||(t[s]={});let n=async e=>a(e);t[s][e]=n})),t},tr=async({message:e})=>e,td=e=>({request:t,message:s})=>(e?.[s.messageTemplateId]??tr)({request:t,message:s}),tu=e=>async({data:t,request:s})=>{let a=async t=>e({request:s,message:t}),n=t.messages.map(a),o=await Promise.allSettled(n);return{data:{messages:o.filter(e=>"fulfilled"===e.status).map(e=>e.value)},errors:o.map((e,s)=>{if("rejected"===e.status){let a=t.messages?.[s];return{messageInstanceId:a?.messageInstanceId,messageTemplateId:a?.messageTemplateId,...e}}return e}).filter(e=>"rejected"===e.status).map(({status:e,...t})=>t)}},tp=(e,t)=>Object.defineProperty(t,"name",{value:e});class tm{async buildConfigOverlay(e){return{}}constructor(){}}let tg=e=>t=>{let s={};return Object.entries(e).forEach(e=>{let[a]=e;s[a]=tf(t)(e)}),s},tf=e=>([t,s])=>{let a=tx(s)(e);return()=>({id:t,execute:a})},th=()=>{let e,t=()=>{e=void 0};return{getOnce:()=>{let s=e;return t(),s},set:t=>{e=t},flush:t}},tx=(e=t_)=>({request:t,bypassBuffer:s,enableBypassBuffer:a})=>async n=>{let o=n.map(tE),c=Object.fromEntries(n.map(e=>[e.messageInstanceId,e]));if(tv(o),a){let a=s.getOnce(),n=await e({data:{...a,messages:o},request:t}),{messages:i,...l}=n;return s.set(l),n.messages.map(e=>({...c[e.messageInstanceId],...e}))}return(await e({data:{messages:o},request:t})).messages.map(e=>({...c[e.messageInstanceId],...e}))},tE=e=>({messageInstanceId:e.messageInstanceId,messageTemplateId:e.messageTemplateId,messageCategory:e.messageCategory,createdAt:e.createdAt,eventTime:e.eventTime,context:e.context,triggerId:e.triggerId,messageCreationType:e.messageCreationType,recommendationSession:e.recommendationSession,readStatus:e.readStatus}),tv=e=>{try{JSON.stringify(e)}catch{throw new g({message:"failed to backend message body, this may mean a non-serializable field has to been added and should be removed"})}},t_=async e=>e.data,tT=[eM({messageTemplateId:"confluence-create-a-space"}),eU({messageTemplateId:"confluence-side-nav-create-a-space"}),eL({messageTemplateId:"confluence-side-nav-1-on-1-loom-nudge"}),eZ({messageTemplateId:"loom-ai-meeting-notes-in-confluence"}),ej({messageTemplateId:"confluence-resurrected-user-welcome-sidebar-nudge"}),e0({messageTemplateId:"confluence-create-with-rovo-side-nav-nudge"}),ta({messageTemplateId:"rovo-extension-install-cta-left-nav"})],tC=[ew({messageTemplateId:"confluence-create-a-space"}),eq({messageTemplateId:"confluence-side-nav-create-a-space"}),eP({messageTemplateId:"confluence-side-nav-1-on-1-loom-nudge"}),eJ({messageTemplateId:"loom-ai-meeting-notes-in-confluence"}),eN({messageTemplateId:"confluence-resurrected-user-welcome-sidebar-nudge"}),e1({messageTemplateId:"confluence-create-with-rovo-side-nav-nudge"}),tn({messageTemplateId:"rovo-extension-install-cta-left-nav"})],ty=ec.createPlacementBackend({messageTemplates:tT}),tb=er.createPlacementFrontendComponent({messageTemplates:tC});ty(e=>{let t=new tm;return({koa:s,request:a})=>{let n=a.statsig.checkGate({identifiers:{atlassianAccountId:a?.orchestrationContext?.recipient?.toString()}},"post-office_enable_bypass-data"),o=th(),c=a.location.tag({placementLevel:"PostOffice"});return async i=>{let l=e;if(a.statsig.checkGate({identifiers:{atlassianAccountId:a.orchestrationContext.recipient.userId}},"post-office_enable-in-app-v2-placement-tunnel"))try{let s=e.placementId,n=await t.buildConfigOverlay({placementId:s,params:i,requestContext:a,baseConfig:e});l=function(e,t){if(!t.placementStages&&!t.messagesStages)return e;let s={...e,placementStages:e.placementStages,messagesStages:{...e.messagesStages}};return t.placementStages&&(s.placementStages=t.placementStages),t.messagesStages&&Object.entries(t.messagesStages).forEach(([e,t])=>{s.messagesStages[e]=t}),s}(e,n),a.logger.info({placementId:s,hasTunnelledConfig:Object.keys(n).length>0},"[Tunnel] Config overlay applied")}catch(t){a.logger.error({error:t,placementId:e.placementId},"[Tunnel] Failed to build overlay config, falling back to base config"),l=e}let r=tg(to(l))({request:a,bypassBuffer:o,enableBypassBuffer:n}),d=await s.ctx.messageSelection.getEligibleMessages(c,{...i,stages:r});return n?{data:{...o.getOnce(),messages:d},errors:[]}:{data:{messages:d},errors:[]}}}});let tA=(0,t("7W8i8").getLogger)("useLoomAiMeetingNotesSideNavCardListener"),tI="LOOM_AI_MEETING_NOTES",tk=({readFromLocalStorage:e=!1})=>{let s=(0,t("8Hyz1").usePostOfficeSideNavMessages)(),{isSideNavCardEligible:a}=(0,t("etJRk").useLoomAiMeetingNotesSideNavCardState)(),{createAnalyticsEvent:n}=(0,t("inPa6").useAnalyticsEvents)();(0,l.useEffect)(()=>{if(!(0,t("9wGTI").fg)("loom_ai_meeting_notes_in_confluence_killswitch")||!e||!s||a)return;let o=!1;try{o=t("17wUi").confluenceLocalStorageInstance.getItemAsBoolean(t("5GjsS").USER_HAS_CLICKED_ON_MEETING_NOTES_TEMPLATE_KEY)}catch(e){n({type:"sendOperationalEvent",data:{action:"fail",actionSubject:"loomAiMeetingNotesInConfluence.getLocalStorageItem",source:"confluenceLoomSideNavBannerCard"}}),tA.error`An error occurred while accessing local storage: ${e}`;return}o&&(tA.info`Local storage suggests user has recently clicked on an eligible meeting notes template, enabling message ${tI}`,s.enablePostOfficeSideNavMessage(tI))},[s,a,e,n]),(0,l.useEffect)(()=>{(0,t("9wGTI").fg)("loom_ai_meeting_notes_in_confluence_killswitch")&&s&&a&&(tA.info`User has clicked on an eligible meeting notes template, enabling message ${tI}`,s.enablePostOfficeSideNavMessage(tI))},[a,s])},tO=({sourceComponent:e})=>{let{crossFlowSuccessCheck:s}=(0,t("5CUwy").useLoomEntryPointVariantActions)(),{cloudId:a}=(0,t("bQm3c").useSessionData)(),n=(0,t("1pSma").default)("loom.cross-flow.license-information.poll"),{createAnalyticsEvent:o}=(0,t("inPa6").useAnalyticsEvents)();return{triggerCrossFlowSuccessCheck:(0,l.useCallback)(({onCrossflowFailure:t})=>{n(),s({cloudId:a,onCrossflowFailure:t,createAnalyticsEvent:o,sourceComponent:e})},[n,s,a,o,e])}},tM="poConfluenceSideNavCreate",tw=()=>!(0,t("gz8ZY").useIsNav4Enabled)()||(0,t("9wGTI").fg)("post-office-connie-side-nav-v4"),tR=(0,t("7W8i8").getLogger)("PostOfficeConfluenceSideNavPlacement"),tS=(0,l.memo)(({nav4:s=!1})=>{let[a,n]=(0,t("MyxIQ").usePlacementPreloadedData)("confluence-side-nav"),o=(0,t("luv00").useSSRPlaceholderReplaceIdProp)(),{push:c}=(0,t("dPJCf").useRouteActions)(),{openDrawer:i}=(0,t("bAyaS").useCreateSpaceStoreActions)(),r=(0,l.useRef)(null),{triggerCrossFlowSuccessCheck:d}=tO({sourceComponent:tM}),u=(0,t("dPJCf").useRouteUrl)({selector:e=>e||""}),{setIsOpen:p}=(0,t("eB1TF").useUniversalCreateActions)(),m=(0,l.useCallback)(e=>{n(e)},[n]),g=(0,l.useCallback)((e,s)=>{switch(n(s),e){case"CREATE_PAGE":c((0,t("bZSO8").buildCreationLink)({contentType:"page",source:tM}));break;case"CREATE_WHITEBOARD":c((0,t("bZSO8").buildCreationLink)({contentType:"whiteboard",source:tM}));break;case"CREATE_SPACE":i(r,void 0);break;case"CREATE_WITH_ROVO_NUDGE":p(!0),t("17wUi").confluenceSessionStorageInstance.setItem("aifc-create-spotlight-session-key","true");break;case"RESURRECTED_USER_NUDGE":c(t("1NBp8").HOME.toUrl(void 0,{query:{feedType:"POPULAR"}}));break;default:return}},[i,c,n,p]),f=(0,l.useCallback)(async e=>{tR.debug`Executing crossflow success check callback for key: ${e}`,"LOOM_AI_MEETING_NOTES"===e&&(tR.debug`Executing crossflow success check callback for Loom AI Meeting Notes`,d({onCrossflowFailure:()=>{tR.debug`[LoomAiMeetingNotesBanner] Cross-flow failure detected via callback`}}))},[d]),h=(0,l.useMemo)(()=>({preloadedInitialData:a,onDismiss:m,onSideNavClick:g,onCallback:f,currentRoute:u,disableInitialData:!!a}),[a,m,g,f,u]),x=tw();tk({readFromLocalStorage:!0});let E=(0,l.useMemo)(()=>e(l).createElement(t("9oJIg").PlacementFetchProvider,null,e(l).createElement(tb,h)),[h]);return(0,t("9wGTI").fg)("post-office-connie-side-nav-killswitch")&&x&&(0,t("9wGTI").fg)("post-office-confluence-side-nav-placement-rollout")?e(l).createElement("div",{"data-testid":"confluence-side-nav-placement","data-vc":"confluence-side-nav-placement",...o},E):e(l).createElement(e(l).Fragment,null)});s.exports.PostOfficeConfluenceSideNavPlacement=tS}),s("eoKlQ",function(e,t){let s=({context:e,...t})=>({...t,...e});e.exports.flattenMessagesForFrontend=e=>e.map(s)});
//# sourceMappingURL=PageLayout.3789e849.js.map
