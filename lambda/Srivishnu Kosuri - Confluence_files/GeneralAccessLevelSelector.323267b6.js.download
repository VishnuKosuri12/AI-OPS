function e(e){return e&&e.__esModule?e.default:e}function t(e,t,a,r){Object.defineProperty(e,t,{get:a,set:r,enumerable:!0,configurable:!0})}var a=globalThis.parcelRequired477,r=a.register;r("92V6K",function(t,r){var n=a("3u0dr"),s=a("frIzR"),i=a("42omo"),o=a("jhTeh"),l=a("Zkhpa");let c=(0,a("cgtv4").defineMessages)({body:{id:"change-edition.inline-message.share-and-restrict-dialog.body",defaultMessage:"You can restrict this content to specific people on paid plans."},learnMoreLink:{id:"change-edition.inline-message.share-and-restrict-dialog.learn-more-link",defaultMessage:"Learn more"}}),d="https://support.atlassian.com/confluence-cloud/docs/manage-permissions-on-the-page-level/",u=({source:t,customPadding:r,href:n=d})=>{let s={href:n,actionSubjectId:t,messageDescriptor:c.learnMoreLink};return e(i).createElement(l.MiniSectionMessage,{source:t,messageContent:c.body,withGradient:!1,customPadding:r,learnMoreLink:s,targetEdition:a("euL71").ConfluenceEdition.STANDARD})};var p=a("2WE3u"),m=a("4adOe");let f=(0,a("cgtv4").defineMessages)({openAccessLabel:{id:"share-and-restrict-dialog.general-access.level.open",defaultMessage:"Open"},restrictedAccessLabel:{id:"share-and-restrict-dialog.general-access.level.restricted",defaultMessage:"Restricted"},restrictedByParentAccessLabel:{id:"share-and-restrict-dialog.general-access.level.restricted-by-parent",defaultMessage:"Restricted by a parent"},restrictedByParentTooltip:{id:"share-and-restrict-dialog.general-access.level.restricted-by-parent-tooltip",defaultMessage:"Canâ€™t open to the space because access is limited by a parent item."},restrictedByParentTooltipIconLabel:{id:"share-and-restrict-dialog.general-access.level.restricted-by-parent-tooltip-icon-label",defaultMessage:"Open disabled - More info"},unlockIconLabel:{id:"share-and-restrict-dialog.general-access.unlock-icon.label",defaultMessage:"Open"},lockIconLabel:{id:"share-and-restrict-dialog.general-access.lock-icon.label",defaultMessage:"Restricted"},dropdownIconLabel:{id:"share-and-restrict-dialog.general-access.dropdown-icon.label",defaultMessage:"Change general access level"}}),g=(0,a("cgtv4").defineMessages)({anyoneInThisSpaceSubtext:{id:"share-and-restrict-dialog.general-access.anyone-in-this-space",defaultMessage:"Anyone in <a>this space</a>"},anyoneOnTheParentSubtext:{id:"share-and-restrict-dialog.general-access.anyone-on-parent",defaultMessage:"Anyone on <parentLink>the parent</parentLink>"},onlySpecificPeopleSubtext:{id:"share-and-restrict-dialog.general-access.only-specific-people",defaultMessage:"Only specific people can view or edit"},draftAnyoneInThisSpaceSubtext:{id:"share-and-restrict-dialog.general-access.draft.anyone-in-this-space",defaultMessage:"Anyone in <a>this space</a> (with the link)"},draftAnyoneOnTheParentSubtext:{id:"share-and-restrict-dialog.general-access.draft.anyone-on-parent",defaultMessage:"Anyone on <parentLink>the parent</parentLink> (with the link)"},draftOnlySpecificPeopleSubtext:{id:"share-and-restrict-dialog.general-access.draft.only-specific-people",defaultMessage:"Only specific people can view or edit (with the link) "}}),h=(0,a("cgtv4").defineMessages)({anyoneInThisSpaceCanViewAndEditSubtext:{id:"share-and-restrict-dialog.general-access.anyone-in-this-space-can-view-and-edit",defaultMessage:"Anyone in <a>this space</a> can view and edit"},anyoneInThisSpaceCanViewNotEditSubtext:{id:"share-and-restrict-dialog.general-access.anyone-in-this-space-can-view-not-edit",defaultMessage:"Anyone in <a>this space</a> can view, only some can edit"},anyoneOnTheParentCanViewAndEditSubtext:{id:"share-and-restrict-dialog.general-access.anyone-on-parent-can-view-and-edit",defaultMessage:"Anyone on <parentLink>the parent</parentLink> can view and edit"},anyoneOnTheParentCanViewNotEditSubtext:{id:"share-and-restrict-dialog.general-access.anyone-on-parent-can-view-not-edit",defaultMessage:"Anyone on <parentLink>the parent</parentLink> can view, only some can edit"},draftAnyoneInThisSpaceCanViewAndEditSubtext:{id:"share-and-restrict-dialog.general-access.draft.anyone-in-this-space-can-view-and-edit",defaultMessage:"Anyone in <a>this space</a> (with the link) can view and edit"},draftAnyoneInThisSpaceCanViewNotEditSubtext:{id:"share-and-restrict-dialog.general-access.draft.anyone-in-this-space-can-view-not-edit",defaultMessage:"Anyone in <a>this space</a> (with the link) can view, only some can edit"},draftAnyoneOnTheParentCanViewAndEditSubtext:{id:"share-and-restrict-dialog.general-access.draft.anyone-on-parent-can-view-and-edit",defaultMessage:"Anyone on <parentLink>the parent</parentLink> (with the link) can view and edit"},draftAnyoneOnTheParentCanViewNotEditSubtext:{id:"share-and-restrict-dialog.general-access.draft.anyone-on-parent-can-view-not-edit",defaultMessage:"Anyone on <parentLink>the parent</parentLink> (with the link) can view, only some can edit"}}),E={anyoneInThisSpaceSubtext:h.anyoneInThisSpaceCanViewAndEditSubtext,anyoneOnTheParentSubtext:h.anyoneOnTheParentCanViewAndEditSubtext,onlySpecificPeopleSubtext:g.onlySpecificPeopleSubtext,draftAnyoneInThisSpaceSubtext:h.draftAnyoneInThisSpaceCanViewAndEditSubtext,draftAnyoneOnTheParentSubtext:h.draftAnyoneOnTheParentCanViewAndEditSubtext,draftOnlySpecificPeopleSubtext:g.draftOnlySpecificPeopleSubtext},b={anyoneInThisSpaceSubtext:h.anyoneInThisSpaceCanViewNotEditSubtext,anyoneOnTheParentSubtext:h.anyoneOnTheParentCanViewNotEditSubtext,onlySpecificPeopleSubtext:g.onlySpecificPeopleSubtext,draftAnyoneInThisSpaceSubtext:h.draftAnyoneInThisSpaceCanViewNotEditSubtext,draftAnyoneOnTheParentSubtext:h.draftAnyoneOnTheParentCanViewNotEditSubtext,draftOnlySpecificPeopleSubtext:g.draftOnlySpecificPeopleSubtext},_=(0,a("ecnYn").xcss)({height:"32px",width:"32px",borderRadius:"radius.medium",background:"var(--ds-background-accent-gray-subtlest, #F0F1F2)"}),y=(0,a("ecnYn").xcss)({height:"32px",width:"32px",borderRadius:"radius.medium",background:"var(--ds-background-danger, #FFECEB)"}),v=(0,a("ecnYn").xcss)({opacity:"0.6"}),S=(0,a("ecnYn").xcss)({color:"color.text",fontWeight:"font.weight.bold",paddingLeft:"space.075"}),A=(0,a("ecnYn").xcss)({color:"color.text.subtlest",font:'var(--ds-font-body-small, normal 400 11px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)',whiteSpace:"pre",paddingLeft:"space.075"}),C=(0,a("ecnYn").xcss)({color:"color.text.subtlest",font:'var(--ds-font-body-small, normal 400 11px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)',whiteSpace:"pre",maxHeight:"16px"}),I=(0,a("ecnYn").xcss)({paddingLeft:"space.150"}),T=(0,a("ecnYn").xcss)({color:"color.text",font:'var(--ds-font-body, normal 400 14px/20px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)',fontWeight:"var(--ds-font-weight-bold, 700)"}),x=(0,a("ecnYn").xcss)({height:"20px",color:"color.text",":hover":{color:"color.text.accent.blue"},":active":{color:"color.text.accent.blue.bolder"},font:'var(--ds-font-body, normal 400 14px/20px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)',fontWeight:"var(--ds-font-weight-bold, 700)",display:"flex",alignItems:"center"}),k=(0,a("ecnYn").xcss)({borderBottom:"var(--ds-border-width, 1px) solid var(--ds-border, #0B120E24)",width:"350px"}),R=(0,a("ecnYn").xcss)({borderBottom:"var(--ds-border-width, 1px) solid var(--ds-border, #0B120E24)",width:"380px"}),O=(0,a("ecnYn").xcss)({color:"color.text.accent.blue"}),w=(0,n.isReactCompilerActiveV1)()?t=>{let r,n,l,c,d,h,w,P,D,M,N,U,j,B=(0,s.c)(86),{isLockedOut:F,isDraft:G,hasInheritedRestrictions:V,onOpenRestrictedChange:q,openSpaceAccessDetails:K,handleOpenAccessWarningDialog:H,shouldGeneralAccessMenuBeOpen:z,parentPageLink:W,isEditable:Y,hideSpaceOrParentLink:Q,showLongSubtext:$,generalAccessLevel:X,shouldShowDeletedGroupDetails:J,hasRestrictions:Z,hasViewRestrictions:ee,isLivePage:et,contentType:ea,edition:er,shouldResolveMismatchedRestrictions:en,isSaving:es}=t,{formatMessage:ei}=(0,a("8C5kA").default)(),{createAnalyticsEvent:eo}=(0,a("inPa6").useAnalyticsEvents)();if(B[0]!==ea||B[1]!==eo||B[2]!==er||B[3]!==ei||B[4]!==X||B[5]!==H||B[6]!==V||B[7]!==Z||B[8]!==ee||B[9]!==G||B[10]!==et||B[11]!==q||B[12]!==K||B[13]!==W||B[14]!==en||B[15]!==J||B[16]!==$){var el;let t,s,C,I,T,x,O,w,L={open:ei(f.openAccessLabel),openInherited:ei(f.restrictedByParentAccessLabel),restricted:ei(f.restrictedAccessLabel)};l="restricted"!==X;let P=er===a("euL71").ConfluenceEdition.FREE,D=P||V,M="open-can-edit"!==X;B[23]!==W?(t=`${a("jlIaF").CONTEXT_PATH}${W}`,a("1NBp8").FOLDER_VIEW.match(t)&&(t+="?referrer=share-and-restrict-dialog"),B[23]=W,B[24]=t):t=B[24];e:{if(!$){s=g;break e}if("open-can-edit"===X){s=E;break e}s=b}let N=s;B[25]!==G||B[26]!==J||B[27]!==N.anyoneInThisSpaceSubtext||B[28]!==N.anyoneOnTheParentSubtext||B[29]!==N.draftAnyoneInThisSpaceSubtext||B[30]!==N.draftAnyoneOnTheParentSubtext||B[31]!==N.draftOnlySpecificPeopleSubtext||B[32]!==N.onlySpecificPeopleSubtext?(C=e=>{let{isOpen:t,hasInheritedRestrictionsSubtext:a}=e;return J?N.onlySpecificPeopleSubtext:G&&a&&t?N.draftAnyoneOnTheParentSubtext:G&&!a&&t?N.draftAnyoneInThisSpaceSubtext:G&&!t?N.draftOnlySpecificPeopleSubtext:!G&&a&&t?N.anyoneOnTheParentSubtext:G||a||!t?N.onlySpecificPeopleSubtext:N.anyoneInThisSpaceSubtext},B[25]=G,B[26]=J,B[27]=N.anyoneInThisSpaceSubtext,B[28]=N.anyoneOnTheParentSubtext,B[29]=N.draftAnyoneInThisSpaceSubtext,B[30]=N.draftAnyoneOnTheParentSubtext,B[31]=N.draftOnlySpecificPeopleSubtext,B[32]=N.onlySpecificPeopleSubtext,B[33]=C):C=B[33];let U=C;B[34]!==eo||B[35]!==K?(I=()=>{eo({type:"sendUIEvent",data:{source:m.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,actionSubject:"button",actionSubjectId:"AuditSpaceAccessButton",action:"clicked"}}).fire(),K()},B[34]=eo,B[35]=K,B[36]=I):I=B[36];let j=I;B[37]!==ei||B[38]!==U||B[39]!==j||B[40]!==K||B[41]!==t||B[42]!==J?(T=r=>{let{isOpen:n,hasInheritedRestrictionsSubtext:s,forOptions:o}=r,l=void 0!==o&&o;return ei(U({isOpen:n,hasInheritedRestrictionsSubtext:s}),{a:t=>J||l||void 0===K?e(i).createElement(e(i).Fragment,null,t):s?e(i).createElement(e(i).Fragment,null):e(i).createElement(a("bYWO7").PressableLink,{showUnderline:!0,fontSize:"small",onClick:j},t),parentLink:r=>l?e(i).createElement(e(i).Fragment,null,r):e(i).createElement(a("bYWO7").PressableLink,{targetBlank:!0,href:t,showUnderline:!0,fontSize:"small"},r)})},B[37]=ei,B[38]=U,B[39]=j,B[40]=K,B[41]=t,B[42]=J,B[43]=T):T=B[43],c=T;let F=()=>[...P?[{label:e(i).createElement(e(i).Fragment,null,M?e(i).createElement(a("6f0Oj").default,{xcss:R},e(i).createElement(p.ChangeEditionSectionMessageShareAndRestrict,{handleOnClick:H,customPadding:"var(--ds-space-200, 16px)"})):e(i).createElement(a("6f0Oj").default,{xcss:k},e(i).createElement(u,{source:"generalAccessLevelSelector",customPadding:"var(--ds-space-100, 8px) var(--ds-space-200, 16px) var(--ds-space-200, 16px) var(--ds-space-200, 16px)"}))),value:"tryItFree",isDisabled:P}]:[],{label:e(i).createElement(a("dcJ7R").default,{grow:"fill",spread:"space-between",alignInline:"center"},e(i).createElement(a("bUlM5").default,{alignItems:"center"},e(i).createElement(a("bUlM5").default,{justifyContent:"center",alignItems:"center",xcss:[_,D&&v]},e(i).createElement(e(a("h1ewt")),{label:ei(f.unlockIconLabel),color:"var(--ds-icon, #292A2E)"})),e(i).createElement(a("6f0Oj").default,{xcss:D&&v},e(i).createElement(a("6f0Oj").default,{xcss:[S]},L.open),e(i).createElement(a("dcJ7R").default,{alignBlock:"center",xcss:[A]},c({isOpen:!0,hasInheritedRestrictionsSubtext:!1,forOptions:!0})))),V&&!P&&e(i).createElement(a("3gadb").default,{content:ei(f.restrictedByParentTooltip),position:"bottom"},t=>e(i).createElement(a("1qfLF").default,{...t,spacing:"compact",shape:"circle",appearance:"subtle",icon:e(a("eXmBZ")),label:ei(f.restrictedByParentTooltipIconLabel)}))),value:"open",isDisabled:D},...V?[{label:e(i).createElement(a("bUlM5").default,{alignItems:"center"},e(i).createElement(a("bUlM5").default,{justifyContent:"center",alignItems:"center",xcss:[y,P&&v]},e(i).createElement(e(a("9Q2dU")),{label:ei(f.lockIconLabel),color:"var(--ds-icon-danger, #C9372C)"})),e(i).createElement(a("6f0Oj").default,{xcss:P&&v},e(i).createElement(a("6f0Oj").default,{xcss:[S]},L.openInherited),e(i).createElement(a("dcJ7R").default,{alignBlock:"center",xcss:[A]},c({isOpen:!0,hasInheritedRestrictionsSubtext:!0,forOptions:!0})))),value:"open",isDisabled:P}]:[],{label:e(i).createElement(a("bUlM5").default,{alignItems:"center"},e(i).createElement(a("bUlM5").default,{justifyContent:"center",alignItems:"center",xcss:[y,P&&v]},e(i).createElement(e(a("9Q2dU")),{label:ei(f.lockIconLabel),color:"var(--ds-icon-danger, #C9372C)"})),e(i).createElement(a("6f0Oj").default,{xcss:P&&v},e(i).createElement(a("dcJ7R").default,null,e(i).createElement(a("6f0Oj").default,{xcss:[S]},L.restricted),e(i).createElement(o.ReverseTrialLozengeExperiment,{touchpointId:"confluence_page_restrictions_dialog_list_item",edition:a("euL71").ConfluenceEdition.STANDARD})),e(i).createElement(a("dcJ7R").default,{alignBlock:"center",xcss:[A]},c({isOpen:!1,hasInheritedRestrictionsSubtext:V,forOptions:!0})))),value:"restricted",isDisabled:P}];B[44]!==ea||B[45]!==eo||B[46]!==V||B[47]!==G||B[48]!==et||B[49]!==q?(x=e=>{eo({type:"sendUIEvent",data:{source:m.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"selected",actionSubject:"option",actionSubjectId:"GeneralAccessLevelSelector",attributes:{selectedOption:e?.value,hasInheritedRestrictions:V,isDraft:G,isLivePage:et,contentType:ea}}}).fire(),q(e?.value==="restricted")},B[44]=ea,B[45]=eo,B[46]=V,B[47]=G,B[48]=et,B[49]=q,B[50]=x):x=B[50],n=x,B[51]!==V||B[52]!==Z||B[53]!==ee||B[54]!==l||B[55]!==en||B[56]!==J?(O=()=>{let e;return en&&J?0:J?e=Z||ee?1:0:(e=+!l,V&&(e+=1),e)},B[51]=V,B[52]=Z,B[53]=ee,B[54]=l,B[55]=en,B[56]=J,B[57]=O):O=B[57];let z=O;B[58]!==F?(w=F(),B[58]=F,B[59]=w):w=B[59],d=w,r=z(),h=J?en||!Z?L.open:V?L.openInherited:L.restricted:0===(el=r)?L.open:1===el&&V?L.openInherited:L.restricted,B[0]=ea,B[1]=eo,B[2]=er,B[3]=ei,B[4]=X,B[5]=H,B[6]=V,B[7]=Z,B[8]=ee,B[9]=G,B[10]=et,B[11]=q,B[12]=K,B[13]=W,B[14]=en,B[15]=J,B[16]=$,B[17]=r,B[18]=n,B[19]=l,B[20]=c,B[21]=d,B[22]=h}else r=B[17],n=B[18],l=B[19],c=B[20],d=B[21],h=B[22];let ec=h;return B[60]!==r?(w=0===r?e(i).createElement(a("bUlM5").default,{justifyContent:"center",alignItems:"center",xcss:_},e(i).createElement(e(a("h1ewt")),{label:"unlocked",color:"var(--ds-icon, #292A2E)"})):e(i).createElement(a("bUlM5").default,{justifyContent:"center",alignItems:"center",xcss:y},e(i).createElement(e(a("9Q2dU")),{label:"locked",color:"var(--ds-icon-danger, #C9372C)"})),B[60]=r,B[61]=w):w=B[61],B[62]!==r||B[63]!==ei||B[64]!==n||B[65]!==Y||B[66]!==F||B[67]!==es||B[68]!==d||B[69]!==ec||B[70]!==z?(P=Y?e(i).createElement(a("cuAuQ").default,{options:d,value:d[r],spacing:"compact",id:"general-access-level-options",target:t=>{let{isOpen:r,...n}=t;return e(i).createElement(a("2W0qg").default,{...n,isDisabled:F||es&&(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment"),padding:"space.0",backgroundColor:"color.background.neutral.subtle",xcss:[x,r&&O],"aria-describedby":"instru"},e(i).createElement(a("6f0Oj").default,null,ec),e(i).createElement(e(a("ghftu")),{spacing:"spacious",label:ei(f.dropdownIconLabel),size:"small"}))},onChange:n,styles:{option:L},menuIsOpen:z}):e(i).createElement(a("6f0Oj").default,{xcss:[T]},ec),B[62]=r,B[63]=ei,B[64]=n,B[65]=Y,B[66]=F,B[67]=es,B[68]=d,B[69]=ec,B[70]=z,B[71]=P):P=B[71],B[72]===Symbol.for("react.memo_cache_sentinel")?(D=[C],B[72]=D):D=B[72],B[73]!==V||B[74]!==Q||B[75]!==l||B[76]!==c?(M=c({isOpen:l,hasInheritedRestrictionsSubtext:V,forOptions:Q}),B[73]=V,B[74]=Q,B[75]=l,B[76]=c,B[77]=M):M=B[77],B[78]!==M?(N=e(i).createElement(a("6f0Oj").default,{xcss:D,id:"instru"},M),B[78]=M,B[79]=N):N=B[79],B[80]!==P||B[81]!==N?(U=e(i).createElement(a("1GzhS").default,{xcss:I},P,N),B[80]=P,B[81]=N,B[82]=U):U=B[82],B[83]!==w||B[84]!==U?(j=e(i).createElement(a("bUlM5").default,{alignItems:"center"},w,U),B[83]=w,B[84]=U,B[85]=j):j=B[85],j}:({isLockedOut:t,isDraft:r,hasInheritedRestrictions:n,onOpenRestrictedChange:s,openSpaceAccessDetails:l,handleOpenAccessWarningDialog:c,shouldGeneralAccessMenuBeOpen:d,parentPageLink:h,isEditable:w,hideSpaceOrParentLink:L,showLongSubtext:P,generalAccessLevel:D,shouldShowDeletedGroupDetails:M,hasRestrictions:N,hasViewRestrictions:U,isLivePage:j,contentType:B,edition:F,shouldResolveMismatchedRestrictions:G,isSaving:V})=>{let q,{formatMessage:K}=(0,a("8C5kA").default)(),{createAnalyticsEvent:H}=(0,a("inPa6").useAnalyticsEvents)(),z={open:K(f.openAccessLabel),openInherited:K(f.restrictedByParentAccessLabel),restricted:K(f.restrictedAccessLabel)},W="restricted"!==D,Y=F===a("euL71").ConfluenceEdition.FREE,Q=Y||n,$=`${a("jlIaF").CONTEXT_PATH}${h}`;a("1NBp8").FOLDER_VIEW.match($)&&($+="?referrer=share-and-restrict-dialog");let X=P?"open-can-edit"===D?E:b:g,J=({isOpen:e,hasInheritedRestrictionsSubtext:t})=>M?X.onlySpecificPeopleSubtext:r&&t&&e?X.draftAnyoneOnTheParentSubtext:r&&!t&&e?X.draftAnyoneInThisSpaceSubtext:r&&!e?X.draftOnlySpecificPeopleSubtext:!r&&t&&e?X.anyoneOnTheParentSubtext:r||t||!e?X.onlySpecificPeopleSubtext:X.anyoneInThisSpaceSubtext,Z=(0,i.useCallback)(()=>{H({type:"sendUIEvent",data:{source:m.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,actionSubject:"button",actionSubjectId:"AuditSpaceAccessButton",action:"clicked"}}).fire(),l()},[H,l]),ee=({isOpen:t,hasInheritedRestrictionsSubtext:r,forOptions:n=!1})=>K(J({isOpen:t,hasInheritedRestrictionsSubtext:r}),{a:t=>M||n||void 0===l?e(i).createElement(e(i).Fragment,null,t):r?e(i).createElement(e(i).Fragment,null):e(i).createElement(a("bYWO7").PressableLink,{showUnderline:!0,fontSize:"small",onClick:Z},t),parentLink:t=>n?e(i).createElement(e(i).Fragment,null,t):e(i).createElement(a("bYWO7").PressableLink,{targetBlank:!0,href:$,showUnderline:!0,fontSize:"small"},t)}),et=[...Y?[{label:e(i).createElement(e(i).Fragment,null,"open-can-edit"!==D?e(i).createElement(a("6f0Oj").default,{xcss:R},e(i).createElement(p.ChangeEditionSectionMessageShareAndRestrict,{handleOnClick:c,customPadding:"var(--ds-space-200, 16px)"})):e(i).createElement(a("6f0Oj").default,{xcss:k},e(i).createElement(u,{source:"generalAccessLevelSelector",customPadding:"var(--ds-space-100, 8px) var(--ds-space-200, 16px) var(--ds-space-200, 16px) var(--ds-space-200, 16px)"}))),value:"tryItFree",isDisabled:Y}]:[],{label:e(i).createElement(a("dcJ7R").default,{grow:"fill",spread:"space-between",alignInline:"center"},e(i).createElement(a("bUlM5").default,{alignItems:"center"},e(i).createElement(a("bUlM5").default,{justifyContent:"center",alignItems:"center",xcss:[_,Q&&v]},e(i).createElement(e(a("h1ewt")),{label:K(f.unlockIconLabel),color:"var(--ds-icon, #292A2E)"})),e(i).createElement(a("6f0Oj").default,{xcss:Q&&v},e(i).createElement(a("6f0Oj").default,{xcss:[S]},z.open),e(i).createElement(a("dcJ7R").default,{alignBlock:"center",xcss:[A]},ee({isOpen:!0,hasInheritedRestrictionsSubtext:!1,forOptions:!0})))),n&&!Y&&e(i).createElement(a("3gadb").default,{content:K(f.restrictedByParentTooltip),position:"bottom"},t=>e(i).createElement(a("1qfLF").default,{...t,spacing:"compact",shape:"circle",appearance:"subtle",icon:e(a("eXmBZ")),label:K(f.restrictedByParentTooltipIconLabel)}))),value:"open",isDisabled:Q},...n?[{label:e(i).createElement(a("bUlM5").default,{alignItems:"center"},e(i).createElement(a("bUlM5").default,{justifyContent:"center",alignItems:"center",xcss:[y,Y&&v]},e(i).createElement(e(a("9Q2dU")),{label:K(f.lockIconLabel),color:"var(--ds-icon-danger, #C9372C)"})),e(i).createElement(a("6f0Oj").default,{xcss:Y&&v},e(i).createElement(a("6f0Oj").default,{xcss:[S]},z.openInherited),e(i).createElement(a("dcJ7R").default,{alignBlock:"center",xcss:[A]},ee({isOpen:!0,hasInheritedRestrictionsSubtext:!0,forOptions:!0})))),value:"open",isDisabled:Y}]:[],{label:e(i).createElement(a("bUlM5").default,{alignItems:"center"},e(i).createElement(a("bUlM5").default,{justifyContent:"center",alignItems:"center",xcss:[y,Y&&v]},e(i).createElement(e(a("9Q2dU")),{label:K(f.lockIconLabel),color:"var(--ds-icon-danger, #C9372C)"})),e(i).createElement(a("6f0Oj").default,{xcss:Y&&v},e(i).createElement(a("dcJ7R").default,null,e(i).createElement(a("6f0Oj").default,{xcss:[S]},z.restricted),e(i).createElement(o.ReverseTrialLozengeExperiment,{touchpointId:"confluence_page_restrictions_dialog_list_item",edition:a("euL71").ConfluenceEdition.STANDARD})),e(i).createElement(a("dcJ7R").default,{alignBlock:"center",xcss:[A]},ee({isOpen:!1,hasInheritedRestrictionsSubtext:n,forOptions:!0})))),value:"restricted",isDisabled:Y}],ea=G&&M?0:M?q=N||U?1:0:(q=+!W,n&&(q+=1),q),er=M?G||!N?z.open:n?z.openInherited:z.restricted:0===ea?z.open:1===ea&&n?z.openInherited:z.restricted;return e(i).createElement(a("bUlM5").default,{alignItems:"center"},0===ea?e(i).createElement(a("bUlM5").default,{justifyContent:"center",alignItems:"center",xcss:_},e(i).createElement(e(a("h1ewt")),{label:"unlocked",color:"var(--ds-icon, #292A2E)"})):e(i).createElement(a("bUlM5").default,{justifyContent:"center",alignItems:"center",xcss:y},e(i).createElement(e(a("9Q2dU")),{label:"locked",color:"var(--ds-icon-danger, #C9372C)"})),e(i).createElement(a("1GzhS").default,{xcss:I},w?e(i).createElement(a("cuAuQ").default,{options:et,value:et[ea],spacing:"compact",id:"general-access-level-options",target:({isOpen:r,...n})=>e(i).createElement(a("2W0qg").default,{...n,isDisabled:t||V&&(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment"),padding:"space.0",backgroundColor:"color.background.neutral.subtle",xcss:[x,r&&O],"aria-describedby":"instru"},e(i).createElement(a("6f0Oj").default,null,er),e(i).createElement(e(a("ghftu")),{spacing:"spacious",label:K(f.dropdownIconLabel),size:"small"})),onChange:e=>{H({type:"sendUIEvent",data:{source:m.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"selected",actionSubject:"option",actionSubjectId:"GeneralAccessLevelSelector",attributes:{selectedOption:e?.value,hasInheritedRestrictions:n,isDraft:r,isLivePage:j,contentType:B}}}).fire(),s(e?.value==="restricted")},styles:{option:(e,{data:t})=>{let a=t?.value;return{...e,color:"tryItFree"===a?"var(--ds-text, #292A2E)":" ",padding:"tryItFree"===a?"var(--ds-space-0, 0px)":"var(--ds-space-075, 6px) var(--ds-space-150, 12px)"}}},menuIsOpen:d}):e(i).createElement(a("6f0Oj").default,{xcss:[T]},er),e(i).createElement(a("6f0Oj").default,{xcss:[C],id:"instru"},ee({isOpen:W,hasInheritedRestrictionsSubtext:n,forOptions:L}))))};function L(e,t){let{data:a}=t,r=a?.value;return{...e,color:"tryItFree"===r?"var(--ds-text, #292A2E)":" ",padding:"tryItFree"===r?"var(--ds-space-0, 0px)":"var(--ds-space-075, 6px) var(--ds-space-150, 12px)"}}t.exports.GeneralAccessLevelSelector=w}),r("jhTeh",function(e,t){let r=(0,a("jmjWc").LoadableLazy)({__loadable_id__:"i0t_g",name:"ReverseTrialLozengeExperiment",loader:async()=>(await a("024cu")).ReverseTrialLozengeWithErrorBoundary});e.exports.ReverseTrialLozengeExperiment=r}),r("024cu",function(e,t){let r=a("4mJKd")(5);e.exports=Promise.all([r("Wowvf"),r("hhss7"),r("fqBFU")]).then(()=>a("gQsLh"))}),r("Zkhpa",function(t,r){var n=a("42omo"),s=a("4WmbV"),i=a("ki6F7"),o=a("gLeLL");let l=(0,n.forwardRef)(({as:t="div",style:r,...s},i)=>e(n).createElement(t,{...s,style:r,ref:i,className:(0,a("gMc0m").default)(["_zulputpp _1e0c1txw _16jlkb7n _1bah1yb4",s.className])})),c=(0,n.forwardRef)(({as:t="div",style:r,...s},i)=>e(n).createElement(t,{...s,style:r,ref:i,className:(0,a("gMc0m").default)(["",s?.topBanner?"_zulputpp _1e0c11p5 _yv0e1ghl _4cvrv2br":"_1e0c1o8l _2lx21bp4",s.className])})),d=(0,n.forwardRef)(({as:t="a",style:r,...s},i)=>e(n).createElement(t,{...s,style:r,ref:i,className:(0,a("gMc0m").default)(["_k48p1wq8 _syaz1gd8 _80omtlke",s.className])})),u=(0,a("ecnYn").xcss)({display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),p=(0,a("ecnYn").xcss)({display:"inline"});t.exports.MiniSectionMessage=({messageContent:t,dismissButton:r,learnMoreLink:m,topBanner:f=!1,targetEdition:g=a("euL71").ConfluenceEdition.PREMIUM,...h})=>{let{source:E,upgradeEditionActionSubjectId:b,onUpgradeButtonClick:_}=h,{createAnalyticsEvent:y}=(0,a("inPa6").useAnalyticsEvents)(),{edition:v}=(0,a("bQm3c").useSessionData)(),{formatMessage:S}=(0,a("8C5kA").default)(),{isSiteAdmin:A}=(0,n.useContext)(a("1ytiN").SPAViewContext),C=m?.appearance==="subtle-link"?a("ktelT").GradientSubtleLinkButton:d,I=(0,n.useCallback)(()=>{y({type:"sendUIEvent",data:{action:"clicked",actionSubject:"link",actionSubjectId:"freeLearnMore",source:E,attributes:{currentEdition:v,targetEdition:g,isSiteAdmin:A,linkMessage:m?.messageDescriptor?.defaultMessage}}}).fire()},[y,E,v,g,A,m]);return e(n).createElement(o.SectionMessage,{body:e(n).createElement(l,null,e(n).createElement(c,{topBanner:f},e(n).createElement(a("6f0Oj").default,{xcss:f?u:p},e(n).createElement(a("gtD4K").default,t)," "),A?e(n).createElement(i.UpgradeEditionButton,{analyticsProps:{actionSubjectId:b||"",source:E,attributes:{isSiteAdmin:!0}},appearance:"subtle-link",targetEdition:g,onUpgradeButtonClick:_}):m?.messageDescriptor&&e(n).createElement(C,{href:m?.href,onClick:()=>{I(),m?.onClick?.()},target:m?.target},S(m.messageDescriptor))),r),buttonConfig:s.SectionMessageButtonConfig.NONE,...h})}}),r("4WmbV",function(t,r){var n,s=a("42omo"),i=a("iJ9aA"),o=a("ki6F7"),l=a("cHKtk"),c=((n={}).DEFAULT="default",n.UPGRADE_ONLY="upgradeOnly",n.NONE="none",n);t.exports.SectionMessageButtonConfig=c,t.exports.ChangeEditionSectionMessage=({canShowUpgradeButton:t=!0,buttonConfig:r="default",upgradeEditionActionSubjectId:n="freeTryNow",grandfathered:c,source:d,onUpFlowOpen:u,secondaryLink:p,targetEdition:m,learnMoreLink:f,footer:g,headerButton:h,showRequestUpgradeButton:E=!1,showRequestUpgradeButtonAATest:b=!1,isLoadingRequestUpgradeButton:_=!1,...y})=>{let{createAnalyticsEvent:v}=(0,a("iC1wS").useEditionsAnalyticsContext)(),{isSiteAdmin:S}=(0,s.useContext)(a("1ytiN").SPAViewContext),A=(0,s.useMemo)(()=>({isSiteAdmin:S,isGrandfathered:!!c}),[c,S]),C=e=>({actionSubjectId:e,source:d,attributes:A}),I=(e,t)=>{v&&v({type:"sendUIEvent",data:{action:"clicked",actionSubject:"link",actionSubjectId:e,source:d,attributes:{...A,linkMessage:t}}}).fire()},T=()=>{p&&(I(p.actionSubjectId,p.messageDescriptor.defaultMessage),"function"==typeof p.onClick&&p.onClick())};(0,s.useEffect)(()=>{v&&v({type:"sendScreenEvent",data:{name:"changeEditionGatewayScreen",attributes:{...A,source:d}}}).fire()},[v,A,d]);let x=(t,r)=>{let n=f?.icon||r?f?.appearance||"default":"link",i=t?k({appearance:n}):null,o=p?e(s).createElement(a("eEA8O").default,{key:"secondLink",appearance:p.appearance||"default",href:p.href?p.href:void 0,id:"secondaryLink",spacing:"default",target:p.target||"_blank",onClick:T,testId:(0,a("k4Vdy").calculateTestId)({source:d,actionSubjectId:p.actionSubjectId})},e(s).createElement(a("gtD4K").default,p.messageDescriptor)):null;return p?.appearance==="primary"&&"primary"!==n?[o,i]:[i,o]},k=({children:t,...r})=>e(s).createElement(i.LearnMoreButton,{key:"learnMore",analyticsProps:C(f?.actionSubjectId||"freeLearnMore"),appearance:f?.appearance||"default",onUpFlowOpen:u,targetEdition:m,inProductHelpId:f?.inProductHelpId,inProductHelpTopic:f?.inProductHelpTopic,href:f?.href,icon:f?.icon,ariaLabel:f?.ariaLabel,...r,onClick:f?.onClick},void 0!==t?t:f?.messageDescriptor?e(s).createElement(a("gtD4K").default,f.messageDescriptor):void 0);return e(s).createElement(a("bhvFb").EditionSectionMessage,{actions:"none"!==r?e(s).createElement(a("hArLp").default,null,_&&(0,a("9wGTI").fg)("connie_end_user_request_kill_switch")?e(s).createElement(a("kpYGL").default,{width:"200px",height:"32px"}):e(s).createElement(a("lNKOh").ChangeEditionSectionMessageButtonsWrapper,{isSiteAdmin:S,canShowUpgradeButton:t,shouldShowLearnMore:!p,showRequestUpgradeButton:E},({showUpgradeTryNowButton:t,showLearnMore:i,learnMoreIsPrimaryCTA:c})=>{let p,f,g=t?e(s).createElement(o.UpgradeEditionButton,{analyticsProps:C(n),onUpFlowOpen:u,targetEdition:m,...y}):null;return g?p=g:E&&(0,a("9wGTI").fg)("connie_end_user_request_kill_switch")?p=e(s).createElement(l.EndUserRequestUpgradeButton,{source:d}):b&&(0,a("9wGTI").fg)("connie_end_user_request_kill_switch")&&(p=e(s).createElement("div",null)),"upgradeOnly"===r&&S||(f=g&&p!==g?[e(s).cloneElement(g,{appearance:"link"})]:x(i,c)),e(s).createElement(e(s).Fragment,null,p,f)})):void 0,edition:m,footer:S&&g?e(s).createElement(e(s).Fragment,null,g):null,headerButton:e(s).createElement(a("hArLp").default,null,h),...y})}}),r("iJ9aA",function(t,r){var n=a("bsrY7"),s=a("42omo"),i=a("f7tt0"),o=a("e5k34");let l=(0,a("ecnYn").xcss)({paddingLeft:"space.100",paddingRight:"space.100",margin:"auto"}),c=(0,a("ecnYn").xcss)({padding:"space.0"}),d=(0,a("cgtv4").defineMessages)({tryItFree:{id:"change-edition.section.message.try.free",defaultMessage:"Try it free"},learnMoreButton:{id:"change-edition.section.message.general.button.link",defaultMessage:"Learn more"}}),u=({analyticsProps:t,appearance:r,isSiteAdmin:u,onUpFlowOpen:p,targetEdition:m=a("euL71").ConfluenceEdition.STANDARD,isGrandfathered:f=!1,inProductHelpId:g,inProductHelpTopic:h,href:E,children:b,icon:_,onClick:y,ariaLabel:v,...S})=>{let A=(0,a("8C5kA").default)(),{cloudId:C,edition:I,userId:T,isLicensed:x}=(0,a("bQm3c").useSessionData)(),{createAnalyticsEvent:k}=(0,a("iC1wS").useEditionsAnalyticsContext)(),[R,O]=(0,s.useState)(!1),w=(0,s.useContext)(a("1kHsc").ExperienceTrackerContext),L=x&&(!u||I===a("euL71").ConfluenceEdition.FREE),{source:P,actionSubjectId:D}=t,M=(0,a("k4Vdy").calculateTestId)({source:P,actionSubjectId:D}),N=void 0!==b?b:e(s).createElement(a("gtD4K").default,d.learnMoreButton),U=_&&!N;(0,s.useEffect)(()=>()=>{L||w.abort({name:a("irVI7").UPSELL_EDITION_PREMIUM_EXPERIENCE,reason:"Canceled by user"})},[w,L]);let j=()=>{k({type:"sendUIEvent",data:{action:"clicked",actionSubject:"link",actionSubjectId:"freeLearnMore",...t,attributes:{currentEdition:I,isSiteAdmin:u,linkMessage:d.learnMoreButton.defaultMessage,targetEdition:m,...t.attributes}}}).fire(),w.start({name:L?a("irVI7").UPSELL_EDITION_UPFLOW_EXPERIENCE:a("irVI7").UPSELL_EDITION_PREMIUM_EXPERIENCE,attributes:{currentEdition:I,linkClicked:D||"freeLearnMore",source:P,targetEdition:m}})};if(f&&!u)return null;E||(E=L?"#":a("gsZdA").LEARN_MORE_LINK);let B=E.startsWith("#")?void 0:"_blank",F={target:B,href:E,onClick:e=>{if(j(),y)return void y();!B&&L&&(O(!0),e.preventDefault())},"aria-label":v&&A.formatMessage(v),testId:M,...S};return e(s).createElement(e(s).Fragment,null,!L&&g&&h?e(s).createElement(a("6f0Oj").default,{xcss:U?c:l},e(s).createElement(i.InProductHelpButton,{articleId:g,onClick:()=>{k({type:"sendUIEvent",data:{action:"clicked",actionSubject:"helpLink",source:"adminKeyUpSell",attributes:{targetArticleId:g,isSPA:!0}}}).fire()},articleTopic:h,testId:M,...S},U?_:N)):((t={})=>"inline-link"===r?e(s).createElement("a",t,N):e(s).createElement(a("eEA8O").default,{appearance:r,className:"subtle-link"===r?void 0:"primaryButton",id:"learnMoreLink",spacing:U?"none":"default",iconBefore:_,testId:M,...t},N))(F),L&&R&&e(s).createElement(o.UpFlowCommerceRouterLoadable,{cloudId:C,atlassianAccountId:T||void 0,canChangeEdition:u,currentEdition:I||void 0,targetEdition:m,flow:a("2KmnS").UpFlowComponentFlowType.LEARN_MORE,product:"confluence",touchpointId:P,onClose:()=>{e(n)(p)||O(!1)},onOpen:p,isExperienceTrackerEnabled:!0,epMessageId:a("gsZdA").UP_FLOW_EP_MESSAGE_ID}))},p=(0,a("f7Bnv").withIsSiteAdmin)(u);t.exports.i18n=d,t.exports.LearnMoreButtonComponent=u,t.exports.LearnMoreButton=p}),r("2KmnS",function(e,t){var a,r=((a={}).LEARN_MORE="learn-more",a.UPGRADE="upgrade",a.REQUEST_UPGRADE="request-upgrade",a.REQUEST_LEARN_MORE="request-learn-more",a);e.exports.UpFlowComponentFlowType=r}),r("f7tt0",function(e,t){let r=(0,a("jmjWc").LoadableAfterPaint)({__loadable_id__:"xD_n9",name:"InProductHelpButton",loader:async()=>(await a("j0wkI")).InProductHelpButton});e.exports.InProductHelpButton=r}),r("j0wkI",function(e,t){e.exports=a("4mJKd")(5)("82QsP").then(()=>a("lcEzf"))}),r("gsZdA",function(e,t){var a,r=((a={}).DEFAULT="default",a.FLAT="flat",a.INLINE="inline",a.INLINE_MODAL="inline-modal",a);e.exports.LEARN_MORE_LINK="https://confluence.atlassian.com/display/ConfCloud/Confluence+Cloud+plans",e.exports.SECTION_MESSAGE_APPEARANCE_TYPES=r,e.exports.UP_FLOW_EP_MESSAGE_ID="confluence-up-flow-modal"}),r("f7Bnv",function(t,r){var n=a("42omo");t.exports.withIsSiteAdmin=function(t){return function(r){let{isSiteAdmin:s,error:i,loading:o}=(0,n.useContext)(a("1ytiN").SPAViewContext);return i||o?null:e(n).createElement(t,{...r,isSiteAdmin:s})}}}),r("iC1wS",function(t,r){var n=a("42omo");let s=(0,n.createContext)(void 0),i=(e,t)=>({...e,data:{...e.data,attributes:{...e.data.attributes,...t?.customAttributes}}}),o=()=>{let e=(0,n.useContext)(s),{createAnalyticsEvent:t}=(0,a("inPa6").useAnalyticsEvents)(),r=(0,n.useCallback)(t=>i(t,e),[e]);return{createAnalyticsEvent:(0,n.useCallback)(e=>t(r(e)),[t,r]),wrapAnalyticsEventPayload:r}},l=()=>{let e=(0,n.useContext)(s),{createAnalyticsEvent:t}=(0,a("inPa6").useAnalyticsEvents)(),r=(0,n.useCallback)(t=>i(t,e),[e]);return{createAnalyticsEvent:(0,n.useCallback)(e=>{let a=t(r(e)),n=a.context?.find(e=>e?.attributes?.experimentMeta)?.attributes?.experimentMeta;return a.payload={...a.payload,data:{...a.payload?.data,attributes:{...a.payload?.data?.attributes,...n?.key&&n?.cohort&&{experiments:{[n.key]:{cohort:n.cohort}}}}}},a},[t,r]),wrapAnalyticsEventPayload:r}},c={};t.exports.useEditionsAnalyticsContext=()=>{let e=l(),t=o();return(0,a("9wGTI").fg)("replace_upsell_cta_content_fg")?e:t},t.exports.AnalyticsProvider=({children:t,customAttributes:a=c})=>{let r=(0,n.useMemo)(()=>({customAttributes:a}),[a]);return e(n).createElement(s.Provider,{value:r},t)}}),r("k4Vdy",function(t,r){var n=a("12IaO");t.exports.calculateTestId=({actionSubjectId:t,source:a})=>void 0!==t?`${a}${e(n)(t)}`:void 0}),r("ki6F7",function(t,r){var n=a("42omo"),s=a("b3j2Y"),i=a("hSqtY"),o=a("l0DoV"),l=a("e5k34");let c=(0,a("cgtv4").defineMessages)({tryItFree:{id:"change-edition.upgrade.try.free",defaultMessage:"Try it free"},tryItNow:{id:"change-edition.upgrade.try.now",defaultMessage:"Try it now"},tryPremium:{id:"change-edition.upgrade.try.premium",defaultMessage:"Try Premium"}}),d={[a("euL71").ConfluenceEdition.FREE]:a("5M47w").CommerceDeepLinksTargetEdition.FREE,[a("euL71").ConfluenceEdition.STANDARD]:a("5M47w").CommerceDeepLinksTargetEdition.STANDARD,[a("euL71").ConfluenceEdition.PREMIUM]:a("5M47w").CommerceDeepLinksTargetEdition.PREMIUM},u=e=>"primary"===e?a("dqdrq").GradientCTAButton:"subtle-link"===e?a("ktelT").GradientSubtleLinkButton:a("4KS7f").default,p=({analyticsProps:{actionSubjectId:t,attributes:r,source:i},appearance:p="primary",children:m,onUpFlowOpen:f,targetEdition:g=a("euL71").ConfluenceEdition.STANDARD,onUpgradeButtonClick:h})=>{let[E,b]=(0,n.useState)(!1),[_,y]=(0,n.useState)(),{cloudId:v,edition:S,userId:A}=(0,a("bQm3c").useSessionData)(),{createAnalyticsEvent:C}=(0,a("iC1wS").useEditionsAnalyticsContext)(),I=(0,a("ij4CE").useWriteFragmentInterop)({fragmentSpec:a("ey6Pt").default}),T=(0,n.useContext)(a("1kHsc").ExperienceTrackerContext),x=g===a("euL71").ConfluenceEdition.STANDARD,{cohort:k,isSiteAdmin:R,isBillingAdmin:O,loading:w}=(0,a("2UjZJ").useUpflowV2ConfluenceStandardFGsExperiment)({skip:!x||!E,touchpointId:i,currentEdition:S,targetEdition:g}),{commerceBackendName:L,planConsentDeepLink:P,errorMessage:D}=(0,a("5M47w").useCommerceDeepLinks)({targetEdition:d[g],skipDeepLinks:x});(0,n.useEffect)(()=>()=>{x||T.abort({name:a("irVI7").UPSELL_EDITION_PREMIUM_EXPERIENCE,reason:"Canceled by user"})},[T,x]),(0,n.useEffect)(()=>{C({type:"sendTrackEvent",data:{action:"rendered",actionSubject:"upgradeEditionButton",actionSubjectId:t,source:i,attributes:{...r,currentEdition:S,targetEdition:g}}}).fire()},[]);let M=()=>{r&&(r.currentEdition=S,r.targetEdition=g,r.commerceBackend=L),C({type:"sendUIEvent",data:{action:"clicked",actionSubject:"link",actionSubjectId:t,source:i,attributes:r}}).fire(),D&&C({type:"sendOperationalEvent",data:{action:"errored",actionSubject:"useCommerceDeepLinks",actionSubjectId:t,source:i,attributes:{...r,currentEdition:S,targetEdition:g,upsellDeepLink:P?P.split("?")[0]:void 0,errorMessage:D}}}).fire()},N=async()=>{h&&h();try{let e=await (0,a("fDbEj").waitForEditionChange)(S,I);T.succeed({name:a("irVI7").UPSELL_EDITION_PREMIUM_EXPERIENCE,attributes:{currentEdition:S,targetEdition:e}}),window.location.reload()}catch(e){e===a("fDbEj").TimeoutError?T.abort({name:a("irVI7").UPSELL_EDITION_PREMIUM_EXPERIENCE,reason:"Possibly canceled by user"}):((0,a("fGzMp").stopExperienceOnError)(a("irVI7").UPSELL_EDITION_PREMIUM_EXPERIENCE,e),y(e))}},U=()=>{b(!1)},j={appearance:p,className:"primaryButton",href:x?void 0:P,onClick:()=>{M(),T.start({name:x?a("irVI7").UPSELL_EDITION_UPFLOW_EXPERIENCE:a("irVI7").UPSELL_EDITION_PREMIUM_EXPERIENCE,attributes:{currentEdition:S,linkClicked:t,source:i,targetEdition:g}}),x?b(!0):N()},target:x?void 0:"_blank",iconBefore:"primary"===p?e(n).createElement(e(a("izVB4")),{label:"",color:"var(--ds-icon-inverse, #FFFFFF)"}):void 0,testId:(0,a("k4Vdy").calculateTestId)({source:i,actionSubjectId:t})},B={appearance:p,testId:"upflowV2ExperimentLoadingButton",isDisabled:!0,isLoading:!0,iconBefore:"primary"===p?e(a("izVB4")):void 0},F=m||e(n).createElement(a("gtD4K").default,c.tryItFree),G=u(p);return e(n).createElement(e(n).Fragment,null,_?e(n).createElement(s.ErrorDisplay,{error:_}):null,w?e(n).createElement(a("ccHMk").default,B,F):e(n).createElement(G,j,F),x&&E?w?null:"variation"===k?e(n).createElement(o.TryStandardUpflowV2ExperimentTreatmentModalLoadable,{isOpen:E,closeModal:U,touchpointId:i,targetEdition:g,isBillingAdmin:O,isSiteAdmin:R,currentEdition:S}):e(n).createElement(l.UpFlowCommerceRouterLoadable,{canChangeEdition:!0,cloudId:v,currentEdition:S||void 0,atlassianAccountId:A||void 0,flow:"upgrade",product:"confluence",targetEdition:g,touchpointId:i,isExperienceTrackerEnabled:!0,onClose:f?void 0:U,onOpen:f,epMessageId:a("gsZdA").UP_FLOW_EP_MESSAGE_ID}):null)},m=(0,a("3yh4a").componentWithFG)("replace_upsell_cta_content_fg",({analyticsProps:{actionSubjectId:t,attributes:r,source:s},appearance:o="primary",children:l,onUpFlowOpen:c,targetEdition:d=a("euL71").ConfluenceEdition.STANDARD,onUpgradeButtonClick:u})=>{let{edition:m}=(0,a("bQm3c").useSessionData)(),{createAnalyticsEvent:f}=(0,a("iC1wS").useEditionsAnalyticsContext)(),{upgradeButtonContent:g,cohort:h}=(0,a("b0Zto").useChangeEditionUpgradeButtonContentExperiment)({targetEdition:d,featureGateId:t||s});return e(n).createElement(i.TransparentErrorBoundary,{attribution:a("3IBnw").Attribution.GROWTH_LUNA,onError:(e,n)=>{f((0,a("8hmrm").createProductSpecificAnalyticsIntegrationPayload)({product:a("gwZbZ").Product.CONFLUENCE,team:a("6o7wX").Team.GROWTH_LUNA,experimentMeta:{experimentKey:"replace_upsell_cta_content"},errorType:a("gwZbZ").ErrorType.ERROR_BOUNDARY,errorMessage:e.message,severity:a("gwZbZ").Severity.MEDIUM,source:"replace_upsell_cta_content",additionalAttributes:{...n,feature_gate:t||s,attributes:r,source:s}})).fire()}},e(n).createElement(a("lgF8o").ExperimentAnalyticsContext,{experimentMeta:{key:"replace_upsell_cta_content",cohort:h,targetEdition:d,currentEdition:m,content:g||l}},e(n).createElement(p,{analyticsProps:{actionSubjectId:t,attributes:r,source:s},appearance:o,onUpFlowOpen:c,targetEdition:d,onUpgradeButtonClick:u},g||l)))},p);t.exports.UpgradeEditionButton=m}),r("ey6Pt",function(e,t){var a;let r={argumentDefinitions:[],kind:"Fragment",name:"UpgradeEditionButtonFragment",selections:[{concreteType:"Editions",kind:"LinkedField",name:"editions",plural:!1,selections:[{kind:"ScalarField",name:"confluence"},a={kind:"ScalarField",name:"__typename"}]},a],type:"ConfluenceTenantContext"};r.hash="bee007bb99f1be1656322a1f41effd37",e.exports.default=r}),r("izVB4",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var r=s(a("42omo")),n=s(a("aSNrY"));function s(e){return e&&e.__esModule?e:{default:e}}let i=e=>r.default.createElement(n.default,Object.assign({name:"EditionsIcon",dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M2.614 1.353A.75.75 0 0 1 3.25 1h9.5a.75.75 0 0 1 .636.353l2.5 4a.75.75 0 0 1-.065.884l-7.25 8.5a.75.75 0 0 1-1.142 0l-7.25-8.5a.75.75 0 0 1-.065-.885zM3.666 2.5 2.103 5H4.7l.78-2.5zm3.385 0L6.271 5H9.73l-.781-2.5zm3.47 0L11.3 5h2.596l-1.563-2.5zm3.103 4h-2.328l-1.424 4.399zM8 11.813 9.72 6.5H6.28zM4.704 6.5l1.424 4.399L2.375 6.5z" clip-rule="evenodd"/>'},e));i.displayName="EditionsIcon",e.exports.default=i}),r("lgF8o",function(e,t){var r=a("l998X");a("42omo"),e.exports.ExperimentAnalyticsContext=({experimentMeta:e,children:t})=>(0,r.jsx)(a("bYRk6").default,{data:{attributes:{experimentMeta:e}},children:t})}),r("8hmrm",function(e,t){e.exports.createProductSpecificAnalyticsIntegrationPayload=({product:e,team:t,experimentMeta:r,errorType:n,errorMessage:s,source:i,severity:o,additionalAttributes:l={}},c=!0)=>{(0,a("39G0n").validateExperimentName)(r.experimentKey);let d=(0,a("gvWCD").createEventPayload)({team:t,experimentMeta:r,errorType:n,errorMessage:s,source:i,severity:o,isActiveExperiment:c,additionalAttributes:l,product:e});switch(e){case a("gwZbZ").Product.ADMIN_HUB:return{data:d};case a("gwZbZ").Product.JIRA:return{data:d,productSpecificRules:{jira:{createAnalyticsEventPayload:(0,a("3HIy9").convertEventPayloadForJiraCreateAnalyticsEvent)({data:d}),fireEventPayload:(0,a("3HIy9").convertEventAttributesForJiraFireEvent)({data:d})}}};case a("gwZbZ").Product.CONFLUENCE:return{type:a("gwZbZ").CONFLUENCE_OPERATIONAL_EVENT_TYPE,data:d};default:throw Error(`Unsupported product: ${e}`)}}}),r("gwZbZ",function(e,t){var a,r,n,s=((a={}).JIRA="jira",a.CONFLUENCE="confluence",a.ADMIN_HUB="admin-hub",a),i=((r={}).GRAPHQL="graphql",r.REST="rest",r.ERROR_BOUNDARY="error-boundary",r.GENERIC="generic",r),o=((n={}).LOW="low",n.MEDIUM="medium",n.HIGH="high",n);e.exports.ERROR_ACTION="error",e.exports.ERROR_ACTION_SUBJECT="growth-experiment",e.exports.CONFLUENCE_OPERATIONAL_EVENT_TYPE="sendOperationalEvent",e.exports.Product=s,e.exports.ErrorType=i,e.exports.Severity=o,e.exports.EVENT_TAG_GROWTH="growth"}),r("gvWCD",function(e,t){e.exports.createEventPayload=({team:e,experimentMeta:t,errorType:r,errorMessage:n,source:s,severity:i,isActiveExperiment:o,product:l,additionalAttributes:c={}})=>{let d=`${a("gwZbZ").ERROR_ACTION_SUBJECT}-${t.experimentKey}-${r}`;return{action:a("gwZbZ").ERROR_ACTION,actionSubject:a("gwZbZ").ERROR_ACTION_SUBJECT,actionSubjectId:d,source:t.experimentKey,attributes:{errorType:r,team:e,experimentKey:t.experimentKey,cohort:t?.cohort,severity:i,errorMessage:n,isActiveExperiment:o,product:l,detailedSource:s,...c},tags:[a("gwZbZ").EVENT_TAG_GROWTH]}}}),r("3HIy9",function(e,t){e.exports.convertEventPayloadForJiraCreateAnalyticsEvent=e=>{let{data:t}=e;return{action:t.action,actionSubject:t.actionSubject,source:t.source,actionSubjectId:t.actionSubjectId,tags:t.tags}},e.exports.convertEventAttributesForJiraFireEvent=e=>{let{data:t}=e;return{eventName:`${t.actionSubject} ${t.action}`,attributes:t.attributes}}}),r("39G0n",function(e,t){e.exports.validateExperimentName=e=>{if(e.includes(" "))throw Error(`Experiment name "${e}" contains spaces. Experiment names must not contain spaces to ensure proper tracking in dashboards. Use camelCase or hyphens instead (e.g., "myExperiment" or "my-experiment").`)}}),r("6o7wX",function(e,t){var a,r=((a={}).GROWTH_LUNA="growth-luna",a);e.exports.Team=r}),r("b0Zto",function(t,r){var n=a("42omo");let s=(0,a("cgtv4").defineMessages)({upgradeButtonText:{id:"experiment-change-edition-upgrade-button-content.upgrade-button.text",defaultMessage:"Upgrade"},getStartedButtonText:{id:"experiment-change-edition-upgrade-button-content.get-started-button.text",defaultMessage:"Get started"}}),i=({targetEdition:e,featureGateId:t})=>!!t&&e===a("d9tcB").ConfluenceEdition.PREMIUM&&!["editorAITryPremium","quickSummaryTryPremium","whiteboardPaywallLearnMoreButton","elevateAutomationUpsellExploreAutomation","elevateAutomationUpsellTryPremium"].includes(t);t.exports.useChangeEditionUpgradeButtonContentExperiment=t=>{let{createAnalyticsEvent:r}=(0,a("inPa6").useAnalyticsEvents)(),o=t&&i(t)?(0,a("6mKj3").expVal)("replace_upsell_cta_content","cohort","not-enrolled"):"not-enrolled";return((0,n.useEffect)(()=>{"not-enrolled"!==o&&r({type:"sendTrackEvent",data:{action:"exposed",actionSubject:"feature",source:"replace_upsell_cta_content",attributes:{flagKey:"replace_upsell_cta_content",cohort:o}}}).fire()},[o,r]),"variant-upgrade"===o)?{upgradeButtonContent:e(n).createElement(a("gtD4K").default,s.upgradeButtonText),cohort:o}:"variant-get-started"===o?{upgradeButtonContent:e(n).createElement(a("gtD4K").default,s.getStartedButtonText),cohort:o}:{upgradeButtonContent:null,cohort:o}}}),r("3yh4a",function(e,t){e.exports.componentWithFG=(e,t,r)=>(0,a("8YePs").componentWithCondition)(()=>(0,a("9wGTI").fg)(e),t,r)}),r("8YePs",function(t,r){var n=a("42omo");t.exports.componentWithCondition=function(t,a,r){let s=(0,n.forwardRef)((s,i)=>t()?e(n).createElement(a,{...s,ref:i}):e(n).createElement(r,{...s,ref:i}));return""!==a.name&&(s.displayName=`ComponentWithCondition[${t.name}]`),s}}),r("2UjZJ",function(e,t){var r=a("42omo");e.exports.useUpflowV2ConfluenceStandardFGsExperiment=({skip:e,touchpointId:t,currentEdition:n,targetEdition:s})=>{let i=(0,a("gXR0B").useFeatureExposedAnalytics)(),[o,l]=(0,r.useState)(null),{isEligible:c,isSiteAdmin:d,isBillingAdmin:u,error:p,loading:m}=(0,a("f1B2z").useIsEligibleForUpflowV2ConfluenceStandardFGsExperiment)({skip:e,currentEdition:n,targetEdition:s});return(0,r.useEffect)(()=>{c?(i({flagKey:"grw-1930_confluence_upv2_standard_ab",cohort:(0,a("6mKj3").expVal)("grw-1930_confluence_upv2_standard_ab","cohort","not-enrolled"),growthInitiative:"luna",touchpointId:t,additionalAttributes:{currentEdition:n,targetEdition:s,isSiteAdmin:d,isBillingAdmin:u}}),l((0,a("6mKj3").expVal)("grw-1930_confluence_upv2_standard_ab","cohort","not-enrolled"))):p?l(null):l("not-enrolled")},[i,c,p,n,s,d,u,t]),{cohort:o,isSiteAdmin:d,isBillingAdmin:u,loading:m,error:p}}}),r("gXR0B",function(e,t){var r=a("42omo");e.exports.useFeatureExposedAnalytics=()=>{let{createAnalyticsEvent:e}=(0,a("inPa6").useAnalyticsEvents)(),t=(0,r.useRef)([]);return(0,r.useCallback)(({flagKey:a,cohort:r,touchpointId:n,growthInitiative:s,additionalAttributes:i={}})=>{let o=`${a}:${n}`;t.current.includes(o)||(e({type:"sendTrackEvent",data:{action:"exposed",actionSubject:"experiment",actionSubjectId:`${a}-exposed`,source:a,attributes:{cohort:r,touchpointId:n,growthInitiative:s,...i}}}).fire(),t.current.push(o))},[e])}}),r("f1B2z",function(e,t){var r=a("42omo");let n=e=>e?.tenantContexts?.[0]?.entitlementInfo?.entitlement?.transactionAccount?.isCurrentUserBillingAdmin;e.exports.useIsEligibleForUpflowV2ConfluenceStandardFGsExperiment=({skip:e=!1,currentEdition:t,targetEdition:s})=>{let{createAnalyticsEvent:i}=(0,a("inPa6").useAnalyticsEvents)(),{cloudId:o}=(0,a("bQm3c").useSessionData)(),{isSiteAdmin:l}=(0,r.useContext)(a("1ytiN").SPAViewContext),c=!!(o&&t===a("euL71").ConfluenceEdition.FREE&&s===a("euL71").ConfluenceEdition.STANDARD&&l),{data:d,loading:u,error:p}=(0,a("xQxzY").useQuery)((0,a("eSUdr").default)`query useIsEligibleForUpflowV2ConfluenceStandardFGsExperimentQuery($cloudId:ID!){tenantContexts(cloudIds:[$cloudId]){entitlementInfo(hamsProductKey:"confluence.ondemand"){entitlement{id transactionAccount{...on Node{id __typename}isCurrentUserBillingAdmin}}}}}`,{client:(0,a("gKr8t").getAGGClient)(),variables:{cloudId:o},skip:e||!c});(0,r.useEffect)(()=>{p&&i((0,a("8hmrm").createProductSpecificAnalyticsIntegrationPayload)({product:a("gwZbZ").Product.CONFLUENCE,team:a("6o7wX").Team.GROWTH_LUNA,experimentMeta:{experimentKey:"grw-1930_confluence_upv2_standard_ab"},errorType:a("gwZbZ").ErrorType.GRAPHQL,errorMessage:p.message,source:"useIsEligibleForUpflowV2ConfluenceStandardFGsExperiment hook",severity:a("gwZbZ").Severity.HIGH})).fire()},[p,i]);let m=(0,r.useMemo)(()=>n(d),[d]);return{isEligible:!!(c&&m),isSiteAdmin:l,isBillingAdmin:m,loading:u,error:p}}}),r("5M47w",function(e,t){var r,n=a("42omo"),s=a("j1Ss3"),i=((r={}).FREE="free",r.STANDARD="standard",r.PREMIUM="premium",r);let o={PRODUCTION:"https://admin.atlassian.com",STAGING:"https://admin.stg.atlassian.com"},l=e=>new(0,a("6Co6F").default)({product:"confluence"}).addToUrl(e),c=({cloudId:e,environment:t,orgId:a})=>{let r=o[t??"PRODUCTION"];return a||e?a?`${r}/o/${a}/billing-preview`:`${r}/s/${e}/billing-preview`:r},d=e=>{let{cloudId:t,commerceBackendName:r,environment:n,entitlementId:s,transactionAccountId:i,orgId:l}=e;if(r===a("6bHqX").COMMERCE_BACKEND_HAMS)return"/admin/billing/applications/change-edition/confluence.ondemand";if(r===a("6bHqX").COMMERCE_BACKEND_CCP&&s&&i){let e=o[n??"PRODUCTION"];return`${e}/billing/${i}/entitlement/${s}/change-plan?referrer=confluence`}return c({cloudId:t,environment:n,orgId:l})},u=e=>{let{cloudId:t,commerceBackendName:r,entitlementId:n,environment:s,orgId:i,transactionAccountId:o,targetEdition:l}=e;return r===a("6bHqX").COMMERCE_BACKEND_HAMS?l?`${d(e)}/${l}`:d(e):r===a("6bHqX").COMMERCE_BACKEND_CCP&&n&&o?l?`${d(e)}&offeringName=${l}`:d(e):c({cloudId:t,environment:s,orgId:i})},p=e=>{let{cloudId:t,commerceBackendName:r,environment:n,entitlementId:s,orgId:i,transactionAccountId:l}=e;if(r===a("6bHqX").COMMERCE_BACKEND_HAMS)return"/admin/billing/applications";if(r===a("6bHqX").COMMERCE_BACKEND_CCP&&s&&l){let e=o[n??"PRODUCTION"];return`${e}/billing/${l}/entitlement/${s}`}return c({cloudId:t,environment:n,orgId:i})},m=(e,t)=>{let a=t instanceof Error?t.message:String(t);return`${e}: ${a}`};e.exports.CommerceDeepLinksTargetEdition=i,e.exports.useCommerceDeepLinks=({targetEdition:e,skipDeepLinks:t=!1})=>{let r,i,o,c,f,{environment:g,cloudId:h,orgId:E}=(0,a("bQm3c").useSessionData)(),{isSiteAdmin:b}=(0,n.useContext)(a("1ytiN").SPAViewContext);b&&h||(t=!0);let{commerceBackendName:_,loading:y,error:v}=(0,a("hfUvC").useCommerceRolloutInformation)(t||(0,a("lzcvT").isFedRamp)()),S=_===a("6bHqX").COMMERCE_BACKEND_CCP||(0,a("lzcvT").isFedRamp)(),{data:A,loading:C,error:I}=(0,s.useQuery)((0,a("eSUdr").default)`query useCommerceDeepLinksCcpEntitlementQuery{confluence_tenantContext{licenseStates{confluence{ccpEntitlementId}}}tenant{cloudId}}`,{skip:t||!S}),T=C?void 0:(0,a("lh1MN").getCcpEntitlementFromQuery)(A),{data:x,loading:k,error:R}=(0,s.useQuery)((0,a("eSUdr").default)`query useCommerceDeepLinksCcpTransactionAccountIdQuery($entitlementId:ID!$targetEditionName:String$shouldFetchChangeOffering:Boolean!){ccp{entitlement(id:$entitlementId){transactionAccountId experienceCapabilities@include(if:$shouldFetchChangeOffering){changeOfferingV2(offeringName:$targetEditionName){experienceUrl}}}}}`,{variables:{entitlementId:T||"",targetEditionName:e||"",shouldFetchChangeOffering:(0,a("9wGTI").fg)("ld-74-fetch-change-offering-url-in-upgrade-edition")},skip:t||!S||!T,client:(0,a("gKr8t").getAGGClient)()});if(t)return{commerceBackendName:null,planSelectionDeepLink:void 0,planConsentDeepLink:void 0,subscriptionDetailsDeepLink:void 0,loading:!1,errorMessage:void 0};try{let t=x?.ccp?.entitlement?.transactionAccountId,n=x?.ccp?.entitlement?.experienceCapabilities?.changeOfferingV2?.experienceUrl??void 0,s={cloudId:h,commerceBackendName:_,environment:g,entitlementId:T,orgId:E,transactionAccountId:t||void 0};i=l(d(s)),o=l(u({targetEdition:e,...s})),f=n?l(`${n}confluence`):void 0,c=l(p(s)),(0,a("8H5XZ").isGraphQLError)(I)&&!(0,a("7Sm4c").isErrorMarkedAsHandled)(I)&&(0,a("7Sm4c").markErrorAsHandled)(I),(0,a("8H5XZ").isGraphQLError)(R)&&!(0,a("7Sm4c").isErrorMarkedAsHandled)(R)&&(0,a("7Sm4c").markErrorAsHandled)(R),v?r=m("Error retrieving Commerce Backend Service",v):I?r=m("Error retrieving CCP Entitlement Id",I):R&&(r=m("Error retrieving CCP Transaction Account Id",R))}catch(e){r=m("Error in useCommerceDeepLinks",e)}return{commerceBackendName:_,planSelectionDeepLink:i,planConsentDeepLink:f||o,subscriptionDetailsDeepLink:c,loading:y||C||k,errorMessage:r}}}),r("6bHqX",function(e,t){a("42omo");let r=`${a("gstll").GATEWAY_URL}/bag`,n=async(e,{fetch:t})=>{try{let a=await t(`${r}/rollout/service?cloudId=${encodeURIComponent(e.cloudId)}`);if(200!==a.status)return{payload:void 0,error:`Failed to fetch commerce rollout information: ${a.statusText}`,exception:void 0};let n=(await a.json()).service;return{payload:"CCP"===n?{commerceBackend:n,ccp:{}}:{commerceBackend:n,hams:{}},error:void 0,exception:void 0}}catch(e){return{payload:void 0,error:void 0,exception:e}}};e.exports.COMMERCE_BACKEND_HAMS="HAMS",e.exports.COMMERCE_BACKEND_CCP="CCP",e.exports.fetchCommerceRolloutInformation=n}),r("gstll",function(e,t){e.exports.GATEWAY_URL="/gateway/api"}),r("6H9BA",function(e,t){var r=a("42omo");e.exports.useCommerceFetch=()=>{let e=(0,a("1EMUC").useCommerceOverride)(fetch),t=(0,a("bIMHH").useSentryExceptionDispatch)();return(0,r.useCallback)(async(...r)=>{let n=performance.now(),[s]=r,i=(0,a("1cK19").sanitizeUrlString)((0,a("lzJ3V").getRequestUrl)(s));try{let s=await e(...r);return s.status>=400&&t({exception:Error(`Status: ${s.status}
URL: ${i}`)}),(0,a("4u5NT").addSpanToAll)("fetch",i,[{name:"network"}],n,performance.now(),JSON.stringify(s).length),s}catch(a){console.warn(a);let e=a instanceof Error?a.stack??a.toString():JSON.stringify(a);throw t({exception:Error(`An error occurred when fetching from ${i}

 ${e}`)}),a}},[e,t])}}),r("goqBE",function(e,t){class a extends Error{constructor(e,t,r){super(`Unable to fetch ${e}, status: ${t}`),this.statusCode=void 0,this.body=void 0,this.name="HttpResponseError",this.statusCode=t,this.body=r,Object.setPrototypeOf(this,a.prototype)}}let r=async(e,t)=>{let r=await t;if(r.ok)return t;throw new a(e,r.status,await r.json().catch(()=>void 0))};e.exports.HttpResponseError=a,e.exports.rejectOnHttpError=r}),r("bIMHH",function(e,t){let r=a("aNwpq").internalGasV3UIEventChannel.useBreadcrumbedEventDispatch;a("aNwpq").internalGasV3ScreenEventChannel.useEventDispatch,a("aNwpq").internalGasV3TrackEventChannel.useBreadcrumbedEventDispatch,a("aNwpq").internalGasV3OperationalEventChannel.useBreadcrumbedEventDispatch;let n=a("aNwpq").internalSentryExceptionChannel.useBreadcrumbedEventDispatch;(0,a("k6lJw").createAtlaskitToEventChannelRepackager)(r),a("aNwpq").breadcrumbMountedEventChannel.Listener,e.exports.useSentryExceptionDispatch=n}),r("aNwpq",function(e,t){let r=(0,a("6YLhE").createBreadcrumbAPI)(),n=r.breadcrumbMountedEventChannel,s=r.Breadcrumb;r.useGetBreadcrumbs,(0,a("eUjEX").createCatchingEventChannel)(),(0,a("eUjEX").createCatchingEventChannel)(),(0,a("eUjEX").createCatchingEventChannel)(),(0,a("eUjEX").createCatchingEventChannel)(),(0,a("eUjEX").createCatchingEventChannel)();let i=(0,a("6YLhE").createBreadcrumbedEventChannel)(r,a("eUjEX").createCatchingEventChannel),o=(0,a("eUjEX").createCatchingEventChannel)(),l=(0,a("6YLhE").createBreadcrumbedEventChannel)(r,a("eUjEX").createCatchingEventChannel),c=(0,a("6YLhE").createBreadcrumbedEventChannel)(r,a("eUjEX").createCatchingEventChannel),d=(0,a("6YLhE").createBreadcrumbedEventChannel)(r,a("eUjEX").createCatchingEventChannel);e.exports.breadcrumbMountedEventChannel=n,e.exports.Breadcrumb=s,e.exports.internalGasV3UIEventChannel=i,e.exports.internalGasV3ScreenEventChannel=o,e.exports.internalGasV3TrackEventChannel=l,e.exports.internalGasV3OperationalEventChannel=c,e.exports.internalSentryExceptionChannel=d}),r("6YLhE",function(e,t){var r=a("l998X"),n=a("42omo");let s={};e.exports.createBreadcrumbAPI=()=>{let e=(0,n.createContext)(()=>void 0),t=()=>(0,n.useContext)(e),s=(0,a("eUjEX").createEventChannel)(),{useEventDispatch:i}=s,o=({name:e,getMountedBreadcrumbPayload:t})=>{let a=i();return(0,n.useEffect)(()=>{a(t())},[e]),null};return{breadcrumbMountedEventChannel:s,Breadcrumb:({children:a,...s})=>{let i=t(),l=(0,n.useRef)(s);(0,n.useLayoutEffect)(()=>{l.current=s});let c=(0,n.useCallback)(()=>({breadcrumbs:[...i()?.breadcrumbs??[],l.current],payload:l.current}),[i]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o,{name:s.name,getMountedBreadcrumbPayload:c}),(0,r.jsx)(e.Provider,{value:c,children:a})]})},useGetBreadcrumbs:t}},e.exports.createBreadcrumbedEventChannel=({useGetBreadcrumbs:e},t=a("eUjEX").createEventChannel)=>{let{Listener:r,useEventDispatch:s}=t();return{Listener:r,useEventDispatch:s,useBreadcrumbedEventDispatch:()=>{let t=s(),a=e();return(0,n.useCallback)(e=>t({breadcrumbs:a()?.breadcrumbs??[],payload:e}),[a,t])}}},e.exports.withBreadcrumb=(e,t,a,n=s)=>s=>(0,r.jsx)(t,{...n,name:a,children:(0,r.jsx)(e,{...s})})}),r("eUjEX",function(e,t){var r=a("l998X"),n=a("42omo");let s=e=>{let t=(0,n.createContext)(e);return{Listener:({onEvent:e,children:a})=>(0,r.jsx)(t.Provider,{value:e,children:a}),useEventDispatch:()=>{let e=(0,n.useContext)(t);return(0,n.useCallback)(t=>{e?.(t)},[e])}}},i=(...e)=>({children:t,onEvent:a})=>{let n=t;for(let t of e)n=t({onEvent:a,children:n});return(0,r.jsx)(r.Fragment,{children:n})},o=({from:e,to:t,useTransformer:a})=>{let s=Array.isArray(e)?i(...e):e;return({children:e,...i})=>{let o=t(),l=a(i),c=(0,n.useCallback)(e=>{o(l(e))},[o,l]);return(0,r.jsx)(s,{onEvent:c,children:e})}},l=({from:e,to:t})=>o({from:e,to:t,useTransformer:({onEvent:e})=>(0,n.useCallback)(t=>(e(t),t),[e])});e.exports.createCatchingEventChannel=s,e.exports.createEventChannel=()=>{let e=s();return{Listener:l({from:e.Listener,to:e.useEventDispatch}),useEventDispatch:e.useEventDispatch}}}),r("k6lJw",function(e,t){var r=a("l998X"),n=a("42omo");let s=(e,t)=>({children:s,...i})=>{let o=e(),l=(0,n.useCallback)(e=>{o({...i,...e.payload,attributes:{...i.attributes,...e.payload.attributes}})},[o,i]);return(0,r.jsx)(a("kDuN4").default,{channel:t,onEvent:l,children:s})};e.exports.createAtlaskitToEventChannelRepackager=e=>s(e,"atlaskit")}),r("1cK19",function(e,t){e.exports.sanitizeUrlString=e=>e.replace(/\?.*$/,"")}),r("1EMUC",function(e,t){a("l998X");var r=a("42omo");let n=()=>(0,r.useContext)(a("9Bcp3").overrideContext);e.exports.useCommerceOverride=e=>(n()||new Map).get(e)||e}),r("9Bcp3",function(e,t){let r=(0,a("42omo").createContext)(new Map);e.exports.overrideContext=r}),r("lzJ3V",function(e,t){e.exports.getRequestUrl=e=>"string"==typeof e?e:e instanceof URL?e.href:e.url}),r("4Twfb",function(e,t){var r=a("42omo");let n=(e,t={loading:!1,data:void 0,error:void 0})=>{let[a,n]=(0,r.useState)(t),s=(0,r.useCallback)(async(...t)=>{n({loading:!0,data:void 0,error:void 0});try{let a=await e(...t);return n({loading:!1,data:a,error:void 0}),a}catch(e){throw n({loading:!1,data:void 0,error:e}),e}},[e]);return(0,r.useMemo)(()=>({...a,fetchData:s}),[a,s])};e.exports.useFetchService=e=>{let t=n(e,{loading:!0,data:void 0,error:void 0}),{fetchData:a}=t;return(0,r.useEffect)(()=>{a().catch(e=>console.warn(e))},[a]),(0,r.useMemo)(()=>{let{fetchData:e,...a}=t;return{...a,refresh:()=>e()}},[t])},e.exports.useUpdateService=e=>{let t=n(e,{loading:!1,data:void 0,error:void 0});return(0,r.useMemo)(()=>{let{fetchData:e,...a}=t;return{...a,update:e}},[t])}}),r("3yFL2",function(e,t){e.exports.GUARANTEED="guaranteed",e.exports.MAYBE="maybe",e.exports.NONE="none"}),r("3SLm1",function(e,t){e.exports.UNKNOWN="unknown",e.exports.UNKNOWN_EXTERNAL="unknown-external",e.exports.COMMERCE_LIBRARIES="commerce-libraries",e.exports.HAMS="hams",e.exports.BILLING_API_GATEWAY="billing-api-gateway"}),r("cEhot",function(e,t){var r=a("42omo");let n=e=>e.charAt(0).toUpperCase()+e.substring(1),s=({action:e,actionSubject:t,actionSubjectId:s,histogramBuckets:i="4000"})=>{let o=a("aNwpq").internalGasV3TrackEventChannel.useBreadcrumbedEventDispatch(),l=a("aNwpq").internalSentryExceptionChannel.useBreadcrumbedEventDispatch(),c=s?`${s}`:`${e}${n(t)}`;return(0,r.useCallback)(e=>{let t={...e},r=(t,r,n,s)=>{void 0===t&&[a("3yFL2").MAYBE,a("3yFL2").NONE].includes(s.probabilityOfBug)||l({exception:t,scopeContext:(0,a("in0Xj").withTelemetryInfoScopeContext)({tags:{task:c,eventName:r,...s,...void 0!==n?{eventTaskId:n}:void 0,...void 0!==e.actionSubjectId?{actionSubjectId:e.actionSubjectId}:void 0}})})};return{fail:({loggablePayload:e,probabilityOfBug:t=a("3yFL2").MAYBE,eventTaskId:n,responsibleService:s=a("3SLm1").UNKNOWN}={})=>{r(e,"fe.user.task.failure",void 0!==n?n:t===a("3yFL2").GUARANTEED?(0,a("jVQXW").responsibleServiceIncludesCommerceLibraries)(s)?"guaranteed-bug":"external-bug":void 0,{probabilityOfBug:t,responsibleService:s})},succeed:({loggablePayload:e,eventTaskId:n,responsibleService:s=a("3SLm1").UNKNOWN}={})=>{r(e,"fe.user.task.success",n,{probabilityOfBug:a("3yFL2").NONE,responsibleService:s}),o(t)}}},[o,l,c])};e.exports.useTaskTracker=e=>{let t=s(e),n=(0,r.useRef)(e);return(0,r.useCallback)(async(e,r)=>{let{fail:s,succeed:i}=t(r||n.current);try{let t=await e();return void 0!==t.succeed?i(t.succeed):s(void 0!==t.fail?t.fail:{probabilityOfBug:a("3yFL2").GUARANTEED,loggablePayload:{result:t,error:Error("Could not find succeed nor fail")}}),t}catch(e){throw s(e instanceof TypeError&&"Failed to fetch"===e.message?{probabilityOfBug:a("3yFL2").MAYBE,loggablePayload:e}:{probabilityOfBug:a("3yFL2").GUARANTEED,loggablePayload:e}),e}},[t])}}),r("in0Xj",function(e,t){let r=({probabilityOfBug:e,responsibleService:t})=>{switch(e){case a("3yFL2").GUARANTEED:if((0,a("jVQXW").responsibleServiceIncludesCommerceLibraries)(t))return"fatal";return"error";case a("3yFL2").MAYBE:return"warning";case a("3yFL2").NONE:return"log";default:return"fatal"}};e.exports.withTelemetryInfoScopeContext=e=>{let t={...e.tags,responsibleService:e.tags.responsibleService??a("3SLm1").UNKNOWN};return{...e,tags:t,level:r(t)}}}),r("jVQXW",function(e,t){e.exports.responsibleServiceIncludesCommerceLibraries=e=>e===a("3SLm1").COMMERCE_LIBRARIES||e===a("3SLm1").UNKNOWN}),r("1Y5Zp",function(e,t){e.exports.isException=e=>void 0!==e.exception,e.exports.isSuccessful=e=>void 0!==e.payload}),r("lh1MN",function(e,t){e.exports.getCcpEntitlementFromQuery=e=>{if(e)return e.confluence_tenantContext?.licenseStates?.confluence?.ccpEntitlementId||void 0}}),r("hfUvC",function(e,t){var r=a("42omo");let n=(0,a("2XqLN").default)(async e=>await (0,a("6bHqX").fetchCommerceRolloutInformation)({cloudId:e,productKey:"confluence.ondemand"},{fetch:a("f7B1p").cfetch}));e.exports.useCommerceRolloutInformation=(e=!1)=>{let[t,s]=(0,r.useState)(!0),[i,o]=(0,r.useState)(null),[l,c]=(0,r.useState)(null),{cloudId:d}=(0,a("bQm3c").useSessionData)();return d||(e=!0),(0,r.useEffect)(()=>{e||(async()=>{try{let e=await n(d);if((0,a("bXe73").isSuccessful)(e))c(e.payload.commerceBackend);else{let t=(0,a("bXe73").isException)(e)?e.exception:e.error;o(t)}}catch(e){e.message=`useCommerceBackendName: ${e.message}`,o(e)}finally{s(!1)}})()},[d,e]),{commerceBackendName:e?null:l,loading:!e&&t,error:e?null:i}}}),r("bXe73",function(e,t){e.exports.isException=e=>void 0!==e.exception,e.exports.isSuccessful=e=>void 0!==e.payload}),r("dqdrq",function(t,r){var n=a("42omo");let s=(0,n.forwardRef)(({as:t=a("6J7Bn").ButtonBase,style:r,...s},i)=>e(n).createElement(t,{...s,style:{...r,"--_iozncj":(0,a("7sObp").default)(a("j4WDj").GRADIENT_CTA_BUTTON_DEFAULT_START),"--_id2ec3":(0,a("7sObp").default)(a("j4WDj").GRADIENT_CTA_BUTTON_DEFAULT_END),"--_1wa1xp5":(0,a("7sObp").default)(a("j4WDj").GRADIENT_CTA_BUTTON_HOVER_START),"--_1ck0ygl":(0,a("7sObp").default)(a("j4WDj").GRADIENT_CTA_BUTTON_HOVER_END),"--_1jf6nc6":(0,a("7sObp").default)(a("j4WDj").GRADIENT_CTA_BUTTON_ACTIVE_START),"--_1kksnqn":(0,a("7sObp").default)(a("j4WDj").GRADIENT_CTA_BUTTON_ACTIVE_END)},ref:i,className:(0,a("gMc0m").default)(["_1wgmglyw _1tnq12b0 _nup9qsa8 _ge1r1cay _h99ltlke _r7sm1uxc _1xlotlke _1jypidpf _1fm3idpf _12z9idpf _1dwpidpf _kl6h116y _1w901gfe _1l5a1gfe _zelm1gfe _1fh11gfe _1f1j1gfe",s.className])})),i=(0,n.forwardRef)(({as:t="span",style:r,...s},i)=>e(n).createElement(t,{...s,style:r,ref:i,className:(0,a("gMc0m").default)(["_11c82smr _1e0c1txw _4cvr1h6o _1bah1h6o _k48p1wq8",s.className])}));t.exports.GradientCTAButton=({children:t,...r})=>e(n).createElement(s,{iconBefore:e(n).createElement(e(a("izVB4")),{label:""}),...r},e(n).createElement(i,null,t))}),r("j4WDj",function(e,t){e.exports.GRADIENT_CTA_BUTTON_DEFAULT_START="var(--ds-chart-purple-bolder, #AF59E1)",e.exports.GRADIENT_CTA_BUTTON_DEFAULT_END="var(--ds-chart-blue-bolder, #357DE8)",e.exports.GRADIENT_CTA_BUTTON_HOVER_START="var(--ds-chart-purple-bolder-hovered, #964AC0)",e.exports.GRADIENT_CTA_BUTTON_HOVER_END="var(--ds-chart-blue-bolder-hovered, #1868DB)",e.exports.GRADIENT_CTA_BUTTON_ACTIVE_START="var(--ds-chart-purple-boldest, #803FA5)",e.exports.GRADIENT_CTA_BUTTON_ACTIVE_END="var(--ds-chart-blue-boldest, #1558BC)",e.exports.GRADIENT_BACKGROUND_SUBTLEST_START="var(--ds-background-accent-blue-subtlest, #E9F2FE)",e.exports.GRADIENT_BACKGROUND_SUBTLEST_END="var(--ds-background-accent-purple-subtlest, #F8EEFE)",e.exports.GRADIENT_CTA_BUTTON_INVERTED_BORDER_START="var(--ds-border-accent-purple, #AF59E1)",e.exports.GRADIENT_CTA_BUTTON_INVERTED_BORDER_END="var(--ds-border-accent-blue, #357DE8)",e.exports.GRADIENT_CTA_BUTTON_SELECTED_START="var(--ds-background-discovery-bold-pressed, #673286)",e.exports.GRADIENT_CTA_BUTTON_SELECTED_END="var(--ds-background-selected-bold-pressed, #123263)"}),r("6J7Bn",function(e,t){var r=a("42omo");let n=(0,r.forwardRef)(({as:e=a("eEA8O").default,style:t,...n},s)=>r.createElement(e,{...n,style:t,ref:s,className:(0,a("gMc0m").default)(["_d16p1ano _1dqt12x7 _1toh1r31 _5jyqglyw _mrqmnqa1 _if29116y _1kba1h6o",n.className])}));e.exports.ButtonBase=n}),r("ktelT",function(t,r){var n=a("42omo");let s=(0,n.forwardRef)(({as:t="a",style:r,...s},i)=>e(n).createElement(t,{...s,style:r,ref:i,className:(0,a("gMc0m").default)(["_11q71879 _11c82smr _zulpv77o _1e0c116y _4cvr1h6o _80omtlke _k48pmoej _1bsb1ns9 _pjrq1758 _oo9g1j28 _18u01b66 _1xjxgktf _1nj1uyj3 _13r27vkz _1nm57vkz _19lc19y2 _1fyq1yf3 _1h7d1kdv _v6kc1j28",s.className])}));t.exports.GradientSubtleLinkButton=({href:t,onClick:r,target:i,children:o})=>e(n).createElement(s,{href:t,onClick:r,target:i,role:"link"},e(n).createElement(e(a("izVB4")),{label:""}),o)}),r("l0DoV",function(e,t){let r=(0,a("jmjWc").LoadableLazy)({__loadable_id__:"uHF1j",name:"TryStandardUpflowV2ExperimentTreatmentModalLoadable",loader:async()=>(await a("2LGpS")).TryStandardUpflowV2ExperimentTreatmentModalWithErrorBoundary});e.exports.TryStandardUpflowV2ExperimentTreatmentModalLoadable=r}),r("2LGpS",function(e,t){let r=a("4mJKd")(5);e.exports=Promise.all([r("6wr18"),r("eeaKR"),r("ffEVr"),r("let0D"),r("hhss7"),r("fYFVU")]).then(()=>a("h60zh"))}),r("fDbEj",function(e,t){let r=()=>new Date().getTime(),n=Error("TIMEOUT");e.exports.TimeoutError=n,e.exports.waitForEditionChange=(e,t)=>{if(!e)return Promise.reject(Error("No currentEdition supplied"));let s=new Date(r()+6e4*a("jKFU9").CHANGE_EDITION_POLL_DURATION_MINS).getTime(),i=(o,l)=>{r()>s&&l(n),(0,a("hp2SH").getApolloClient)().query({query:a("gQY3Y").waitForEditionChangeQuery,errorPolicy:"all",fetchPolicy:"network-only"}).then(r=>{let n=r.data?.tenant?.editions?.confluence;n&&e!==n?((0,a("6mKj3").expValEquals)("remove_usages_of_cache_read_write","isEnabled",!0)?t({fragmentId:"$ROOT_QUERY.confluence_tenantContext",data:{editions:{confluence:n,__typename:"ConfluenceEditions"},__typename:"Tenant"}}):(0,a("hp2SH").getApolloClient)().writeQuery({query:a("gQY3Y").waitForEditionChangeQuery,data:{tenant:{editions:{confluence:n,__typename:"ConfluenceEditions"},__typename:"Tenant"}}}),o(n)):setTimeout(()=>{i(o,l)},1e3*a("jKFU9").CHANGE_EDITION_POLL_INTERVAL_SECS)}).catch(l)};return new Promise((e,t)=>i(e,t))}}),r("gQY3Y",function(e,t){let r=(0,a("eSUdr").default)`query waitForEditionChangeQuery{tenant:confluence_tenantContext{editions{confluence}}}`;e.exports.waitForEditionChangeQuery=r}),r("jKFU9",function(e,t){e.exports.CHANGE_EDITION_POLL_INTERVAL_SECS=3,e.exports.CHANGE_EDITION_POLL_DURATION_MINS=1}),r("lNKOh",function(e,t){e.exports.ChangeEditionSectionMessageButtonsWrapper=({canShowUpgradeButton:e,children:t,isSiteAdmin:a,shouldShowLearnMore:r=!0,showRequestUpgradeButton:n})=>{let s=!1,i=!0,o=!0;return e&&(a&&(s=!0),s&&(i=r,o=!1)),n&&(i=r),t({showUpgradeTryNowButton:s,showLearnMore:i,learnMoreIsPrimaryCTA:o})}}),r("bhvFb",function(t,r){var n=a("42omo"),s=a("3HQYo");let i={regular:"_1e0c1txw _2lx21bp4 _16jlkb7n _p12f1lk2",isCard:"_p12f1osq"},o={regular:"_11c8nbxd _19pkidpf _syazi7uo",regularNew:"_11c8lodh _k48p1wq8 _19pkidpf _syazi7uo",inlineModal:"_11c8lodh _19pkze3t _n3tdpxbi"},l={withTitle:"_19pku2gc",noTitle:"_19pkidpf"},c={regular:"_1e0c1txw _1bahesu3 _kqswstnw _154ipxbi _1xi21ejb",default:"_154ixy5q _1xi2oahv",isCardDefault:"_1xi2xy5q",isCard:"_1xi2pxbi"},d={default:"_1e0c1txw _19pkpxbi",right:"_1bahesu3 _166l1sbv _6ufw1q9c",inlineModal:"_19pk16xz _1e0c1txw"},u={default:"_x3do1uh4 _19pkpxbi _otyrpxbi _ca0qutpp"},p={regular:"_2rkofajl _19pkidpf _2hwx1wug _otyridpf _18u01wug _bfhk1bhr _1e0c1txw _16jlkb7n",withTasteAndToneStyling:"_19pkidpf _2hwxidpf _otyridpf _18u0idpf _bfhk1j28",default:"_1yt44ar7 _16qs130s _p12fasau",flat:"_1yt44ar7 _p12fasau",inline:"_11c82smr",inlineModal:"_p12f1kdj"};t.exports.EditionSectionMessage=({actions:t,appearanceType:r,body:m,footer:f,title:g,headerButton:h,withTasteAndToneStyling:E=!1,buttonGroupAlignment:b="left"})=>{let _=!!g,y="right"===b,v=r||(E?a("gsZdA").SECTION_MESSAGE_APPEARANCE_TYPES.INLINE:a("gsZdA").SECTION_MESSAGE_APPEARANCE_TYPES.DEFAULT);return e(n).createElement("div",{"data-testid":"edition-section-message",className:(0,a("gMc0m").default)([p.regular,E&&p.withTasteAndToneStyling,v===a("gsZdA").SECTION_MESSAGE_APPEARANCE_TYPES.DEFAULT&&p.default,v===a("gsZdA").SECTION_MESSAGE_APPEARANCE_TYPES.FLAT&&p.flat,v===a("gsZdA").SECTION_MESSAGE_APPEARANCE_TYPES.INLINE&&p.inline,v===a("gsZdA").SECTION_MESSAGE_APPEARANCE_TYPES.INLINE_MODAL&&p.inlineModal])},e(n).createElement("div",{className:(0,a("gMc0m").default)([i.regular,y&&i.isCard])},_&&e(n).createElement("div",{className:(0,a("gMc0m").default)([o[(0,a("9wGTI").fg)("ten_active_boards_in_standard")?"regularNew":"regular"],v===a("gsZdA").SECTION_MESSAGE_APPEARANCE_TYPES.INLINE_MODAL&&o.inlineModal])},g),"string"==typeof m?e(n).createElement("div",{dangerouslySetInnerHTML:{__html:e(s).sanitize(m)},className:(0,a("gMc0m").default)([l.noTitle,_&&l.withTitle])}):e(n).createElement("div",{className:(0,a("gMc0m").default)([l.noTitle,_&&l.withTitle])},m),h&&e(n).createElement("div",{className:(0,a("gMc0m").default)([c.regular,v===a("gsZdA").SECTION_MESSAGE_APPEARANCE_TYPES.DEFAULT&&c.default,y&&c.isCard,y&&v===a("gsZdA").SECTION_MESSAGE_APPEARANCE_TYPES.DEFAULT&&c.isCardDefault])},h),t&&e(n).createElement("div",{className:(0,a("gMc0m").default)([d.default,"right"===b&&d.right,v===a("gsZdA").SECTION_MESSAGE_APPEARANCE_TYPES.INLINE_MODAL&&d.inlineModal,"actionButtons"])},t),f&&e(n).createElement("div",{className:(0,a("gMc0m").default)([u.default])},f)))}}),r("3HQYo",function(e,t){var a;e.exports,e.exports=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,a){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,a)}function a(e,r,n){return(a=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?function(e,a,r){var n=[null];n.push.apply(n,a);var s=new(Function.bind.apply(e,n));return r&&t(s,r.prototype),s}:Reflect.construct).apply(null,arguments)}function r(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,void 0);var a=Object.prototype.toString.call(e).slice(8,-1);if("Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return n(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}var s,i=Object.hasOwnProperty,o=Object.setPrototypeOf,l=Object.isFrozen,c=Object.getPrototypeOf,d=Object.getOwnPropertyDescriptor,u=Object.freeze,p=Object.seal,m=Object.create,f="undefined"!=typeof Reflect&&Reflect,g=f.apply,h=f.construct;g||(g=function(e,t,a){return e.apply(t,a)}),u||(u=function(e){return e}),p||(p=function(e){return e}),h||(h=function(e,t){return a(e,r(t))});var E=k(Array.prototype.forEach),b=k(Array.prototype.pop),_=k(Array.prototype.push),y=k(String.prototype.toLowerCase),v=k(String.prototype.toString),S=k(String.prototype.match),A=k(String.prototype.replace),C=k(String.prototype.indexOf),I=k(String.prototype.trim),T=k(RegExp.prototype.test),x=(s=TypeError,function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return h(s,t)});function k(e){return function(t){for(var a=arguments.length,r=Array(a>1?a-1:0),n=1;n<a;n++)r[n-1]=arguments[n];return g(e,t,r)}}function R(e,t,a){a=null!=(r=a)?r:y,o&&o(e,null);for(var r,n=t.length;n--;){var s=t[n];if("string"==typeof s){var i=a(s);i!==s&&(l(t)||(t[n]=i),s=i)}e[s]=!0}return e}function O(e){var t,a=m(null);for(t in e)!0===g(i,e,[t])&&(a[t]=e[t]);return a}function w(e,t){for(;null!==e;){var a=d(e,t);if(a){if(a.get)return k(a.get);if("function"==typeof a.value)return k(a.value)}e=c(e)}return function(e){return console.warn("fallback value for",e),null}}var L=u(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),P=u(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),D=u(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),M=u(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),N=u(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),U=u(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),j=u(["#text"]),B=u(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),F=u(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),G=u(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),V=u(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),q=p(/\{\{[\w\W]*|[\w\W]*\}\}/gm),K=p(/<%[\w\W]*|[\w\W]*%>/gm),H=p(/\${[\w\W]*}/gm),z=p(/^data-[\-\w.\u00B7-\uFFFF]+$/),W=p(/^aria-[\-\w]+$/),Y=p(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Q=p(/^(?:\w+script|data):/i),$=p(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),X=p(/^html$/i),J=p(/^[a-z][.\w]*(-[.\w]+)+$/i),Z=function(t,a){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var r=null,n="data-tt-policy-suffix";a.currentScript&&a.currentScript.hasAttribute(n)&&(r=a.currentScript.getAttribute(n));var s="dompurify"+(r?"#"+r:"");try{return t.createPolicy(s,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+s+" could not be created."),null}};return function t(){var a,n,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window,i=function(e){return t(e)};if(i.version="2.5.8",i.removed=[],!s||!s.document||9!==s.document.nodeType)return i.isSupported=!1,i;var o=s.document,l=s.document,c=s.DocumentFragment,d=s.HTMLTemplateElement,p=s.Node,m=s.Element,f=s.NodeFilter,g=s.NamedNodeMap,h=void 0===g?s.NamedNodeMap||s.MozNamedAttrMap:g,k=s.HTMLFormElement,ee=s.DOMParser,et=s.trustedTypes,ea=m.prototype,er=w(ea,"cloneNode"),en=w(ea,"nextSibling"),es=w(ea,"childNodes"),ei=w(ea,"parentNode");if("function"==typeof d){var eo=l.createElement("template");eo.content&&eo.content.ownerDocument&&(l=eo.content.ownerDocument)}var el=Z(et,o),ec=el?el.createHTML(""):"",ed=l,eu=ed.implementation,ep=ed.createNodeIterator,em=ed.createDocumentFragment,ef=ed.getElementsByTagName,eg=o.importNode,eh={};try{eh=O(l).documentMode?l.documentMode:{}}catch(e){}var eE={};i.isSupported="function"==typeof ei&&eu&&void 0!==eu.createHTMLDocument&&9!==eh;var eb=Y,e_=null,ey=R({},[].concat(r(L),r(P),r(D),r(N),r(j))),ev=null,eS=R({},[].concat(r(B),r(F),r(G),r(V))),eA=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),eC=null,eI=null,eT=!0,ex=!0,ek=!1,eR=!0,eO=!1,ew=!0,eL=!1,eP=!1,eD=!1,eM=!1,eN=!1,eU=!1,ej=!0,eB=!1,eF=!0,eG=!1,eV={},eq=null,eK=R({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),eH=null,ez=R({},["audio","video","img","source","image","track"]),eW=null,eY=R({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),eQ="http://www.w3.org/1998/Math/MathML",e$="http://www.w3.org/2000/svg",eX="http://www.w3.org/1999/xhtml",eJ=eX,eZ=!1,e0=null,e1=R({},[eQ,e$,eX],v),e2=["application/xhtml+xml","text/html"],e3=null,e4=l.createElement("form"),e6=function(e){return e instanceof RegExp||e instanceof Function},e5=function(t){e3&&e3===t||(t&&"object"===e(t)||(t={}),t=O(t),n="application/xhtml+xml"===(a=a=-1===e2.indexOf(t.PARSER_MEDIA_TYPE)?"text/html":t.PARSER_MEDIA_TYPE)?v:y,e_="ALLOWED_TAGS"in t?R({},t.ALLOWED_TAGS,n):ey,ev="ALLOWED_ATTR"in t?R({},t.ALLOWED_ATTR,n):eS,e0="ALLOWED_NAMESPACES"in t?R({},t.ALLOWED_NAMESPACES,v):e1,eW="ADD_URI_SAFE_ATTR"in t?R(O(eY),t.ADD_URI_SAFE_ATTR,n):eY,eH="ADD_DATA_URI_TAGS"in t?R(O(ez),t.ADD_DATA_URI_TAGS,n):ez,eq="FORBID_CONTENTS"in t?R({},t.FORBID_CONTENTS,n):eK,eC="FORBID_TAGS"in t?R({},t.FORBID_TAGS,n):{},eI="FORBID_ATTR"in t?R({},t.FORBID_ATTR,n):{},eV="USE_PROFILES"in t&&t.USE_PROFILES,eT=!1!==t.ALLOW_ARIA_ATTR,ex=!1!==t.ALLOW_DATA_ATTR,ek=t.ALLOW_UNKNOWN_PROTOCOLS||!1,eR=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,eO=t.SAFE_FOR_TEMPLATES||!1,ew=!1!==t.SAFE_FOR_XML,eL=t.WHOLE_DOCUMENT||!1,eM=t.RETURN_DOM||!1,eN=t.RETURN_DOM_FRAGMENT||!1,eU=t.RETURN_TRUSTED_TYPE||!1,eD=t.FORCE_BODY||!1,ej=!1!==t.SANITIZE_DOM,eB=t.SANITIZE_NAMED_PROPS||!1,eF=!1!==t.KEEP_CONTENT,eG=t.IN_PLACE||!1,eb=t.ALLOWED_URI_REGEXP||eb,eJ=t.NAMESPACE||eX,eA=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&e6(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(eA.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&e6(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(eA.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(eA.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),eO&&(ex=!1),eN&&(eM=!0),eV&&(e_=R({},r(j)),ev=[],!0===eV.html&&(R(e_,L),R(ev,B)),!0===eV.svg&&(R(e_,P),R(ev,F),R(ev,V)),!0===eV.svgFilters&&(R(e_,D),R(ev,F),R(ev,V)),!0===eV.mathMl&&(R(e_,N),R(ev,G),R(ev,V))),t.ADD_TAGS&&(e_===ey&&(e_=O(e_)),R(e_,t.ADD_TAGS,n)),t.ADD_ATTR&&(ev===eS&&(ev=O(ev)),R(ev,t.ADD_ATTR,n)),t.ADD_URI_SAFE_ATTR&&R(eW,t.ADD_URI_SAFE_ATTR,n),t.FORBID_CONTENTS&&(eq===eK&&(eq=O(eq)),R(eq,t.FORBID_CONTENTS,n)),eF&&(e_["#text"]=!0),eL&&R(e_,["html","head","body"]),e_.table&&(R(e_,["tbody"]),delete eC.tbody),u&&u(t),e3=t)},e9=R({},["mi","mo","mn","ms","mtext"]),e8=R({},["annotation-xml"]),e7=R({},["title","style","font","a","script"]),te=R({},P);R(te,D),R(te,M);var tt=R({},N);R(tt,U);var ta=function(e){var t=ei(e);t&&t.tagName||(t={namespaceURI:eJ,tagName:"template"});var r=y(e.tagName),n=y(t.tagName);return!!e0[e.namespaceURI]&&(e.namespaceURI===e$?t.namespaceURI===eX?"svg"===r:t.namespaceURI===eQ?"svg"===r&&("annotation-xml"===n||e9[n]):!!te[r]:e.namespaceURI===eQ?t.namespaceURI===eX?"math"===r:t.namespaceURI===e$?"math"===r&&e8[n]:!!tt[r]:e.namespaceURI===eX?(t.namespaceURI!==e$||!!e8[n])&&(t.namespaceURI!==eQ||!!e9[n])&&!tt[r]&&(e7[r]||!te[r]):"application/xhtml+xml"===a&&!!e0[e.namespaceURI])},tr=function(e){_(i.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=ec}catch(t){e.remove()}}},tn=function(e,t){try{_(i.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){_(i.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!ev[e])if(eM||eN)try{tr(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},ts=function(e){if(eD)e="<remove></remove>"+e;else{var t,r,n=S(e,/^[\r\n\t ]+/);r=n&&n[0]}"application/xhtml+xml"===a&&eJ===eX&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var s=el?el.createHTML(e):e;if(eJ===eX)try{t=new ee().parseFromString(s,a)}catch(e){}if(!t||!t.documentElement){t=eu.createDocument(eJ,"template",null);try{t.documentElement.innerHTML=eZ?ec:s}catch(e){}}var i=t.body||t.documentElement;return(e&&r&&i.insertBefore(l.createTextNode(r),i.childNodes[0]||null),eJ===eX)?ef.call(t,eL?"html":"body")[0]:eL?t.documentElement:i},ti=function(e){return ep.call(e.ownerDocument||e,e,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT|f.SHOW_PROCESSING_INSTRUCTION|f.SHOW_CDATA_SECTION,null,!1)},to=function(e){return e instanceof k&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof h)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},tl=function(t){return"object"===e(p)?t instanceof p:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},tc=function(e,t,a){eE[e]&&E(eE[e],function(e){e.call(i,t,a,e3)})},td=function(e){if(tc("beforeSanitizeElements",e,null),to(e)||T(/[\u0080-\uFFFF]/,e.nodeName))return tr(e),!0;var t,a=n(e.nodeName);if(tc("uponSanitizeElement",e,{tagName:a,allowedTags:e_}),e.hasChildNodes()&&!tl(e.firstElementChild)&&(!tl(e.content)||!tl(e.content.firstElementChild))&&T(/<[/\w]/g,e.innerHTML)&&T(/<[/\w]/g,e.textContent)||"select"===a&&T(/<template/i,e.innerHTML)||7===e.nodeType||ew&&8===e.nodeType&&T(/<[/\w]/g,e.data))return tr(e),!0;if(!e_[a]||eC[a]){if(!eC[a]&&tp(a)&&(eA.tagNameCheck instanceof RegExp&&T(eA.tagNameCheck,a)||eA.tagNameCheck instanceof Function&&eA.tagNameCheck(a)))return!1;if(eF&&!eq[a]){var r=ei(e)||e.parentNode,s=es(e)||e.childNodes;if(s&&r)for(var o=s.length,l=o-1;l>=0;--l){var c=er(s[l],!0);c.__removalCount=(e.__removalCount||0)+1,r.insertBefore(c,en(e))}}return tr(e),!0}return e instanceof m&&!ta(e)||("noscript"===a||"noembed"===a||"noframes"===a)&&T(/<\/no(script|embed|frames)/i,e.innerHTML)?(tr(e),!0):(eO&&3===e.nodeType&&(t=A(t=e.textContent,q," "),t=A(t,K," "),t=A(t,H," "),e.textContent!==t&&(_(i.removed,{element:e.cloneNode()}),e.textContent=t)),tc("afterSanitizeElements",e,null),!1)},tu=function(e,t,a){if(ej&&("id"===t||"name"===t)&&(a in l||a in e4))return!1;if(ex&&!eI[t]&&T(z,t));else if(eT&&T(W,t));else if(!ev[t]||eI[t]){if(!(tp(e)&&(eA.tagNameCheck instanceof RegExp&&T(eA.tagNameCheck,e)||eA.tagNameCheck instanceof Function&&eA.tagNameCheck(e))&&(eA.attributeNameCheck instanceof RegExp&&T(eA.attributeNameCheck,t)||eA.attributeNameCheck instanceof Function&&eA.attributeNameCheck(t))||"is"===t&&eA.allowCustomizedBuiltInElements&&(eA.tagNameCheck instanceof RegExp&&T(eA.tagNameCheck,a)||eA.tagNameCheck instanceof Function&&eA.tagNameCheck(a))))return!1}else if(eW[t]);else if(T(eb,A(a,$,"")));else if(("src"===t||"xlink:href"===t||"href"===t)&&"script"!==e&&0===C(a,"data:")&&eH[e]);else if(ek&&!T(Q,A(a,$,"")));else if(a)return!1;return!0},tp=function(e){return"annotation-xml"!==e&&S(e,J)},tm=function(t){tc("beforeSanitizeAttributes",t,null);var a,r,s,o,l=t.attributes;if(!(!l||to(t))){var c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ev};for(o=l.length;o--;){var d=(a=l[o]).name,u=a.namespaceURI;if(r="value"===d?a.value:I(a.value),c.attrName=s=n(d),c.attrValue=r,c.keepAttr=!0,c.forceKeepAttr=void 0,tc("uponSanitizeAttribute",t,c),r=c.attrValue,!c.forceKeepAttr&&(tn(d,t),c.keepAttr)){if(!eR&&T(/\/>/i,r)){tn(d,t);continue}eO&&(r=A(r,q," "),r=A(r,K," "),r=A(r,H," "));var p=n(t.nodeName);if(tu(p,s,r)){if(eB&&("id"===s||"name"===s)&&(tn(d,t),r="user-content-"+r),ew&&T(/((--!?|])>)|<\/(style|title)/i,r)){tn(d,t);continue}if(el&&"object"===e(et)&&"function"==typeof et.getAttributeType)if(u);else switch(et.getAttributeType(p,s)){case"TrustedHTML":r=el.createHTML(r);break;case"TrustedScriptURL":r=el.createScriptURL(r)}try{u?t.setAttributeNS(u,d,r):t.setAttribute(d,r),to(t)?tr(t):b(i.removed)}catch(e){}}}}tc("afterSanitizeAttributes",t,null)}},tf=function e(t){var a,r=ti(t);for(tc("beforeSanitizeShadowDOM",t,null);a=r.nextNode();)tc("uponSanitizeShadowNode",a,null),td(a),tm(a),a.content instanceof c&&e(a.content);tc("afterSanitizeShadowDOM",t,null)};return i.sanitize=function(t){var a,r,l,d,u,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((eZ=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!tl(t))if("function"==typeof t.toString){if("string"!=typeof(t=t.toString()))throw x("dirty is not a string, aborting")}else throw x("toString is not a function");if(!i.isSupported){if("object"===e(s.toStaticHTML)||"function"==typeof s.toStaticHTML){if("string"==typeof t)return s.toStaticHTML(t);if(tl(t))return s.toStaticHTML(t.outerHTML)}return t}if(eP||e5(m),i.removed=[],"string"==typeof t&&(eG=!1),eG){if(t.nodeName){var f=n(t.nodeName);if(!e_[f]||eC[f])throw x("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof p)1===(r=(a=ts("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===r.nodeName||"HTML"===r.nodeName?a=r:a.appendChild(r);else{if(!eM&&!eO&&!eL&&-1===t.indexOf("<"))return el&&eU?el.createHTML(t):t;if(!(a=ts(t)))return eM?null:eU?ec:""}a&&eD&&tr(a.firstChild);for(var g=ti(eG?t:a);l=g.nextNode();)(3!==l.nodeType||l!==d)&&(td(l),tm(l),l.content instanceof c&&tf(l.content),d=l);if(d=null,eG)return t;if(eM){if(eN)for(u=em.call(a.ownerDocument);a.firstChild;)u.appendChild(a.firstChild);else u=a;return(ev.shadowroot||ev.shadowrootmod)&&(u=eg.call(o,u,!0)),u}var h=eL?a.outerHTML:a.innerHTML;return eL&&e_["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&T(X,a.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+a.ownerDocument.doctype.name+">\n"+h),eO&&(h=A(h,q," "),h=A(h,K," "),h=A(h,H," ")),el&&eU?el.createHTML(h):h},i.setConfig=function(e){e5(e),eP=!0},i.clearConfig=function(){e3=null,eP=!1},i.isValidAttribute=function(e,t,a){return e3||e5({}),tu(n(e),n(t),a)},i.addHook=function(e,t){"function"==typeof t&&(eE[e]=eE[e]||[],_(eE[e],t))},i.removeHook=function(e){if(eE[e])return b(eE[e])},i.removeHooks=function(e){eE[e]&&(eE[e]=[])},i.removeAllHooks=function(){eE={}},i}()}()}),r("cHKtk",function(t,r){var n=a("42omo"),s=a("4PPzL"),i=a("TCbX7");let o={pageInsights:{requestedEdition:"standard",requestedFeature:"pageInsights"},archiveUpsellDialog:{requestedEdition:"standard",requestedFeature:"archive"},generalAccessLevelSelector:{requestedEdition:"standard",requestedFeature:"pagePermissions"},shareAndRestrictDialogUpsell:{requestedEdition:"standard",requestedFeature:"pagePermissions"},quickSummaryUpsellScreen:{requestedEdition:"premium",requestedFeature:"rovo"},teamCalendarUpsellScreen:{requestedEdition:"premium",requestedFeature:"calendars"},"whiteboardCreationPaywall-upfrontDialog":{requestedEdition:"premium",requestedFeature:"whiteboards"}};t.exports.ELIGIBLE_TOUCHPOINTS=o,t.exports.useEnableEndUserRequestUpgrade=e=>{let{cloudId:t,edition:r,userId:s}=(0,a("bQm3c").useSessionData)(),{isSiteAdmin:i}=(0,n.useContext)(a("1ytiN").SPAViewContext),{createAnalyticsEvent:l}=(0,a("inPa6").useAnalyticsEvents)(),c=o[e]?.requestedEdition??"standard",{loading:d,data:u}=(0,a("jMyy4").useQueryInterop)(a("hG9ZM").default,{variables:{cloudId:t,offeringName:c},fetchPolicy:"cache-first",skip:!(0,a("9wGTI").fg)("connie_end_user_request_kill_switch")||i||r!==a("d9tcB").ConfluenceEdition.FREE||!(e in o),client:(0,a("gKr8t").getAGGClient)()}),p=(0,n.useMemo)(()=>{let e=u?.tenantContexts?.[0]?.entitlementInfo?.entitlement,t=e?.relatesFromEntitlements?.find(e=>e?.relationshipType==="COLLECTION")?.entitlementId,n=e?.experienceCapabilities?.changeOfferingV2?.isAvailableToUser,i=e?.experienceCapabilities?.changeOfferingV2?.experienceUrl,o=!!e?.transactionAccount?.isBillToPresent,l=u?.tenantContexts?.[0]?.entitlementInfo,c=l?.entitlementId,p=e?.transactionAccount?.key;return!!(!d&&!t&&r===a("d9tcB").ConfluenceEdition.FREE&&o&&!(n&&i)&&s&&i&&p&&c)},[u,d,r,s]);return(0,n.useEffect)(()=>{p&&l({type:"sendTrackEvent",data:{action:"exposed",actionSubject:"feature",source:"useEnableEndUserRequestUpgrade",attributes:{cohort:(0,a("6mKj3").expVal)("connie_end_user_request_exp","cohort","not-enrolled"),flagKey:"connie_end_user_request_exp",touchpoint:e}}}).fire()},[p,l,e]),{showRequestUpgradeButton:p&&(0,a("9wGTI").fg)("connie_end_user_request_kill_switch")&&(0,a("6mKj3").expValEquals)("connie_end_user_request_exp","cohort","variation"),showRequestUpgradeButtonAATest:p&&(0,a("9wGTI").fg)("connie_end_user_request_kill_switch")&&"not-enrolled"!==(0,a("6mKj3").expVal)("connie_end_user_request_exp_aa","cohort","not-enrolled"),loading:d}},t.exports.EndUserRequestUpgradeButton=({source:t})=>{let[r,o]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),{createAnalyticsEvent:d}=(0,a("inPa6").useAnalyticsEvents)();return(0,n.useEffect)(()=>{d({type:"sendUIEvent",data:{action:"viewed",actionSubject:"button",actionSubjectId:"endUserRequestUpgradeButton",source:t}}).fire()},[d,t]),e(n).createElement(s.ErrorBoundary,{attribution:"growth-transmuters"},e(n).createElement(a("ccHMk").default,{onClick:()=>{c(!0),o(!0),d({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"endUserRequestUpgradeButton",source:t}}).fire()},appearance:"primary",isLoading:l},e(n).createElement(a("gtD4K").default,{id:"experiment-confluence-enable-end-user-request.request-upgrade-button.label",defaultMessage:"Request to try"})),e(n).createElement(a("6xdDU").default,null,r&&e(n).createElement(i.EndUserRequestUpgradeModalEntrypoint,{source:t,handleCloseModal:()=>{o(!1)},setIsLoadingModal:c})))}}),r("hG9ZM",function(e,t){var a,r,n,s,i,o,l,c,d,u,p,m;let f={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"cloudId"},{defaultValue:null,kind:"LocalArgument",name:"offeringName"}],kind:"Fragment",name:"useEnableEndUserRequestUpgradeQuery",selections:[{args:r=[{items:[{kind:"Variable",name:"cloudIds.0",variableName:"cloudId"}],kind:"ListValue",name:"cloudIds"}],concreteType:"TenantContext",kind:"LinkedField",name:"tenantContexts",plural:!0,selections:[{args:n=[{kind:"Literal",name:"hamsProductKey",value:"confluence.ondemand"}],kind:"LinkedField",name:"entitlementInfo",plural:!1,selections:[s={kind:"ScalarField",name:"entitlementId"},{kind:"LinkedField",name:"entitlement",plural:!1,selections:[i={kind:"ScalarField",name:"id"},o={kind:"ScalarField",name:"__typename"},{kind:"LinkedField",name:"experienceCapabilities",plural:!1,selections:[{args:l=[{kind:"Variable",name:"offeringName",variableName:"offeringName"}],kind:"LinkedField",name:"changeOfferingV2",plural:!1,selections:[c={kind:"ScalarField",name:"isAvailableToUser"},d={kind:"ScalarField",name:"experienceUrl"}]}]},{kind:"LinkedField",name:"transactionAccount",plural:!1,selections:[u={kind:"ScalarField",name:"key"},p={kind:"ScalarField",name:"isBillToPresent"}]},{kind:"LinkedField",name:"relatesFromEntitlements",plural:!0,selections:[s,m={kind:"ScalarField",name:"relationshipType"}]}]}],storageKey:'entitlementInfo(hamsProductKey:"confluence.ondemand")'}]}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useEnableEndUserRequestUpgradeQuery",selections:[{args:r,concreteType:"TenantContext",kind:"LinkedField",name:"tenantContexts",plural:!0,selections:[{args:n,kind:"LinkedField",name:"entitlementInfo",plural:!1,selections:[o,s,{kind:"LinkedField",name:"entitlement",plural:!1,selections:[i,o,{kind:"LinkedField",name:"experienceCapabilities",plural:!1,selections:[o,{args:l,kind:"LinkedField",name:"changeOfferingV2",plural:!1,selections:[o,c,d]}]},{kind:"LinkedField",name:"transactionAccount",plural:!1,selections:[o,u,p,{kind:"InlineFragment",selections:[i],type:"Node",abstractKey:"__isNode"}]},{kind:"LinkedField",name:"relatesFromEntitlements",plural:!0,selections:[o,s,m]}]}],storageKey:'entitlementInfo(hamsProductKey:"confluence.ondemand")'}]}]},params:{cacheID:"989abf351aeb67905f94bc68fcbdc6f9",id:"af36fdb75e5ba6fe2375c3d04cb026bb8ab7a77e90b1ba2f68692d54063709a6",metadata:{},name:"useEnableEndUserRequestUpgradeQuery",operationKind:"query",text:'query useEnableEndUserRequestUpgradeQuery($cloudId:ID!,$offeringName:String!){tenantContexts(cloudIds:[$cloudId]){entitlementInfo(hamsProductKey:"confluence.ondemand"){__typename,entitlementId,entitlement{id,__typename,experienceCapabilities{__typename,changeOfferingV2(offeringName:$offeringName){__typename,isAvailableToUser,experienceUrl}},transactionAccount{__typename,key,isBillToPresent,...on Node{__isNode:__typename,id}},relatesFromEntitlements{__typename,entitlementId,relationshipType}}}}}'}};f.hash="0499128be9f3a7a4d5f8ca7826eaa363",e.exports.default=f}),r("TCbX7",function(e,t){let r=(0,a("jmjWc").LoadableAfterPaint)({__loadable_id__:"i-AMj",name:"EndUserRequestUpgradeModalEntrypoint",loader:async()=>(await a("i3CPV")).EndUserRequestUpgradeModal});e.exports.EndUserRequestUpgradeModalEntrypoint=r}),r("i3CPV",function(e,t){let r=a("4mJKd")(5);e.exports=Promise.all([r("6wr18"),r("8UKe0"),r("bjfAh"),r("kiGNy"),r("ffEVr"),r("Wowvf"),r("let0D"),r("hhss7"),r("eRrWU")]).then(()=>a("4YFRT"))}),r("gLeLL",function(t,r){var n=a("42omo"),s=a("4WmbV");let i=(0,n.forwardRef)(({as:t="div",style:r,...s},i)=>e(n).createElement(t,{...s,style:r,ref:i,className:(0,a("gMc0m").default)(["_2hwx1ejb _p12f68cl _1ul968cl",s.className])})),o=`linear-gradient(84.09deg,
  ${a("j4WDj").GRADIENT_BACKGROUND_SUBTLEST_START} 0%,
  ${a("j4WDj").GRADIENT_BACKGROUND_SUBTLEST_END} 100%)`,l=(0,n.forwardRef)(({as:t="div",style:r,...s},i)=>{let{withGradient:l,customPadding:c,topBanner:d,...u}=s;return e(n).createElement(t,{...u,style:{...r,"--_1p4ue13":(0,a("7sObp").default)(o),"--_krzptn":(0,a("7sObp").default)(s.customPadding?s.customPadding:s.topBanner?"var(--ds-space-150, 12px) var(--ds-space-300, 24px)":"var(--ds-space-200, 16px) var(--ds-space-300, 24px)")},ref:i,className:(0,a("gMc0m").default)(["_19pkidpf _2hwx1wug _otyridpf _18u01wug _1yt41r3g _2rko12b0 _1e0c1txw _1bsb1osq _vchhusvi _kqswh2mm",s.withGradient?"_11q7hu7i":"_11q7glyw",s.className])})});t.exports.SectionMessage=({children:t,withGradient:a=!0,topBanner:r=!1,customPadding:o,...c})=>e(n).createElement(l,{withGradient:a,topBanner:r,customPadding:o,"data-testid":"section-message"},!!t&&e(n).createElement(i,null,t),e(n).createElement(s.ChangeEditionSectionMessage,{...c,withTasteAndToneStyling:!0}))}),r("4adOe",function(t,r){var n=a("3u0dr"),s=a("frIzR"),i=a("42omo"),o=a("6uhfT"),l=a("3hlsb"),c=a("9uaV8"),d=a("cMbwo"),u=a("T5KYq"),p=a("3Ipyu");let m=(0,a("eSUdr").default)`mutation ControllerDirectRestrictionsMutation($pageId:ID!$restrictions:PageRestrictionsInput){updatePage(input:{pageId:$pageId restrictions:$restrictions}){page{id}}}`,f="ShareAndRestrictDialog",g=(0,n.isReactCompilerActiveV1)()?function(e,t){let r,n,o,u,p=(0,s.c)(41),{fireAnalyticEvent:m,cloudId:f}=t,{contentId:g,contentType:y,publishModalRestrictions:v,pushPublishModalRestrictions:S,spaceKey:A,onClose:C,onCloseComplete:I,initialDialog:T,hasRestrictions:x,isUnpublishedDraft:k}=e,[R,O]=(0,i.useState)(!1);p[0]!==T?(r=(0,a("7BnEk").makeDefaultMasterState)(T),p[0]=T,p[1]=r):r=p[1];let[w,L]=(0,i.useState)(r),P=(0,a("5608P").useCtaFlowController)(L),[D,M]=(0,i.useState)(!1);p[2]!==f||p[3]!==g||p[4]!==y||p[5]!==v||p[6]!==A?(n={contentId:g,contentType:y,publishModalRestrictions:v,spaceKey:A,cloudId:f},p[2]=f,p[3]=g,p[4]=y,p[5]=v,p[6]=A,p[7]=n):n=p[7];let N=(0,d.useQueries)(n);if("loading"===N.state||R){let e,t,a,r,n,s,i,o,l,c="accessRequests"===T?"accessRequests":"share",d="accessRequests"===T?_:void 0;p[8]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{O(!0)},t={lastTriggeredDialogVariant:null,openAccessRequestsDialog:b,clearElementToFocus:E,usdLoading:!0},p[8]=e,p[9]=t):(e=p[8],t=p[9]),p[10]!==c||p[11]!==d?(a={titleAndButtons:{title:c,overflowMenu:void 0,onBackClick:d,onCloseClick:e,accessRequests:t},hasNavigationLockout:!1},p[10]=c,p[11]=d,p[12]=a):a=p[12];let u=a;p[13]!==v?(r=v?.some(h),p[13]=v,p[14]=r):r=p[14];let m=!!r,f=!!S,g=x||m,A="embed"===y;p[15]!==f||p[16]!==k||p[17]!==g||p[18]!==A?(n={specificAccessVisible:g,isDraft:k,isPublishModalFlow:f,isEmbed:A},p[15]=f,p[16]=k,p[17]=g,p[18]=A,p[19]=n):n=p[19];let w=n;p[20]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{O(!0)},p[20]=s):s=p[20],p[21]!==C||p[22]!==I?(i=()=>{C(),I?.()},p[21]=C,p[22]=I,p[23]=i):i=p[23],p[24]!==u||p[25]!==i||p[26]!==w?(o={onCloseRequest:s,onCloseComplete:i,header:u,body:void 0,footer:void 0,isLoading:!0,analyticsAttributes:void 0,usdLoadingHeightContext:w},p[24]=u,p[25]=i,p[26]=w,p[27]=o):o=p[27];let L=o;return p[28]!==L||p[29]!==R?(l=R?{dialogsProps:{}}:{dialogsProps:{shareAndRestrictDialog:L}},p[28]=L,p[29]=R,p[30]=l):l=p[30],l}if("error"===N.state){let e;return t.experienceTracker.fail({name:a("irVI7").SHARE_AND_RESTRICT_DIALOG_LOAD_EXPERIENCE,error:Error("Failed to fetch share and restrictions dialog data")}),m({eventType:"sendTrackEvent",action:"failed",actionSubject:"query",actionSubjectId:"ShareAndRestrictDialog"}),D||(M(!0),t.errorFlag("loading-error")),p[31]===Symbol.for("react.memo_cache_sentinel")?(e={dialogsProps:{}},p[31]=e):e=p[31],e}let{queriesState:U,refetchQueries:j}=N;if(p[32]!==t||p[33]!==e||p[34]!==P||p[35]!==w||p[36]!==U||p[37]!==j){let r=(0,a("3PKog").getDerivedState)(w,U,e),n=(0,l.getActions)(e,t,w,r,U,L,P,j);o=(0,c.makeDialogsProps)({controllerProps:e,controllerExtras:t,masterState:w,derivedState:r,queriesState:U,actions:n}),p[32]=t,p[33]=e,p[34]=P,p[35]=w,p[36]=U,p[37]=j,p[38]=o}else o=p[38];return p[39]!==o?(u={dialogsProps:o},p[39]=o,p[40]=u):u=p[40],u}:function(e,t){let{fireAnalyticEvent:r,cloudId:n}=t,{contentId:s,contentType:o,publishModalRestrictions:u,pushPublishModalRestrictions:p,spaceKey:m,onClose:f,onCloseComplete:g,initialDialog:h,hasRestrictions:E,isUnpublishedDraft:b}=e,[_,y]=(0,i.useState)(!1),[v,S]=(0,i.useState)((0,a("7BnEk").makeDefaultMasterState)(h)),A=(0,a("5608P").useCtaFlowController)(S),[C,I]=(0,i.useState)(!1),T=(0,d.useQueries)({contentId:s,contentType:o,publishModalRestrictions:u,spaceKey:m,cloudId:n});if("loading"===T.state||_){let e=!!u?.some(e=>e?.restrictions.user.results.length);return _?{dialogsProps:{}}:{dialogsProps:{shareAndRestrictDialog:{onCloseRequest:()=>{y(!0)},onCloseComplete:()=>{f(),g?.()},header:{titleAndButtons:{title:"accessRequests"===h?"accessRequests":"share",overflowMenu:void 0,onBackClick:"accessRequests"===h?()=>{}:void 0,onCloseClick:()=>{y(!0)},accessRequests:{lastTriggeredDialogVariant:null,openAccessRequestsDialog:()=>{},clearElementToFocus:()=>{},usdLoading:!0}},hasNavigationLockout:!1},body:void 0,footer:void 0,isLoading:!0,analyticsAttributes:void 0,usdLoadingHeightContext:{specificAccessVisible:E||e,isDraft:b,isPublishModalFlow:!!p,isEmbed:"embed"===o}}}}}if("error"===T.state)return t.experienceTracker.fail({name:a("irVI7").SHARE_AND_RESTRICT_DIALOG_LOAD_EXPERIENCE,error:Error("Failed to fetch share and restrictions dialog data")}),r({eventType:"sendTrackEvent",action:"failed",actionSubject:"query",actionSubjectId:"ShareAndRestrictDialog"}),C||(I(!0),t.errorFlag("loading-error")),{dialogsProps:{}};let{queriesState:x,refetchQueries:k}=T,R=(0,a("3PKog").getDerivedState)(v,x,e),O=(0,l.getActions)(e,t,v,R,x,S,A,k);return{dialogsProps:(0,c.makeDialogsProps)({controllerProps:e,controllerExtras:t,masterState:v,derivedState:R,queriesState:x,actions:O})}};function h(e){return e?.restrictions.user.results.length}function E(){}function b(){}function _(){}let y=(0,a("cgtv4").defineMessages)({loadingErrorTitle:{id:"share-and-restrict-dialog.general-access.flags.title.failed-to-load-title",defaultMessage:"Access info failed to load"},loadingErrorBody:{id:"share-and-restrict-dialog.general-access.flags.title.failed-to-load-body",defaultMessage:"We couldnâ€™t load some data so the access information may not be accurate. Try refreshing now."},notificationErrorTitle:{id:"share-and-restrict-dialog.general-access.flags.title.notification-error-title",defaultMessage:"Notification failed to send"},notificationErrorBody:{id:"share-and-restrict-dialog.general-access.flags.title.notification-error-body",defaultMessage:"We ran into a problem notifying the people you shared with. Try copying the link."},listTooLargeNotificationErrorTitle:{id:"share-and-restrict-dialog.general-access.flags.title.list-too-large-notification-error-title",defaultMessage:"Too many recipients"},listTooLargeNotificationErrorBody:{id:"share-and-restrict-dialog.general-access.flags.title.list-too-large-notification-error-body",defaultMessage:"Youâ€™re sharing with one or more distribution lists that contain too many people to share with at one time."},mutationErrorTitle:{id:"share-and-restrict-dialog.general-access.flags.title.mutation-error-title",defaultMessage:"Access change failed"},mutationErrorBody:{id:"share-and-restrict-dialog.general-access.flags.title.mutation-error-body",defaultMessage:"We ran into a problem completing your action. Wait a while and try again."},notificationTitle:{id:"share-and-restrict-dialog.flags.title.notification-sent",defaultMessage:"Notification sent"},alreadyHasAccessTitle:{id:"share-and-restrict-dialog.flags.title.already-has-access",defaultMessage:"The people added already have access"},contentSharedTitle:{id:"share-and-restrict-dialog.flags.title.content-shared",defaultMessage:"Content shared"},draftSharedTitle:{id:"share-and-restrict-dialog.flags.title.draft-shared",defaultMessage:"Draft shared"},accessUpdatedTitle:{id:"share-and-restrict-dialog.flags.title.access-updated",defaultMessage:"Access updated"}}),v={"loading-error":[y.loadingErrorTitle,y.loadingErrorBody],"notification-error":[y.notificationErrorTitle,y.notificationErrorBody],"list-too-large-error":[y.listTooLargeNotificationErrorTitle,y.listTooLargeNotificationErrorBody],"mutation-error":[y.mutationErrorTitle,y.mutationErrorBody]},S={"notification-sent":y.notificationTitle,"content-shared":y.contentSharedTitle,"draft-shared":y.draftSharedTitle,"access-updated":y.accessUpdatedTitle,"has-access-already":y.alreadyHasAccessTitle},A=(0,n.isReactCompilerActiveV1)()?t=>{let r,n,l,c,d,h,E,b,_,y,A=(0,s.c)(40),C=(0,i.useContext)(a("1kHsc").ExperienceTrackerContext),{formatMessage:I}=(0,a("8C5kA").default)(),{createAnalyticsEvent:T}=(0,a("inPa6").useAnalyticsEvents)(),{AutoDismissFlag:x}=(0,a("lsxnT").useChoreographerAssets)(),{flags:k}=t,{showErrorFlag:R,showFlag:O}=k,{contentId:w,pushPublishModalRestrictions:L,refetchButtonData:P,hasRestrictions:D,hasInheritedRestrictions:M,hasViewRestrictions:N}=t,{cloudId:U}=(0,a("bQm3c").useSessionData)(),{shareToPrincipals:j}=(0,u.useShareToPrincipals)(w),[B]=(0,a("1KmJq").useMutation)(m);A[0]!==t?(r=()=>{t.onClose(),t.onCloseComplete?.()},A[0]=t,A[1]=r):r=A[1];let F=(0,a("5bmjx").useTeardownController)(r),{showSpotlight:G}=(0,p.useShouldShowSpotlight)(),V=(0,i.useRef)(null),q=(0,i.useRef)(null);A[2]!==I||A[3]!==R?(n=e=>{let[t,a]=v[e];R({title:I(t),description:I(a)})},A[2]=I,A[3]=R,A[4]=n):n=A[4],A[5]!==x||A[6]!==I||A[7]!==O?(l=t=>{O({type:"success-circle",title:I(S[t]),customComponent:a=>e(i).createElement(x,{...a,messageId:`share-and-restrict-dialog-success-flag-${t}`,messageType:"transactional"})})},A[5]=x,A[6]=I,A[7]=O,A[8]=l):l=A[8],A[9]!==j?(c=async(e,t)=>{let r=(0,a("cBa8E").getNotificationRecipients)({stagedNotificationRecipients:e});await j({notificationRecipients:r,message:t})},A[9]=j,A[10]=c):c=A[10],A[11]!==w||A[12]!==P||A[13]!==B?(d=async()=>{await B({variables:{pageId:w,restrictions:{read:{group:[],user:[]},update:{group:[],user:[]}}}}),P()},h=async(e,t,r,n)=>{if("open-can-edit"!=e){let e=t.get(r.id);e&&"can-view"!=e.role||t.set(r.id,{role:"can-edit",principal:r,isNewOrUpdatedPrincipal:!1})}let s=(0,a("4Ewfm").getRestrictionsForMutation)({stagedGeneralAccessLevel:e,principals:t});await B({variables:{pageId:w,restrictions:{...s,includeInvites:n}}}),P()},A[11]=w,A[12]=P,A[13]=B,A[14]=d,A[15]=h):(d=A[14],h=A[15]),A[16]!==L?(E=(e,t)=>{L((0,a("4Ewfm").getRestrictionsForPublishModal)({stagedGeneralAccessLevel:e,principals:t}))},A[16]=L,A[17]=E):E=A[17],A[18]!==T?(b=e=>{let{eventType:t,action:a,actionSubject:r,actionSubjectId:n,attributes:s,source:i}=e;T({type:t,data:{source:void 0===i?f:i,action:a,actionSubject:r,actionSubjectId:n,attributes:s}}).fire()},A[18]=T,A[19]=b):b=A[19],A[20]!==U||A[21]!==C||A[22]!==I||A[23]!==M||A[24]!==D||A[25]!==N||A[26]!==G||A[27]!==R||A[28]!==O||A[29]!==n||A[30]!==l||A[31]!==c||A[32]!==d||A[33]!==h||A[34]!==E||A[35]!==b||A[36]!==F?(_={errorFlag:n,successFlag:l,showFlag:O,showErrorFlag:R,sendNotification:c,callResolveMismatchedRestrictions:d,mutateContentRestrictions:h,exportPublishModalRestrictions:E,teardownController:F,fireAnalyticEvent:b,experienceTracker:C,formatMessage:I,isHeaderSpotlightActive:G,publicLinkButtonRef:V,shareToSlackButtonRef:q,hasRestrictions:D,hasInheritedRestrictions:M,hasViewRestrictions:N,cloudId:U},A[20]=U,A[21]=C,A[22]=I,A[23]=M,A[24]=D,A[25]=N,A[26]=G,A[27]=R,A[28]=O,A[29]=n,A[30]=l,A[31]=c,A[32]=d,A[33]=h,A[34]=E,A[35]=b,A[36]=F,A[37]=_):_=A[37];let{dialogsProps:K}=g(t,_);return A[38]!==K?(y=e(i).createElement(o.Dialogs,K),A[38]=K,A[39]=y):y=A[39],y}:t=>{let r=(0,i.useContext)(a("1kHsc").ExperienceTrackerContext),{formatMessage:n}=(0,a("8C5kA").default)(),{createAnalyticsEvent:s}=(0,a("inPa6").useAnalyticsEvents)(),{AutoDismissFlag:l}=(0,a("lsxnT").useChoreographerAssets)(),{flags:c}=t,{showErrorFlag:d,showFlag:h}=c,{contentId:E,pushPublishModalRestrictions:b,refetchButtonData:_,hasRestrictions:y,hasInheritedRestrictions:A,hasViewRestrictions:C}=t,{cloudId:I}=(0,a("bQm3c").useSessionData)(),{shareToPrincipals:T}=(0,u.useShareToPrincipals)(E),[x]=(0,a("1KmJq").useMutation)(m),k=(0,a("5bmjx").useTeardownController)(()=>{t.onClose(),t.onCloseComplete?.()}),{showSpotlight:R}=(0,p.useShouldShowSpotlight)(),O=(0,i.useRef)(null),{dialogsProps:w}=g(t,{errorFlag:e=>{let[t,a]=v[e];d({title:n(t),description:n(a)})},successFlag:t=>{h({type:"success-circle",title:n(S[t]),customComponent:a=>e(i).createElement(l,{...a,messageId:`share-and-restrict-dialog-success-flag-${t}`,messageType:"transactional"})})},showFlag:h,showErrorFlag:d,sendNotification:async(e,t)=>{let r=(0,a("cBa8E").getNotificationRecipients)({stagedNotificationRecipients:e});await T({notificationRecipients:r,message:t})},callResolveMismatchedRestrictions:async()=>{await x({variables:{pageId:E,restrictions:{read:{group:[],user:[]},update:{group:[],user:[]}}}}),_()},mutateContentRestrictions:async(e,t,r,n)=>{if("open-can-edit"!=e){let e=t.get(r.id);e&&"can-view"!=e.role||t.set(r.id,{role:"can-edit",principal:r,isNewOrUpdatedPrincipal:!1})}let s=(0,a("4Ewfm").getRestrictionsForMutation)({stagedGeneralAccessLevel:e,principals:t});await x({variables:{pageId:E,restrictions:{...s,includeInvites:n}}}),_()},exportPublishModalRestrictions:(e,t)=>{b((0,a("4Ewfm").getRestrictionsForPublishModal)({stagedGeneralAccessLevel:e,principals:t}))},teardownController:k,fireAnalyticEvent:({eventType:e,action:t,actionSubject:a,actionSubjectId:r,attributes:n,source:i=f})=>{s({type:e,data:{source:i,action:t,actionSubject:a,actionSubjectId:r,attributes:n}}).fire()},experienceTracker:r,formatMessage:n,isHeaderSpotlightActive:R,publicLinkButtonRef:O,shareToSlackButtonRef:(0,i.useRef)(null),hasRestrictions:y,hasInheritedRestrictions:A,hasViewRestrictions:C,cloudId:I});return e(i).createElement(o.Dialogs,w)},C=(0,a("7aRa9").withFlags)(A);t.exports.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE=f,t.exports.SAC_CONTENT_ADD_REMOVE_DOCUMENTATION="https://support.atlassian.com/confluence-cloud/docs/add-or-remove-page-restrictions",t.exports.SAC_CONTENT_PERMS_MANAGEMENT_DOCUMENTATION="https://support.atlassian.com/confluence-cloud/docs/manage-permissions-on-the-page-level/",t.exports.ControllerComponent=A,t.exports.Controller=C}),r("lsxnT",function(e,t){var r=a("42omo");e.exports.useChoreographerAssets=()=>{let e=(0,r.useContext)(a("cryCi").Context);if(!e)throw Error("ChoreographerAssetsContext not found, did you include the correct Context provider?");return e}}),r("6uhfT",function(t,r){var n,s,i,o,l,c=a("3u0dr"),d=a("frIzR"),u=a("42omo"),p=a("erzVD"),m=a("bCanw"),f=a("4adOe");let g=(0,c.isReactCompilerActiveV1)()?()=>{let e,t,r,n=(0,d.c)(5),{createAnalyticsEvent:s}=(0,a("inPa6").useAnalyticsEvents)(),i=(0,u.useRef)(0);n[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{i.current=i.current+1},n[0]=e):e=n[0];let o=e;n[1]!==s?(t=()=>{let e=i.current;s({type:"sendTrackEvent",data:{actionSubject:"shareRecommendedUsers",action:"usedRecommendedUsers",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{recommendedUsersCount:e}}}).fire()},n[1]=s,n[2]=t):t=n[2];let l=t;return n[3]!==l?(r={addRecommendedUserCount:o,sendRecommendedUsersCount:l},n[3]=l,n[4]=r):r=n[4],r}:()=>{let{createAnalyticsEvent:e}=(0,a("inPa6").useAnalyticsEvents)(),t=(0,u.useRef)(0);return{addRecommendedUserCount:(0,u.useCallback)(()=>{t.current+=1},[]),sendRecommendedUsersCount:(0,u.useCallback)(()=>{let a=t.current;e({type:"sendTrackEvent",data:{actionSubject:"shareRecommendedUsers",action:"usedRecommendedUsers",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{recommendedUsersCount:a}}}).fire()},[e])}};var h=a("2ZJmt");let E=(0,a("cgtv4").defineMessages)({optionalMessage:{id:"share-and-restrict-dialog.cta-notify-message-footer.optional-message",defaultMessage:"Optional message"},placeholderMessage:{id:"share-and-restrict-dialog.cta-notify-message-footer.placeholder.non-final",defaultMessage:"Add text, or use /for elements"},charLimitErrorMessage:{id:"share-and-restrict-dialog.cta-notify-message-footer.char-limit-error-message",defaultMessage:"Message must be less than 500 characters"}}),b=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p,m,f=(0,d.c)(25),{isLockedOut:g,notifyMessage:h,rows:b,isCheckboxUnchecked:_,onNotifyMessageChange:y}=t,{formatMessage:v}=(0,a("8C5kA").default)();f[0]!==v?(r=t=>t&&t.length>500?e(u).createElement(a("gQhRa").ErrorMessage,null,v(E.charLimitErrorMessage)):e(u).createElement(a("gQhRa").HelperMessage,null,t?t.length:0,"/",500),f[0]=v,f[1]=r):r=f[1];let S=r;return f[2]!==_||f[3]!==g?(n=g||_&&(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment"),f[2]=_,f[3]=g,f[4]=n):n=f[4],f[5]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?E.placeholderMessage:E.optionalMessage,f[5]=s):s=f[5],f[6]!==v?(i=v(s),f[6]=v,f[7]=i):i=f[7],f[8]!==y?(o=e=>y(e.target.value),f[8]=y,f[9]=o):o=f[9],f[10]!==v?(l=v(E.optionalMessage),f[10]=v,f[11]=l):l=f[11],f[12]!==h||f[13]!==b||f[14]!==n||f[15]!==i||f[16]!==o||f[17]!==l?(c=e(u).createElement(a("9EtP6").default,{isDisabled:n,placeholder:i,value:h,onChange:o,minimumRows:b,maxHeight:(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?"120px":"80px","aria-label":l}),f[12]=h,f[13]=b,f[14]=n,f[15]=i,f[16]=o,f[17]=l,f[18]=c):c=f[18],f[19]!==S||f[20]!==h?(p=S(h),f[19]=S,f[20]=h,f[21]=p):p=f[21],f[22]!==c||f[23]!==p?(m=e(u).createElement(a("gdv5Z").default,null,c,p),f[22]=c,f[23]=p,f[24]=m):m=f[24],m}:({isLockedOut:t,notifyMessage:r,rows:n,isCheckboxUnchecked:s,onNotifyMessageChange:i})=>{let{formatMessage:o}=(0,a("8C5kA").default)();return e(u).createElement(a("gdv5Z").default,null,e(u).createElement(a("9EtP6").default,{isDisabled:t||s&&(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment"),placeholder:o((0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?E.placeholderMessage:E.optionalMessage),value:r,onChange:e=>i(e.target.value),minimumRows:n,maxHeight:(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?"120px":"80px","aria-label":o(E.optionalMessage)}),r&&r.length>500?e(u).createElement(a("gQhRa").ErrorMessage,null,o(E.charLimitErrorMessage)):e(u).createElement(a("gQhRa").HelperMessage,null,r?r.length:0,"/",500))},_=(0,a("cgtv4").defineMessages)({notifyNewlyAddedUsersLabel:{id:"share-and-restrict-dialog.cta-notify-message-footer.notify-newly-added-user-label",defaultMessage:"Notify newly added people"},notifyRecipientsLabel:{id:"share-and-restrict-dialog.cta-notify-message-footer.notify-recipients-label",defaultMessage:"Notify recipients"},notifySelectedUsersLabel:{id:"share-and-restrict-dialog.cta-notify-message-footer.notify-selected-users-label",defaultMessage:"Notify selected users"},addMessage:{id:"share-and-restrict-dialog.cta-notify-message-footer.add-message",defaultMessage:"Add message"},cancelButton:{id:"share-and-restrict-dialog.cta-notify-message-footer.cancel-cta",defaultMessage:"Cancel"},shareButton:{id:"share-and-restrict-dialog.cta-notify-message-footer.share-cta",defaultMessage:"Share"},saveButton:{id:"share-and-restrict-dialog.cta-notify-message-footer.save-cta",defaultMessage:"Save"}}),y=(0,a("ecnYn").xcss)({padding:"space.300"}),v=(0,a("ecnYn").xcss)({paddingTop:"space.200",maxHeight:"72px"}),S=(0,a("ecnYn").xcss)({paddingTop:"space.200",maxHeight:"72px"}),A=(0,a("ecnYn").xcss)({paddingTop:"space.075"}),C=(0,a("ecnYn").xcss)({padding:"space.0"}),I=(0,a("ecnYn").xcss)({paddingTop:"space.300",maxHeight:"80px"}),T=(0,a("ecnYn").xcss)({paddingTop:"space.300",minHeight:"80px"}),x=(0,a("ecnYn").xcss)({marginTop:"space.025",paddingTop:"space.150"}),k=(0,a("ecnYn").xcss)({width:"fit-content",height:"20px",border:"none",backgroundColor:"color.background.neutral.subtle",marginLeft:"space.300",padding:"0",paddingInlineStart:"space.050",position:"relative",top:"space.negative.050",flexShrink:0}),R=(0,a("ecnYn").xcss)({paddingInlineStart:"space.025"}),O=(0,a("ecnYn").xcss)({alignSelf:"flex-end"}),w=(0,a("ecnYn").xcss)({padding:"space.075",position:"relative",top:"space.025",left:"space.negative.075",boxSizing:"content-box",height:"40px"}),L=(0,a("ecnYn").xcss)({height:"auto"}),P=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p=(0,d.c)(24),{isLockedOut:m,notifyCheckbox:f,checkboxLabel:g,showMessageComposer:h,onNotifyCheckboxClick:E,onNotifyAddMessageClick:b,isSharingToEmailsDisabled:y}=t,v="checked"===f,{formatMessage:S}=(0,a("8C5kA").default)(),A=v&&h;p[0]!==A?(r=()=>A?e(u).createElement(e(a("2AytZ")),{label:"",color:"var(--ds-icon-subtle, #505258)",size:"small"}):A?null:e(u).createElement(e(a("ghftu")),{label:"",color:"var(--ds-icon-subtle, #505258)",size:"small"}),p[0]=A,p[1]=r):r=p[1];let C=r;p[2]===Symbol.for("react.memo_cache_sentinel")?(n=[w,(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")&&L],p[2]=n):n=p[2];let I=m||y;return p[3]!==g||p[4]!==S?(s=S(function(e){switch(e){case"newly-added":return _.notifyNewlyAddedUsersLabel;case"recipients":return _.notifyRecipientsLabel;default:return _.notifySelectedUsersLabel}}(g)),p[3]=g,p[4]=S,p[5]=s):s=p[5],p[6]!==v||p[7]!==E?(i=()=>E(v),p[6]=v,p[7]=E,p[8]=i):i=p[8],p[9]!==v||p[10]!==I||p[11]!==s||p[12]!==i?(o=e(u).createElement(a("7gpC4").default,{isDisabled:I,isChecked:v,label:s,onChange:i}),p[9]=v,p[10]=I,p[11]=s,p[12]=i,p[13]=o):o=p[13],p[14]!==S||p[15]!==C||p[16]!==v||p[17]!==y||p[18]!==b||p[19]!==A?(l=!(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")&&e(u).createElement(a("2W0qg").default,{xcss:k,onClick:b,isDisabled:!v||y,"aria-expanded":A},e(u).createElement(a("bUlM5").default,{as:"span",alignItems:"center"},e(u).createElement(a("5dK2X").default,{size:"small",color:v&&!y?"color.text.subtlest":"color.text.disabled"},S(_.addMessage)),e(u).createElement(a("6f0Oj").default,{xcss:R},C()))),p[14]=S,p[15]=C,p[16]=v,p[17]=y,p[18]=b,p[19]=A,p[20]=l):l=p[20],p[21]!==o||p[22]!==l?(c=e(u).createElement(a("1GzhS").default,{alignBlock:"center",xcss:n},o,l),p[21]=o,p[22]=l,p[23]=c):c=p[23],c}:({isLockedOut:t,notifyCheckbox:r,checkboxLabel:n,showMessageComposer:s,onNotifyCheckboxClick:i,onNotifyAddMessageClick:o,isSharingToEmailsDisabled:l})=>{let c="checked"===r,{formatMessage:d}=(0,a("8C5kA").default)(),p=c&&s;return e(u).createElement(a("1GzhS").default,{alignBlock:"center",xcss:[w,(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")&&L]},e(u).createElement(a("7gpC4").default,{isDisabled:t||l,isChecked:c,label:d((e=>{switch(e){case"newly-added":return _.notifyNewlyAddedUsersLabel;case"recipients":return _.notifyRecipientsLabel;default:return _.notifySelectedUsersLabel}})(n)),onChange:()=>i(c)}),!(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")&&e(u).createElement(a("2W0qg").default,{xcss:k,onClick:o,isDisabled:!c||l,"aria-expanded":p},e(u).createElement(a("bUlM5").default,{as:"span",alignItems:"center"},e(u).createElement(a("5dK2X").default,{size:"small",color:c&&!l?"color.text.subtlest":"color.text.disabled"},d(_.addMessage)),e(u).createElement(a("6f0Oj").default,{xcss:R},p?e(u).createElement(e(a("2AytZ")),{label:"",color:"var(--ds-icon-subtle, #505258)",size:"small"}):p?null:e(u).createElement(e(a("ghftu")),{label:"",color:"var(--ds-icon-subtle, #505258)",size:"small"})))))},D=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l=(0,d.c)(44),{natureOfCta:c,notifyCheckbox:p,checkboxLabel:m,isLockedOut:g,isCtaInProgress:h,messageComposer:E,sharingType:k,onCtaClick:R,onCancelClick:w,onNotifyCheckboxClick:L,onNotifyAddMessageClick:D,isSpecificAccessDetailsVisible:M,isLimitExceeded:N,pageMode:U,isDraft:j,isLivePage:B,isSharingToEmailsDisabled:F,contentId:G,hasGroups:V,hasTeams:q,hasUsers:K,includeInvites:H,generalAccessLevel:z,principalsCount:W}=t,Y="hidden"!==p,Q=void 0!==E,$=Q&&E.notifyMessage.length>500,X={share:_.shareButton,save:_.saveButton},{formatMessage:J}=(0,a("8C5kA").default)(),{createAnalyticsEvent:Z}=(0,a("inPa6").useAnalyticsEvents)(),[ee]=(0,a("ep3mz").useContentType)();l[0]!==G||l[1]!==ee||l[2]!==Z||l[3]!==z||l[4]!==V||l[5]!==q||l[6]!==K||l[7]!==H||l[8]!==j||l[9]!==B||l[10]!==E?.notifyMessage||l[11]!==c||l[12]!==p||l[13]!==U||l[14]!==W||l[15]!==Y?(r=()=>{Z({type:"sendUIEvent",data:{actionSubject:"button",actionSubjectId:"submitShare",action:"clicked",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{buttonLabel:c,isNotifyCheckboxShown:Y,isNotify:p,isMessagePresent:!!E?.notifyMessage,contentType:ee,contentId:G,pageMode:U,isDraft:j,isLivePage:B,hasGroups:V,hasTeams:q,hasUsers:K,includeInvites:H,generalAccessLevel:z,principalsCount:W}}}).fire(),Z({type:"sendTrackEvent",data:{action:"shared",actionSubject:"page",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{buttonLabel:c,isNotifyCheckboxShown:Y,isNotify:p,isMessagePresent:!!E?.notifyMessage,includeInvites:H}}}).fire()},l[0]=G,l[1]=ee,l[2]=Z,l[3]=z,l[4]=V,l[5]=q,l[6]=K,l[7]=H,l[8]=j,l[9]=B,l[10]=E?.notifyMessage,l[11]=c,l[12]=p,l[13]=U,l[14]=W,l[15]=Y,l[16]=r):r=l[16];let et=r;l[17]!==G||l[18]!==ee||l[19]!==Z||l[20]!==z||l[21]!==V||l[22]!==q||l[23]!==K||l[24]!==H||l[25]!==j||l[26]!==B||l[27]!==E?.notifyMessage||l[28]!==c||l[29]!==p||l[30]!==U||l[31]!==W||l[32]!==Y?(n=()=>{Z({type:"sendTrackEvent",data:{actionSubject:"applyRestrictions",action:"applied",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{buttonLabel:c,isNotifyCheckboxShown:Y,isNotify:p,isMessagePresent:!!E?.notifyMessage,contentType:ee,pageMode:U,isDraft:j,isLivePage:B,contentId:G,hasGroups:V,hasTeams:q,hasUsers:K,includeInvites:H,generalAccessLevel:z,principalsCount:W}}}).fire()},l[17]=G,l[18]=ee,l[19]=Z,l[20]=z,l[21]=V,l[22]=q,l[23]=K,l[24]=H,l[25]=j,l[26]=B,l[27]=E?.notifyMessage,l[28]=c,l[29]=p,l[30]=U,l[31]=W,l[32]=Y,l[33]=n):n=l[33];let ea=n;l[34]!==ea||l[35]!==et||l[36]!==R||l[37]!==k?(s=()=>{"sharing-and-applying-restrictions"===k&&(et(),ea()),"sharing"===k&&et(),"applying-restrictions"===k&&ea(),R()},l[34]=ea,l[35]=et,l[36]=R,l[37]=k,l[38]=s):s=l[38];let er=s;l[39]!==Z||l[40]!==w?(i=()=>{Z({type:"sendUIEvent",data:{actionSubject:"button",actionSubjectId:"CancelButton",action:"clicked",attributes:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE}}}).fire(),w()},l[39]=Z,l[40]=w,l[41]=i):i=l[41];let en=i,es=!Y,ei=Y&&!Q,eo=Y&&Q,el=eo&&M,ec="none"!==c&&e(u).createElement(a("bUlM5").default,{direction:Q?"column":"row",gap:Q?"space.200":"space.100",alignItems:"center",justifyContent:Y?"space-between":"end",xcss:[y,es&&v,ei&&S,eo&&A,es&&M&&I,ei&&M&&T,el&&x,(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")&&eo&&C]},Y&&Q&&e(u).createElement(a("1GzhS").default,{grow:"fill",space:"space.100"},e(u).createElement(P,{isLockedOut:g,notifyCheckbox:p,checkboxLabel:m,onNotifyCheckboxClick:L,onNotifyAddMessageClick:D,showMessageComposer:Q,isSharingToEmailsDisabled:F}),E&&e(u).createElement(b,E)),!Q&&Y&&e(u).createElement(P,{isLockedOut:g,notifyCheckbox:p,checkboxLabel:m,onNotifyCheckboxClick:L,onNotifyAddMessageClick:D,showMessageComposer:Q,isSharingToEmailsDisabled:F}),!(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")&&e(u).createElement(a("dcJ7R").default,{space:"space.100",xcss:[Q&&O]},e(u).createElement(a("ccHMk").default,{appearance:"subtle",onClick:en,isDisabled:g},J(_.cancelButton)),e(u).createElement(a("ccHMk").default,{appearance:"primary",onClick:er,isLoading:h,isDisabled:!h&&g||$||N||F},J(X[c]))),e(u).createElement(a("bflGB").ShortcutListener,{accelerator:["command+enter","ctrl+enter"],listener:er,allowInDialog:!0}));return l[42]!==ec?(o=e(u).createElement(e(u).Fragment,null,ec),l[42]=ec,l[43]=o):o=l[43],o}:({natureOfCta:t,notifyCheckbox:r,checkboxLabel:n,isLockedOut:s,isCtaInProgress:i,messageComposer:o,sharingType:l,onCtaClick:c,onCancelClick:d,onNotifyCheckboxClick:p,onNotifyAddMessageClick:m,isSpecificAccessDetailsVisible:g,isLimitExceeded:h,pageMode:E,isDraft:k,isLivePage:R,isSharingToEmailsDisabled:w,contentId:L,hasGroups:D,hasTeams:M,hasUsers:N,includeInvites:U,generalAccessLevel:j,principalsCount:B})=>{let F="hidden"!==r,G=void 0!==o,V=G&&o.notifyMessage.length>500,q={share:_.shareButton,save:_.saveButton},{formatMessage:K}=(0,a("8C5kA").default)(),{createAnalyticsEvent:H}=(0,a("inPa6").useAnalyticsEvents)(),[z]=(0,a("ep3mz").useContentType)(),W=(0,u.useCallback)(()=>{H({type:"sendUIEvent",data:{actionSubject:"button",actionSubjectId:"submitShare",action:"clicked",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{buttonLabel:t,isNotifyCheckboxShown:F,isNotify:r,isMessagePresent:!!o?.notifyMessage,contentType:z,contentId:L,pageMode:E,isDraft:k,isLivePage:R,hasGroups:D,hasTeams:M,hasUsers:N,includeInvites:U,generalAccessLevel:j,principalsCount:B}}}).fire(),H({type:"sendTrackEvent",data:{action:"shared",actionSubject:"page",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{buttonLabel:t,isNotifyCheckboxShown:F,isNotify:r,isMessagePresent:!!o?.notifyMessage,includeInvites:U}}}).fire()},[z,L,H,t,r,F,o,E,k,R,D,M,N,U,j,B]),Y=(0,u.useCallback)(()=>{H({type:"sendTrackEvent",data:{actionSubject:"applyRestrictions",action:"applied",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{buttonLabel:t,isNotifyCheckboxShown:F,isNotify:r,isMessagePresent:!!o?.notifyMessage,contentType:z,pageMode:E,isDraft:k,isLivePage:R,contentId:L,hasGroups:D,hasTeams:M,hasUsers:N,includeInvites:U,generalAccessLevel:j,principalsCount:B}}}).fire()},[H,t,r,F,o,z,E,k,R,L,D,M,N,U,j,B]),Q=(0,u.useCallback)(()=>{"sharing-and-applying-restrictions"===l&&(W(),Y()),"sharing"===l&&W(),"applying-restrictions"===l&&Y(),c()},[l,c,Y,W]),$=(0,u.useCallback)(()=>{H({type:"sendUIEvent",data:{actionSubject:"button",actionSubjectId:"CancelButton",action:"clicked",attributes:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE}}}).fire(),d()},[H,d]),X=!F,J=F&&!G,Z=F&&G,ee=X&&g,et=J&&g,ea=Z&&g;return e(u).createElement(e(u).Fragment,null,"none"!==t&&e(u).createElement(a("bUlM5").default,{direction:G?"column":"row",gap:G?"space.200":"space.100",alignItems:"center",justifyContent:F?"space-between":"end",xcss:[y,X&&v,J&&S,Z&&A,ee&&I,et&&T,ea&&x,(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")&&Z&&C]},F&&G&&e(u).createElement(a("1GzhS").default,{grow:"fill",space:"space.100"},e(u).createElement(P,{isLockedOut:s,notifyCheckbox:r,checkboxLabel:n,onNotifyCheckboxClick:p,onNotifyAddMessageClick:m,showMessageComposer:G,isSharingToEmailsDisabled:w}),o&&e(u).createElement(b,o)),!G&&F&&e(u).createElement(P,{isLockedOut:s,notifyCheckbox:r,checkboxLabel:n,onNotifyCheckboxClick:p,onNotifyAddMessageClick:m,showMessageComposer:G,isSharingToEmailsDisabled:w}),!(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")&&e(u).createElement(a("dcJ7R").default,{space:"space.100",xcss:[G&&O]},e(u).createElement(a("ccHMk").default,{appearance:"subtle",onClick:$,isDisabled:s},K(_.cancelButton)),e(u).createElement(a("ccHMk").default,{appearance:"primary",onClick:Q,isLoading:i,isDisabled:!i&&s||V||h||w},K(q[t]))),e(u).createElement(a("bflGB").ShortcutListener,{accelerator:["command+enter","ctrl+enter"],listener:Q,allowInDialog:!0})))};var M=a("92V6K");let N=(0,a("cgtv4").defineMessages)({canViewOptionLabel:{id:"share-and-restrict-dialog.general-access.permission.can-view",defaultMessage:"Can view"},canEditOptionLabel:{id:"share-and-restrict-dialog.general-access.permission.can-edit",defaultMessage:"Can edit"}}),U=(0,a("ecnYn").xcss)({paddingInline:"space.100",whiteSpace:"nowrap"}),j=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p=(0,d.c)(26),{isLockedOut:m,generalAccessLevel:g,onCanViewCanEditChange:h,isEditable:E,hasInheritedRestrictions:b,isDraft:_,isLivePage:y,contentType:v,isSaving:S}=t,{formatMessage:A}=(0,a("8C5kA").default)(),{createAnalyticsEvent:C}=(0,a("inPa6").useAnalyticsEvents)();p[0]!==A?(r=A(N.canViewOptionLabel),p[0]=A,p[1]=r):r=p[1],p[2]!==r?(n={label:r,value:"view"},p[2]=r,p[3]=n):n=p[3],p[4]!==A?(s=A(N.canEditOptionLabel),p[4]=A,p[5]=s):s=p[5],p[6]!==s?(i={label:s,value:"edit"},p[6]=s,p[7]=i):i=p[7],p[8]!==n||p[9]!==i?(o=[n,i],p[8]=n,p[9]=i,p[10]=o):o=p[10];let I=o;p[11]!==v||p[12]!==C||p[13]!==b||p[14]!==_||p[15]!==y||p[16]!==h?(l=e=>{C({type:"sendUIEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"selected",actionSubject:"option",actionSubjectId:"GeneralAccessPermissionDropdown",attributes:{selectedOption:e?.value,hasInheritedRestrictions:b,isDraft:_,isLivePage:y,contentType:v}}}).fire(),h(e?.value==="edit")},p[11]=v,p[12]=C,p[13]=b,p[14]=_,p[15]=y,p[16]=h,p[17]=l):l=p[17];let T=l,x=I[+("open-can-view"!==g)];return p[18]!==g||p[19]!==T||p[20]!==E||p[21]!==m||p[22]!==S||p[23]!==I||p[24]!==x?(c=e(u).createElement(e(u).Fragment,null,E?e(u).createElement(a("2gD2K").default,{appearance:"subtle",spacing:"compact",isDisabled:m||S&&(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment"),isSearchable:!1,options:I,value:x,onChange:T,label:x?.label}):e(u).createElement(a("6f0Oj").default,{xcss:U},e(u).createElement(a("gtD4K").default,"open-can-view"===g?N.canViewOptionLabel:N.canEditOptionLabel))),p[18]=g,p[19]=T,p[20]=E,p[21]=m,p[22]=S,p[23]=I,p[24]=x,p[25]=c):c=p[25],c}:({isLockedOut:t,generalAccessLevel:r,onCanViewCanEditChange:n,isEditable:s,hasInheritedRestrictions:i,isDraft:o,isLivePage:l,contentType:c,isSaving:d})=>{let{formatMessage:p}=(0,a("8C5kA").default)(),{createAnalyticsEvent:m}=(0,a("inPa6").useAnalyticsEvents)(),g=[{label:p(N.canViewOptionLabel),value:"view"},{label:p(N.canEditOptionLabel),value:"edit"}],h=g[+("open-can-view"!==r)];return e(u).createElement(e(u).Fragment,null,s?e(u).createElement(a("2gD2K").default,{appearance:"subtle",spacing:"compact",isDisabled:t||d&&(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment"),isSearchable:!1,options:g,value:h,onChange:e=>{m({type:"sendUIEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"selected",actionSubject:"option",actionSubjectId:"GeneralAccessPermissionDropdown",attributes:{selectedOption:e?.value,hasInheritedRestrictions:i,isDraft:o,isLivePage:l,contentType:c}}}).fire(),n(e?.value==="edit")},label:h?.label}):e(u).createElement(a("6f0Oj").default,{xcss:U},e(u).createElement(a("gtD4K").default,"open-can-view"===r?N.canViewOptionLabel:N.canEditOptionLabel)))},B=(0,a("cgtv4").defineMessages)({generalAccessTitle:{id:"share-and-restrict-dialog.general-access.title",defaultMessage:"General access"},generalAccessInfoIconLabelText:{id:"share-and-restrict-dialog.general-access.info-icon.label-text",defaultMessage:"Additional information"},generalAccessInfoIconMessage:{id:"share-and-restrict-dialog.general-access.info-icon.message",defaultMessage:"You don't have permission to change access to this content."}}),F=(0,a("ecnYn").xcss)({paddingTop:"space.100"}),G=(0,a("ecnYn").xcss)({paddingBlockEnd:"space.100"}),V=(0,a("ecnYn").xcss)({padding:"space.075",marginInlineStart:"space.negative.075"}),q=(0,a("ecnYn").xcss)({padding:"space.075",marginInlineEnd:"space.negative.075"}),K=(0,a("ecnYn").xcss)({maxHeight:"16px"}),H=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p,m=(0,d.c)(21),{generalAccessLevelSelectorProps:f,generalAccessPermissionDropdownProps:g,shouldShowUneditableRestrictionsInfoIcon:h,showBottomPadding:E}=t,{formatMessage:b}=(0,a("8C5kA").default)();m[0]!==b?(r=b(B.generalAccessTitle),m[0]=b,m[1]=r):r=m[1],m[2]!==b||m[3]!==h?(n=h&&e(u).createElement(a("3gadb").default,{content:b(B.generalAccessInfoIconMessage),position:"right"},e(u).createElement(e(a("8tSmd")),{label:b(B.generalAccessInfoIconLabelText),size:"small"})),m[2]=b,m[3]=h,m[4]=n):n=m[4],m[5]!==r||m[6]!==n?(s=e(u).createElement(a("7hXDW").default,{size:"xxsmall",as:"h2"},e(u).createElement(a("dcJ7R").default,{space:"space.050",grow:"hug",xcss:K},r,n)),m[5]=r,m[6]=n,m[7]=s):s=m[7];let _=E&&G;return m[8]!==_?(i=[F,_],m[8]=_,m[9]=i):i=m[9],m[10]!==f?(o=e(u).createElement(a("5izcQ").default,{name:"generalAccess"},e(u).createElement(a("6f0Oj").default,{xcss:V},e(u).createElement(M.GeneralAccessLevelSelector,f))),m[10]=f,m[11]=o):o=m[11],m[12]!==g?(l=g&&e(u).createElement(a("5izcQ").default,{name:"permissionDropdown"},e(u).createElement(a("6f0Oj").default,{xcss:q},e(u).createElement(j,g))),m[12]=g,m[13]=l):l=m[13],m[14]!==i||m[15]!==o||m[16]!==l?(c=e(u).createElement(a("dcJ7R").default,{grow:"fill",spread:"space-between",xcss:i},o,l),m[14]=i,m[15]=o,m[16]=l,m[17]=c):c=m[17],m[18]!==s||m[19]!==c?(p=e(u).createElement(a("1GzhS").default,{grow:"fill"},s,c),m[18]=s,m[19]=c,m[20]=p):p=m[20],p}:({generalAccessLevelSelectorProps:t,generalAccessPermissionDropdownProps:r,shouldShowUneditableRestrictionsInfoIcon:n,showBottomPadding:s})=>{let{formatMessage:i}=(0,a("8C5kA").default)();return e(u).createElement(a("1GzhS").default,{grow:"fill"},e(u).createElement(a("7hXDW").default,{size:"xxsmall",as:"h2"},e(u).createElement(a("dcJ7R").default,{space:"space.050",grow:"hug",xcss:K},i(B.generalAccessTitle),n&&e(u).createElement(a("3gadb").default,{content:i(B.generalAccessInfoIconMessage),position:"right"},e(u).createElement(e(a("8tSmd")),{label:i(B.generalAccessInfoIconLabelText),size:"small"})))),e(u).createElement(a("dcJ7R").default,{grow:"fill",spread:"space-between",xcss:[F,s&&G]},e(u).createElement(a("5izcQ").default,{name:"generalAccess"},e(u).createElement(a("6f0Oj").default,{xcss:V},e(u).createElement(M.GeneralAccessLevelSelector,t))),r&&e(u).createElement(a("5izcQ").default,{name:"permissionDropdown"},e(u).createElement(a("6f0Oj").default,{xcss:q},e(u).createElement(j,r)))))},z=a("7oH3p").Integration.GOOGLE_SERVICE,W=a("7oH3p").Integration.MICROSOFT_SERVICE,Y=a("7oH3p").Integration.PLATFORM_SLACK_SERVICE,Q=e=>{try{return localStorage.getItem(e)}catch(e){return null}},$=()=>Q("infi-slack-workspace-platform"),X=async e=>{if(!e)return{};let t=await (0,a("ktS3V").fetchExistingIntegrations)(e);return t||{}},J=e=>new(0,a("3KVX0").default)(e,{keys:["displayName","name","email","publicName"],threshold:.2}),Z=e=>(Object.keys(e).filter(t=>!e[t]).forEach(t=>delete e[t]),e),ee=e=>{let t=e.reduce((e,t)=>(e.push(...t),e),[]).reduce((e,t)=>{let a=t.email||t.id;return e[a]||(e[a]=[]),e[a].push(t),e},{});return Object.keys(t).map(e=>t[e].reduce((e,t)=>{let a=[...new Set([...e.sources,...t.sources])],r={...Z(e),...Z(t)};return r.sources=a,r}))},et=e=>({id:e.id,email:e.email,name:e.name,publicName:e.displayName,avatarUrl:e.avatarUrl,sources:["slack"],type:"external_user",isExternal:!0}),ea=async(e,t,r)=>{if(!e)return{slackService:void 0,workspaces:[],selectedWorkspace:null};let n=(0,a("1LFpx").slackServiceFactory)(e,"platform",t);if(!r)return{slackService:n,workspaces:[],selectedWorkspace:null};let s=r?.integrationMetadata?.[a("7oH3p").Integration.PLATFORM_SLACK_SERVICE]?.teams?.filter(e=>e.scopeState!==a("7oH3p").ScopeState.NO_SCOPE)||[],i=$(),o=null;return s.length>0&&i&&(o=s.find(e=>e.id===i)||null),{slackService:n,workspaces:s,selectedWorkspace:o}},er=async(e,t,r,n)=>{if(!t||!e||0===e.trim().length||0===r.size)return[];let s=r.has(z)||r.has(W)?await (0,a("ktS3V").search)(e,t).catch(()=>[]):[];if(n.current){let t=n.current.search(e).map(e=>e.item);s=ee([s,t.slice(0,Math.min(t.length,10))])}let i=J(s).search(e).map(e=>e.item);return i.slice(0,Math.min(i.length,10))},en=(e,t,a)=>async r=>0===(r??"").trim().length?[]:await er(r,e,t,a),es=({cloudId:e,createAnalyticsEvent:t,canUserInvite:a,onError:r})=>{let n=(0,u.useRef)(void 0),s=(0,u.useRef)(null),i=(0,u.useRef)(J([])),[o,l]=(0,u.useState)(!1),[c,d]=(0,u.useState)(!1),[p,m]=(0,u.useState)(()=>en(e,new Set,i)),f=(0,u.useCallback)(()=>{i.current=J([]),s.current&&n.current&&n.current.streamUsers(s.current.id,e=>{e?.ok&&e.result.forEach(e=>{let t=et(e);i.current.add(t)})})},[]),g=(0,u.useCallback)(()=>{n.current&&n.current.abort(),n.current=void 0,s.current=null,i.current=J([]),m(()=>en(e,new Set,i))},[e]),h=(0,u.useCallback)(async a=>{d(!1),l(!0);try{n.current&&n.current.abort();let r=await ea(e,t,a);n.current=r.slackService,r.selectedWorkspace&&(s.current=r.selectedWorkspace),f(),d(!0)}catch(e){r?.(e instanceof Error?e:Error("Failed to initialize Slack integration"))}finally{l(!1)}},[e,t,r,f]),E=(0,u.useCallback)(async()=>{if(!a())return;let t=await X(e),r=new Set(t.connectedIntegrations);r&&(r.has(Y)&&!n.current&&h(t),m(()=>en(e,r,i)),d(!0))},[e,h,a]);return(0,u.useEffect)(()=>()=>{n.current&&n.current.abort()},[]),{isInitializing:o,isInitialized:c,initThirdPartyIntegrations:E,clearIntegrations:g,thirdPartyResolver:p}};var ei=a("hpRYU");let eo=(0,c.isReactCompilerActiveV1)()?e=>{let t,r,n=(0,d.c)(6),{variables:s,onCompleted:i,onError:o}=e,l=`/gateway/api/v3/invitations/capabilities?resource=${s.resourceARI}`;return n[0]===Symbol.for("react.memo_cache_sentinel")?(t={"Content-Type":a("aBfpe").MediaType.JSON},n[0]=t):t=n[0],n[1]!==i||n[2]!==o||n[3]!==l||n[4]!==s?(r={url:l,method:"GET",credentials:"include",headers:t,parseResult:el,variables:s,onCompleted:i,onError:o},n[1]=i,n[2]=o,n[3]=l,n[4]=s,n[5]=r):r=n[5],(0,a("eZLpN").useExperimentalLazyQuery)(r)}:({variables:e,onCompleted:t,onError:r})=>(0,a("eZLpN").useExperimentalLazyQuery)({url:`/gateway/api/v3/invitations/capabilities?resource=${e.resourceARI}`,method:"GET",credentials:"include",headers:{"Content-Type":a("aBfpe").MediaType.JSON},parseResult:e=>{for(let t of e)if(t?.resourceARI?.includes("confluence"))return{experimentalInvitePermissions:{directInviteMode:t?.directInvite?.mode??null,directInviteDomains:t?.directInvite?.domains??null,invitePendingApprovalMode:t?.invitePendingApproval?.mode??null}};return{experimentalInvitePermissions:{directInviteMode:null,directInviteDomains:null,invitePendingApprovalMode:null}}},variables:e,onCompleted:t,onError:r});function el(e){for(let t of e)if(t?.resourceARI?.includes("confluence"))return{experimentalInvitePermissions:{directInviteMode:t?.directInvite?.mode??null,directInviteDomains:t?.directInvite?.domains??null,invitePendingApprovalMode:t?.invitePendingApproval?.mode??null}};return{experimentalInvitePermissions:{directInviteMode:null,directInviteDomains:null,invitePendingApprovalMode:null}}}let ec=(0,c.isReactCompilerActiveV1)()?()=>{let e,t,r,n,s,i,o,l=(0,d.c)(20),{cloudId:c}=(0,a("bQm3c").useSessionData)();l[0]!==c?(e=a("d4Pk4").PlatformSiteAri.create({siteId:c}).toString(),l[0]=c,l[1]=e):e=l[1];let u=e,{createAnalyticsEvent:p}=(0,a("inPa6").useAnalyticsEvents)();l[2]!==p?(t=()=>{p({type:"sendOperationalEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"success",actionSubject:"useInviteCapabilityShareAndRestrictDialogQuery"}}).fire()},l[2]=p,l[3]=t):t=l[3];let m=t;l[4]!==p?(r=e=>{p({type:"sendOperationalEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"error",actionSubject:"useInviteCapabilityShareAndRestrictDialogQuery",attributes:{error:e.message}}}).fire()},l[4]=p,l[5]=r):r=l[5];let g=r;l[6]!==u?(n={resourceARI:u},l[6]=u,l[7]=n):n=l[7],l[8]!==m||l[9]!==g||l[10]!==n?(s={variables:n,onCompleted:m,onError:g},l[8]=m,l[9]=g,l[10]=n,l[11]=s):s=l[11];let[h,E]=eo(s),{data:b,loading:_,error:y,called:v}=E;l[12]!==b||l[13]!==y||l[14]!==_?(i=()=>!!b&&!_&&!y&&b.experimentalInvitePermissions?.invitePendingApprovalMode==="ANYONE",l[12]=b,l[13]=y,l[14]=_,l[15]=i):i=l[15];let S=i;return l[16]!==v||l[17]!==S||l[18]!==h?(o={loadInviteCapabilities:h,canUserInvite:S,called:v},l[16]=v,l[17]=S,l[18]=h,l[19]=o):o=l[19],o}:()=>{let{cloudId:e}=(0,a("bQm3c").useSessionData)(),t=a("d4Pk4").PlatformSiteAri.create({siteId:e}).toString(),{createAnalyticsEvent:r}=(0,a("inPa6").useAnalyticsEvents)(),[n,{data:s,loading:i,error:o,called:l}]=eo({variables:{resourceARI:t},onCompleted:(0,u.useCallback)(()=>{r({type:"sendOperationalEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"success",actionSubject:"useInviteCapabilityShareAndRestrictDialogQuery"}}).fire()},[r]),onError:(0,u.useCallback)(e=>{r({type:"sendOperationalEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"error",actionSubject:"useInviteCapabilityShareAndRestrictDialogQuery",attributes:{error:e.message}}}).fire()},[r])});return{loadInviteCapabilities:n,canUserInvite:(0,u.useCallback)(()=>!!s&&!i&&!o&&s.experimentalInvitePermissions?.invitePendingApprovalMode==="ANYONE",[s,i,o]),called:l}};var ed=a("l998X");let eu="growth",ep=(0,a("eWRwJ").default)(eu),em=()=>{let{createAnalyticsEvent:e}=(0,a("inPa6").useAnalyticsEvents)();return(0,u.useCallback)(t=>{ep(t)(e)},[e])},ef=(0,a("cgtv4").defineMessages)({error:{id:"growth.inline-invite.error-panel.error",defaultMessage:"We can't invite {count, plural, one {this person} other {these people}} right now. Share this page with them instead."},partialSuccess:{id:"growth.inline-invite.error-panel.partial-success",defaultMessage:"Invitation sent to {count, plural, one {<bold>{email}</bold>} =2 {<bold>{email}</bold> and 1 other} other {<bold>{email}</bold> and {others} others}}."},partialError:{id:"growth.inline-invite.error-panel.partial-error",defaultMessage:"We couldn't invite <bold>{count, plural, one {1 other} other {# others}}</bold>. Share this page with them instead."},maxInvites:{id:"growth.inline-invite.error-panel.max-invites",defaultMessage:"You can invite a maximum of {max} people at one time"}}),eg=e=>(0,ed.jsx)(a("iXCQx").default,{weight:"bold",children:e}),eh=({children:e})=>(0,ed.jsx)(a("iXCQx").default,{size:"medium",color:"color.text.warning",children:e}),eE=({successEmails:e,errorEmails:t,exceedsMaxInvites:r,endpointFailure:n})=>r?(0,ed.jsx)(eh,{children:(0,ed.jsx)(a("gtD4K").default,{...ef.maxInvites,values:{max:10}})}):n||0===e.length?(0,ed.jsx)(eh,{children:(0,ed.jsx)(a("gtD4K").default,{...ef.error,values:{count:e.length+t.length}})}):(0,ed.jsxs)(a("eyWa4").default,{space:"space.100",children:[(0,ed.jsx)(eh,{children:(0,ed.jsx)(a("gtD4K").default,{...ef.partialSuccess,values:{count:e.length,email:e[0],others:e.length-1,bold:eg}})}),(0,ed.jsx)(eh,{children:(0,ed.jsx)(a("gtD4K").default,{...ef.partialError,values:{count:t.length,bold:eg}})})]}),eb=({integration:e,...t})=>{let r=em();return(0,u.useEffect)(()=>{r({eventType:"screen",name:"inlineInviteError",attributes:{integration:e}})},[r,e]),(0,ed.jsx)(a("aoVih").default,{appearance:"warning",children:(0,ed.jsx)(eE,{...t})})};a("42omo");let e_=({children:e,onClick:t,fontSize:r})=>(0,ed.jsx)(a("fVUfS").default,{onClick:t,xcss:"_4bfu1r31 _1hms8stv _ajmmnqa1 _bfhksm61 _ca0qze3t _u5f3ze3t _n3tdze3t _19bvze3t _syaz13af _9oik1r31 _1bnxglyw _jf4cnqa1 _9h8h12zz",children:(0,ed.jsx)(a("iXCQx").default,{size:r||"small",children:e})}),ey=(0,a("cgtv4").defineMessages)({title:{id:"growth.inline-invite.invite-panel.title",defaultMessage:"Invite {count, plural, one {<bold>{email}</bold>} =2 {<bold>{email}</bold> and <bold>1 other</bold>} other {<bold>{email}</bold> and <bold>{others} others</bold>}} to {product}"},skip:{id:"growth.inline-invite.invite-panel.skip",defaultMessage:"<action>Skip</action> this if you're sharing to a group email or distribution list."},invite:{id:"growth.inline-invite.invite-panel.invite",defaultMessage:"Invite"}}),ev={confluence:"Confluence"},eS=({emails:e,product:t,onInvite:r,onDismiss:n,isRecaptchaLoaded:s,integration:i})=>{let[o,l]=(0,u.useState)(!1),c=em(),d=(0,u.useMemo)(()=>({users:e.length,integration:i}),[e.length,i]),p=(0,u.useCallback)(async()=>{l(!0),c({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:"inlineInvite",attributes:d}),await r(),l(!1)},[c,d,r]),m=(0,u.useCallback)(()=>{c({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:"inlineInviteDismissed",attributes:d}),n()},[c,d,n]);return 0===e.length?null:(0,ed.jsx)(a("aoVih").default,{appearance:"information",children:(0,ed.jsxs)(a("u9agA").default,{spread:"space-between",space:"space.100",children:[(0,ed.jsxs)(a("eyWa4").default,{space:"space.050",children:[(0,ed.jsx)(a("iXCQx").default,{size:"medium",children:(0,ed.jsx)(a("gtD4K").default,{...ey.title,values:{email:e[0],product:ev[t],count:e.length,others:e.length-1,bold:e=>(0,ed.jsx)(a("iXCQx").default,{weight:"bold",children:e})}})}),o?(0,ed.jsx)(a("iXCQx").default,{size:"small",color:"color.text.subtle",children:(0,ed.jsx)(a("a502B").default,{})}):(0,ed.jsx)(a("iXCQx").default,{size:"small",color:"color.text.subtle",children:(0,ed.jsx)(a("gtD4K").default,{...ey.skip,values:{action:e=>(0,ed.jsx)(e_,{onClick:m,children:e})}})})]}),(0,ed.jsx)(a("ccHMk").default,{appearance:"primary",spacing:"compact",isLoading:o||!s,onClick:p,children:(0,ed.jsx)(a("gtD4K").default,{...ey.invite})})]})})},eA=(0,a("cgtv4").defineMessages)({allInvited:{id:"growth.inline-invite.success-panel.all-invited",defaultMessage:"Invitation sent to <bold>{invitedCount, plural, one {{email}} other {everyone}}</bold>"},allRequested:{id:"growth.inline-invite.success-panel.all-requested",defaultMessage:"Access request sent to your admin for <bold>{requestedCount, plural, one {{email}} other {everyone}}</bold>"},hybridOneRequested:{id:"growth.inline-invite.success-panel.hybrid-one-requested",defaultMessage:"You've added <bold>{invitedCount, plural, one {1 person} other {# people}}</bold>, and requested access for {email}"},hybridOneInvited:{id:"growth.inline-invite.success-panel.hybrid-one-invited",defaultMessage:"You've added <bold>{email}</bold>, and requested access for {requestedCount} others"},hybrid:{id:"growth.inline-invite.success-panel.hybrid",defaultMessage:"You've added <bold>{invitedCount} people</bold>, and requested access for {requestedCount} others"}}),eC=({invitedEmails:e,requestedEmails:t})=>0===e.length&&0===t.length?{message:null,email:null}:e.length>=1&&0===t.length?{message:eA.allInvited,email:e[0]}:0===e.length&&t.length>=1?{message:eA.allRequested,email:t[0]}:e.length>=1&&1===t.length?{message:eA.hybridOneRequested,email:t[0]}:1===e.length&&t.length>=1?{message:eA.hybridOneInvited,email:e[0]}:{message:eA.hybrid,email:null},eI=({invitedEmails:e,requestedEmails:t,integration:r})=>{let n=em();(0,u.useEffect)(()=>{n({eventType:"screen",name:"inlineInviteSuccess",attributes:{invitedUsers:e.length,requestedUsers:t.length,integration:r}})},[n,e.length,t.length,r]);let{message:s,email:i}=(0,u.useMemo)(()=>eC({invitedEmails:e,requestedEmails:t}),[e,t]);return s?(0,ed.jsx)(a("aoVih").default,{appearance:"success",children:(0,ed.jsx)(a("iXCQx").default,{size:"medium",color:"color.text.success",children:(0,ed.jsx)(a("gtD4K").default,{...s,values:{invitedCount:e.length,requestedCount:t.length,email:i,bold:e=>(0,ed.jsx)(a("iXCQx").default,{weight:"bold",children:e})}})})}):null},eT=({emails:e,product:t,invite:r,onInviteComplete:n,onDismiss:s,continueUrl:i,resources:o,integration:l,touchpoint:c,isRecaptchaLoaded:d,getRecaptchaToken:p})=>{let[m,f]=(0,u.useState)("invite"),[g,h]=(0,u.useState)({invited:[],requested:[],error:[]}),[E,b]=(0,u.useState)(!1),[_,y]=(0,u.useState)(!1),v=(0,u.useCallback)(async()=>{let t=await p("invite").catch(()=>void 0),s=`InlineInvite_${l}`;if(e.length>10){b(!0),f("error");return}let d=e.map(e=>({email:e})),[u]=await Promise.all([r({continueUrl:i,users:d,resources:o,integration:l,touchpoint:c,recaptchaOptions:{recaptchaToken:t,recaptchaAction:s}}),new Promise(e=>{setTimeout(e,2500)})]),m=!1;if((0,a("1BTvF").mapInviteResult)(u).failure){y(!0);let e={invited:[],requested:[],error:d};h(e),n(e),f("error");return}let{invited:g,requested:E,error:_}=(0,a("1BTvF").mapInviteResult)(u),v={invited:g.map(({email:e,id:t})=>({email:e,id:t})),requested:E.map(({email:e,id:t})=>({email:e,id:t})),error:_.map(({email:e})=>({email:e}))};if(h(v),n(v),_.length>0)return void f("error");f("success")},[r,i,e,o,l,c,p,n]);switch(m){case"invite":return(0,ed.jsx)(eS,{emails:e,product:t,onInvite:v,onDismiss:s,isRecaptchaLoaded:d,integration:l});case"success":return(0,ed.jsx)(eI,{invitedEmails:g.invited.map(({email:e})=>e),requestedEmails:g.requested.map(({email:e})=>e),integration:l});case"error":return(0,ed.jsx)(eb,{endpointFailure:_,exceedsMaxInvites:E,successEmails:[...g.invited.map(({email:e})=>e),...g.requested.map(({email:e})=>e)],errorEmails:g.error.map(({email:e})=>e),integration:l})}},ex=["localhost","127.0.0.1","0.0.0.0","statlas.atl-paas.net","atlaskit.atlassian.com"],ek=()=>!window.location.host.includes("-dev.com"),eR=()=>ex.includes(window.location.hostname),eO=()=>eR()?"6Le_DxYiAAAAABV8BsFSj3AmZf3OkP9Fh9lfbZOZ":ek()?"6LfOcIYhAAAAADBS5OnBllme06dW9vyW4Zgowiru":"6LebaYYhAAAAAKFQt-KH6vVkTJQqwZddT-HJCIM3",ew=async e=>{let t=e.url;try{let a=await fetch(t,e);if(a.ok)return a.json();throw Error(`Fetch failed with status ${a.status}`)}catch(e){throw e instanceof Error&&(e.message=`Error while executing fetch for ${t}: ${e.message}`),e}},eL=e=>{let{atlassianAccountId:t,cloudId:r,product:n}=e,{createAnalyticsEvent:s}=(0,a("inPa6").useAnalyticsEvents)(),{isRecaptchaLoaded:i,getRecaptchaToken:o}=(0,a("fAdjB").useInvisibleRecaptcha)({siteKey:eO(),displayBadge:!1,analyticsChannel:eu,analyticsSource:`InlineInvite_${e.integration}`}),l=(0,u.useMemo)(()=>({createAnalyticsEvent:s,fetchJSON:ew,getCurrentCloudId:()=>r,getCurrentUserId:()=>t,getCurrentProduct:()=>n}),[s,r,t,n]),c=(0,a("hCOLa").useService)(a("1BTvF").invite,l),d=[a("k4HRJ").AnyAri.create({resourceOwner:n,resourceType:"site",resourceId:r})];return(0,ed.jsx)(eT,{...e,invite:c,resources:d,isRecaptchaLoaded:i,getRecaptchaToken:o})};var eP=a("hSqtY");let eD=(0,a("cgtv4").defineMessages)({inviteMessage:{id:"share-and-restrict-dialog.button.restriction.message.invite.text",defaultMessage:"Invite <b>{userEmail} {userCount, plural, =0 {} one {and # other} other {and # others}}</b> to join Confluence? Otherwise, weâ€™ll just send a notification when you select Share."},warningInviteMessage:{id:"share-and-restrict-dialog.button.restriction.message.warning.invite.text",defaultMessage:"You canâ€™t share specific content with people via email while on a trial or the Free plan. If you want to share via email, youâ€™ll have to invite them to Confluence."},invitePeopleCta:{id:"share-and-restrict-dialog.button.restriction.invite.action.text",defaultMessage:"Invite them"},inviteToConfluenceCta:{id:"share-and-restrict-dialog.button.restriction.inviteToConfluence.action.text",defaultMessage:"Invite to Confluence"},notifyUser:{id:"share-and-restrict-dialog.button.restriction.notify.action.text",defaultMessage:"Notify only"},inviteAndNotifyMessage:{id:"share-and-restrict-dialog.button.restriction.message.inviteOrNotify.text",defaultMessage:"To view the shared page, <b>{userEmail}</b> <b> {userCount, plural, =0 {} one {and # other} other {and # others}}</b> might need Confluence access. Invite them to get started. If sharing with a group or list, you can choose to notify only."}}),eM=(0,a("ecnYn").xcss)({padding:"space.200",paddingTop:"space.150",paddingBottom:"space.150"}),eN=(0,a("ecnYn").xcss)({backgroundColor:"color.background.warning",marginTop:"space.200",marginLeft:"space.200",marginRight:"space.200"}),eU=(0,a("ecnYn").xcss)({marginTop:"space.050"}),ej=(0,c.isReactCompilerActiveV1)()?t=>{let r,n=(0,d.c)(2);return n[0]!==t?(r=e(u).createElement(a("5dK2X").default,{weight:"bold"},t),n[0]=t,n[1]=r):r=n[1],r}:t=>e(u).createElement(a("5dK2X").default,{weight:"bold"},t),eB=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p,m,g=(0,d.c)(38),{userEmails:h,resolvedPrincipals:E,setResolvedPrincipals:b,showEmailWarningMessage:_,markPrincipalsAsInvited:y,markPrincipalsAsSkipped:v}=t,{openCoreInvites:S}=(0,u.useContext)(a("hSHWm").CoreInvitesContext),{createAnalyticsEvent:A}=(0,a("inPa6").useAnalyticsEvents)(),{cloudId:C,userId:I}=(0,a("bQm3c").useSessionData)();if(g[0]!==A||g[1]!==S||g[2]!==h?(r=()=>{S&&h&&h?.length!==0&&A({type:"sendScreenEvent",data:{name:"informInviteOnShare",attributes:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,inviteImprovementsM2Gate:(0,a("9wGTI").fg)("twcg-444-invite-usd-improvements-m2-gate"),inviteImprovementsM2Cohort:(0,a("6mKj3").UNSAFE_expValNoExposure)("twcg-444-invite-usd-improvements-m2","cohort","not-enrolled")}}}).fire()},n=[A,S,h],g[0]=A,g[1]=S,g[2]=h,g[3]=r,g[4]=n):(r=g[3],n=g[4]),(0,u.useEffect)(r,n),!S||!h||h?.length===0)return null;g[5]!==E.all?(s=new Set(E.all.map(eG)),g[5]=E.all,g[6]=s):s=g[6];let T=s;if(g[7]!==T||g[8]!==h){let e;g[10]!==T?(e=e=>!T.has(e),g[10]=T,g[11]=e):e=g[11],i=h.filter(e),g[7]=T,g[8]=h,g[9]=i}else i=g[9];let x=i;g[12]!==A||g[13]!==x.length?(o=()=>A({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"invitePeople",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{inviteImprovementsM2Cohort:(0,a("6mKj3").UNSAFE_expValNoExposure)("twcg-444-invite-usd-improvements-m2","cohort","not-enrolled"),emailCount:x.length}}}).fire(),g[12]=A,g[13]=x.length,g[14]=o):o=g[14];let k=o;g[15]!==x||g[16]!==k||g[17]!==S?(l=()=>{S(a("koZ31").CoreInvitesSource.SHARE_AND_RESTRICT_DIALOG,void 0,x.map(eV)),k()},g[15]=x,g[16]=k,g[17]=S,g[18]=l):l=g[18];let R=l;g[19]!==k||g[20]!==y||g[21]!==b?(c=e=>{let{invited:t,requested:r,error:n}=e;b(e=>({...e,invited:[...e.invited,...t,...r],all:[...e.all,...t,...r]})),y([...t,...r],n),(0,a("cOQPm").updateCachedInvites)(t.map(eq)),k()},g[19]=k,g[20]=y,g[21]=b,g[22]=c):c=g[22];let O=c;g[23]!==A||g[24]!==x||g[25]!==v||g[26]!==E||g[27]!==b?(p=()=>{let e=x.map(eK);b({...E,skipped:[...E.skipped,...e],all:[...E.all,...e]}),v(x),A({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"notifyOnly",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{emailCount:x?.length}}}).fire()},g[23]=A,g[24]=x,g[25]=v,g[26]=E,g[27]=b,g[28]=p):p=g[28];let w=p;return g[29]!==C||g[30]!==x||g[31]!==R||g[32]!==w||g[33]!==O||g[34]!==_||g[35]!==h||g[36]!==I?(m=(0,a("9wGTI").fg)("twcg-444-invite-usd-improvements-m2-gate")&&(0,a("6mKj3").expValEquals)("twcg-444-invite-usd-improvements-m2","cohort","variation")?e(u).createElement(eL,{key:h.join(","),continueUrl:(0,a("egeZH").getCurrentUrl)(),integration:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,touchpoint:"Share Dialog",emails:x,product:"confluence",onInviteComplete:O,onDismiss:w,atlassianAccountId:I||"",cloudId:C}):e(u).createElement(a("dcJ7R").default,{alignBlock:"start",space:"space.200",xcss:[eM,_&&eN]},e(u).createElement(a("6f0Oj").default,{xcss:eU},_?e(u).createElement(e(a("ebrpi")),{label:"",color:"var(--ds-icon-warning, #E06C00)"}):e(u).createElement(e(a("eXmBZ")),{label:"",color:"var(--ds-icon-subtle, #505258)"})),e(u).createElement(a("1GzhS").default,{alignInline:"start",space:"space.100"},e(u).createElement(a("5dK2X").default,{align:"start",color:"color.text.subtle",size:"medium"},_?e(u).createElement(a("gtD4K").default,eD.warningInviteMessage):e(u).createElement(a("gtD4K").default,{...eD.inviteMessage,values:{userEmail:h[0],userCount:h?.length-1,b:ej}})),e(u).createElement(a("5dK2X").default,{color:"color.link",weight:"semibold",size:"medium"},e(u).createElement(a("bYWO7").PressableLink,{isBlue:!0,onClick:R},e(u).createElement(a("gtD4K").default,eD.invitePeopleCta))))),g[29]=C,g[30]=x,g[31]=R,g[32]=w,g[33]=O,g[34]=_,g[35]=h,g[36]=I,g[37]=m):m=g[37],m}:({userEmails:t,resolvedPrincipals:r,setResolvedPrincipals:n,showEmailWarningMessage:s,markPrincipalsAsInvited:i,markPrincipalsAsSkipped:o})=>{let{openCoreInvites:l}=(0,u.useContext)(a("hSHWm").CoreInvitesContext),{createAnalyticsEvent:c}=(0,a("inPa6").useAnalyticsEvents)(),{cloudId:d,userId:p}=(0,a("bQm3c").useSessionData)();if((0,u.useEffect)(()=>{l&&t&&t?.length!==0&&c({type:"sendScreenEvent",data:{name:"informInviteOnShare",attributes:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,inviteImprovementsM2Gate:(0,a("9wGTI").fg)("twcg-444-invite-usd-improvements-m2-gate"),inviteImprovementsM2Cohort:(0,a("6mKj3").UNSAFE_expValNoExposure)("twcg-444-invite-usd-improvements-m2","cohort","not-enrolled")}}}).fire()},[c,l,t]),!l||!t||t?.length===0)return null;let m=new Set(r.all.map(e=>e.email)),g=t.filter(e=>!m.has(e)),h=()=>c({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"invitePeople",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{inviteImprovementsM2Cohort:(0,a("6mKj3").UNSAFE_expValNoExposure)("twcg-444-invite-usd-improvements-m2","cohort","not-enrolled"),emailCount:g.length}}}).fire();return(0,a("9wGTI").fg)("twcg-444-invite-usd-improvements-m2-gate")&&(0,a("6mKj3").expValEquals)("twcg-444-invite-usd-improvements-m2","cohort","variation")?e(u).createElement(eL,{key:t.join(","),continueUrl:(0,a("egeZH").getCurrentUrl)(),integration:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,touchpoint:"Share Dialog",emails:g,product:"confluence",onInviteComplete:({invited:e,requested:t,error:r})=>{n(a=>({...a,invited:[...a.invited,...e,...t],all:[...a.all,...e,...t]})),i([...e,...t],r),(0,a("cOQPm").updateCachedInvites)(e.map(({id:e})=>e)),h()},onDismiss:()=>{let e=g.map(e=>({id:e,email:e}));n({...r,skipped:[...r.skipped,...e],all:[...r.all,...e]}),o(g),c({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"notifyOnly",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{emailCount:g?.length}}}).fire()},atlassianAccountId:p||"",cloudId:d}):e(u).createElement(a("dcJ7R").default,{alignBlock:"start",space:"space.200",xcss:[eM,s&&eN]},e(u).createElement(a("6f0Oj").default,{xcss:eU},s?e(u).createElement(e(a("ebrpi")),{label:"",color:"var(--ds-icon-warning, #E06C00)"}):e(u).createElement(e(a("eXmBZ")),{label:"",color:"var(--ds-icon-subtle, #505258)"})),e(u).createElement(a("1GzhS").default,{alignInline:"start",space:"space.100"},e(u).createElement(a("5dK2X").default,{align:"start",color:"color.text.subtle",size:"medium"},s?e(u).createElement(a("gtD4K").default,eD.warningInviteMessage):e(u).createElement(a("gtD4K").default,{...eD.inviteMessage,values:{userEmail:t[0],userCount:t?.length-1,b:ej}})),e(u).createElement(a("5dK2X").default,{color:"color.link",weight:"semibold",size:"medium"},e(u).createElement(a("bYWO7").PressableLink,{isBlue:!0,onClick:()=>{l(a("koZ31").CoreInvitesSource.SHARE_AND_RESTRICT_DIALOG,void 0,g.map(e=>({id:e,email:e,name:e,type:"email"}))),h()}},e(u).createElement(a("gtD4K").default,eD.invitePeopleCta)))))},eF=(0,c.isReactCompilerActiveV1)()?t=>{let r,n=(0,d.c)(2);return n[0]!==t?(r=e(u).createElement(eP.TransparentErrorBoundary,{attribution:a("3IBnw").Attribution.FLYWHEEL_ACTIVATION},e(u).createElement(eB,t)),n[0]=t,n[1]=r):r=n[1],r}:t=>e(u).createElement(eP.TransparentErrorBoundary,{attribution:a("3IBnw").Attribution.FLYWHEEL_ACTIVATION},e(u).createElement(eB,t));function eG(e){return e.email}function eV(e){return{id:e,email:e,name:e,type:"email"}}function eq(e){let{id:t}=e;return t}function eK(e){return{id:e,email:e}}var eH=a("59MXn");let ez=(0,a("ecnYn").xcss)({minHeight:"32px",marginTop:"space.025",width:"calc(100% + 8px)",position:"relative",top:"-4px",left:"-4px"}),eW=(0,a("ecnYn").xcss)({flex:"0 1 auto",maxWidth:"42%",opacity:0,padding:"space.050",transition:"opacity 0.24s ease-in"}),eY=(0,a("ecnYn").xcss)({flex:"0 1 auto",maxWidth:"42%",opacity:1,padding:"space.050",overflow:"hidden",transition:"opacity 0.24s ease-in"}),eQ=(0,a("ecnYn").xcss)({flex:"0 1 auto",maxWidth:"0%",opacity:0,overflow:"hidden",padding:"space.0",transition:"all 0.12s ease-out"}),e$=(0,a("ecnYn").xcss)({height:"32px",padding:"space.050"}),eX=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l=(0,d.c)(13),{user:c,onClick:p,indexPosition:m}=t,[g,h]=(0,u.useState)("entry"),{createAnalyticsEvent:E}=(0,a("inPa6").useAnalyticsEvents)();l[0]!==E||l[1]!==m||l[2]!==p||l[3]!==c?(r=(e,t)=>{h("exit"),setTimeout(()=>{p(c),E({type:"sendUIEvent",data:{...t.payload,actionSubjectId:"SuggestedShareUserButton",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{indexPosition:m+1}}}).fire()},120)},l[0]=E,l[1]=m,l[2]=p,l[3]=c,l[4]=r):r=l[4];let b=r;l[5]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{setTimeout(()=>{h("base")})},s=[],l[5]=n,l[6]=s):(n=l[5],s=l[6]),(0,u.useEffect)(n,s);let _="entry"===g?eW:"exit"===g?eQ:eY;return l[7]!==b||l[8]!==c.name?(i=e(u).createElement(a("ccHMk").default,{spacing:"compact",appearance:"default",iconBefore:e(a("g5gZt")),onClick:b},c.name),l[7]=b,l[8]=c.name,l[9]=i):i=l[9],l[10]!==_||l[11]!==i?(o=e(u).createElement(a("6f0Oj").default,{xcss:_},i),l[10]=_,l[11]=i,l[12]=o):o=l[12],o}:({user:t,onClick:r,indexPosition:n})=>{let[s,i]=(0,u.useState)("entry"),{createAnalyticsEvent:o}=(0,a("inPa6").useAnalyticsEvents)();return(0,u.useEffect)(()=>{setTimeout(()=>{i("base")})},[]),e(u).createElement(a("6f0Oj").default,{xcss:"entry"===s?eW:"exit"===s?eQ:eY},e(u).createElement(a("ccHMk").default,{spacing:"compact",appearance:"default",iconBefore:e(a("g5gZt")),onClick:(e,a)=>{i("exit"),setTimeout(()=>{r(t),o({type:"sendUIEvent",data:{...a.payload,actionSubjectId:"SuggestedShareUserButton",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{indexPosition:n+1}}}).fire()},120)}},t.name))},eJ=(0,c.isReactCompilerActiveV1)()?()=>{let t,r=(0,d.c)(1);return r[0]===Symbol.for("react.memo_cache_sentinel")?(t=e(u).createElement(a("dcJ7R").default,{alignBlock:"center",xcss:e$},e(u).createElement(a("kpYGL").default,{width:"148px",height:"20px",borderRadius:3})),r[0]=t):t=r[0],t}:()=>e(u).createElement(a("dcJ7R").default,{alignBlock:"center",xcss:e$},e(u).createElement(a("kpYGL").default,{width:"148px",height:"20px",borderRadius:3})),eZ=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o=(0,d.c)(19),{onSuggestedUserClick:l,currentPickedPrincipalIds:c,defaultSuggestedUsers:p}=t,m=!!(p&&p.length>0),{contentId:f,spaceId:g,contextType:h,mentionsSessionId:E}=(0,a("lf3m6").useUserSuggestionsMentionsExperiment)();o[0]!==f||o[1]!==h||o[2]!==c||o[3]!==E||o[4]!==g?(r={currentPickedPrincipalIds:c,contextType:h,containerId:g,objectId:f,mentionsSessionId:E},o[0]=f,o[1]=h,o[2]=c,o[3]=E,o[4]=g,o[5]=r):r=o[5];let{suggestedUsers:b,loading:_}=(0,eH.useUserSuggestions)(r);if(o[6]!==c||o[7]!==p||o[8]!==b||o[9]!==m){e:{let e;if(!m){n=b;break e}o[11]!==c?(e=e=>!c.includes(e.id),o[11]=c,o[12]=e):e=o[12];let t=p.filter(e);if(!b){n=t;break e}let a=t.map(e0);n=[...t,...b.filter(e=>!a.includes(e.id))].slice(0,3)}o[6]=c,o[7]=p,o[8]=b,o[9]=m,o[10]=n}else n=o[10];let y=n,v=_&&null===y;return!_&&y&&0===y.length?null:(o[13]!==v||o[14]!==l||o[15]!==y?(s=v?Array.from({length:3}).map(e1):y?.map((t,a)=>e(u).createElement(eX,{key:t.id,user:t,indexPosition:a,onClick:l})),o[13]=v,o[14]=l,o[15]=y,o[16]=s):s=o[16],o[17]!==s?(i=e(u).createElement(a("bUlM5").default,{wrap:"nowrap",justifyContent:"start",alignItems:"center",direction:"row",xcss:ez},s),o[17]=s,o[18]=i):i=o[18],i)}:({onSuggestedUserClick:t,currentPickedPrincipalIds:r,defaultSuggestedUsers:n})=>{let s=!!(n&&n.length>0),{contentId:i,spaceId:o,contextType:l,mentionsSessionId:c}=(0,a("lf3m6").useUserSuggestionsMentionsExperiment)(),{suggestedUsers:d,loading:p}=(0,eH.useUserSuggestions)({currentPickedPrincipalIds:r,contextType:l,containerId:o,objectId:i,mentionsSessionId:c}),m=(0,u.useMemo)(()=>{if(!s)return d;let e=n.filter(e=>!r.includes(e.id));if(!d)return e;let t=e.map(e=>e.id);return[...e,...d.filter(e=>!t.includes(e.id))].slice(0,3)},[n,d,s,r]),f=p&&null===m;return!p&&m&&0===m.length?null:e(u).createElement(a("bUlM5").default,{wrap:"nowrap",justifyContent:"start",alignItems:"center",direction:"row",xcss:ez},f?Array.from({length:3}).map((t,a)=>e(u).createElement(eJ,{key:a})):m?.map((a,r)=>e(u).createElement(eX,{key:a.id,user:a,indexPosition:r,onClick:t})))};function e0(e){return e.id}function e1(t,a){return e(u).createElement(eJ,{key:a})}let e2=(0,a("cgtv4").defineMessages)({canView:{id:"share-and-restrict-dialog.principals-stager.can-view",defaultMessage:"Can view"},canEdit:{id:"share-and-restrict-dialog.principals-stager.can-edit",defaultMessage:"Can edit"},placeholder:{id:"share-and-restrict-dialog.principals-stager.placeholder",defaultMessage:"Add names, groups, or emails"},placeholderWithTeams:{id:"share-and-restrict-dialog.principals-stager.placeholder-with-teams",defaultMessage:"Add names, teams, groups, or emails"},capacityExceeded:{id:"share-and-restrict-dialog.permissions-select.capacity-exceeded",defaultMessage:"Maximum capacity of 200 users and 200 groups exceeded."},capacityExceededWithTeams:{id:"share-and-restrict-dialog.permissions-select.capacity-exceeded-with-teams",defaultMessage:"Maximum capacity of 200 users and 200 teams or groups exceeded."},userLimitExceeded:{id:"share-and-restrict-dialog.permissions-select.user-limit-exceeded",defaultMessage:"Please remove {userOverflow, plural, one {# user} other {# users}} to continue."},groupLimitExceeded:{id:"share-and-restrict-dialog.permissions-select.group-limit-exceeded",defaultMessage:"Please remove {groupOverflow, plural, one {# group} other {# groups}} to continue."},groupTeamLimitExceeded:{id:"share-and-restrict-dialog.permissions-select.group-team-limit-exceeded",defaultMessage:"Please remove {groupOverflow, plural, one {# team or group} other {# teams or groups}} to continue."},userAndGroupLimitExceededUser:{id:"share-and-restrict-dialog.permissions-select.user-and-group-limit-exceeded-prefix",defaultMessage:"Please remove {userOverflow, plural, one {# user} other {# users}}"},userAndGroupLimitExceededGroup:{id:"share-and-restrict-dialog.permissions-select.user-and-group-limit-exceeded-suffix",defaultMessage:"and {groupOverflow, plural, one {# group} other {# groups}} to continue."},userAndGroupTTeamLimitExceededGroup:{id:"share-and-restrict-dialog.permissions-select.user-and-group-team-limit-exceeded-suffix",defaultMessage:"and {groupOverflow, plural, one {# team or group} other {# teams or groups}} to continue."},shareButton:{id:"share-and-restrict-dialog.principal-stager.share-cta",defaultMessage:"Share"},saveButton:{id:"share-and-restrict-dialog.principal-stager.save-cta",defaultMessage:"Save"}}),e3=(0,a("ecnYn").xcss)({color:"color.text.danger"}),e4=(0,a("ecnYn").xcss)({width:"100%",minWidth:"112px"}),e6=(0,a("ecnYn").xcss)({display:"flex",flexShrink:0}),e5=(0,a("ecnYn").xcss)({whiteSpace:"nowrap",border:"var(--ds-border-width, 1px) solid var(--ds-border-input, #8C8F97)",borderRadius:"radius.small",paddingLeft:"space.100",paddingRight:"space.500",paddingBlock:"space.100",lineHeight:"22px",height:"32px",display:"flex",alignItems:"center"}),e9=(0,a("ecnYn").xcss)({flexGrow:1}),e8=(0,a("ecnYn").xcss)({}),e7=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c=(0,d.c)(18),{isLockedOut:p,dropdown:m,onChangeDropdown:f,isEditable:g,principals:h}=t,{formatMessage:E}=(0,a("8C5kA").default)();c[0]!==E?(r=E(e2.canView),c[0]=E,c[1]=r):r=c[1],c[2]!==r?(n={label:r,value:"can-view"},c[2]=r,c[3]=n):n=c[3],c[4]!==E?(s=E(e2.canEdit),c[4]=E,c[5]=s):s=c[5],c[6]!==s?(i={label:s,value:"can-edit"},c[6]=s,c[7]=i):i=c[7],c[8]!==n||c[9]!==i?(o=[n,i],c[8]=n,c[9]=i,c[10]=o):o=c[10];let b=o,_=b[+("can-view"!==m)];return c[11]!==g||c[12]!==p||c[13]!==f||c[14]!==b||c[15]!==h||c[16]!==_?(l=e(u).createElement(a("6f0Oj").default,{xcss:e6},g?e(u).createElement(a("6f0Oj").default,{xcss:e4},e(u).createElement(a("2gD2K").default,{isDisabled:p,options:b,isSearchable:!1,value:_,onChange:e=>f(e===b[0]?"as-viewer":"as-editor",h),spacing:(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?"compact":"default"})):e(u).createElement(a("6f0Oj").default,{xcss:e5},_.label)),c[11]=g,c[12]=p,c[13]=f,c[14]=b,c[15]=h,c[16]=_,c[17]=l):l=c[17],l}:({isLockedOut:t,dropdown:r,onChangeDropdown:n,isEditable:s,principals:i})=>{let{formatMessage:o}=(0,a("8C5kA").default)(),l=[{label:o(e2.canView),value:"can-view"},{label:o(e2.canEdit),value:"can-edit"}],c=l[+("can-view"!==r)];return e(u).createElement(a("6f0Oj").default,{xcss:e6},s?e(u).createElement(a("6f0Oj").default,{xcss:e4},e(u).createElement(a("2gD2K").default,{isDisabled:t,options:l,isSearchable:!1,value:c,onChange:e=>n(e===l[0]?"as-viewer":"as-editor",i),spacing:(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?"compact":"default"})):e(u).createElement(a("6f0Oj").default,{xcss:e5},c.label))},te=e=>(t,a)=>a?.options.length===0&&e?{...t,display:"none"}:t,tt=(e,t,a,r)=>{let{data:n}=t,s="email"===n.data.type;return{...e,borderColor:a&&r&&s?"var(--ds-border-warning, #E06C00)":e.borderColor}},ta=({isLockedOut:t,principals:r,exceededLimit:n,dropdown:s,isDropdownEditable:i,onChangePrincipals:o,onSuggestedUserClick:l,onChangeDropdown:c,specificAccessIds:d,isSharingToEmailsDisabled:p,contentId:m,defaultSuggestedUsers:g=[],currentUserEmailDomain:h,markPrincipalsAsInvited:E,markPrincipalsAsSkipped:b,handleCtaClick:_,isCtaInProgress:y,charLimitExceeded:v,natureOfCta:S})=>{let{formatMessage:A}=(0,a("8C5kA").default)(),[C,I]=(0,u.useState)(!1),{createAnalyticsEvent:T}=(0,a("inPa6").useAnalyticsEvents)(),[x,k]=(0,u.useState)({invited:[],skipped:[],all:[]}),{isLimitExceeded:R,userOverFlow:O,groupOverFlow:w}=n,{cloudId:L}=(0,a("bQm3c").useSessionData)(),{canUserInvite:P,loadInviteCapabilities:D,called:M}=ec(),{thirdPartyResolver:N,initThirdPartyIntegrations:U,isInitialized:j,isInitializing:B}=es({cloudId:L,createAnalyticsEvent:T,canUserInvite:P}),[F,G]=(0,u.useState)(),V={share:e2.shareButton,save:e2.saveButton};(0,u.useEffect)(()=>{R&&T({type:"sendTrackEvent",data:{actionSubject:"exceededLimit",action:"warning",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{isLimitExceeded:R,userOverFlow:!!O,groupOverFlow:!!w,contentId:m}}}).fire()},[R,O,w]);let q=(0,u.useMemo)(()=>{let e=new Set(x.all.map(e=>e.email));return r.reduce((t,a)=>{switch(a.type){case"email":return t.push(a.id),t;case"user":return a.email&&e.has(a.email)&&t.push(a.email),t;case"external_user":return a.email&&t.push(a.email),t;default:return t}},[])},[r,x]),K=q.length>0,H=(0,a("9wGTI").fg)("twcg-444-invite-usd-improvements-m2-gate")&&["control","variation"].includes((0,a("6mKj3").UNSAFE_expValNoExposure)("twcg-444-invite-usd-improvements-m2","cohort","not-enrolled"))?K&&P():K,z="hidden"!==s,W=z?"436px":"552px",Y=(0,u.useMemo)(()=>[...new Set([...r.filter(({type:e})=>"user"===e).map(({id:e})=>e),...d])],[r,d]),Q=H&&C&&(0,a("6mKj3").expValEquals)("twcg-444-invite-usd-improvements-m2","cohort","variation"),$=e=>{if(I(H),e&&Array.isArray(e)){let t=e[e.length-1];t&&"external_user"===t.type&&(I(!0),T({type:"sendUIEvent",data:{actionSubject:"option",action:"selected",actionSubjectId:"externalUser",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{canUserInvite:P(),inviteImprovementsM2Cohort:(0,a("6mKj3").expVal)("twcg-444-invite-usd-improvements-m2","cohort","not-enrolled")}}}).fire())}},X=e=>{if(e&&Array.isArray(e)){let t=e[e.length-1],r=t.id.split("@")[1],n=x.invited.find(e=>e.email===t.id);"email"===t.type&&n&&E([n],[]),T({type:"sendUIEvent",data:{actionSubject:"option",action:"created",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{canUserInvite:P(),isDefaultDomain:!!F&&r===F,inviteImprovementsM2Cohort:(0,a("6mKj3").expVal)("twcg-444-invite-usd-improvements-m2","cohort","not-enrolled")}}}).fire()}},J=e=>{if(e&&Array.isArray(e)){let t=r.find(t=>!e.find(e=>e.id===t.id));if(t?.type!=="email"&&t?.type!=="user"&&t?.type!=="external_user")return;let n="email"===t.type?t.id:t.email,s=n?.split("@")[1];T({type:"sendUIEvent",data:{actionSubject:"option",action:"removed",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{userType:t.type,canUserInvite:P(),wasUserInvited:!!n&&!!x.invited.find(e=>e.email===n),isDefaultDomain:!!F&&s===F,inviteImprovementsM2Cohort:(0,a("6mKj3").expVal)("twcg-444-invite-usd-improvements-m2","cohort","not-enrolled")}}}).fire()}};return e(u).createElement(a("1GzhS").default,{space:"space.075"},e(u).createElement(a("dcJ7R").default,{grow:"fill",space:"space.075",alignBlock:"stretch"},e(u).createElement(a("6f0Oj").default,{xcss:e9},e(u).createElement(ei.UserAndGroupSearchPicker,{key:`user-picker-${r.length}`,ariaLabel:A((0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?e2.placeholderWithTeams:e2.placeholder),smart:!0,open:C,onInputChange:()=>I(!0),onBlur:()=>I(!1),onFocus:()=>{H&&I(!0),(0,a("9wGTI").fg)("twcg-444-invite-usd-improvements-m2-gate")&&(!M&&["control","variation"].includes((0,a("6mKj3").expVal)("twcg-444-invite-usd-improvements-m2","cohort","not-enrolled"))&&(D(),T({type:"sendUIEvent",data:{actionSubject:"principalStager",action:"focused",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{inviteImprovementsM2Gate:(0,a("9wGTI").fg)("twcg-444-invite-usd-improvements-m2-gate"),inviteImprovementsM2Cohort:(0,a("6mKj3").expVal)("twcg-444-invite-usd-improvements-m2","cohort","not-enrolled")}}}).fire()),(0,a("6mKj3").expValEquals)("twcg-444-invite-usd-improvements-m2","cohort","variation")&&(j||B||U(),F||G(h)))},isDisabled:t,fieldId:"share-and-restrict-dialog:user-and-group-search:user-and-group-picker",value:r,onChange:(e,t)=>{switch(e?Array.isArray(e)?o(e):o([e]):o([]),t){case"select-option":$(e);break;case"create-option":X(e);break;case"remove-value":J(e)}},onKeyDown:e=>{"Escape"===e.key&&e.stopPropagation()},onClose:()=>I(!1),noOptionsMessage:()=>H?e(u).createElement(a("6f0Oj").default,{xcss:e8}):null,header:H?e(u).createElement(eF,{userEmails:q,showEmailWarningMessage:p,resolvedPrincipals:x,setResolvedPrincipals:k,markPrincipalsAsInvited:E,markPrincipalsAsSkipped:b}):null,addMoreMessage:"",includeGroup:!0,isMulti:!0,placeholder:A((0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?e2.placeholderWithTeams:e2.placeholder),width:"100%",allowEmail:!0,displayEmailInByline:(0,a("6mKj3").expVal)("confluence-enable-email-ux-in-permissions-surfaces","isEnabled",!1),suggestEmailsForDomain:F,enableEmailSearch:(0,a("6mKj3").expVal)("confluence-enable-email-ux-in-permissions-surfaces","isEnabled",!1),allowEmailSelectionWhenEmailMatched:!(0,a("6mKj3").expVal)("confluence-enable-email-ux-in-permissions-surfaces","isEnabled",!1),styles:{control:e=>({...e,...n.isLimitExceeded&&{border:"var(--ds-border-width-selected, 2px) solid var(--ds-border-warning, #E06C00)"},...(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?{minHeight:"30px"}:{minHeight:"40px"},maxHeight:"117px",maxWidth:W,overflowY:"auto",overflowX:"auto"}),valueContainer:e=>({...e,...(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?{paddingTop:"var(--ds-space-025, 2px)",paddingBottom:"var(--ds-space-0, 0px)"}:{paddingTop:"var(--ds-space-025, 2px)",paddingBottom:"var(--ds-space-025, 2px)"}}),multiValue:(e,t)=>tt(e,t,p,H),menuList:te(Q)},includeTeams:(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals"),includeTeamsUpdates:(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals"),transformOptions:e=>{let t=new Set([...e,...r].filter(a("6O3OC").isUser).map(e=>e.email));return Promise.resolve(e.filter(e=>!(0,a("6O3OC").isExternalUser)(e)||e.email&&!t.has(e.email)))},userResolvers:[N]})),z&&e(u).createElement(e7,{isLockedOut:t,dropdown:s,onChangeDropdown:c,isEditable:i,principals:r}),"none"!==S&&(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")&&e(u).createElement(a("ccHMk").default,{appearance:"primary",onClick:_,isLoading:y,isDisabled:!y&&t||v||R||p},A(V[S]))),e(u).createElement(eZ,{currentPickedPrincipalIds:Y,onSuggestedUserClick:e=>{o([...r,e]),l?.()},defaultSuggestedUsers:g}),R&&e(u).createElement(a("dcJ7R").default,{space:"space.075",alignBlock:"center"},e(u).createElement(e(a("a3fRD")),{label:"",color:"var(--ds-icon-danger, #C9372C)"}),e(u).createElement(a("6f0Oj").default,{xcss:e3},e(u).createElement(a("1GzhS").default,null,e(u).createElement(a("6f0Oj").default,null,A((0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?e2.capacityExceededWithTeams:e2.capacityExceeded)),e(u).createElement(a("6f0Oj").default,null,O&&w?`${A(e2.userAndGroupLimitExceededUser,{userOverflow:O})} ${A((0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?e2.userAndGroupTTeamLimitExceededGroup:e2.userAndGroupLimitExceededGroup,{groupOverflow:w})}`:O?A(e2.userLimitExceeded,{userOverflow:O}):A((0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?e2.groupTeamLimitExceeded:e2.groupLimitExceeded,{groupOverflow:w}))))),(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")&&e(u).createElement(a("bflGB").ShortcutListener,{accelerator:["command+enter","ctrl+enter"],listener:_,allowInDialog:!0}))};var tr=a("jhTeh");let tn=(0,a("cgtv4").defineMessages)({buttonTitle:{id:"access-requests.button-title",defaultMessage:"Requests"}}),ts=({tryCacheFirst:t=!1,delayShowing:r=!1,shouldAutoFocus:n,source:s,onClick:i,onAutoFocus:o,onDataLoaded:l})=>{let[c]=(0,u.useState)(t?"cache-and-network":"network-only"),d=(0,u.useRef)(null),{requests:p,error:m,hasFullyLoaded:f,contentId:g}=(0,a("6SeRB").useAccessRequests)(c,"accessRequestsButton"),h=p?.length??0,E=h>0&&!r&&!m;(0,u.useEffect)(()=>{n&&(d.current?.focus(),o?.())},[n,o]),(0,u.useEffect)(()=>{f&&l?.(E)},[f,l,E]);let{createAnalyticsEvent:b}=(0,a("inPa6").useAnalyticsEvents)();if((0,u.useEffect)(()=>{E&&b({type:"sendUIEvent",data:{action:"viewed",actionSubject:"accessRequestsButton",source:s,attributes:{count:h>10?"10+":h,contentId:g}}}).fire()},[E,b,s,h,g]),!E)return null;let _=(0,a("6mKj3").UNSAFE_expValEqualsNoExposure)("cc_fe_realtime_access_requests","isEnabled",!0)?"default":"important";return e(u).createElement(a("d35qt").NewAccessRequestIndicator,{top:3,right:7,isInsideOverlay:!0},e(u).createElement(a("ccHMk").default,{appearance:"subtle",onClick:i,ref:d},e(u).createElement(a("dcJ7R").default,{space:"space.075",alignBlock:"center"},e(u).createElement(a("5dK2X").default,null,e(u).createElement(a("gtD4K").default,tn.buttonTitle)),e(u).createElement(a("c4sKh").default,{appearance:_,max:9},h))))};var ti=a("gLeLL");let to=(0,a("cgtv4").defineMessages)({inspectPermissions:{id:"change-edition.share-and-restrict-dialog.inspect-permissions.upsell-title",defaultMessage:"Inspect permissions"},inspectPermissionsUpsellInfo:{id:"change-edition.share-and-restrict-dialog.inspect-permissions.upsell-info",defaultMessage:"Upgrade to Premium to troubleshoot how users are being denied access to content."},learnMoreLink:{id:"change-edition.share-and-restrict-dialog.inspect-permissions.learn-more-link",defaultMessage:"Learn more"}}),tl=({children:t})=>{let{formatMessage:r}=(0,a("8C5kA").default)();return e(u).createElement(ti.SectionMessage,{withGradient:!1,title:r(to.inspectPermissions),body:e(u).createElement(a("1s5hv").default,{direction:"column",gap:"space.050"},e(u).createElement(a("iXCQx").default,null,r(to.inspectPermissionsUpsellInfo)),t),learnMoreLink:{href:"https://support.atlassian.com/confluence-cloud/docs/manage-permissions-on-the-page-level/",ariaLabel:to.learnMoreLink},source:"shareAndRestrictDialogUpsell",customPadding:"0",targetEdition:a("euL71").ConfluenceEdition.PREMIUM,upgradeEditionActionSubjectId:"inspectPermissionsUpsellTryNow"})};var tc=a("dcvq8");let td=(0,a("cgtv4").defineMessages)({feedbackTitle:{id:"share-and-restrict-dialog.feedback-collector.title",defaultMessage:"Give feedback"},feedbackTitleDetails:{id:"share-and-restrict-dialog.feedback-collector.title-details",defaultMessage:"Overall, how satisfied or dissatisfied are you with your experience sharing and managing access?"}}),tu="2ecc0711-3ab4-459c-88b9-4c44c9754f0b",tp="customfield_10047",tm=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s=(0,d.c)(14),{contentId:i,onClose:o,onSubmit:l}=t,{formatMessage:c,locale:p}=(0,a("8C5kA").default)(),{displayName:m,userId:g,cloudId:h,edition:E,environment:b}=(0,a("bQm3c").useSessionData)();s[0]!==h||s[1]!==i||s[2]!==E||s[3]!==b||s[4]!==g?(r=()=>JSON.stringify({location:window.location.hostname,userId:g,cloudId:h,contentId:i,edition:E,source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,environment:b},null,2),s[0]=h,s[1]=i,s[2]=E,s[3]=b,s[4]=g,s[5]=r):r=s[5];let _=r;return s[6]!==m||s[7]!==c||s[8]!==_||s[9]!==p||s[10]!==o||s[11]!==l||s[12]!==g?(n=(0,a("9wGTI").fg)("confluence_modernize_feedback_consolidation")?e(u).createElement(tc.GlobalFeedbackCollector,{showTypeField:!1,onClose:o,onCloseComplete:tf,feedbackSource:a("lx6jn").FeedbackSource.SHARE_DIALOG,additionalFields:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE}}):e(u).createElement(a("biiXa").default,{onClose:()=>{o()},onSubmit:()=>{l()},locale:p,name:m||"",entrypointId:tu,atlassianAccountId:g??void 0,showTypeField:!1,feedbackTitle:c(td.feedbackTitle),feedbackTitleDetails:c(td.feedbackTitleDetails),additionalFields:[{id:tp,value:_()}]}),s[6]=m,s[7]=c,s[8]=_,s[9]=p,s[10]=o,s[11]=l,s[12]=g,s[13]=n):n=s[13],n}:({contentId:t,onClose:r,onSubmit:n})=>{let{formatMessage:s,locale:i}=(0,a("8C5kA").default)(),{displayName:o,userId:l,cloudId:c,edition:d,environment:p}=(0,a("bQm3c").useSessionData)();return(0,a("9wGTI").fg)("confluence_modernize_feedback_consolidation")?e(u).createElement(tc.GlobalFeedbackCollector,{showTypeField:!1,onClose:r,onCloseComplete:()=>{},feedbackSource:a("lx6jn").FeedbackSource.SHARE_DIALOG,additionalFields:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE}}):e(u).createElement(a("biiXa").default,{onClose:()=>{r()},onSubmit:()=>{n()},locale:i,name:o||"",entrypointId:tu,atlassianAccountId:l??void 0,showTypeField:!1,feedbackTitle:s(td.feedbackTitle),feedbackTitleDetails:s(td.feedbackTitleDetails),additionalFields:[{id:tp,value:JSON.stringify({location:window.location.hostname,userId:l,cloudId:c,contentId:t,edition:d,source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,environment:p},null,2)}]})};function tf(){}let tg=(0,a("cgtv4").defineMessages)({inspectPermissions:{id:"share-and-restrict-dialog.overflow-menu.inspect-permissions",defaultMessage:"Inspect permissions"},learnMore:{id:"share-and-restrict-dialog.overflow-menu.learn-more",defaultMessage:"Learn more about restrictions"},manageSpace:{id:"share-and-restrict-dialog.overflow-menu.manage-space",defaultMessage:"Manage space access"},moreActions:{id:"share-and-restrict-dialog.overflow-menu.more",defaultMessage:"More actions"},giveFeedbackLink:{id:"share-and-restrict-dialog.give-feedback-icon",defaultMessage:"Give feedback"}}),th=(0,a("ecnYn").xcss)({width:"254px"}),tE=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p,m,g,h,E,b,_,y,v,S,A,C,I=(0,d.c)(50),{spaceKey:T,isSpaceAdmin:x,edition:k,openInspectPermsDialog:R,contentId:O}=t,w=(0,a("8C5kA").default)(),{createAnalyticsEvent:L}=(0,a("inPa6").useAnalyticsEvents)(),[P,D]=(0,u.useState)(!1),[M,N]=(0,u.useState)(!1),U=k&&k!==a("euL71").ConfluenceEdition.FREE&&k!==a("euL71").ConfluenceEdition.STANDARD;I[0]!==L||I[1]!==R?(r=()=>{L({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"inspectPermissions",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE}}).fire(),R()},I[0]=L,I[1]=R,I[2]=r):r=I[2];let j=r;I[3]!==L?(n=()=>{L({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"overflowLearnMore",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE}}).fire()},I[3]=L,I[4]=n):n=I[4];let B=n;I[5]!==w?(s=t=>{let{triggerRef:r,...n}=t;return e(u).createElement(a("1qfLF").default,{...n,icon:e(a("9VJDA")),label:w.formatMessage(tg.moreActions),appearance:"subtle",ref:r})},I[5]=w,I[6]=s):s=I[6],I[7]!==j||I[8]!==w||I[9]!==U?(i=e(u).createElement(a("ahaN7").default,null,U?e(u).createElement(a("dAYOx").default,{onClick:j},w.formatMessage(tg.inspectPermissions),e(u).createElement(tr.ReverseTrialLozengeExperiment,{edition:a("euL71").ConfluenceEdition.PREMIUM,touchpointId:"confluence_inspect_permissions_overflow_list_item"})):e(u).createElement(a("dAYOx").default,{onClick:tb},e(u).createElement(a("1GzhS").default,{xcss:th},e(u).createElement(tl,null)))),I[7]=j,I[8]=w,I[9]=U,I[10]=i):i=I[10];let F=!U;I[11]!==w?(o=w.formatMessage(tg.learnMore),I[11]=w,I[12]=o):o=I[12],I[13]!==B||I[14]!==o?(l=e(u).createElement(a("dAYOx").default,{onClick:B,href:f.SAC_CONTENT_PERMS_MANAGEMENT_DOCUMENTATION,target:"_blank"},o),I[13]=B,I[14]=o,I[15]=l):l=I[15],I[16]!==w||I[17]!==x||I[18]!==T?(c=x&&e(u).createElement(a("dAYOx").default,{href:a("1NBp8").SPACE_PERMISSIONS_SETTINGS.toUrl({spaceKey:T,tab:a("3P1RK").SpacePermissionsTabKey.Users}),target:"_blank"},w.formatMessage(tg.manageSpace)),I[16]=w,I[17]=x,I[18]=T,I[19]=c):c=I[19],I[20]!==F||I[21]!==l||I[22]!==c?(p=e(u).createElement(a("ahaN7").default,{hasSeparator:F},l,c),I[20]=F,I[21]=l,I[22]=c,I[23]=p):p=I[23];let G=!U;return I[24]===Symbol.for("react.memo_cache_sentinel")?(m=()=>{D(!0)},I[24]=m):m=I[24],I[25]===Symbol.for("react.memo_cache_sentinel")?(g=e(u).createElement(e(a("7yOcR")),{label:""}),I[25]=g):g=I[25],I[26]!==w?(h=w.formatMessage(tg.giveFeedbackLink),I[26]=w,I[27]=h):h=I[27],I[28]!==h?(E=e(u).createElement(a("dAYOx").default,{onClick:m},e(u).createElement(a("dcJ7R").default,{space:"space.100",alignBlock:"center"},g,h)),I[28]=h,I[29]=E):E=I[29],I[30]!==G||I[31]!==E?(b=e(u).createElement(a("ahaN7").default,{hasSeparator:G},E),I[30]=G,I[31]=E,I[32]=b):b=I[32],I[33]!==b||I[34]!==s||I[35]!==i||I[36]!==p?(_=e(u).createElement(a("52EPl").default,{trigger:s,shouldRenderToParent:!0,placement:"bottom-end"},i,p,b),I[33]=b,I[34]=s,I[35]=i,I[36]=p,I[37]=_):_=I[37],I[38]!==O||I[39]!==P?(y=P&&e(u).createElement(tm,{contentId:O,onClose:()=>{D(!1)},onSubmit:()=>N(!0)}),I[38]=O,I[39]=P,I[40]=y):y=I[40],I[41]===Symbol.for("react.memo_cache_sentinel")?(v=()=>N(!1),I[41]=v):v=I[41],I[42]!==M?(S=M&&e(u).createElement(a("29DUH").default,null),I[42]=M,I[43]=S):S=I[43],I[44]!==S?(A=e(u).createElement(a("6uGcC").default,{onDismissed:v},S),I[44]=S,I[45]=A):A=I[45],I[46]!==_||I[47]!==y||I[48]!==A?(C=e(u).createElement(e(u).Fragment,null,_,y,A),I[46]=_,I[47]=y,I[48]=A,I[49]=C):C=I[49],C}:({spaceKey:t,isSpaceAdmin:r,edition:n,openInspectPermsDialog:s,contentId:i})=>{let o=(0,a("8C5kA").default)(),{createAnalyticsEvent:l}=(0,a("inPa6").useAnalyticsEvents)(),[c,d]=(0,u.useState)(!1),[p,m]=(0,u.useState)(!1),g=n&&n!==a("euL71").ConfluenceEdition.FREE&&n!==a("euL71").ConfluenceEdition.STANDARD,h=(0,u.useCallback)(()=>{l({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"inspectPermissions",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE}}).fire(),s()},[l,s]),E=(0,u.useCallback)(()=>{l({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"overflowLearnMore",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE}}).fire()},[l]);return e(u).createElement(e(u).Fragment,null,e(u).createElement(a("52EPl").default,{trigger:({triggerRef:t,...r})=>e(u).createElement(a("1qfLF").default,{...r,icon:e(a("9VJDA")),label:o.formatMessage(tg.moreActions),appearance:"subtle",ref:t}),shouldRenderToParent:!0,placement:"bottom-end"},e(u).createElement(a("ahaN7").default,null,g?e(u).createElement(a("dAYOx").default,{onClick:h},o.formatMessage(tg.inspectPermissions),e(u).createElement(tr.ReverseTrialLozengeExperiment,{edition:a("euL71").ConfluenceEdition.PREMIUM,touchpointId:"confluence_inspect_permissions_overflow_list_item"})):e(u).createElement(a("dAYOx").default,{onClick:e=>{e.stopPropagation()}},e(u).createElement(a("1GzhS").default,{xcss:th},e(u).createElement(tl,null)))),e(u).createElement(a("ahaN7").default,{hasSeparator:!g},e(u).createElement(a("dAYOx").default,{onClick:E,href:f.SAC_CONTENT_PERMS_MANAGEMENT_DOCUMENTATION,target:"_blank"},o.formatMessage(tg.learnMore)),r&&e(u).createElement(a("dAYOx").default,{href:a("1NBp8").SPACE_PERMISSIONS_SETTINGS.toUrl({spaceKey:t,tab:a("3P1RK").SpacePermissionsTabKey.Users}),target:"_blank"},o.formatMessage(tg.manageSpace))),e(u).createElement(a("ahaN7").default,{hasSeparator:!g},e(u).createElement(a("dAYOx").default,{onClick:()=>{d(!0)}},e(u).createElement(a("dcJ7R").default,{space:"space.100",alignBlock:"center"},e(u).createElement(e(a("7yOcR")),{label:""}),o.formatMessage(tg.giveFeedbackLink))))),c&&e(u).createElement(tm,{contentId:i,onClose:()=>{d(!1)},onSubmit:()=>m(!0)}),e(u).createElement(a("6uGcC").default,{onDismissed:()=>m(!1)},p&&e(u).createElement(a("29DUH").default,null)))};function tb(e){e.stopPropagation()}let t_=(0,a("cgtv4").defineMessages)({share:{id:"share-and-restrict-dialog.header.title.share",defaultMessage:"Share"},publicLink:{id:"share-and-restrict-dialog.header.title.public-link",defaultMessage:"Public link"},slack:{id:"share-and-restrict-dialog.header.title.slack",defaultMessage:"Share to Slack"},accessRequests:{id:"share-and-restrict-dialog.header.title.accessRequests",defaultMessage:"Requests"},specificAccess:{id:"share-and-restrict-dialog.header.title.specificAccess",defaultMessage:"Specific access"}}),ty=(0,a("cgtv4").defineMessages)({close:{id:"share-and-restrict-dialog.header.close",defaultMessage:"Close"},back:{id:"share-and-restrict-dialog.header.back",defaultMessage:"Back"}}),tv=({title:t,overflowMenu:r,onCloseClick:n,onBackClick:s,accessRequests:i})=>{let o=(0,u.useRef)(null),[l,c]=(0,u.useState)(!1),d=!!i&&(0,a("9wGTI").fg)("confluence_frontend_stateful_access_requests");(0,u.useEffect)(()=>{!d&&o.current&&t&&o.current.focus()},[t,d]);let{formatMessage:p}=(0,a("8C5kA").default)();return e(u).createElement(a("u9agA").default,{grow:"fill",spread:"space-between"},e(u).createElement(a("u9agA").default,{grow:"fill",alignBlock:"center",space:"space.150"},s&&e(u).createElement(a("1qfLF").default,{icon:e(a("bPdpL")),label:p(ty.back),appearance:"subtle",onClick:s}),e(u).createElement(a("d8eRd").default,null,e(u).createElement(a("gtD4K").default,t_[t]),"publicLink"===t&&e(u).createElement(tr.ReverseTrialLozengeExperiment,{touchpointId:"confluence_public_link_dialog_header",edition:a("d9tcB").ConfluenceEdition.STANDARD}))),e(u).createElement(a("u9agA").default,{space:"space.050"},i&&!(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")&&(0,a("9wGTI").fg)("confluence_frontend_stateful_access_requests")&&e(u).createElement(ts,{delayShowing:!!i.usdLoading,shouldAutoFocus:l,onAutoFocus:()=>c(!1),onClick:i.openAccessRequestsDialog,onDataLoaded:e=>{i?.lastTriggeredDialogVariant==="accessRequests"&&(i.clearElementToFocus(),e?c(!0):o.current?.focus())},tryCacheFirst:!!i.lastTriggeredDialogVariant,source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE}),r&&e(u).createElement(tE,r),e(u).createElement(a("gdv5Z").default,{ref:o},e(u).createElement(a("8TTLA").CloseButton,{label:p(ty.close),onClick:n}))))};var tS=a("1sB5X"),tA=a("2WE3u");let tC=(0,a("ecnYn").xcss)({borderRadius:"radius.medium",padding:"space.100",background:"var(--ds-background-accent-gray-subtlest, #F0F1F2)"}),tI=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l=(0,d.c)(15),{text:c,beforeLabel:p,afterLabel:m,BeforeIcon:f,AfterIcon:g,tooltipMessage:h}=t,E=void 0===p?"":p,b=void 0===m?"":m;return l[0]!==f||l[1]!==E?(r=f&&e(u).createElement(f,{label:E,size:"medium"}),l[0]=f,l[1]=E,l[2]=r):r=l[2],l[3]!==c?(n=e(u).createElement(a("5dK2X").default,null,c),l[3]=c,l[4]=n):n=l[4],l[5]!==g||l[6]!==b||l[7]!==h?(s=g&&e(u).createElement(e(u).Fragment,null,h?e(u).createElement(a("3gadb").default,{content:h,position:"bottom"},t=>e(u).createElement(a("1qfLF").default,{...t,icon:g,label:b,appearance:"subtle",spacing:"compact"})):e(u).createElement(g,{label:b,size:"medium"})),l[5]=g,l[6]=b,l[7]=h,l[8]=s):s=l[8],l[9]!==n||l[10]!==s?(i=e(u).createElement(a("dcJ7R").default,{alignBlock:"center"},n,s),l[9]=n,l[10]=s,l[11]=i):i=l[11],l[12]!==r||l[13]!==i?(o=e(u).createElement(a("6f0Oj").default,{as:"section",xcss:tC},e(u).createElement(a("dcJ7R").default,{space:"space.100",alignBlock:"center"},r,i)),l[12]=r,l[13]=i,l[14]=o):o=l[14],o}:({text:t,beforeLabel:r="",afterLabel:n="",BeforeIcon:s,AfterIcon:i,tooltipMessage:o})=>e(u).createElement(a("6f0Oj").default,{as:"section",xcss:tC},e(u).createElement(a("dcJ7R").default,{space:"space.100",alignBlock:"center"},s&&e(u).createElement(s,{label:r,size:"medium"}),e(u).createElement(a("dcJ7R").default,{alignBlock:"center"},e(u).createElement(a("5dK2X").default,null,t),i&&e(u).createElement(e(u).Fragment,null,o?e(u).createElement(a("3gadb").default,{content:o,position:"bottom"},t=>e(u).createElement(a("1qfLF").default,{...t,icon:i,label:n,appearance:"subtle",spacing:"compact"})):e(u).createElement(i,{label:n,size:"medium"}))))),tT=(0,a("cgtv4").defineMessages)({publishPageWarning:{id:"share-and-restrict-dialog.publish-modal-warning.publish-page",defaultMessage:"Choose the access settings to apply when publishing this page."},publishBlogWarning:{id:"share-and-restrict-dialog.publish-modal-warning.publish-blog",defaultMessage:"Choose the access settings to apply when publishing this blog."},updatePageWarning:{id:"share-and-restrict-dialog.publish-modal-warning.update-page",defaultMessage:"Choose the access settings to apply when updating this page."},updateBlogWarning:{id:"share-and-restrict-dialog.publish-modal-warning.update-blog",defaultMessage:"Choose the access settings to apply when updating this blog."}}),tx=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i=(0,d.c)(5),{isUnpublishedDraft:o,contentType:l}=t,{formatMessage:c}=(0,a("8C5kA").default)(),p="blogpost"===l?o?tT.publishBlogWarning:tT.updateBlogWarning:o?tT.publishPageWarning:tT.updatePageWarning;return i[0]!==c||i[1]!==p?(n=c(p),i[0]=c,i[1]=p,i[2]=n):n=i[2],i[3]!==n?(s=e(u).createElement(tI,{text:n,beforeLabel:"information",BeforeIcon:e(a("eXmBZ"))}),i[3]=n,i[4]=s):s=i[4],s}:({isUnpublishedDraft:t,contentType:r})=>{let{formatMessage:n}=(0,a("8C5kA").default)(),s="blogpost"===r?t?tT.publishBlogWarning:tT.updateBlogWarning:t?tT.publishPageWarning:tT.updatePageWarning;return e(u).createElement(tI,{text:n(s),beforeLabel:"information",BeforeIcon:e(a("eXmBZ"))})};var tk=((n={}).EDIT="EDIT",n.VIEW="VIEW",n);let tR=(0,a("cgtv4").defineMessages)({noPermissionMessage:{id:"share-and-restrict-dialog.ask-to-edit-box.no-permission-message",defaultMessage:"You have view-only access to this content."},noPermissionSpaceRestrictedMessage:{id:"share-and-restrict-dialog.ask-to-edit-box.no-permission.space-restricted-message",defaultMessage:"You donâ€™t have permission to edit content in this space."},askToEditButton:{id:"share-and-restrict-dialog.ask-to-edit-box.ask-to-edit-button",defaultMessage:"Ask to edit"},requestSentMessage:{id:"share-and-restrict-dialog.ask-to-edit-box.request-sent-message",defaultMessage:"Edit requested"},requestErrorMessage:{id:"share-and-restrict-dialog.ask-to-edit-box.request-error-message",defaultMessage:"We ran into a problem sending the request."}}),tO=(0,a("eSUdr").default)`query AskToEditBoxPendingRequestExistsQuery($accessRequestedAaid:String!$cloudId:ID!$contentId:ID!){confluence_pendingRequestExists(accessRequestedAaid:$accessRequestedAaid cloudId:$cloudId contentId:$contentId){isPendingAccessRequestExists}}`,tw=(0,a("eSUdr").default)`mutation AskToEditBoxRequestPageAccessMutation($requestPageAccessInput:RequestPageAccessInput!){requestPageAccess(requestPageAccessInput:$requestPageAccessInput){displayName}}`,tL={container:"_2rko12b0 _1yt4utpp _vchhusvi _bfhkhfxm _1tkeckbl _1bsb1osq _19bvu2gc _1e0c1txw _4cvr1h6o",buttonContainer:"_16jlidpf _1o9zidpf _i0dl1wug _18u0pxbi",iconContainer:"_1bsb1tcg _4t3i1tcg _1e0c1txw _4cvr1h6o _1bah1h6o"},tP=(0,c.isReactCompilerActiveV1)()?e=>{let t,r,n=(0,d.c)(3),{children:s}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a("gMc0m").default)([tL.iconContainer]),n[0]=t):t=n[0],n[1]!==s?(r=u.createElement("div",{className:t},s),n[1]=s,n[2]=r):r=n[2],r}:({children:e})=>u.createElement("div",{className:(0,a("gMc0m").default)([tL.iconContainer])},e),tD=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p,m,f,g=(0,d.c)(25),{onClick:h,editRequested:E,isLoading:b,hasError:_,isLoadingForFirstTime:y,isRestrictedBySpace:v,intl:S}=t,A=v?tR.noPermissionSpaceRestrictedMessage:tR.noPermissionMessage,C=E&&!b&&!_,I=!E&&!y&&!_,[T,x]=(0,u.useState)(!1);g[0]!==h?(r=()=>{x(!0),h()},g[0]=h,g[1]=r):r=g[1];let k=r;return g[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a("gMc0m").default)([tL.container]),g[2]=n):n=g[2],g[3]===Symbol.for("react.memo_cache_sentinel")?(s=u.createElement(tP,null,u.createElement(e(a("8cjip")),{label:"",color:"var(--ds-icon-subtle, #505258)"})),g[3]=s):s=g[3],g[4]!==A||g[5]!==S?(i=S.formatMessage(A),g[4]=A,g[5]=S,g[6]=i):i=g[6],g[7]!==i?(o=u.createElement(a("dcJ7R").default,{alignBlock:"center",space:"space.150"},s,u.createElement(a("5dK2X").default,{maxLines:6},i)),g[7]=i,g[8]=o):o=g[8],g[9]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a("gMc0m").default)([tL.buttonContainer]),g[9]=l):l=g[9],g[10]!==T||g[11]!==S||g[12]!==C?(c=C&&u.createElement(a("fT2ta").default,{entranceDirection:T?"right":void 0,distance:"proportional"},t=>{let{...r}=t;return u.createElement("div",r,u.createElement(a("dcJ7R").default,{alignBlock:"center",space:"space.050",grow:"hug"},u.createElement(e(a("kevJM")),{label:"",color:"var(--ds-icon-subtlest, #6B6E76)",size:"small"}),u.createElement(a("5dK2X").default,{maxLines:4,color:"color.text.subtlest",weight:"medium"},S.formatMessage(tR.requestSentMessage))))}),g[10]=T,g[11]=S,g[12]=C,g[13]=c):c=g[13],g[14]!==k||g[15]!==S||g[16]!==b||g[17]!==I?(p=I&&u.createElement(a("fT2ta").default,{duration:"large"},e=>{let{...t}=e;return u.createElement("div",t,u.createElement(a("ccHMk").default,{spacing:"compact",onClick:k,isLoading:b},S.formatMessage(tR.askToEditButton)))}),g[14]=k,g[15]=S,g[16]=b,g[17]=I,g[18]=p):p=g[18],g[19]!==c||g[20]!==p?(m=u.createElement("div",{className:l},c,p),g[19]=c,g[20]=p,g[21]=m):m=g[21],g[22]!==o||g[23]!==m?(f=u.createElement("div",{className:n},u.createElement(a("dcJ7R").default,{alignBlock:"center",spread:"space-between",grow:"fill"},o,m)),g[22]=o,g[23]=m,g[24]=f):f=g[24],f}:({onClick:t,editRequested:r,isLoading:n,hasError:s,isLoadingForFirstTime:i,isRestrictedBySpace:o,intl:l})=>{let c=o?tR.noPermissionSpaceRestrictedMessage:tR.noPermissionMessage,[d,p]=(0,u.useState)(!1),m=()=>{p(!0),t()};return u.createElement("div",{className:(0,a("gMc0m").default)([tL.container])},u.createElement(a("dcJ7R").default,{alignBlock:"center",spread:"space-between",grow:"fill"},u.createElement(a("dcJ7R").default,{alignBlock:"center",space:"space.150"},u.createElement(tP,null,u.createElement(e(a("8cjip")),{label:"",color:"var(--ds-icon-subtle, #505258)"})),u.createElement(a("5dK2X").default,{maxLines:6},l.formatMessage(c))),u.createElement("div",{className:(0,a("gMc0m").default)([tL.buttonContainer])},r&&!n&&!s&&u.createElement(a("fT2ta").default,{entranceDirection:d?"right":void 0,distance:"proportional"},({...t})=>u.createElement("div",t,u.createElement(a("dcJ7R").default,{alignBlock:"center",space:"space.050",grow:"hug"},u.createElement(e(a("kevJM")),{label:"",color:"var(--ds-icon-subtlest, #6B6E76)",size:"small"}),u.createElement(a("5dK2X").default,{maxLines:4,color:"color.text.subtlest",weight:"medium"},l.formatMessage(tR.requestSentMessage))))),!r&&!i&&!s&&u.createElement(a("fT2ta").default,{duration:"large"},({...e})=>u.createElement("div",e,u.createElement(a("ccHMk").default,{spacing:"compact",onClick:m,isLoading:n},l.formatMessage(tR.askToEditButton)))))))},tM=(0,c.isReactCompilerActiveV1)()?e=>{let t,r,n,s,i,o,l,c=(0,d.c)(31),{contentId:p,stagedGeneralAccessLevel:m,flags:g}=e,{userId:h,cloudId:E}=(0,a("bQm3c").useSessionData)(),[b,_]=(0,u.useState)(!1),[y,v]=(0,u.useState)(!1),[S,A]=(0,u.useState)(!0),{createAnalyticsEvent:C}=(0,a("inPa6").useAnalyticsEvents)(),[I]=(0,a("ep3mz").useContentType)(),T="open-can-edit"===m,x=(0,a("8C5kA").default)(),k=h??"";c[0]!==E||c[1]!==p||c[2]!==k?(t={cloudId:E,accessRequestedAaid:k,contentId:p},c[0]=E,c[1]=p,c[2]=k,c[3]=t):t=c[3],c[4]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{A(!1)},c[4]=r):r=c[4],c[5]!==t?(n={variables:t,fetchPolicy:"network-only",onCompleted:r},c[5]=t,c[6]=n):n=c[6];let{data:R,loading:O,error:w,refetch:L}=(0,a("jMyy4").useQueryInterop)(tO,n),P=!!R?.confluence_pendingRequestExists?.isPendingAccessRequestExists,[D]=(0,a("308Wd").useMutationInterop)(tw),M=!!R&&!O&&!w&&S;c[7]!==p||c[8]!==I||c[9]!==C||c[10]!==P||c[11]!==T||c[12]!==M?(s=()=>{M&&C({type:"sendUIEvent",data:{action:"viewed",actionSubject:"infoMessage",actionSubjectId:"askToEdit",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{accessType:"edit",contentId:p,contentType:I,isRestrictedBySpace:T,editRequested:P}}}).fire()},i=[p,I,T,P,M,C],c[7]=p,c[8]=I,c[9]=C,c[10]=P,c[11]=T,c[12]=M,c[13]=s,c[14]=i):(s=c[13],i=c[14]),(0,u.useEffect)(s,i),c[15]!==p||c[16]!==I||c[17]!==C||c[18]!==g||c[19]!==x||c[20]!==L||c[21]!==D?(o=async()=>{v(!0);try{C({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"requestAccessButton",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{accessType:"edit",contentId:p,contentType:I,editDeniedButCanView:!0}}}).fire(),await D({variables:{requestPageAccessInput:{accessType:tk.EDIT,pageId:p}}}),await L()}catch(e){_(!0),g.showErrorFlag({id:"share-and-restrict-dialog.ask-to-edit-box.submit-request.error",title:x.formatMessage(tR.requestErrorMessage)})}v(!1)},c[15]=p,c[16]=I,c[17]=C,c[18]=g,c[19]=x,c[20]=L,c[21]=D,c[22]=o):o=c[22];let N=o,U=y||O,j=b||!!w;return c[23]!==P||c[24]!==x||c[25]!==S||c[26]!==T||c[27]!==N||c[28]!==U||c[29]!==j?(l=u.createElement(tD,{editRequested:P,onClick:N,isLoading:U,hasError:j,isLoadingForFirstTime:S,isRestrictedBySpace:T,intl:x}),c[23]=P,c[24]=x,c[25]=S,c[26]=T,c[27]=N,c[28]=U,c[29]=j,c[30]=l):l=c[30],l}:({contentId:e,stagedGeneralAccessLevel:t,flags:r})=>{let{userId:n,cloudId:s}=(0,a("bQm3c").useSessionData)(),[i,o]=(0,u.useState)(!1),[l,c]=(0,u.useState)(!1),[d,p]=(0,u.useState)(!0),{createAnalyticsEvent:m}=(0,a("inPa6").useAnalyticsEvents)(),[g]=(0,a("ep3mz").useContentType)(),h="open-can-edit"===t,E=(0,a("8C5kA").default)(),{data:b,loading:_,error:y,refetch:v}=(0,a("jMyy4").useQueryInterop)(tO,{variables:{cloudId:s,accessRequestedAaid:n??"",contentId:e},fetchPolicy:"network-only",onCompleted:()=>{p(!1)}}),S=!!b?.confluence_pendingRequestExists?.isPendingAccessRequestExists,[A]=(0,a("308Wd").useMutationInterop)(tw),C=!!b&&!_&&!y&&d;(0,u.useEffect)(()=>{C&&m({type:"sendUIEvent",data:{action:"viewed",actionSubject:"infoMessage",actionSubjectId:"askToEdit",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{accessType:"edit",contentId:e,contentType:g,isRestrictedBySpace:h,editRequested:S}}}).fire()},[e,g,h,S,C,m]);let I=(0,u.useCallback)(async()=>{c(!0);try{m({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"requestAccessButton",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{accessType:"edit",contentId:e,contentType:g,editDeniedButCanView:!0}}}).fire(),await A({variables:{requestPageAccessInput:{accessType:tk.EDIT,pageId:e}}}),await v()}catch(e){o(!0),r.showErrorFlag({id:"share-and-restrict-dialog.ask-to-edit-box.submit-request.error",title:E.formatMessage(tR.requestErrorMessage)})}c(!1)},[A,e,g,v,r,m,E]);return u.createElement(tD,{editRequested:S,onClick:I,isLoading:l||_,hasError:i||!!y,isLoadingForFirstTime:d,isRestrictedBySpace:h,intl:E})},tN=(0,a("7aRa9").withFlags)(tM),tU=(0,a("cgtv4").defineMessages)({title:{id:"share-and-restrict-dialog.info-message.smart-links-warning.title",defaultMessage:"Additional restrictions canâ€™t be set for smart links"},message:{id:"share-and-restrict-dialog.info-message.smart-links-warning.message",defaultMessage:"Anyone with access to this item in Confluence can view it, but permissions on the link may affect who can engage with the content."},action:{id:"share-and-restrict-dialog.info-message.smart-links-warning.action",defaultMessage:"How do permissions work for Smart Links in the content tree"}}),tj=(0,a("cgtv4").defineMessages)({message:{id:"share-and-restrict-dialog.info-message.uneditable-restrictions.message",defaultMessage:"You donâ€™t have permission to change access to this content."}}),tB=(0,a("cgtv4").defineMessages)({message:{id:"share-and-restrict-dialog.info-message.draft.message",defaultMessage:"Only people with the link can view and edit drafts."},beforeLabel:{id:"share-and-restrict-dialog.info-message.draft.before-label",defaultMessage:"Draft info message"},afterLabel:{id:"share-and-restrict-dialog.info-message.draft.after-label",defaultMessage:"More info tooltip"},tooltipMessage:{id:"share-and-restrict-dialog.info-message.draft.tooltip-message",defaultMessage:"Only the draftâ€™s creator has access to their draft until they share the link with someone else."}}),tF=(0,a("cgtv4").defineMessages)({iconLabel:{id:"share-and-restrict-dialog.info-message.public-link-free-upsell.icon-label",defaultMessage:"Public link"}}),tG=(0,a("ecnYn").xcss)({borderRadius:"radius.small",boxShadow:"elevation.shadow.raised"}),tV=(0,a("ecnYn").xcss)({padding:"space.150"}),tq="https://support.atlassian.com/confluence-cloud/docs/bring-all-your-work-into-confluence/#Restrictions-and-Smart-Links-in-the-content-tree",tK=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i=(0,d.c)(11),{messageType:o,publishModalInfoBoxProps:l,askToEditBoxProps:c}=t,{formatMessage:p}=(0,a("8C5kA").default)(),{isSiteAdmin:m}=(0,u.useContext)(a("1ytiN").SPAViewContext);i[0]!==c||i[1]!==p||i[2]!==m||i[3]!==o||i[4]!==l?(r=()=>{switch(o){case"freeEditionPublicLinkUpsell":case"freeTrialPublicLinkUpsell":return e(u).createElement(a("dcJ7R").default,{space:"space.100",xcss:[tG,tV]},e(u).createElement(e(a("buthI")),{label:p(tF.iconLabel),spacing:"spacious"}),e(u).createElement(tS.PublicLinksUpsell,{isSiteAdmin:m,upsellSource:"share-and-restrict-dialog"}));case"freeEditionUpsell":return e(u).createElement(a("6f0Oj").default,{xcss:tG},e(u).createElement(tA.ChangeEditionSectionMessageShareAndRestrict,null));case"smartLink":return e(u).createElement(a("aoVih").default,{appearance:"warning",title:p(tU.title),actions:[e(u).createElement(a("iHPbg").default,{key:"action1",onClick:tH},p(tU.action))]},e(u).createElement(a("gtD4K").default,tU.message));case"uneditableRestrictions":return e(u).createElement(a("aoVih").default,{appearance:"information"},e(u).createElement(a("gtD4K").default,tj.message));case"publishModal":return e(u).createElement(e(u).Fragment,null,l&&e(u).createElement(tx,l));case"draft":return e(u).createElement(tI,{text:p(tB.message),beforeLabel:p(tB.beforeLabel),BeforeIcon:e(a("1Zr9M")),afterLabel:p(tB.afterLabel),AfterIcon:e(a("eXmBZ")),tooltipMessage:p(tB.tooltipMessage)});case"askToEdit":return c?e(u).createElement(tN,c):null}},i[0]=c,i[1]=p,i[2]=m,i[3]=o,i[4]=l,i[5]=r):r=i[5];let f=r;return i[6]!==o||i[7]!==f?(n=o&&e(u).createElement(a("6f0Oj").default,{testId:"info-message-test-id"},f()),i[6]=o,i[7]=f,i[8]=n):n=i[8],i[9]!==n?(s=e(u).createElement(e(u).Fragment,null,n),i[9]=n,i[10]=s):s=i[10],s}:({messageType:t,publishModalInfoBoxProps:r,askToEditBoxProps:n})=>{let{formatMessage:s}=(0,a("8C5kA").default)(),{isSiteAdmin:i}=(0,u.useContext)(a("1ytiN").SPAViewContext);return e(u).createElement(e(u).Fragment,null,t&&e(u).createElement(a("6f0Oj").default,{testId:"info-message-test-id"},(()=>{switch(t){case"freeEditionPublicLinkUpsell":case"freeTrialPublicLinkUpsell":return e(u).createElement(a("dcJ7R").default,{space:"space.100",xcss:[tG,tV]},e(u).createElement(e(a("buthI")),{label:s(tF.iconLabel),spacing:"spacious"}),e(u).createElement(tS.PublicLinksUpsell,{isSiteAdmin:i,upsellSource:"share-and-restrict-dialog"}));case"freeEditionUpsell":return e(u).createElement(a("6f0Oj").default,{xcss:tG},e(u).createElement(tA.ChangeEditionSectionMessageShareAndRestrict,null));case"smartLink":return e(u).createElement(a("aoVih").default,{appearance:"warning",title:s(tU.title),actions:[e(u).createElement(a("iHPbg").default,{key:"action1",onClick:()=>{window.open(tq,"_blank")}},s(tU.action))]},e(u).createElement(a("gtD4K").default,tU.message));case"uneditableRestrictions":return e(u).createElement(a("aoVih").default,{appearance:"information"},e(u).createElement(a("gtD4K").default,tj.message));case"publishModal":return e(u).createElement(e(u).Fragment,null,r&&e(u).createElement(tx,r));case"draft":return e(u).createElement(tI,{text:s(tB.message),beforeLabel:s(tB.beforeLabel),BeforeIcon:e(a("1Zr9M")),afterLabel:s(tB.afterLabel),AfterIcon:e(a("eXmBZ")),tooltipMessage:s(tB.tooltipMessage)});case"askToEdit":return n?e(u).createElement(tN,n):null}})()))};function tH(){window.open(tq,"_blank")}let tz=(0,c.isReactCompilerActiveV1)()?e=>{let t,r,n,s=(0,d.c)(10),{titleAndButtons:i,isSpecificAccessTabOpen:o,refetchAccessRequest:l}=e;s[0]!==l||s[1]!==i?(t=()=>{l(),i.onBackClick?.()},s[0]=l,s[1]=i,s[2]=t):t=s[2];let c=t;s[3]!==o||s[4]!==i?(r=o&&i.onBackClick&&(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment"),s[3]=o,s[4]=i,s[5]=r):r=s[5];let u=r;return s[6]!==u||s[7]!==i||s[8]!==c?(n=u?{...i,onBackClick:c}:i,s[6]=u,s[7]=i,s[8]=c,s[9]=n):n=s[9],n}:({titleAndButtons:e,isSpecificAccessTabOpen:t,refetchAccessRequest:r})=>{let n=(0,u.useCallback)(()=>{r(),e.onBackClick?.()},[e,r]);return t&&e.onBackClick&&(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?{...e,onBackClick:n}:e},tW={psaBleed:"_1bsb1osq",bleed:"_1rjcv77o _1bsb1osq _y4ti1b66 _4t3i8vuz",pressable:"_1yt4ze3t _1bsb1osq _bfhksm61"},tY=(0,a("cgtv4").defineMessages)({expand:{id:"share-and-restrict-dialog.rowInteractionWrapper.expand",defaultMessage:"View specific access"},collapse:{id:"share-and-restrict-dialog.rowInteractionWrapper.collapse",defaultMessage:"Collapse"}}),tQ=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p=(0,d.c)(20),{children:m,isExpanded:f,onExpandClick:g,onOpenSpecificAccessDialog:h,ariaLabel:E,isSpecificAccessDialogOpen:b}=t,[_,y]=(0,u.useState)(!1),{formatMessage:v}=(0,a("8C5kA").default)();p[0]!==g||p[1]!==h?(r=()=>{(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?h():g()},p[0]=g,p[1]=h,p[2]=r):r=p[2];let S=r;p[3]!==E||p[4]!==v||p[5]!==f?(n=E||v(f?tY.collapse:tY.expand),p[3]=E,p[4]=v,p[5]=f,p[6]=n):n=p[6];let A=n;if(void 0!==b&&b){let e;return p[7]!==m||p[8]!==_?(e="function"==typeof m?m({rowHovered:_}):m,p[7]=m,p[8]=_,p[9]=e):e=p[9],e}return p[10]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a("1Whri").cx)(tW.psaBleed,!(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")&&tW.bleed),p[10]=s):s=p[10],p[11]===Symbol.for("react.memo_cache_sentinel")?(i=()=>y(!0),o=()=>y(!1),p[11]=i,p[12]=o):(i=p[11],o=p[12]),p[13]!==m||p[14]!==_?(l="function"==typeof m?m({rowHovered:_}):m,p[13]=m,p[14]=_,p[15]=l):l=p[15],p[16]!==A||p[17]!==S||p[18]!==l?(c=e(u).createElement(a("2aF5E").default,{inline:"space.100",xcss:s},e(u).createElement(a("fVUfS").default,{onClick:S,onMouseEnter:i,onMouseLeave:o,xcss:tW.pressable,"aria-label":A},l)),p[16]=A,p[17]=S,p[18]=l,p[19]=c):c=p[19],c}:({children:t,isExpanded:r,onExpandClick:n,onOpenSpecificAccessDialog:s,ariaLabel:i,isSpecificAccessDialogOpen:o=!1})=>{let[l,c]=(0,u.useState)(!1),{formatMessage:d}=(0,a("8C5kA").default)(),p=(0,u.useCallback)(()=>{(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?s():n()},[s,n]),m=i||d(r?tY.collapse:tY.expand);return o?"function"==typeof t?t({rowHovered:l}):t:e(u).createElement(a("2aF5E").default,{inline:"space.100",xcss:(0,a("1Whri").cx)(tW.psaBleed,!(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")&&tW.bleed)},e(u).createElement(a("fVUfS").default,{onClick:p,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),xcss:tW.pressable,"aria-label":m},"function"==typeof t?t({rowHovered:l}):t))},t$=(0,a("cgtv4").defineMessages)({expand:{id:"share-and-restrict-dialog.useExpandIconRenderer.expand",defaultMessage:"View specific access"},collapse:{id:"share-and-restrict-dialog.useExpandIconRenderer.collapse",defaultMessage:"Collapse"}}),tX=(0,a("ecnYn").xcss)({transform:"rotate(0deg)",transition:`all ${a("4c48T").durations.small}ms linear`}),tJ=(0,a("ecnYn").xcss)({transform:"rotate(90deg)"}),tZ=(0,a("ecnYn").xcss)({width:"var(--ds-space-400, 32px)",height:"var(--ds-space-400, 32px)",borderRadius:"radius.small",paddingBlock:"space.100",paddingInline:"space.100",background:"none"}),t0=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i=(0,d.c)(11),{isExpanded:o,isSpecificAccessDialogOpen:l,rowHovered:c,expandMessage:p,fallbackComponent:m}=t,f=void 0!==l&&l,g=void 0!==c&&c,{formatMessage:h}=(0,a("8C5kA").default)();e:{let e;if(p){r=p;break e}let t=o?t$.collapse:t$.expand;i[0]!==h||i[1]!==t?(e=h(t),i[0]=h,i[1]=t,i[2]=e):e=i[2],r=e}let E=r;i[3]!==E||i[4]!==m||i[5]!==o||i[6]!==f||i[7]!==g?(n=()=>f?m||e(u).createElement("div",null):g||(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?e(u).createElement(a("3gadb").default,{content:E},t=>e(u).createElement(a("6f0Oj").default,{as:"span",...t,"aria-expanded":o,xcss:tZ},e(u).createElement(a("dcJ7R").default,{alignBlock:"center",alignInline:"center"},e(u).createElement(a("6f0Oj").default,{as:"span",xcss:[tX,o&&tJ]},e(u).createElement(e(a("6R5uz")),{label:E,size:"small"}))))):m||e(u).createElement("div",null),i[3]=E,i[4]=m,i[5]=o,i[6]=f,i[7]=g,i[8]=n):n=i[8];let b=n;return i[9]!==b?(s={renderIcon:b},i[9]=b,i[10]=s):s=i[10],s}:t=>{let{isExpanded:r,isSpecificAccessDialogOpen:n=!1,rowHovered:s=!1,expandMessage:i,fallbackComponent:o}=t,{formatMessage:l}=(0,a("8C5kA").default)(),c=(0,u.useMemo)(()=>i||l(r?t$.collapse:t$.expand),[r,i,l]);return{renderIcon:(0,u.useMemo)(()=>()=>n?o||e(u).createElement("div",null):s||(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?e(u).createElement(a("3gadb").default,{content:c},t=>e(u).createElement(a("6f0Oj").default,{as:"span",...t,"aria-expanded":r,xcss:tZ},e(u).createElement(a("dcJ7R").default,{alignBlock:"center",alignInline:"center"},e(u).createElement(a("6f0Oj").default,{as:"span",xcss:[tX,r&&tJ]},e(u).createElement(e(a("6R5uz")),{label:c,size:"small"}))))):o||e(u).createElement("div",null),[n,s,c,r,o])}},t1=(0,a("cgtv4").defineMessages)({twoUsers:{id:"share-and-restrict-dialog.facepileRow.restricted.two-users",defaultMessage:"<b>{name1}</b> and <b>{name2}</b>"},multipleUsers:{id:"share-and-restrict-dialog.facepileRow.restricted.multiple-users",defaultMessage:"<b>{name1}, {name2},</b> and <b>{count} {count, plural, one {other} other {others}}</b>"},youAndOneOther:{id:"share-and-restrict-dialog.facepileRow.restricted.you-and-one-other",defaultMessage:"<b>You</b> and <b>{name}</b>"},youAndMultipleOthers:{id:"share-and-restrict-dialog.facepileRow.restricted.you-and-multiple-others",defaultMessage:"<b>You, {name},</b> and <b>{count} {count, plural, one {other} other {others}}</b>"},deletedGroups:{id:"share-and-restrict-dialog.facepileRow.restricted.deleted-groups",defaultMessage:"This group was deleted"}}),t2=(0,a("cgtv4").defineMessages)({twoUsers:{id:"share-and-restrict-dialog.facepileRow.open-can-view.two-users",defaultMessage:"<b>{name1}</b> and <b>{name2}</b> can edit"},multipleUsers:{id:"share-and-restrict-dialog.facepileRow.open-can-view.multiple-users",defaultMessage:"<b>{name1}, {name2},</b> and <b>{count} {count, plural, one {other} other {others}}</b> can edit"},youAndOneOther:{id:"share-and-restrict-dialog.facepileRow.open-can-view.you-and-one-other",defaultMessage:"<b>You</b> and <b>{name}</b> can edit"},youAndMultipleOthers:{id:"share-and-restrict-dialog.facepileRow.open-can-view.you-and-multiple-others",defaultMessage:"<b>You, {name},</b> and <b>{count} {count, plural, one {other} other {others}}</b> can edit"}}),t3=(0,a("cgtv4").defineMessages)({expand:{id:"share-and-restrict-dialog.facepileRow.icon.expand",defaultMessage:"View specific access"},collapse:{id:"share-and-restrict-dialog.facepileRow.icon.collapse",defaultMessage:"Collapse"},facepileExpand:{id:"share-and-restrict-dialog.facepileRow.expand",defaultMessage:"View specific access details"},facepileCollapse:{id:"share-and-restrict-dialog.facepileRow.collapse",defaultMessage:"Collapse specific access details"}}),t4=(0,a("cgtv4").defineMessages)({group:{id:"share-and-restrict-dialog.facepileRow.group-name",defaultMessage:"{count} {count, plural, one {group} other {groups}}"}}),t6=(0,a("cgtv4").defineMessages)({team:{id:"share-and-restrict-dialog.facepileRow.team-name",defaultMessage:"{count} {count, plural, one {team} other {teams}}"}}),t5=(0,a("ecnYn").xcss)({paddingBlock:"space.100",paddingInline:"space.100",":hover":{background:"var(--ds-surface-hovered, #F0F1F2)"},borderRadius:"radius.small"}),t9=(0,a("ecnYn").xcss)({borderRadius:"radius.full",width:"36px",height:"36px",display:"flex",justifyContent:"center",alignItems:"center",flexShrink:0,marginTop:"space.0",position:"relative",transition:"transform 200ms",zIndex:3,":active":{transform:"scale(0.9)"},backgroundColor:"elevation.surface.overlay"}),t8=(0,a("ecnYn").xcss)({borderRadius:"radius.full",width:"36px",height:"36px",display:"flex",justifyContent:"center",alignItems:"center",flexShrink:0,marginTop:"space.0",position:"relative",transition:"transform 200ms",zIndex:4,":active":{transform:"scale(0.9)"},backgroundColor:"elevation.surface.overlay"}),t7=(0,a("ecnYn").xcss)({borderRadius:"radius.full",width:"32px",height:"32px",display:"flex",justifyContent:"center",alignItems:"center",flexShrink:0,marginTop:"space.0",position:"relative","::after":{content:'""',backgroundColor:"color.background.neutral.subtle",inset:"0px",borderRadius:"radius.full",opacity:0,pointerEvents:"none",position:"absolute",transition:"opacity 200ms",width:"100%"},":hover":{"::after":{backgroundColor:"color.background.inverse.subtle",opacity:1}}}),ae={TEAM:"teamAvatar",GROUP:"groupAvatar"},at={USER:"user",GROUP:"group",TEAM:"team"},aa=()=>{},ar=(e,t)=>{let[,r,...n]=e,s=n.filter(e=>e.type!==at.GROUP),i=(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")||r?.type!==at.TEAM?n.length:s.length;return r?.type===at.TEAM&&t>0&&(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")&&(i+=t),e.some(e=>e.type===at.GROUP)&&(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")&&r?.type===at.TEAM&&(i-=1),Math.max(0,i)},an=(e,t,r,n)=>e===a("8oEoE").ConfluenceGroupUsageType.TEAM_COLLABORATION&&(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?n(t6.team,{count:t}):n(t4.group,e===a("8oEoE").ConfluenceGroupUsageType.TEAM_COLLABORATION?{count:r+t}:{count:r}),as=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i=(0,d.c)(9),{teamCount:o,formatMessage:l}=t;return i[0]!==l||i[1]!==o?(r=l(t6.team,{count:o}),i[0]=l,i[1]=o,i[2]=r):r=i[2],i[3]!==l||i[4]!==o?(n=t=>e(u).createElement(a("2W0qg").default,{...t,xcss:t8},e(u).createElement(a("6f0Oj").default,{xcss:t7},e(u).createElement(a("lE8sM").default,{label:l(t6.team,{count:o}),size:"32",appearance:"gray",shape:"circle",icon:e(a("lebfc"))}))),i[3]=l,i[4]=o,i[5]=n):n=i[5],i[6]!==r||i[7]!==n?(s=e(u).createElement(a("3gadb").default,{content:r,position:"bottom"},n),i[6]=r,i[7]=n,i[8]=s):s=i[8],s}:({teamCount:t,formatMessage:r})=>e(u).createElement(a("3gadb").default,{content:r(t6.team,{count:t}),position:"bottom"},n=>e(u).createElement(a("2W0qg").default,{...n,xcss:t8},e(u).createElement(a("6f0Oj").default,{xcss:t7},e(u).createElement(a("lE8sM").default,{label:r(t6.team,{count:t}),size:"32",appearance:"gray",shape:"circle",icon:e(a("lebfc"))})))),ai=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i=(0,d.c)(10),{groupCount:o,teamCount:l,formatMessage:c}=t,p=(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?o:o+l;return i[0]!==c||i[1]!==p?(r=c(t4.group,{count:p}),i[0]=c,i[1]=p,i[2]=r):r=i[2],i[3]!==c||i[4]!==o||i[5]!==l?(n=t=>e(u).createElement(a("2W0qg").default,{...t,xcss:l?t9:t8},e(u).createElement(a("6f0Oj").default,{xcss:t7},e(u).createElement(a("lE8sM").default,{label:c(t4.group,{count:(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?o:o+l}),size:"32",appearance:"gray",shape:"circle",icon:e(a("lebfc"))}))),i[3]=c,i[4]=o,i[5]=l,i[6]=n):n=i[6],i[7]!==r||i[8]!==n?(s=e(u).createElement(a("3gadb").default,{content:r,position:"bottom"},n),i[7]=r,i[8]=n,i[9]=s):s=i[9],s}:({groupCount:t,teamCount:r,formatMessage:n})=>e(u).createElement(a("3gadb").default,{content:n(t4.group,{count:(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?t:t+r}),position:"bottom"},s=>e(u).createElement(a("2W0qg").default,{...s,xcss:r?t9:t8},e(u).createElement(a("6f0Oj").default,{xcss:t7},e(u).createElement(a("lE8sM").default,{label:n(t4.group,{count:(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?t:t+r}),size:"32",appearance:"gray",shape:"circle",icon:e(a("lebfc"))})))),ao=(t,r,n)=>({[at.TEAM]:(r,s)=>r.src?e(u).createElement(a("3gadb").default,{content:n(t6.team,{count:t}),position:"bottom"},e(u).createElement(a("6f0Oj").default,{xcss:t8},e(u).createElement(s,r))):e(u).createElement(as,{teamCount:t,formatMessage:n}),[at.GROUP]:()=>e(u).createElement(ai,{groupCount:r,teamCount:t,formatMessage:n}),[at.USER]:(t,a)=>e(u).createElement(a,t)}),al=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p,m,g,h=(0,d.c)(46),{avatarGroupData:E,isExpanded:b,onExpandClick:_,onOpenSpecificAccessDialog:y,generalAccessLevel:v,groupCount:S,teamCount:A,currentUserHasAccess:C,analyticsAttributes:I}=t,{createAnalyticsEvent:T}=(0,a("inPa6").useAnalyticsEvents)(),{formatMessage:x}=(0,a("8C5kA").default)();h[0]!==I||h[1]!==T||h[2]!==v||h[3]!==b||h[4]!==_?(r=()=>{T({type:"sendUIEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,actionSubject:"button",actionSubjectId:"facepileRow",action:"clicked",attributes:{...I,generalAccessLevel:v,newState:b?"collapsed":"expanded"}}}).fire(),_()},h[0]=I,h[1]=T,h[2]=v,h[3]=b,h[4]=_,h[5]=r):r=h[5];let k=r;h[6]!==I||h[7]!==T||h[8]!==v||h[9]!==y?(n=()=>{T({type:"sendUIEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,actionSubject:"button",actionSubjectId:"facepileRow",action:"clicked",attributes:{...I,generalAccessLevel:v,newState:"openSpecificAccessDialog"}}}).fire(),y()},h[6]=I,h[7]=T,h[8]=v,h[9]=y,h[10]=n):n=h[10];let R=n;h[11]!==E?(s=E.some(ac),h[11]=E,h[12]=s):s=h[12];let O=s;h[13]!==E?(i=E.some(ad),h[13]=E,h[14]=i):i=h[14];let w=i;h[15]!==E||h[16]!==C||h[17]!==x||h[18]!==v||h[19]!==S||h[20]!==O||h[21]!==w||h[22]!==A?(o=()=>{let[t,r]=E;if(1===E.length&&(t.type===at.GROUP||t.type===at.TEAM))return e(u).createElement(a("5dK2X").default,{weight:"bold"},an(t.usageType,A,S,x));let n=t.name.split(" ")[0],s="";r&&(s=r.type===at.USER?r.name.split(" ")[0]:an(r.usageType,A,S,x));let i=ar(E,S);if("restricted"===v){if(!(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")&&3===E.length&&O&&w||2===E.length)if(C)return x(t1.youAndOneOther,{name:s,b:au});else return x(t1.twoUsers,{name1:n,name2:s,b:ap});else if(E.length>2)if(C)return x(t1.youAndMultipleOthers,{name:s,count:i,b:am});else return x(t1.multipleUsers,{name1:n,name2:s,count:i,b:af})}else if(!(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")&&3===E.length&&O&&w||2===E.length)if(C)return x(t2.youAndOneOther,{name:s,b:ag});else return x(t2.twoUsers,{name1:n,name2:s,b:ah});else if(E.length>2)if(C)return x(t2.youAndMultipleOthers,{name:s,count:i,b:aE});else return x(t2.multipleUsers,{name1:n,name2:s,count:i,b:ab})},h[15]=E,h[16]=C,h[17]=x,h[18]=v,h[19]=S,h[20]=O,h[21]=w,h[22]=A,h[23]=o):o=h[23];let L=o,[P,D]=(0,u.useState)(!1);h[24]===Symbol.for("react.memo_cache_sentinel")?(l=e(u).createElement("div",null),h[24]=l):l=h[24],h[25]!==b||h[26]!==P?(c={isExpanded:b,rowHovered:P,fallbackComponent:l},h[25]=b,h[26]=P,h[27]=c):c=h[27];let{renderIcon:M}=t0(c);return h[28]!==x||h[29]!==b?(p=b?x(t3.facepileCollapse):x(t3.facepileExpand),h[28]=x,h[29]=b,h[30]=p):p=h[30],h[31]!==E||h[32]!==x||h[33]!==L||h[34]!==S||h[35]!==O||h[36]!==M||h[37]!==P||h[38]!==A?(m=t=>{let{rowHovered:r}=t;return r!==P&&D(r),e(u).createElement(a("dcJ7R").default,{spread:"space-between",alignBlock:"center",xcss:t5},e(u).createElement(a("dcJ7R").default,{alignBlock:"center",space:"space.100"},e(u).createElement(a("2Pg7f").default,{data:E,onMoreClick:aa,onAvatarClick:aa,overrides:{Avatar:{render:(e,t)=>{let r=ao(A,S,x);return t.key===ae.TEAM&&(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?r[at.TEAM](t,e):((0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")||t.key!==ae.TEAM||O)&&t.key!==ae.GROUP?t.key!==ae.TEAM?r[at.USER](t,e):void 0:r[at.GROUP]()}}}}),e(u).createElement(a("5dK2X").default,null,L())),M())},h[31]=E,h[32]=x,h[33]=L,h[34]=S,h[35]=O,h[36]=M,h[37]=P,h[38]=A,h[39]=m):m=h[39],h[40]!==k||h[41]!==R||h[42]!==b||h[43]!==p||h[44]!==m?(g=e(u).createElement(tQ,{isExpanded:b,onExpandClick:k,onOpenSpecificAccessDialog:R,ariaLabel:p,isSpecificAccessDialogOpen:!1},m),h[40]=k,h[41]=R,h[42]=b,h[43]=p,h[44]=m,h[45]=g):g=h[45],g}:({avatarGroupData:t,isExpanded:r,onExpandClick:n,onOpenSpecificAccessDialog:s,generalAccessLevel:i,groupCount:o,teamCount:l,currentUserHasAccess:c,analyticsAttributes:d})=>{let{createAnalyticsEvent:p}=(0,a("inPa6").useAnalyticsEvents)(),{formatMessage:m}=(0,a("8C5kA").default)(),g=(0,u.useCallback)(()=>{p({type:"sendUIEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,actionSubject:"button",actionSubjectId:"facepileRow",action:"clicked",attributes:{...d,generalAccessLevel:i,newState:r?"collapsed":"expanded"}}}).fire(),n()},[p,d,i,r,n]),h=(0,u.useCallback)(()=>{p({type:"sendUIEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,actionSubject:"button",actionSubjectId:"facepileRow",action:"clicked",attributes:{...d,generalAccessLevel:i,newState:"openSpecificAccessDialog"}}}).fire(),s()},[p,d,i,s]),E=t.some(e=>e.type===at.GROUP),b=t.some(e=>e.type===at.TEAM),_=()=>{let[r,n]=t;if(1===t.length&&(r.type===at.GROUP||r.type===at.TEAM))return e(u).createElement(a("5dK2X").default,{weight:"bold"},an(r.usageType,l,o,m));let s=r.name.split(" ")[0],d="";n&&(d=n.type===at.USER?n.name.split(" ")[0]:an(n.usageType,l,o,m));let p=ar(t,o);if("restricted"===i){if(!(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")&&3===t.length&&E&&b||2===t.length)if(c)return m(t1.youAndOneOther,{name:d,b:t=>e(u).createElement(a("5dK2X").default,{weight:"bold"},t)});else return m(t1.twoUsers,{name1:s,name2:d,b:t=>e(u).createElement(a("5dK2X").default,{weight:"bold"},t)});else if(t.length>2)if(c)return m(t1.youAndMultipleOthers,{name:d,count:p,b:t=>e(u).createElement(a("5dK2X").default,{weight:"bold"},t)});else return m(t1.multipleUsers,{name1:s,name2:d,count:p,b:t=>e(u).createElement(a("5dK2X").default,{weight:"bold"},t)})}else if(!(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")&&3===t.length&&E&&b||2===t.length)if(c)return m(t2.youAndOneOther,{name:d,b:t=>e(u).createElement(a("5dK2X").default,{weight:"bold"},t)});else return m(t2.twoUsers,{name1:s,name2:d,b:t=>e(u).createElement(a("5dK2X").default,{weight:"bold"},t)});else if(t.length>2)if(c)return m(t2.youAndMultipleOthers,{name:d,count:p,b:t=>e(u).createElement(a("5dK2X").default,{weight:"bold"},t)});else return m(t2.multipleUsers,{name1:s,name2:d,count:p,b:t=>e(u).createElement(a("5dK2X").default,{weight:"bold"},t)})},[y,v]=(0,u.useState)(!1),{renderIcon:S}=t0({isExpanded:r,rowHovered:y,fallbackComponent:e(u).createElement("div",null)});return e(u).createElement(tQ,{isExpanded:r,onExpandClick:g,onOpenSpecificAccessDialog:h,ariaLabel:r?m(t3.facepileCollapse):m(t3.facepileExpand),isSpecificAccessDialogOpen:!1},({rowHovered:r})=>(r!==y&&v(r),e(u).createElement(a("dcJ7R").default,{spread:"space-between",alignBlock:"center",xcss:t5},e(u).createElement(a("dcJ7R").default,{alignBlock:"center",space:"space.100"},e(u).createElement(a("2Pg7f").default,{data:t,onMoreClick:aa,onAvatarClick:aa,overrides:{Avatar:{render:(e,t)=>{let r=ao(l,o,m);return t.key===ae.TEAM&&(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?r[at.TEAM](t,e):((0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")||t.key!==ae.TEAM||E)&&t.key!==ae.GROUP?t.key!==ae.TEAM?r[at.USER](t,e):void 0:r[at.GROUP]()}}}}),e(u).createElement(a("5dK2X").default,null,_())),S())))};function ac(e){return e.type===at.GROUP}function ad(e){return e.type===at.TEAM}function au(t){return e(u).createElement(a("5dK2X").default,{weight:"bold"},t)}function ap(t){return e(u).createElement(a("5dK2X").default,{weight:"bold"},t)}function am(t){return e(u).createElement(a("5dK2X").default,{weight:"bold"},t)}function af(t){return e(u).createElement(a("5dK2X").default,{weight:"bold"},t)}function ag(t){return e(u).createElement(a("5dK2X").default,{weight:"bold"},t)}function ah(t){return e(u).createElement(a("5dK2X").default,{weight:"bold"},t)}function aE(t){return e(u).createElement(a("5dK2X").default,{weight:"bold"},t)}function ab(t){return e(u).createElement(a("5dK2X").default,{weight:"bold"},t)}let a_=(0,a("cgtv4").defineMessages)({specificAccess:{id:"share-and-restrict-dialog.specific-access.heading",defaultMessage:"Specific access"},removeAll:{id:"share-and-restrict-dialog.remove-all.button",defaultMessage:"Remove all"}}),ay=(0,a("ecnYn").xcss)({marginBlockEnd:"-10px"}),av=(0,a("ecnYn").xcss)({marginBlockEnd:"space.negative.025"}),aS=(0,a("ecnYn").xcss)({color:"color.text.subtlest",textDecorationLine:"underline",font:'var(--ds-font-body-small, normal 400 11px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)',backgroundColor:"color.background.neutral.subtle",paddingBlockStart:"space.025"}),aA=(0,a("ecnYn").xcss)({color:"color.text.subtlest"}),aC=(0,a("ecnYn").xcss)({padding:"space.075"}),aI=(0,a("ecnYn").xcss)({marginInlineStart:"space.negative.075"}),aT=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l=(0,d.c)(12),{facepileRow:c,isExpanded:p,onRemoveAllClick:m,edition:f}=t,g=f===a("euL71").ConfluenceEdition.FREE,h=c&&p&&ay||!c&&av;return l[0]===Symbol.for("react.memo_cache_sentinel")?(r=e(u).createElement(a("5izcQ").default,{name:"specificAccess"},e(u).createElement(a("6f0Oj").default,{xcss:aC},e(u).createElement(a("7hXDW").default,{size:"xxsmall",as:"h2"},e(u).createElement(a("gtD4K").default,a_.specificAccess)))),l[0]=r):r=l[0],l[1]!==g||l[2]!==m?(n=m&&!g&&e(u).createElement(a("dcJ7R").default,{xcss:aA,alignBlock:"start"},"â€¢",e(u).createElement(a("2W0qg").default,{xcss:aS,onClick:()=>m()},e(u).createElement(a("gtD4K").default,a_.removeAll))),l[1]=g,l[2]=m,l[3]=n):n=l[3],l[4]!==n?(s=e(u).createElement(a("dcJ7R").default,{space:"space.0",alignBlock:"center",xcss:aI},r,n),l[4]=n,l[5]=s):s=l[5],l[6]!==c?(i=c&&e(u).createElement(a("1GzhS").default,{space:"space.100",alignInline:"start",grow:"fill"},e(u).createElement(al,c)),l[6]=c,l[7]=i):i=l[7],l[8]!==h||l[9]!==s||l[10]!==i?(o=e(u).createElement(a("1GzhS").default,{space:"space.050",alignInline:"start",xcss:h},s,i),l[8]=h,l[9]=s,l[10]=i,l[11]=o):o=l[11],o}:({facepileRow:t,isExpanded:r,onRemoveAllClick:n,edition:s})=>{let i=s===a("euL71").ConfluenceEdition.FREE;return e(u).createElement(a("1GzhS").default,{space:"space.050",alignInline:"start",xcss:t&&r&&ay||!t&&av},e(u).createElement(a("dcJ7R").default,{space:"space.0",alignBlock:"center",xcss:aI},e(u).createElement(a("5izcQ").default,{name:"specificAccess"},e(u).createElement(a("6f0Oj").default,{xcss:aC},e(u).createElement(a("7hXDW").default,{size:"xxsmall",as:"h2"},e(u).createElement(a("gtD4K").default,a_.specificAccess)))),n&&!i&&e(u).createElement(a("dcJ7R").default,{xcss:aA,alignBlock:"start"},"â€¢",e(u).createElement(a("2W0qg").default,{xcss:aS,onClick:()=>n()},e(u).createElement(a("gtD4K").default,a_.removeAll)))),t&&e(u).createElement(a("1GzhS").default,{space:"space.100",alignInline:"start",grow:"fill"},e(u).createElement(al,t)))},ax={textField:"_otyrxy5q"},ak=(0,a("cgtv4").defineMessages)({clearFilterLabel:{id:"share-and-restrict-dialog.specific-access-dialog.clear-filter",defaultMessage:"Clear selection"},countOfIndividualsSuffix:{id:"share-and-restrict-dialog.specific-access-dialog.count-of-groups-and-individuals-suffix",defaultMessage:"and {countOfIndividuals, plural, one {# individual} other {# individuals}}"},countOfGroups:{id:"share-and-restrict-dialog.specific-access-dialog.count-of-groups",defaultMessage:"Search {countOfGroups, plural, one {# group} other {# groups}}"},countOfIndividuals:{id:"share-and-restrict-dialog.specific-access-dialog.count-of-individuals",defaultMessage:"Search {countOfIndividuals, plural, one {# individual} other {# individuals}}"},countOfTeamsMiddleClause:{id:"share-and-restrict-dialog.specific-access-dialog.count-of-teams-middle-clause",defaultMessage:"{countOfTeams, plural, one {# team} other {# teams}}"},countOfTeams:{id:"share-and-restrict-dialog.specific-access-dialog.count-of-teams",defaultMessage:"Search {countOfTeams, plural, one {# team} other {# teams}}"},countOfTeamsSuffix:{id:"share-and-restrict-dialog.specific-access-dialog.count-of-teams-suffix",defaultMessage:"and {countOfTeams, plural, one {# team} other {# teams}}"}}),aR=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c=(0,d.c)(50),{setFilterText:p,filterText:m,countOfIndividuals:f,countOfGroups:g,countOfTeams:h}=t,E=(0,a("8C5kA").default)();c[0]!==p?(r=e=>{p(e.currentTarget.value)},c[0]=p,c[1]=r):r=c[1];let b=r;if(f&&g&&h){let e,t,a;c[2]!==g||c[3]!==E?(e=E.formatMessage(ak.countOfGroups,{countOfGroups:g}),c[2]=g,c[3]=E,c[4]=e):e=c[4],c[5]!==h||c[6]!==E?(t=E.formatMessage(ak.countOfTeamsMiddleClause,{countOfTeams:h}),c[5]=h,c[6]=E,c[7]=t):t=c[7],c[8]!==f||c[9]!==E?(a=E.formatMessage(ak.countOfIndividualsSuffix,{countOfIndividuals:f}),c[8]=f,c[9]=E,c[10]=a):a=c[10],n=`${e}, ${t}, ${a}`}else if(g&&f){let e,t;c[11]!==g||c[12]!==E?(e=E.formatMessage(ak.countOfGroups,{countOfGroups:g}),c[11]=g,c[12]=E,c[13]=e):e=c[13],c[14]!==f||c[15]!==E?(t=E.formatMessage(ak.countOfIndividualsSuffix,{countOfIndividuals:f}),c[14]=f,c[15]=E,c[16]=t):t=c[16],n=`${e} ${t}`}else if(f&&h){let e,t;c[17]!==h||c[18]!==E?(e=E.formatMessage(ak.countOfTeams,{countOfTeams:h}),c[17]=h,c[18]=E,c[19]=e):e=c[19],c[20]!==f||c[21]!==E?(t=E.formatMessage(ak.countOfIndividualsSuffix,{countOfIndividuals:f}),c[20]=f,c[21]=E,c[22]=t):t=c[22],n=`${e} ${t}`}else if(h&&g){let e,t;c[23]!==g||c[24]!==E?(e=E.formatMessage(ak.countOfGroups,{countOfGroups:g}),c[23]=g,c[24]=E,c[25]=e):e=c[25],c[26]!==h||c[27]!==E?(t=E.formatMessage(ak.countOfTeamsSuffix,{countOfTeams:h}),c[26]=h,c[27]=E,c[28]=t):t=c[28],n=`${e} ${t}`}else if(h){let e;c[29]!==h||c[30]!==E?(e=E.formatMessage(ak.countOfTeams,{countOfTeams:h}),c[29]=h,c[30]=E,c[31]=e):e=c[31],n=e}else if(g){let e;c[32]!==g||c[33]!==E?(e=E.formatMessage(ak.countOfGroups,{countOfGroups:g}),c[32]=g,c[33]=E,c[34]=e):e=c[34],n=e}else{let e;c[35]!==f||c[36]!==E?(e=E.formatMessage(ak.countOfIndividuals,{countOfIndividuals:f}),c[35]=f,c[36]=E,c[37]=e):e=c[37],n=e}let _=n,y=n;return c[38]!==m||c[39]!==E||c[40]!==p?(s=!!m&&e(u).createElement(a("eEA8O").default,{appearance:"subtle","aria-label":E.formatMessage(ak.clearFilterLabel),iconBefore:e(u).createElement(e(a("7yDmn")),{label:"",color:"var(--ds-icon-subtle, #505258)"}),onClick:()=>p("")}),c[38]=m,c[39]=E,c[40]=p,c[41]=s):s=c[41],c[42]!==s?(i=e(u).createElement(e(u).Fragment,null,s),c[42]=s,c[43]=i):i=c[43],c[44]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a("gMc0m").default)([ax.textField]),c[44]=o):o=c[44],c[45]!==m||c[46]!==b||c[47]!==n||c[48]!==i?(l=e(u).createElement(a("4noo5").default,{"aria-label":_,autoFocus:!0,placeholder:y,value:m,onChange:b,elemAfterInput:i,className:o}),c[45]=m,c[46]=b,c[47]=n,c[48]=i,c[49]=l):l=c[49],l}:({setFilterText:t,filterText:r,countOfIndividuals:n,countOfGroups:s,countOfTeams:i})=>{let o,l=(0,a("8C5kA").default)();return o=n&&s&&i?`${l.formatMessage(ak.countOfGroups,{countOfGroups:s})}, ${l.formatMessage(ak.countOfTeamsMiddleClause,{countOfTeams:i})}, ${l.formatMessage(ak.countOfIndividualsSuffix,{countOfIndividuals:n})}`:s&&n?`${l.formatMessage(ak.countOfGroups,{countOfGroups:s})} ${l.formatMessage(ak.countOfIndividualsSuffix,{countOfIndividuals:n})}`:n&&i?`${l.formatMessage(ak.countOfTeams,{countOfTeams:i})} ${l.formatMessage(ak.countOfIndividualsSuffix,{countOfIndividuals:n})}`:i&&s?`${l.formatMessage(ak.countOfGroups,{countOfGroups:s})} ${l.formatMessage(ak.countOfTeamsSuffix,{countOfTeams:i})}`:i?l.formatMessage(ak.countOfTeams,{countOfTeams:i}):s?l.formatMessage(ak.countOfGroups,{countOfGroups:s}):l.formatMessage(ak.countOfIndividuals,{countOfIndividuals:n}),e(u).createElement(a("4noo5").default,{"aria-label":o,autoFocus:!0,placeholder:o,value:r,onChange:e=>{t(e.currentTarget.value)},elemAfterInput:e(u).createElement(e(u).Fragment,null,!!r&&e(u).createElement(a("eEA8O").default,{appearance:"subtle","aria-label":l.formatMessage(ak.clearFilterLabel),iconBefore:e(u).createElement(e(a("7yDmn")),{label:"",color:"var(--ds-icon-subtle, #505258)"}),onClick:()=>t("")})),className:(0,a("gMc0m").default)([ax.textField])})},aO=(0,a("cgtv4").defineMessages)({peopleWithAccessLabel:{id:"share-and-restrict-dialog.specific-access-tabs.people-with-access",defaultMessage:"People with access"},requestsLabel:{id:"share-and-restrict-dialog.specific-access-tabs.requests",defaultMessage:"Requests"}}),aw=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p,m=(0,d.c)(16),{setTabSelection:f,tabSelection:g,requests:h,refetchAccessRequest:E}=t,b=h?.length??0,_=(0,u.useRef)(null);m[0]!==E?(r=()=>{_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{E()},500)},m[0]=E,m[1]=r):r=m[1];let y=r;return m[2]!==y||m[3]!==g?(n=()=>(1===g?_.current&&(clearTimeout(_.current),_.current=null):y(),()=>{_.current&&clearTimeout(_.current)}),s=[g,y],m[2]=y,m[3]=g,m[4]=n,m[5]=s):(n=m[4],s=m[5]),(0,u.useEffect)(n,s),m[6]===Symbol.for("react.memo_cache_sentinel")?(i=e(u).createElement(a("gCbPZ").default,{testId:"specific-access-tab-people"},e(u).createElement(a("gtD4K").default,aO.peopleWithAccessLabel)),m[6]=i):i=m[6],m[7]===Symbol.for("react.memo_cache_sentinel")?(o=e(u).createElement(a("5dK2X").default,null,e(u).createElement(a("gtD4K").default,aO.requestsLabel)),m[7]=o):o=m[7],m[8]!==b?(l=b?e(u).createElement(a("c4sKh").default,{appearance:"important",max:9},b):null,m[8]=b,m[9]=l):l=m[9],m[10]!==l?(c=e(u).createElement(a("0DTaW").default,null,i,e(u).createElement(a("gCbPZ").default,{testId:"specific-access-tab-requests"},e(u).createElement(a("dcJ7R").default,{space:"space.075",alignBlock:"center"},o,l))),m[10]=l,m[11]=c):c=m[11],m[12]!==f||m[13]!==c||m[14]!==g?(p=e(u).createElement(a("4A7Gn").default,{onChange:f,selected:g,id:"controlled"},c),m[12]=f,m[13]=c,m[14]=g,m[15]=p):p=m[15],p}:({setTabSelection:t,tabSelection:r,requests:n,refetchAccessRequest:s})=>{let i=n?.length??0,o=(0,u.useRef)(null),l=(0,u.useCallback)(()=>{o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{s()},500)},[s]);return(0,u.useEffect)(()=>(1===r?o.current&&(clearTimeout(o.current),o.current=null):l(),()=>{o.current&&clearTimeout(o.current)}),[r,l]),e(u).createElement(a("4A7Gn").default,{onChange:t,selected:r,id:"controlled"},e(u).createElement(a("0DTaW").default,null,e(u).createElement(a("gCbPZ").default,{testId:"specific-access-tab-people"},e(u).createElement(a("gtD4K").default,aO.peopleWithAccessLabel)),e(u).createElement(a("gCbPZ").default,{testId:"specific-access-tab-requests"},e(u).createElement(a("dcJ7R").default,{space:"space.075",alignBlock:"center"},e(u).createElement(a("5dK2X").default,null,e(u).createElement(a("gtD4K").default,aO.requestsLabel)),i?e(u).createElement(a("c4sKh").default,{appearance:"important",max:9},i):null))))},aL=(0,a("ecnYn").xcss)({marginBottom:"space.200"}),aP=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p,m,f,g,E,b,_,y,v,S,A,C,I=(0,d.c)(60),{titleAndButtons:T,generalAccess:x,specificAccessFacePileRow:k,principalsStager:R,infoMessage:O,hasNavigationLockout:w,onSuggestedUserClick:L,ctaNotifyMessageFooter:P,specificAccessFilter:M,specificAccessTabs:N}=t,{cloudId:U,edition:j}=(0,a("bQm3c").useSessionData)(),{createAnalyticsEvent:B}=(0,a("inPa6").useAnalyticsEvents)();I[0]!==B?(r=e=>{B((0,a("bcPlG").formatEventCallBackPayloadForAtlasKitAnalyticsEvent)(e)).fire()},I[0]=B,I[1]=r):r=I[1];let F=r,G=j===a("d9tcB").ConfluenceEdition.FREE;I[2]!==j?(n=j?.toLowerCase(),I[2]=j,I[3]=n):n=I[3],I[4]!==n?(s={edition:n},I[4]=n,I[5]=s):s=I[5],I[6]!==U||I[7]!==F||I[8]!==G||I[9]!==s?(i={featureId:a("dzImV").FEATURE_ID_USD_MODAL,tenantId:U,sendOperationalEvent:F,sendTrackEvent:F,skip:G,extraAnalyticsAttributes:s},I[6]=U,I[7]=F,I[8]=G,I[9]=s,I[10]=i):i=I[10];let{canRenderTreatment:V}=(0,a("1vRwc").useInTrialFeatureGatesExperimentEnrollmentAB)(i);I[11]!==P?.natureOfCta?(o=()=>(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?P?.natureOfCta==="none"?"space.200":"space.0":"space.200",I[11]=P?.natureOfCta,I[12]=o):o=I[12];let q=o;I[13]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment"),I[13]=l):l=I[13];let{requests:K,refetchAccessRequest:z}=(0,a("6SeRB").useAccessRequests)("cache-and-network","shareAndRestrictHeader",!l),W=!!N;I[14]!==z||I[15]!==W||I[16]!==T?(c={titleAndButtons:T,isSpecificAccessTabOpen:W,refetchAccessRequest:z},I[14]=z,I[15]=W,I[16]=T,I[17]=c):c=I[17];let Y=tz(c),Q=q(),$=P&&"none"!==P.natureOfCta&&aL;return I[18]!==Y?(p=e(u).createElement(tv,Y),I[18]=Y,I[19]=p):p=I[19],I[20]!==$||I[21]!==p?(m=e(u).createElement(a("6f0Oj").default,{xcss:$},p),I[20]=$,I[21]=p,I[22]=m):m=I[22],I[23]!==L||I[24]!==R?(f=R&&e(u).createElement(ta,{...R,onSuggestedUserClick:L}),I[23]=L,I[24]=R,I[25]=f):f=I[25],I[26]!==z||I[27]!==K||I[28]!==N?(g=N&&e(u).createElement(aw,{...N,requests:K,refetchAccessRequest:z}),I[26]=z,I[27]=K,I[28]=N,I[29]=g):g=I[29],I[30]!==M?(E=M&&e(u).createElement(aR,M),I[30]=M,I[31]=E):E=I[31],I[32]!==O?(b=O&&e(u).createElement(tK,O),I[32]=O,I[33]=b):b=I[33],I[34]!==V||I[35]!==U||I[36]!==j||I[37]!==F?(_=V&&j&&e(u).createElement(a("lisqg").InTrialFeatureGatesBannerWithData,{featureId:a("dzImV").FEATURE_ID_USD_MODAL,edition:j.toLowerCase(),tenantId:U,sendOperationalEvent:F,sendTrackEvent:F,sendScreenEvent:F}),I[34]=V,I[35]=U,I[36]=j,I[37]=F,I[38]=_):_=I[38],I[39]!==P?(y=P&&e(u).createElement(D,P),I[39]=P,I[40]=y):y=I[40],I[41]!==x||I[42]!==k?(v=x&&e(u).createElement(H,{...x,showBottomPadding:!k}),I[41]=x,I[42]=k,I[43]=v):v=I[43],I[44]!==k?(S=k&&e(u).createElement(aT,k),I[44]=k,I[45]=S):S=I[45],I[46]!==w?(A=w&&e(u).createElement(h.NavigationLockout,null),I[46]=w,I[47]=A):A=I[47],I[48]!==Q||I[49]!==m||I[50]!==f||I[51]!==g||I[52]!==E||I[53]!==b||I[54]!==_||I[55]!==y||I[56]!==v||I[57]!==S||I[58]!==A?(C=e(u).createElement(a("eyWa4").default,{grow:"fill",space:Q},m,f,g,E,b,_,y,v,S,A),I[48]=Q,I[49]=m,I[50]=f,I[51]=g,I[52]=E,I[53]=b,I[54]=_,I[55]=y,I[56]=v,I[57]=S,I[58]=A,I[59]=C):C=I[59],C}:({titleAndButtons:t,generalAccess:r,specificAccessFacePileRow:n,principalsStager:s,infoMessage:i,hasNavigationLockout:o,onSuggestedUserClick:l,ctaNotifyMessageFooter:c,specificAccessFilter:d,specificAccessTabs:p})=>{let{cloudId:m,edition:f}=(0,a("bQm3c").useSessionData)(),{createAnalyticsEvent:g}=(0,a("inPa6").useAnalyticsEvents)(),E=(0,u.useCallback)(e=>{g((0,a("bcPlG").formatEventCallBackPayloadForAtlasKitAnalyticsEvent)(e)).fire()},[g]),{canRenderTreatment:b}=(0,a("1vRwc").useInTrialFeatureGatesExperimentEnrollmentAB)({featureId:a("dzImV").FEATURE_ID_USD_MODAL,tenantId:m,sendOperationalEvent:E,sendTrackEvent:E,skip:f===a("d9tcB").ConfluenceEdition.FREE,extraAnalyticsAttributes:{edition:f?.toLowerCase()}}),{requests:_,refetchAccessRequest:y}=(0,a("6SeRB").useAccessRequests)("cache-and-network","shareAndRestrictHeader",!(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")),v=tz({titleAndButtons:t,isSpecificAccessTabOpen:!!p,refetchAccessRequest:y});return e(u).createElement(a("eyWa4").default,{grow:"fill",space:(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?c?.natureOfCta==="none"?"space.200":"space.0":"space.200"},e(u).createElement(a("6f0Oj").default,{xcss:c&&"none"!==c.natureOfCta&&aL},e(u).createElement(tv,v)),s&&e(u).createElement(ta,{...s,onSuggestedUserClick:l}),p&&e(u).createElement(aw,{...p,requests:_,refetchAccessRequest:y}),d&&e(u).createElement(aR,d),i&&e(u).createElement(tK,i),b&&f&&e(u).createElement(a("lisqg").InTrialFeatureGatesBannerWithData,{featureId:a("dzImV").FEATURE_ID_USD_MODAL,edition:f.toLowerCase(),tenantId:m,sendOperationalEvent:E,sendTrackEvent:E,sendScreenEvent:E}),c&&e(u).createElement(D,c),r&&e(u).createElement(H,{...r,showBottomPadding:!n}),n&&e(u).createElement(aT,n),o&&e(u).createElement(h.NavigationLockout,null))},aD=(0,a("cgtv4").defineMessages)({deletedGroup:{id:"share-and-restrict-dialog.makeBodyProps.avatarGroupData.deletedGroup",defaultMessage:"This group was deleted"},deletedGroupOrTeam:{id:"share-and-restrict-dialog.makeBodyProps.avatarGroupData.deletedGroupOrTeam",defaultMessage:"This group or team was deleted"}}),aM=(0,a("ecnYn").xcss)({overflowWrap:"anywhere"}),aN=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o=(0,d.c)(6),{formatMessage:l}=(0,a("8C5kA").default)();return o[0]===Symbol.for("react.memo_cache_sentinel")?(r=e(u).createElement(a("lE8sM").default,{label:"",size:"32",appearance:"gray",shape:"circle",icon:e(a("lebfc"))}),o[0]=r):r=o[0],o[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?aD.deletedGroupOrTeam:aD.deletedGroup,o[1]=n):n=o[1],o[2]!==l?(s=l(n),o[2]=l,o[3]=s):s=o[3],o[4]!==s?(i=e(u).createElement(a("dcJ7R").default,{space:"space.150",alignBlock:"center"},r,e(u).createElement(a("1GzhS").default,null,e(u).createElement(a("1GzhS").default,{xcss:aM},e(u).createElement(a("dcJ7R").default,null,e(u).createElement(a("5dK2X").default,null,s))))),o[4]=s,o[5]=i):i=o[5],i}:({})=>{let{formatMessage:t}=(0,a("8C5kA").default)();return e(u).createElement(a("dcJ7R").default,{space:"space.150",alignBlock:"center"},e(u).createElement(a("lE8sM").default,{label:"",size:"32",appearance:"gray",shape:"circle",icon:e(a("lebfc"))}),e(u).createElement(a("1GzhS").default,null,e(u).createElement(a("1GzhS").default,{xcss:aM},e(u).createElement(a("dcJ7R").default,null,e(u).createElement(a("5dK2X").default,null,t((0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?aD.deletedGroupOrTeam:aD.deletedGroup))))))};var aU=a("j1Ss3"),aj=a("gvWVt"),aB=((s={}).ANONYMOUS="ANONYMOUS",s.APP="APP",s.EXTERNAL="EXTERNAL",s.INTERNAL="INTERNAL",s.JSD="JSD",s);let aF=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s=(0,d.c)(3),{warningMessage:i}=t;return s[0]===Symbol.for("react.memo_cache_sentinel")?(r=e(u).createElement(e(a("ebrpi")),{label:"",color:"var(--ds-icon-warning, #E06C00)",spacing:"spacious",size:"small"}),s[0]=r):r=s[0],s[1]!==i?(n=e(u).createElement(a("u9agA").default,{alignBlock:"center"},r,e(u).createElement(a("iXCQx").default,{size:"small",color:"color.text.subtlest"},i)),s[1]=i,s[2]=n):n=s[2],n}:({warningMessage:t})=>e(u).createElement(a("u9agA").default,{alignBlock:"center"},e(u).createElement(e(a("ebrpi")),{label:"",color:"var(--ds-icon-warning, #E06C00)",spacing:"spacious",size:"small"}),e(u).createElement(a("iXCQx").default,{size:"small",color:"color.text.subtlest"},t)),aG=(0,a("cgtv4").defineMessages)({draftAccessWarningMessage:{id:"share-and-restrict-dialog.principal-details-warning.draft-access-warning",defaultMessage:"Needs â€œCan editâ€ to view this draft"}}),aV=(0,c.isReactCompilerActiveV1)()?()=>{let t,r=(0,d.c)(1);return r[0]===Symbol.for("react.memo_cache_sentinel")?(t=e(u).createElement(a("gtD4K").default,aG.draftAccessWarningMessage),r[0]=t):t=r[0],t}:()=>e(u).createElement(a("gtD4K").default,aG.draftAccessWarningMessage),aq=(0,a("cgtv4").defineMessages)({parentAccessWarningMessage:{id:"share-and-restrict-dialog.principal-details-warning.principal-details-warning.no-ancestor-permission",defaultMessage:"Needs access to a <parentLink>parent</parentLink> first."}}),aK=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s=(0,d.c)(4),{parentLink:i}=t;s[0]!==i?(r=t=>{let{base:r,webui:n}=i||{};if(!r||!n)return t;let s=`${r}${n}`;return a("1NBp8").FOLDER_VIEW.match(s)&&(s+="?referrer=share-and-restrict-dialog"),e(u).createElement(a("2Nwuj").default,{href:s,appearance:"default",target:"_blank"},t)},s[0]=i,s[1]=r):r=s[1];let o=r;return s[2]!==o?(n=e(u).createElement(a("gtD4K").default,{...aq.parentAccessWarningMessage,values:{parentLink:e=>o(e)}}),s[2]=o,s[3]=n):n=s[3],n}:({parentLink:t})=>{let r=r=>{let{base:n,webui:s}=t||{};if(!n||!s)return r;let i=`${n}${s}`;return a("1NBp8").FOLDER_VIEW.match(i)&&(i+="?referrer=share-and-restrict-dialog"),e(u).createElement(a("2Nwuj").default,{href:i,appearance:"default",target:"_blank"},r)};return e(u).createElement(a("gtD4K").default,{...aq.parentAccessWarningMessage,values:{parentLink:e=>r(e)}})},aH=(0,a("cgtv4").defineMessages)({pendingSiteAccessWarningMessage:{id:"share-and-restrict-dialog.principal-details-warning.principal-details-warning.pending-site-access-warning",defaultMessage:"Product access pending by admin."}}),az=(0,c.isReactCompilerActiveV1)()?()=>{let t,r=(0,d.c)(1);return r[0]===Symbol.for("react.memo_cache_sentinel")?(t=e(u).createElement(a("gtD4K").default,aH.pendingSiteAccessWarningMessage),r[0]=t):t=r[0],t}:()=>e(u).createElement(a("gtD4K").default,aH.pendingSiteAccessWarningMessage),aW=(0,a("eSUdr").default)`query SpaceAccessWarningSpecificAccessSpaceAdminListQuery($spaceKey:String!){space(key:$spaceKey){admins(accountType:ATLASSIAN){displayName profilePicture{path}type ...on KnownUser{accountId accountType email}}id}}`,aY=(0,a("cgtv4").defineMessages)({spaceAccessWarningMessage:{id:"share-and-restrict-dialog.principal-details-warning.no-space-permission",defaultMessage:"Needs access to space first. Contact a <spaceAdmin>space admin</spaceAdmin>."},spaceAccessEditWarningMessage:{id:"share-and-restrict-dialog.principal-details-warning.no-space-edit-permission",defaultMessage:"Needs edit access to space first. Contact a <spaceAdmin>space admin</spaceAdmin>."},noSpaceAdminMessage:{id:"share-and-restrict-dialog.principal-details-warning.no-space-admin",defaultMessage:"This space doesnâ€™t currently have a space admin assigned."}}),aQ=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p,m,f,g=(0,d.c)(31),{accessWarning:h}=t,[E]=(0,a("ep3mz").usePageSpaceKey)(),[b,_]=(0,aU.useLazyQuery)(aW),{data:y,loading:v}=_;if(g[0]!==h||g[1]!==y||g[2]!==b||g[3]!==v||g[4]!==E){let t,d=function(e){return(e?.space?.admins||[]).filter(a$)}(y);g[13]!==b||g[14]!==E?(t=e=>{let{isOpen:t}=e;t&&E&&b({variables:{spaceKey:E}})},g[13]=b,g[14]=E,g[15]=t):t=g[15];let m=t,f="space-edit-access-warning"===h?aY.spaceAccessEditWarningMessage:aY.spaceAccessWarningMessage;n=a("52EPl").default,i="bottom",o=!1,g[16]!==m?(l=e=>{let{isOpen:t}=e;return m({isOpen:t})},g[16]=m,g[17]=l):l=g[17],g[18]!==f?(c=t=>{let{triggerRef:r,onClick:n,...s}=t;return e(u).createElement(a("gtD4K").default,{...f,values:{spaceAdmin:t=>e(u).createElement(a("gdv5Z").default,{as:"span",ref:r,...s},e(u).createElement(a("bYWO7").PressableLink,{showUnderline:!0,fontSize:"small",onClick:n},t))}})},g[18]=f,g[19]=c):c=g[19],p=v,r=a("ahaN7").default,s=d.length<1?e(u).createElement(a("dAYOx").default,{isDisabled:!0},e(u).createElement(a("iXCQx").default,{color:"color.text"},e(u).createElement(a("gtD4K").default,aY.noSpaceAdminMessage))):d.map(aX),g[0]=h,g[1]=y,g[2]=b,g[3]=v,g[4]=E,g[5]=r,g[6]=n,g[7]=s,g[8]=i,g[9]=o,g[10]=l,g[11]=c,g[12]=p}else r=g[5],n=g[6],s=g[7],i=g[8],o=g[9],l=g[10],c=g[11],p=g[12];return g[20]!==r||g[21]!==s?(m=e(u).createElement(r,null,s),g[20]=r,g[21]=s,g[22]=m):m=g[22],g[23]!==n||g[24]!==i||g[25]!==o||g[26]!==l||g[27]!==c||g[28]!==p||g[29]!==m?(f=e(u).createElement(n,{placement:i,shouldFlip:o,onOpenChange:l,trigger:c,isLoading:p},m),g[23]=n,g[24]=i,g[25]=o,g[26]=l,g[27]=c,g[28]=p,g[29]=m,g[30]=f):f=g[30],f}:({accessWarning:t})=>{let[r]=(0,a("ep3mz").usePageSpaceKey)(),[n,{data:s,loading:i}]=(0,aU.useLazyQuery)(aW),o=(s?.space?.admins||[]).filter(e=>e&&"accountId"in e),l=({isOpen:e})=>{e&&r&&n({variables:{spaceKey:r}})},c="space-edit-access-warning"===t?aY.spaceAccessEditWarningMessage:aY.spaceAccessWarningMessage;return e(u).createElement(a("52EPl").default,{placement:"bottom",shouldFlip:!1,onOpenChange:({isOpen:e})=>l({isOpen:e}),trigger:({triggerRef:t,onClick:r,...n})=>e(u).createElement(a("gtD4K").default,{...c,values:{spaceAdmin:s=>e(u).createElement(a("gdv5Z").default,{as:"span",ref:t,...n},e(u).createElement(a("bYWO7").PressableLink,{showUnderline:!0,fontSize:"small",onClick:r},s))}}),isLoading:i},e(u).createElement(a("ahaN7").default,null,o.length<1?e(u).createElement(a("dAYOx").default,{isDisabled:!0},e(u).createElement(a("iXCQx").default,{color:"color.text"},e(u).createElement(a("gtD4K").default,aY.noSpaceAdminMessage))):o.map(t=>{if(t&&"accountId"in t)return e(u).createElement(a("dAYOx").default,{target:"_blank",key:t.accountId,href:(0,a("4qzKl").getAtlassianPeopleProfileUrl)(t.accountId),elemBefore:e(u).createElement(a("esRft").default,{src:t?.profilePicture?.path,size:"small"})},t.displayName)})))};function a$(e){return e&&"accountId"in e}function aX(t){if(t&&"accountId"in t)return e(u).createElement(a("dAYOx").default,{target:"_blank",key:t.accountId,href:(0,a("4qzKl").getAtlassianPeopleProfileUrl)(t.accountId),elemBefore:e(u).createElement(a("esRft").default,{src:t?.profilePicture?.path,size:"small"})},t.displayName)}let aJ=(0,a("eSUdr").default)`query UserDetailsPrincipalDetailsKnownErrorsQuery($accountId:String$contentId:ID){userWithContentRestrictions(accountId:$accountId contentId:$contentId){hasSpaceEditPermission hasSpaceViewPermission restrictingContent{id links{webui base}}}}`,aZ=(0,a("cgtv4").defineMessages)({isYouText:{id:"share-and-restrict-dialog.principal-details.you-text",defaultMessage:"(You)"}}),a0=(0,a("ecnYn").xcss)({paddingLeft:"space.100"}),a1=(0,a("ecnYn").xcss)({overflowWrap:"anywhere"}),a2=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p,m,g,h,E,b,_,y,v,S=(0,d.c)(56),{id:A,avatarUrl:C,name:I,email:T,knownErrors:x,sitePermissionType:k,isYou:R,role:O,updateKnownErrors:w,isDraft:L}=t,{createAnalyticsEvent:P}=(0,a("inPa6").useAnalyticsEvents)(),{formatMessage:D}=(0,a("8C5kA").default)(),[M]=(0,a("ep3mz").usePageContentId)(),N=void 0!==x||R;S[0]!==M||S[1]!==A?(r={accountId:A,contentId:M},S[0]=M,S[1]=A,S[2]=r):r=S[2],S[3]!==N||S[4]!==r?(n={skip:N,variables:r,fetchPolicy:"network-only"},S[3]=N,S[4]=r,S[5]=n):n=S[5];let{data:U,loading:j,error:B}=(0,aU.useQuery)(aJ,n);S[6]!==P||S[7]!==B?(s=()=>{B&&((0,a("7Sm4c").markErrorAsHandled)(B),P({type:"sendOperationalEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"errored",actionSubject:"principalDetailsQuery",attributes:{message:B?.message,name:B?.name,stack:B?.stack,cause:B?.cause}}}).fire())},i=[P,B],S[6]=P,S[7]=B,S[8]=s,S[9]=i):(s=S[8],i=S[9]),(0,u.useEffect)(s,i),S[10]!==U||S[11]!==A||S[12]!==x||S[13]!==w?(o=function(){if(x)return x;if(U){let{userWithContentRestrictions:e}=U,{hasSpaceEditPermission:t,hasSpaceViewPermission:r,restrictingContent:n}=e||{},s=(0,a("1fjr9").getKnownErrors)({hasSpaceEditPermission:void 0===t?null:t,hasSpaceViewPermission:void 0===r?null:r,restrictingContent:void 0===n?null:n});return s&&w&&w(A,s),s}}(),S[10]=U,S[11]=A,S[12]=x,S[13]=w,S[14]=o):o=S[14];let F=o;e:{let t;if(F?.accessWarning==="parent-access-warning"){let t;S[15]!==F.accessWarning||S[16]!==F.parentLink?(t=[!0,e(u).createElement(aK,{key:F.accessWarning,parentLink:F.parentLink})],S[15]=F.accessWarning,S[16]=F.parentLink,S[17]=t):t=S[17],l=t;break e}if(F?.accessWarning==="space-view-access-warning"){let t;S[18]!==F.accessWarning?(t=[!0,e(u).createElement(aQ,{key:F.accessWarning,accessWarning:"space-view-access-warning"})],S[18]=F.accessWarning,S[19]=t):t=S[19],l=t;break e}if(F?.accessWarning==="space-edit-access-warning"&&"can-view"!==O){let t;S[20]!==F.accessWarning?(t=[!0,e(u).createElement(aQ,{key:F.accessWarning,accessWarning:"space-edit-access-warning"})],S[20]=F.accessWarning,S[21]=t):t=S[21],l=t;break e}if(F?.accessWarning==="pending-site-access-warning"){let t;S[22]!==F.accessWarning?(t=[!0,e(u).createElement(az,{key:F.accessWarning})],S[22]=F.accessWarning,S[23]=t):t=S[23],l=t;break e}if(L&&"can-edit"!==O){let t;S[24]===Symbol.for("react.memo_cache_sentinel")?(t=[!0,e(u).createElement(aV,{key:"draft-edit-access-warning"})],S[24]=t):t=S[24],l=t;break e}S[25]===Symbol.for("react.memo_cache_sentinel")?(t=[!1,null],S[25]=t):t=S[25],l=t}let[G,V]=l;S[26]!==C||S[27]!==G?(c=e(u).createElement(a("esRft").default,{src:C,isDisabled:G}),S[26]=C,S[27]=G,S[28]=c):c=S[28];let q=G?"color.text.subtlest":"color.text";return S[29]!==D||S[30]!==R?(p=R&&` ${D(aZ.isYouText)}`,S[29]=D,S[30]=R,S[31]=p):p=S[31],S[32]!==I||S[33]!==p||S[34]!==q?(m=e(u).createElement(a("5dK2X").default,{color:q},I,p),S[32]=I,S[33]=p,S[34]=q,S[35]=m):m=S[35],S[36]!==k?(g=k===aB.EXTERNAL&&e(u).createElement(a("6f0Oj").default,{xcss:a0},e(u).createElement(aj.ExternalCollaboratorUserLozenge,null)),S[36]=k,S[37]=g):g=S[37],S[38]!==m||S[39]!==g?(h=e(u).createElement(a("dcJ7R").default,null,m,g),S[38]=m,S[39]=g,S[40]=h):h=S[40],S[41]!==T?(E=e(u).createElement(a("5dK2X").default,{size:"small",color:"color.text.subtlest"},T),S[41]=T,S[42]=E):E=S[42],S[43]!==h||S[44]!==E?(b=e(u).createElement(a("1GzhS").default,{xcss:a1},h,E),S[43]=h,S[44]=E,S[45]=b):b=S[45],S[46]!==j||S[47]!==G||S[48]!==V?(_=G&&!j&&V&&e(u).createElement(aF,{warningMessage:V}),S[46]=j,S[47]=G,S[48]=V,S[49]=_):_=S[49],S[50]!==b||S[51]!==_?(y=e(u).createElement(a("1GzhS").default,null,b,_),S[50]=b,S[51]=_,S[52]=y):y=S[52],S[53]!==y||S[54]!==c?(v=e(u).createElement(a("dcJ7R").default,{space:"space.100",alignBlock:"center"},c,y),S[53]=y,S[54]=c,S[55]=v):v=S[55],v}:({id:t,avatarUrl:r,name:n,email:s,knownErrors:i,sitePermissionType:o,isYou:l,role:c,updateKnownErrors:d,isDraft:p})=>{let{createAnalyticsEvent:m}=(0,a("inPa6").useAnalyticsEvents)(),{formatMessage:g}=(0,a("8C5kA").default)(),[h]=(0,a("ep3mz").usePageContentId)(),{data:E,loading:b,error:_}=(0,aU.useQuery)(aJ,{skip:void 0!==i||l,variables:{accountId:t,contentId:h},fetchPolicy:"network-only"});(0,u.useEffect)(()=>{_&&((0,a("7Sm4c").markErrorAsHandled)(_),m({type:"sendOperationalEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"errored",actionSubject:"principalDetailsQuery",attributes:{message:_?.message,name:_?.name,stack:_?.stack,cause:_?.cause}}}).fire())},[m,_]);let y=function(){if(i)return i;if(E){let{userWithContentRestrictions:e}=E,{hasSpaceEditPermission:r=null,hasSpaceViewPermission:n=null,restrictingContent:s=null}=e||{},i=(0,a("1fjr9").getKnownErrors)({hasSpaceEditPermission:r,hasSpaceViewPermission:n,restrictingContent:s});return i&&d&&d(t,i),i}}(),[v,S]=y?.accessWarning==="parent-access-warning"?[!0,e(u).createElement(aK,{key:y.accessWarning,parentLink:y.parentLink})]:y?.accessWarning==="space-view-access-warning"?[!0,e(u).createElement(aQ,{key:y.accessWarning,accessWarning:"space-view-access-warning"})]:y?.accessWarning==="space-edit-access-warning"&&"can-view"!==c?[!0,e(u).createElement(aQ,{key:y.accessWarning,accessWarning:"space-edit-access-warning"})]:y?.accessWarning==="pending-site-access-warning"?[!0,e(u).createElement(az,{key:y.accessWarning})]:p&&"can-edit"!==c?[!0,e(u).createElement(aV,{key:"draft-edit-access-warning"})]:[!1,null];return e(u).createElement(a("dcJ7R").default,{space:"space.100",alignBlock:"center"},e(u).createElement(a("esRft").default,{src:r,isDisabled:v}),e(u).createElement(a("1GzhS").default,null,e(u).createElement(a("1GzhS").default,{xcss:a1},e(u).createElement(a("dcJ7R").default,null,e(u).createElement(a("5dK2X").default,{color:v?"color.text.subtlest":"color.text"},n,l&&` ${g(aZ.isYouText)}`),o===aB.EXTERNAL&&e(u).createElement(a("6f0Oj").default,{xcss:a0},e(u).createElement(aj.ExternalCollaboratorUserLozenge,null))),e(u).createElement(a("5dK2X").default,{size:"small",color:"color.text.subtlest"},s)),v&&!b&&S&&e(u).createElement(aF,{warningMessage:S})))},a3=(0,a("cgtv4").defineMessages)({groupText:{id:"share-and-restrict-dialog.principal-details.group-text",defaultMessage:"Group"},adminGroupText:{id:"share-and-restrict-dialog.principal-details.admin-group-text",defaultMessage:"Admin group"},teamText:{id:"share-and-restrict-dialog.principal-details.team-text",defaultMessage:"Team"},officialTeamText:{id:"share-and-restrict-dialog.principal-details.official-team-text",defaultMessage:"Official team"},membersCount:{id:"share-and-restrict-dialog.principal-details.members-count.one-person",defaultMessage:"{count, plural, one { â€¢ 1 member} other { â€¢ {count} members}}"},verifiedTeamToolTip:{id:"share-and-restrict-dialog.principal-details.verified-team-tool-tip",defaultMessage:"This team is verified because it is controlled by an organization admin."}}),a4=(0,a("ecnYn").xcss)({overflowWrap:"anywhere"}),a6=(0,a("ecnYn").xcss)({borderRadius:"radius.full",width:"36px",height:"36px",backgroundColor:"color.background.neutral",display:"flex",justifyContent:"center",alignItems:"center",flexShrink:0,marginTop:"space.0"}),a5=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l=(0,d.c)(16),{name:c,usageType:p,type:m,memberCount:f,isVerified:g,avatarSrc:h}=t,{formatMessage:E}=(0,a("8C5kA").default)(),b="TEAM_COLLABORATION"===p||"team"===m;return l[0]!==h||l[1]!==b?(r=e(u).createElement(a("6f0Oj").default,{xcss:a6},b&&h&&(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?e(u).createElement(a("esRft").default,{appearance:"square",src:h}):e(u).createElement(a("lE8sM").default,{label:"",size:"32",appearance:"gray",shape:"circle",icon:e(a("lebfc"))})),l[0]=h,l[1]=b,l[2]=r):r=l[2],l[3]!==c?(n=e(u).createElement(a("dcJ7R").default,{space:"space.100",alignBlock:"center"},c),l[3]=c,l[4]=n):n=l[4],l[5]!==E||l[6]!==b||l[7]!==g||l[8]!==f?(s=b&&(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?e(u).createElement(a("dcJ7R").default,{space:"space.050",alignBlock:"center",testId:"team-details-subtext"},e(u).createElement(a("5dK2X").default,{size:"small",color:"color.text.subtlest"},E(g?a3.officialTeamText:a3.teamText)),g&&e(u).createElement(a("3gadb").default,{content:E(a3.verifiedTeamToolTip),position:"right",hideTooltipOnMouseDown:!0,ignoreTooltipPointerEvents:!0,delay:100},e(u).createElement(e(a("bh5s2")),{label:"",size:"small",color:"var(--ds-icon-accent-blue, #357DE8)"})),e(u).createElement(a("5dK2X").default,{size:"small",color:"color.text.subtlest"},E(a3.membersCount,{count:f}))):e(u).createElement(a("dcJ7R").default,{space:"space.050",alignBlock:"center",testId:"group-details-subtext"},e(u).createElement(a("5dK2X").default,{size:"small",color:"color.text.subtlest"},E((0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?a3.adminGroupText:a3.groupText)),e(u).createElement(e(a("bh5s2")),{label:"",size:"small",color:"var(--ds-icon-accent-blue, #357DE8)"}),e(u).createElement(a("5dK2X").default,{size:"small",color:"color.text.subtlest"},(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?E(a3.membersCount,{count:f}):"")),l[5]=E,l[6]=b,l[7]=g,l[8]=f,l[9]=s):s=l[9],l[10]!==n||l[11]!==s?(i=e(u).createElement(a("1GzhS").default,{xcss:a4},n,s),l[10]=n,l[11]=s,l[12]=i):i=l[12],l[13]!==r||l[14]!==i?(o=e(u).createElement(a("dcJ7R").default,{space:"space.100",alignBlock:"center"},r,i),l[13]=r,l[14]=i,l[15]=o):o=l[15],o}:({name:t,usageType:r,type:n,memberCount:s,isVerified:i,avatarSrc:o})=>{let{formatMessage:l}=(0,a("8C5kA").default)(),c="TEAM_COLLABORATION"===r||"team"===n;return e(u).createElement(a("dcJ7R").default,{space:"space.100",alignBlock:"center"},e(u).createElement(a("6f0Oj").default,{xcss:a6},c&&o&&(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?e(u).createElement(a("esRft").default,{appearance:"square",src:o}):e(u).createElement(a("lE8sM").default,{label:"",size:"32",appearance:"gray",shape:"circle",icon:e(a("lebfc"))})),e(u).createElement(a("1GzhS").default,{xcss:a4},e(u).createElement(a("dcJ7R").default,{space:"space.100",alignBlock:"center"},t),c&&(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?e(u).createElement(a("dcJ7R").default,{space:"space.050",alignBlock:"center",testId:"team-details-subtext"},e(u).createElement(a("5dK2X").default,{size:"small",color:"color.text.subtlest"},l(i?a3.officialTeamText:a3.teamText)),i&&e(u).createElement(a("3gadb").default,{content:l(a3.verifiedTeamToolTip),position:"right",hideTooltipOnMouseDown:!0,ignoreTooltipPointerEvents:!0,delay:100},e(u).createElement(e(a("bh5s2")),{label:"",size:"small",color:"var(--ds-icon-accent-blue, #357DE8)"})),e(u).createElement(a("5dK2X").default,{size:"small",color:"color.text.subtlest"},l(a3.membersCount,{count:s}))):e(u).createElement(a("dcJ7R").default,{space:"space.050",alignBlock:"center",testId:"group-details-subtext"},e(u).createElement(a("5dK2X").default,{size:"small",color:"color.text.subtlest"},l((0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?a3.adminGroupText:a3.groupText)),e(u).createElement(e(a("bh5s2")),{label:"",size:"small",color:"var(--ds-icon-accent-blue, #357DE8)"}),e(u).createElement(a("5dK2X").default,{size:"small",color:"color.text.subtlest"},(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?l(a3.membersCount,{count:s}):""))))},a9=(0,c.isReactCompilerActiveV1)()?t=>{let a,r,n=(0,d.c)(12),{principal:s,isYou:i,updateKnownErrors:o,role:l,isDraft:c,shouldShowDeletedGroupDetails:p}=t;if(n[0]!==s?({type:a,...r}=s,n[0]=s,n[1]=a,n[2]=r):(a=n[1],r=n[2]),p){let t;return n[3]===Symbol.for("react.memo_cache_sentinel")?(t=e(u).createElement(aN,null),n[3]=t):t=n[3],t}if("user"===a){let t,a=r;return n[4]!==c||n[5]!==i||n[6]!==l||n[7]!==a||n[8]!==o?(t=e(u).createElement(a2,{...a,isYou:i,updateKnownErrors:o,role:l,isDraft:c}),n[4]=c,n[5]=i,n[6]=l,n[7]=a,n[8]=o,n[9]=t):t=n[9],t}{let t,a=r;return n[10]!==a?(t=e(u).createElement(a5,a),n[10]=a,n[11]=t):t=n[11],t}}:({principal:{type:t,...a},isYou:r,updateKnownErrors:n,role:s,isDraft:i,shouldShowDeletedGroupDetails:o})=>o?e(u).createElement(aN,null):"user"===t?e(u).createElement(a2,{...a,isYou:r,updateKnownErrors:n,role:s,isDraft:i}):e(u).createElement(a5,a),a8=(0,a("cgtv4").defineMessages)({inheritedRestrictionText:{id:"share-and-restrict-dialog.principal-access.inherited-restrictions",defaultMessage:"Everyone on the parent can already view"},noInheritedRestrictionText:{id:"share-and-restrict-dialog.principal-access.no-inherited-restrictions",defaultMessage:"Everyone in this space can already view"},canViewAccessText:{id:"share-and-restrict-dialog.principal-access.can-view-access",defaultMessage:"Can view"},canEditAccessText:{id:"share-and-restrict-dialog.principal-access.can-edit-access",defaultMessage:"Can edit"},removeAccessText:{id:"share-and-restrict-dialog.principal-access.remove-access",defaultMessage:"Remove"},noAccessText:{id:"share-and-restrict-dialog.principal-access.no-access",defaultMessage:"No access"}}),a7=(0,a("ecnYn").xcss)({whiteSpace:"nowrap"}),re=(0,a("ecnYn").xcss)({height:"24px"}),rt=(0,a("ecnYn").xcss)({font:"font.body.small"}),ra=(0,a("ecnYn").xcss)({width:"auto"}),rr=(0,a("ecnYn").xcss)({paddingInline:"space.100",whiteSpace:"nowrap"}),rn=(0,a("ecnYn").xcss)({flexShrink:0}),rs=(e,t,a,r,n)=>a&&"can-view"!==r?[{label:n(a8.canEditAccessText),value:"can-edit"},{label:n(a8.removeAccessText),value:"remove"}]:[{label:n(a8.canViewAccessText),value:"can-view",isDisabled:e,toolTipDescription:n(t?a8.inheritedRestrictionText:a8.noInheritedRestrictionText)},{label:n(a8.canEditAccessText),value:"can-edit"},{label:n(a8.removeAccessText),value:"remove"}],ri=e=>"can-view"===e?a8.canViewAccessText:"can-edit"===e?a8.canEditAccessText:a8.noAccessText,ro=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s=(0,d.c)(4),{access:i}=t;return s[0]!==i?(r=ri(i),s[0]=i,s[1]=r):r=s[1],s[2]!==r?(n=e(u).createElement(a("6f0Oj").default,{xcss:rr},e(u).createElement(a("gtD4K").default,r)),s[2]=r,s[3]=n):n=s[3],n}:({access:t})=>e(u).createElement(a("6f0Oj").default,{xcss:rr},e(u).createElement(a("gtD4K").default,ri(t))),rl=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p,m,f,g,h,E,b,_,y=(0,d.c)(44),{isLockedOut:v,access:S,isCanViewDisabled:A,hasInheritedRestrictions:C,isUnpublishedDraft:I,onChange:T,onRemove:x,focusRef:k,isSaving:R}=t,{formatMessage:O}=(0,a("8C5kA").default)();if(y[0]!==S||y[1]!==O||y[2]!==C||y[3]!==A||y[4]!==v||y[5]!==R||y[6]!==I){let e,t=rs(A,C,I,S,O);n=rd,r=ru,i=a("6f0Oj").default,g=ra,s=a("2gD2K").default,o="subtle",l="compact",y[18]!==v||y[19]!==R?(c=v||R&&(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment"),y[18]=v,y[19]=R,y[20]=c):c=y[20],p=t,m=!1,y[21]!==S?(e=e=>e.value===S,y[21]=S,y[22]=e):e=y[22],f=t.find(e),y[0]=S,y[1]=O,y[2]=C,y[3]=A,y[4]=v,y[5]=R,y[6]=I,y[7]=r,y[8]=n,y[9]=s,y[10]=i,y[11]=o,y[12]=l,y[13]=c,y[14]=p,y[15]=m,y[16]=f,y[17]=g}else r=y[7],n=y[8],s=y[9],i=y[10],o=y[11],l=y[12],c=y[13],p=y[14],m=y[15],f=y[16],g=y[17];return y[23]!==T||y[24]!==x?(h=e=>{e&&("remove"===e.value?x():T(e.value))},y[23]=T,y[24]=x,y[25]=h):h=y[25],y[26]!==r||y[27]!==n?(E={SingleValue:n,Option:r},y[26]=r,y[27]=n,y[28]=E):E=y[28],y[29]!==s||y[30]!==k||y[31]!==o||y[32]!==l||y[33]!==c||y[34]!==p||y[35]!==m||y[36]!==f||y[37]!==h||y[38]!==E?(b=e(u).createElement(s,{appearance:o,spacing:l,isDisabled:c,options:p,isSearchable:m,value:f,menuPosition:"fixed",onChange:h,components:E,ref:k}),y[29]=s,y[30]=k,y[31]=o,y[32]=l,y[33]=c,y[34]=p,y[35]=m,y[36]=f,y[37]=h,y[38]=E,y[39]=b):b=y[39],y[40]!==i||y[41]!==b||y[42]!==g?(_=e(u).createElement(i,{xcss:g},b),y[40]=i,y[41]=b,y[42]=g,y[43]=_):_=y[43],_}:({isLockedOut:t,access:r,isCanViewDisabled:n,hasInheritedRestrictions:s,isUnpublishedDraft:i,onChange:o,onRemove:l,focusRef:c,isSaving:d})=>{let{formatMessage:p}=(0,a("8C5kA").default)(),m=rs(n,s,i,r,p);return e(u).createElement(a("6f0Oj").default,{xcss:ra},e(u).createElement(a("2gD2K").default,{appearance:"subtle",spacing:"compact",isDisabled:t||d&&(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment"),options:m,isSearchable:!1,value:m.find(e=>e.value===r),menuPosition:"fixed",onChange:e=>{e&&("remove"===e.value?l():o(e.value))},components:{SingleValue:t=>e(u).createElement(a("3hOY6").components.SingleValue,t,e(u).createElement(a("5dK2X").default,null,t.data.label)),Option:t=>{let r="Can view"===t.data.label&&t.data.isDisabled;return e(u).createElement(a("3hOY6").components.Option,t,r?e(u).createElement(a("dcJ7R").default,{alignBlock:"center",shouldWrap:!1},e(u).createElement(a("6f0Oj").default,{xcss:a7},t.data.label),e(u).createElement(a("6f0Oj").default,{xcss:re},e(u).createElement(a("3gadb").default,{content:e(u).createElement(a("6f0Oj").default,{xcss:[rt,a7]},t.data.toolTipDescription),position:"right"},e(u).createElement(e(a("eXmBZ")),{label:"edit-icon",spacing:"spacious",color:"var(--ds-icon, #292A2E)"})))):"remove"===t.data.value?e(u).createElement(a("5dK2X").default,{color:"color.text.accent.red"},t.data.label):e(u).createElement(a("5dK2X").default,null,t.data.label))}},ref:c}))},rc=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o=(0,d.c)(8);o[0]!==t?({isEditable:n,edition:r,...s}=t,o[0]=t,o[1]=r,o[2]=n,o[3]=s):(r=o[1],n=o[2],s=o[3]);let l=r===a("euL71").ConfluenceEdition.FREE;return o[4]!==n||o[5]!==l||o[6]!==s?(i=e(u).createElement(a("6f0Oj").default,{xcss:rn},n&&!l?e(u).createElement(rl,s):e(u).createElement(ro,{access:s.access})),o[4]=n,o[5]=l,o[6]=s,o[7]=i):i=o[7],i}:({isEditable:t,edition:r,...n})=>{let s=r===a("euL71").ConfluenceEdition.FREE;return e(u).createElement(a("6f0Oj").default,{xcss:rn},t&&!s?e(u).createElement(rl,n):e(u).createElement(ro,{access:n.access}))};function rd(t){return e(u).createElement(a("3hOY6").components.SingleValue,t,e(u).createElement(a("5dK2X").default,null,t.data.label))}function ru(t){let r="Can view"===t.data.label&&t.data.isDisabled;return e(u).createElement(a("3hOY6").components.Option,t,r?e(u).createElement(a("dcJ7R").default,{alignBlock:"center",shouldWrap:!1},e(u).createElement(a("6f0Oj").default,{xcss:a7},t.data.label),e(u).createElement(a("6f0Oj").default,{xcss:re},e(u).createElement(a("3gadb").default,{content:e(u).createElement(a("6f0Oj").default,{xcss:[rt,a7]},t.data.toolTipDescription),position:"right"},e(u).createElement(e(a("eXmBZ")),{label:"edit-icon",spacing:"spacious",color:"var(--ds-icon, #292A2E)"})))):"remove"===t.data.value?e(u).createElement(a("5dK2X").default,{color:"color.text.accent.red"},t.data.label):e(u).createElement(a("5dK2X").default,null,t.data.label))}let rp=(0,a("ecnYn").xcss)({paddingBlock:"space.100",paddingInline:"space.100",":hover":{background:"var(--ds-surface-hovered, #F0F1F2)"},borderRadius:"radius.small"}),rm=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c=(0,d.c)(27),{principalDetails:p,principalAccess:m,isExpanded:f,isSpecificAccessDialogOpen:g,onExpandClick:h,onOpenSpecificAccessDialog:E}=t;c[0]!==m?(r=e(u).createElement(rc,m),c[0]=m,c[1]=r):r=c[1],c[2]!==f||c[3]!==g||c[4]!==r?(n={isExpanded:f,isSpecificAccessDialogOpen:g,fallbackComponent:r},c[2]=f,c[3]=g,c[4]=r,c[5]=n):n=c[5];let{renderIcon:b}=t0(n);if(!(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")){let t,r,n;return c[6]!==p?(t=e(u).createElement(a9,p),c[6]=p,c[7]=t):t=c[7],c[8]!==m?(r=e(u).createElement(rc,m),c[8]=m,c[9]=r):r=c[9],c[10]!==t||c[11]!==r?(n=e(u).createElement(a("dcJ7R").default,{grow:"fill",spread:"space-between",alignBlock:"center",space:"space.150"},t,r),c[10]=t,c[11]=r,c[12]=n):n=c[12],n}let _=!g&&rp;return c[13]!==p?(s=e(u).createElement(a9,p),c[13]=p,c[14]=s):s=c[14],c[15]!==b?(i=b(),c[15]=b,c[16]=i):i=c[16],c[17]!==_||c[18]!==s||c[19]!==i?(o=e(u).createElement(a("dcJ7R").default,{grow:"fill",spread:"space-between",alignBlock:"center",space:"space.150",xcss:_},s,i),c[17]=_,c[18]=s,c[19]=i,c[20]=o):o=c[20],c[21]!==f||c[22]!==g||c[23]!==h||c[24]!==E||c[25]!==o?(l=e(u).createElement(tQ,{isExpanded:f,onExpandClick:h,onOpenSpecificAccessDialog:E,isSpecificAccessDialogOpen:g},o),c[21]=f,c[22]=g,c[23]=h,c[24]=E,c[25]=o,c[26]=l):l=c[26],l}:({principalDetails:t,principalAccess:r,isExpanded:n,isSpecificAccessDialogOpen:s,onExpandClick:i,onOpenSpecificAccessDialog:o})=>{let{renderIcon:l}=t0({isExpanded:n,isSpecificAccessDialogOpen:s,fallbackComponent:e(u).createElement(rc,r)});return(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?e(u).createElement(tQ,{isExpanded:n,onExpandClick:i,onOpenSpecificAccessDialog:o,isSpecificAccessDialogOpen:s},e(u).createElement(a("dcJ7R").default,{grow:"fill",spread:"space-between",alignBlock:"center",space:"space.150",xcss:!s&&rp},e(u).createElement(a9,t),l())):e(u).createElement(a("dcJ7R").default,{grow:"fill",spread:"space-between",alignBlock:"center",space:"space.150"},e(u).createElement(a9,t),e(u).createElement(rc,r))},rf=(0,a("ecnYn").xcss)({paddingBottom:"space.250",marginBottom:"space.025",paddingLeft:"space.0"}),rg=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p,m,f,g,h,E,b,_,y,v,S,A=(0,d.c)(33),{principals:C}=t;A[0]===Symbol.for("react.memo_cache_sentinel")?(r=new Set,A[0]=r):r=A[0];let[I,T]=(0,u.useState)(r),x=(0,u.useRef)(null);if(A[1]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{x.current&&x.current.focus()},s=[],A[1]=n,A[2]=s):(n=A[1],s=A[2]),(0,u.useEffect)(n,s),A[3]!==I||A[4]!==C){m=Symbol.for("react.early_return_sentinel");e:{let t=C.filter(rh);if(0===t.length){m=null;break e}l=a("1GzhS").default,E="space.100",b="start",_="fill",c=rf,p="ul",o=a("g9Srd").default,h=!0,i=a("bl9WW").default,f=a("4c48T").durations.small,g=t.map((t,r)=>e(u).createElement(a("fT2ta").default,{key:t.key,duration:"medium",entranceDirection:"top",exitDirection:"top",onFinish:()=>{T(e=>(e.add(t.key),e))},isPaused:I.has(t.key)},n=>e(u).createElement(a("6f0Oj").default,{as:"li",...n,style:{listStyle:"none",width:"100%",...n.style}},e(u).createElement(rm,{...t,principalAccess:{...t.principalAccess,focusRef:1===r?x:null}}))))}A[3]=I,A[4]=C,A[5]=i,A[6]=o,A[7]=l,A[8]=c,A[9]=p,A[10]=m,A[11]=f,A[12]=g,A[13]=h,A[14]=E,A[15]=b,A[16]=_}else i=A[5],o=A[6],l=A[7],c=A[8],p=A[9],m=A[10],f=A[11],g=A[12],h=A[13],E=A[14],b=A[15],_=A[16];return m!==Symbol.for("react.early_return_sentinel")?m:(A[17]!==i||A[18]!==f||A[19]!==g?(y=e(u).createElement(i,{delayStep:f},g),A[17]=i,A[18]=f,A[19]=g,A[20]=y):y=A[20],A[21]!==o||A[22]!==y||A[23]!==h?(v=e(u).createElement(o,{appear:h},y),A[21]=o,A[22]=y,A[23]=h,A[24]=v):v=A[24],A[25]!==l||A[26]!==c||A[27]!==p||A[28]!==v||A[29]!==E||A[30]!==b||A[31]!==_?(S=e(u).createElement(l,{space:E,alignInline:b,grow:_,xcss:c,as:p},v),A[25]=l,A[26]=c,A[27]=p,A[28]=v,A[29]=E,A[30]=b,A[31]=_,A[32]=S):S=A[32],S)}:({principals:t})=>{let[r,n]=(0,u.useState)(new Set),s=(0,u.useRef)(null);(0,u.useEffect)(()=>{s.current&&s.current.focus()},[]);let i=t.filter(e=>null!==e);return 0===i.length?null:e(u).createElement(a("1GzhS").default,{space:"space.100",alignInline:"start",grow:"fill",xcss:rf,as:"ul"},e(u).createElement(a("g9Srd").default,{appear:!0},e(u).createElement(a("bl9WW").default,{delayStep:a("4c48T").durations.small},i.map((t,i)=>e(u).createElement(a("fT2ta").default,{key:t.key,duration:"medium",entranceDirection:"top",exitDirection:"top",onFinish:()=>{n(e=>(e.add(t.key),e))},isPaused:r.has(t.key)},r=>e(u).createElement(a("6f0Oj").default,{as:"li",...r,style:{listStyle:"none",width:"100%",...r.style}},e(u).createElement(rm,{...t,principalAccess:{...t.principalAccess,focusRef:1===i?s:null}})))))))};function rh(e){return null!==e}let rE=(0,a("cgtv4").defineMessages)({success:{id:"public-links.usePublicLinkEnablePageMutation.success.title",defaultMessage:"Public link is now on for this content."},errorTitle:{id:"public-links.usePublicLinkEnablePageMutation.error.title",defaultMessage:"We couldnâ€™t turn on the public link."},errorBody:{id:"public-links.usePublicLinkEnablePageMutation.error.body",defaultMessage:"Open the Share and Restrict dialog to check the current status, or to turn on the public link."}}),rb=({pageId:e,onCompleted:t,onError:r,flags:n})=>{let{formatMessage:s}=(0,a("8C5kA").default)(),[i]=(0,a("1KmJq").useMutation)((0,a("eSUdr").default)`mutation usePublicLinkEnablePageMutationPublicLinkEnablePageMutation($pageId:ID!){enablePublicLinkForPage(pageId:$pageId){pageId}}`,{refetchQueries:[{query:a("1IGAH").PublicLinkPageQuery,variables:{pageId:e}}],onCompleted:()=>{n.showFlag({id:"revokeFromRestrictionsFlagId",title:s(rE.success),type:"success-circle",close:"auto"}),t()},onError:e=>{n.showFlag({id:"revokeFromRestrictionsErrorFlagId",title:s(rE.errorTitle),description:s(rE.errorBody),type:"error",close:"auto"}),r(e)}});return{enablePublicLinkForPage:()=>i({variables:{pageId:e}})}},r_=(0,c.isReactCompilerActiveV1)()?()=>{let t,a=(0,d.c)(1);return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=e(u).createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e(u).createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.8837 13.367C19.9601 12.9228 20 12.466 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C12.466 20 12.9228 19.9601 13.367 19.8837C13.1304 19.3023 13 18.6664 13 18C13 17.8036 13.0113 17.6099 13.0333 17.4195C12.9034 17.622 12.7713 17.7875 12.6409 17.9161C12.3763 18.1772 12.1606 18.25 12 18.25C11.8394 18.25 11.6237 18.1772 11.3591 17.9161C11.0913 17.6518 10.8157 17.2321 10.568 16.6543C10.1416 15.6593 9.84191 14.2977 9.76783 12.75L14.2322 12.75C14.1914 13.6024 14.0821 14.3983 13.921 15.1076C14.3759 14.4673 14.9778 13.9386 15.6776 13.5709C15.7028 13.3018 15.7216 13.0278 15.7337 12.75H18.4572C18.4469 12.8397 18.4348 12.9289 18.4208 13.0175C18.9344 13.0603 19.426 13.1807 19.8837 13.367ZM10.568 7.34569C10.1416 8.34074 9.84191 9.70234 9.76783 11.25L14.2322 11.25C14.1581 9.70234 13.8584 8.34074 13.432 7.34569C13.1843 6.7679 12.9087 6.34823 12.6409 6.08391C12.3763 5.82276 12.1606 5.75 12 5.75C11.8394 5.75 11.6237 5.82276 11.3591 6.08391C11.0913 6.34823 10.8157 6.7679 10.568 7.34569ZM15.7337 11.25L18.4572 11.25C18.1804 8.84094 16.5866 6.83252 14.4139 5.96299C14.5588 6.20973 14.6909 6.47541 14.8107 6.75481C15.328 7.96182 15.6587 9.53144 15.7337 11.25ZM5.5428 11.25L8.26628 11.25C8.34127 9.53144 8.67203 7.96182 9.18932 6.75481C9.30907 6.47541 9.44124 6.20974 9.58609 5.96299C7.41342 6.83252 5.81958 8.84094 5.5428 11.25ZM8.26628 12.75H5.5428C5.81958 15.1591 7.41342 17.1675 9.58609 18.037C9.44124 17.7903 9.30906 17.5246 9.18932 17.2452C8.67203 16.0382 8.34127 14.4686 8.26628 12.75Z",fill:"var(--ds-text-subtle, #505258)"}),e(u).createElement("circle",{cx:"18",cy:"18",r:"3",fill:"var(--ds-icon-accent-green, #22A06B)"})),a[0]=t):t=a[0],t}:()=>e(u).createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e(u).createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.8837 13.367C19.9601 12.9228 20 12.466 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C12.466 20 12.9228 19.9601 13.367 19.8837C13.1304 19.3023 13 18.6664 13 18C13 17.8036 13.0113 17.6099 13.0333 17.4195C12.9034 17.622 12.7713 17.7875 12.6409 17.9161C12.3763 18.1772 12.1606 18.25 12 18.25C11.8394 18.25 11.6237 18.1772 11.3591 17.9161C11.0913 17.6518 10.8157 17.2321 10.568 16.6543C10.1416 15.6593 9.84191 14.2977 9.76783 12.75L14.2322 12.75C14.1914 13.6024 14.0821 14.3983 13.921 15.1076C14.3759 14.4673 14.9778 13.9386 15.6776 13.5709C15.7028 13.3018 15.7216 13.0278 15.7337 12.75H18.4572C18.4469 12.8397 18.4348 12.9289 18.4208 13.0175C18.9344 13.0603 19.426 13.1807 19.8837 13.367ZM10.568 7.34569C10.1416 8.34074 9.84191 9.70234 9.76783 11.25L14.2322 11.25C14.1581 9.70234 13.8584 8.34074 13.432 7.34569C13.1843 6.7679 12.9087 6.34823 12.6409 6.08391C12.3763 5.82276 12.1606 5.75 12 5.75C11.8394 5.75 11.6237 5.82276 11.3591 6.08391C11.0913 6.34823 10.8157 6.7679 10.568 7.34569ZM15.7337 11.25L18.4572 11.25C18.1804 8.84094 16.5866 6.83252 14.4139 5.96299C14.5588 6.20973 14.6909 6.47541 14.8107 6.75481C15.328 7.96182 15.6587 9.53144 15.7337 11.25ZM5.5428 11.25L8.26628 11.25C8.34127 9.53144 8.67203 7.96182 9.18932 6.75481C9.30907 6.47541 9.44124 6.20974 9.58609 5.96299C7.41342 6.83252 5.81958 8.84094 5.5428 11.25ZM8.26628 12.75H5.5428C5.81958 15.1591 7.41342 17.1675 9.58609 18.037C9.44124 17.7903 9.30906 17.5246 9.18932 17.2452C8.67203 16.0382 8.34127 14.4686 8.26628 12.75Z",fill:"var(--ds-text-subtle, #505258)"}),e(u).createElement("circle",{cx:"18",cy:"18",r:"3",fill:"var(--ds-icon-accent-green, #22A06B)"}));var ry=a("b3j2Y");let rv=(0,a("cgtv4").defineMessages)({linkAllowInAtlassianAdministration:{id:"share-and-restrict-dialog.public-links.link-allow-in-atlassian-administration",defaultMessage:"Allow in Atlassian Administration"},linkAllowInSpaceSettings:{id:"share-and-restrict-dialog.public-links.link-allow-in-space-settings",defaultMessage:"Allow in Space settings"},linkAllowInSettings:{id:"share-and-restrict-dialog.public-links.link-allow-in-settings",defaultMessage:"Allow in settings"},learnMore:{id:"share-and-restrict-dialog.public-links.learn-more-link",defaultMessage:"Learn more about public links"},bodyEmpowered:{id:"share-and-restrict-dialog.public-links.body-empowered",defaultMessage:"If allowed, anyone who can view this content can share it with anyone on the internet without giving them access to Confluence."},bodyUnempowered:{id:"share-and-restrict-dialog.public-links.body-unempowered",defaultMessage:"When allowed, you can share this content with anyone on the internet without giving them access to Confluence."},titleEmpowered:{id:"share-and-restrict-dialog.public-links.title-empowered",defaultMessage:"This public link isnâ€™t allowed"},titleUnempowered:{id:"share-and-restrict-dialog.public-links.title-unempowered",defaultMessage:"Your organization is preventing the use of this public link"}}),rS=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p,m,f,g,h,E,b=(0,d.c)(37),{publicLinkStatus:_}=t,{formatMessage:y}=(0,a("8C5kA").default)(),v=_??null;b[0]!==v?(r={publicLinkStatus:v},b[0]=v,b[1]=r):r=b[1];let{isEmpowered:S,empoweredUserSettingsLinkHref:A,accessLevel:C,isSiteAdmin:I,error:T}=(0,a("ari0r").usePublicLinkPrivilegeData)(r),x="org"===C&&I?a("8y1s8").DATA_SECURITY_POLICY_DOCUMENTATION:a("8y1s8").SET_UP_AND_MANAGE_DOCUMENTATION;b[2]!==C||b[3]!==y?(n=()=>{switch(C){case"org":return y(rv.linkAllowInAtlassianAdministration);case"space":return y(rv.linkAllowInSpaceSettings);default:return y(rv.linkAllowInSettings)}},b[2]=C,b[3]=y,b[4]=n):n=b[4];let k=n;b[5]!==A||b[6]!==y||b[7]!==k||b[8]!==S||b[9]!==x?(s=()=>!1===S?{primary:{text:y(rv.learnMore),href:x},secondary:null}:{primary:{text:k(),href:A},secondary:{text:y(rv.learnMore),href:x}},b[5]=A,b[6]=y,b[7]=k,b[8]=S,b[9]=x,b[10]=s):s=b[10];let R=s;b[11]!==R?(i=R(),b[11]=R,b[12]=i):i=b[12];let{primary:O,secondary:w}=i;b[13]!==T?(o=T&&e(u).createElement(ry.ErrorDisplay,{error:T}),b[13]=T,b[14]=o):o=b[14];let L=S?rv.titleEmpowered:rv.titleUnempowered;b[15]!==y||b[16]!==L?(l=y(L),b[15]=y,b[16]=L,b[17]=l):l=b[17],b[18]!==O?(c=O&&e(u).createElement(a("7p4As").default,{appearance:"primary",href:O.href??"#",target:"_blank"},O.text),b[18]=O,b[19]=c):c=b[19],b[20]!==w?(p=w&&e(u).createElement(a("2Nwuj").default,{href:w.href,target:"_blank"},w.text),b[20]=w,b[21]=p):p=b[21],b[22]!==p||b[23]!==c?(m=e(u).createElement(a("u9agA").default,{space:"space.150",alignBlock:"center"},c,p),b[22]=p,b[23]=c,b[24]=m):m=b[24];let P=S?rv.bodyEmpowered:rv.bodyUnempowered;return b[25]!==y||b[26]!==P?(f=y(P),b[25]=y,b[26]=P,b[27]=f):f=b[27],b[28]!==f?(g=e(u).createElement(a("iXCQx").default,null,f),b[28]=f,b[29]=g):g=b[29],b[30]!==m||b[31]!==g||b[32]!==l?(h=e(u).createElement(a("aoVih").default,{testId:"public-link-disabled-body",appearance:"information",title:l,actions:m},g),b[30]=m,b[31]=g,b[32]=l,b[33]=h):h=b[33],b[34]!==h||b[35]!==o?(E=e(u).createElement(e(u).Fragment,null,o,h),b[34]=h,b[35]=o,b[36]=E):E=b[36],E}:({publicLinkStatus:t})=>{let{formatMessage:r}=(0,a("8C5kA").default)(),{isEmpowered:n,empoweredUserSettingsLinkHref:s,accessLevel:i,isSiteAdmin:o,error:l}=(0,a("ari0r").usePublicLinkPrivilegeData)({publicLinkStatus:t??null}),c="org"===i&&o?a("8y1s8").DATA_SECURITY_POLICY_DOCUMENTATION:a("8y1s8").SET_UP_AND_MANAGE_DOCUMENTATION,d=(0,u.useCallback)(()=>{switch(i){case"org":return r(rv.linkAllowInAtlassianAdministration);case"space":return r(rv.linkAllowInSpaceSettings);default:return r(rv.linkAllowInSettings)}},[i,r]),{primary:p,secondary:m}=(0,u.useCallback)(()=>!1===n?{primary:{text:r(rv.learnMore),href:c},secondary:null}:{primary:{text:d(),href:s},secondary:{text:r(rv.learnMore),href:c}},[s,d,c,r,n])();return e(u).createElement(e(u).Fragment,null,l&&e(u).createElement(ry.ErrorDisplay,{error:l}),e(u).createElement(a("aoVih").default,{testId:"public-link-disabled-body",appearance:"information",title:r(n?rv.titleEmpowered:rv.titleUnempowered),actions:e(u).createElement(a("u9agA").default,{space:"space.150",alignBlock:"center"},p&&e(u).createElement(a("7p4As").default,{appearance:"primary",href:p.href??"#",target:"_blank"},p.text),m&&e(u).createElement(a("2Nwuj").default,{href:m.href,target:"_blank"},m.text))},e(u).createElement(a("iXCQx").default,null,r(n?rv.bodyEmpowered:rv.bodyUnempowered))))},rA=(0,a("cgtv4").defineMessages)({canView:{id:"share-and-restrict-dialog.public-links.can-view",defaultMessage:"Can view"},canEdit:{id:"share-and-restrict-dialog.public-links.can-edit",defaultMessage:"Can edit"},permissionsDropdownLabel:{id:"share-and-restrict-dialog.public-links.permissions-dropdown-label",defaultMessage:"Public link permissions"},learnMore:{id:"share-and-restrict-dialog.public-links.learn-more",defaultMessage:"Learn more"},publicLinkOn:{id:"share-and-restrict-dialog.public-links.on",defaultMessage:"Public link is on"},publicLinkOff:{id:"share-and-restrict-dialog.public-links.off",defaultMessage:"Public link is off"},anyoneWithLink:{id:"share-and-restrict-dialog.public-links.anyone-with-link",defaultMessage:"Anyone with the link"},noSignInRequired:{id:"share-and-restrict-dialog.public-links.no-sign-in-required",defaultMessage:"No sign-in required. <link>Learn more</link>"},copyButtonText:{id:"share-and-restrict-dialog.public-links.copy-button-text",defaultMessage:"Copy public link"},viewPublicLinkLabel:{id:"share-and-restrict-dialog.public-links.view-label",defaultMessage:"View"},viewPublicLinkToolTip:{id:"share-and-restrict-dialog.public-links.view-tooltip",defaultMessage:"Open public link in a new tab"},smartSectionsMessage:{id:"share-and-restrict-dialog.public-links.smart-sections-message",defaultMessage:"<b>Smart sections donâ€™t work on public editable whiteboards.</b> Any smart sections will be permanently disabled if the public link is made editable. <link>Learn more</link>"}}),rC=(0,a("ecnYn").xcss)({paddingBottom:"space.300"}),rI=(0,a("ecnYn").xcss)({height:"32px",width:"32px",borderRadius:"radius.medium",background:"var(--ds-background-accent-gray-subtlest, #F0F1F2)"}),rT=(0,a("ecnYn").xcss)({marginLeft:"space.150",flexGrow:1}),rx=(0,a("ecnYn").xcss)({width:"109px",marginRight:"space.100",minWidth:"108px",maxWidth:"110px"}),rk=(0,a("ecnYn").xcss)({paddingTop:"space.150",paddingBottom:"space.150"}),rR=(0,c.isReactCompilerActiveV1)()?()=>{let t,r=(0,d.c)(1);return r[0]===Symbol.for("react.memo_cache_sentinel")?(t=e(u).createElement(a("6f0Oj").default,{xcss:rk},e(u).createElement(a("aoVih").default,{appearance:"information"},e(u).createElement(a("5dK2X").default,{as:"p"},e(u).createElement(a("gtD4K").default,{...rA.smartSectionsMessage,values:{b:rL,link:rP}})))),r[0]=t):t=r[0],t}:()=>e(u).createElement(a("6f0Oj").default,{xcss:rk},e(u).createElement(a("aoVih").default,{appearance:"information"},e(u).createElement(a("5dK2X").default,{as:"p"},e(u).createElement(a("gtD4K").default,{...rA.smartSectionsMessage,values:{b:t=>e(u).createElement("b",null,t),link:t=>e(u).createElement(a("2Nwuj").default,{target:"_blank",href:a("8y1s8").LEARN_MORE_PUBLIC_LINKS_HREF},t)}})))),rO=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p,m,g,h,E=(0,d.c)(30),{isEditPublicLink:b,onChangeDropdown:_,isDisabled:y,onMenuOpen:v}=t,{formatMessage:S}=(0,a("8C5kA").default)(),{createAnalyticsEvent:A}=(0,a("inPa6").useAnalyticsEvents)();E[0]!==S?(r=S(rA.canView),E[0]=S,E[1]=r):r=E[1],E[2]!==r?(n={label:r,value:"view"},E[2]=r,E[3]=n):n=E[3],E[4]!==S?(s=S(rA.canEdit),E[4]=S,E[5]=s):s=E[5],E[6]!==s?(i={label:s,value:"edit"},E[6]=s,E[7]=i):i=E[7],E[8]!==n||E[9]!==i?(o=[n,i],E[8]=n,E[9]=i,E[10]=o):o=E[10];let C=o,I=C[+!!b];return E[11]!==S?(l=S(rA.permissionsDropdownLabel),E[11]=S,E[12]=l):l=E[12],E[13]!==y||E[14]!==I.label?(c=t=>{let{isOpen:r,...n}=t;return e(u).createElement(a("ccHMk").default,{...n,appearance:"subtle",isDisabled:y,iconAfter:rD},I.label)},E[13]=y,E[14]=I.label,E[15]=c):c=E[15],E[16]!==A||E[17]!==v||E[18]!==I.value?(p=()=>{A({type:"sendUIEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"clicked",actionSubject:"dropdown",actionSubjectId:"publicLinkPermissionsDropdown",attributes:{currentState:I.value}}}).fire(),v?.()},E[16]=A,E[17]=v,E[18]=I.value,E[19]=p):p=E[19],E[20]!==_||E[21]!==C[0]?(m=e=>_(e===C[0]?"view":"edit"),E[20]=_,E[21]=C[0],E[22]=m):m=E[22],E[23]===Symbol.for("react.memo_cache_sentinel")?(g={modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"preventOverflow",enabled:!1}]},E[23]=g):g=E[23],E[24]!==C||E[25]!==l||E[26]!==c||E[27]!==p||E[28]!==m?(h=e(u).createElement(a("6f0Oj").default,{xcss:rx},e(u).createElement(a("cuAuQ").default,{label:l,testId:"public-link-permissions-dropdown",target:c,onMenuOpen:p,options:C,isSearchable:!1,onChange:m,spacing:"compact",minMenuWidth:109,popperProps:g})),E[24]=C,E[25]=l,E[26]=c,E[27]=p,E[28]=m,E[29]=h):h=E[29],h}:({isEditPublicLink:t,onChangeDropdown:r,isDisabled:n,onMenuOpen:s})=>{let{formatMessage:i}=(0,a("8C5kA").default)(),{createAnalyticsEvent:o}=(0,a("inPa6").useAnalyticsEvents)(),l=[{label:i(rA.canView),value:"view"},{label:i(rA.canEdit),value:"edit"}],c=l[+!!t];return e(u).createElement(a("6f0Oj").default,{xcss:rx},e(u).createElement(a("cuAuQ").default,{label:i(rA.permissionsDropdownLabel),testId:"public-link-permissions-dropdown",target:({isOpen:t,...r})=>e(u).createElement(a("ccHMk").default,{...r,appearance:"subtle",isDisabled:n,iconAfter:t=>e(u).createElement(e(a("ghftu")),{...t,size:"small"})},c.label),onMenuOpen:()=>{o({type:"sendUIEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"clicked",actionSubject:"dropdown",actionSubjectId:"publicLinkPermissionsDropdown",attributes:{currentState:c.value}}}).fire(),s?.()},options:l,isSearchable:!1,onChange:e=>r(e===l[0]?"view":"edit"),spacing:"compact",minMenuWidth:109,popperProps:{modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"preventOverflow",enabled:!1}]}}))},rw=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p,m,g,h,E,b,_,y,v,S,A,C,I,T,x,k,R=(0,d.c)(92),{publicLinkOn:O,publicLinkDisabled:w,publicLinkStatus:L,publicShareUrl:P,canEditPublicLink:D,isPublicLinkEditAllowedForContentType:M,isEditPublicLink:N,pageId:U,refetchPublicLinkState:j,refetchButtonData:B,flags:F,hasInheritedRestrictions:G,generalAccessLevel:V}=t,{formatMessage:q}=(0,a("8C5kA").default)(),{createAnalyticsEvent:K}=(0,a("inPa6").useAnalyticsEvents)(),{copyToClipboard:H}=(0,a("kfIha").useCopyToClipboard)();R[0]!==K||R[1]!==B||R[2]!==j?(r=e=>{let{refetchState:t,refetchData:a,actionSubject:r,attributes:n}=e;t&&j(),a&&B(),K({type:"sendTrackEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"updated",actionSubject:r,attributes:n}}).fire()},R[0]=K,R[1]=B,R[2]=j,R[3]=r):r=R[3];let z=r;R[4]!==K?(n=e=>{let{error:t,actionSubject:r,attributes:n}=e;(0,a("7Sm4c").markErrorAsHandled)(t),K({type:"sendTrackEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"failed",actionSubject:r,attributes:{...n,error:t.message}}}).fire()},R[4]=K,R[5]=n):n=R[5];let W=n;R[6]!==V||R[7]!==z||R[8]!==G?(s=()=>{z({refetchState:!0,refetchData:!0,actionSubject:"publicLinkContentSettings",attributes:{previousState:a("k030f").PublicLinkPageStatus.OFF,newState:a("k030f").PublicLinkPageStatus.ON,hasInheritedRestrictions:G,generalAccessLevel:V}})},R[6]=V,R[7]=z,R[8]=G,R[9]=s):s=R[9],R[10]!==V||R[11]!==W||R[12]!==G?(i=e=>{W({error:e,actionSubject:"publicLinkContentSettings",attributes:{previousState:a("k030f").PublicLinkPageStatus.OFF,hasInheritedRestrictions:G,generalAccessLevel:V}})},R[10]=V,R[11]=W,R[12]=G,R[13]=i):i=R[13],R[14]!==F||R[15]!==U||R[16]!==s||R[17]!==i?(o={pageId:U,onCompleted:s,onError:i,flags:F},R[14]=F,R[15]=U,R[16]=s,R[17]=i,R[18]=o):o=R[18];let{enablePublicLinkForPage:Y}=rb(o);R[19]!==V||R[20]!==z||R[21]!==G?(l=()=>{z({refetchState:!0,refetchData:!0,actionSubject:"publicLinkContentSettings",attributes:{previousState:a("k030f").PublicLinkPageStatus.ON,newState:a("k030f").PublicLinkPageStatus.OFF,hasInheritedRestrictions:G,generalAccessLevel:V}})},R[19]=V,R[20]=z,R[21]=G,R[22]=l):l=R[22],R[23]!==V||R[24]!==W||R[25]!==G?(c=e=>{W({error:e,actionSubject:"publicLinkContentSettings",attributes:{previousState:a("k030f").PublicLinkPageStatus.ON,hasInheritedRestrictions:G,generalAccessLevel:V}})},R[23]=V,R[24]=W,R[25]=G,R[26]=c):c=R[26],R[27]!==F||R[28]!==U||R[29]!==l||R[30]!==c?(p={pageId:U,onCompleted:l,onError:c,flags:F},R[27]=F,R[28]=U,R[29]=l,R[30]=c,R[31]=p):p=R[31];let{disablePublicLinkForPage:Q}=(0,a("lbXO9").usePublicLinkDisablePageMutation)(p);R[32]!==z?(m=()=>{z({refetchState:!0,refetchData:!1,actionSubject:"publicLinkPermissionChange",attributes:{previousState:"view",newState:"edit"}})},R[32]=z,R[33]=m):m=R[33],R[34]!==W?(g=e=>{W({error:e,actionSubject:"publicLinkPermissionChange",attributes:{previousState:"view"}})},R[34]=W,R[35]=g):g=R[35],R[36]!==F||R[37]!==U||R[38]!==g||R[39]!==m?(h={objectId:U,onCompleted:m,onError:g,flags:F},R[36]=F,R[37]=U,R[38]=g,R[39]=m,R[40]=h):h=R[40];let{addPublicLinkPermissions:$}=(0,a("22pmH").useAddPublicLinkPermissionsMutation)(h);R[41]!==z?(E=()=>{z({refetchState:!0,refetchData:!1,actionSubject:"publicLinkPermissionChange",attributes:{previousState:"edit",newState:"view"}})},R[41]=z,R[42]=E):E=R[42],R[43]!==W?(b=e=>{W({error:e,actionSubject:"publicLinkPermissionChange",attributes:{previousState:"edit"}})},R[43]=W,R[44]=b):b=R[44],R[45]!==F||R[46]!==U||R[47]!==E||R[48]!==b?(_={objectId:U,onCompleted:E,onError:b,flags:F},R[45]=F,R[46]=U,R[47]=E,R[48]=b,R[49]=_):_=R[49];let{removePublicLinkPermissions:X}=(0,a("ewQf6").useRemovePublicLinkPermissionsMutation)(_);R[50]!==K||R[51]!==Q||R[52]!==Y||R[53]!==V||R[54]!==G||R[55]!==O?(y=()=>{K({type:"sendUIEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"clicked",actionSubject:"toggle",actionSubjectId:"pagePublicLinksToggle",attributes:{currentState:O?a("k030f").PublicLinkPageStatus.ON:a("k030f").PublicLinkPageStatus.OFF,targetState:O?a("k030f").PublicLinkPageStatus.OFF:a("k030f").PublicLinkPageStatus.ON,previousState:O?"enabled":"disabled",newState:O?"disabled":"enabled",hasInheritedRestrictions:G,generalAccessLevel:V}}}).fire(),O?Q():Y()},R[50]=K,R[51]=Q,R[52]=Y,R[53]=V,R[54]=G,R[55]=O,R[56]=y):y=R[56];let J=y;R[57]!==$||R[58]!==N||R[59]!==X?(v=e=>{(N?"edit":"view")!==e&&(N?X():$())},R[57]=$,R[58]=N,R[59]=X,R[60]=v):v=R[60];let Z=v;R[61]!==q||R[62]!==O?(S=O?q(rA.publicLinkOn):q(rA.publicLinkOff),R[61]=q,R[62]=O,R[63]=S):S=R[63];let ee=S;R[64]!==L?(A=()=>e(u).createElement(rS,{publicLinkStatus:L}),R[64]=L,R[65]=A):A=R[65];let et=A;R[66]!==K||R[67]!==P?(C=()=>{K({type:"sendUIEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"clicked",actionSubject:"button",actionSubjectId:"viewPublicLink"}}).fire(),P&&""!==P&&window.open(P,"_blank")},R[66]=K,R[67]=P,R[68]=C):C=R[68];let ea=C;R[69]!==H||R[70]!==K||R[71]!==P?(I=()=>(K({type:"sendUIEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"clicked",actionSubject:"button",actionSubjectId:"copyPublicLink"}}).fire(),H(P||"")),R[69]=H,R[70]=K,R[71]=P,R[72]=I):I=R[72];let er=I,en=O&&M;R[73]!==D||R[74]!==er||R[75]!==q||R[76]!==Z||R[77]!==J||R[78]!==ee||R[79]!==N||R[80]!==M||R[81]!==ea||R[82]!==O||R[83]!==P||R[84]!==en?(T=()=>e(u).createElement(a("1GzhS").default,{space:"space.200"},M&&e(u).createElement(rR,null),e(u).createElement(a("dcJ7R").default,{alignBlock:"center"},e(u).createElement(a("bUlM5").default,{justifyContent:"center",alignItems:"center",xcss:rI},O?e(u).createElement(r_,null):e(u).createElement(e(a("buthI")),{label:ee,spacing:"spacious"})),e(u).createElement(a("6f0Oj").default,{xcss:rT},e(u).createElement(a("5dK2X").default,{size:"medium",weight:"bold"},q(rA.anyoneWithLink)),e(u).createElement("br",null),e(u).createElement(a("bUlM5").default,{alignItems:"center"},e(u).createElement(a("5dK2X").default,{size:"small",color:"color.text.subtlest"},e(u).createElement(a("gtD4K").default,{...rA.noSignInRequired,values:{link:rM}})))),en&&e(u).createElement(rO,{isEditPublicLink:N,onChangeDropdown:Z,isDisabled:!D}),e(u).createElement(a("82gXq").default,{isChecked:O,onChange:J,testId:"public-links-toggle",isDisabled:!D})),O&&e(u).createElement(a("dcJ7R").default,{space:"space.150"},e(u).createElement(a("4noo5").default,{isCompact:!0,isReadOnly:!0,value:P||""}),e(u).createElement(a("ccHMk").default,{onClick:er,iconBefore:e(a("1bY7o"))},e(u).createElement(a("gtD4K").default,rA.copyButtonText)),e(u).createElement(a("3gadb").default,{content:q(rA.viewPublicLinkToolTip)},e(u).createElement(a("1qfLF").default,{icon:e(a("8tdj3")),label:q(rA.viewPublicLinkLabel),onClick:ea})))),R[73]=D,R[74]=er,R[75]=q,R[76]=Z,R[77]=J,R[78]=ee,R[79]=N,R[80]=M,R[81]=ea,R[82]=O,R[83]=P,R[84]=en,R[85]=T):T=R[85];let es=T;R[86]!==w||R[87]!==es||R[88]!==et?(x=()=>w?et():es(),R[86]=w,R[87]=es,R[88]=et,R[89]=x):x=R[89];let ei=x;return R[90]!==ei?(k=e(u).createElement(a("6f0Oj").default,{xcss:rC},ei()),R[90]=ei,R[91]=k):k=R[91],k}:({publicLinkOn:t,publicLinkDisabled:r,publicLinkStatus:n,publicShareUrl:s,canEditPublicLink:i,isPublicLinkEditAllowedForContentType:o,isEditPublicLink:l,pageId:c,refetchPublicLinkState:d,refetchButtonData:p,flags:m,hasInheritedRestrictions:g,generalAccessLevel:h})=>{let{formatMessage:E}=(0,a("8C5kA").default)(),{createAnalyticsEvent:b}=(0,a("inPa6").useAnalyticsEvents)(),{copyToClipboard:_}=(0,a("kfIha").useCopyToClipboard)(),y=({refetchState:e,refetchData:t,actionSubject:a,attributes:r})=>{e&&d(),t&&p(),b({type:"sendTrackEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"updated",actionSubject:a,attributes:r}}).fire()},v=({error:e,actionSubject:t,attributes:r})=>{(0,a("7Sm4c").markErrorAsHandled)(e),b({type:"sendTrackEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"failed",actionSubject:t,attributes:{...r,error:e.message}}}).fire()},{enablePublicLinkForPage:S}=rb({pageId:c,onCompleted:()=>{y({refetchState:!0,refetchData:!0,actionSubject:"publicLinkContentSettings",attributes:{previousState:a("k030f").PublicLinkPageStatus.OFF,newState:a("k030f").PublicLinkPageStatus.ON,hasInheritedRestrictions:g,generalAccessLevel:h}})},onError:e=>{v({error:e,actionSubject:"publicLinkContentSettings",attributes:{previousState:a("k030f").PublicLinkPageStatus.OFF,hasInheritedRestrictions:g,generalAccessLevel:h}})},flags:m}),{disablePublicLinkForPage:A}=(0,a("lbXO9").usePublicLinkDisablePageMutation)({pageId:c,onCompleted:()=>{y({refetchState:!0,refetchData:!0,actionSubject:"publicLinkContentSettings",attributes:{previousState:a("k030f").PublicLinkPageStatus.ON,newState:a("k030f").PublicLinkPageStatus.OFF,hasInheritedRestrictions:g,generalAccessLevel:h}})},onError:e=>{v({error:e,actionSubject:"publicLinkContentSettings",attributes:{previousState:a("k030f").PublicLinkPageStatus.ON,hasInheritedRestrictions:g,generalAccessLevel:h}})},flags:m}),{addPublicLinkPermissions:C}=(0,a("22pmH").useAddPublicLinkPermissionsMutation)({objectId:c,onCompleted:()=>{y({refetchState:!0,refetchData:!1,actionSubject:"publicLinkPermissionChange",attributes:{previousState:"view",newState:"edit"}})},onError:e=>{v({error:e,actionSubject:"publicLinkPermissionChange",attributes:{previousState:"view"}})},flags:m}),{removePublicLinkPermissions:I}=(0,a("ewQf6").useRemovePublicLinkPermissionsMutation)({objectId:c,onCompleted:()=>{y({refetchState:!0,refetchData:!1,actionSubject:"publicLinkPermissionChange",attributes:{previousState:"edit",newState:"view"}})},onError:e=>{v({error:e,actionSubject:"publicLinkPermissionChange",attributes:{previousState:"edit"}})},flags:m}),T=()=>{b({type:"sendUIEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"clicked",actionSubject:"toggle",actionSubjectId:"pagePublicLinksToggle",attributes:{currentState:t?a("k030f").PublicLinkPageStatus.ON:a("k030f").PublicLinkPageStatus.OFF,targetState:t?a("k030f").PublicLinkPageStatus.OFF:a("k030f").PublicLinkPageStatus.ON,previousState:t?"enabled":"disabled",newState:t?"disabled":"enabled",hasInheritedRestrictions:g,generalAccessLevel:h}}}).fire(),t?A():S()},x=e=>{(l?"edit":"view")!==e&&(l?I():C())},k=t?E(rA.publicLinkOn):E(rA.publicLinkOff),R=(0,u.useCallback)(()=>{b({type:"sendUIEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"clicked",actionSubject:"button",actionSubjectId:"viewPublicLink"}}).fire(),s&&""!==s&&window.open(s,"_blank")},[b,s]),O=(0,u.useCallback)(()=>(b({type:"sendUIEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"clicked",actionSubject:"button",actionSubjectId:"copyPublicLink"}}).fire(),_(s||"")),[_,b,s]),w=t&&o;return e(u).createElement(a("6f0Oj").default,{xcss:rC},r?e(u).createElement(rS,{publicLinkStatus:n}):e(u).createElement(a("1GzhS").default,{space:"space.200"},o&&e(u).createElement(rR,null),e(u).createElement(a("dcJ7R").default,{alignBlock:"center"},e(u).createElement(a("bUlM5").default,{justifyContent:"center",alignItems:"center",xcss:rI},t?e(u).createElement(r_,null):e(u).createElement(e(a("buthI")),{label:k,spacing:"spacious"})),e(u).createElement(a("6f0Oj").default,{xcss:rT},e(u).createElement(a("5dK2X").default,{size:"medium",weight:"bold"},E(rA.anyoneWithLink)),e(u).createElement("br",null),e(u).createElement(a("bUlM5").default,{alignItems:"center"},e(u).createElement(a("5dK2X").default,{size:"small",color:"color.text.subtlest"},e(u).createElement(a("gtD4K").default,{...rA.noSignInRequired,values:{link:t=>e(u).createElement(a("2Nwuj").default,{target:"_blank",href:a("8y1s8").PUBLIC_LINKS_SECURITY_DOCUMENTATION},t)}})))),w&&e(u).createElement(rO,{isEditPublicLink:l,onChangeDropdown:x,isDisabled:!i}),e(u).createElement(a("82gXq").default,{isChecked:t,onChange:T,testId:"public-links-toggle",isDisabled:!i})),t&&e(u).createElement(a("dcJ7R").default,{space:"space.150"},e(u).createElement(a("4noo5").default,{isCompact:!0,isReadOnly:!0,value:s||""}),e(u).createElement(a("ccHMk").default,{onClick:O,iconBefore:e(a("1bY7o"))},e(u).createElement(a("gtD4K").default,rA.copyButtonText)),e(u).createElement(a("3gadb").default,{content:E(rA.viewPublicLinkToolTip)},e(u).createElement(a("1qfLF").default,{icon:e(a("8tdj3")),label:E(rA.viewPublicLinkLabel),onClick:R})))))};function rL(t){return e(u).createElement("b",null,t)}function rP(t){return e(u).createElement(a("2Nwuj").default,{target:"_blank",href:a("8y1s8").LEARN_MORE_PUBLIC_LINKS_HREF},t)}function rD(t){return e(u).createElement(e(a("ghftu")),{...t,size:"small"})}function rM(t){return e(u).createElement(a("2Nwuj").default,{target:"_blank",href:a("8y1s8").PUBLIC_LINKS_SECURITY_DOCUMENTATION},t)}var rN=a("hwEdY");let rU=(0,c.isReactCompilerActiveV1)()?t=>{let r,n=(0,d.c)(4),{onCloseSlack:s,showFlag:i}=t,{cloudId:o}=(0,a("bQm3c").useSessionData)();return n[0]!==o||n[1]!==s||n[2]!==i?(r=e(u).createElement(rN.default,{showFlag:i,product:"confluence",onClose:s,changeTab:rj,cloudId:o,hideCopyButton:!0}),n[0]=o,n[1]=s,n[2]=i,n[3]=r):r=n[3],r}:({onCloseSlack:t,showFlag:r})=>{let{cloudId:n}=(0,a("bQm3c").useSessionData)();return e(u).createElement(rN.default,{showFlag:r,product:"confluence",onClose:t,changeTab:()=>{},cloudId:n,hideCopyButton:!0})};function rj(){}(i={}).APPROVE="APPROVE",i.DENY="DENY",i.PENDING="PENDING",i.PENDING_SITE_APPROVAL="PENDING_SITE_APPROVAL";var rB=((o={}).APPROVE="APPROVE",o.DENY="DENY",o),rF=((l={}).EDIT="EDIT",l.VIEW="VIEW",l);let rG=(0,a("cgtv4").defineMessages)({mutationErrorGenericFlagTitle:{id:"access-requests.mutation-error-generic-flag-title",defaultMessage:"Can't resolve the request"},mutationErrorGenericFlagDescription:{id:"access-requests.mutation-error-generic-flag-description",defaultMessage:"We ran into a problem resolving the access request. Try again later."},mutationErrorAlreadyApprovedEditRequestFlagTitle:{id:"access-requests.mutation-error-already-approved-edit-request-error-flag-title",defaultMessage:"{approverName} already approved {requesterName}'s request to edit"},mutationErrorAlreadyApprovedViewRequestFlagTitle:{id:"access-requests.mutation-error-already-approved-view-request-error-flag-title",defaultMessage:"{approverName} already approved {requesterName}'s request to view"},mutationErrorAlreadyDeniedEditRequestFlagTitle:{id:"access-requests.mutation-error-already-denied-edit-request-error-flag-title",defaultMessage:"{approverName} already denied {requesterName}'s request to edit"},mutationErrorAlreadyDeniedViewRequestFlagTitle:{id:"access-requests.mutation-error-already-denied-view-request-error-flag-title",defaultMessage:"{approverName} already denied {requesterName}'s request to view"},accessRequestApproved:{id:"access-requests.request-approved",defaultMessage:"Approved"},accessRequestDenied:{id:"access-requests.request-denied",defaultMessage:"Denied"},approveButton:{id:"access-requests.approve-button",defaultMessage:"Approve"},denyButton:{id:"access-requests.deny-button",defaultMessage:"Deny"},accessTypeSelectorLabel_CanView:{id:"access-requests.access-type-selector-label-can-view",defaultMessage:"Can view"},accessTypeSelectorLabel_CanEdit:{id:"access-requests.access-type-selector-label-can-edit",defaultMessage:"Can edit"}}),rV=(0,a("ecnYn").xcss)({margin:"space.0",paddingTop:"space.100",paddingBottom:"space.100",paddingLeft:"space.300",paddingRight:"space.300",listStyle:"none",minHeight:"52px",maxHeight:"52px"}),rq=(0,a("ecnYn").xcss)({marginLeft:"space.150",marginRight:"auto"}),rK=(0,a("ecnYn").xcss)({marginLeft:"space.150",flexShrink:0}),rH={flexShrink:0,height:"40px",display:"flex",alignItems:"center",justifyContent:"start",paddingRight:"var(--ds-space-150, 12px)"},rz={label:e(u).createElement(a("gtD4K").default,rG.accessTypeSelectorLabel_CanView),value:rF.VIEW},rW=[rz,{label:e(u).createElement(a("gtD4K").default,rG.accessTypeSelectorLabel_CanEdit),value:rF.EDIT}],rY=e=>rW.find(({value:t})=>t===e)??rz,rQ=(0,a("eSUdr").default)`mutation AccessRequestsTableRowMutation($cloudId:ID!$updateContentAccessRequestInput:ConfluenceUpdateContentAccessRequestInput!){confluence_updateContentAccessRequest(cloudId:$cloudId updateContentAccessRequestInput:$updateContentAccessRequestInput){success errors{extensions{errorType statusCode ...on ConfluenceUpdateContentAccessRequestMutationErrorExtension{displayName processedRequestStatus}}message}}}`,r$={styles:{singleValue:e=>({...e,minWidth:"62px",textAlign:"left"})}},rX=e=>e?.displayName!==void 0,rJ=(e,t)=>"APPROVE"===e?t===rF.VIEW?rG.mutationErrorAlreadyApprovedViewRequestFlagTitle:rG.mutationErrorAlreadyApprovedEditRequestFlagTitle:t===rF.VIEW?rG.mutationErrorAlreadyDeniedViewRequestFlagTitle:rG.mutationErrorAlreadyDeniedEditRequestFlagTitle,rZ=(0,a("7aRa9").withFlags)(({accessRequest:t,contentId:r,flags:n,isBlockedAccessFlowActive:s,maybeStartBlockedAccessFlowForUser:i,source:o,shouldBlockRowProcessing:l,onRowProcessingStart:c,onRowProcessingEnd:d,trackChange:p,clearChanges:m})=>{let{formatMessage:f}=(0,a("8C5kA").default)(),{cloudId:g}=(0,a("bQm3c").useSessionData)(),[h,E]=(0,u.useState)(rY(t.requestAccessType)),b=h.value,_=t.accessRequestedAaid,y=t.status,v=t.id,S=t.user?.displayName??"",A=t.user?.emails?.find(e=>e?.isPrimary)?.value??"",C=t.user?.photos?.find(e=>e?.isPrimary)?.value??"",I=(0,u.useContext)(a("1kHsc").ExperienceTrackerContext),{createAnalyticsEvent:T}=(0,a("inPa6").useAnalyticsEvents)(),x=(e,a)=>{let s=e.find(e=>e.extensions?.some(e=>e?.errorType==="REQUEST_ALREADY_PROCESSED")),i=s?.extensions?.find(rX);if(i?.displayName&&i.processedRequestStatus){let e=i?.displayName,a=t.user?.displayName,r=rJ(i?.processedRequestStatus,b);n.showErrorFlag({title:f(r,{approverName:e,requesterName:a})})}else n.showErrorFlag({title:f(rG.mutationErrorGenericFlagTitle),description:f(rG.mutationErrorGenericFlagDescription)});let l=e[0]?.message||"unknown";T({type:"sendOperationalEvent",data:{action:"failed",actionSubject:"accessRequestsTableRowMutation",source:o,attributes:{requestId:v,contentId:r,accessType:b,accountId:_,message:l,errorType:e[0]?.extensions?.[0]?.errorType||"unknown",statusCode:e[0]?.extensions?.[0]?.statusCode||"unknown"}}}).fire()},[k]=(0,a("1KmJq").useMutation)(rQ),[R,O]=(0,u.useState)(!1),[w,L]=(0,u.useState)(!1),[P,D]=(0,u.useState)(!1),[M,N]=(0,u.useState)(null);(0,u.useEffect)(()=>{M&&P&&!s&&(N(null),D(!1),d())},[P,s,M,d]);let U=e=>async()=>{if(l)return;I.start({name:a("irVI7").CONTENT_ACCESS_REQUEST_DECISION_EXPERIENCE,attributes:{decision:e}}),c(),N(e);let n=await k({variables:{cloudId:g,updateContentAccessRequestInput:{requestId:v,contentId:r,accessRequestedAccountId:_,approvalDecision:e,accessType:b}},update(r,n){n?.data?.confluence_updateContentAccessRequest?.success&&r.writeFragment({id:`ConfluenceContentAccessRequest:${t.id}`,fragment:(0,a("eSUdr").default)`fragment UpdateConfluenceContentAccessRequest on ConfluenceContentAccessRequest{status}`,data:{status:e,__typename:"ConfluenceContentAccessRequest"}})}}),s=!0,u=n.data?.confluence_updateContentAccessRequest?.success,p=u&&"APPROVE"===e,f=u&&"DENY"===e;if(p){let{isBlockedAccessFlowStarted:e}=await i({id:_,avatarUrl:C,name:S,email:A,sitePermissionType:b,accessType:b});D(e),s=!e,T({type:"sendTrackEvent",data:{action:"granted",actionSubject:"access",actionSubjectId:"grantAccess",source:o,attributes:{accessType:b===rF.EDIT?"edit":"view"}}}).fire()}(f&&T({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"denyAccess",source:o,attributes:{accessType:b}}}).fire(),s&&(N(null),d()),u)?(m&&m(),I.succeed({name:a("irVI7").CONTENT_ACCESS_REQUEST_DECISION_EXPERIENCE})):(x(n.data?.confluence_updateContentAccessRequest?.errors??[],n.errors??[]),I.fail({name:a("irVI7").CONTENT_ACCESS_REQUEST_DECISION_EXPERIENCE,error:Error("Update content access request error")}))},j=e(u).createElement(a("dcJ7R").default,{space:"space.150",alignBlock:"center",xcss:rK},e(u).createElement(a("2gD2K").default,{appearance:"subtle",value:h,options:rW,isSearchable:!1,menuPosition:"fixed",onChange:e=>{null!==e&&(E(e),p&&p(t.id,e.value,t.requestAccessType))},isDisabled:null!==M,menuShouldBlockScroll:!0,...r$}),e(u).createElement(a("ccHMk").default,{appearance:"default",onClick:U(rB.DENY),isLoading:"DENY"===M,isDisabled:"APPROVE"===M},f(rG.denyButton)),e(u).createElement(a("ccHMk").default,{appearance:"primary",onClick:U(rB.APPROVE),isLoading:"APPROVE"===M,isDisabled:"DENY"===M},f(rG.approveButton))),B=e(u).createElement(e(u).Fragment,null,e(u).createElement(e(a("cvXh8")),{label:"",color:"var(--ds-icon-success, #6A9A23)"}),e(u).createElement(a("5dK2X").default,{color:"color.text.subtle"},f(rG.accessRequestApproved))),F=e(u).createElement(e(u).Fragment,null,e(u).createElement(e(a("hmuev")),{label:"",color:"var(--ds-icon-danger, #C9372C)"}),e(u).createElement(a("5dK2X").default,{color:"color.text.subtle"},f(rG.accessRequestDenied))),G=e(u).createElement(a("fT2ta").default,{duration:"large",entranceDirection:"right",isPaused:w,onFinish:()=>L(!0),key:`${t.id}-request-status`},({style:t,...r})=>e(u).createElement("div",{style:{...t,...rH},...r},e(u).createElement(a("dcJ7R").default,{alignBlock:"center",space:"space.150",xcss:rK},e(u).createElement(a("dcJ7R").default,{alignBlock:"center",space:"space.050"},"APPROVE"===y?B:F))));return e(u).createElement(a("fT2ta").default,{duration:"large",isPaused:R,onFinish:()=>O(!0)},({...t})=>e(u).createElement("div",t,e(u).createElement(a("dcJ7R").default,{alignInline:"start",alignBlock:"center",xcss:rV,as:"li"},e(u).createElement(a("esRft").default,{src:C}),e(u).createElement(a("1GzhS").default,{xcss:rq,grow:"fill"},e(u).createElement(a("5dK2X").default,{color:"color.text",maxLines:1},S),e(u).createElement(a("5dK2X").default,{color:"color.text.subtlest",size:"small",maxLines:1},A)),("PENDING"===y||M)&&j,"PENDING"!==y&&!M&&G)))}),r0=e=>{let[t,a]=(0,u.useState)(!1);return(0,u.useEffect)(()=>{if(!e.current)return;let t=e.current,r=document.createElement("div");r.style.position="absolute",r.style.top="0",r.style.height="1px",r.style.width="100%",r.style.pointerEvents="none",t.prepend(r);let n=new IntersectionObserver(e=>{let[t]=e;a(!t.isIntersecting)},{root:t,threshold:1});return n.observe(r),()=>{n.disconnect(),r.parentElement&&r.parentElement.removeChild(r)}},[e]),t},r1=(0,a("ecnYn").xcss)({width:"100%",flexGrow:1,paddingBottom:"space.300"}),r2=(0,a("ecnYn").xcss)({width:"96px",height:"96px"}),r3=({textLine:t,secondTextLine:r,srcLight:n,srcDark:s})=>{let[i,o]=(0,u.useState)(!0),[l,c]=(0,u.useState)(!1);return e(u).createElement(a("1GzhS").default,{alignInline:"center",alignBlock:"center",xcss:r1},e(u).createElement(a("fT2ta").default,{duration:"large",entranceDirection:"top",isPaused:i||l,onFinish:()=>c(!0)},({...t})=>e(u).createElement("div",t,e(u).createElement(a("6f0Oj").default,{xcss:r2},e(u).createElement(a("gj7hi").default,{src:n,srcDark:s,alt:"",onLoad:()=>o(!1)})))),e(u).createElement(a("fT2ta").default,{duration:"large"},({...n})=>e(u).createElement("div",n,e(u).createElement(a("1GzhS").default,{alignInline:"center",alignBlock:"center"},e(u).createElement(a("5dK2X").default,{color:"color.text.subtlest",size:"medium",align:"center"},t),r&&e(u).createElement(a("5dK2X").default,{color:"color.text.subtlest",size:"medium",align:"center"},r)))))};var r4={};r4=new URL("DarkEmptyState.b237e8cb.png",import.meta.url).toString();var r6={};r6=new URL("LightEmptyState.1b72e55d.png",import.meta.url).toString();var r5={};r5=new URL("DarkError.d13c9c5b.png",import.meta.url).toString();var r9={};r9=new URL("LightError.5b516166.png",import.meta.url).toString();let r8=(0,a("cgtv4").defineMessages)({errorFirstLine:{id:"access-requests.error-title-first-line",defaultMessage:"We couldn't load the requests."},errorSecondLine:{id:"access-requests.error-title-second-line",defaultMessage:"Try again later."},emptyStateTitle:{id:"access-requests.empty-state-title",defaultMessage:"All requests have been resolved"}}),r7=e=>e<10?e:e>=100?"100+":`${10*Math.floor(e/10)}+`,ne=(0,a("ecnYn").xcss)({margin:"0",padding:"space.0",width:"calc(100% + 48px)",left:"space.negative.300",overflowY:"scroll",position:"relative",flexGrow:1}),nt=(0,a("ecnYn").xcss)({height:"1px",width:"calc(100% + 48px)",position:"absolute",borderTopWidth:"border.width",borderTopStyle:"solid",borderColor:"color.border",top:"-1px",left:"space.negative.300",transition:"0.12s opacity ease",opacity:0}),na=(0,a("ecnYn").xcss)({opacity:1}),nr=(0,a("ecnYn").xcss)({minHeight:"24px",width:"100%"}),nn=(0,a("ecnYn").xcss)({paddingBottom:"space.300",height:"100%",width:"100%"}),ns=({tryCacheFirst:t,isBlockedAccessFlowActive:r,maybeStartBlockedAccessFlowForUser:n,minLoadingHeight:s,source:i,onHasUnsavedChanges:o})=>{let{formatMessage:l}=(0,a("8C5kA").default)(),[c]=(0,u.useState)(t?"cache-first":"network-only"),[d,p]=(0,u.useState)(!1),m=(0,u.useCallback)(()=>p(!0),[]),f=(0,u.useCallback)(()=>p(!1),[]),{requests:g,endCursor:h,hasNextPage:E,loading:b,error:_,fetchMore:y,contentId:v,hasFullyLoaded:S}=(0,a("6SeRB").useAccessRequests)(c,"accessRequestsTable"),[,A]=(0,u.useState)(new Map),C=(0,u.useCallback)((e,t,a)=>{A(r=>{let n=new Map(r);return t===a?n.delete(e):n.set(e,{requestId:e,newAccessType:t,originalAccessType:a}),o?.(n.size>0),n})},[o]),I=(0,u.useCallback)(()=>{A(new Map),o?.(!1)},[o]),T=(0,u.useRef)(null),x=(0,u.useRef)(0),k=r0(T),R=g.length,O=async()=>{E&&await y({variables:{after:h},updateQuery:(e,{fetchMoreResult:t})=>{if(T.current?.scrollTop&&(x.current=T.current.scrollTop),!t)return e;let a=[...e.confluence_contentAccessRequestByStatus?.nodes||[],...t.confluence_contentAccessRequestByStatus?.nodes||[]],r=t.confluence_contentAccessRequestByStatus?.pageInfo,n={endCursor:r?.endCursor||null,startCursor:r?.startCursor||null,hasNextPage:r?.hasNextPage||!1,__typename:r?.__typename||"PageInfo"};return{...e,confluence_contentAccessRequestByStatus:{...e.confluence_contentAccessRequestByStatus,nodes:a,pageInfo:n}}}})};(0,u.useLayoutEffect)(()=>{T.current&&x.current&&(T.current.scrollTop=x.current)},[R]);let[w,L]=(0,u.useState)(!1);(0,u.useEffect)(()=>{S&&(L(!0),a("eRpR8").NEW_ACCESS_REQUEST_INDICATOR_STATE_INSTANCE.hideIndicator(v))},[S,v]);let P=w?"initial":`${s}px`,{createAnalyticsEvent:D}=(0,a("inPa6").useAnalyticsEvents)();return((0,u.useEffect)(()=>{w&&D({type:"sendUIEvent",data:{action:"viewed",actionSubject:"accessRequestsTable",source:i,attributes:{count:r7(R),contentId:v}}}).fire()},[w,D,R,v,i]),_)?e(u).createElement("div",{style:{height:P,minHeight:s},className:(0,a("gMc0m").default)(["_kqswh2mm _1bsb1osq _1e0c1txw _2lx21bp4 _c71l1ber"])},e(u).createElement(r3,{textLine:l(r8.errorFirstLine),secondTextLine:l(r8.errorSecondLine),srcLight:e(r9),srcDark:e(r5)})):e(u).createElement("div",{style:{height:P,minHeight:s},className:(0,a("gMc0m").default)(["_kqswh2mm _1bsb1osq _1e0c1txw _2lx21bp4 _c71l1ber"])},e(u).createElement(a("6f0Oj").default,{xcss:[nt,k&&na]}),e(u).createElement(a("1GzhS").default,{xcss:[ne],ref:T,as:"ul",testId:"access-requests-table"},!w&&e(u).createElement(a("dcJ7R").default,{alignInline:"center",alignBlock:"center",xcss:nn},e(u).createElement(a("9hlns").default,{size:"large",testId:"access-requests-table-spinner"})),w&&!b&&0===R&&e(u).createElement(r3,{textLine:l(r8.emptyStateTitle),srcLight:e(r6),srcDark:e(r4)}),w&&R>0&&e(u).createElement(a("bl9WW").default,null,g.flatMap(t=>null!=t?e(u).createElement(rZ,{contentId:v,accessRequest:t,key:t.id,isBlockedAccessFlowActive:r,maybeStartBlockedAccessFlowForUser:n,source:i,shouldBlockRowProcessing:d,onRowProcessingStart:m,onRowProcessingEnd:f,trackChange:C,clearChanges:I}):[])),E?e(u).createElement(a("4B2M3").ObservableSpinner,{onScrollTo:O,testId:"access-requests-table-paginating-spinner",cursor:h,observerOptions:{root:T.current,rootMargin:"100px 0px 0px 0px"}}):w&&e(u).createElement(a("6f0Oj").default,{xcss:nr})))},ni=new class{get accessRequestsLoadingHeight(){let e=2*!this.modalBodyHasTopBottomPadding;return Math.min(this._lastRecordedContentHeight-72+e,416)}constructor(){this._currentHeight=0,this._observeTarget=null,this._canRecordCurrentHeight=!1,this._resizeObserver=void 0,this._lastRecordedContentHeight=0,this.modalBodyHasTopBottomPadding=!1,this.startObservingDialogHeight=e=>{e&&(this._observeTarget=e,this._resizeObserver?.observe(this._observeTarget))},this.stopObservingDialogHeight=()=>{this._currentHeight=0,this._lastRecordedContentHeight=0,this._observeTarget&&this._resizeObserver?.unobserve(this._observeTarget)},this.recordCurrentContentHeight=()=>{this._lastRecordedContentHeight=this._currentHeight},this.setCanRecordCurrentHeight=e=>{this._canRecordCurrentHeight=e,e&&this.recordCurrentContentHeight()},this.getUsdLoadingHeight=({specificAccessVisible:e,isDraft:t,isPublishModalFlow:a})=>{if(this._lastRecordedContentHeight>0)return this._lastRecordedContentHeight;let r=e&&this.modalBodyHasTopBottomPadding?4:0;return this._lastRecordedContentHeight=(e?411:319)+(!t||e||a?0:55)+67*!!a+r,this._lastRecordedContentHeight};{this._resizeObserver=new ResizeObserver(e=>{e.forEach(e=>{this._currentHeight=e.contentRect.height,this._canRecordCurrentHeight&&this.recordCurrentContentHeight()})});let e=window.innerHeight||(window.top?.innerHeight??0);this.modalBodyHasTopBottomPadding=e>888}}},no=()=>ni,nl=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i=(0,d.c)(11),{isInitialDialog:o,isBlockedAccessFlowActive:l,maybeStartBlockedAccessFlowForUser:c,onAccessRequestsChange:p}=t,{accessRequestsLoadingHeight:m,modalBodyHasTopBottomPadding:g}=no(),h=g&&"_otyr1i6y";return i[0]!==h?(r=(0,a("gMc0m").default)([h]),i[0]=h,i[1]=r):r=i[1],i[2]!==m||i[3]!==l||i[4]!==o||i[5]!==c||i[6]!==p?(n=e(u).createElement(ns,{tryCacheFirst:o,isBlockedAccessFlowActive:l,maybeStartBlockedAccessFlowForUser:c,minLoadingHeight:m,source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,onHasUnsavedChanges:p}),i[2]=m,i[3]=l,i[4]=o,i[5]=c,i[6]=p,i[7]=n):n=i[7],i[8]!==r||i[9]!==n?(s=e(u).createElement("div",{"data-testid":"access-requests-dialog-body",className:r},n),i[8]=r,i[9]=n,i[10]=s):s=i[10],s}:({isInitialDialog:t,isBlockedAccessFlowActive:r,maybeStartBlockedAccessFlowForUser:n,onAccessRequestsChange:s})=>{let{accessRequestsLoadingHeight:i,modalBodyHasTopBottomPadding:o}=no();return e(u).createElement("div",{"data-testid":"access-requests-dialog-body",className:(0,a("gMc0m").default)([o&&"_otyr1i6y"])},e(u).createElement(ns,{tryCacheFirst:t,isBlockedAccessFlowActive:r,maybeStartBlockedAccessFlowForUser:n,minLoadingHeight:i,source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,onHasUnsavedChanges:s}))},nc=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l=(0,d.c)(13),{specificAccessDetails:c,publicLinkDialogBody:p,shareToSlackDialogBody:m,accessRequestsDialogBody:f}=t;return l[0]!==c?(r=c&&e(u).createElement(rg,c),l[0]=c,l[1]=r):r=l[1],l[2]!==p?(n=p&&e(u).createElement(rw,p),l[2]=p,l[3]=n):n=l[3],l[4]!==m?(s=m&&e(u).createElement(rU,m),l[4]=m,l[5]=s):s=l[5],l[6]!==f?(i=f&&e(u).createElement(nl,f),l[6]=f,l[7]=i):i=l[7],l[8]!==r||l[9]!==n||l[10]!==s||l[11]!==i?(o=e(u).createElement(a("eyWa4").default,{grow:"fill"},r,n,s,i),l[8]=r,l[9]=n,l[10]=s,l[11]=i,l[12]=o):o=l[12],o}:({specificAccessDetails:t,publicLinkDialogBody:r,shareToSlackDialogBody:n,accessRequestsDialogBody:s})=>e(u).createElement(a("eyWa4").default,{grow:"fill"},t&&e(u).createElement(rg,t),r&&e(u).createElement(rw,r),n&&e(u).createElement(rU,n),s&&e(u).createElement(nl,s)),nd=(0,c.isReactCompilerActiveV1)()?()=>{let t,r=(0,d.c)(1);return r[0]===Symbol.for("react.memo_cache_sentinel")?(t=e(u).createElement(a("eyWa4").default,{grow:"fill"},e(u).createElement(a("u9agA").default,{grow:"fill",alignInline:"center",alignBlock:"center"},e(u).createElement(a("9hlns").default,{size:"large",interactionName:"load"}))),r[0]=t):t=r[0],t}:()=>e(u).createElement(a("eyWa4").default,{grow:"fill"},e(u).createElement(a("u9agA").default,{grow:"fill",alignInline:"center",alignBlock:"center"},e(u).createElement(a("9hlns").default,{size:"large",interactionName:"load"})));var nu=a("5spQU");let np=(0,c.isReactCompilerActiveV1)()?()=>{let t,a,r,n,s,i,o=(0,d.c)(6);return o[0]===Symbol.for("react.memo_cache_sentinel")?(t=e(u).createElement("style",null,".prefix__st0{fill:#e01e5a}.prefix__st1{fill:#36c5f0}.prefix__st2{fill:#2eb67d}.prefix__st3{fill:#ecb22e}"),a=e(u).createElement("path",{fill:"none",id:"prefix__canvas_background",d:"M-1-1h127v127H-1z"}),o[0]=t,o[1]=a):(t=o[0],a=o[1]),o[2]===Symbol.for("react.memo_cache_sentinel")?(r=e(u).createElement("g",{id:"prefix__svg_2"},e(u).createElement("path",{id:"prefix__svg_3",d:"M27.4 79.2c0 7.1-5.8 12.9-12.9 12.9-7.1 0-12.9-5.8-12.9-12.9 0-7.1 5.8-12.9 12.9-12.9h12.9v12.9z",className:"prefix__st0"}),e(u).createElement("path",{id:"prefix__svg_4",d:"M33.9 79.2c0-7.1 5.8-12.9 12.9-12.9s12.9 5.8 12.9 12.9v32.3c0 7.1-5.8 12.9-12.9 12.9s-12.9-5.8-12.9-12.9V79.2z",className:"prefix__st0"})),o[2]=r):r=o[2],o[3]===Symbol.for("react.memo_cache_sentinel")?(n=e(u).createElement("g",{id:"prefix__svg_5"},e(u).createElement("path",{id:"prefix__svg_6",d:"M46.8 27.4c-7.1 0-12.9-5.8-12.9-12.9 0-7.1 5.8-12.9 12.9-12.9s12.9 5.8 12.9 12.9v12.9H46.8z",className:"prefix__st1"}),e(u).createElement("path",{id:"prefix__svg_7",d:"M46.8 33.9c7.1 0 12.9 5.8 12.9 12.9s-5.8 12.9-12.9 12.9H14.5c-7.1 0-12.9-5.8-12.9-12.9s5.8-12.9 12.9-12.9h32.3z",className:"prefix__st1"})),o[3]=n):n=o[3],o[4]===Symbol.for("react.memo_cache_sentinel")?(s=e(u).createElement("g",{id:"prefix__svg_8"},e(u).createElement("path",{id:"prefix__svg_9",d:"M98.6 46.8c0-7.1 5.8-12.9 12.9-12.9 7.1 0 12.9 5.8 12.9 12.9s-5.8 12.9-12.9 12.9H98.6V46.8z",className:"prefix__st2"}),e(u).createElement("path",{id:"prefix__svg_10",d:"M92.1 46.8c0 7.1-5.8 12.9-12.9 12.9-7.1 0-12.9-5.8-12.9-12.9V14.5c0-7.1 5.8-12.9 12.9-12.9 7.1 0 12.9 5.8 12.9 12.9v32.3z",className:"prefix__st2"})),o[4]=s):s=o[4],o[5]===Symbol.for("react.memo_cache_sentinel")?(i=e(u).createElement("svg",{width:"16",height:"16",viewBox:"0 0 125 125"},t,a,e(u).createElement("g",null,e(u).createElement("g",{id:"prefix__svg_1"},r,n,s,e(u).createElement("g",{id:"prefix__svg_11"},e(u).createElement("path",{id:"prefix__svg_12",d:"M79.2 98.6c7.1 0 12.9 5.8 12.9 12.9 0 7.1-5.8 12.9-12.9 12.9-7.1 0-12.9-5.8-12.9-12.9V98.6h12.9z",className:"prefix__st3"}),e(u).createElement("path",{id:"prefix__svg_13",d:"M79.2 92.1c-7.1 0-12.9-5.8-12.9-12.9 0-7.1 5.8-12.9 12.9-12.9h32.3c7.1 0 12.9 5.8 12.9 12.9 0 7.1-5.8 12.9-12.9 12.9H79.2z",className:"prefix__st3"}))))),o[5]=i):i=o[5],i}:()=>e(u).createElement("svg",{width:"16",height:"16",viewBox:"0 0 125 125"},e(u).createElement("style",null,".prefix__st0{fill:#e01e5a}.prefix__st1{fill:#36c5f0}.prefix__st2{fill:#2eb67d}.prefix__st3{fill:#ecb22e}"),e(u).createElement("path",{fill:"none",id:"prefix__canvas_background",d:"M-1-1h127v127H-1z"}),e(u).createElement("g",null,e(u).createElement("g",{id:"prefix__svg_1"},e(u).createElement("g",{id:"prefix__svg_2"},e(u).createElement("path",{id:"prefix__svg_3",d:"M27.4 79.2c0 7.1-5.8 12.9-12.9 12.9-7.1 0-12.9-5.8-12.9-12.9 0-7.1 5.8-12.9 12.9-12.9h12.9v12.9z",className:"prefix__st0"}),e(u).createElement("path",{id:"prefix__svg_4",d:"M33.9 79.2c0-7.1 5.8-12.9 12.9-12.9s12.9 5.8 12.9 12.9v32.3c0 7.1-5.8 12.9-12.9 12.9s-12.9-5.8-12.9-12.9V79.2z",className:"prefix__st0"})),e(u).createElement("g",{id:"prefix__svg_5"},e(u).createElement("path",{id:"prefix__svg_6",d:"M46.8 27.4c-7.1 0-12.9-5.8-12.9-12.9 0-7.1 5.8-12.9 12.9-12.9s12.9 5.8 12.9 12.9v12.9H46.8z",className:"prefix__st1"}),e(u).createElement("path",{id:"prefix__svg_7",d:"M46.8 33.9c7.1 0 12.9 5.8 12.9 12.9s-5.8 12.9-12.9 12.9H14.5c-7.1 0-12.9-5.8-12.9-12.9s5.8-12.9 12.9-12.9h32.3z",className:"prefix__st1"})),e(u).createElement("g",{id:"prefix__svg_8"},e(u).createElement("path",{id:"prefix__svg_9",d:"M98.6 46.8c0-7.1 5.8-12.9 12.9-12.9 7.1 0 12.9 5.8 12.9 12.9s-5.8 12.9-12.9 12.9H98.6V46.8z",className:"prefix__st2"}),e(u).createElement("path",{id:"prefix__svg_10",d:"M92.1 46.8c0 7.1-5.8 12.9-12.9 12.9-7.1 0-12.9-5.8-12.9-12.9V14.5c0-7.1 5.8-12.9 12.9-12.9 7.1 0 12.9 5.8 12.9 12.9v32.3z",className:"prefix__st2"})),e(u).createElement("g",{id:"prefix__svg_11"},e(u).createElement("path",{id:"prefix__svg_12",d:"M79.2 98.6c7.1 0 12.9 5.8 12.9 12.9 0 7.1-5.8 12.9-12.9 12.9-7.1 0-12.9-5.8-12.9-12.9V98.6h12.9z",className:"prefix__st3"}),e(u).createElement("path",{id:"prefix__svg_13",d:"M79.2 92.1c-7.1 0-12.9-5.8-12.9-12.9 0-7.1 5.8-12.9 12.9-12.9h32.3c7.1 0 12.9 5.8 12.9 12.9 0 7.1-5.8 12.9-12.9 12.9H79.2z",className:"prefix__st3"}))))),nm=(0,a("ecnYn").xcss)({boxSizing:"border-box",paddingTop:"space.150",paddingBottom:"space.150",paddingLeft:"space.250",paddingRight:"space.250",borderTop:"var(--ds-border-width, 1px) solid var(--ds-border, #0B120E24)"}),nf=(0,a("cgtv4").defineMessages)({copyLink:{id:"share-and-restrict-dialog.footer.copy-link",defaultMessage:"Copy link"},publicLink:{id:"share-and-restrict-dialog.footer.public-link",defaultMessage:"Public link"},publicLinkIsOn:{id:"share-and-restrict-dialog.footer.public-link-is-on",defaultMessage:"Public link is on"},slack:{id:"share-and-restrict-dialog.footer.slack",defaultMessage:"Slack"}}),ng=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p,m,g,h=(0,d.c)(48),{contentId:E,contentType:b,spaceKey:_,pageMode:y,isLockedOut:v,isUnpublishedDraft:S,isLivePage:A,onSlackClick:C,onPublicLinkClick:I,isPublicLinkOn:T,lastTriggeredDialogVariant:x,publicLinkButtonRef:k,shareToSlackButtonRef:R,clearElementToFocus:O,natureOfCta:w}=t,L=(0,a("8C5kA").default)(),{createAnalyticsEvent:P}=(0,a("inPa6").useAnalyticsEvents)();if(h[0]===Symbol.for("react.memo_cache_sentinel")){let e=(0,a("lzcvT").isFedRamp)();r=(0,a("9wGTI").fg)("use_frontend_feature_encoding_sdk")?(0,nu.isFeatureEnabled)("confluence","confluence-share-to-slack-button"):!e&&!((0,a("T9xHm").isIsolatedCloud)()&&(0,a("9wGTI").fg)("hide-share-to-slack-for-ic")),h[0]=r}else r=h[0];let D=r&&!S,M=!S&&("page"===b||"whiteboard"===b);h[1]!==O||h[2]!==x||h[3]!==k||h[4]!==R?(n=()=>{if(!x)return;let e=!1;"publicLink"===x&&k?.current?(k.current.focus(),e=!0):"shareToSlack"===x&&R?.current&&(R.current.focus(),e=!0),e&&O()},s=[x,k,R,O],h[1]=O,h[2]=x,h[3]=k,h[4]=R,h[5]=n,h[6]=s):(n=h[5],s=h[6]),(0,u.useEffect)(n,s),h[7]!==T?(i={label:"",...T?{secondaryColor:"var(--ds-icon-accent-green, #22A06B)"}:{}},h[7]=T,h[8]=i):i=h[8];let N=i,U=T?r_:e(a("buthI"));h[9]!==E||h[10]!==b||h[11]!==P||h[12]!==A||h[13]!==C||h[14]!==y?(o=()=>{P({type:"sendUIEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"clicked",actionSubject:"button",actionSubjectId:"ShareToSlackFooterButton",attributes:{contentId:E,contentType:b,isLivePage:A,pageMode:y}}}).fire(),C()},h[9]=E,h[10]=b,h[11]=P,h[12]=A,h[13]=C,h[14]=y,h[15]=o):o=h[15];let j=o;return h[16]!==L?(l=L.formatMessage(nf.copyLink),h[16]=L,h[17]=l):l=h[17],h[18]!==E||h[19]!==b||h[20]!==A||h[21]!==v||h[22]!==S||h[23]!==y||h[24]!==_||h[25]!==l?(c=e(u).createElement(a("hkzol").CopyLinkButton,{buttonAppearance:"subtle",contentId:E,contentType:b,spaceKey:_,pageMode:y,isDraft:S,isLivePage:A,source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,buttonText:l,isDisabled:v}),h[18]=E,h[19]=b,h[20]=A,h[21]=v,h[22]=S,h[23]=y,h[24]=_,h[25]=l,h[26]=c):c=h[26],h[27]!==j||h[28]!==L||h[29]!==v||h[30]!==w||h[31]!==R||h[32]!==D?(p="none"!==w&&(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?null:D&&e(u).createElement(a("ccHMk").default,{appearance:"subtle",iconBefore:np,onClick:j,isDisabled:v,ref:R},L.formatMessage(nf.slack)),h[27]=j,h[28]=L,h[29]=v,h[30]=w,h[31]=R,h[32]=D,h[33]=p):p=h[33],h[34]!==U||h[35]!==N||h[36]!==L||h[37]!==v||h[38]!==T||h[39]!==w||h[40]!==I||h[41]!==k||h[42]!==M?(m="none"!==w&&(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?null:M&&e(u).createElement(a("ccHMk").default,{appearance:"subtle",iconBefore:t=>e(u).createElement(U,{...t,...N}),onClick:I,isDisabled:v,ref:k},T?L.formatMessage(nf.publicLinkIsOn):L.formatMessage(nf.publicLink)),h[34]=U,h[35]=N,h[36]=L,h[37]=v,h[38]=T,h[39]=w,h[40]=I,h[41]=k,h[42]=M,h[43]=m):m=h[43],h[44]!==c||h[45]!==p||h[46]!==m?(g=e(u).createElement(a("dcJ7R").default,{grow:"fill",spread:"space-between",alignBlock:"center",xcss:nm},e(u).createElement(a("dcJ7R").default,{space:"space.100"},c,p,m)),h[44]=c,h[45]=p,h[46]=m,h[47]=g):g=h[47],g}:({contentId:t,contentType:r,spaceKey:n,pageMode:s,isLockedOut:i,isUnpublishedDraft:o,isLivePage:l,onSlackClick:c,onPublicLinkClick:d,isPublicLinkOn:p,lastTriggeredDialogVariant:m,publicLinkButtonRef:g,shareToSlackButtonRef:h,clearElementToFocus:E,natureOfCta:b})=>{let _=(0,a("8C5kA").default)(),{createAnalyticsEvent:y}=(0,a("inPa6").useAnalyticsEvents)(),v=(0,a("lzcvT").isFedRamp)(),S=(0,a("9wGTI").fg)("use_frontend_feature_encoding_sdk")?(0,nu.isFeatureEnabled)("confluence","confluence-share-to-slack-button"):!v&&!((0,a("T9xHm").isIsolatedCloud)()&&(0,a("9wGTI").fg)("hide-share-to-slack-for-ic"));(0,u.useEffect)(()=>{if(!m)return;let e=!1;"publicLink"===m&&g?.current?(g.current.focus(),e=!0):"shareToSlack"===m&&h?.current&&(h.current.focus(),e=!0),e&&E()},[m,g,h,E]);let A={label:"",...p?{secondaryColor:"var(--ds-icon-accent-green, #22A06B)"}:{}},C=p?r_:e(a("buthI"));return e(u).createElement(a("dcJ7R").default,{grow:"fill",spread:"space-between",alignBlock:"center",xcss:nm},e(u).createElement(a("dcJ7R").default,{space:"space.100"},e(u).createElement(a("hkzol").CopyLinkButton,{buttonAppearance:"subtle",contentId:t,contentType:r,spaceKey:n,pageMode:s,isDraft:o,isLivePage:l,source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,buttonText:_.formatMessage(nf.copyLink),isDisabled:i}),"none"!==b&&(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?null:S&&!o&&e(u).createElement(a("ccHMk").default,{appearance:"subtle",iconBefore:np,onClick:()=>{y({type:"sendUIEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"clicked",actionSubject:"button",actionSubjectId:"ShareToSlackFooterButton",attributes:{contentId:t,contentType:r,isLivePage:l,pageMode:s}}}).fire(),c()},isDisabled:i,ref:h},_.formatMessage(nf.slack)),"none"!==b&&(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?null:!o&&("page"===r||"whiteboard"===r)&&e(u).createElement(a("ccHMk").default,{appearance:"subtle",iconBefore:t=>e(u).createElement(C,{...t,...A}),onClick:d,isDisabled:i,ref:g},p?_.formatMessage(nf.publicLinkIsOn):_.formatMessage(nf.publicLink))))},nh={footer:"_19pk1wug"},nE=(0,c.isReactCompilerActiveV1)()?e=>{let t,r,n,s,i=(0,d.c)(8),{ctaNotifyMessageFooter:o,distributionFooter:l}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a("1Whri").cx)(nh.footer),i[0]=t):t=i[0],i[1]!==o?(r=o&&!(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")&&u.createElement(D,o),i[1]=o,i[2]=r):r=i[2],i[3]!==l?(n=l&&u.createElement(ng,l),i[3]=l,i[4]=n):n=i[4],i[5]!==r||i[6]!==n?(s=u.createElement(a("eyWa4").default,{grow:"hug",xcss:t},r,n),i[5]=r,i[6]=n,i[7]=s):s=i[7],s}:({ctaNotifyMessageFooter:e,distributionFooter:t})=>u.createElement(a("eyWa4").default,{grow:"hug",xcss:(0,a("1Whri").cx)(nh.footer)},e&&!(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")&&u.createElement(D,e),t&&u.createElement(ng,t));var nb=a("bxB0V");let n_=(0,a("cgtv4").defineMessages)({title:{id:"share-and-restrict-dialog.share-nudge-publish.title",defaultMessage:"Your work deserves an audience"},body:{id:"share-and-restrict-dialog.share-nudge-publish.body",defaultMessage:"Share this page with someone so they can contribute or simply view it."},cta:{id:"share-and-restrict-dialog.share-nudge-publish.cta",defaultMessage:"OK"}}),ny=(0,c.isReactCompilerActiveV1)()?()=>{let t,r,n=(0,d.c)(2);return n[0]===Symbol.for("react.memo_cache_sentinel")?(t=e(u).createElement(a("7hXDW").default,{size:"medium",color:"color.text.inverse"},e(u).createElement(a("gtD4K").default,n_.title)),n[0]=t):t=n[0],n[1]===Symbol.for("react.memo_cache_sentinel")?(r=e(u).createElement(a("eyWa4").default,{space:"space.100"},t,e(u).createElement(a("iXCQx").default,{color:"color.text.inverse"},e(u).createElement(a("gtD4K").default,n_.body))),n[1]=r):r=n[1],r}:()=>e(u).createElement(a("eyWa4").default,{space:"space.100"},e(u).createElement(a("7hXDW").default,{size:"medium",color:"color.text.inverse"},e(u).createElement(a("gtD4K").default,n_.title)),e(u).createElement(a("iXCQx").default,{color:"color.text.inverse"},e(u).createElement(a("gtD4K").default,n_.body))),nv=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p,m,f,g=(0,d.c)(20),{children:h}=t,{createAnalyticsEvent:E}=(0,a("inPa6").useAnalyticsEvents)(),{formatMessage:b}=(0,a("8C5kA").default)(),[_,y]=(0,u.useState)(!1);return g[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{y(!0)},n=e(u).createElement(ny,null),g[0]=r,g[1]=n):(r=g[0],n=g[1]),g[2]!==E?(s=()=>{E({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"shareAndRestrictDialogNudgeOk",source:"shareAndRestrictDialog"}}).fire(),y(!0)},g[2]=E,g[3]=s):s=g[3],g[4]!==b?(i=b(n_.cta),g[4]=b,g[5]=i):i=g[5],g[6]!==s||g[7]!==i?(o=[{onClick:s,text:i}],g[6]=s,g[7]=i,g[8]=o):o=g[8],g[9]!==E?(l=()=>{E({type:"sendScreenEvent",data:{name:"shareAndRestrictDialogNudge"}}).fire()},g[9]=E,g[10]=l):l=g[10],g[11]===Symbol.for("react.memo_cache_sentinel")?(c=a("dTk3A").layers.modal(),p=(0,a("gMc0m").default)(["_1h6d1j28 _1dqonqa1 _189ee4h9"]),g[11]=c,g[12]=p):(c=g[11],p=g[12]),g[13]!==h?(m=e(u).createElement("div",{className:p},h),g[13]=h,g[14]=m):m=g[14],g[15]!==_||g[16]!==o||g[17]!==l||g[18]!==m?(f=e(u).createElement(nb.OnboardingNudge,{hidden:_,setHidden:r,content:n,actionSubjectId:"contextualInviteNudge",source:"share-and-restrict-dialog-nudge",width:275,actions:o,position:"right-start",onShow:l,zIndex:c},m),g[15]=_,g[16]=o,g[17]=l,g[18]=m,g[19]=f):f=g[19],f}:({children:t})=>{let{createAnalyticsEvent:r}=(0,a("inPa6").useAnalyticsEvents)(),{formatMessage:n}=(0,a("8C5kA").default)(),[s,i]=(0,u.useState)(!1);return e(u).createElement(nb.OnboardingNudge,{hidden:s,setHidden:()=>{i(!0)},content:e(u).createElement(ny,null),actionSubjectId:"contextualInviteNudge",source:"share-and-restrict-dialog-nudge",width:275,actions:[{onClick:()=>{r({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"shareAndRestrictDialogNudgeOk",source:"shareAndRestrictDialog"}}).fire(),i(!0)},text:n(n_.cta)}],position:"right-start",onShow:()=>{r({type:"sendScreenEvent",data:{name:"shareAndRestrictDialogNudge"}}).fire()},zIndex:a("dTk3A").layers.modal()},e(u).createElement("div",{className:(0,a("gMc0m").default)(["_1h6d1j28 _1dqonqa1 _189ee4h9"])},t))},nS=(0,c.isReactCompilerActiveV1)()?t=>{let a,r=(0,d.c)(3),{children:n,showDialogNudgeSpotlight:s}=t;return r[0]!==n||r[1]!==s?(a=s?e(u).createElement(nv,null,n):n,r[0]=n,r[1]=s,r[2]=a):a=r[2],a}:({children:t,showDialogNudgeSpotlight:a})=>a?e(u).createElement(nv,null,t):t,nA=()=>888>(window.innerHeight||(window.top?.innerHeight??0)),nC=()=>Math.min(600,window.innerWidth-80),nI=({header:t,body:r,footer:n,onCloseRequest:s,onCloseComplete:i,isLoading:o,usdLoadingHeightContext:l,analyticsAttributes:c,showDialogNudgeSpotlight:d,openAccessRequestsDialog:p,onInitialDialogOpen:m})=>{let h=(0,u.useContext)(a("1kHsc").ExperienceTrackerContext),{createAnalyticsEvent:E}=(0,a("inPa6").useAnalyticsEvents)(),{Modal:b}=(0,a("lsxnT").useChoreographerAssets)(),{contentId:_,contentType:y,contentSubType:v,isLivePage:S,isDraft:A,pageMode:C,generalAccessLevel:I,openFrom:T}=c||{},x=(0,u.useMemo)(nA,[]),[k,R]=(0,u.useState)(x),O=(0,u.useMemo)(nC,[]),[w,L]=(0,u.useState)(O),{addRecommendedUserCount:P,sendRecommendedUsersCount:D}=g(),M=(0,u.useCallback)(()=>{P()},[P]);(0,u.useEffect)(()=>{let e=()=>{R(nA),L(nC)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,u.useEffect)(()=>()=>D(),[D]),(0,u.useEffect)(()=>{o||(E({type:"sendScreenEvent",data:{name:"shareAndRestrictDialogModal",attributes:{contentId:_,contentType:y,contentSubType:v,isLivePage:S,isDraft:A,pageMode:C,generalAccessLevel:I,openFrom:T??"ShareAndRestrictButton",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE}}}).fire(),h.succeed({name:a("irVI7").SHARE_AND_RESTRICT_DIALOG_LOAD_EXPERIENCE}))},[h,o,E,_,y,v,S,A,C,T,I]);let N=no(),U=!o&&t?.titleAndButtons.title==="share",j=l?N.getUsdLoadingHeight(l):void 0;return(0,u.useEffect)(()=>{N.setCanRecordCurrentHeight(U)},[N,U]),(0,u.useEffect)(()=>{if(p)return p(),()=>m?.()},[p,m]),e(u).createElement(a("6cnUO").default,null,e(u).createElement(b,{height:j,width:w,onClose:s,onCloseComplete:()=>{N.stopObservingDialogHeight(),i()},onOpenComplete:N.startObservingDialogHeight,shouldScrollInViewport:k,testId:"modal-dialog-share-and-restrict"},e(u).createElement(nS,{showDialogNudgeSpotlight:d},e(u).createElement(a("9ot3w").default,{hasCloseButton:!1},t&&e(u).createElement(aP,{...t,onSuggestedUserClick:M})),o?e(u).createElement(nd,null):e(u).createElement(e(u).Fragment,null,r&&e(u).createElement(a("1DHa6").default,null,e(u).createElement(nc,r))),n&&e(u).createElement(nE,n))))},nT=(0,a("cgtv4").defineMessages)({heading:{id:"share-and-restrict-dialog.close-confirmation.heading",defaultMessage:"Unsaved changes"},body:{id:"share-and-restrict-dialog.close-confirmation.body",defaultMessage:"You have unsaved changes that will be lost if you close the share window. Do you want to discard them?"},cancelButton:{id:"share-and-restrict-dialog.close-confirmation.cancel",defaultMessage:"Cancel"},discardButton:{id:"share-and-restrict-dialog.close-confirmation.discard",defaultMessage:"Discard"}}),nx=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p,m,g,h=(0,d.c)(21),{onDiscard:E,onCancel:b,focusRef:_}=t,{createAnalyticsEvent:y}=(0,a("inPa6").useAnalyticsEvents)(),{Modal:v}=(0,a("lsxnT").useChoreographerAssets)();h[0]!==y||h[1]!==E?(r=()=>{y({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"discardShareAndRestrictChanges",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE}}).fire(),E()},h[0]=y,h[1]=E,h[2]=r):r=h[2];let S=r;return h[3]===Symbol.for("react.memo_cache_sentinel")?(n=e(u).createElement(a("d8eRd").default,null,e(u).createElement(a("gtD4K").default,nT.heading)),h[3]=n):n=h[3],h[4]!==b?(s=e(u).createElement(a("9ot3w").default,null,n,e(u).createElement(a("8TTLA").CloseButton,{onClick:b})),h[4]=b,h[5]=s):s=h[5],h[6]===Symbol.for("react.memo_cache_sentinel")?(i=e(u).createElement(a("1DHa6").default,null,e(u).createElement(a("gtD4K").default,nT.body)),h[6]=i):i=h[6],h[7]===Symbol.for("react.memo_cache_sentinel")?(o=e(u).createElement(a("gtD4K").default,nT.cancelButton),h[7]=o):o=h[7],h[8]!==b?(l=e(u).createElement(a("ccHMk").default,{onClick:b},o),h[8]=b,h[9]=l):l=h[9],h[10]===Symbol.for("react.memo_cache_sentinel")?(c=e(u).createElement(a("gtD4K").default,nT.discardButton),h[10]=c):c=h[10],h[11]!==S?(p=e(u).createElement(a("ccHMk").default,{appearance:"warning",onClick:S},c),h[11]=S,h[12]=p):p=h[12],h[13]!==l||h[14]!==p?(m=e(u).createElement(a("8o1lj").default,null,l,p),h[13]=l,h[14]=p,h[15]=m):m=h[15],h[16]!==v||h[17]!==_||h[18]!==s||h[19]!==m?(g=e(u).createElement(v,{width:"small",shouldReturnFocus:_,testId:"modal-dialog-share-close-confirmation"},s,i,m),h[16]=v,h[17]=_,h[18]=s,h[19]=m,h[20]=g):g=h[20],g}:({onDiscard:t,onCancel:r,focusRef:n})=>{let{createAnalyticsEvent:s}=(0,a("inPa6").useAnalyticsEvents)(),{Modal:i}=(0,a("lsxnT").useChoreographerAssets)(),o=(0,u.useCallback)(()=>{s({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"discardShareAndRestrictChanges",source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE}}).fire(),t()},[s,t]);return e(u).createElement(i,{width:"small",shouldReturnFocus:n,testId:"modal-dialog-share-close-confirmation"},e(u).createElement(a("9ot3w").default,null,e(u).createElement(a("d8eRd").default,null,e(u).createElement(a("gtD4K").default,nT.heading)),e(u).createElement(a("8TTLA").CloseButton,{onClick:r})),e(u).createElement(a("1DHa6").default,null,e(u).createElement(a("gtD4K").default,nT.body)),e(u).createElement(a("8o1lj").default,null,e(u).createElement(a("ccHMk").default,{onClick:r},e(u).createElement(a("gtD4K").default,nT.cancelButton)),e(u).createElement(a("ccHMk").default,{appearance:"warning",onClick:o},e(u).createElement(a("gtD4K").default,nT.discardButton))))},nk=(0,c.isReactCompilerActiveV1)()?t=>{let r,n=(0,d.c)(2);return n[0]!==t?(r=e(u).createElement(a("cryCi").Provider,null,e(u).createElement(nx,t)),n[0]=t,n[1]=r):r=n[1],r}:t=>e(u).createElement(a("cryCi").Provider,null,e(u).createElement(nx,t));var nR=a("13PIz");let nO={spinnerContainer:"_1yt4pxbi _1e0c1txw _4cvr1h6o _1bah1h6o _4t3i1osq"},nw=(0,a("cgtv4").defineMessages)({heading:{id:"share-and-restrict-dialog.group-notify-warning.heading",defaultMessage:"Notify everyone in the group?"},headingWithTeams:{id:"share-and-restrict-dialog.group-notify-warning.heading-with-teams",defaultMessage:"Notify everyone?"},body:{id:"share-and-restrict-dialog.group-notify-warning.body",defaultMessage:"Groups often contain a lot of people. It might be a little noisy to notify them all. Are you sure you want to notify everyone in these groups?"},bodyWithTeams:{id:"share-and-restrict-dialog.group-notify-warning.body-with-teams",defaultMessage:"Teams and groups often contain a lot of people. It might be a little noisy to notify them all. Are you sure you want to notify everyone in these teams and groups?"},doNotifyButton:{id:"share-and-restrict-dialog.group-notify-warning.do-notify",defaultMessage:"Notify groups"},doNotifyButtonWithTeams:{id:"share-and-restrict-dialog.group-notify-warning.do-notify-with-teams",defaultMessage:"Notify them all"},doNotNotifyButton:{id:"share-and-restrict-dialog.group-notify-warning.do-not-notify",defaultMessage:"Share without notifying"}}),nL=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o=(0,d.c)(17),{groupNames:l,groupList:c,isSaving:p,onDoNotify:m,onDoNotNotify:f,onCloseComplete:g}=t,h=(0,u.useRef)(null),{Modal:E}=(0,a("lsxnT").useChoreographerAssets)();o[0]!==c?(r={data:void 0,publishModalRestrictions:void 0,error:void 0,groupList:c},o[0]=c,o[1]=r):r=o[1];let{groupAndTeamCountsMap:b,isGroupsCountLoading:_}=(0,nR.useGroupsAndTeamCountQuery)(r);c.forEach(e=>{let t=b.get(e.id);void 0!==t&&(e.memberCount=t)}),o[2]!==p||o[3]!==f?(n=()=>!p&&f(),o[2]=p,o[3]=f,o[4]=n):n=o[4];let y=n;return o[5]!==y||o[6]!==c||o[7]!==l||o[8]!==_||o[9]!==p||o[10]!==f||o[11]!==m?(s=_?e(u).createElement(a("gdv5Z").default,{xcss:nO.spinnerContainer},e(u).createElement(a("9hlns").default,{size:"large"})):e(u).createElement(e(u).Fragment,null,e(u).createElement(a("9ot3w").default,null,e(u).createElement(a("d8eRd").default,null,e(u).createElement(a("gtD4K").default,(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?nw.headingWithTeams:nw.heading)),e(u).createElement(a("8TTLA").CloseButton,{onClick:y})),e(u).createElement(a("1DHa6").default,null,e(u).createElement(a("eyWa4").default,{space:"space.200"},e(u).createElement(a("gtD4K").default,(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?nw.bodyWithTeams:nw.body),(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?e(u).createElement(a("eyWa4").default,{space:"space.200"},c.map(nP)):e(u).createElement(a("u9agA").default,null,e(u).createElement(a("iXCQx").default,{weight:"bold"},l.join(", "))))),e(u).createElement(a("8o1lj").default,null,e(u).createElement(a("ccHMk").default,{isDisabled:p,onClick:f},e(u).createElement(a("gtD4K").default,nw.doNotNotifyButton)),e(u).createElement(a("ccHMk").default,{appearance:"primary",isDisabled:p,onClick:m,ref:h},e(u).createElement(a("gtD4K").default,(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?nw.doNotifyButtonWithTeams:nw.doNotifyButton)))),o[5]=y,o[6]=c,o[7]=l,o[8]=_,o[9]=p,o[10]=f,o[11]=m,o[12]=s):s=o[12],o[13]!==E||o[14]!==g||o[15]!==s?(i=e(u).createElement(E,{width:"medium",autoFocus:h,onCloseComplete:g,testId:"modal-dialog-share-group-notify-warning"},s),o[13]=E,o[14]=g,o[15]=s,o[16]=i):i=o[16],i}:({groupNames:t,groupList:r,isSaving:n,onDoNotify:s,onDoNotNotify:i,onCloseComplete:o})=>{let l=(0,u.useRef)(null),{Modal:c}=(0,a("lsxnT").useChoreographerAssets)(),{groupAndTeamCountsMap:d,isGroupsCountLoading:p}=(0,nR.useGroupsAndTeamCountQuery)({data:void 0,publishModalRestrictions:void 0,error:void 0,groupList:r});return r.forEach(e=>{let t=d.get(e.id);void 0!==t&&(e.memberCount=t)}),e(u).createElement(c,{width:"medium",autoFocus:l,onCloseComplete:o,testId:"modal-dialog-share-group-notify-warning"},p?e(u).createElement(a("gdv5Z").default,{xcss:nO.spinnerContainer},e(u).createElement(a("9hlns").default,{size:"large"})):e(u).createElement(e(u).Fragment,null,e(u).createElement(a("9ot3w").default,null,e(u).createElement(a("d8eRd").default,null,e(u).createElement(a("gtD4K").default,(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?nw.headingWithTeams:nw.heading)),e(u).createElement(a("8TTLA").CloseButton,{onClick:()=>!n&&i()})),e(u).createElement(a("1DHa6").default,null,e(u).createElement(a("eyWa4").default,{space:"space.200"},e(u).createElement(a("gtD4K").default,(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?nw.bodyWithTeams:nw.body),(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?e(u).createElement(a("eyWa4").default,{space:"space.200"},r.map(t=>e(u).createElement(a5,{key:t.id,...t,"data-testid":`group-details-${t.type}`}))):e(u).createElement(a("u9agA").default,null,e(u).createElement(a("iXCQx").default,{weight:"bold"},t.join(", "))))),e(u).createElement(a("8o1lj").default,null,e(u).createElement(a("ccHMk").default,{isDisabled:n,onClick:i},e(u).createElement(a("gtD4K").default,nw.doNotNotifyButton)),e(u).createElement(a("ccHMk").default,{appearance:"primary",isDisabled:n,onClick:s,ref:l},e(u).createElement(a("gtD4K").default,(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?nw.doNotifyButtonWithTeams:nw.doNotifyButton)))))};function nP(t){return e(u).createElement(a5,{key:t.id,...t,"data-testid":`group-details-${t.type}`})}var nD=a("86H8K");let nM=(0,a("cgtv4").defineMessages)({headingSingleUser:{id:"share-and-restrict-dialog.restricted-access-warning.heading.single-user",defaultMessage:"Someone needs additional access"},headingMultiUser:{id:"share-and-restrict-dialog.restricted-access-warning.heading.multi-user",defaultMessage:"Some people need additional access"},body:{id:"share-and-restrict-dialog.restricted-access-warning.body",defaultMessage:"They need access elsewhere first before they can have the indicated access to <b>{page}</b>. Contact a space admin or <learnMoreLink>read our troubleshooting guide</learnMoreLink>. "},usersNameList:{id:"share-and-restrict-dialog.restricted-access-warning.users",defaultMessage:"{usersCount, plural, one {{firstUser}} =2 {{firstUser} and {secondUser}} =3 {{firstUser}, {secondUser}, and {thirdUser}} =4 {{firstUser}, {secondUser}, {thirdUser} and {fourthUser}} other {{firstUser}, {secondUser}, {thirdUser} and {remainingUserCount} others}}"},skipButton:{id:"share-and-restrict-dialog.restricted-access-warning.skip",defaultMessage:"OK"}}),nN=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p,m,g,h,E,b,_,y=(0,d.c)(44),{restrictedUserPrincipals:v,pageTitle:S,triggeredBy:A,onSkip:C,onCloseComplete:I}=t,T=(0,u.useRef)(null),x=v?v.length:0,k=v?v.map(nU):void 0,{createAnalyticsEvent:R}=(0,a("inPa6").useAnalyticsEvents)(),{Modal:O}=(0,a("lsxnT").useChoreographerAssets)();y[0]!==R||y[1]!==A||y[2]!==x?(r=()=>{R({type:"sendScreenEvent",data:{name:"RestrictedAccessWarningDialog",attributes:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,blockedUsersCount:x,triggeredBy:A}}}).fire()},y[0]=R,y[1]=A,y[2]=x,y[3]=r):r=y[3],y[4]!==R||y[5]!==v||y[6]!==A||y[7]!==x?(n=[R,x,v,A],y[4]=R,y[5]=v,y[6]=A,y[7]=x,y[8]=n):n=y[8],(0,u.useEffect)(r,n),y[9]!==C?(s=()=>{C()},y[9]=C,y[10]=s):s=y[10];let w=s,L=k?k.map(nj):[],P=1==x?nM.headingSingleUser:nM.headingMultiUser;y[11]!==P?(i=e(u).createElement(a("d8eRd").default,null,e(u).createElement(a("gtD4K").default,P)),y[11]=P,y[12]=i):i=y[12],y[13]!==w?(o=e(u).createElement(a("8TTLA").CloseButton,{onClick:w}),y[13]=w,y[14]=o):o=y[14],y[15]!==i||y[16]!==o?(l=e(u).createElement(a("9ot3w").default,null,i,o),y[15]=i,y[16]=o,y[17]=l):l=y[17],y[18]!==L?(c=e(u).createElement(a("2Pg7f").default,{appearance:"stack",data:L,maxCount:4}),y[18]=L,y[19]=c):c=y[19];let D=k&&k[0]?k[0].name:null,M=k&&k[1]?k[1].name:null,N=k&&k[2]?k[2].name:null,U=k&&k[3]?k[3].name:null,j=x-3;return y[20]!==M||y[21]!==N||y[22]!==U||y[23]!==j||y[24]!==D||y[25]!==x?(p=e(u).createElement(a("iXCQx").default,{weight:"bold"},e(u).createElement(a("gtD4K").default,{...nM.usersNameList,values:{usersCount:x,firstUser:D,secondUser:M,thirdUser:N,fourthUser:U,remainingUserCount:j}})),y[20]=M,y[21]=N,y[22]=U,y[23]=j,y[24]=D,y[25]=x,y[26]=p):p=y[26],y[27]!==p||y[28]!==c?(m=e(u).createElement(a("u9agA").default,{space:"space.100",alignBlock:"center"},c,p),y[27]=p,y[28]=c,y[29]=m):m=y[29],y[30]!==S?(g=e(u).createElement(a("gtD4K").default,{...nM.body,values:{page:S,b:nB,learnMoreLink:nD.LearnMoreChunk}}),y[30]=S,y[31]=g):g=y[31],y[32]!==m||y[33]!==g?(h=e(u).createElement(a("1DHa6").default,null,e(u).createElement(a("eyWa4").default,{space:"space.200"},m,g)),y[32]=m,y[33]=g,y[34]=h):h=y[34],y[35]===Symbol.for("react.memo_cache_sentinel")?(E=e(u).createElement(a("gtD4K").default,nM.skipButton),y[35]=E):E=y[35],y[36]!==w?(b=e(u).createElement(a("8o1lj").default,null,e(u).createElement(a("ccHMk").default,{appearance:"primary",onClick:w,ref:T},E)),y[36]=w,y[37]=b):b=y[37],y[38]!==O||y[39]!==I||y[40]!==h||y[41]!==b||y[42]!==l?(_=e(u).createElement(O,{width:"medium",autoFocus:T,onCloseComplete:I,testId:"modal-dialog-restricted-access-warning"},l,h,b),y[38]=O,y[39]=I,y[40]=h,y[41]=b,y[42]=l,y[43]=_):_=y[43],_}:({restrictedUserPrincipals:t,pageTitle:r,triggeredBy:n,onSkip:s,onCloseComplete:i})=>{let o=(0,u.useRef)(null),l=t?t.length:0,c=t?t.map(e=>e.userPrincipal):void 0,{createAnalyticsEvent:d}=(0,a("inPa6").useAnalyticsEvents)(),{Modal:p}=(0,a("lsxnT").useChoreographerAssets)();(0,u.useEffect)(()=>{d({type:"sendScreenEvent",data:{name:"RestrictedAccessWarningDialog",attributes:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,blockedUsersCount:l,triggeredBy:n}}}).fire()},[d,l,t,n]);let m=(0,u.useCallback)(()=>{s()},[s]),g=c?c.map(e=>({key:e?.email||"",name:e?.name||"",href:"#",src:e?.avatarUrl||""})):[];return e(u).createElement(p,{width:"medium",autoFocus:o,onCloseComplete:i,testId:"modal-dialog-restricted-access-warning"},e(u).createElement(a("9ot3w").default,null,e(u).createElement(a("d8eRd").default,null,e(u).createElement(a("gtD4K").default,1==l?nM.headingSingleUser:nM.headingMultiUser)),e(u).createElement(a("8TTLA").CloseButton,{onClick:m})),e(u).createElement(a("1DHa6").default,null,e(u).createElement(a("eyWa4").default,{space:"space.200"},e(u).createElement(a("u9agA").default,{space:"space.100",alignBlock:"center"},e(u).createElement(a("2Pg7f").default,{appearance:"stack",data:g,maxCount:4}),e(u).createElement(a("iXCQx").default,{weight:"bold"},e(u).createElement(a("gtD4K").default,{...nM.usersNameList,values:{usersCount:l,firstUser:c&&c[0]?c[0].name:null,secondUser:c&&c[1]?c[1].name:null,thirdUser:c&&c[2]?c[2].name:null,fourthUser:c&&c[3]?c[3].name:null,remainingUserCount:l-3}}))),e(u).createElement(a("gtD4K").default,{...nM.body,values:{page:r,b:t=>e(u).createElement(a("iXCQx").default,{weight:"bold"},t),learnMoreLink:nD.LearnMoreChunk}}))),e(u).createElement(a("8o1lj").default,null,e(u).createElement(a("ccHMk").default,{appearance:"primary",onClick:m,ref:o},e(u).createElement(a("gtD4K").default,nM.skipButton))))};function nU(e){return e.userPrincipal}function nj(e){return{key:e?.email||"",name:e?.name||"",href:"#",src:e?.avatarUrl||""}}function nB(t){return e(u).createElement(a("iXCQx").default,{weight:"bold"},t)}var nF=a("dwkNQ");let nG=(0,a("eSUdr").default)`mutation ClearRestrictionsForFreeMutation($contentId:ID!){clearRestrictionsForFree(contentId:$contentId){restrictionsHash}}`,nV=(0,a("cgtv4").defineMessages)({title:{id:"share-and-restrict-dialog.openAccessWarningDialog.title",defaultMessage:"Open up access to everyone"},body:{id:"share-and-restrict-dialog.openAccessWarningDialog.body",defaultMessage:"<b>This canâ€™t be undone on the Free plan.</b> This will restore the contentâ€™s access level to the following default level:"},cancelButton:{id:"share-and-restrict-dialog.openAccessWarningDialog.cancelButton",defaultMessage:"Cancel"},openAccessModalTitle:{id:"share-and-restrict-dialog.openAccessWarningDialog.openAccessModalTitle",defaultMessage:"Open up access to everyone"},openAccessButton:{id:"share-and-restrict-dialog.openAccessWarningDialog.openAccessButton",defaultMessage:"Open up access"}}),nq=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,p,m,g,h,E,b,_,y=(0,d.c)(37),{generalAccess:v,closeOpenAccessWarningDialog:S,contentId:A,successFlag:C,errorFlag:I,closeShareAndRestricDialog:T}=t,{createAnalyticsEvent:x}=(0,a("inPa6").useAnalyticsEvents)(),{Modal:k}=(0,a("lsxnT").useChoreographerAssets)(),[R,O]=(0,u.useState)(!1);y[0]!==S||y[1]!==T||y[2]!==x||y[3]!==C?(r=()=>{O(!1),C("access-updated"),x({type:"sendTrackEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"success",actionSubject:"openAccessForFree"}}).fire(),S(),T()},y[0]=S,y[1]=T,y[2]=x,y[3]=C,y[4]=r):r=y[4],y[5]!==x||y[6]!==I?(n=e=>{x({type:"sendOperationalEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"errored",actionSubject:"openAccessForFree",attributes:{message:e?.message,name:e?.name,stack:e?.stack,cause:e?.cause}}}).fire(),O(!1),I("mutation-error")},y[5]=x,y[6]=I,y[7]=n):n=y[7],y[8]!==r||y[9]!==n?(s={onCompleted:r,onError:n},y[8]=r,y[9]=n,y[10]=s):s=y[10];let[w]=(0,a("1KmJq").useMutation)(nG,s);y[11]!==w||y[12]!==A||y[13]!==x?(i=()=>{O(!0),x({type:"sendUIEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"clicked",actionSubject:"link",actionSubjectId:"openAccessForFree"}}).fire(),w({variables:{contentId:A}})},y[11]=w,y[12]=A,y[13]=x,y[14]=i):i=y[14];let L=i;return y[15]===Symbol.for("react.memo_cache_sentinel")?(o=e(u).createElement(a("d8eRd").default,{appearance:"warning"},e(u).createElement(a("gtD4K").default,nV.openAccessModalTitle)),y[15]=o):o=y[15],y[16]!==S?(l=e(u).createElement(a("9ot3w").default,null,o,e(u).createElement(a("8TTLA").CloseButton,{onClick:S})),y[16]=S,y[17]=l):l=y[17],y[18]===Symbol.for("react.memo_cache_sentinel")?(c=e(u).createElement(a("gdv5Z").default,{paddingBlockEnd:"space.200"},e(u).createElement(a("gtD4K").default,{...nV.body,values:{b:nK}})),y[18]=c):c=y[18],y[19]!==v?(p=e(u).createElement(a("1DHa6").default,null,c,e(u).createElement(H,{...v,showBottomPadding:!0})),y[19]=v,y[20]=p):p=y[20],y[21]===Symbol.for("react.memo_cache_sentinel")?(m=e(u).createElement(a("gtD4K").default,nV.cancelButton),y[21]=m):m=y[21],y[22]!==S||y[23]!==R?(g=e(u).createElement(a("ccHMk").default,{appearance:"default",onClick:S,isDisabled:R},m),y[22]=S,y[23]=R,y[24]=g):g=y[24],y[25]===Symbol.for("react.memo_cache_sentinel")?(h=e(u).createElement(a("gtD4K").default,nV.openAccessButton),y[25]=h):h=y[25],y[26]!==R||y[27]!==L?(E=e(u).createElement(a("ccHMk").default,{appearance:"warning",onClick:L,isLoading:R},h),y[26]=R,y[27]=L,y[28]=E):E=y[28],y[29]!==g||y[30]!==E?(b=e(u).createElement(a("8o1lj").default,null,e(u).createElement(a("u9agA").default,{alignBlock:"center",alignInline:"end"},e(u).createElement(a("u9agA").default,{alignBlock:"center",alignInline:"center",space:"space.100"},g,E))),y[29]=g,y[30]=E,y[31]=b):b=y[31],y[32]!==k||y[33]!==b||y[34]!==l||y[35]!==p?(_=e(u).createElement(k,{width:"small",testId:"modal-dialog-open-access-warning"},l,p,b),y[32]=k,y[33]=b,y[34]=l,y[35]=p,y[36]=_):_=y[36],_}:({generalAccess:t,closeOpenAccessWarningDialog:r,contentId:n,successFlag:s,errorFlag:i,closeShareAndRestricDialog:o})=>{let{createAnalyticsEvent:l}=(0,a("inPa6").useAnalyticsEvents)(),{Modal:c}=(0,a("lsxnT").useChoreographerAssets)(),[d,p]=(0,u.useState)(!1),[m]=(0,a("1KmJq").useMutation)(nG,{onCompleted:()=>{p(!1),s("access-updated"),l({type:"sendTrackEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"success",actionSubject:"openAccessForFree"}}).fire(),r(),o()},onError:e=>{l({type:"sendOperationalEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"errored",actionSubject:"openAccessForFree",attributes:{message:e?.message,name:e?.name,stack:e?.stack,cause:e?.cause}}}).fire(),p(!1),i("mutation-error")}});return e(u).createElement(c,{width:"small",testId:"modal-dialog-open-access-warning"},e(u).createElement(a("9ot3w").default,null,e(u).createElement(a("d8eRd").default,{appearance:"warning"},e(u).createElement(a("gtD4K").default,nV.openAccessModalTitle)),e(u).createElement(a("8TTLA").CloseButton,{onClick:r})),e(u).createElement(a("1DHa6").default,null,e(u).createElement(a("gdv5Z").default,{paddingBlockEnd:"space.200"},e(u).createElement(a("gtD4K").default,{...nV.body,values:{b:t=>e(u).createElement(a("iXCQx").default,{weight:"bold"},t)}})),e(u).createElement(H,{...t,showBottomPadding:!0})),e(u).createElement(a("8o1lj").default,null,e(u).createElement(a("u9agA").default,{alignBlock:"center",alignInline:"end"},e(u).createElement(a("u9agA").default,{alignBlock:"center",alignInline:"center",space:"space.100"},e(u).createElement(a("ccHMk").default,{appearance:"default",onClick:r,isDisabled:d},e(u).createElement(a("gtD4K").default,nV.cancelButton)),e(u).createElement(a("ccHMk").default,{appearance:"warning",onClick:()=>{p(!0),l({type:"sendUIEvent",data:{source:f.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"clicked",actionSubject:"link",actionSubjectId:"openAccessForFree"}}).fire(),m({variables:{contentId:n}})},isLoading:d},e(u).createElement(a("gtD4K").default,nV.openAccessButton))))))};function nK(t){return e(u).createElement(a("iXCQx").default,{weight:"bold"},t)}let nH=(0,c.isReactCompilerActiveV1)()?t=>{let r,n,s,i,o,l,c,f,g,h,E,b,_,y,v,S,A=(0,d.c)(39),{shareAndRestrictDialog:C,restrictedAccessWarningDialog:I,resolveRestrictionsDialog:T,groupNotifyWarningDialog:x,closeConfirmationDialog:k,spaceAccessDetails:R,inspectPermsDialog:O,openAccessWarningDialog:w}=t;return A[0]!==C?(r=C&&e(u).createElement(nI,C),A[0]=C,A[1]=r):r=A[1],A[2]!==r?(n=e(u).createElement(a("6xdDU").default,null,r),A[2]=r,A[3]=n):n=A[3],A[4]!==x?(s=x&&e(u).createElement(nL,x),A[4]=x,A[5]=s):s=A[5],A[6]!==s?(i=e(u).createElement(a("6xdDU").default,null,s),A[6]=s,A[7]=i):i=A[7],A[8]!==k?(o=k&&e(u).createElement(nk,k),A[8]=k,A[9]=o):o=A[9],A[10]!==o?(l=e(u).createElement(a("6xdDU").default,null,o),A[10]=o,A[11]=l):l=A[11],A[12]!==R?(c=R&&e(u).createElement(m.AccessDetailsDialog,R),A[12]=R,A[13]=c):c=A[13],A[14]!==c?(f=e(u).createElement(a("6xdDU").default,null,c),A[14]=c,A[15]=f):f=A[15],A[16]!==O?(g=O&&e(u).createElement(p.InspectPermissionsDialog,O),A[16]=O,A[17]=g):g=A[17],A[18]!==I?(h=I&&e(u).createElement(nN,I),A[18]=I,A[19]=h):h=A[19],A[20]!==h?(E=e(u).createElement(a("6xdDU").default,null,h),A[20]=h,A[21]=E):E=A[21],A[22]!==T?(b=T&&e(u).createElement(nF.ResolveRestrictionsDialog,T),A[22]=T,A[23]=b):b=A[23],A[24]!==b?(_=e(u).createElement(a("6xdDU").default,null,b),A[24]=b,A[25]=_):_=A[25],A[26]!==w?(y=w&&e(u).createElement(nq,w),A[26]=w,A[27]=y):y=A[27],A[28]!==y?(v=e(u).createElement(a("6xdDU").default,null,y),A[28]=y,A[29]=v):v=A[29],A[30]!==E||A[31]!==_||A[32]!==v||A[33]!==n||A[34]!==i||A[35]!==l||A[36]!==f||A[37]!==g?(S=e(u).createElement(a("gdv5Z").default,{onClick:nz},n,i,l,f,g,E,_,v),A[30]=E,A[31]=_,A[32]=v,A[33]=n,A[34]=i,A[35]=l,A[36]=f,A[37]=g,A[38]=S):S=A[38],S}:({shareAndRestrictDialog:t,restrictedAccessWarningDialog:r,resolveRestrictionsDialog:n,groupNotifyWarningDialog:s,closeConfirmationDialog:i,spaceAccessDetails:o,inspectPermsDialog:l,openAccessWarningDialog:c})=>e(u).createElement(a("gdv5Z").default,{onClick:e=>e?.stopPropagation()},e(u).createElement(a("6xdDU").default,null,t&&e(u).createElement(nI,t)),e(u).createElement(a("6xdDU").default,null,s&&e(u).createElement(nL,s)),e(u).createElement(a("6xdDU").default,null,i&&e(u).createElement(nk,i)),e(u).createElement(a("6xdDU").default,null,o&&e(u).createElement(m.AccessDetailsDialog,o)),l&&e(u).createElement(p.InspectPermissionsDialog,l),e(u).createElement(a("6xdDU").default,null,r&&e(u).createElement(nN,r)),e(u).createElement(a("6xdDU").default,null,n&&e(u).createElement(nF.ResolveRestrictionsDialog,n)),e(u).createElement(a("6xdDU").default,null,c&&e(u).createElement(nq,c)));function nz(e){return e?.stopPropagation()}t.exports.Dialogs=nH}),r("erzVD",function(e,t){let r=(0,a("jmjWc").LoadableAfterPaint)({__loadable_id__:"xpRfQ",name:"InspectPermissionsDialog",loader:async()=>(await a("kFZ6G")).InspectPermissionsDialog});e.exports.InspectPermissionsDialog=r}),r("kFZ6G",function(e,t){let r=a("4mJKd")(5);e.exports=Promise.all([r("kWZnd"),r("92LGf"),r("6wr18"),r("dMOc8"),r("aX0L0"),r("QcHuP"),r("iQ0Jm"),r("coJiW"),r("ijPJo"),r("lXGg9"),r("hy3sK"),r("Wowvf"),r("dTsOE"),r("kHOMt"),r("hhss7"),r("ffEVr"),r("85liN")]).then(()=>a("jl66H"))}),r("bCanw",function(t,r){var n=a("42omo"),s=a("jSnXV"),i=a("kDHiY");let o=(0,a("eSUdr").default)`query AccessDetailsDialogSpaceAccessDetailsQuery($spaceKey:String!$first:Int$after:String$filterText:String){space(key:$spaceKey){id key name icon{path(type:ABSOLUTE)isDefault}type}spacePermissions(spaceKey:$spaceKey){subjectsWithPermissions(first:$first after:$after filterText:$filterText){groupCount userCount nodes{permissions subjectKey{id displayName principalType:confluencePrincipalType user:confluencePerson{accountId displayName email permissionType profilePicture{width height isDefault path(type:ABSOLUTE)}}group{id name permissionType usageType}}}pageInfo{hasNextPage endCursor}}}}`,l=(0,a("eSUdr").default)`query AccessDetailsDialogContentAccessDetailsQuery($contentId:ID!$first:Int$after:String$filterText:String){contentPermissions(contentId:$contentId){subjectsWithEffectiveContentPermissions(first:$first after:$after filterText:$filterText){groupCount userCount nodes{id permissions type displayName group{id name permissionType usageType}user{accountId displayName email permissionType profilePicture{width height isDefault path(type:ABSOLUTE)}}}pageInfo{hasNextPage endCursor}}}singleContent(id:$contentId){id title type links{webui}}}`,c=(0,n.forwardRef)(({as:t="div",style:r,...s},i)=>e(n).createElement(t,{...s,style:r,ref:i,className:(0,a("gMc0m").default)(["_1e0c1txw _2lx2vrvc _1bah1h6o _4cvr1h6o _4t3i1cbm",s.className])})),d=()=>e(n).createElement(c,null,e(n).createElement(a("9hlns").default,{size:"medium"}));function u(e,{fetchMoreResult:t}){let a=[...e?.spacePermissions?.subjectsWithPermissions?.nodes||[],...t?.spacePermissions?.subjectsWithPermissions?.nodes||[]],r=t?.spacePermissions?.subjectsWithPermissions?.pageInfo||null;return{...e,spacePermissions:{...e.spacePermissions,subjectsWithPermissions:{...e.spacePermissions.subjectsWithPermissions,nodes:a,pageInfo:r}}}}function p(e,{fetchMoreResult:t}){let a=[...e?.contentPermissions?.subjectsWithEffectiveContentPermissions?.nodes||[],...t?.contentPermissions?.subjectsWithEffectiveContentPermissions?.nodes||[]],r=t?.contentPermissions?.subjectsWithEffectiveContentPermissions?.pageInfo||null,n=t?.contentPermissions?.subjectsWithEffectiveContentPermissions?.userCount||0,s=t?.contentPermissions?.subjectsWithEffectiveContentPermissions?.groupCount||0;return{...e,contentPermissions:{...e?.contentPermissions,subjectsWithEffectiveContentPermissions:{...e?.contentPermissions?.subjectsWithEffectiveContentPermissions,pageInfo:r,nodes:a,userCount:n,groupCount:s}}}}t.exports.AccessDetailsDialog=({onClose:t,accessDetailsParams:r})=>{let[c,m]=(0,n.useState)(""),[f,g]=(0,n.useState)(""),h=(0,n.useMemo)(()=>e(s)(g,200),[]),E=(0,n.useContext)(a("1kHsc").ExperienceTrackerContext),{createAnalyticsEvent:b}=(0,a("inPa6").useAnalyticsEvents)(),{Modal:_}=(0,a("lsxnT").useChoreographerAssets)();(0,n.useEffect)(()=>{h(c)},[c,h]);let{spaceKey:y,restrictingContentId:v,hasInheritedRestrictions:S,experience:A}=r,{data:C,loading:I,error:T,fetchMore:x}=(0,a("xQxzY").useQuery)(o,{variables:{spaceKey:y,first:20,filterText:f},skip:S}),k=(0,n.useCallback)(e=>{x({variables:{after:e},updateQuery:u})},[x]),{data:R,loading:O,error:w,fetchMore:L}=(0,a("xQxzY").useQuery)(l,{variables:{contentId:v??"",filterText:f,first:20},skip:!S}),P=(0,n.useCallback)(e=>{L({variables:{after:e},updateQuery:p})},[L]);if(T||w){if(T)throw E.fail({name:A,error:T}),T;if(w)throw E.fail({name:A,error:w}),w}let D=O||I,[M,N]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{O||I||w||T||(N(!0),b({type:"sendScreenEvent",data:{source:A,actionSubjectId:"ViewSpaceAccessModal",action:"viewed"}}).fire())},[O,I,w,T,b,A]),e(n).createElement(_,{onClose:t,testId:"space-access-details.drilldown"},D&&!M?e(n).createElement(d,null):e(n).createElement(a("fT2ta").default,null,r=>e(n).createElement(e(n).Fragment,null,e(n).createElement(a("eyam8").AccessDetailsDialogHeader,{filterText:c,appliedFilterText:f,setFilterText:m,onClose:t,hasInheritedRestrictions:S,spaceInfo:C,contentInfo:R,isLoading:D,...r}),e(n).createElement(i.AccessDetailsDialogBody,{spaceInfo:C,contentInfo:R,hasInheritedRestrictions:S,handleSpaceAccessDetailsFetchMore:k,handleContentAccessDetailsFetchMore:P,isLoading:D,...r}))))}}),r("eyam8",function(t,r){var n=a("42omo");let s=(0,n.forwardRef)(({as:t="div",style:r,...s},i)=>e(n).createElement(t,{...s,style:r,ref:i,className:(0,a("gMc0m").default)(["_jhqfpxbi",s.className])})),i=(0,a("cgtv4").defineMessages)({backButtonLabel:{id:"space-access-details.access-details-dialog.back-button",defaultMessage:"Back"},clearFilterLabel:{id:"space-access-details.access-details-dialog.clear-filter",defaultMessage:"Clear selection"},countOfIndividualsSuffix:{id:"space-access-details.access-details-dialog.count-of-groups-and-individuals-suffix",defaultMessage:"and {countOfIndividuals, plural, one {# individual} other {# individuals}}"},countOfGroups:{id:"space-access-details.access-details-dialog.count-of-groups",defaultMessage:"Search {countOfGroups, plural, one {# group} other {# groups}}"},countOfIndividuals:{id:"space-access-details.access-details-dialog.count-of-individuals",defaultMessage:"Search {countOfIndividuals, plural, one {# individual} other {# individuals}}"},countOfTeamsMiddleClause:{id:"space-access-details.access-details-dialog.count-of-teams-middle-clause",defaultMessage:"{countOfTeams, plural, one {# team} other {# teams}}"},countOfTeams:{id:"space-access-details.access-details-dialog.count-of-teams",defaultMessage:"Search {countOfTeams, plural, one {# team} other {# teams}}"},countOfTeamsSuffix:{id:"space-access-details.access-details-dialog.count-of-teams-suffix",defaultMessage:"and {countOfTeams, plural, one {# team} other {# teams}}"}});t.exports.AccessDetailsDialogHeader=({hasInheritedRestrictions:t,onClose:r,filterText:o,setFilterText:l,spaceInfo:c,contentInfo:d,isLoading:u,appliedFilterText:p})=>{let m,f,g,h,E=(0,a("8C5kA").default)();if(t){m=d?.contentPermissions?.subjectsWithEffectiveContentPermissions?.userCount,g=d?.contentPermissions?.subjectsWithEffectiveContentPermissions?.nodes?.filter(e=>e?.group?.usageType===a("aS5cv").ConfluenceGroupUsageType.TEAM_COLLABORATION).length;let e=d?.contentPermissions?.subjectsWithEffectiveContentPermissions?.groupCount;f=e&&e-g}else{m=c?.spacePermissions?.subjectsWithPermissions?.userCount||0,g=c?.spacePermissions?.subjectsWithPermissions?.nodes?.filter(e=>e?.subjectKey?.group?.usageType===a("aS5cv").ConfluenceGroupUsageType.TEAM_COLLABORATION).length;let e=c?.spacePermissions?.subjectsWithPermissions?.groupCount;f=e&&e-g}return h=u||p&&!o?"":m&&f&&g?`${E.formatMessage(i.countOfGroups,{countOfGroups:f})}, ${E.formatMessage(i.countOfTeamsMiddleClause,{countOfTeams:g})}, ${E.formatMessage(i.countOfIndividualsSuffix,{countOfIndividuals:m})}`:f&&m?`${E.formatMessage(i.countOfGroups,{countOfGroups:f})} ${E.formatMessage(i.countOfIndividualsSuffix,{countOfIndividuals:m})}`:m&&g?`${E.formatMessage(i.countOfTeams,{countOfTeams:g})} ${E.formatMessage(i.countOfIndividualsSuffix,{countOfIndividuals:m})}`:g&&f?`${E.formatMessage(i.countOfGroups,{countOfGroups:f})} ${E.formatMessage(i.countOfTeamsSuffix,{countOfTeams:g})}`:g?E.formatMessage(i.countOfTeams,{countOfTeams:g}):f?E.formatMessage(i.countOfGroups,{countOfGroups:f}):E.formatMessage(i.countOfIndividuals,{countOfIndividuals:m}),e(n).createElement(s,null,e(n).createElement(a("9ot3w").default,{hasCloseButton:!0},e(n).createElement(a("6f0Oj").default,{className:(0,a("gMc0m").default)(["_16jlkb7n _1o9zkb7n _i0dl1wug _1e0c1txw _2lx21bp4"])},e(n).createElement(a("6f0Oj").default,{className:(0,a("gMc0m").default)(["_n3tdpxbi"])},e(n).createElement(a("u9agA").default,{grow:"fill",alignBlock:"center",space:"space.100"},e(n).createElement(a("eEA8O").default,{"aria-label":E.formatMessage(i.backButtonLabel),appearance:"subtle",iconBefore:e(n).createElement(e(a("bPdpL")),{label:""}),onClick:r}),e(n).createElement(a("d8eRd").default,null,t?e(n).createElement(a("gtD4K").default,{id:"space-access-details.access-details-dialog.restricting-page-header",defaultMessage:"Who has access to the parent item"}):e(n).createElement(a("gtD4K").default,{id:"space-access-details.access-details-dialog.restricting-space-header",defaultMessage:"Who has access to this space"})))),e(n).createElement(a("6f0Oj").default,{className:(0,a("gMc0m").default)(["_16jlkb7n _1o9zkb7n _i0dl1wug _1e0c1txw _2lx2vrvc _4cvr1h6o _18u01ejb"])},t?e(n).createElement(a("25ZwL").ContentDescription,{contentInfo:d,isLoading:u}):e(n).createElement(a("i2ukN").SpaceDescription,{spaceInfo:c,isLoading:u})),e(n).createElement(a("4noo5").default,{"aria-label":h,autoFocus:!0,placeholder:h,value:o,onChange:e=>{l(e.currentTarget.value)},elemBeforeInput:e(n).createElement(a("6f0Oj").default,{className:(0,a("gMc0m").default)(["_1yt41b66 _1e0c116y _4cvr1h6o"])},e(n).createElement(e(a("jluld")),{spacing:"spacious",color:"var(--ds-icon-subtle, #505258)",label:""})),elemAfterInput:e(n).createElement(n.Fragment,null,!!o&&e(n).createElement(a("eEA8O").default,{appearance:"subtle","aria-label":E.formatMessage(i.clearFilterLabel),iconBefore:e(n).createElement(e(a("7yDmn")),{label:"",color:"var(--ds-icon-subtle, #505258)"}),onClick:()=>l("")})),className:(0,a("gMc0m").default)(["_19pkpxbi _1bsbdgin"])}))))}}),r("25ZwL",function(t,r){var n=a("42omo");let s=(0,n.forwardRef)(({as:t="div",style:r,...s},i)=>e(n).createElement(t,{...s,style:r,ref:i,className:(0,a("gMc0m").default)(["_16jlkb7n _1o9zkb7n _i0dl1wug _1e0c1txw _4cvr1h6o _2lx2vrvc",s.className])})),i=(0,n.forwardRef)(({as:t="div",style:r,...s},i)=>e(n).createElement(t,{...s,style:r,ref:i,className:(0,a("gMc0m").default)(["_19bvu2gc _1e0c1o8l _1jtp1r31 _1wxd8stv _1cbrnqa1 _71j9i7uo",s.className])}));t.exports.ContentDescription=({contentInfo:t})=>{let r=t?.singleContent?.links?.webui,o=`${a("jlIaF").CONTEXT_PATH}${r}`;return e(n).createElement(s,null,e(n).createElement(a("13WX1").default,{label:""}),e(n).createElement(i,null,e(n).createElement(a("8lYIw").Link,{to:o,target:"_blank",testId:"parent-page-link"},t?.singleContent?.title)))}}),r("8lYIw",function(t,r){var n=a("3u0dr"),s=a("frIzR"),i=a("42omo");let o=(0,i.forwardRef)((0,n.isReactCompilerActiveV1)()?(t,r)=>{let n,o=(0,s.c)(9),{target:d,name:u,href:p,to:m,params:f}=t,g=void 0===d?void 0:d,{matchSupportedRoute:h,toUrl:E}=(0,i.useContext)(a("7zgzO").RoutesContext),b=(void 0===p?null:p)||(void 0===m?null:m);if(!b&&!u){let a;return o[0]!==t||o[1]!==r?(a=e(i).createElement(l,{...t,ref:r,path:""}),o[0]=t,o[1]=r,o[2]=a):a=o[2],a}let _=E(u,{...void 0===f?{}:f,...b&&{href:b}}),y=h(_);return o[3]!==y||o[4]!==_||o[5]!==t||o[6]!==r||o[7]!==g?(n=y&&"_blank"!==g?e(i).createElement(c,{...t,ref:r,match:y}):e(i).createElement(l,{...t,ref:r,path:_}),o[3]=y,o[4]=_,o[5]=t,o[6]=r,o[7]=g,o[8]=n):n=o[8],n}:(t,r)=>{let{target:n,name:s,href:o=null,to:d=null,params:u={}}=t,{matchSupportedRoute:p,toUrl:m}=(0,i.useContext)(a("7zgzO").RoutesContext),f=o||d;if(!f&&!s)return e(i).createElement(l,{...t,ref:r,path:""});let g=m(s,{...u,...f&&{href:f}}),h=p(g);return h&&"_blank"!==n?e(i).createElement(c,{...t,ref:r,match:h}):e(i).createElement(l,{...t,ref:r,path:g})}),l=(0,i.forwardRef)((0,n.isReactCompilerActiveV1)()?(t,r)=>{let n,o,l,c,d,u=(0,s.c)(21);u[0]!==t?({path:o,...n}=t,u[0]=t,u[1]=n,u[2]=o):(n=u[1],o=u[2]);let{children:p,className:m,target:f,testId:g,style:h,id:E}=n,b=void 0===f?void 0:f,{onPageReload:_}=(0,i.useContext)(a("7zgzO").RoutesContext);u[3]!==_||u[4]!==n?(l=e=>{_(e.target.getAttribute("href"),!1),n.onClick&&n.onClick(e)},u[3]=_,u[4]=n,u[5]=l):l=u[5];let y=l;u[6]!==n?(c=e=>{n.onContextMenu?.(e)},u[6]=n,u[7]=c):c=u[7];let v=c,S="_blank"===b?"noreferrer":void 0,A=n["aria-label"];return u[8]!==p||u[9]!==m||u[10]!==E||u[11]!==v||u[12]!==y||u[13]!==o||u[14]!==r||u[15]!==h||u[16]!==S||u[17]!==A||u[18]!==b||u[19]!==g?(d=e(i).createElement("a",{href:o,className:m,onClick:y,onContextMenu:v,target:b,id:E,rel:S,"data-testid":g,ref:r,"aria-label":A,style:h},p),u[8]=p,u[9]=m,u[10]=E,u[11]=v,u[12]=y,u[13]=o,u[14]=r,u[15]=h,u[16]=S,u[17]=A,u[18]=b,u[19]=g,u[20]=d):d=u[20],d}:({path:t,...r},n)=>{let{children:s,className:o,target:l,testId:c,style:d,id:u}=r,{onPageReload:p}=(0,i.useContext)(a("7zgzO").RoutesContext);return e(i).createElement("a",{href:t,className:o,onClick:e=>{p(e.target.getAttribute("href"),!1),r.onClick&&r.onClick(e)},onContextMenu:e=>{r.onContextMenu?.(e)},target:l,id:u,rel:"_blank"===l?"noreferrer":void 0,"data-testid":c,ref:n,"aria-label":r["aria-label"],style:d},s)}),c=(0,i.forwardRef)((0,n.isReactCompilerActiveV1)()?(t,r)=>{let n,o,l,c,d,u,p=(0,s.c)(22);p[0]!==t?({match:n,...o}=t,p[0]=t,p[1]=n,p[2]=o):(n=p[1],o=p[2]);let m=(0,i.useContext)(a("7zgzO").RoutesContext),{children:f,className:g,style:h,id:E}=o,{preloadRoute:b}=m;p[3]!==n||p[4]!==b?(l=async()=>b(n),p[3]=n,p[4]=b,p[5]=l):l=p[5];let _=l;p[6]!==o||p[7]!==m?(c=e=>{o.onClick&&o.onClick(e);let t=(0,a("dHSeC").getSpaTransitionDetails)(e,m);!e.defaultPrevented&&t?.href&&(e.preventDefault(),m.push(t.href))},p[6]=o,p[7]=m,p[8]=c):c=p[8];let y=c;p[9]!==o?(d=e=>{o.onContextMenu?.(e)},p[9]=o,p[10]=d):d=p[10];let v=d,S=`${n.pathname}${n.search}${n.hash}`,A=o["aria-label"];return p[11]!==f||p[12]!==g||p[13]!==E||p[14]!==y||p[15]!==v||p[16]!==_||p[17]!==r||p[18]!==h||p[19]!==S||p[20]!==A?(u=e(i).createElement(a("8T1Wf").Link,{to:S,className:g,onClick:y,onContextMenu:v,onMouseDownCapture:_,innerRef:r,id:E,"aria-label":A,style:h},f),p[11]=f,p[12]=g,p[13]=E,p[14]=y,p[15]=v,p[16]=_,p[17]=r,p[18]=h,p[19]=S,p[20]=A,p[21]=u):u=p[21],u}:({match:t,...r},n)=>{let s=(0,i.useContext)(a("7zgzO").RoutesContext),{children:o,className:l,style:c,id:d}=r,{preloadRoute:u}=s,p=async()=>u(t);return e(i).createElement(a("8T1Wf").Link,{to:`${t.pathname}${t.search}${t.hash}`,className:l,onClick:e=>{r.onClick&&r.onClick(e);let t=(0,a("dHSeC").getSpaTransitionDetails)(e,s);!e.defaultPrevented&&t?.href&&(e.preventDefault(),s.push(t.href))},onContextMenu:e=>{r.onContextMenu?.(e)},onMouseDownCapture:p,innerRef:n,id:d,"aria-label":r["aria-label"],style:c},o)});t.exports.Link=o}),r("8T1Wf",function(t,r){var n=a("4tRVV"),s=a("42omo"),i=a("7Q5yr"),o=a("bDniu"),l=a("dRnqM"),c=e(s).Component;function d(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=c.call.apply(c,[this].concat(r))||this).history=(0,a("fgJFQ").createBrowserHistory)(e.props),e}(0,n.default)(d,c),d.prototype.render=function(){return e(s).createElement(a("QU6QS").Router,{history:this.history,children:this.props.children})};var u=e(s).Component;function p(){for(var e,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=u.call.apply(u,[this].concat(r))||this).history=(0,a("fgJFQ").createHashHistory)(e.props),e}(0,n.default)(p,u),p.prototype.render=function(){return e(s).createElement(a("QU6QS").Router,{history:this.history,children:this.props.children})};var m=function(e,t){return"function"==typeof e?e(t):e},f=function(e,t){return"string"==typeof e?(0,a("fgJFQ").createLocation)(e,null,null,t):e},g=function(e){return e},h=e(s).forwardRef;void 0===h&&(h=g);var E=h(function(t,a){var r=t.innerRef,n=t.navigate,l=t.onClick,c=(0,o.default)(t,["innerRef","navigate","onClick"]),d=c.target,u=(0,i.default)({},c,{onClick:function(e){try{l&&l(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||d&&"_self"!==d||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||(e.preventDefault(),n())}});return g!==h?u.ref=a||r:u.ref=r,e(s).createElement("a",u)}),b=h(function(t,r){var n=t.component,c=void 0===n?E:n,d=t.replace,u=t.to,p=t.innerRef,b=(0,o.default)(t,["component","replace","to","innerRef"]);return e(s).createElement(a("QU6QS").__RouterContext.Consumer,null,function(t){t||(0,l.default)(!1);var n=t.history,o=f(m(u,t.location),t.location),E=o?n.createHref(o):"",_=(0,i.default)({},b,{href:E,navigate:function(){var e=m(u,t.location),r=(0,a("fgJFQ").createPath)(t.location)===(0,a("fgJFQ").createPath)(f(e));(d||r?n.replace:n.push)(e)}});return g!==h?_.ref=r||p:_.innerRef=p,e(s).createElement(c,_)})}),_=function(e){return e},y=e(s).forwardRef;void 0===y&&(y=_),y(function(t,r){var n=t["aria-current"],c=void 0===n?"page":n,d=t.activeClassName,u=void 0===d?"active":d,p=t.activeStyle,g=t.className,h=t.exact,E=t.isActive,v=t.location,S=t.sensitive,A=t.strict,C=t.style,I=t.to,T=t.innerRef,x=(0,o.default)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e(s).createElement(a("QU6QS").__RouterContext.Consumer,null,function(t){t||(0,l.default)(!1);var n=v||t.location,o=f(m(I,n),n),d=o.pathname,k=d&&d.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),R=k?(0,a("QU6QS").matchPath)(n.pathname,{path:k,exact:h,sensitive:S,strict:A}):null,O=!!(E?E(R,n):R),w="function"==typeof g?g(O):g,L="function"==typeof C?C(O):C;O&&(w=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(function(e){return e}).join(" ")}(w,u),L=(0,i.default)({},L,p));var P=(0,i.default)({"aria-current":O&&c||null,className:w,style:L,to:o},x);return _!==y?P.ref=r||T:P.innerRef=T,e(s).createElement(b,P)})}),t.exports.Link=b}),r("i2ukN",function(t,r){var n=a("42omo");let s=(0,n.forwardRef)(({as:t="div",style:r,...s},i)=>e(n).createElement(t,{...s,style:r,ref:i,className:(0,a("gMc0m").default)(["_16jlkb7n _1o9zkb7n _i0dl1wug _1e0c1txw _4cvr1h6o _2lx2vrvc",s.className])})),i=(0,n.forwardRef)(({as:t="div",style:r,...s},i)=>e(n).createElement(t,{...s,style:r,ref:i,className:(0,a("gMc0m").default)(["_19bvu2gc _1e0c1o8l _syazi7uo _fzbr1r31 _17ku8stv _1rj5nqa1 _ii85i7uo",s.className])}));t.exports.SpaceDescription=({spaceInfo:t,isLoading:r})=>{let o=t?.space,l=o?.key,c=l?a("1NBp8").SPACE_OVERVIEW.toUrl({spaceKey:l}):"",[d,u]=(0,n.useState)(o?.icon?.path),p=o?.type==="personal";(0,n.useEffect)(()=>{!r&&o?.icon?.path&&o?.icon?.path!==d&&u(o.icon.path)},[o?.icon?.path,r,d]);let m=!p&&d?d:a("cqnC0");return e(n).createElement(s,null,e(n).createElement(a("esRft").default,{src:m,size:"xsmall",appearance:"square"}),e(n).createElement(i,null,e(n).createElement(a("8lYIw").Link,{to:c,target:"_blank",testId:"space-overview-link"},t?.space?.name)))}}),r("cqnC0",function(e,t){e.exports=new URL("personal_space.c63f5733.png",import.meta.url).toString()}),r("aS5cv",function(e,t){var a,r,n,s=((a={}).ADMIN_OVERSIGHT="ADMIN_OVERSIGHT",a.TEAM_COLLABORATION="TEAM_COLLABORATION",a.USERBASE_GROUP="USERBASE_GROUP",a);(r={}).EDIT="EDIT",r.VIEW="VIEW";var i=((n={}).ANONYMOUS="ANONYMOUS",n.APP="APP",n.EXTERNAL="EXTERNAL",n.INTERNAL="INTERNAL",n.JSD="JSD",n);e.exports.ConfluenceGroupUsageType=s,e.exports.SitePermissionType=i}),r("kDHiY",function(t,r){var n=a("42omo");a("73tVl");var s=a("6D2qo"),i=a("5pfuH");let o=(0,a("ecnYn").xcss)({paddingBottom:"space.250"}),l=(0,a("cgtv4").defineMessages)({countOfSubjects:{id:"space-access-details.access-details-dialog.count-of-subjects",defaultMessage:"{countOfSubjects, plural,=0 {No suggestions found.} one {# suggestion found.} other {# suggestions found.}}"}});t.exports.AccessDetailsDialogBody=({spaceInfo:t,contentInfo:r,hasInheritedRestrictions:c,handleContentAccessDetailsFetchMore:d,handleSpaceAccessDetailsFetchMore:u,isLoading:p})=>{let m=(0,a("8C5kA").default)(),[f,g]=(0,n.useState)(null),[h,E]=(0,n.useState)([]),{cloudId:b}=(0,a("bQm3c").useSessionData)(),_=c?(r?.contentPermissions?.subjectsWithEffectiveContentPermissions?.nodes||[]).map(e=>e?.type===a("a7PZ9").PRINCIPAL_TYPE.USER?{id:e?.id,type:a("a7PZ9").PRINCIPAL_TYPE.USER,displayName:e?.displayName,isGuest:e?.user?.permissionType===a("aS5cv").SitePermissionType.EXTERNAL,avatarUrl:e?.user?.profilePicture?.path||"",secondLine:e?.user?.email}:e?.type===a("a7PZ9").PRINCIPAL_TYPE.GROUP&&e.group?.usageType===a("aS5cv").ConfluenceGroupUsageType.TEAM_COLLABORATION?{id:e?.id,type:a("a7PZ9").PRINCIPAL_TYPE.TEAM,displayName:e?.displayName,isGuest:e?.group?.permissionType===a("aS5cv").SitePermissionType.EXTERNAL,avatarUrl:h?.find(t=>t.id===e.id)?.largeAvatarImageUrl,verified:h?.find(t=>t.id===e.id)?.isVerified}:{id:e?.id,type:a("a7PZ9").PRINCIPAL_TYPE.GROUP,displayName:e?.displayName,isGuest:e?.group?.permissionType===a("aS5cv").SitePermissionType.EXTERNAL}):(t?.spacePermissions?.subjectsWithPermissions?.nodes||[]).map(e=>e?.subjectKey?.principalType===a("1YM7C").ConfluencePrincipalType.USER?{id:e?.subjectKey?.id,type:a("a7PZ9").PRINCIPAL_TYPE.USER,displayName:e?.subjectKey?.displayName,avatarUrl:e?.subjectKey?.user?.profilePicture?.path||"",secondLine:e?.subjectKey?.user?.email,isGuest:e?.subjectKey?.user?.permissionType===a("1YM7C").SitePermissionType.EXTERNAL}:e?.subjectKey?.principalType===a("1YM7C").ConfluencePrincipalType.GROUP&&e.subjectKey?.group?.usageType===a("aS5cv").ConfluenceGroupUsageType.TEAM_COLLABORATION&&(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?{id:e?.subjectKey?.id,type:a("a7PZ9").PRINCIPAL_TYPE.TEAM,displayName:e?.subjectKey.displayName,isGuest:e?.subjectKey.group?.permissionType===a("aS5cv").SitePermissionType.EXTERNAL,avatarUrl:h?.find(t=>t.id===e.subjectKey?.id)?.largeAvatarImageUrl,verified:h?.find(t=>t.id===e.subjectKey?.id)?.isVerified}:{id:e?.subjectKey?.id,type:a("a7PZ9").PRINCIPAL_TYPE.GROUP,displayName:e?.subjectKey?.displayName,isGuest:e?.subjectKey?.group?.permissionType===a("1YM7C").SitePermissionType.EXTERNAL}),y=c?!!r?.contentPermissions?.subjectsWithEffectiveContentPermissions?.pageInfo?.hasNextPage:!!t?.spacePermissions?.subjectsWithPermissions?.pageInfo?.hasNextPage,v=c?r?.contentPermissions?.subjectsWithEffectiveContentPermissions?.pageInfo?.endCursor:t?.spacePermissions?.subjectsWithPermissions?.pageInfo?.endCursor,S=c?d:u;return(0,n.useEffect)(()=>{let e=setTimeout(()=>{g(_.length)},5e3);return()=>clearTimeout(e)},[_]),(0,n.useEffect)(()=>{let e=((t?.spacePermissions?.subjectsWithPermissions?.nodes||[]).filter(e=>e?.subjectKey?.group&&e.subjectKey.group.usageType===a("aS5cv").ConfluenceGroupUsageType.TEAM_COLLABORATION)||[]).map(e=>e?.subjectKey?.group&&e?.subjectKey?.group?.id||"");(async()=>{if(e&&e.length>0&&(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")){let t=async()=>({teamData:await (0,s.fetchTeamData)(b,e)}),{teamData:a}=await t();a&&E(a)}})()},[t,b,t?.spacePermissions?.subjectsWithPermissions?.nodes]),(0,n.useEffect)(()=>{let e=(r?.contentPermissions?.subjectsWithEffectiveContentPermissions?.nodes||[]).filter(e=>e&&e?.group&&e.group.usageType===a("aS5cv").ConfluenceGroupUsageType.TEAM_COLLABORATION).map(e=>e?.group&&e.group.id||"");(async()=>{if(e&&e.length>0&&(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")){let t=async()=>({teamData:await (0,s.fetchTeamData)(b,e)}),{teamData:a}=await t();a&&E(a)}})()},[t,b,r?.contentPermissions?.subjectsWithEffectiveContentPermissions?.nodes]),e(n).createElement(a("1DHa6").default,null,e(n).createElement(a("1GzhS").default,{space:"space.150",alignInline:"start",grow:"fill",as:"div",xcss:o},_.map(t=>e(n).createElement(i.AccessDetailsPrincipal,{...t,key:t.id})),e(n).createElement(a("6F6hl").default,{role:"status","aria-live":"polite","aria-atomic":"true"},m.formatMessage(l.countOfSubjects,{countOfSubjects:f}))),!p&&y&&e(n).createElement(a("4B2M3").ObservableSpinner,{onScrollTo:()=>{S(v)},cursor:v,testId:"access-details-spinner",observerOptions:{root:null,rootMargin:"0px",threshold:.05}}))}}),r("4B2M3",function(t,r){var n=a("42omo");let s=(0,n.forwardRef)(({as:t="div",style:r,...s},i)=>e(n).createElement(t,{...s,style:r,ref:i,className:(0,a("gMc0m").default)(["_1bsb1osq _4t3i1ylp _1e0c1txw _1bah1h6o _4cvr1h6o",s.className])})),i=(0,n.forwardRef)(({as:t="div",style:r,...s},i)=>e(n).createElement(t,{...s,style:r,ref:i,className:(0,a("gMc0m").default)(["_1yt41bpf _1reo15vq _18m915vq _1tke1tcg",s.className])}));t.exports.ObservableSpinner=({onScrollTo:t,testId:r,cursor:o,observerOptions:l,spinnerSize:c="medium"})=>e(n).createElement(a("l8oxh").InfiniteScroll,{onScrollTo:t,cursor:o,observerOptions:l},e(n).createElement(s,null,e(n).createElement(i,null,e(n).createElement(a("9hlns").default,{size:c,testId:r}))))}),r("l8oxh",function(t,r){var n=a("42omo");let s=(0,n.forwardRef)(({children:t},a)=>e(n).createElement("div",{ref:a},t));t.exports.InfiniteScroll=({onScrollTo:t,cursor:a,observerOptions:r,children:i})=>{let o=(0,n.useRef)(null),l=(0,n.useRef)(null),c=(0,n.useCallback)(e=>{e.length>1&&e.shift(),e?.[0]?.isIntersecting&&a!==l.current&&(l.current=a,t())},[t,a]);return(0,n.useEffect)(()=>{let e=new IntersectionObserver(c,r),t=o?.current;return t&&e.observe(t),()=>{t&&e.unobserve(t),e.disconnect()}},[o,c,r]),e(n).createElement(s,{ref:o},i)}}),r("73tVl",function(e,r){t(e.exports,"fetchTeamData",()=>a("6D2qo").fetchTeamData),a("6D2qo")}),r("6D2qo",function(e,t){let r=async(e,t)=>{let r=await (0,a("f7B1p").cfetch)("/gateway/api/v4/teams/withMembers/bulk",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({siteId:e,teamIds:t})});return(await r.json()).teams.map(e=>({id:e.id,isVerified:e.isVerified,largeAvatarImageUrl:e.largeAvatarImageUrl,largeHeaderImageUrl:e.largeHeaderImageUrl,description:e.description,members:e.members.map(e=>({membershipId:e.membershipId,avatar:""}))}))};e.exports.fetchTeamData=r}),r("a7PZ9",function(e,t){var a,r=((a={}).GROUP="group",a.USER="user",a.TEAM="team",a.EMAIL="email",a);e.exports.PRINCIPAL_TYPE=r}),r("1YM7C",function(e,t){(a={}).ADMIN_OVERSIGHT="ADMIN_OVERSIGHT",a.TEAM_COLLABORATION="TEAM_COLLABORATION",a.USERBASE_GROUP="USERBASE_GROUP";var a,r,n,s,i=((r={}).GROUP="GROUP",r.USER="USER",r),o=((n={}).ANONYMOUS="ANONYMOUS",n.APP="APP",n.EXTERNAL="EXTERNAL",n.INTERNAL="INTERNAL",n.JSD="JSD",n);(s={}).ADMINISTER_SPACE="ADMINISTER_SPACE",s.ARCHIVE_PAGE="ARCHIVE_PAGE",s.ARCHIVE_SPACE="ARCHIVE_SPACE",s.COMMENT="COMMENT",s.CREATE_ATTACHMENT="CREATE_ATTACHMENT",s.CREATE_BLOG="CREATE_BLOG",s.CREATE_EDIT_PAGE="CREATE_EDIT_PAGE",s.DELETE_SPACE="DELETE_SPACE",s.EDIT_BLOG="EDIT_BLOG",s.EDIT_NATIVE_CONTENT="EDIT_NATIVE_CONTENT",s.EXPORT_CONTENT="EXPORT_CONTENT",s.EXPORT_PAGE="EXPORT_PAGE",s.EXPORT_SPACE="EXPORT_SPACE",s.MANAGE_GUEST_USERS="MANAGE_GUEST_USERS",s.MANAGE_NONLICENSED_USERS="MANAGE_NONLICENSED_USERS",s.MANAGE_PUBLIC_LINKS="MANAGE_PUBLIC_LINKS",s.MANAGE_USERS="MANAGE_USERS",s.REMOVE_ATTACHMENT="REMOVE_ATTACHMENT",s.REMOVE_BLOG="REMOVE_BLOG",s.REMOVE_COMMENT="REMOVE_COMMENT",s.REMOVE_MAIL="REMOVE_MAIL",s.REMOVE_OWN_CONTENT="REMOVE_OWN_CONTENT",s.REMOVE_PAGE="REMOVE_PAGE",s.SET_PAGE_PERMISSIONS="SET_PAGE_PERMISSIONS",s.VIEW_SPACE="VIEW_SPACE",e.exports.ConfluencePrincipalType=i,e.exports.SitePermissionType=o}),r("5pfuH",function(t,r){var n=a("42omo"),s=a("gvWVt");let i=(0,a("ecnYn").xcss)({paddingLeft:"space.100"}),o=(0,a("ecnYn").xcss)({overflowWrap:"anywhere"}),l=(0,a("ecnYn").xcss)({borderRadius:"radius.full",width:"36px",height:"36px",backgroundColor:"color.background.neutral",display:"flex",justifyContent:"center",alignItems:"center",flexShrink:0,marginTop:"space.0"});t.exports.AccessDetailsPrincipal=({type:t,id:r,displayName:c,secondLine:d,avatarUrl:u,isGuest:p,verified:m})=>{let f=t===a("a7PZ9").PRINCIPAL_TYPE.GROUP?r:null,g=t===a("a7PZ9").PRINCIPAL_TYPE.TEAM?r:null;return"user"===t?e(n).createElement(a("dcJ7R").default,{space:"space.150",alignBlock:"center"},e(n).createElement(a("esRft").default,{src:u,appearance:"circle",size:"medium",label:""}),e(n).createElement(a("1GzhS").default,null,e(n).createElement(a("1GzhS").default,null,e(n).createElement(a("dcJ7R").default,null,e(n).createElement(a("5dK2X").default,{color:"color.text"},c),p&&e(n).createElement(a("6f0Oj").default,{xcss:i},e(n).createElement(s.ExternalCollaboratorUserLozenge,null))),e(n).createElement(a("5dK2X").default,{size:"small",color:"color.text.subtlest"},d)))):"team"===t&&(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?e(n).createElement(a("dcJ7R").default,{space:"space.150",alignBlock:"center",testId:"team-principal",grow:"fill"},e(n).createElement(a("esRft").default,{src:u,appearance:"square",size:"medium",label:""}),e(n).createElement(a("1GzhS").default,null,e(n).createElement(a("1GzhS").default,null,e(n).createElement(a("dcJ7R").default,null,e(n).createElement(a("5dK2X").default,{color:"color.text"},c)),e(n).createElement(a("dcJ7R").default,{grow:"fill"},e(n).createElement(a("7hNjr").GroupCountComponent,{groupId:g,isGroup:!1,isVerified:m}))))):e(n).createElement(a("dcJ7R").default,{space:"space.150",alignBlock:"center",testId:"group-principal",grow:"fill"},e(n).createElement(a("6f0Oj").default,{xcss:l},e(n).createElement(a("lE8sM").default,{label:"",size:"32",appearance:"gray",shape:"circle",icon:e(a("lebfc"))})),e(n).createElement(a("1GzhS").default,{xcss:o},e(n).createElement(a("dcJ7R").default,null,c),e(n).createElement(a("dcJ7R").default,{grow:"fill"},e(n).createElement(a("7hNjr").GroupCountComponent,{groupId:f,isGroup:"group"===t,isVerified:!1}))))}}),r("gvWVt",function(e,t){let r=(0,a("jmjWc").LoadableAfterPaint)({__loadable_id__:"iyBz0",name:"ExternalCollaboratorUserLozenge",loader:async()=>(await Promise.resolve(a("9fywD"))).ExternalUserLozenge});e.exports.ExternalCollaboratorUserLozenge=r}),r("7hNjr",function(t,r){var n=a("42omo");a("6V36D");var s=a("hVSC8");let i=(0,a("eSUdr").default)`query GroupCountComponentAccessDetailsGroupCountsQuery($groupIdList:[String]){groupCounts(groupIds:$groupIdList){groupCounts{key value}}}`,o=e=>{let{loading:t,data:r}=(0,a("xQxzY").useQuery)(i,{variables:{groupIdList:void 0!==e?[e]:null},skip:!e});if(t)return null;let n=r?.groupCounts?.groupCounts?.[0]?.value;if("number"==typeof n)return n};t.exports.GroupCountComponent=({groupId:t,isGroup:r,isVerified:i})=>{let l=o(t);return l?e(n).createElement(a("u9agA").default,{testId:"group-count-component",space:"space.050",alignBlock:"center"},(0,a("9wGTI").fg)("confluence_frontend_perms_exp_teams_as_principals")?e(n).createElement(e(n).Fragment,null," ",e(n).createElement(a("iXCQx").default,{color:"color.text.subtlest",size:"small",testId:"member-count-subtext"},r?e(n).createElement(a("gtD4K").default,{id:"space-access-details.access-details-table.header.admin-group",defaultMessage:"Admin group"}):i?e(n).createElement(a("gtD4K").default,{id:"space-access-details.access-details-table.header.official-team",defaultMessage:"Official team"}):e(n).createElement(a("gtD4K").default,{id:"space-access-details.access-details-table.header.team",defaultMessage:"Team"})),(i||r)&&e(n).createElement(s.VerifiedTeamLozenge,{isTeam:!r,spacing:"none"}),e(n).createElement(a("iXCQx").default,{color:"color.text.subtlest",size:"small"},e(n).createElement(a("gtD4K").default,{id:"space-access-details.access-details-table.header.principal",defaultMessage:"â€¢ {count, plural, one {# member} other {# members}}",values:{count:l}}))):e(n).createElement(a("gtD4K").default,{id:"space-access-details.access-details-table.header.principal",defaultMessage:"{count, plural, one {# person} other {# people}}",values:{count:l}})):null}}),r("6V36D",function(e,r){t(e.exports,"VerifiedTeamLozenge",()=>a("hVSC8").VerifiedTeamLozenge),a("hVSC8")}),r("hVSC8",function(t,r){var n=a("42omo");let s=(0,a("cgtv4").defineMessages)({teamVerifiedLozengeTooltip:{id:"permissions-principals.team-verified-lozenge.tooltip",defaultMessage:"This team is verified because it is controlled by an organization admin."},groupVerifiedLozengeTooltip:{id:"permissions-principals.group-verified-lozenge.tooltip",defaultMessage:"This group is verified because it is controlled by an organization admin."}});t.exports.VerifiedTeamLozenge=({isTeam:t=!0,spacing:r="compact"})=>{let{formatMessage:i}=(0,a("8C5kA").default)();return e(n).createElement(a("3gadb").default,{content:i(t?s.teamVerifiedLozengeTooltip:s.groupVerifiedLozengeTooltip)},e(n).createElement(e(a("bh5s2")),{label:"verified team",color:"var(--ds-icon-accent-blue, #357DE8)",size:"small",spacing:r}))}}),r("dzImV",function(e,t){e.exports.FEATURE_ID_PAGE_ANALYTICS_MODAL="itfg-bnr-page-analytics-modal",e.exports.FEATURE_ID_PAGE_ANALYTICS_PAGE="itfg-bnr-page-analytics-page",e.exports.FEATURE_ID_PAGE_RESTRICTIONS_MODAL="itfg-bnr-page-restrictions-modal",e.exports.FEATURE_ID_AUTOMATION_PAGE="itfg-bnr-automation-page",e.exports.FEATURE_ID_SPACE_ANALYTICS_PAGE="itfg-bnr-space-analytics-page",e.exports.FEATURE_ID_TEAM_CALENDAR_PAGE="itfg-bnr-team-calendar-page",e.exports.FEATURE_ID_USD_MODAL="itfg-bnr-usd-modal",e.exports.EDITION_PREMIUM="premium"}),r("bcPlG",function(e,t){e.exports.formatEventCallBackPayloadForAtlasKitAnalyticsEvent=({action:e,actionSubject:t,actionSubjectId:a,attributes:r,source:n,type:s,name:i})=>({type:s,data:{action:e,actionSubject:t,actionSubjectId:a,attributes:r,source:n,...i&&{name:i}}})}),r("1vRwc",function(e,t){let r=(0,a("eSUdr").default)`query useInTrialFeatureGatesExperimentEnrollmentABQuery($cloudId:ID!){tenantContexts(cloudIds:[$cloudId])@optIn(to:["CcpAllUserUpgradeAndPay" "HamsAllUserUpgradeAndPay"]){entitlementInfo(hamsProductKey:"confluence.ondemand"){entitlement(where:{AND:[{inTrialOrPreDunning:true}]}){subscription{trial{endTimestamp}accountDetails{invoiceGroup{invoiceable experienceCapabilities{configurePaymentV2{experienceUrl isAvailableToUser}configurePayment{experienceUrl isAvailableToUser}}}}}}}}}`;e.exports.useInTrialFeatureGatesExperimentEnrollmentAB=e=>{let t=(0,a("gKr8t").getAGGClient)(),n=(0,a("jMyy4").useQueryInterop)(r,{client:t,variables:{cloudId:e.tenantId},skip:!(0,a("6mKj3").expValEquals)("confluence_relay_migration_no_client_passing","isEnabled",!0)}),s=(0,a("6mKj3").expValEquals)("confluence_relay_migration_no_client_passing","isEnabled",!0)?{inTrialFeatureGatesQueryResult:n,...e}:{aggClient:t,...e};return(0,a("1Tx06").useInTrialFeatureGatesExperimentEnrollmentAB)(s)}}),r("1Tx06",function(e,t){var r=a("42omo");let n=({experimentName:e,isFeatureGateEnabled:t,featureId:n,sendTrackEvent:s,sendOperationalEvent:i,skip:o=!1,extraAnalyticsAttributes:l={},tenantId:c,...d})=>{let{isValidAudience:u,data:{hasPaymentDetailsOnFile:p,canUserPayAndUpgrade:m,daysLeftInTrial:f},isLoading:g}=(0,a("ddBLb").useIsValidAudience)({tenantId:c,sendOperationalEvent:i,featureId:n,skip:!t||o,...d}),{cohort:h,isTreatment:E,isEnrolled:b,canRenderTreatment:_}=(0,r.useMemo)(()=>{if(o||!t||!u)return{cohort:a("j57x0").COHORTS.NOT_ENROLLED,isTreatment:!1,isEnrolled:!1,canRenderTreatment:!1,isLoading:!1};let r=a("c6GJD").default.getExperimentValue(e,"cohort","not-enrolled",{fireExperimentExposure:!1});if(r===a("j57x0").COHORTS.NOT_ENROLLED)return{cohort:a("j57x0").COHORTS.NOT_ENROLLED,isTreatment:!1,isEnrolled:!1,canRenderTreatment:!1,isLoading:!1};let i=!1;return r===a("j57x0").COHORTS.TREATMENT&&f&&(i=!(0,a("5Xk8L").isFeatureDismissedForPeriodInTrial)(n,f)),a("c6GJD").default.manuallyLogExperimentExposure(e),s({type:"sendTrackEvent",action:"exposed",actionSubject:"experiment",actionSubjectId:`${e}-exposed`,attributes:{cohort:r,hasPaymentDetailsOnFile:p,canUserPayAndUpgrade:m,canRenderTreatment:i,daysLeftInTrial:f,featureId:n,...l},source:e}),{cohort:r,isTreatment:r===a("j57x0").COHORTS.TREATMENT,isEnrolled:r===a("j57x0").COHORTS.TREATMENT||r===a("j57x0").COHORTS.CONTROL,canRenderTreatment:i}},[o,t,u,e,p,m,f,n,c]);return{cohort:h,isTreatment:E,isEnrolled:b,canRenderTreatment:_,isLoading:g}};e.exports.useInTrialFeatureGatesExperimentEnrollmentAB=({featureId:e,tenantId:t,sendTrackEvent:r,sendOperationalEvent:s,skip:i=!1,extraAnalyticsAttributes:o={},...l})=>n({experimentName:"in_trial_feature_gates_ab",isFeatureGateEnabled:(0,a("dh538").fg)("in_trial_feature_gates_ab_fg"),featureId:e,tenantId:t,sendTrackEvent:r,sendOperationalEvent:s,skip:i,extraAnalyticsAttributes:o,...l})}),r("5Xk8L",function(e,t){function a(e,t){return`${e}_${t>3?"sot":"eot"}`}e.exports.isFeatureDismissedForPeriodInTrial=function(e,t){if("undefined"==typeof window)return!1;let r=a(e,t);return null!==window.localStorage.getItem(r)},e.exports.markFeatureAsDismissedForTrialPeriod=function(e,t){if("undefined"==typeof window)return;let r=a(e,t);window.localStorage.setItem(r,"true")}}),r("ddBLb",function(e,t){e.exports.useIsValidAudience=({tenantId:e,sendOperationalEvent:t,featureId:r,skip:n=!1,...s})=>{let{error:i,hasPaymentDetailsOnFile:o,canUserPayAndUpgrade:l,daysLeftInTrial:c,loading:d}=(0,a("7jjWP").useGetInTrialFeatureGateBannerData)({sendOperationalEvent:t,skip:n,tenantId:e,featureId:r,...s});return i||n?{isValidAudience:!1,data:{hasPaymentDetailsOnFile:!1,canUserPayAndUpgrade:!1,daysLeftInTrial:void 0},isLoading:!1}:{isValidAudience:void 0!==c&&c>0&&!o&&!!l,data:{hasPaymentDetailsOnFile:o,canUserPayAndUpgrade:l,daysLeftInTrial:c},isLoading:d}}}),r("7jjWP",function(e,t){e.exports.useGetInTrialFeatureGateBannerData=({tenantId:e,sendOperationalEvent:t,featureId:r,skip:n=!1,...s})=>{let i="aggClient"in s?s.aggClient:void 0,{inTrialFeatureGatesQueryResult:o}="inTrialFeatureGatesQueryResult"in s?s:{inTrialFeatureGatesQueryResult:void 0},l=(0,a("xQxzY").useQuery)(a("6ZXYe").InTrialFeatureGatesBannerQuery,{client:i,variables:{cloudId:e},skip:n||!!o}),{data:c,error:d,loading:u}=o??l;if(d)return t({type:"sendOperationalEvent",action:"error",actionSubject:"luna-growth-experiment-graphql-error",actionSubjectId:"in-trial-feature-gates-banner-graphql-error",attributes:{error:d?.message,extraInfo:"extraInfo"in d?d.extraInfo:void 0,graphqlErrors:"graphQLErrors"in d?d.graphQLErrors:void 0,networkErrors:"networkError"in d?d.networkError:void 0,tenantId:e,featureId:r},source:"in_trial_feature_gates_banner"}),{error:d,loading:!!u,paymentFlowExperienceUrl:void 0,hasPaymentDetailsOnFile:!1,canUserPayAndUpgrade:!1,daysLeftInTrial:void 0};let p=c?.tenantContexts?.[0]?.entitlementInfo?.entitlement?.subscription?.accountDetails?.invoiceGroup,m=c?.tenantContexts?.[0]?.entitlementInfo?.entitlement?.subscription,f=p?.experienceCapabilities,g=(0,a("ekm5c").addOriginToPaymentFlowUrl)({paymentExperienceUrlV1:f?.configurePayment?.experienceUrl,paymentExperienceUrlV2:f?.configurePaymentV2?.experienceUrl}),h=!!m?.accountDetails?.invoiceGroup?.invoiceable;return{error:d,loading:!!u,paymentFlowExperienceUrl:g,hasPaymentDetailsOnFile:h,canUserPayAndUpgrade:!!f?.configurePaymentV2?.isAvailableToUser||!!f?.configurePayment?.isAvailableToUser,daysLeftInTrial:(0,a("ekm5c").getTrialEndDate)(m?.trial?.endTimestamp)}}}),r("6ZXYe",function(e,t){let r=(0,a("eSUdr").default)`query InTrialFeatureGatesBannerQuery($cloudId:ID!){tenantContexts(cloudIds:[$cloudId])@optIn(to:["CcpAllUserUpgradeAndPay" "HamsAllUserUpgradeAndPay"]){entitlementInfo(hamsProductKey:"confluence.ondemand"){entitlement(where:{AND:[{inTrialOrPreDunning:true}]}){subscription{trial{endTimestamp}accountDetails{invoiceGroup{invoiceable experienceCapabilities{configurePaymentV2{experienceUrl isAvailableToUser}configurePayment{experienceUrl isAvailableToUser}}}}}}}}}`;e.exports.InTrialFeatureGatesBannerQuery=r}),r("ekm5c",function(e,t){e.exports.addOriginToPaymentFlowUrl=({paymentExperienceUrlV1:e,paymentExperienceUrlV2:t})=>{let r=t||e;if(r)return new(0,a("6Co6F").default)({product:"confluence"}).addToUrl(r)},e.exports.getTrialEndDate=e=>{if(e)return(0,a("917iu").default)(new Date(e),new Date)+1}}),r("j57x0",function(e,t){e.exports.COHORTS={NOT_ENROLLED:"not-enrolled",CONTROL:"control",TREATMENT:"treatment"}}),r("lisqg",function(t,r){var n=a("42omo");let s=(0,a("eSUdr").default)`query InTrialFeatureGatesBannerWithDataQuery($cloudId:ID!){tenantContexts(cloudIds:[$cloudId])@optIn(to:["CcpAllUserUpgradeAndPay" "HamsAllUserUpgradeAndPay"]){entitlementInfo(hamsProductKey:"confluence.ondemand"){entitlement(where:{AND:[{inTrialOrPreDunning:true}]}){subscription{trial{endTimestamp}accountDetails{invoiceGroup{invoiceable experienceCapabilities{configurePaymentV2{experienceUrl isAvailableToUser}configurePayment{experienceUrl isAvailableToUser}}}}}}}}}`;t.exports.InTrialFeatureGatesBannerWithData=t=>{let r=(0,a("gKr8t").getAGGClient)(),i=(0,a("jMyy4").useQueryInterop)(s,{client:r,variables:{cloudId:t.tenantId},skip:!(0,a("6mKj3").expValEquals)("confluence_relay_migration_no_client_passing","isEnabled",!0)}),o=(0,a("6mKj3").expValEquals)("confluence_relay_migration_no_client_passing","isEnabled",!0)?{inTrialFeatureGatesQueryResult:i,...t}:{aggClient:r,...t};return e(n).createElement(a("i1qvR").InTrialFeatureGatesBannerWithData,o)}}),r("i1qvR",function(e,t){var r=a("l998X"),n=a("42omo");let s=(0,n.lazy)(()=>a("50VPq"));e.exports.InTrialFeatureGatesBannerWithData=({featureId:e,tenantId:t,edition:i,sendOperationalEvent:o,sendScreenEvent:l,sendTrackEvent:c,...d})=>{let{daysLeftInTrial:u,paymentFlowExperienceUrl:p,error:m,loading:f}=(0,a("7jjWP").useGetInTrialFeatureGateBannerData)({sendOperationalEvent:o,tenantId:t,featureId:e,...d});return m||f||!u||!p?null:(0,r.jsx)(a("lAJUP").ErrorBoundary,{fallback:(0,r.jsx)("div",{}),onError:a=>{o({type:"sendOperationalEvent",action:"error",actionSubject:"luna-growth-experiment-error-boundary",actionSubjectId:"in-trial-feature-gates-banner-error-boundary",attributes:{error:a.message,tenantId:t,featureId:e},source:"in_trial_feature_gates_banner"})},children:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{}),children:(0,r.jsx)(s,{daysLeftInTrial:u,paymentFlowExperienceUrl:p,featureId:e,sendScreenEvent:l,sendTrackEvent:c,edition:i})})})}}),r("lAJUP",function(e,t){var r=a("42omo");let n=(0,r.createContext)(null),s={didCatch:!1,error:null};class i extends r.Component{static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){let{error:e}=this.state;if(null!==e){for(var t,a,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];null==(t=(a=this.props).onReset)||t.call(a,{args:n,reason:"imperative-api"}),this.setState(s)}}componentDidCatch(e,t){var a,r;null==(a=(r=this.props).onError)||a.call(r,e,t)}componentDidUpdate(e,t){let{didCatch:a}=this.state,{resetKeys:r}=this.props;if(a&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((e,a)=>!Object.is(e,t[a]))}(e.resetKeys,r)){var n,i;null==(n=(i=this.props).onReset)||n.call(i,{next:r,prev:e.resetKeys,reason:"keys"}),this.setState(s)}}render(){let{children:e,fallbackRender:t,FallbackComponent:a,fallback:s}=this.props,{didCatch:i,error:o}=this.state,l=e;if(i){let e={error:o,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof t)l=t(e);else if(a)l=(0,r.createElement)(a,e);else if(null===s||(0,r.isValidElement)(s))l=s;else throw o}return(0,r.createElement)(n.Provider,{value:{didCatch:i,error:o,resetErrorBoundary:this.resetErrorBoundary}},l)}constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=s}}e.exports.ErrorBoundary=i,e.exports.withErrorBoundary=function(e,t){let a=(0,r.forwardRef)((a,n)=>(0,r.createElement)(i,t,(0,r.createElement)(e,{...a,ref:n}))),n=e.displayName||e.name||"Unknown";return a.displayName="withErrorBoundary(".concat(n,")"),a}}),r("50VPq",function(e,t){let r=a("4mJKd")(5);e.exports=Promise.all([r("hhss7"),r("13QWg")]).then(()=>a("kUaha"))}),r("2ZJmt",function(e,t){let r=(0,a("jmjWc").LoadableAfterPaint)({__loadable_id__:"gjoA6",name:"NavigationLockout",loader:async()=>(await a("618I0")).NavigationLockout});e.exports.NavigationLockout=r}),r("618I0",function(e,t){e.exports=a("4mJKd")(5)("hwiu3").then(()=>a("jUOfU"))}),r("7gpC4",function(e,t){var r=a("l998X"),n=a("42omo");let s=(0,n.memo)((0,n.forwardRef)(function({isChecked:e,isDisabled:t=!1,isInvalid:s=!1,defaultChecked:i=!1,isIndeterminate:o=!1,onChange:l,analyticsContext:c,label:d,name:u,value:p,isRequired:m,testId:f,xcss:g,className:h,...E},b){let[_,y]=(0,n.useState)(void 0!==e?e:i),v=(0,n.useCallback)((e,t)=>{y(e.target.checked),l&&l(e,t)},[l]),S=(0,a("gxtzC").usePlatformLeafEventHandler)({fn:v,action:"changed",analyticsData:c,componentName:"checkbox",packageName:"platform-pkg",packageVersion:"0.0.0-use.local"}),A=(0,n.useRef)(null),C=(0,a("3654r").default)([A,b]),I=void 0===e?_:e;return(0,n.useEffect)(()=>{A.current&&(A.current.indeterminate=o)},[o]),(0,r.jsxs)(a("9wgn8").default,{isDisabled:t,label:d,id:E.id?`${E.id}-label`:void 0,testId:f&&`${f}--checkbox-label`,xcss:g,children:[(0,r.jsx)("input",{tabIndex:0,...E,type:"checkbox",ref:C,disabled:t,checked:I,value:p,name:u,required:m,className:(0,a("gMc0m").default)(["_19itglyw _nd5lfibj _12ji1r31 _1qu2glyw _12y31o36 _1bsb1osq _4t3i1osq _r06hglyw _6rthze3t _1pfhze3t _12l2ze3t _ahbqze3t _tzy4idpf _r050fibj _9bg71mn3 _19op11so _a30fhteq _1610e4h9 _13wo93zu _q5a61gyf _8gq114p8 _wje2mov0 _1fo21cni _eyedglyw _1ef78r4n _1h6r8r4n _smzgdfik _1dk7dfik _l71j1i6y _t34a1i6y _y32gkivo _1ah9199y _1frj180l _h78e1g3k _dwvb1ps2 _1bok170n _1mhr17cl _fx2i3rva _10oaq2ws _w12s155b _15y61vek _e6ww155b _sg1j1vek _rphw18jz _y9y9mz2b _141bmz2b _255gmz2b _jj67mz2b _swhgmz2b _axq81diq _1jiz1diq _s9051diq _1efy1diq _1oav1diq _10y313gf _1wt913gf _qq8613gf _1adw13gf _12sr13gf _16jiglyw _693jglyw _1niqglyw _cl9tglyw _1jbnglyw _j1ta1hou _18qu1ps2 _1g52170n _1log17cl _32hzmz2b _1vv91diq _yjhd1hou _w1cowc43 _jdqn1onz _4y4t1onz _lvfrwc43 _g68dwc43 _13dk1onz _w1el1onz _a9yw1onz _1l3g1onz _dcdpgir2 _wobcgir2 _rp9wgir2 _9ebfwc43 _e43iwc43 _1tkuwc43 _1lehwc43 _b9q3wc43 _tu2918qt _1uxv18qt _1ufw18qt _opo918qt _1e8318qt _1k3d18qt _25yv18qt _1igz18qt _c7cc18qt _1swg18qt",h]),onChange:S,"aria-invalid":s?"true":void 0,"data-testid":f&&`${f}--hidden-checkbox`,"data-invalid":s?"true":void 0}),(0,r.jsx)(a("6MlG5").default,{isIndeterminate:o,isChecked:I}),d&&(0,r.jsxs)(a("cVrnQ").default,{children:[d,m&&(0,r.jsx)(a("hcDON").default,{})]})]})}));s.displayName="Checkbox",e.exports.default=s}),r("6MlG5",function(e,t){var r=a("l998X"),n=a("42omo");let s=(0,n.memo)(({isIndeterminate:e,isChecked:t})=>{let s=(0,n.useMemo)(()=>(function(e,t){if(e)if((0,a("dh538").fg)("platform-visual-refresh-icons"))return(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.75 12.75H16.25V11.25H7.75V12.75Z",fill:"inherit"});else return(0,r.jsx)("rect",{fill:"inherit",x:"8",y:"11",width:"8",height:"2",rx:"1"});if(t)if((0,a("dh538").fg)("platform-visual-refresh-icons"))return(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.3262 9.48011L15.1738 8.51984L10.75 13.8284L8.82616 11.5198L7.67383 12.4801L10.1738 15.4801C10.3163 15.6511 10.5274 15.75 10.75 15.75C10.9726 15.75 11.1837 15.6511 11.3262 15.4801L16.3262 9.48011Z",fill:"inherit"});else return(0,r.jsx)("path",{d:"M9.707 11.293a1 1 0 1 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4a1 1 0 1 0-1.414-1.414L11 12.586l-1.293-1.293z",fill:"inherit"});return null})(e,t),[e,t]);return(0,r.jsx)("svg",{width:24,height:24,viewBox:"0 0 24 24",style:{color:"var(--checkbox-background-color)",fill:"var(--checkbox-tick-color)"},role:"presentation",className:(0,a("gMc0m").default)(["_1reo15vq _18m915vq _lswuvuon _lcxvglyw"]),children:(0,r.jsxs)("g",{fillRule:"evenodd",children:[(0,a("dh538").fg)("platform-visual-refresh-icons")?(0,r.jsx)("rect",{fill:"currentColor",x:"5.5",y:"5.5",width:"13",height:"13",rx:"1.5"}):(0,r.jsx)("rect",{fill:"currentColor",x:"6",y:"6",width:"12",height:"12",rx:"2"}),s]})})});e.exports.default=s}),r("9wgn8",function(e,r){t(e.exports,"default",()=>s);var n=a("l998X");function s({children:e,isDisabled:t,testId:r,label:s,id:i,xcss:o}){return(0,n.jsx)("label",{className:(0,a("gMc0m").default)(["_11c82smr _1e0c11p5 _1ejihkll _umai184x _syazi7uo _80om73ad",s&&"_zulp1nu5 _yv0ey09t",t&&"_syaz1gmx _80om13gf","_h5e31j9a _1nzsr01l _1eszjmqp _yp0j1q28 _ay2wby5v _d51ul4ek _phftrsbi _1g1f1l7x _l6wkjmqp _1dik1q28 _1sfg1bqt _fpdjby5v _1yjc1v1w _oaj1rsbi _1j3h1bqt _eawb5w2r _1rda5w2r _18q02sac _13hr1j28",o]),"data-testid":r,"data-disabled":t||void 0,id:i,children:e})}a("42omo")}),r("cVrnQ",function(e,r){t(e.exports,"default",()=>s);var n=a("l998X");function s({children:e}){return(0,n.jsx)("span",{className:(0,a("gMc0m").default)(["_nd5l11ig _1wpz1h6o"]),children:e})}a("42omo")}),r("hcDON",function(e,r){t(e.exports,"default",()=>s);var n=a("l998X");function s(){return(0,n.jsx)("span",{"aria-hidden":!0,className:(0,a("gMc0m").default)(["_syaz1tmw _bozgv77o"]),children:"*"})}a("42omo")}),r("bflGB",function(t,r){var n,s=a("3u0dr"),i=a("frIzR"),o=a("42omo"),l=a("lisKW");if(a("4ARHe"),"undefined"!=typeof window){let t=e(l).prototype.stopCallback;e(l).prototype.stopCallback=function(...[e,r,n]){let s=a("1k6sE").MOUSETRAP_ALLOWED_ELEMENTS.map(e=>r.classList.contains(e)).some(e=>e),i=a("1k6sE").MOUSETRAP_ALLOWED_MODALS.map(e=>r.closest(`.${e}`)).some(e=>e);return!s&&!i&&t.call(this,e,r,n)}}var c=((n={}).Confluence="Confluence",n.Forge="Forge",n);class d extends o.PureComponent{componentDidMount(){let{accelerator:e,shortcutType:t="Confluence"}=this.props;this.checkConflictThenBindAccelerator(e,t)}componentDidUpdate(e){let{accelerator:t}=e,{accelerator:a,shortcutType:r="Confluence"}=this.props,n=this.getAccelerators(t);JSON.stringify(t)!==JSON.stringify(a)&&(this.unbindAccelerators(n),this.checkConflictThenBindAccelerator(a,r))}componentWillUnmount(){let{accelerator:e}=this.props,t=this.getAccelerators(e);this.unbindAccelerators(t)}getAccelerators(e){return Array.isArray(e)?e:[e]}getShortcutConflicts(e){return e.map(e=>({accelerator:e,conflictType:d.listeners[e]})).filter(e=>e.conflictType)}isConfluenceShortcutAndAllConflictsAreForgeShortcuts(e,t){return"Confluence"===e&&t.every(e=>"Forge"===e.conflictType)}checkConflictThenBindAccelerator(t,a){let r=this.getAccelerators(t),n=this.getShortcutConflicts(r);n.length?this.isConfluenceShortcutAndAllConflictsAreForgeShortcuts(a,n)&&(n.forEach(t=>e(l).unbind(t.accelerator)),this.bindAccelerators(r,a)):this.bindAccelerators(r,a)}bindAccelerators(t,a){t.forEach(t=>{t.includes("+")&&"Forge"!==a&&"function"==typeof e(l).bindGlobal?e(l).bindGlobal(t,this._call):e(l).bind(t,this._call),d.listeners[t]=a})}unbindAccelerators(t){t.forEach(t=>{e(l).unbind(t),delete d.listeners[t]})}render(){return null}constructor(...e){super(...e),this.listeners={},this.lastFired=0,this._call=(e,t)=>{let r=Date.now();r-this.lastFired>=150&&(this.props.allowInDialog||!(0,a("l65Bo").isDialogShown)())&&(this.lastFired=r,this.props.listener(e,t))}}}d.defaultProps={allowInDialog:!1,shortcutType:"Confluence"},d.listeners={};let u=(0,s.isReactCompilerActiveV1)()?t=>{let r,n,s,l,c,u,p,m,f,g=(0,i.c)(22);g[0]!==t?({flags:s,deprecatedAccelerator:n,accelerator:r,listener:l,...c}=t,g[0]=t,g[1]=r,g[2]=n,g[3]=s,g[4]=l,g[5]=c):(r=g[1],n=g[2],s=g[3],l=g[4],c=g[5]),g[6]!==r||g[7]!==n||g[8]!==s||g[9]!==l?(u=(e,t)=>{(0,a("9wGTI").fg)("confluence_frontend_shortcut_deprecation_flag")&&(0,a("4q9NN").maybeShowDeprecatedShortcutFlag)({flags:s,acceleratorTriggered:t,accelerator:r,deprecatedAccelerator:n}),l(e,t)},g[6]=r,g[7]=n,g[8]=s,g[9]=l,g[10]=u):u=g[10];let h=u;return g[11]!==n||g[12]!==h||g[13]!==c?(p=n&&e(o).createElement(d,{accelerator:n,listener:h,...c}),g[11]=n,g[12]=h,g[13]=c,g[14]=p):p=g[14],g[15]!==r||g[16]!==l||g[17]!==c?(m=e(o).createElement(d,{accelerator:r,listener:l,...c}),g[15]=r,g[16]=l,g[17]=c,g[18]=m):m=g[18],g[19]!==p||g[20]!==m?(f=e(o).createElement(e(o).Fragment,null,p,m),g[19]=p,g[20]=m,g[21]=f):f=g[21],f}:({flags:t,deprecatedAccelerator:r,accelerator:n,listener:s,...i})=>{let l=(0,o.useCallback)((e,i)=>{(0,a("9wGTI").fg)("confluence_frontend_shortcut_deprecation_flag")&&(0,a("4q9NN").maybeShowDeprecatedShortcutFlag)({flags:t,acceleratorTriggered:i,accelerator:n,deprecatedAccelerator:r}),s(e,i)},[s,n,r,t]);return e(o).createElement(e(o).Fragment,null,r&&e(o).createElement(d,{accelerator:r,listener:l,...i}),e(o).createElement(d,{accelerator:n,listener:s,...i}))},p=(0,a("7aRa9").withFlags)(u);t.exports.ShortcutType=c,t.exports.ShortcutListener=p}),r("lisKW",function(e,t){!function(t,a,r){if(t){for(var n,s={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},i={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},l={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},c=1;c<20;++c)s[111+c]="f"+c;for(c=0;c<=9;++c)s[c+96]=c.toString();f.prototype.bind=function(e,t,a){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,a),this},f.prototype.unbind=function(e,t){return this.bind.call(this,e,function(){},t)},f.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},f.prototype.reset=function(){return this._callbacks={},this._directMap={},this},f.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1||function e(t,r){return null!==t&&t!==a&&(t===r||e(t.parentNode,r))}(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var r=e.composedPath()[0];r!==e.target&&(t=r)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},f.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},f.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(s[t]=e[t]);n=null},f.init=function(){var e=f(a);for(var t in e)"_"!==t.charAt(0)&&(f[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},f.init(),t.Mousetrap=f,e.exports&&(e.exports=f),"function"==typeof define&&define.amd&&define(function(){return f})}function d(e,t,a){if(e.addEventListener)return void e.addEventListener(t,a,!1);e.attachEvent("on"+t,a)}function u(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return s[e.which]?s[e.which]:i[e.which]?i[e.which]:String.fromCharCode(e.which).toLowerCase()}function p(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function m(e,t){var a,r,i,c,d,u,m=[];for(u=0,c="+"===(a=e)?["+"]:(a=a.replace(/\+{2}/g,"+plus")).split("+");u<c.length;++u)l[d=c[u]]&&(d=l[d]),t&&"keypress"!=t&&o[d]&&(d=o[d],m.push("shift")),p(d)&&m.push(d);return r=d,(i=t)||(i=function(){if(!n)for(var e in n={},s)e>95&&e<112||s.hasOwnProperty(e)&&(n[s[e]]=e);return n}()[r]?"keydown":"keypress"),"keypress"==i&&m.length&&(i="keydown"),{key:d,modifiers:m,action:t=i}}function f(e){var t,r=this;if(e=e||a,!(r instanceof f))return new f(e);r.target=e,r._callbacks={},r._directMap={};var n={},s=!1,i=!1,o=!1;function l(e){e=e||{};var t,a=!1;for(t in n){if(e[t]){a=!0;continue}n[t]=0}a||(o=!1)}function c(e,t,a,s,i,o){var l,c,d,u,m=[],f=a.type;if(!r._callbacks[e])return[];for("keyup"==f&&p(e)&&(t=[e]),d=0;d<r._callbacks[e].length;++d)if((u=r._callbacks[e][d],s||!u.seq||n[u.seq]==u.level)&&f==u.action&&("keypress"==f&&!a.metaKey&&!a.ctrlKey||(l=t,c=u.modifiers,l.sort().join(",")===c.sort().join(",")))){var g=!s&&u.combo==i,h=s&&u.seq==s&&u.level==o;(g||h)&&r._callbacks[e].splice(d,1),m.push(u)}return m}function g(e,t,a,n){r.stopCallback(t,t.target||t.srcElement,a,n)||!1===e(t,a)&&(!function(e){if(e.preventDefault)return e.preventDefault();e.returnValue=!1}(t),function(e){if(e.stopPropagation)return e.stopPropagation();e.cancelBubble=!0}(t))}function h(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t,a=u(e);if(a){if("keyup"==e.type&&s===a){s=!1;return}r.handleKey(a,(t=[],e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t),e)}}r._handleKey=function(e,t,a){var r,n=c(e,t,a),s={},d=0,u=!1;for(r=0;r<n.length;++r)n[r].seq&&(d=Math.max(d,n[r].level));for(r=0;r<n.length;++r){if(n[r].seq){if(n[r].level!=d)continue;u=!0,s[n[r].seq]=1,g(n[r].callback,a,n[r].combo,n[r].seq);continue}u||g(n[r].callback,a,n[r].combo)}var m="keypress"==a.type&&i;a.type!=o||p(e)||m||l(s),i=u&&"keydown"==a.type};r._bindMultiple=function(e,a,i){for(var d=0;d<e.length;++d)!function e(a,i,d,p,f){r._directMap[a+":"+d]=i;var h,E=(a=a.replace(/\s+/g," ")).split(" ");if(E.length>1)return void function(a,r,i,c){function d(e){g(i,e,a),"keyup"!==c&&(s=u(e)),setTimeout(l,10)}n[a]=0;for(var p=0;p<r.length;++p){var f=p+1===r.length?d:function(e){return function(){o=e,++n[a],clearTimeout(t),t=setTimeout(l,1e3)}}(c||m(r[p+1]).action);e(r[p],f,c,a,p)}}(a,E,i,d);h=m(a,d),r._callbacks[h.key]=r._callbacks[h.key]||[],c(h.key,h.modifiers,{type:h.action},p,a,f),r._callbacks[h.key][p?"unshift":"push"]({callback:i,modifiers:h.modifiers,action:h.action,seq:p,level:f,combo:a})}(e[d],a,i)},d(e,"keypress",h),d(e,"keydown",h),d(e,"keyup",h)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)}),r("4ARHe",function(e,t){var a="undefined"!=typeof Mousetrap?Mousetrap:void 0;if(a){var r={},n=a.prototype.stopCallback;a.prototype.stopCallback=function(e,t,a,s){return!!this.paused||!r[a]&&!r[s]&&n.call(this,e,t,a)},a.prototype.bindGlobal=function(e,t,a){if(this.bind(e,t,a),e instanceof Array){for(var n=0;n<e.length;n++)r[e[n]]=!0;return}r[e]=!0},a.init()}}),r("l65Bo",function(e,t){e.exports.isDialogShown=()=>{let e=!!Array.from(document.getElementsByClassName("atlaskit-portal")).filter(e=>e.firstChild).filter(e=>e.querySelectorAll('[role="dialog"]').length).length,t=!!document.getElementById("loom-sdk-record-overlay-shadow-root-id")?.shadowRoot?.getElementById("preview-recording");return e||t}}),r("1k6sE",function(e,t){let r="shortcuts-are-allowed",n="shortcuts-are-allowed-in-modal",s=Object.values(a("gnkil")).reduce(a("9aQ0J").getShortcutValues,[]);e.exports.ALLOW_SHORTCUTS_CLASS=r,e.exports.ALLOW_SHORTCUTS_CLASS_IN_MODAL=n,e.exports.MOUSETRAP_ALLOWED_ELEMENTS=["ProseMirror-focused",r],e.exports.MOUSETRAP_ALLOWED_MODALS=[n],e.exports.RESERVED_SHORTCUTS=s}),r("gnkil",function(e,t){e.exports.EDITOR2_SHORTCUTS={PUBLISH:"mod+enter",PUBLISH_WITH_COMMENT:"mod+shift+enter",EDIT:"e",PREVIEW:"mod+shift+e",UNDO:"mod+z",REDO:"mod+shift+z",FIND_REPLACE:"mod+f"},e.exports.BROWSER_SAVE_SHORTCUT="mod+s",e.exports.COMMENT_EDITOR_SHORTCUT="command+enter",e.exports.INLINE_COMMENTS_SHORTCUT="mod+enter",e.exports.BLOG_SHORTCUT="b",e.exports.GLOBAL_CREATE_SHORTCUT="c",e.exports.STAR_BUTTON_SHORTCUT="f",e.exports.CREATE_COMMENT_SHORTCUT="m",e.exports.LINK_TO_THIS_PAGE_SHORTCUT="k",e.exports.EDIT_SHORTCUT="e",e.exports.PRESENTATION_MODE_SHORTCUT="r",e.exports.WATCH_CONTENT_SHORTCUT="w",e.exports.SHARE_PAGE_SHORTCUT="s",e.exports.LABELS_SHORTCUT="l",e.exports.VIEW_ATTACHMENTS_SHORTCUT="t",e.exports.NEXT_COMMENT_SHORTCUT="n",e.exports.PREV_COMMENT_SHORTCUT="p",e.exports.SUBMIT_FEEDBACK_SHORTCUT="g f",e.exports.NAVIGATION_SHORTCUT="g g",e.exports.GO_HOME_SHORTCUT="g d",e.exports.NOTIFICATIONS_SHORTCUT="g n",e.exports.GO_TO_RECENT_SHORTCUT="g r",e.exports.GO_TO_STARRED_SHORTCUT="g s",e.exports.SPACE_OVERVIEW_SHORTCUT_NAV_3="g s",e.exports.SPACE_OVERVIEW_SHORTCUT="g o",e.exports.AI_MATE_SHORTCUT="g c",e.exports.NAVIGATION_SLASH_SHORTCUT="/",e.exports.SIDE_NAVIGATION_SHORTCUT="[",e.exports.UNDO_SHORTCUT="mod+z",e.exports.PREV_TEMPLATE_SHORTCUT="left",e.exports.NEXT_TEMPLATE_SHORTCUT="right",e.exports.HELP_SHORTCUT="?",e.exports.AUTOMATION_SHORTCUT="a",e.exports.TOGGLE_INLINE_COMMENTS_SHORTCUT_RENDERER="]",e.exports.LIVE_PAGE_MODE_SWITCH_TO_EDIT="e",e.exports.LIVE_PAGE_MODE_SWITCH_TO_VIEW="mod+shift+e",e.exports.UNIVERSAL_NEXT_COMMENT_SHORTCUT="ctrl+.",e.exports.UNIVERSAL_PREV_COMMENT_SHORTCUT="ctrl+,",e.exports.UNIVERSAL_OPEN_COMMENT_EDITOR="mod+option+c",e.exports.UNIVERSAL_CREATE_LIVE_DOC_SHORTCUT="ctrl+shift+d",e.exports.UNIVERSAL_CREATE_NOTE_SHORTCUT="ctrl+option+n",e.exports.UNIVERSAL_NEXT_UNREAD_COMMENT_SHORTCUT="mod+shift+u",e.exports.UNIVERSAL_PRESENTATION_MODE_SHORTCUT="mod+option+r",e.exports.UNIVERSAL_PRESENTATION_MODE_SHORTCUT_SAFARI="ctrl+option+r",e.exports.UNIVERSAL_TOGGLE_INLINE_COMMENTS_SHORTCUT="ctrl+]",e.exports.UNIVERSAL_BLOG_SHORTCUT="mod+option+shift+b",e.exports.UNIVERSAL_GLOBAL_CREATE_SHORTCUT_MAC="ctrl+option+c",e.exports.UNIVERSAL_GLOBAL_CREATE_SHORTCUT_WIN="meta+alt+c",e.exports.UNIVERSAL_HELP_SHORTCUT="ctrl+shift+/",e.exports.UNIVERSAL_SIDE_NAVIGATION_SHORTCUT="ctrl+[",e.exports.UNIVERSAL_STAR_BUTTON_SHORTCUT="ctrl+option+f",e.exports.UNIVERSAL_NOTIFICATIONS_SHORTCUT="mod+option+o",e.exports.UNIVERSAL_NAVIGATION_SHORTCUT_MAC="ctrl+option+z",e.exports.UNIVERSAL_NAVIGATION_SHORTCUT_WIN="alt+shift+z",e.exports.UNIVERSAL_GO_HOME_SHORTCUT="mod+option+h",e.exports.UNIVERSAL_GO_TO_RECENT_SHORTCUT="mod+option+g",e.exports.UNIVERSAL_GO_TO_STARRED_SHORTCUT="mod+option+8",e.exports.UNIVERSAL_SPACE_OVERVIEW_SHORTCUT="mod+option+v",e.exports.UNIVERSAL_WATCH_CONTENT_SHORTCUT="mod+option+w",e.exports.UNIVERSAL_WATCH_CONTENT_SHORTCUT_SAFARI="ctrl+option+w",e.exports.UNIVERSAL_SHARE_PAGE_SHORTCUT="mod+option+s",e.exports.UNIVERSAL_OPEN_DETAILS_PANEL_SHORTCUT="ctrl+shift+i",e.exports.UNIVERSAL_LABELS_SHORTCUT="ctrl+option+a",e.exports.UNIVERSAL_VIEW_ATTACHMENTS_SHORTCUT_MAC="ctrl+option+t",e.exports.UNIVERSAL_VIEW_ATTACHMENTS_SHORTCUT_WIN="meta+alt+t",e.exports.UNIVERSAL_AI_MATE_SHORTCUT_MAC="mod+.",e.exports.UNIVERSAL_AI_MATE_SHORTCUT_WIN="ctrl+meta+.",e.exports.UNIVERSAL_LINK_TO_THIS_PAGE_SHORTCUT="mod+option+k",e.exports.UNIVERSAL_SELECT_COMMENT_SHORTCUT="mod+option+e",e.exports.UNIVERSAL_OPEN_DEVTOOLS_SHORTCUT="alt+meta+x"}),r("9aQ0J",function(e,t){let a=(e,t)=>("string"==typeof t?e.push(t):"object"==typeof t&&e.push(...Object.values(t).reduce(a,[])),e);e.exports.getShortcutValues=a}),r("4q9NN",function(t,r){var n=a("42omo");let s=(0,a("cgtv4").defineMessages)({deprecatedShortcutFlagTitle:{id:"shortcuts.deprecated-shortcut-flag.title",defaultMessage:"This shortcut is about to change"},deprecatedShortcutFlagDescription:{id:"shortcuts.deprecated-shortcut-flag.description",defaultMessage:"Shortcuts are switching to a <supportLink>universal format</supportLink>. <inline>{oldShortcut} will now be {newShortcut}</inline>"},remindMeLaterButton:{id:"shortcuts.deprecated-shortcut-flag.button.remind-me-later",defaultMessage:"Remind me later"},dontTellMeAgainButton:{id:"shortcuts.deprecated-shortcut-flag.button.dont-tell-me-again",defaultMessage:"Donâ€™t tell me again"}}),i=({oldShortcut:t,newShortcut:r,acceleratorTriggered:i})=>{let o=Array.isArray(r)?r[0]:r;if(Array.isArray(t)&&Array.isArray(r)&&t.length===r.length){let e=t.indexOf(i);e>=0&&e<r.length&&(o=r[e])}return e(n).createElement(a("gtD4K").default,{...s.deprecatedShortcutFlagDescription,values:{supportLink:t=>e(n).createElement(a("2Nwuj").default,{target:"_blank",href:"https://support.atlassian.com/confluence-cloud/docs/keyboard-shortcuts-markdown-and-autocomplete/"},t),oldShortcut:e(n).createElement(a("4tOXV").ShortcutVisualizer,{shortcut:i}),newShortcut:e(n).createElement(a("4tOXV").ShortcutVisualizer,{shortcut:o}),inline:t=>e(n).createElement("div",{className:(0,a("gMc0m").default)(["_zulpv77o _1e0c1txw _4cvr1h6o"])},t)}})},o="forever",l="deprecatedShortcutFlag",c=()=>{let e=a("17wUi").confluenceLocalStorageInstance.getItem(a("1UApO").keys.UNIVERSAL_SHORTCUTS_HIDE_PROMPT_UNTIL)||"";if(e===o)return!1;if(""!==e){let t=Number(e);if(!isNaN(t))return Date.now()>t}return!0};t.exports.maybeShowDeprecatedShortcutFlag=({flags:t,acceleratorTriggered:r,accelerator:d,deprecatedAccelerator:u})=>{c()&&t.showFlag({id:l,title:e(n).createElement(a("gtD4K").default,s.deprecatedShortcutFlagTitle),description:i({oldShortcut:u,newShortcut:d,acceleratorTriggered:r}),type:"success",close:"never",actions:[{content:e(n).createElement(a("gtD4K").default,s.remindMeLaterButton),onClick:()=>{a("17wUi").confluenceLocalStorageInstance.setItem(a("1UApO").keys.UNIVERSAL_SHORTCUTS_HIDE_PROMPT_UNTIL,Date.now()+6048e5),t.hideFlag(l)}},{content:e(n).createElement(a("gtD4K").default,s.dontTellMeAgainButton),onClick:()=>{a("17wUi").confluenceLocalStorageInstance.setItem(a("1UApO").keys.UNIVERSAL_SHORTCUTS_HIDE_PROMPT_UNTIL,o),t.hideFlag(l)}}]})}}),r("2Nwuj",function(e,t){var r=a("l998X"),n=a("42omo");let s={visitedLink:"_ect41gqc _10531ra0 _1ien1ra0 _n0fx1ra0 _1vhv17z1",defaultAppearance:"_4bfu1r31 _1hms8stv _ajmmnqa1 _syaz13af _ect41gqc _1a3b1r31 _4fpr8stv _5goinqa1 _f8pj13af _9oik1r31 _1bnxglyw _jf4cnqa1 _30l313af _1nrm1r31 _c2waglyw _1iohnqa1 _9h8h12zz",subtleAppearance:"_4bfu1r31 _1hmsglyw _ajmmnqa1 _ect41gqc _syazazsu _1a3b1r31 _4fprglyw _5goinqa1 _f8pjazsu _9oik1r31 _1bnx8stv _jf4cnqa1 _30l3azsu _1nrm1r31 _c2wa8stv _1iohnqa1 _9h8hi7uo",inverseAppearance:"_4bfu1r31 _1hms8stv _ajmmnqa1 _ect41gqc _syaz15cr _105315cr _1a3b1r31 _4fpr8stv _5goinqa1 _f8pj15cr _9oik1r31 _1bnxglyw _jf4cnqa1 _30l315cr _1nrm1r31 _c2waglyw _1iohnqa1 _9h8h15cr",iconWrapper:"_1e0c1nu9 _o5721q9c _s7n41q9y _kqswh2mm _152ttb3r"},i=(0,n.forwardRef)(({children:e,testId:t,appearance:n="default",newWindowLabel:i,target:o,className:l,style:c,...d},u)=>(0,r.jsxs)(a("auNCB").default,{...d,target:o,ref:u,xcss:(0,a("1Whri").cx)("default"===n&&s.defaultAppearance,"subtle"===n&&s.subtleAppearance,"inverse"===n&&s.inverseAppearance,"inverse"!==n&&s.visitedLink),testId:t,componentName:"Link",newWindowLabel:i,children:[e,"_blank"===o&&(0,r.jsxs)(a("gdv5Z").default,{as:"span",xcss:s.iconWrapper,testId:t&&`${t}__icon`,children:["\uFEFF",(0,a("dh538").fg)("platform-visual-refresh-icons")?(0,r.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",className:(0,a("gMc0m").default)(["_1bsbgm0b _4t3igm0b _ahbqzjw7"]),children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 1.82609C0 0.817938 0.817938 0 1.82609 0H3.91304V1.04348H1.82609C1.39424 1.04348 1.04348 1.39424 1.04348 1.82609V10.1739C1.04348 10.6058 1.39424 10.9565 1.82609 10.9565H10.1739C10.6058 10.9565 10.9565 10.6058 10.9565 10.1739V8.08696H12V10.1739C12 11.1821 11.1821 12 10.1739 12H1.82609C0.817938 12 0 11.1821 0 10.1739V1.82609ZM7.04348 0H12V4.95652H10.9565V1.78133L6.36893 6.36893L5.63107 5.63107L10.2187 1.04348H7.04348V0Z",fill:"currentColor"})}):(0,r.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",className:(0,a("gMc0m").default)(["_1bsbgm0b _4t3igm0b _ahbqzjw7"]),children:[(0,r.jsx)("path",{d:"M17.5715 3.95926L10.7587 10.772C10.5546 10.9692 10.2811 11.0784 9.99723 11.0759C9.71338 11.0734 9.44185 10.9596 9.24113 10.7589C9.04041 10.5581 8.92655 10.2866 8.92409 10.0027C8.92162 9.7189 9.03074 9.44543 9.22794 9.24125L16.0407 2.4285H14.3237C14.0366 2.4285 13.7613 2.31444 13.5582 2.11142C13.3552 1.90839 13.2411 1.63303 13.2411 1.34591C13.2411 1.05879 13.3552 0.783424 13.5582 0.580399C13.7613 0.377373 14.0366 0.263314 14.3237 0.263314H18.4981C18.5509 0.254962 18.6043 0.250507 18.658 0.250041C18.8017 0.248792 18.9443 0.276183 19.0773 0.330617C19.2104 0.385051 19.3313 0.465437 19.4329 0.567084C19.5346 0.668732 19.6149 0.789606 19.6694 0.922652C19.7238 1.0557 19.7512 1.19825 19.75 1.342C19.7495 1.3956 19.7451 1.44896 19.7367 1.50165V5.67628C19.7367 5.9634 19.6227 6.23877 19.4196 6.44179C19.2166 6.64482 18.9412 6.75888 18.6541 6.75888C18.367 6.75888 18.0916 6.64482 17.8886 6.44179C17.6856 6.23877 17.5715 5.9634 17.5715 5.67628V3.95926Z"}),(0,r.jsx)("path",{d:"M2.41519 17.5848V2.4285H8.91076V0.263314H2.41194C1.22001 0.263314 0.25 1.23007 0.25 2.42201V17.5913C0.250574 18.1638 0.47834 18.7127 0.883283 19.1175C1.28823 19.5222 1.83724 19.7497 2.40978 19.75H17.5769C17.8608 19.7499 18.1418 19.6938 18.404 19.585C18.6662 19.4762 18.9044 19.3168 19.105 19.116C19.3055 18.9151 19.4646 18.6767 19.573 18.4143C19.6814 18.152 19.737 17.8708 19.7367 17.587V11.0893H17.5715V17.5848H2.41519Z"})]})]})]}));e.exports.default=i}),r("4tOXV",function(t,r){var n=a("3u0dr"),s=a("frIzR"),i=a("42omo");let o=()=>{let e="";return(window.__SSR_USER_AGENT__?window.__SSR_USER_AGENT__:window?.navigator?.userAgent).indexOf("Mac")>-1},l={flexCenter:"_1rjcv77o _1e0c1txw _4cvr1h6o",base:"_2rko12b0 _1rjcv77o _18zru2gc _1e0c1o8l _18u0v77o _2hwxv77o",contentBefore:"_18u01b66 _2hwxze3t",darkBackground:"_bfhk18j9",lightBackground:"_bfhkysee"},c=(0,a("cgtv4").defineMessages)({keyboardShortcutShift:{id:"shortcuts.shift",defaultMessage:"Shift"},keyboardShortcutCtrl:{id:"shortcuts.ctrl",defaultMessage:"Ctrl"},keyboardShortcutCommandWin:{id:"shortcuts.cmd.win",defaultMessage:"Ctrl"},keyboardShortcutCommandMac:{id:"shortcuts.cmd.mac",defaultMessage:"Cmd"},keyboardShortcutOptionMac:{id:"shortcuts.opt.mac",defaultMessage:"Opt"},keyboardShortcutOptionWin:{id:"shortcuts.opt.win",defaultMessage:"Alt"},keyboardShortcutPlus:{id:"shortcuts.plus",defaultMessage:"+"},keyboardShortcutMinus:{id:"shortcuts.minus",defaultMessage:"-"},keyboardShortcutEnter:{id:"shortcuts.enter",defaultMessage:"Enter"},keyboardShortcutMeta:{id:"shortcuts.meta",defaultMessage:"Meta"}}),d=(e,t)=>{let a=o();switch(e.toLowerCase()){case"shift":return"â‡§";case"cmd":case"mod":return a?"âŒ˜":t(c.keyboardShortcutCommandWin);case"ctrl":return t(c.keyboardShortcutCtrl);case"opt":case"option":return t(a?c.keyboardShortcutOptionMac:c.keyboardShortcutOptionWin);case"enter":return t(c.keyboardShortcutEnter);case"meta":return t(c.keyboardShortcutMeta);case"uparrow":return"â†‘";case"downarrow":return"â†“";case"leftarrow":return"â†";case"rightarrow":return"â†’";case"plus":return"+";case"minus":return"-";default:return e}},u=(e,t)=>(e.includes(" ")?e.split(" "):e.split("+")).map(e=>{let a=d(e,t);return 1===a.length?a.toUpperCase():a}),p=(0,n.isReactCompilerActiveV1)()?t=>{let r,n,o,c,d,p,m=(0,s.c)(17),{shortcut:f,contentBefore:g,isEditorShortcut:h,isTooltip:E}=t,b=void 0!==E&&E,[_]=(0,a("fZAJP").useKeyboardShortcutsEnabled)(),y=(0,a("8C5kA").default)();if(m[0]!==_||m[1]!==g||m[2]!==y.formatMessage||m[3]!==h||m[4]!==b||m[5]!==f){let t=u(f,y.formatMessage),s=_||h;r=a("gdv5Z").default,n="span",o=l.flexCenter,c=g,d=s&&t.map((t,r)=>e(i).createElement(a("gdv5Z").default,{as:"span",key:`${t}-${r}`,xcss:(0,a("1Whri").cx)(l.base,!!g&&l.contentBefore,b?l.darkBackground:l.lightBackground)},t)),m[0]=_,m[1]=g,m[2]=y.formatMessage,m[3]=h,m[4]=b,m[5]=f,m[6]=r,m[7]=n,m[8]=o,m[9]=c,m[10]=d}else r=m[6],n=m[7],o=m[8],c=m[9],d=m[10];return m[11]!==r||m[12]!==n||m[13]!==o||m[14]!==c||m[15]!==d?(p=e(i).createElement(r,{as:n,xcss:o},c,d),m[11]=r,m[12]=n,m[13]=o,m[14]=c,m[15]=d,m[16]=p):p=m[16],p}:({shortcut:t,contentBefore:r,isEditorShortcut:n,isTooltip:s=!1})=>{let[o]=(0,a("fZAJP").useKeyboardShortcutsEnabled)(),c=u(t,(0,a("8C5kA").default)().formatMessage);return e(i).createElement(a("gdv5Z").default,{as:"span",xcss:l.flexCenter},r,(o||n)&&c.map((t,n)=>e(i).createElement(a("gdv5Z").default,{as:"span",key:`${t}-${n}`,xcss:(0,a("1Whri").cx)(l.base,!!r&&l.contentBefore,s?l.darkBackground:l.lightBackground)},t)))},m=(0,n.isReactCompilerActiveV1)()?e=>{let t,r=(0,s.c)(3),{shortcut:n,isEditorShortcut:i}=e,o=(0,a("8C5kA").default)(),[l]=(0,a("fZAJP").useKeyboardShortcutsEnabled)();if(!n)return;r[0]!==o.formatMessage||r[1]!==n?(t=u(n,o.formatMessage),r[0]=o.formatMessage,r[1]=n,r[2]=t):t=r[2];let c=t;if(l||void 0!==i&&i)return c}:({shortcut:e,isEditorShortcut:t=!1})=>{let r=(0,a("8C5kA").default)(),[n]=(0,a("fZAJP").useKeyboardShortcutsEnabled)();if(!e)return;let s=u(e,r.formatMessage);if(n||t)return s};t.exports.isMac=o,t.exports.getShortcutString=(e,t)=>u(e,t).join(" "),t.exports.ShortcutVisualizer=p,t.exports.useShortcutStrings=m}),r("fZAJP",function(e,t){var r=a("3u0dr"),n=a("frIzR"),s=a("42omo");let i=null,o=new Set,l=(0,r.isReactCompilerActiveV1)()?()=>{let e,t,r,l=(0,n.c)(6),{isLoggedIn:d,isLicensed:u}=(0,a("bQm3c").useSessionData)(),[p,m]=(0,s.useState)(window.__SHORTCUT_ENABLED__??!1);l[0]!==u||l[1]!==d?(e=()=>("boolean"!=typeof window.__SHORTCUT_ENABLED__&&(i||(i=d&&u?(0,a("3y1ko").fetchShortcutEnabledState)():Promise.resolve(!1)),i.then(m)),o.add(m),()=>{o.delete(m)}),t=[d,u],l[0]=u,l[1]=d,l[2]=e,l[3]=t):(e=l[2],t=l[3]),(0,s.useEffect)(e,t);let f=!!p;return l[4]!==f?(r=[f,c],l[4]=f,l[5]=r):r=l[5],r}:()=>{let{isLoggedIn:e,isLicensed:t}=(0,a("bQm3c").useSessionData)(),[r,n]=(0,s.useState)(window.__SHORTCUT_ENABLED__??!1);return(0,s.useEffect)(()=>("boolean"!=typeof window.__SHORTCUT_ENABLED__&&(i||(i=e&&t?(0,a("3y1ko").fetchShortcutEnabledState)():Promise.resolve(!1)),i.then(n)),o.add(n),()=>{o.delete(n)}),[e,t]),[!!r,(0,s.useCallback)(async e=>{try{let t=await (0,a("f7B1p").cfetch)("/wiki/rest/confluenceshortcuts/latest/enabled",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:e})});if(t.ok){let e=await t.text()==="true";window.__SHORTCUT_ENABLED__=e,o.forEach(t=>t(e))}}catch(e){(0,a("5ZqQS").getMonitoringClient)().submitError(Error(`Error updating keyboard shortcuts enabled state: ${e.message}`),{attribution:a("3IBnw").Attribution.BACKBONE})}},[])]};async function c(e){try{let t=await (0,a("f7B1p").cfetch)("/wiki/rest/confluenceshortcuts/latest/enabled",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:e})});if(t.ok){let e=await t.text()==="true";window.__SHORTCUT_ENABLED__=e,o.forEach(t=>t(e))}}catch(e){(0,a("5ZqQS").getMonitoringClient)().submitError(Error(`Error updating keyboard shortcuts enabled state: ${e.message}`),{attribution:a("3IBnw").Attribution.BACKBONE})}}e.exports.useKeyboardShortcutsEnabled=l}),r("3y1ko",function(e,t){async function r(){let e=!1;try{let t=await (async()=>{let e=(0,a("4JHZe").beforePreloaderAsyncCall)(),t=await (0,a("f7B1p").cfetch)("/wiki/rest/confluenceshortcuts/latest/enabled");return(0,a("4JHZe").afterPreloaderAsyncCall)(e),t})();t.ok&&(e=await (async()=>{let e=(0,a("4JHZe").beforePreloaderAsyncCall)(),r=await t.text();return(0,a("4JHZe").afterPreloaderAsyncCall)(e),r})()==="true")}catch(e){(0,a("5ZqQS").getMonitoringClient)().submitError(Error(`Error fetching keyboard shortcuts enabled state: ${e.message}`),{attribution:a("3IBnw").Attribution.BACKBONE})}return window.__SHORTCUT_ENABLED__=e}async function n(){let{isLoggedIn:e,isLicensed:t}=(0,a("xwvlW").getPreloaderFnContext)();return!!e&&!!t&&await (async()=>{let e=(0,a("4JHZe").beforePreloaderAsyncCall)(),t=await r();return(0,a("4JHZe").afterPreloaderAsyncCall)(e),t})()}e.exports.fetchShortcutEnabledState=r,e.exports.preloadShortcutEnabledState=n}),r("9EtP6",function(e,t){var r=a("l998X"),n=a("42omo");let s={componentName:"textArea",packageName:"platform-pkg",packageVersion:"0.0.0-use.local"},i={standard:"_1dqonqa1 _kp82rsbi _1ltx1j9a _1bqsbk0g _z1pvby5v _19wtrsbi _12yml4ek _1l02v77o _11zpv77o _141f1v6z _daj71v6z _olc612x7 _14ji12x7 _7ba01v6z _1kod1v6z _858u1v1w _jomrr01l _7ehivyy1 _186j1v1w _qu18by5v",subtle:"_1dqonqa1 _kp821j28 _1ltx1j28 _19wtrsbi _12yml4ek _1l02v77o _11zpv77o _141f1v6z _daj71v6z _olc612x7 _14ji12x7 _1kod1v6z _7ba01v6z _858u1v1w _jomrr01l _7ehivyy1",none:"_1dqoglyw _kp821j28 _1ltx1j28 _19wt1j28 _12ym1j28 _1l02v77o _daj712x7 _11zpv77o _141f12x7 _olc612x7 _1kod12x7 _14ji12x7 _7ba012x7 _858u1j28 _jomr1j28 _7ehi3sij"},o={default:"_11c81ixg _1tn22smr",monospace:"_11c81ixg _ect41odn _1tn22smr _14mdudxr"},l={horizontal:"_14zg1e08",vertical:"_14zg1e54",auto:"_14zg1hrf",smart:"_14zgglyw",none:"_14zgglyw"},c=e=>{e.style.height="auto";let t=e.scrollHeight;e.style.height=`${t+4}px`},d=(0,n.forwardRef)((e,t)=>{let d=(0,n.useRef)(null),{resize:u="smart",appearance:p="standard",isCompact:m=!1,isRequired:f=!1,isReadOnly:g=!1,isDisabled:h=!1,isInvalid:E=!1,isMonospaced:b=!1,minimumRows:_=2,testId:y,maxHeight:v="50vh",onBlur:S,onFocus:A,onChange:C,value:I,style:T,...x}=e,k=(0,n.useMemo)(()=>"none"===p?2:1,[p]);(0,n.useEffect)(()=>{let e=d.current;"smart"===u&&e&&c(e)},[u,I]);let R=(0,a("gxtzC").usePlatformLeafEventHandler)({fn:e=>{S&&S(e)},action:"blurred",...s}),O=(0,a("gxtzC").usePlatformLeafEventHandler)({fn:e=>{A&&A(e)},action:"focused",...s}),w=(0,n.useCallback)(e=>{let t=d.current;"smart"===u&&t&&c(t),C&&C(e)},[C,u]);return(0,r.jsx)("textarea",{...{"data-invalid":E||void 0,"data-compact":m||void 0,"data-testid":y||void 0},value:I,disabled:h,readOnly:g,required:f,ref:e=>{d.current=e,t&&"object"==typeof t&&(t.current=e),t&&"function"==typeof t&&t(e)},onChange:w,onBlur:R,onFocus:O,rows:_,...x,className:(0,a("gMc0m").default)(["_19pkidpf _2hwxidpf _otyridpf _18u0idpf _16jlkb7n _1o9zkb7n _i0dl1osq _2rkofajl _11c82smr _12ji1r31 _1qu2glyw _12y31o36 _1reo1wug _18m91wug _v564r5cv _189ee4h9 _1e0c1ule _vchhusvi _1bsb1osq _1ul9idpf _p12f1osq _kqswh2mm _syazi7uo _slp31hna _153g1bqt _usy41j9a _1a2sizbr _vbqb1gmx _j5dh13gf _cfjqkb7n _k3o7n7od _1goxglyw _13xeglyw _1fra1bqt _ibjdl4ek _6zpvizbr _19k0by5v _1idr1rpy _1lep1gmx _nmhq1fiz _1n388sxn _1luh1v1w _ndzbr01l _1vj0vyy1",(0,a("dh538").fg)("platform-dst-shape-theme-default")&&"_2rko1qi0",i[p],o[b?"monospace":"default"],l[u],"_uzq71i7i _16lwuel1"]),style:{...T,maxHeight:v,"--_6ny3x7":(0,a("7sObp").default)(16*_+4+2*k,"px"),"--_eorxnz":(0,a("7sObp").default)(20*_+12+2*k,"px")}})}),u=(0,n.memo)((0,n.forwardRef)(function(e,t){return(0,r.jsx)(d,{ref:t,...e})}));u.displayName="TextArea",e.exports.default=u}),r("5izcQ",function(e,t){var r=a("l998X");a("42omo");let n=({children:e,name:t})=>(0,r.jsx)(a("6cnUO").TargetConsumer,{children:n=>"function"==typeof e?e({targetRef:n?.(t)}):n?(0,r.jsx)(a("QiYCb").default,{name:t,hasNodeResolver:!(0,a("dh538").fg)("platform_design_system_team_onboarding_noderesolve"),getTargetRef:n,children:(0,r.jsx)(r.Fragment,{children:e})}):e});n.displayName="SpotlightTarget",e.exports.default=n}),r("QiYCb",function(t,r){var n=a("l998X"),s=a("42omo"),i=a("e8Hkv");let o=({hasNodeResolver:t,children:r,getTargetRef:o,name:l})=>{let c=(0,s.useRef)(null);return((0,s.useEffect)(()=>{let e=o(l);return t||e(c.current?.firstElementChild),()=>{t||e(void 0)}},[t,l,o]),t)?(0,n.jsx)(e(i),{innerRef:o(l),children:r}):(0,n.jsx)("span",{ref:c,className:(0,a("gMc0m").default)(["_1e0c1bgi"]),children:r})};o.displayName="NodeResolverSpotlightTarget",t.exports.default=o}),r("6O3OC",function(e,t){let r=e=>e.type===a("RMvle").ExternalUserType||!!e.isExternal,n=e=>void 0===e.type||e.type===a("RMvle").UserType,s=e=>e.type===a("RMvle").TeamType,i=e=>e.type===a("RMvle").CustomType,o=e=>void 0!==e.name,l=e=>o(e)?{data:e,isDisabled:e.isDisabled,label:e.name,value:e.id}:{data:{...e,name:e.id},isDisabled:e.isDisabled,label:e.id,value:e.id},c=(0,a("2XqLN").default)(e=>e.map(l)),d=(0,a("2XqLN").default)(e=>e?Array.isArray(e)?e.map(l):l(e):null);e.exports.isExternalUser=r,e.exports.isUser=n,e.exports.isTeam=s,e.exports.isGroup=e=>e.type===a("RMvle").GroupType,e.exports.isEmail=e=>e.type===a("RMvle").EmailType,e.exports.isCustom=i,e.exports.isDefaultValuePopulated=e=>e&&!Array.isArray(e)||Array.isArray(e)&&e.length>0,e.exports.extractOptionValue=e=>{if(e)return Array.isArray(e)?e.map(({data:e})=>e):e.data},e.exports.isIterable=e=>"function"==typeof e?.[Symbol.iterator],e.exports.getOptions=c,e.exports.optionToSelectableOptions=d,e.exports.getAvatarSize=e=>"big"===e?"medium":"multi"===e?"xsmall":"small",e.exports.isChildInput=e=>e&&"object"==typeof e&&e.props&&"text"===e.props.type,e.exports.isSingleValue=e=>!!e&&!Array.isArray(e),e.exports.hasValue=e=>!!e&&e.trim().length>0,e.exports.callCallback=(e,...t)=>{if("function"==typeof e)try{return e(...t)}catch(e){console.error("@atlassian/user-select: an error happening in `callCallback`: ",e)}},e.exports.getAvatarUrl=e=>{if(n(e)||s(e)||i(e)||r(e))return e.avatarUrl},e.exports.isPopupUserPickerByComponent=e=>e===a("cuAuQ").default,e.exports.isLozengeText=e=>e?.hasOwnProperty("text")||!1}),r("RMvle",function(e,t){e.exports.UserType="user",e.exports.ExternalUserType="external_user",e.exports.TeamType="team",e.exports.GroupType="group",e.exports.EmailType="email",e.exports.CustomType="custom"}),r("1LFpx",function(e,t){e.exports.slackServiceFactory=function(e,t,r){switch(t){case"platform":return new(0,a("fKUsn").default)(e,r);case"confluence":return new(0,a("l5NM4").default)(e,r);default:return new(0,a("jlluG").default)(e,r)}}}),r("l5NM4",function(e,t){class r extends a("3RfNn").default{async primeConsentUrl(){if(this.consentUrl)return;let e="undefined"==typeof window?void 0:window.location;if(e){let t=await (0,a("3LGCH").default)(e,this.confluenceAnalytics,this.abortController?.signal);if(t.ok)this.consentUrl=t.result;else throw Error("Failed priming consent URL")}}constructor(e,t){super(e,"confluence",(0,a("9Xcuc").getSlackServiceAnalytics)(t)),this.confluenceAnalytics=void 0,this.confluenceAnalytics=(0,a("9Xcuc").getConfluenceSlackServiceAnalytics)(t)}}e.exports.default=r}),r("3RfNn",function(t,r){var n=a("gUoHD"),s=a("dQl1W");let i={maxAttempts:3,backoffTimeMs:200,rateLimitBackoffTimeMs:1e3};t.exports.default=class{abort(){this.abortController&&(this.abortController.abort(),this.abortController="undefined"!=typeof AbortController?new AbortController:null)}async getConsent(e){await this.primeConsentUrl(),this.onSuccess=e,window.addEventListener("message",this.onMessage);let t=window.open(this.consentUrl,this.windowName,(0,a("bIHWh").default)(500,900));t&&(this.popupWindow=t)}async isSlackEnabled(){let e=await (0,a("bGwCT").retryFetch)({request:()=>fetch(`${this.baseUrl}/enabled?cloudId=${this.cloudId}`,{signal:this.abortController?.signal}),mapResult:e=>e.json().then(({enabled:e})=>e),mapError:e=>e.json().then(e=>{let{code:t,message:a}=e;return{code:t??"",message:a??""}})});return e.ok?this.analytics.onGetEnabledSucceeded():e.aborted||(0,a("5UC4z").isAcceptableFailure)(e.status)||this.analytics.onGetEnabledFailed({status:e.status,errorMessage:e.message}),e}async getTeams(){let t=await (0,a("bGwCT").fetchItemsWithCursor)({url:`${this.baseUrl}/teams`,queryParams:{cloudId:this.cloudId},signal:this.abortController?.signal,getItems:e=>e.teams,getCursor:e=>e.nextCursor,canRetryCheck:(0,a("bGwCT").httpRetryPolicy)(i)});return t.ok?(this.analytics.onFetchTeamsSucceeded({teams:t.items.length,pages:t.pages}),{ok:!0,result:e(n)(t.items,[({name:e})=>e.toLowerCase()])}):(t.aborted||this.analytics.onFetchTeamsFailed({page:t.page,status:t.status,errorMessage:t.message}),t)}streamUsers(e,t,r){r||(this.userStream={count:0,pages:0,finishedLoading:!1}),(0,a("bGwCT").retryFetch)({request:()=>fetch(`${this.baseUrl}/recipients${(0,a("bGwCT").buildQueryString)({cloudId:this.cloudId,teamId:e,cursor:r,limit:1e3})}`,{signal:this.abortController?.signal}),canRetryCheck:(0,a("bGwCT").httpRetryPolicy)(i)}).then(a=>{if(!a.ok){a.aborted||this.analytics.onFetchUsersFailed({teamId:e,page:this.userStream.pages,status:a.status,errorMessage:a.message}),t(a);return}this.userStream.pages++,this.userStream.count+=a.result.recipients.length,this.userStream.finishedLoading=!!a.result.nextCursor,t({ok:!0,result:a.result.recipients,nextCursor:a.result.nextCursor}),a.result.nextCursor?this.streamUsers(e,t,a.result.nextCursor):this.analytics.onFetchUsersSucceeded({teamId:e,users:this.userStream.count,pages:this.userStream.pages})})}streamChannels(e,t,r){r||(this.channelStream={count:0,pages:0,finishedLoading:!1}),(0,a("bGwCT").retryFetch)({request:()=>fetch(`${this.baseUrl}/channels${(0,a("bGwCT").buildQueryString)({cloudId:this.cloudId,teamId:e,cursor:r})}`,{signal:this.abortController?.signal}),canRetryCheck:(0,a("bGwCT").httpRetryPolicy)(i)}).then(a=>{if(!a.ok){a.aborted||this.analytics.onFetchChannelsFailed({teamId:e,page:this.channelStream.pages,status:a.status,errorMessage:a.message}),t(a);return}this.channelStream.pages++,this.channelStream.count+=a.result.channels.length,this.channelStream.finishedLoading=!!a.result.nextCursor,t({ok:!0,result:a.result.channels,nextCursor:a.result.nextCursor}),a.result.nextCursor?this.streamChannels(e,t,a.result.nextCursor):this.analytics.onFetchChannelsSucceeded({teamId:e,channels:this.channelStream.count,pages:this.channelStream.pages})})}async fetchSlackUsers(t){let r=await (0,a("bGwCT").fetchItemsWithCursor)({url:`${this.baseUrl}/recipients`,queryParams:{cloudId:this.cloudId,teamId:t},signal:this.abortController?.signal,getItems:e=>e.recipients,getCursor:e=>e.nextCursor,canRetryCheck:(0,a("bGwCT").httpRetryPolicy)(i)});if(r.ok){let a=e(n)(r.items,[({name:e})=>e.toLowerCase()]);return this.analytics.onFetchUsersSucceeded({teamId:t,users:r.items.length,pages:r.pages}),{ok:!0,result:a}}return r.aborted||this.analytics.onFetchUsersFailed({teamId:t,page:r.page,status:r.status,errorMessage:r.message}),r}async share({teamId:e,conversationId:t,conversationType:r,link:n,message:s}){(0,a("6BEN7").startUfoExperience)(a("6BEN7").UfoExperiences.SLACK_REQUEST_SENT);let i=new(0,a("6Co6F").default)({product:this.product}),o=await (0,a("bGwCT").retryFetch)({request:()=>fetch(`${this.baseUrl}/share`,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({cloudId:this.cloudId,teamId:e,conversation:{id:t,type:r},link:i.addToUrl(n),message:s}),signal:this.abortController?.signal}),mapResult:()=>Promise.resolve(),mapError:e=>e.json().then(e=>{let{code:t,message:a}=e;return{code:t??"",message:a??""}}),signal:this.abortController?.signal});if(o.ok){let n={product:this.product,teamId:e,conversationType:r,conversationId:t,messageLength:s.length||0,userCount:this.userStream.count};this.analytics.onShareSucceeded(n),(0,a("6BEN7").succeedUfoExperience)(a("6BEN7").UfoExperiences.SLACK_REQUEST_SENT,n)}else if(!o.aborted&&!(0,a("5UC4z").isAcceptableFailure)(o.status)){let n={product:this.product,teamId:e,conversationType:r,conversationId:t,status:o.status,errorMessage:o.message};this.analytics.onShareFailed(n),(0,a("6BEN7").failUfoExperience)(a("6BEN7").UfoExperiences.SLACK_REQUEST_SENT,n)}return o.ok?{ok:!0,result:i}:o}constructor(e,t,r){this.cloudId=e,this.product=t,this.analytics=r,this.baseUrl=void 0,this.windowName=(0,s.v4)(),this.abortController="undefined"!=typeof AbortController?new AbortController:null,this.popupWindow=void 0,this.consentUrl=void 0,this.onSuccess=void 0,this.userStream={count:0,pages:0,finishedLoading:!1},this.channelStream={count:0,pages:0,finishedLoading:!1},this.onMessage=({data:e,target:t,source:a})=>{a&&t===window&&"success"===e&&(window.removeEventListener("message",this.onMessage),this.popupWindow&&(a.close(),this.popupWindow=void 0,this.onSuccess?.()))},this.baseUrl=`${a("lFI1p").DEFAULT_SLACK_SERVICE_URL}/${t}`}}}),r("gUoHD",function(e,t){var r=a("8jC8i"),n=a("iKDsH"),s=a("9JSQw"),i=a("4U5Tv");e.exports=s(function(e,t){if(null==e)return[];var a=t.length;return a>1&&i(e,t[0],t[1])?t=[]:a>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),n(e,r(t,1),[])})}),r("8jC8i",function(e,t){var r=a("hwwIB"),n=a("ifqdW");e.exports=function e(t,a,s,i,o){var l=-1,c=t.length;for(s||(s=n),o||(o=[]);++l<c;){var d=t[l];a>0&&s(d)?a>1?e(d,a-1,s,i,o):r(o,d):i||(o[o.length]=d)}return o}}),r("ifqdW",function(e,t){var r=a("agzqu"),n=a("dI6Ko"),s=a("fZxmY"),i=r?r.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||n(e)||!!(i&&e&&e[i])}}),r("iKDsH",function(e,t){var r=a("5ukOg"),n=a("aT80v"),s=a("hWvFC"),i=a("lKeRq"),o=a("gOQdS"),l=a("dFnBO"),c=a("jFdtX"),d=a("eN7zR"),u=a("fZxmY");e.exports=function(e,t,a){t=t.length?r(t,function(e){return u(e)?function(t){return n(t,1===e.length?e[0]:e)}:e}):[d];var p=-1;return t=r(t,l(s)),o(i(e,function(e,a,n){return{criteria:r(t,function(t){return t(e)}),index:++p,value:e}}),function(e,t){return c(e,t,a)})}}),r("lKeRq",function(e,t){var r=a("iawSg"),n=a("bRRFB");e.exports=function(e,t){var a=-1,s=n(e)?Array(e.length):[];return r(e,function(e,r,n){s[++a]=t(e,r,n)}),s}}),r("iawSg",function(e,t){var r=a("fh4WQ");e.exports=a("fKRi0")(r)}),r("fh4WQ",function(e,t){var r=a("9d5GH"),n=a("d6TaN");e.exports=function(e,t){return e&&r(e,t,n)}}),r("fKRi0",function(e,t){var r=a("bRRFB");e.exports=function(e,t){return function(a,n){if(null==a)return a;if(!r(a))return e(a,n);for(var s=a.length,i=t?s:-1,o=Object(a);(t?i--:++i<s)&&!1!==n(o[i],i,o););return a}}}),r("gOQdS",function(e,t){e.exports=function(e,t){var a=e.length;for(e.sort(t);a--;)e[a]=e[a].value;return e}}),r("jFdtX",function(e,t){var r=a("ibuun");e.exports=function(e,t,a){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=a.length;++n<o;){var c=r(s[n],i[n]);if(c){if(n>=l)return c;return c*("desc"==a[n]?-1:1)}}return e.index-t.index}}),r("ibuun",function(e,t){var r=a("hDVEF");e.exports=function(e,t){if(e!==t){var a=void 0!==e,n=null===e,s=e==e,i=r(e),o=void 0!==t,l=null===t,c=t==t,d=r(t);if(!l&&!d&&!i&&e>t||i&&o&&c&&!l&&!d||n&&o&&c||!a&&c||!s)return 1;if(!n&&!i&&!d&&e<t||d&&a&&s&&!n&&!i||l&&a&&s||!o&&s||!c)return -1}return 0}}),r("lFI1p",function(e,t){e.exports.DEFAULT_SLACK_SERVICE_URL="/gateway/api/slack",e.exports.SOURCE="invite-people",e.exports.CLIENT_ERROR_STATUS=0,e.exports.CLIENT_ERROR_CODE="NETWORK_ERROR",e.exports.CLIENT_ERROR_MESSAGE="Network error",e.exports.ANALYTICS_CHANNEL="peopleTeams",e.exports.WINDOW_WIDTH=480,e.exports.WINDOW_HEIGHT=924,e.exports.DEFAULT_STARGATE_SERVICE_URL="/gateway/api",e.exports.EXUS_THIRDPARTY_PATH="/external-users/third-party",e.exports.EXUS_ORGS_PATH="/external-users/orgs",e.exports.INTEGRATIONS_PATH="integrations",e.exports.SEARCH_ACTION="Third Party Search",e.exports.ORG_SETTINGS_ACTION="Organisation Settings",e.exports.ITPT_PATH="/growth/invite-3rd-party-teams",e.exports.ITPT_SLACK_CHANNELS="/slack-channels",e.exports.INTEGRATIONS_FETCH_RETRIES_COUNT=3}),r("bIHWh",function(e,a){t(e.exports,"default",()=>r);function r(e,t){let a=Math.min(e,window.screen.availWidth),r=Math.min(t,window.screen.availHeight);return Object.entries({toolbar:0,menubar:0,location:0,status:0,scrollbars:1,resizable:0,chrome:"yes",width:a,height:r,left:Math.round((window.innerWidth-a)/2+window.screenX),top:Math.round((window.innerHeight-r)/3+window.screenY)}).map(([e,t])=>`${e}=${t}`).join(",")}}),r("5UC4z",function(e,t){e.exports.isAcceptableFailure=e=>!e||400===e||401===e||403===e}),r("6BEN7",function(e,t){var r,n,s=((r={}).SLACK_SEGMENT_RENDERED="slack-segment-rendered",r.SLACK_REQUEST_SENT="slack-request-sent",r.SLACK_FORM_ENABLED="share-form-enabled",r.PLATFORM_SLACK_USERS_PAGE_FETCHED="platform-slack-users-page-fetched",r),i=((n=i||{}).ShareToSlack="share-to-slack",n.CoreInvites="core-invites",n);let o={"slack-request-sent":new(0,a("5aVN7").UFOExperience)("slack-request-sent",{type:a("9NDUe").ExperienceTypes.Experience,performanceType:a("9NDUe").ExperiencePerformanceTypes.Custom,platform:{component:"share-to-slack"}}),"slack-segment-rendered":new(0,a("5aVN7").UFOExperience)("slack-segment-rendered",{type:a("9NDUe").ExperienceTypes.Load,performanceType:a("9NDUe").ExperiencePerformanceTypes.PageSegmentLoad,platform:{component:"share-to-slack"}}),"share-form-enabled":new(0,a("5aVN7").UFOExperience)("share-form-enabled",{type:a("9NDUe").ExperienceTypes.Load,performanceType:a("9NDUe").ExperiencePerformanceTypes.Custom,platform:{component:"share-to-slack"}}),"platform-slack-users-page-fetched":new(0,a("5aVN7").UFOExperience)("platform-slack-users-page-fetched",{type:a("9NDUe").ExperienceTypes.Load,performanceType:a("9NDUe").ExperiencePerformanceTypes.Custom,platform:{component:"core-invites"}})};e.exports.UfoExperiences=s,e.exports.ufoExperiences=o,e.exports.startUfoExperience=(e,t)=>{let a=o[e];a.start(),t&&a.addMetadata(t)},e.exports.succeedUfoExperience=(e,t)=>{o[e].success({metadata:t})},e.exports.failUfoExperience=(e,t)=>{o[e].failure({metadata:t})},e.exports.abortUfoExperience=(e,t)=>{o[e].abort({metadata:t})}}),r("bGwCT",function(t,r){var n=a("gUoHD");function s(e){return Promise.resolve({code:e.status.toString(),message:e.statusText})}function i(e){return e.json()}async function o({url:e,queryParams:t={},signal:a,getItems:r,getCursor:n,canRetryCheck:i,mapError:o=s}){let l,c=[],u=0;do{if(a?.aborted)return{ok:!1,aborted:!0};let s=l?.ok?n(l.result):void 0,p=[e,Object.entries((s?{...t,cursor:s}:t)??{}).map(([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`).join("&")].filter(Boolean).join("?");if(!(l=await d({request:()=>fetch(p,{signal:a}),mapError:o,signal:a,canRetryCheck:i})).ok)return l.aborted?l:{...l,page:u};c.push.apply(c,r(l.result)),++u}while(l?.ok&&n(l.result))return{ok:!0,items:c,pages:u}}async function l({request:e,canRetryCheck:t,attempt:r=0,signal:n}){let s=await e(n);if(s.ok||s.aborted||n?.aborted);else{let[i,o]=t(s.status,++r,n);if(i)return o&&await (0,a("RmCMu").wait)(o),l({request:e,canRetryCheck:t,attempt:r,signal:n})}return s}function c({maxAttempts:e=3,backoffTimeMs:t=200,rateLimitBackoffTimeMs:a=1e3}={}){return(r,n)=>{if(n>=e)return[!1,0];switch(r){case 401:case 403:case 404:return[!1,0];case 429:return[!0,a];default:return[!0,t]}}}function d({request:e,mapResult:t=i,mapError:r=s,canRetryCheck:n=c(),signal:o}){return l({request:async()=>{let n;try{if((n=await e()).ok)return{ok:!0,result:await t(n)};let{code:a,message:s}=await r(n);return{ok:!1,aborted:!1,status:n.status,code:a,message:s}}catch(e){if(e instanceof Error){if("AbortError"===e.name)return{ok:!1,aborted:!0};return{ok:!1,aborted:!1,status:a("lFI1p").CLIENT_ERROR_STATUS,code:e.name,message:e.message}}return{ok:!1,aborted:!1,status:a("lFI1p").CLIENT_ERROR_STATUS,code:a("lFI1p").CLIENT_ERROR_CODE,message:a("lFI1p").CLIENT_ERROR_MESSAGE}}},canRetryCheck:n,signal:o})}class u extends Error{constructor(e,t,a){super(e),this.statusCode=void 0,this.errorType=void 0,this.name="FetchError",this.statusCode=t,this.errorType=a}}let p=e=>null==e;t.exports.fetchItemsWithCursor=o,t.exports.retryFetch=d,t.exports.httpRetryPolicy=c,t.exports.FetchError=u,t.exports.fetchJson=(e,t,a)=>fetch(e,{credentials:"include",...a}).then(e=>{if(e.ok)return e.json();throw new u(`Unable to fetch ${t} ${e.statusText}`,e.status)}),t.exports.buildQueryString=function(e){let t=Object.keys(e).filter(t=>!p(e[t])).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&");return t?"?"+t:t},t.exports.sortByName=function(t){return e(n)(t,({name:e})=>e.toLowerCase())}}),r("RmCMu",function(e,t){async function a(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}e.exports.wait=a}),r("9Xcuc",function(e,t){var r,n,s=a("7TH2w");let i=(0,a("eWRwJ").default)(a("lFI1p").ANALYTICS_CHANNEL);var o=((r=o||{}).INTEGRATION_SUCCEEDED="integrationEnabled",r.INTEGRATION_TEAMS="integrationTeams",r.INTEGRATION_CONVERSATIONS="integrationConversations",r.INTEGRATION_METADATA="integrationMetadata",r.INTEGRATION_TOKEN="integrationCsrfToken",r.SHARE="share",r),l=((n=l||{}).FAILED="failed",n.SUCCEEDED="succeeded",n);let c=e=>{i({eventType:s.OPERATIONAL_EVENT_TYPE,actionSubject:"integrationEnabled",action:"succeeded"})(e)},d=(e,{status:t,errorMessage:a})=>{i({eventType:s.OPERATIONAL_EVENT_TYPE,actionSubject:"integrationEnabled",action:"failed",attributes:{status:t,errorMessage:a}})(e)},u=(e,{teams:t,pages:a})=>{i({eventType:s.OPERATIONAL_EVENT_TYPE,actionSubject:"integrationTeams",action:"succeeded",attributes:{teams:t,pages:a}})(e)},p=(e,{page:t,status:a,errorMessage:r})=>{i({eventType:s.OPERATIONAL_EVENT_TYPE,actionSubject:"integrationTeams",action:"failed",attributes:{page:t,status:a,errorMessage:r}})(e)},m=(e,{slackTeamId:t,conversationTypes:a,conversations:r,pages:n})=>{i({eventType:s.OPERATIONAL_EVENT_TYPE,actionSubject:"integrationConversations",action:"succeeded",attributes:{integrationTeamId:t,conversationTypes:a,conversations:r,pages:n}})(e)},f=(e,{slackTeamId:t,conversationTypes:a,page:r,status:n,errorMessage:o})=>{i({eventType:s.OPERATIONAL_EVENT_TYPE,actionSubject:"integrationConversations",action:"failed",attributes:{integrationTeamId:t,conversationTypes:a,page:r,status:n,errorMessage:o}})(e)},g=e=>{i({eventType:s.OPERATIONAL_EVENT_TYPE,actionSubject:"integrationMetadata",action:"succeeded"})(e)},h=(e,t)=>{i({eventType:s.OPERATIONAL_EVENT_TYPE,actionSubject:"integrationMetadata",action:"failed",attributes:{...t}})(e)},E=e=>{i({eventType:s.OPERATIONAL_EVENT_TYPE,actionSubject:"integrationMetadata",action:"succeeded"})(e)},b=e=>{i({eventType:s.OPERATIONAL_EVENT_TYPE,actionSubject:"integrationCsrfToken",action:"failed"})(e)},_={jira:"issue",confluence:"page",platform:"issue"},y=({product:e,slackTeamId:t,conversationType:a,conversationId:r,messageLength:n,userCount:o},l)=>{i({eventType:s.OPERATIONAL_EVENT_TYPE,actionSubject:"share",action:"succeeded",actionSubjectId:_[e],attributes:{integrationTeamId:t,integrationConversationType:a,integrationConversationId:r,messageLength:n,workspaceSize:o},source:"integrationShareDialog"})(l)},v=({product:e,slackTeamId:t,conversationType:a,conversationId:r,status:n,errorMessage:o},l)=>{i({eventType:s.OPERATIONAL_EVENT_TYPE,actionSubject:"share",action:"failed",actionSubjectId:_[e],attributes:{integrationTeamId:t,integrationConversationType:a,integrationConversationId:r,status:n,errorMessage:o},source:"integrationShareDialog"})(l)},S=({slackTeamId:e,conversationTypes:t,conversations:a,pages:r,actionSubjectId:n},o)=>{i({eventType:s.OPERATIONAL_EVENT_TYPE,actionSubject:"integrationConversations",action:"succeeded",actionSubjectId:n,attributes:{integrationTeamId:e,conversationTypes:t,conversations:a,pages:r},source:"integrationShareDialog"})(o)},A=({slackTeamId:e,conversationTypes:t,page:a,status:r,errorMessage:n,actionSubjectId:o},l)=>{i({eventType:s.OPERATIONAL_EVENT_TYPE,actionSubject:"integrationConversations",action:"failed",actionSubjectId:o,attributes:{integrationTeamId:e,conversationTypes:t,page:a,status:r,errorMessage:n},source:"integrationShareDialog"})(l)};e.exports.getSlackServiceAnalytics=e=>({onGetEnabledSucceeded:()=>c(e),onGetEnabledFailed:t=>d(e,t),onFetchTeamsSucceeded:t=>u(e,t),onFetchTeamsFailed:t=>p(e,t),onFetchUsersSucceeded:({teamId:t,users:a,pages:r})=>m(e,{slackTeamId:t||"",conversationTypes:["directMessage"],conversations:a||0,pages:r}),onFetchUsersFailed:({teamId:t,page:a,status:r,errorMessage:n})=>f(e,{slackTeamId:t,conversationTypes:["directMessage"],page:a,status:r,errorMessage:n}),onShareSucceeded:({product:t,teamId:a,conversationType:r,conversationId:n,messageLength:s,userCount:i})=>{y({product:t,slackTeamId:a,conversationType:r,conversationId:n,messageLength:s,userCount:i},e)},onShareFailed:({product:t,teamId:a,conversationType:r,conversationId:n,status:s,errorMessage:i})=>{v({product:t,slackTeamId:a,conversationType:r,conversationId:n,status:s,errorMessage:i},e)},onFetchChannelsSucceeded:({teamId:t,channels:a,pages:r})=>{S({slackTeamId:t,conversationTypes:["public","private"],conversations:a,pages:r,actionSubjectId:"channels"},e)},onFetchChannelsFailed:({teamId:t,page:a,status:r,errorMessage:n})=>{A({slackTeamId:t,conversationTypes:["public","private"],page:a,status:r,errorMessage:n,actionSubjectId:"channels"},e)}}),e.exports.getConfluenceSlackServiceAnalytics=e=>({onFetchConnectMetadataSucceeded:()=>g(e),onFetchConnectMetadataFailed:t=>h(e,t),onRefreshIntegrationCsrfTokenSucceeded:()=>E(e),onRefreshIntegrationCsrfTokenFailed:()=>b(e)})}),r("3LGCH",function(e,r){t(e.exports,"default",()=>i);let n={prod:`https://confluence-chats-integr.services.atlassian.com/api/slack/teams/login?source=${a("lFI1p").SOURCE}`,staging:`https://confluence-chats-integr.stg.services.atlassian.com/api/slack/teams/login?source=${a("lFI1p").SOURCE}`},s={prod:"confluence-chats-integration",staging:"confluence-chats-integration-stg-east"};async function i(e,t,r){let s=(0,a("7ws8R").default)(e.hostname),i=await o(e,r);if(!i.ok)return i.aborted||t.onFetchConnectMetadataFailed({status:i.status,errorMessage:i.message}),i;t.onFetchConnectMetadataSucceeded();let{contextJwt:l,url:c}=i.result;try{await (0,a("fD2m3").default)(c,2e3),t.onRefreshIntegrationCsrfTokenSucceeded()}catch(e){t.onRefreshIntegrationCsrfTokenFailed()}return{ok:!0,result:`${n[s]}&jwt=${encodeURIComponent(l)}`}}async function o(e,t){let r=function(e){let t=(0,a("7ws8R").default)(e.hostname);return`/wiki/plugins/servlet/ac/${s[t]}/dialog`}(e);try{let e=await fetch(r,{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},signal:t,body:Object.entries({"plugin-key":"confluence-chats-integration",key:"dialog",productContext:"{}",classifier:"json"}).map(e=>e.map(encodeURIComponent).join("=")).join("&")});if(e.ok)return{ok:!0,result:await e.json()};return{ok:!1,aborted:!1,status:e.status,code:`${e.status}`,message:await e.text()}}catch(e){if(e instanceof Error){if("AbortError"===e.name)return{ok:!1,aborted:!0};return{ok:!1,aborted:!1,status:a("lFI1p").CLIENT_ERROR_STATUS,code:a("lFI1p").CLIENT_ERROR_CODE,message:e.message||a("lFI1p").CLIENT_ERROR_MESSAGE}}return{ok:!1,aborted:!1,status:a("lFI1p").CLIENT_ERROR_STATUS,code:a("lFI1p").CLIENT_ERROR_CODE,message:a("lFI1p").CLIENT_ERROR_MESSAGE}}}}),r("7ws8R",function(e,a){t(e.exports,"default",()=>r);function r(e){return e.endsWith("jira-dev.com")||e.endsWith("localhost")?"staging":"prod"}}),r("fD2m3",function(e,a){t(e.exports,"default",()=>r);function r(e,t){let a=document.createElement("iframe");return a.src=e,a.width="0",a.height="0",a.style.position="absolute",a.style.visibility="hidden",a.style.borderWidth="0",document.body.appendChild(a),new Promise((e,r)=>{let n=!1,s=setTimeout(()=>{n=!0,document.body.removeChild(a),r()},t);a.onload=()=>{n||(clearTimeout(s),n=!0,document.body.removeChild(a),e())}})}}),r("jlluG",function(e,t){class r extends a("3RfNn").default{async primeConsentUrl(){this.consentUrl||(this.consentUrl=(0,a("6mcys").default)(location))}constructor(e,t){super(e,"jira",(0,a("9Xcuc").getSlackServiceAnalytics)(t))}}e.exports.default=r}),r("6mcys",function(e,r){t(e.exports,"default",()=>s);let n={prod:`https://atlassian-slack-integration.services.atlassian.com/api/slack/login?source=${a("lFI1p").SOURCE}`,staging:`https://atlassian-slack-integration.stg.services.atlassian.com/api/slack/login?source=${a("lFI1p").SOURCE}`};function s(e){return n[(0,a("7ws8R").default)(e.hostname)]}}),r("fKUsn",function(e,t){let r={maxAttempts:3,backoffTimeMs:200,rateLimitBackoffTimeMs:1e3};class n extends a("3RfNn").default{streamUsers(e,t,n){(0,a("6BEN7").startUfoExperience)(a("6BEN7").UfoExperiences.PLATFORM_SLACK_USERS_PAGE_FETCHED,{limit:500}),n||(this.userStream={count:0,pages:0,finishedLoading:!1});let s=new URLSearchParams({teamId:e,cloudId:this.cloudId,limit:"500",...n?{cursor:n}:{}});(0,a("bGwCT").retryFetch)({request:()=>fetch(`${a("lFI1p").DEFAULT_STARGATE_SERVICE_URL}${a("lFI1p").EXUS_THIRDPARTY_PATH}/slack/users?${s}`,{signal:this.abortController?.signal}),canRetryCheck:(0,a("bGwCT").httpRetryPolicy)(r)}).then(r=>{if(!r.ok){r.aborted?(0,a("6BEN7").abortUfoExperience)(a("6BEN7").UfoExperiences.PLATFORM_SLACK_USERS_PAGE_FETCHED):(this.analytics.onFetchUsersFailed({teamId:e,page:this.userStream.pages,status:r.status,errorMessage:r.message}),(0,a("6BEN7").failUfoExperience)(a("6BEN7").UfoExperiences.PLATFORM_SLACK_USERS_PAGE_FETCHED)),t(r);return}this.userStream.pages++,this.userStream.count+=r.result.users.length,this.userStream.finishedLoading=!!r.result.nextCursor,t({ok:!0,result:r.result.users.map(({id:e,email:t,displayName:a,realName:r,avatar:n})=>({id:e,name:r,displayName:a,avatarUrl:n,email:t,type:"directMessage"})),nextCursor:r.result.nextCursor}),(0,a("6BEN7").succeedUfoExperience)(a("6BEN7").UfoExperiences.PLATFORM_SLACK_USERS_PAGE_FETCHED,{numResults:r.result.users.length}),r.result.nextCursor?this.streamUsers(e,t,r.result.nextCursor):this.analytics.onFetchUsersSucceeded({teamId:e,users:this.userStream.count,pages:this.userStream.pages})})}streamChannelsExperiment(e,t,n,s){s||(this.channelStream={count:0,pages:0,finishedLoading:!1});let i=new URLSearchParams({workspaceId:e,...s?{cursor:s}:{}});(0,a("bGwCT").retryFetch)({request:()=>fetch(`${a("lFI1p").DEFAULT_STARGATE_SERVICE_URL}${a("lFI1p").ITPT_PATH}${a("lFI1p").ITPT_SLACK_CHANNELS}?${i}`,{signal:this.abortController?.signal}),canRetryCheck:(0,a("bGwCT").httpRetryPolicy)(r)}).then(a=>{if(!a.ok)return void t(a);this.channelStream.pages++,this.channelStream.count+=a.result.channels.length,this.channelStream.finishedLoading=!!a.result.nextCursor,t({ok:!0,result:a.result.channels,nextCursor:a.result.nextCursor}),a.result.nextCursor&&this.streamChannelsExperiment(e,t,n,a.result.nextCursor)}).catch(e=>{n(e)})}async primeConsentUrl(){}constructor(e,t){super(e,"platform",(0,a("9Xcuc").getSlackServiceAnalytics)(t))}}e.exports.default=n}),r("hpRYU",function(t,r){var n=a("42omo"),s=a("j1Ss3"),i=a("b3j2Y");let o=({children:t})=>e(n).createElement(a("6f0Oj").default,null,t);t.exports.UserAndGroupSearchPicker=({appearance:t,fieldId:r,isMulti:l,includeGroup:c,onSelect:d,onChange:u,onClear:p,onFocus:m,onBlur:f,onOpen:g,onClose:h,onInputChange:E,onKeyDown:b,filterSearchResults:_,smartFilterOptions:y,value:v,defaultValue:S,noOptionsMessage:A,addMoreMessage:C,menuPortalTarget:I,autoFocus:T,width:x,maxPickerHeight:k,smart:R,styles:O,placeholder:w,sitePermissionTypeFilter:L=a("g3p2i").SitePermissionTypeFilter.NONE,displayEmailInByline:P,allowEmail:D,suggestEmailsForDomain:M,enableEmailSearch:N,allowEmailSelectionWhenEmailMatched:U,includeTeams:j,includeTeamsUpdates:B,menuPosition:F,customInclusion:G=[],ariaLabel:V,ariaDescribedBy:q,role:K,isDisabled:H=!1,isLoading:z=!1,bootstrapOptions:W=[],inputId:Y,withUsers:Q=!0,Wrapper:$=o,header:X,open:J,userpickerDescribedbyId:Z,isClearable:ee=!0,includeUsers:et=!0,transformOptions:ea,userResolvers:er,components:en})=>{let[es,ei]=(0,n.useState)(void 0),{cloudId:eo,orgId:el}=(0,a("bQm3c").useSessionData)(),ec=(0,a("83Z6R").useLazyQueryPromiseInterop)(a("6RGMW").UserAndGroupSearchQuery),{loading:ed,data:eu}=(0,s.useQuery)((0,a("eSUdr").default)`query UserAndGroupSearchPickerQuery{entitlements{externalCollaborator{isEntitled}}}`),ep=e(n).createElement(a("gtD4K").default,{id:"user-and-group-search.search.error",defaultMessage:"Sorry, weâ€™re having trouble loading search results right now."}),em=e(n).createElement(a("gtD4K").default,{id:"user-and-group-search.permission.error",defaultMessage:"We couldnâ€™t find any results because you don't have permission to search the user directory."}),ef=(0,a("7lu50").getExternalCollaboratorEntitlementFromQuery)(eu)??!1,eg={appearance:t,placeholder:w||(c?D?e(n).createElement(a("gtD4K").default,{id:"user-and-group-search.placeholder.text.users.groups.and.email",defaultMessage:"Add people by name, email, or group"}):e(n).createElement(a("gtD4K").default,{id:"user-and-group-search.placeholder.text.users.and.groups",defaultMessage:"Type a user name or group"}):D?e(n).createElement(a("gtD4K").default,{id:"user-and-group-search.placeholder.text.users.and.email",defaultMessage:"Add people, emails"}):e(n).createElement(a("gtD4K").default,{id:"user-and-group-search.placeholder.text.users",defaultMessage:"Type a user name"})),addMoreMessage:C,isMulti:l,defaultValue:S,fieldId:r,menuPortalTarget:I,noOptionsMessage:e=>{if(es)return"statusCode"in es&&403===es.statusCode||es.message?.includes("403")||es.message?.includes("not allowed")?em:ep;return"function"==typeof A?A(e):A},onChange:u,onClear:p,onFocus:m,onOpen:g,onClose:h,onInputChange:E,onSelection:d,value:v,width:x,maxPickerHeight:k,displayEmailInByline:P,allowEmail:D,suggestEmailsForDomain:M,enableEmailSearch:N,allowEmailSelectionWhenEmailMatched:U,styles:O,menuPosition:F,isDisabled:H,inputId:Y,components:en,withUsers:Q,header:X,open:J,"aria-labelledby":`react-select-${r}-placeholder`,"aria-describedby":Z,"aria-label":V};return e(n).createElement($,{"aria-label":V,"aria-describedby":q,role:K},es?e(n).createElement(i.ErrorDisplay,{error:es}):null,!R&&e(n).createElement(a("kSKAi").UserPicker,{...eg,inputId:Y,autoFocus:T,loadOptions:e=>!e||e.length<2?[]:(0,a("jjoF2").userGroupSearchPromise)({searchTerm:e,queryData:ec({variables:{withGroups:c,searchTerm:e,sitePermissionTypeFilter:L,withUsers:Q}}),customInclusion:G,setError:ei,filterResults:_}),onBlur:f,isLoading:z,appearance:t,isClearable:ee}),R&&e(n).createElement(a("7rus4").default,{...eg,inputId:Y,debounceTime:200,includeGroups:c,includeUsers:et,isLoading:ed||z,maxOptions:60,onError:e=>{e&&(ei(e),(0,a("7Sm4c").markErrorAsHandled)(e))},filterOptions:y,productAttributes:{isEntitledConfluenceExternalCollaborator:ef},principalId:"context",productKey:"confluence",autoFocus:T,siteId:eo,orgId:el,includeTeams:j,includeTeamsUpdates:B,bootstrapOptions:W,onBlur:f,onKeyDown:b,isClearable:ee,transformOptions:ea,userResolvers:er,displayEmailInByline:(0,a("6mKj3").expVal)("confluence-enable-email-ux-in-user-group-search","isEnabled",!1),enableEmailSearch:(0,a("6mKj3").expVal)("confluence-enable-email-ux-in-user-group-search","isEnabled",!1),allowEmailSelectionWhenEmailMatched:!(0,a("6mKj3").expVal)("confluence-enable-email-ux-in-user-group-search","isEnabled",!1)}))}}),r("kSKAi",function(t,r){var n=a("l998X"),s=a("42omo"),i=a("dQl1W");function o(e,t,a){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class l extends e(s).Component{componentDidMount(){let e=a("8hAFq").userPickerRenderedUfoExperience.getInstance(this.ufoId);[a("28cxD").UFOExperienceState.IN_PROGRESS.id,a("28cxD").UFOExperienceState.STARTED.id].includes(e.state.id)&&e.success()}render(){let{emailLabel:e,allowEmail:t,suggestEmailsForDomain:r,isMulti:s,isValidEmail:i,anchor:o,menuPortalTarget:l,menuPosition:c,menuShouldBlockScroll:d,captureMenuScroll:u,closeMenuOnScroll:p,loadUserSource:m,menuIsOpen:f,required:g=!1,showClearIndicator:h=!1,includeTeamsUpdates:E=!1}=this.props,b=this.props.width,_=t?a("bS1VQ").default:a("2gD2K").default,y=r?(0,a("bYlb2").getCreatableSuggestedEmailProps)(r,i):(0,a("dTofT").getCreatableProps)(i),v={closeMenuOnScroll:p,menuPortalTarget:l,menuPosition:c,menuShouldBlockScroll:d,captureMenuScroll:u,required:g,includeTeamsUpdates:E,menuIsOpen:f},S=t?{...v,...y,emailLabel:e}:{...v};return(0,n.jsx)(a("8hAFq").UfoErrorBoundary,{id:this.ufoId,children:(0,n.jsx)(a("39zOH").default,{children:(0,n.jsx)(a("aahZc").ExusUserSourceProvider,{fetchUserSource:m,children:(0,n.jsx)(a("89I2S").BaseUserPickerWithoutAnalytics,{...this.props,forwardedRef:this.props.forwardedRef,width:b,SelectComponent:_,styles:(0,a("lugM7").getStyles)(b,s,"compact"===this.props.appearance,this.props.styles,(0,a("dh538").fg)("platform-component-visual-refresh"),!1,(0,a("dh538").fg)("jifjam_bulk_operations")?this.props.height:void 0),components:(0,a("e1cJ5").getComponents)(s,o,h,this.props?.components?this.props.components:{}),pickerProps:S})})})})}constructor(e){super(e),o(this,"ufoId",void 0),this.ufoId=(0,i.v4)();let t=a("8hAFq").userPickerRenderedUfoExperience.getInstance(this.ufoId);[a("28cxD").UFOExperienceState.IN_PROGRESS.id,a("28cxD").UFOExperienceState.STARTED.id].includes(t.state.id)||t.start()}}o(l,"defaultProps",{width:350,isMulti:!1});let c=(0,a("1DWH0").default)()(l);t.exports.UserPicker=c}),r("89I2S",function(t,r){var n=a("l998X"),s=a("jSnXV"),i=a("42omo"),o=a("dQl1W");let l=()=>null;class c extends e(i).Component{static getDerivedStateFromProps(e,t){let r={};return(e.isDisabled||e.disableInput)&&(r.menuIsOpen=!1),void 0!==e.open&&(r.menuIsOpen=e.open),void 0!==e.value?r.value=(0,a("6O3OC").optionToSelectableOptions)(e.value):(0,a("6O3OC").isDefaultValuePopulated)(e.defaultValue)&&!t.isDefaultSet&&(r.value=(0,a("6O3OC").optionToSelectableOptions)(e.defaultValue),r.isDefaultSet=!0),void 0!==e.search&&e.search!==t.inputValue&&(r.inputValue=e.search),void 0!==e.options&&(r.options=e.options),r}get isMenuOpenOnClickForSingleSelect(){return this.props.openMenuOnClick&&!this.props.isMulti}get isCreateTeamA11yEnabled(){return(0,a("dh538").fg)("a11y-create-team-is-not-focusable-and-has-no-btn")}componentDidMount(){let{open:e,search:t}=this.props;e&&(this.session||this.startSession(),this.executeLoadOptions(t))}componentDidUpdate(e,t){let{menuIsOpen:r,options:n,resolving:s,count:i,inputValue:o}=this.state;this.isCreateTeamA11yEnabled&&r&&!0===e.isFooterFocused&&!1===this.props.isFooterFocused&&!this.shouldKeepMenuOpen()&&(this.resetInputState(),(0,a("6O3OC").callCallback)(this.props.onClose,this.getSessionId()),this.setState({menuIsOpen:!1,options:[]})),!r||t.menuIsOpen||this.session||this.startSession(),(r&&!t.menuIsOpen||o!==t.inputValue)&&this.executeLoadOptions(o),!r&&t.menuIsOpen&&this.session&&(this.fireEvent(a("dlhVH").cancelEvent,t),this.session=void 0),r&&(!t.menuIsOpen&&n.length>0||n.length!==t.options.length)&&this.fireEvent(a("dlhVH").searchedEvent),this.state.inputValue!==t.inputValue&&this.session&&(this.session.inputChangeTime=Date.now()),r&&(!e.loadOptions||t.menuIsOpen)&&0===i&&!s&&[a("28cxD").UFOExperienceState.STARTED.id,a("28cxD").UFOExperienceState.IN_PROGRESS.id].includes(this.optionsShownUfoExperienceInstance.state.id)&&this.optionsShownUfoExperienceInstance.success()}get ariaProps(){let e=Object.keys(this.props).filter(e=>e.startsWith("aria-")),t={...this.props};return e.reduce((e,a)=>({...e,[a]:t[a]}),{})}render(){let{isMulti:e,isLoading:t,subtle:r,noBorder:s,placeholder:i,isClearable:o,isDisabled:c,isInvalid:d,clearValueLabel:u,menuMinWidth:p,menuPortalTarget:m,loadOptionsErrorMessage:f,addMoreMessage:g,noOptionsMessage:h,footer:E,disableInput:b,components:_,pickerProps:y,SelectComponent:v,styles:S,autoFocus:A,fieldId:C,inputId:I,maxPickerHeight:T,textFieldBackgroundColor:x,ariaLabelledBy:k,ariaDescribedBy:R,ariaLive:O,ariaLabel:w,name:L,header:P,required:D,UNSAFE_hasDraggableParentComponent:M,placeholderAvatar:N}=this.props,{count:U,hoveringClearIndicator:j,menuIsOpen:B,value:F,inputValue:G,resolving:V,showError:q}=this.state,K=this.getAppearance(),H={...!this.isMenuOpenOnClickForSingleSelect&&{menuIsOpen:B,blurInputOnSelect:!e,openMenuOnFocus:!0}},{"aria-labelledby":z,"aria-describedby":W,...Y}=this.ariaProps;return(0,n.jsx)(v,{name:L,value:F,autoFocus:void 0!==A?A:B,labelId:k??z,descriptionId:R??W,"aria-live":O,"aria-required":D,required:D,ref:this.handleSelectRef,isMulti:e,options:this.getOptions(),styles:S,enableAnimation:e,components:_,inputValue:G,isLoading:U>0||V||t,loadingMessage:l,menuPlacement:"auto",placeholder:i??(0,n.jsx)(a("gtD4K").default,{...a("3aPpx").messages.placeholder}),label:w,addMoreMessage:g,classNamePrefix:"fabric-user-picker",hoveringClearIndicator:j,appearance:K,isClearable:o,noBorder:s,subtle:r,closeMenuOnSelect:!e,noOptionsMessage:q?f:"function"==typeof h?h:()=>h,footer:E,isDisabled:c,isInvalid:d,isFocused:B,backspaceRemovesValue:e,filterOption:null,clearValueLabel:u,menuMinWidth:p,menuPortalTarget:m,disableInput:b||c,instanceId:C,inputId:I,onChange:this.handleChange,onMenuOpen:this.handleOpen,onFocus:this.handleFocus,onBlur:this.handleBlur,onMenuClose:this.handleClose,onInputChange:this.handleInputChange,onClearIndicatorHover:this.handleClearIndicatorHover,onKeyDown:this.handleKeyDown,maxPickerHeight:T,textFieldBackgroundColor:x,header:P,placeholderAvatar:N,...Y,...y,...M&&{onValueContainerClick:this.handleClickDraggableParentComponent},...H})}constructor(t){if(super(t),this.selectRef=void 0,this.session=void 0,this.journeyId=void 0,this.optionsShownUfoExperienceInstance=void 0,this.getSessionId=()=>this.session&&this.session.id?this.session.id:void 0,this.withSelectRef=e=>()=>{this.selectRef&&e(this.selectRef)},this.nextOption=this.withSelectRef(e=>e.focusOption("down")),this.previousOption=this.withSelectRef(e=>e.focusOption("up")),this.focus=()=>{this.selectRef&&this.selectRef.focus&&this.selectRef.focus()},this.blur=()=>{this.selectRef&&this.selectRef.blur&&this.selectRef.blur()},this.selectOption=this.withSelectRef(e=>{let t=e.state.focusedOption;e.selectOption(t)}),this.handleChange=(e,{action:t,removedValue:r,option:n})=>{if(r&&r.data.fixed)return;this.resetInputState();let{onChange:s,onSelection:i,onClear:o,isMulti:l}=this.props;switch((0,a("6O3OC").callCallback)(s,(0,a("6O3OC").extractOptionValue)(e),t),t){case"select-option":e&&(0,a("6O3OC").callCallback)(i,(0,a("6O3OC").extractOptionValue)(e),this.getSessionId(),this),this.fireEvent(a("dlhVH").selectEvent,l?n:e),this.session=l?(0,a("dlhVH").startSession)():void 0;break;case"clear":(0,a("6O3OC").callCallback)(o),this.fireEvent(a("dlhVH").clearEvent);break;case"remove-value":case"pop-value":r&&this.fireEvent(a("dlhVH").deleteEvent,r.data)}if(this.fireEvent(a("dlhVH").searchedEvent),r&&this.state.value&&Array.isArray(this.state.value)){let e=this.state.value.filter(e=>e.data.id!==r.data.id);this.setState({value:e||[],menuIsOpen:!0})}this.props.value||this.setState({value:e||[]})},this.handleSelectRef=e=>{this.selectRef=e},this.addOptions=(0,a("chpH1").batchByKey)((e,t)=>{let{resolving:a}=this.state;this.setState(({inflightRequest:r,options:n,count:s})=>r.toString()===e?{options:(a?n:[]).concat(t.reduce((e,t)=>Array.isArray(t)?e.concat(t[0]):e.concat(t),[])),count:s-t.length,resolving:s-t.length!=0}:null)}),this.handleLoadOptionsError=()=>{let{count:e}=this.state,t=e-1,r=0!==t,n=!1;r||(n=!0),this.setState({count:t,resolving:r,showError:n}),this.fireEvent(a("dlhVH").failedEvent)},this.debouncedLoadOptions=e(s)(e=>{let{loadOptions:t}=this.props;if(t){let r=this.state.inflightRequest+1,n=this.session&&this.session.id?t(e,this.session.id):t(e),s=this.addOptions.bind(this,r.toString()),i=0;if((0,a("6O3OC").isIterable)(n))for(let e of n)Promise.resolve(e).then(s).catch(this.handleLoadOptionsError),i++;else Promise.resolve(n).then(s).catch(this.handleLoadOptionsError),i++;this.setState({inflightRequest:r,count:i,resolving:0!==i,options:[]})}},200),this.abortOptionsShownUfoExperience=()=>{this.optionsShownUfoExperienceInstance.state.id===a("28cxD").UFOExperienceState.STARTED.id&&this.optionsShownUfoExperienceInstance.abort()},this.startOptionsShownUfoExperience=()=>{this.abortOptionsShownUfoExperience(),this.optionsShownUfoExperienceInstance.start()},this.executeLoadOptions=e=>{let{loadOptions:t}=this.props;t&&this.setState({resolving:!0,showError:!1},()=>this.debouncedLoadOptions(e))},this.handleFocus=e=>{let{value:t,menuIsOpen:r}=this.state;if(r&&this.session||this.startSession(),this.startOptionsShownUfoExperience(),(0,a("6O3OC").callCallback)(this.props.onFocus,this.getSessionId()),!this.isMenuOpenOnClickForSingleSelect&&(this.setState({menuIsOpen:!0}),!this.props.isMulti&&(0,a("6O3OC").isSingleValue)(t))){let a=e.target;this.setState({inputValue:t.label},()=>{a instanceof HTMLInputElement&&a.setSelectionRange(0,t.label.length)})}},this.resetInputState=()=>{this.setState({inputValue:""}),(0,a("6O3OC").callCallback)(this.props.onInputChange,"",this.getSessionId())},this.handleOpen=()=>{(0,a("6O3OC").callCallback)(this.props.onOpen,this.getSessionId()),this.setState({menuIsOpen:!0})},this.handleBlur=()=>{this.isCreateTeamA11yEnabled&&this.props.isFooterFocused||((0,a("6O3OC").callCallback)(this.props.onBlur,this.getSessionId()),(0,a("6O3OC").isPopupUserPickerByComponent)(this.props.SelectComponent)||(this.resetInputState(),this.abortOptionsShownUfoExperience(),this.setState({menuIsOpen:!1,initialFocusHandled:!1,options:[]})))},this.handleClose=()=>{this.isCreateTeamA11yEnabled&&this.props.isFooterFocused||(this.resetInputState(),(0,a("6O3OC").callCallback)(this.props.onClose,this.getSessionId()),this.setState({menuIsOpen:!1,options:[]}))},this.handleInputChange=(e,{action:t})=>{("input-change"===t||"set-value"===t)&&((0,a("6O3OC").callCallback)(this.props.onInputChange,e,this.getSessionId()),this.setState({inputValue:e}),this.startOptionsShownUfoExperience())},this.fireEvent=(e,...t)=>{let{createAnalyticsEvent:r}=this.props;r&&(0,a("dlhVH").createAndFireEventInElementsChannel)(e(this.props,this.state,this.session,this.journeyId,...t))(r)},this.startSession=()=>{this.session=(0,a("dlhVH").startSession)(),this.journeyId=this.getSessionId(),this.fireEvent(a("dlhVH").focusEvent)},this.handleKeyDown=e=>{if(this.isMenuOpenOnClickForSingleSelect||(27===e.keyCode&&this.blur(),32===e.keyCode&&!this.state.inputValue&&(e.preventDefault(),this.props.disableInput||this.setState({inputValue:" "}))),this.session)switch(this.session.lastKey=e.keyCode,e.keyCode){case 38:this.session.upCount++;break;case 40:this.session.downCount++}this.props.onKeyDown&&this.props.onKeyDown(e),this.isCreateTeamA11yEnabled&&("Escape"===e.key&&(this.setState({menuIsOpen:!1,options:[]}),this.props.setIsFooterFocused&&this.props.setIsFooterFocused(!1)),"Tab"===e.key&&this.props.setIsFooterFocused&&this.props.footer&&this.props.setIsFooterFocused(!0))},this.handleClearIndicatorHover=e=>{this.setState({hoveringClearIndicator:e})},this.getOptions=()=>{let e=(0,a("6O3OC").getOptions)(this.state.options)||[],{maxOptions:t,isMulti:r,groupByTypeOrder:n}=this.props;if(0===t)return[];if(t&&t>0&&t<e.length){let{value:s}=this.state,i=e;if(r&&Array.isArray(s)){let t=s.map(e=>e.data.id);i=e.filter(e=>-1===t.indexOf(e.data.id))}return n?(0,a("8UAzT").groupOptionsByType)(i.slice(0,t),n):i.slice(0,t)}return n?(0,a("8UAzT").groupOptionsByType)(e,n):e},this.getAppearance=()=>this.props.appearance?this.props.appearance:"normal",this.handleClickDraggableParentComponent=()=>{this.state.initialFocusHandled?this.state.menuIsOpen?this.handleClose():this.handleOpen():this.state.menuIsOpen||this.isMenuOpenOnClickForSingleSelect||(this.focus(),this.setState(()=>({initialFocusHandled:!0})))},this.shouldKeepMenuOpen=()=>!!this.props.footer&&!!this.props.isFooterFocused,this.state={options:[],isDefaultSet:!1,inflightRequest:0,count:0,hoveringClearIndicator:!1,menuIsOpen:!!this.props.open,inputValue:t.search||"",resolving:!1,showError:!1,initialFocusHandled:!1},this.optionsShownUfoExperienceInstance=a("8hAFq").userPickerOptionsShownUfoExperience.getInstance((0,o.v4)()),this.props.forwardedRef){let e={focus:this.focus,blur:this.blur};"function"==typeof this.props.forwardedRef?this.props.forwardedRef(e):this.props.forwardedRef.current=e}}}c.defaultProps={isMulti:!1,subtle:!1,noBorder:!1,textFieldBackgroundColor:!1,isClearable:!0,loadOptionsErrorMessage:()=>(0,n.jsx)(a("gtD4K").default,{...a("3aPpx").messages.errorMessage}),openMenuOnClick:!1},(0,a("1DWH0").default)()(c),t.exports.BaseUserPickerWithoutAnalytics=c}),r("dlhVH",function(e,t){var r=a("dQl1W");let n=/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/,s=/^[a-fA-F0-9]{1,8}:[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/,i=/^[a-fA-F0-9]{24,24}$/,o=(0,a("eWRwJ").default)("fabric-elements"),l=(e,t,a,r={})=>({eventType:e,action:t,actionSubject:a,attributes:{packageName:"platform-pkg",packageVersion:"0.0.0-use.local",...r}}),c=e=>i.test(e)||s.test(e)||n.test(e),d=e=>{let{id:t,type:r}=e,n={id:c(t)?t:null,type:r||null};return(0,a("6O3OC").isExternalUser)(e)?{...n,type:"external_user",sources:e.sources,externalUserType:e.externalUserType}:(0,a("6O3OC").isCustom)(e)&&e.analyticsType?{...n,type:e.analyticsType}:n},u=e=>e?(Array.isArray(e)?e:[e]).map(({data:e})=>d(e)):[],p=(e,t,a)=>{var r;return{context:e.fieldId,sessionId:(r=t)&&r.id,pickerType:e.isMulti?"multi":"single",journeyId:a}};function m(e){return e.inputValue.length}function f(e){return e?e.upCount:null}function g(e){return e?e.downCount:null}function h(e){return -1!==e.inputValue.indexOf(" ")}function E(e){return e?Date.now()-e.start:null}e.exports.startSession=()=>({id:(0,r.v4)(),start:Date.now(),inputChangeTime:Date.now(),upCount:0,downCount:0,lastKey:void 0}),e.exports.createAndFireEventInElementsChannel=o,e.exports.focusEvent=(e,t,a,r)=>l("ui","focused","userPicker",{...p(e,a,r),values:u(t.value)}),e.exports.clearEvent=(e,t,a,r)=>{var n;return l("ui","cleared","userPicker",{...p(e,a,r),pickerOpen:t.menuIsOpen,values:(n=t).value?Array.isArray(n.value)?n.value.map(e=>d(e.data)):[d(n.value.data)]:[]})},e.exports.deleteEvent=(e,t,a,r,...n)=>{var s;return l("ui","deleted","userPickerItem",{context:e.fieldId,sessionId:(s=a)&&s.id,journeyId:r,value:d(n[0]),pickerOpen:t.menuIsOpen})},e.exports.cancelEvent=(e,t,a,r,...n)=>l("ui","cancelled","userPicker",{...p(e,a,r),sessionDuration:E(a),queryLength:m(n[0]),spaceInQuery:h(n[0]),upKeyCount:f(a),downKeyCount:g(a)}),e.exports.selectEvent=(e,t,a,r,...n)=>{var s,i,o,c;return l("ui",(s=a)&&13===s.lastKey?"pressed":"clicked","userPicker",{...p(e,a,r),sessionDuration:E(a),position:(i=t,(o=n[0])?i.options.findIndex(e=>e===o.data):-1),queryLength:m(t),spaceInQuery:h(t),upKeyCount:f(a),downKeyCount:g(a),result:(c=n[0])?d(c.data):null,numberOfResults:(t.options||[]).length})},e.exports.searchedEvent=(e,t,a,r)=>{var n,s;let i=(t.options||[]).map(d);return l("operational","searched","userPicker",{...p(e,a,r),sessionDuration:E(a),durationSinceInputChange:(n=a)?Date.now()-n.inputChangeTime:null,queryLength:m(t),isLoading:(s=e,t.count>0||s.isLoading),results:i,numberOfResults:i.length})},e.exports.failedEvent=(e,t,a,r)=>l("operational","failed","userPicker",{...p(e,a,r)}),e.exports.userInfoEvent=(e,t)=>l("ui","displayed","userInfo",{sources:e,accountId:c(t)?t:null})}),r("chpH1",function(e,t){e.exports.batchByKey=function(e){let t={};return(a,...r)=>{t[a]||(window.setTimeout(()=>{e(a,t[a]),delete t[a]}),t[a]=[]),t[a].push(r)}}}),r("3aPpx",function(e,t){let r=(0,a("cgtv4").defineMessages)({placeholder:{id:"fabric.elements.user-picker.placeholder",defaultMessage:"Enter people or teams..."},addMore:{id:"fabric.elements.user-picker.placeholder.add-more",defaultMessage:"add more people..."},remove:{id:"fabric.elements.user-picker.multi.remove-item",defaultMessage:"Remove"},clear:{id:"fabric.elements.user-picker.single.clear",defaultMessage:"Clear"},errorMessage:{id:"fabric.elements.user-picker.error.message",defaultMessage:"Something went wrong"},teamByline:{id:"fabric.elements.user-picker.team.byline",defaultMessage:"Team"},officialTeamByline:{id:"fabric.elements.user-picker.team.byline.official",defaultMessage:"Official team {verifiedIcon}"},officialMemberCountWithoutYou:{id:"fabric.elements.user-picker.team.member.count.official",defaultMessage:"Official team {verifiedIcon} â€¢ {count} {count, plural, one {member} other {members}}"},officialMemberCountWithYou:{id:"fabric.elements.user-picker.team.member.count.official.including.you",defaultMessage:"Official team {verifiedIcon} â€¢ {count} {count, plural, one {member} other {members}}, including you"},memberCountWithoutYou:{id:"fabric.elements.user-picker.team.member.count",defaultMessage:"Team â€¢ {count} {count, plural, one {member} other {members}}"},memberCountWithYou:{id:"fabric.elements.user-picker.team.member.count.including.you",defaultMessage:"Team â€¢ {count} {count, plural, one {member} other {members}}, including you"},officialPlus50MembersWithoutYou:{id:"fabric.elements.user-picker.team.member.50plus.official",defaultMessage:"Official team {verifiedIcon} â€¢ 50+ members"},officialPlus50MembersWithYou:{id:"fabric.elements.user-picker.team.member.50plus.official.including.you",defaultMessage:"Official team {verifiedIcon} â€¢ 50+ members, including you"},plus50MembersWithoutYou:{id:"fabric.elements.user-picker.team.member.50plus",defaultMessage:"Team â€¢ 50+ members"},plus50MembersWithYou:{id:"fabric.elements.user-picker.team.member.50plus.including.you",defaultMessage:"Team â€¢ 50+ members, including you"},addEmail:{id:"fabric.elements.user-picker.email.add",defaultMessage:"Add user"},selectToAddEmail:{id:"fabric.elements.user-picker.email.select.to.add",defaultMessage:"Select an email address"},continueToAddEmail:{id:"fabric.elements.user-picker.email.add.potential",defaultMessage:"Enter an email address"},adminManagedGroupByline:{id:"fabric.elements.user-picker.group.byline.admin-managed",defaultMessage:"Admin group {verifiedIcon}"},groupByline:{id:"fabric.elements.user-picker.group.byline",defaultMessage:"Admin-managed group"},externalUserSourcesHeading:{id:"fabric.elements.user-picker.external.sourced.from",defaultMessage:"Found in:"},externalUserSourcesError:{id:"fabric.elements.user-picker.external.sourced.error",defaultMessage:"We can't connect you right now."},slackProvider:{id:"fabric.elements.user-picker.slack.provider",defaultMessage:"Slack"},googleProvider:{id:"fabric.elements.user-picker.google.provider",defaultMessage:"Google"},microsoftProvider:{id:"fabric.elements.user-picker.microsoft.provider",defaultMessage:"Microsoft"},gitHubProvider:{id:"fabric.elements.user-picker.github.provider",defaultMessage:"GitHub"},jiraSource:{id:"fabric.elements.user-picker.source.jira",defaultMessage:"Jira"},confluenceSource:{id:"fabric.elements.user-picker.source.confluence",defaultMessage:"Confluence"},otherAtlassianSource:{id:"fabric.elements.user-picker.source.other-atlassian",defaultMessage:"Other Atlassian products"},otherAtlassianSourceAppify:{id:"fabric.elements.user-picker.source.other-atlassian-appify",defaultMessage:"Other Atlassian apps"},memberLozengeText:{id:"fabric.elements.user-picker.member.lozenge.text",defaultMessage:"MEMBER"},guestLozengeText:{id:"fabric.elements.user-picker.guest.lozenge.text",defaultMessage:"GUEST"},guestUserLozengeTooltip:{id:"fabric.elements.user-picker.guest.lozenge.tooltip.user",defaultMessage:"Guests can only access certain spaces and have limited access to user info."},guestGroupLozengeTooltip:{id:"fabric.elements.user-picker.guest.lozenge.tooltip.group",defaultMessage:"Guest groups can only access certain spaces and have limited access to user info."},userTypeLabel:{id:"fabric.elements.user-picker.user.type.label",defaultMessage:"People"},teamTypeLabel:{id:"fabric.elements.user-picker.team.type.label",defaultMessage:"Teams"},emailTypeLabel:{id:"fabric.elements.user-picker.email.type.label",defaultMessage:"Emails"},groupTypeLabel:{id:"fabric.elements.user-picker.group.type.label",defaultMessage:"Groups"},externalUserTypeLabel:{id:"fabric.elements.user-picker.external.user.type.label",defaultMessage:"External Users"},customTypeLabel:{id:"fabric.elements.user-picker.custom.type.label",defaultMessage:"Customs"},otherTypeLabel:{id:"fabric.elements.user-picker.other.type.label",defaultMessage:"Others"}});e.exports.messages=r}),r("8UAzT",function(e,t){var r=a("l998X");a("42omo");let n=e=>{switch(e){case"user":return(0,r.jsx)(a("gtD4K").default,{...a("3aPpx").messages.userTypeLabel});case"team":return(0,r.jsx)(a("gtD4K").default,{...a("3aPpx").messages.teamTypeLabel});case"group":return(0,r.jsx)(a("gtD4K").default,{...a("3aPpx").messages.groupTypeLabel});case"custom":return(0,r.jsx)(a("gtD4K").default,{...a("3aPpx").messages.customTypeLabel});case"external_user":return(0,r.jsx)(a("gtD4K").default,{...a("3aPpx").messages.externalUserTypeLabel});default:return(0,r.jsx)(a("gtD4K").default,{...a("3aPpx").messages.otherTypeLabel})}},s=(0,a("2XqLN").default)((e,t)=>{if(0===t.length)return e;let a=new Map;e.forEach(e=>{let t=e.data.type||"other";a.has(t)||a.set(t,[]),a.get(t).push(e)});let r=[];return t.forEach(e=>{a.has(e)&&(r.push({label:n(e),options:a.get(e)}),a.delete(e))}),r});e.exports.groupOptionsByType=s}),r("8hAFq",function(t,r){var n=a("42omo");let s=new(0,a("9801n").ConcurrentExperience)("user-picker-rendered",{platform:{component:"user-picker"},type:a("iqaft").ExperienceTypes.Load,performanceType:a("iqaft").ExperiencePerformanceTypes.PageSegmentLoad}),i=new(0,a("9801n").ConcurrentExperience)("user-picker-options-shown",{platform:{component:"user-picker"},type:a("iqaft").ExperienceTypes.Operation,performanceType:a("iqaft").ExperiencePerformanceTypes.InlineResult});class o extends e(n).Component{componentDidCatch(){let e=s.getInstance(this.props.id);e.state.id!==a("28cxD").UFOExperienceState.FAILED.id&&e.failure()}render(){return this.props.children}}t.exports.userPickerRenderedUfoExperience=s,t.exports.userPickerOptionsShownUfoExperience=i,t.exports.UfoErrorBoundary=o}),r("lugM7",function(e,t){let r="var(--ds-space-075, 6px)",n=(0,a("2XqLN").default)((e,t,n,s,i,o,l)=>{let c={menu:(t,a)=>({...t,width:e,minWidth:a.selectProps.menuMinWidth,zIndex:"400"}),menuList:e=>({...e,zIndex:"400"}),control:(t,r)=>{let s=r.selectProps.isMulti;return{...t,width:e,borderColor:r.isFocused?`var(--ds-border-focused, ${t.borderColor})`:r.isInvalid?`var(--ds-border-danger, ${a("6fnsQ").R400})`:r.selectProps.subtle||r.selectProps.noBorder?"transparent":`var(--ds-border-input, ${a("6fnsQ").N90})`,backgroundColor:r.isFocused?`var(--ds-background-input, ${t.backgroundColor})`:r.selectProps.subtle?"transparent":r.selectProps.textFieldBackgroundColor?`var(--ds-background-input, ${a("6fnsQ").N10})`:`var(--ds-background-input, ${a("6fnsQ").N20})`,"&:hover .fabric-user-picker__clear-indicator":{opacity:1},":hover":{...t[":hover"],borderColor:r.isFocused?t[":hover"]?`var(--ds-border-focused, ${t[":hover"].borderColor})`:`var(--ds-border-focused, ${a("6fnsQ").B100})`:r.isInvalid?`var(--ds-border-danger, ${a("6fnsQ").R400})`:r.selectProps.subtle?"transparent":`var(--ds-border-input, ${a("6fnsQ").N90})`,backgroundColor:r.selectProps.subtle&&r.selectProps.hoveringClearIndicator?`var(--ds-background-danger, ${a("6fnsQ").R50})`:r.isFocused?t[":hover"]?`var(--ds-background-input, ${t[":hover"].backgroundColor})`:`var(--ds-background-input, ${a("6fnsQ").N0})`:r.isDisabled?`var(--ds-background-disabled, ${a("6fnsQ").N10})`:`var(--ds-background-input-hovered, ${a("6fnsQ").N30})`},padding:0,minHeight:l&&(0,a("dh538").fg)("jifjam_bulk_operations")||n?"none":44,height:l&&(0,a("dh538").fg)("jifjam_bulk_operations")?l:n||s?"100%":44,maxWidth:"100%"}},clearIndicator:({paddingTop:e,paddingBottom:t,paddingLeft:r,paddingRight:n,...s})=>({...s,opacity:1,"@media (hover: hover) and (pointer: fine)":{opacity:0},transition:s.transition+", opacity 150ms",paddingTop:0,padding:0,":hover":{color:`var(--ds-icon-danger, ${a("6fnsQ").R400})`}}),indicatorsContainer:e=>({...e,paddingRight:"var(--ds-space-050, 4px)"}),valueContainer:({paddingTop:e,paddingBottom:t,position:a,...s},i)=>{let o=i.selectProps.isMulti;return{...s,gridTemplateColumns:"auto 1fr",paddingTop:n?0:r,paddingBottom:n?0:r,paddingLeft:o?r:0,overflowX:"hidden",overflowY:"auto",scrollbarWidth:"none",maxHeight:i.selectProps.maxPickerHeight||"100%","::-webkit-scrollbar":{width:0,background:"transparent"}}},multiValue:e=>({...e,borderRadius:24,cursor:"default"}),multiValueLabel:e=>({...e,display:"flex"}),multiValueRemove:e=>({...e,borderRadius:24,cursor:"pointer"}),placeholder:(e,t)=>("absolute"!==e.position||e.left||(e.left=`${r}px`),{...e,gridArea:"1/2/2/3",paddingLeft:t.selectProps.isMulti?0:r,margin:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),option:e=>i?{...e,overflow:"hidden",paddingLeft:o?"var(--ds-space-200, 16px)":"var(--ds-space-100, 8px)",paddingRight:o?"var(--ds-space-200, 16px)":"var(--ds-space-100, 8px)"}:{...e,overflow:"hidden"},input:(e,n)=>({...e,gridArea:"1/2/2/3",gridTemplateColumns:t&&n.placeholder?"0 123px":e.gridTemplateColumns,margin:"var(--ds-space-050, 4px) 0",paddingTop:0,paddingBottom:0,paddingLeft:n.selectProps.isMulti?0:r,"& input::placeholder":{color:`var(--ds-text-subtlest, ${a("6fnsQ").N100})`,opacity:1},"& input:-ms-input-placeholder":{color:`var(--ds-text-subtlest, ${a("6fnsQ").N100})`}}),singleValue:e=>({...e,margin:0,gridArea:"1/2/2/3"})};return s?(0,a("eKXGE").mergeStyles)(c,s):c});(0,a("2XqLN").default)((e,t,a,r)=>({...n(e,t,!1,a,r,!0)})),e.exports.getStyles=n}),r("e1cJ5",function(e,t){let r=(0,a("2XqLN").default)((e,t,r,n)=>t?{Control:t,Option:a("d1LXW").Option}:{MultiValue:a("8Z5lp").MultiValue,DropdownIndicator:null,SingleValue:a("biJXh").SingleValue,ClearIndicator:r||!e?a("8BxoE").ClearIndicator:null,Option:a("d1LXW").Option,ValueContainer:e?a("djtLL").MultiValueContainer:a("95uM8").SingleValueContainer,Input:a("gtKKr").Input,Menu:a("8lAE4").Menu,Control:a("8LA5n").default,...n||{}});(0,a("2XqLN").default)(e=>{let t={DropdownIndicator:null,SingleValue:a("biJXh").SingleValue,ClearIndicator:a("8BxoE").ClearIndicator,Option:a("d1LXW").Option,ValueContainer:a("95uM8").SingleValueContainer,Input:a("aoWT3").PopupInput};return e?{...t,Control:a("91jwt").PopupControl}:t}),e.exports.getComponents=r}),r("8BxoE",function(t,r){var n=a("l998X"),s=a("42omo");let i=e(s).lazy(()=>a("dWRcP").then(e=>({default:e.default})));class o extends e(s).PureComponent{render(){let{selectProps:{clearValueLabel:t}}=this.props,r=(0,n.jsx)(a("3hOY6").components.ClearIndicator,{...this.props,innerProps:{...this.props.innerProps,onMouseDown:this.handleMouseDown},xcss:"_v5641ppt _tzy4kb7n _ca0qze3t _u5f3ze3t _n3tdze3t _19bvze3t _30l3s4qr _1mhjgrf3"});return t?(0,n.jsx)(e(s).Suspense,{fallback:r,children:(0,n.jsx)(i,{content:t,children:r})}):r}constructor(...e){var t,a,r;super(...e),t="handleMouseDown",a=e=>{if(e&&"mousedown"===e.type&&0!==e.button)return;let{clearValue:t,selectProps:a}=this.props;t(),a&&!a.isFocused&&e.stopPropagation()},(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in this?Object.defineProperty(this,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):this[t]=a}}t.exports.ClearIndicator=o}),r("dWRcP",function(e,t){e.exports=a("4mJKd")(5)("764nc").then(()=>a("SMbnh"))}),r("8Z5lp",function(t,r){var n=a("42omo");let s=(e,t)=>{let{top:a,height:r}=e.getBoundingClientRect(),{height:n}=t.getBoundingClientRect();a-r<0&&e.scrollIntoView(),a+r>n&&e.scrollIntoView(!1)},i=(0,a("ecnYn").xcss)({paddingLeft:"space.025",marginTop:"space.025"}),o={name:"1ebbz80",styles:'font:var(--ds-font-body, normal 400 14px/20px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif);padding-left:var(--ds-space-050, 4px)'};class l extends e(n).Component{componentDidUpdate(){let{isFocused:e}=this.props;e&&this.containerRef.current&&this.containerRef.current.parentElement&&this.containerRef.current.parentElement.parentElement&&s(this.containerRef.current,this.containerRef.current.parentElement.parentElement)}shouldComponentUpdate(e){let{data:{label:t,data:a},innerProps:r,isFocused:n}=this.props,{data:{label:s,data:i},innerProps:o,isFocused:l}=e;return a!==i||t!==s||r!==o||n!==l}render(){let{children:e,innerProps:t,...r}=this.props;return(0,a("9K4OG").jsx)(a("3hOY6").components.MultiValue,{...r,innerProps:{ref:this.containerRef},cropWithEllipsis:!1},(0,a("9K4OG").jsx)(a("dcJ7R").default,{alignBlock:"center"},this.getElemBefore()," ",(0,a("9K4OG").jsx)("div",{css:o},e),this.getElemAfter()))}constructor(t){super(t),this.containerRef=void 0,this.getElemBefore=()=>{let{data:{data:t}}=this.props;return(0,a("6O3OC").isEmail)(t)?(0,a("9K4OG").jsx)(a("7NrQn").AddOptionAvatar,{isLozenge:!0,isPendingAction:t.isPendingAction}):(0,a("6O3OC").isGroup)(t)?(0,a("9K4OG").jsx)(a("6f0Oj").default,{xcss:i},(0,a("9K4OG").jsx)(e(a("lebfc")),{LEGACY_margin:"-2px 0 0 0",color:"currentColor",label:"",LEGACY_size:"small"})):t.icon&&(0,a("dh538").fg)("atlaskit_user_picker_support_icon")?(0,a("9K4OG").jsx)(a("gElw0").AvatarOrIcon,{appearance:"multi",icon:t.icon,iconColor:t.iconColor,src:(0,a("6O3OC").getAvatarUrl)(t),type:(0,a("6O3OC").isTeam)(t)?"team":"person"}):(0,a("9K4OG").jsx)(a("daWcu").SizeableAvatar,{appearance:"multi",src:(0,a("6O3OC").getAvatarUrl)(t),type:(0,a("6O3OC").isTeam)(t)?"team":"person"})},this.getElemAfter=()=>{let{data:{data:e}}=this.props;return(0,a("6O3OC").isGroup)(e)&&e.includeTeamsUpdates||(0,a("6O3OC").isTeam)(e)&&e.verified?(0,a("9K4OG").jsx)(a("cO3Oi").VerifiedTeamIcon,{size:e.includeTeamsUpdates?"small":"medium"}):null},this.containerRef=e(n).createRef()}}t.exports.MultiValue=l}),r("7NrQn",function(t,r){a("42omo");let n=(e,t)=>{let r=t&&(0,a("dh538").fg)("twcg-444-invite-usd-improvements-m2-gate")?"var(--ds-background-warning, #FFF5DB)":`var(--ds-background-neutral, ${a("6fnsQ").N40})`;return(0,a("9K4OG").css)({padding:e?"var(--ds-space-0, 0px)":"var(--ds-space-050, 4px)",backgroundColor:r,borderRadius:"var(--ds-radius-full, 9999px)",display:"flex",alignItems:"center",marginLeft:"var(--ds-space-025, 2px)"})};t.exports.AddOptionAvatar=({isLozenge:t,label:r,isPendingAction:s})=>(0,a("9K4OG").jsx)("div",{css:n(t,s)},(0,a("9K4OG").jsx)(e(a("5GDNB")),{testId:"add-option-avatar-email-icon",label:r||"",LEGACY_size:t?"small":"medium",LEGACY_margin:"0 0 0 -2px",color:s&&(0,a("dh538").fg)("twcg-444-invite-usd-improvements-m2-gate")?"var(--ds-text-warning, #9E4C00)":`var(--ds-text-subtle, ${a("6fnsQ").N500})`}))}),r("gElw0",function(e,t){let r={name:"sjfyf",styles:"display:flex;align-items:center;justify-content:center;flex-shrink:0"},n={xsmall:{name:"1aynuae",styles:"width:20px;height:20px"},small:{name:"1c76jn8",styles:"width:28px;height:28px"},medium:{name:"bgbjt4",styles:"width:36px;height:36px"}};e.exports.AvatarOrIcon=({appearance:e="big",avatarAppearanceShape:t,icon:s,iconColor:i,presence:o,src:l,type:c="person"})=>{if(s){let t=(0,a("6O3OC").getAvatarSize)(e);return(0,a("9K4OG").jsx)("div",{css:[r,n[t]],style:{color:i}},s)}return(0,a("9K4OG").jsx)(a("daWcu").SizeableAvatar,{appearance:e,src:l,presence:o,type:c,avatarAppearanceShape:t})}}),r("daWcu",function(t,r){var n=a("l998X"),s=a("42omo");class i extends e(s).PureComponent{render(){let{src:e,presence:t,appearance:r,type:s="person",avatarAppearanceShape:i}=this.props,o={size:(0,a("6O3OC").getAvatarSize)(r),src:e,borderColor:"transparent",presence:t,...i&&{appearance:i}};return"team"===s?(0,n.jsx)(a("alaek").default,{...o}):(0,n.jsx)(a("esRft").default,{...o})}}t.exports.SizeableAvatar=i}),r("alaek",function(e,r){t(e.exports,"default",()=>s);var n=a("l998X");function s({testId:e,src:t,size:r="medium",teamId:s="",compact:i=!1,...o}){return s=s.replace("ari:cloud:identity::team/",""),(0,n.jsx)(a("esRft").default,{appearance:"square",...o,size:r,src:t,testId:`${e}-team-avatar`,children:(0,n.jsx)(a("cmDjE").TeamAvatarImage,{src:t,size:r,testId:e,teamId:s,compact:i})})}a("42omo"),a("6fnsQ").N0,a("6fnsQ").N90}),r("cmDjE",function(e,t){var r=a("l998X"),n=a("42omo");let s={root:"_19itglyw _12ji1r31 _1qu2glyw _12y31o36 _1reo15vq _18m915vq _v564ieh6 _1e0c1txw _kqswpfqs _4cvr1fhb _1bah1h6o _2lx21bp4 _80om1kw7 _85i5ze3t _1q51ze3t _y4tize3t _bozgze3t _t9ec1aqe _9v7aze3t _qc5o1p41 _z0ai1osq _18postnw _1hfk1j28 _aetrf705 _1peqidpf _11fnglyw",nonCompactSpacing:"_6rthv77o _1pfhv77o _12l2v77o _ahbqv77o",compactSpacing:"_6rthze3t _1pfhze3t _12l2ze3t _ahbqze3t"},i={root:"_vchh1ntv _bfhkcxp3 _16qs1nhn"},o={image:"_16jlkb7n _1o9zkb7n _i0dl1osq _1e0c1txw _1bsb1osq _4t3i1osq"},l={xsmall:16,small:24,medium:32,large:40,xlarge:96,xxlarge:128},c={xsmall:"_2rkol0p1",small:"_2rkol0p1",medium:"_2rkol0p1",large:"_2rkol0p1",xlarge:"_2rkol0p1",xxlarge:"_2rkol0p1"},d={xsmall:"_1bsb7vkz _4t3i7vkz",small:"_1bsb1tcg _4t3i1tcg",medium:"_1bsbzwfg _4t3izwfg",large:"_1bsb1ylp _4t3i1ylp",xlarge:"_1bsb16xz _4t3i16xz",xxlarge:"_1bsb1qr7 _4t3i1qr7"};e.exports.TeamAvatarImage=({alt:e="",src:t,size:u,testId:p,teamId:m,compact:f=!1})=>{let[g,h]=(0,n.useState)(!1),E=(0,a("f2BEc").getTeamAvatarSrc)(t,m);return((0,n.useEffect)(()=>{h(!1)},[E]),!E||g)?(0,r.jsx)(a("5P3yi").FallbackAvatar,{"aria-label":e,width:l[u],height:l[u],"data-testid":p,compact:f}):(0,r.jsx)("span",{"data-testid":p,"aria-label":e,className:(0,a("gMc0m").default)([i.root,s.root,c[u],d[u],f?s.compactSpacing:s.nonCompactSpacing]),children:(0,r.jsx)("img",{src:E,alt:e,"data-testid":p&&`${p}--image`,onError:()=>h(!0),className:(0,a("gMc0m").default)([o.image])})})}}),r("5P3yi",function(e,t){var r=a("l998X");a("42omo");let n={wrapper:"_1e0c1txw",wrapperSpacing:"_19pkv77o _2hwxv77o _otyrv77o _18u0v77o",compactWrapperSpacing:"_19pkze3t _2hwxze3t _otyrze3t _18u0ze3t"};e.exports.FallbackAvatar=function(e){return(0,r.jsx)(a("gdv5Z").default,{xcss:(0,a("1Whri").cx)(n.wrapper,e.compact?n.compactWrapperSpacing:n.wrapperSpacing),children:(0,r.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,r.jsxs)("g",{clipPath:"url(#clip0_2032_552)",children:[(0,r.jsx)("rect",{width:"32",height:"32",rx:"4",fill:"#DCDFE4"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.6666 12.6666C11.7712 12.6666 12.6666 11.7712 12.6666 10.6666C12.6666 9.56206 11.7712 8.66663 10.6666 8.66663C9.56202 8.66663 8.66658 9.56206 8.66658 10.6666C8.66658 11.7712 9.56202 12.6666 10.6666 12.6666ZM10.6666 14.6666C12.8757 14.6666 14.6666 12.8758 14.6666 10.6666C14.6666 8.45749 12.8757 6.66663 10.6666 6.66663C8.45745 6.66663 6.66658 8.45749 6.66658 10.6666C6.66658 12.8758 8.45745 14.6666 10.6666 14.6666Z",fill:"#44546F"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.3333 12.6666C22.4378 12.6666 23.3333 11.7712 23.3333 10.6666C23.3333 9.56206 22.4378 8.66663 21.3333 8.66663C20.2287 8.66663 19.3333 9.56206 19.3333 10.6666C19.3333 11.7712 20.2287 12.6666 21.3333 12.6666ZM21.3333 14.6666C23.5424 14.6666 25.3333 12.8758 25.3333 10.6666C25.3333 8.45749 23.5424 6.66663 21.3333 6.66663C19.1241 6.66663 17.3333 8.45749 17.3333 10.6666C17.3333 12.8758 19.1241 14.6666 21.3333 14.6666Z",fill:"#44546F"}),(0,r.jsx)("path",{d:"M21.6666 16C24.4273 16.0004 26.6666 18.2385 26.6666 21V22.6666C26.6666 24.1394 25.4727 25.3333 23.9999 25.3333H20.135C18.0324 25.3333 16.1545 24.018 15.436 22.042L14.6843 19.9747C14.2531 18.7892 13.1264 18 11.8649 18H10.3333C8.6764 18 7.33325 19.3431 7.33325 21V22.6666C7.33325 23.0348 7.63173 23.3333 7.99992 23.3333H13.3333V25.3333H7.99992C6.52716 25.3333 5.33325 24.1394 5.33325 22.6666V21C5.33325 18.2385 7.57183 16 10.3333 16H11.8649C13.9674 16 15.8453 17.3153 16.5638 19.2913L17.3156 21.3585C17.7467 22.5441 18.8734 23.3333 20.135 23.3333H23.9999C24.3681 23.3333 24.6666 23.0348 24.6666 22.6666V21C24.6666 19.3437 23.3233 18.0004 21.6666 18H20.135V16H21.6666Z",fill:"#44546F"}),(0,r.jsx)("path",{d:"M20.135 16C19.5972 16 18.7183 16.1407 18.0518 16.4564L18.908 18.2639C19.064 18.19 19.288 18.1205 19.537 18.0703C19.785 18.0203 20.0045 18 20.135 18V16Z",fill:"#44546F"})]}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_2032_552",children:(0,r.jsx)("rect",{width:"32",height:"32",rx:"4",fill:"white"})})})]})})}}),r("f2BEc",function(e,t){e.exports.getTeamAvatarSrc=function(e,t){return e||(t?`/gateway/api/v4/teams/${t}/avatar`:void 0)}}),r("cO3Oi",function(t,r){var n=a("l998X");a("42omo"),t.exports.VerifiedTeamIcon=({label:t="Verified Team",showTooltip:r,customTooltipContent:s,size:i="medium",spacing:o="spacious"})=>{let{formatMessage:l}=(0,a("8C5kA").default)(),c=r?s||l(a("fk7e8").messages.verifiedIconDefaultTooltip):void 0;return c?(0,n.jsx)(a("3gadb").default,{content:c,children:(0,n.jsxs)("span",{tabIndex:0,role:"button","data-testid":"verified-team-icon",children:[" ",(0,n.jsx)(e(a("bh5s2")),{color:"var(--ds-icon-accent-blue, #357DE8)",size:i,label:c,spacing:o})]})}):(0,n.jsx)(e(a("bh5s2")),{color:"var(--ds-icon-accent-blue, #357DE8)",size:i,spacing:o,label:t})}}),r("fk7e8",function(e,t){let r=(0,a("cgtv4").defineMessages)({verifiedIconDefaultTooltip:{id:"ptc-directory.team-profile-page.team-name.verified-team.icon.tooltip",defaultMessage:"Managed teams are verified because they can only be changed by an admin."}});e.exports.messages=r}),r("djtLL",function(t,r){var n=a("l998X"),s=a("42omo");function i(e,t,a){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class o extends e(s).PureComponent{static getDerivedStateFromProps(e,t){return{valueSize:e.getValue?e.getValue().length:0,previousValueSize:t.valueSize}}componentDidUpdate(){let{previousValueSize:e,valueSize:t}=this.state,{isFocused:a}=this.props.selectProps;t>e&&a&&(this.timeoutId&&(window.clearTimeout(this.timeoutId),this.timeoutId=null),this.scrollToBottom())}componentWillUnmount(){this.timeoutId&&window.clearTimeout(this.timeoutId)}render(){let{children:e,innerProps:t,...r}=this.props,s={...r,innerProps:this.valueContainerInnerProps};return(0,n.jsx)(a("5zTZv").default,{isEnabled:this.onValueContainerClick,onMouseDown:this.onValueContainerClick,children:(0,n.jsx)(a("3hOY6").components.ValueContainer,{...s,xcss:"_yv0e5bpd _ca0q12x7 _n3td12x7 _19bv12x7 _1reo15vq _18m91wug _1fjgglyw _c71l1osq _1suq1j28 _1ke8idpf",children:this.renderChildren()})})}constructor(t){super(t),i(this,"valueContainerInnerProps",void 0),i(this,"timeoutId",null),i(this,"scrollToBottom",()=>{this.timeoutId=window.setTimeout(()=>{let{ref:{current:e}}=this.valueContainerInnerProps;null!==e&&(e.scrollTop=e.scrollHeight),this.timeoutId=null})}),i(this,"showPlaceholder",()=>{let{selectProps:{value:e}}=this.props;return e&&e.length>0}),i(this,"addPlaceholder",t=>{let r=e(s).Children.map(this.props.children,r=>(0,a("6O3OC").isChildInput)(r)&&this.showPlaceholder()?e(s).cloneElement(r,{placeholder:t}):r);return(0,n.jsx)(s.Fragment,{children:r})}),i(this,"renderChildren",()=>{let{selectProps:{addMoreMessage:e,isDisabled:t}}=this.props;return t?this.props.children:void 0===e?(0,n.jsx)(a("gtD4K").default,{...a("3aPpx").messages.addMore,children:e=>{let t=e;e&&"string"==typeof e&&(t=[e]);let a=t?.join("")??"";return this.addPlaceholder(a)}}):this.addPlaceholder(e)}),i(this,"onValueContainerClick",this.props.selectProps.onValueContainerClick),this.state={valueSize:0,previousValueSize:0},this.valueContainerInnerProps={ref:e(s).createRef()}}}t.exports.MultiValueContainer=o}),r("5zTZv",function(e,t){var r={name:"1ff36h2",styles:"flex-grow:1"};e.exports.default=({children:e,isEnabled:t,onMouseDown:n})=>t?(0,a("9K4OG").jsx)("div",{css:r,onMouseDown:n},e):e}),r("d1LXW",function(t,r){var n=a("l998X"),s=a("42omo");let i=({data:{data:e},isSelected:t,status:r})=>(0,n.jsx)(a("gIEXj").UserOption,{user:e,status:r,isSelected:t}),o=({data:{data:e},isSelected:t,status:r,selectProps:s})=>(0,a("6O3OC").isExternalUser)(e)?(0,n.jsx)(a("5MuqH").default,{user:e,status:r,isSelected:t}):(0,a("6O3OC").isUser)(e)?(0,n.jsx)(a("gIEXj").UserOption,{user:e,status:r,isSelected:t}):(0,a("6O3OC").isEmail)(e)?(0,n.jsx)(a("5SlZw").default,{email:e,emailValidity:(0,a("9xsgQ").isValidEmail)(e.id),isSelected:t,label:s.emailLabel}):(0,a("6O3OC").isTeam)(e)?(0,n.jsx)(a("8bByc").default,{team:e,isSelected:t,includeTeamsUpdates:e.includeTeamsUpdates}):(0,a("6O3OC").isGroup)(e)?(0,n.jsx)(a("gQDzG").default,{group:e,isSelected:t,includeTeamsUpdates:e.includeTeamsUpdates}):(0,a("6O3OC").isCustom)(e)?(0,n.jsx)(a("2OK2a").default,{data:e,isSelected:t}):null,l=e=>e.data?.data?.tooltip?(0,n.jsx)(a("3gadb").default,{content:e.data?.data?.tooltip,children:t=>(0,n.jsx)(a("gdv5Z").default,{...t,children:o(e)})}):o(e);t.exports.Option=t=>(0,n.jsx)(a("3hOY6").components.Option,{...t,children:(0,n.jsx)(e(s).Suspense,{fallback:i(t),children:l(t)})})}),r("gIEXj",function(t,r){var n=a("42omo");let s=e=>(0,a("9K4OG").css)({display:"inline",verticalAlign:"top",overflow:"hidden",whiteSpace:"nowrap",color:e});class i extends e(n).PureComponent{render(){return(0,a("9K4OG").jsx)(a("a1Cju").AvatarItemOption,{avatar:this.renderAvatar(),lozenge:this.getLozengeProps(),isDisabled:this.props.user.isDisabled,primaryText:this.getPrimaryText(),secondaryText:this.renderSecondaryText()})}constructor(...t){super(...t),this.getPrimaryText=()=>{let{user:{name:t,publicName:r,highlight:i}}=this.props,o=[(0,a("9K4OG").jsx)("span",{key:"name",css:(0,a("a1Cju").textWrapper)(this.props.isSelected?`var(--ds-text-selected, ${a("6fnsQ").B400})`:`var(--ds-text, ${a("6fnsQ").N800})`)},(0,a("9K4OG").jsx)(a("a3dA4").HighlightText,{highlights:i&&i.name},t))];if((0,a("6O3OC").hasValue)(r)&&t.trim()!==r.trim()){let t=this.props.isSelected?`var(--ds-text-selected, ${a("6fnsQ").B400})`:`var(--ds-text-subtlest, ${a("6fnsQ").N200})`;o.push((0,a("9K4OG").jsx)(e(n).Fragment,{key:"publicName"}," ",(0,a("9K4OG").jsx)("span",{css:(0,a("dh538").fg)("platform_user_picker_firefox_tab_fix")?s(t):(0,a("a1Cju").textWrapper)(t)},"(",(0,a("9K4OG").jsx)(a("a3dA4").HighlightText,{highlights:i&&i.publicName},r),")")))}return o},this.renderSecondaryText=()=>this.props.user.byline?(0,a("9K4OG").jsx)("span",{css:(0,a("a1Cju").textWrapper)(this.props.isSelected?`var(--ds-text-selected, ${a("6fnsQ").B400})`:`var(--ds-text-subtlest, ${a("6fnsQ").N200})`)},this.props.user.byline):void 0,this.renderAvatar=()=>{let{user:{avatarUrl:e,appType:t,icon:r,iconColor:n},status:s}=this.props,i=(0,a("dh538").fg)("platform-component-visual-refresh")?"medium":"big";return r&&(0,a("dh538").fg)("atlaskit_user_picker_support_icon")?(0,a("9K4OG").jsx)(a("gElw0").AvatarOrIcon,{appearance:i,icon:r,iconColor:n,src:e,presence:s,avatarAppearanceShape:(0,a("dh538").fg)("jira_ai_agent_avatar_user_picker_user_option")?(0,a("5sA9S").getAppearanceForAppType)(t):void 0}):(0,a("9K4OG").jsx)(a("daWcu").SizeableAvatar,{appearance:i,src:e,presence:s,avatarAppearanceShape:(0,a("dh538").fg)("jira_ai_agent_avatar_user_picker_user_option")?(0,a("5sA9S").getAppearanceForAppType)(t):void 0})},this.getLozengeProps=()=>"string"==typeof this.props.user.lozenge?{text:this.props.user.lozenge}:this.props.user.lozenge}}t.exports.UserOption=i}),r("a1Cju",function(t,r){var n=a("42omo");let s=e(n).lazy(()=>a("dWRcP").then(e=>({default:e.default}))),i=e=>(0,a("dh538").fg)("platform_user_picker_firefox_tab_fix")?(0,a("9K4OG").css)({alignItems:"center",boxSizing:"border-box",display:"flex",outline:"none",margin:0,width:"100%",cursor:e?"not-allowed":"pointer",opacity:e?"var(--ds-opacity-disabled, 0.4)":void 0}):(0,a("9K4OG").css)({alignItems:"center",boxSizing:"border-box",display:"flex",lineHeight:1,outline:"none",margin:0,width:"100%",cursor:e?"not-allowed":"pointer",opacity:e?"var(--ds-opacity-disabled, 0.4)":void 0}),o={name:"13552d7",styles:"max-width:100%;min-width:0;line-height:1.4;padding-left:var(--ds-space-100, 8px)"},l={name:"18gxn58",styles:"display:inline-block;overflow:hidden;min-width:0;max-width:100%;padding-left:var(--ds-space-100, 8px)"},c=e=>{let t=e?{font:'var(--ds-font-body-small, normal 400 11px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)'}:{};return(0,a("dh538").fg)("platform_user_picker_firefox_tab_fix")?(0,a("9K4OG").css)({margin:0,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",...t}):(0,a("9K4OG").css)({margin:0,overflowX:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",...t})},d={name:"1hvgowa",styles:"float:right;margin-left:var(--ds-space-100, 8px)"};t.exports.textWrapper=e=>(0,a("dh538").fg)("platform_user_picker_firefox_tab_fix")?(0,a("9K4OG").css)({display:"inline-block",verticalAlign:"bottom",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:e}):(0,a("9K4OG").css)({overflow:"hidden",textOverflow:"ellipsis",display:"inline",color:e}),t.exports.AvatarItemOption=({avatar:t,isDisabled:r,lozenge:u,primaryText:p,secondaryText:m})=>(0,a("9K4OG").jsx)("span",{css:i(r)},t,(0,a("9K4OG").jsx)("div",{css:(0,a("dh538").fg)("platform_user_picker_firefox_tab_fix")?l:o},(0,a("9K4OG").jsx)("div",null,(0,a("9K4OG").jsx)("div",{css:c()},p),m&&(0,a("9K4OG").jsx)("div",{css:c(!0)},m))),u&&(0,a("9K4OG").jsx)("div",{css:d},(0,a("6O3OC").isLozengeText)(u)?u?.tooltip?(0,a("9K4OG").jsx)(e(n).Suspense,{fallback:(0,a("9K4OG").jsx)(a("5nBzc").default,u,u.text)},(0,a("9K4OG").jsx)(s,{content:u.tooltip},(0,a("9K4OG").jsx)(a("5nBzc").default,u,u.text))):(0,a("9K4OG").jsx)(a("5nBzc").default,u,u.text):u))}),r("a3dA4",function(t,r){var n=a("l998X"),s=a("42omo");class i extends e(s).PureComponent{render(){let{children:e,highlights:t}=this.props,a=[],r=0;return t&&t.sort((e,t)=>e.start-t.start).reduce((e,t)=>{let a=e[e.length-1];return!a||t.start>a.end+1?e.concat(t):(t.end>a.end&&(a.end=t.end),e)},[]).forEach(t=>{let{start:n,end:s}=t;n>=s||(n>r&&a.push({value:e.substring(r,n),matches:!1}),a.push({value:e.substring(n,s+1),matches:!0}),r=s+1)}),r<e.length&&a.push({value:e.substring(r,e.length),matches:!1}),a.map((e,t)=>e.matches?(0,n.jsx)("b",{children:e.value},t):e.value)}}t.exports.HighlightText=i}),r("5MuqH",function(t,r){let n=e(a("42omo")).lazy(()=>a("jg4yU").then(e=>({default:e.ExternalUserOption})));t.exports.default=n}),r("jg4yU",function(e,t){let r=a("4mJKd")(5);e.exports=Promise.all([r("let0D"),r("faXeM")]).then(()=>a("antvm"))}),r("8bByc",function(t,r){let n=e(a("42omo")).lazy(()=>a("efg1X").then(e=>({default:e.TeamOption})));t.exports.default=n}),r("efg1X",function(e,t){e.exports=a("4mJKd")(5)("7eOUa").then(()=>a("3Ylqf"))}),r("gQDzG",function(t,r){let n=e(a("42omo")).lazy(()=>a("jNY3N").then(e=>({default:e.GroupOption})));t.exports.default=n}),r("jNY3N",function(e,t){e.exports=a("4mJKd")(5)("9zjWJ").then(()=>a("g2CU3"))}),r("5SlZw",function(t,r){let n=e(a("42omo")).lazy(()=>a("e2jHL").then(e=>({default:e.EmailOption})));t.exports.default=n}),r("e2jHL",function(e,t){e.exports=a("4mJKd")(5)("cwwPf").then(()=>a("gqFgq"))}),r("2OK2a",function(t,r){let n=e(a("42omo")).lazy(()=>a("hilZh").then(e=>({default:e.CustomOption})));t.exports.default=n}),r("hilZh",function(e,t){e.exports=a("4mJKd")(5)("3a4K1").then(()=>a("1oHUa"))}),r("9xsgQ",function(e,t){let a=/^[^\s@]+@[^\s@]+\.[^\s@]+$/i,r=/^[^\s@]+@[^\s@]*$/i;e.exports.isValidEmail=e=>e.match(a)?"VALID":e.match(r)?"POTENTIAL":"INVALID"}),r("biJXh",function(e,t){var r=a("l998X");a("42omo");let n={avatarItem:"_1reo15vq _18m915vq _4cvr1h6o _1ul953f4",avatarItemTextWrapper:"_16jlkb7n _1o9zkb7n _i0dl1osq _1ul9idpf _p12f1osq _bozgu2gc _vwz419ii",avatarItemText:"_syazi7uo _1reo15vq _1bto1l2s _o5721q9c"},s=e=>{let{data:{data:t},shouldShowVerifiedIcon:n}=e;return(n?n(t):(0,a("6O3OC").isTeam)(t)&&t.verified||(0,a("6O3OC").isGroup)(t)&&t.includeTeamsUpdates)?(0,r.jsx)(a("cO3Oi").VerifiedTeamIcon,{size:t.includeTeamsUpdates?"small":"medium"}):null};e.exports.SingleValue=e=>{let{data:{label:t,data:i},selectProps:{appearance:o,isFocused:l}}=e;return l?null:(0,r.jsx)(a("3hOY6").components.SingleValue,{...e,children:(0,r.jsxs)(a("1s5hv").default,{xcss:n.avatarItem,children:[i.icon&&(0,a("dh538").fg)("atlaskit_user_picker_support_icon")?(0,r.jsx)(a("gElw0").AvatarOrIcon,{icon:i.icon,iconColor:i.iconColor,src:(0,a("6O3OC").getAvatarUrl)(i),appearance:o,type:(0,a("6O3OC").isTeam)(i)?"team":"person",avatarAppearanceShape:(0,a("dh538").fg)("jira_ai_agent_avatar_user_picker_user_option")?(0,a("5sA9S").getAppearanceForAppType)(i.appType):void 0}):(0,r.jsx)(a("daWcu").SizeableAvatar,{src:(0,a("6O3OC").getAvatarUrl)(i),appearance:o,type:(0,a("6O3OC").isTeam)(i)?"team":"person",avatarAppearanceShape:(0,a("dh538").fg)("jira_ai_agent_avatar_user_picker_user_option")?(0,a("5sA9S").getAppearanceForAppType)(i.appType):void 0}),(0,r.jsx)(a("gdv5Z").default,{xcss:n.avatarItem,children:(0,r.jsx)("div",{className:(0,a("gMc0m").default)([n.avatarItemTextWrapper]),children:(0,r.jsx)(a("gdv5Z").default,{xcss:n.avatarItemText,children:(0,r.jsxs)(a("u9agA").default,{alignBlock:"center",children:[t,(0,r.jsx)(s,{...e})]})})})})]})})}}),r("gtKKr",function(t,r){var n=a("l998X"),s=a("42omo");class i extends e(s).Component{get ariaLabelledBy(){return this.props["aria-labelledby"]??this.props["aria-describedby"]}get ariaDescribedBy(){return this.props.selectProps?.["aria-describedby"]??this.props["aria-describedby"]}render(){return(0,n.jsx)(a("3hOY6").components.Input,{...this.props,"aria-labelledby":this.ariaLabelledBy,"aria-describedby":this.ariaDescribedBy,innerRef:this.props.innerRef,onKeyPress:this.handleKeyPress,xcss:"_5ce61rpy _1ir3kb7n _h5gq1rpy"})}constructor(...e){var t,a,r;super(...e),t="handleKeyPress",a=e=>{"Enter"===e.key&&e.preventDefault(),this.props.selectProps?.disableInput&&e.preventDefault()},(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in this?Object.defineProperty(this,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):this[t]=a}}t.exports.Input=i}),r("95uM8",function(t,r){var n=a("l998X"),s=a("42omo");function i(e,t,a){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let o=(e,t)=>t&&t.data&&e===t.label;class l extends e(s).Component{render(){let{children:e,...t}=this.props;return(0,n.jsx)(a("5zTZv").default,{isEnabled:this.onValueContainerClick,onMouseDown:this.onValueContainerClick,children:(0,n.jsxs)(a("3hOY6").components.ValueContainer,{...t,xcss:"_yv0e5bpd _ca0q12x7 _n3td12x7 _19bvze3t _1reo15vq _18m91wug _1fjgglyw _c71l1osq _1suq1j28 _1ke8idpf",children:[(0,n.jsx)("div",{className:(0,a("gMc0m").default)(["_nd5l1kqh _19bv12x7 _vwz4idpf"]),children:this.renderAvatar()}),e]})})}constructor(...e){super(...e),i(this,"renderAvatar",()=>{let{hasValue:e,selectProps:{appearance:t,isFocused:r,inputValue:s,value:i,placeholderAvatar:l}}=this.props;if(r||!e){let e=o(s,i)?i.data:void 0;return e?.icon&&(0,a("dh538").fg)("atlaskit_user_picker_support_icon")?(0,n.jsx)(a("gElw0").AvatarOrIcon,{appearance:t,icon:e.icon,iconColor:e.iconColor,type:l,src:e.avatarUrl,avatarAppearanceShape:e&&(0,a("dh538").fg)("jira_ai_agent_avatar_user_picker_user_option")?(0,a("5sA9S").getAppearanceForAppType)(e.appType):void 0}):(0,n.jsx)(a("daWcu").SizeableAvatar,{appearance:t,type:l,src:e?.avatarUrl,avatarAppearanceShape:e&&(0,a("dh538").fg)("jira_ai_agent_avatar_user_picker_user_option")?(0,a("5sA9S").getAppearanceForAppType)(e.appType):void 0})}return null}),i(this,"onValueContainerClick",this.props.selectProps.onValueContainerClick),i(this,"Wrapper",({children:e})=>this.onValueContainerClick?(0,n.jsx)("div",{onMouseDown:this.onValueContainerClick,className:(0,a("gMc0m").default)(["_16jlkb7n"]),children:e}):e)}}t.exports.SingleValueContainer=l}),r("aoWT3",function(t,r){var n=a("l998X"),s=a("42omo");class i extends e(s).Component{componentDidMount(){this.ref&&this.ref.select()}render(){return(0,n.jsx)(a("gtKKr").Input,{...this.props,innerRef:this.handleInnerRef})}constructor(...e){super(...e),this.ref=null,this.handleInnerRef=e=>{this.ref=e,this.props.innerRef&&this.props.innerRef(e)}}}t.exports.PopupInput=i}),r("91jwt",function(t,r){var n=a("42omo");let s=(0,a("9K4OG").css)({display:"flex",flexDirection:"column",padding:"0px var(--ds-space-100, 8px) var(--ds-space-100, 8px)"}),i=(0,a("9K4OG").css)({color:`var(--ds-text-subtlest, ${a("6fnsQ").N200})`,font:'var(--ds-font-body-UNSAFE_small, normal 400 12px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)',fontWeight:"var(--ds-font-weight-semibold, 600)",paddingBottom:"var(--ds-space-050, 4px)",paddingLeft:"var(--ds-space-0, 0px)",paddingRight:"var(--ds-space-0, 0px)",paddingTop:"var(--ds-space-250, 20px)"});class o extends e(n).PureComponent{render(){let{selectProps:{popupTitle:e}}=this.props;return(0,a("9K4OG").jsx)("div",{css:s},(0,a("9K4OG").jsx)("div",{css:i},e),(0,a("9K4OG").jsx)(a("8LA5n").default,this.props))}}t.exports.PopupControl=o}),r("8LA5n",function(e,t){var r=a("l998X");a("42omo");let n={invalid:"_1h6d1bqt _4cvx1bqt",focused:"_1h6d1v1w _bfhk1j9a _4cvx1v1w _irr31j9a",disabled:"_irr3by5v",subtle:"_1h6d1j28 _bfhk1j28 _4cvx1j28 _irr31gly",root:"_ca0qidpf _u5f3idpf _n3tdidpf _19bvidpf _1h6drsbi _bfhk1j9a _p12f1osq _14regrf3 _4cvxrsbi _irr3l4ek _1a98zg3v",compact:"_1tke1wug"};e.exports.default=e=>{let t="compact"===e.appearance;return(0,r.jsx)(a("3hOY6").components.Control,{...e,xcss:(0,a("1bHXt").cx)(n.root,t&&n.compact,(e.selectProps.subtle||e.selectProps.noBorder)&&n.subtle,e.isFocused&&n.focused,e.isInvalid&&n.invalid,e.isDisabled&&n.disabled)})}}),r("8lAE4",function(t,r){var n=a("42omo");let s=()=>(0,a("9K4OG").css)({padding:"var(--ds-space-100, 8px) var(--ds-space-200, 16px)"});class i extends e(n).Component{render(){return(0,a("9K4OG").jsx)(a("3hOY6").components.Menu,this.props,this.props.selectProps.header,this.props.children,this.props.selectProps.footer&&(0,a("9K4OG").jsx)("div",{css:s()},this.props.selectProps.footer))}}t.exports.Menu=i}),r("dTofT",function(e,t){let r=["VALID","POTENTIAL"],n=(e=a("9xsgQ").isValidEmail)=>t=>t&&r.includes(e(t)),s=e=>({label:e,value:e,data:{id:e,name:e,type:a("RMvle").EmailType}}),i=e=>e?e.trim():"",o=(e=a("9xsgQ").isValidEmail)=>t=>(0,a("6O3OC").isEmail)(t.data)?"VALID"!==e(t.data.id):!!t.isDisabled,l=(0,a("2XqLN").default)(function(e){return{allowCreateWhileLoading:!0,createOptionPosition:"first",isValidNewOption:n(e),getNewOptionData:s,formatCreateLabel:i,isOptionDisabled:o(e)}});e.exports.getCreatableProps=l}),r("bYlb2",function(e,t){let r=["VALID","POTENTIAL"],n=e=>e&&e.length>0,s=(e=a("9xsgQ").isValidEmail,t)=>n=>{if(!n)return null;let s=n&&r.includes(e(n))?n:`${n.replace(/\s+/g,".").toLocaleLowerCase()}@${t}`;return{label:s,value:s,data:{id:s,name:s,type:a("RMvle").EmailType,suggestion:!0}}},i=e=>e?e.trim():"",o=(e=a("9xsgQ").isValidEmail)=>t=>(0,a("6O3OC").isEmail)(t.data)?"VALID"!==e(t.data.id):!!t.isDisabled,l=(0,a("2XqLN").default)((e,t)=>({allowCreateWhileLoading:!0,createOptionPosition:"last",isValidNewOption:n,getNewOptionData:s(t,e),formatCreateLabel:i,isOptionDisabled:o(t)}));e.exports.getCreatableSuggestedEmailProps=l}),r("39zOH",function(t,r){var n=a("l998X"),s=a("42omo");let i={},o=t=>{let[r,n]=e(s).useState(i);return e(s).useEffect(()=>{let e=!1;return n(i),(0,a("czxno").getMessagesForLocale)(t).then(t=>{e||n(t)}).catch(e=>{console.error(e)}),()=>{e=!0}},[t]),r};t.exports.default=e=>{let t=(0,a("8C5kA").default)(),{children:r}=e,i=o(t.locale),l=(0,s.useMemo)(()=>({...t.messages,...i}),[t.messages,i]);return(0,n.jsx)(a("1e2E5").default,{locale:t.locale,messages:l,children:r})}}),r("czxno",function(e,t){let r=async e=>{switch(e){case"cs":return a("gGm07").then(e=>e.default);case"da":return a("iMgoY").then(e=>e.default);case"de":return a("a2F4a").then(e=>e.default);case"en":return a("exio3").then(e=>e.default);case"en_GB":return a("ht5Af").then(e=>e.default);case"en_ZZ":return a("67KWz").then(e=>e.default);case"es":return a("2ITUY").then(e=>e.default);case"et":return a("bmV2y").then(e=>e.default);case"fi":return a("bDfHw").then(e=>e.default);case"fr":return a("l6Jrp").then(e=>e.default);case"hu":return a("5Fgxz").then(e=>e.default);case"is":return a("giE6R").then(e=>e.default);case"it":return a("aFqW6").then(e=>e.default);case"ja":return a("6qm5B").then(e=>e.default);case"ko":return a("4pTGn").then(e=>e.default);case"nb":return a("5KU7n").then(e=>e.default);case"nl":return a("6Q6st").then(e=>e.default);case"pl":return a("hfezP").then(e=>e.default);case"pt_BR":case"pt-BR":return a("5lXJD").then(e=>e.default);case"pt_PT":case"pt-PT":return a("3NE2V").then(e=>e.default);case"ro":return a("csvdv").then(e=>e.default);case"ru":return a("7xuSk").then(e=>e.default);case"sk":return a("43nDx").then(e=>e.default);case"sv":return a("iV5JJ").then(e=>e.default);case"th":return a("cnB93").then(e=>e.default);case"tr":return a("vqivz").then(e=>e.default);case"uk":return a("6yfCT").then(e=>e.default);case"vi":return a("1XdJ8").then(e=>e.default);case"zh_TW":return a("jUGvI").then(e=>e.default);case"zh":return a("cg7pQ").then(e=>e.default);default:{let t=e.split(/[_-]/);if(2===t.length)return r(t[0]);return a("exio3").then(e=>e.default)}}};e.exports.getMessagesForLocale=r}),r("gGm07",function(e,t){e.exports=a("4mJKd")(5)("9J4KV").then(()=>a("g1PaI"))}),r("iMgoY",function(e,t){e.exports=a("4mJKd")(5)("8Y9JE").then(()=>a("5cPWG"))}),r("a2F4a",function(e,t){e.exports=a("4mJKd")(5)("gWrRN").then(()=>a("1YU5Y"))}),r("exio3",function(e,t){e.exports=a("4mJKd")(5)("irKcy").then(()=>a("6aEWI"))}),r("ht5Af",function(e,t){e.exports=a("4mJKd")(5)("1aghR").then(()=>a("97wEb"))}),r("67KWz",function(e,t){e.exports=a("4mJKd")(5)("3jFnE").then(()=>a("F3yzi"))}),r("2ITUY",function(e,t){e.exports=a("4mJKd")(5)("11Khz").then(()=>a("ewRdG"))}),r("bmV2y",function(e,t){e.exports=a("4mJKd")(5)("ap0LY").then(()=>a("IpO3b"))}),r("bDfHw",function(e,t){e.exports=a("4mJKd")(5)("34Ma8").then(()=>a("cp7FA"))}),r("l6Jrp",function(e,t){e.exports=a("4mJKd")(5)("lBwDa").then(()=>a("kADLe"))}),r("5Fgxz",function(e,t){e.exports=a("4mJKd")(5)("32Pvr").then(()=>a("bVNYH"))}),r("giE6R",function(e,t){e.exports=a("4mJKd")(5)("b7bFd").then(()=>a("3MhWk"))}),r("aFqW6",function(e,t){e.exports=a("4mJKd")(5)("6h8Ae").then(()=>a("461Di"))}),r("6qm5B",function(e,t){e.exports=a("4mJKd")(5)("dW8Ws").then(()=>a("2gGqw"))}),r("4pTGn",function(e,t){e.exports=a("4mJKd")(5)("fJZdm").then(()=>a("b0fTR"))}),r("5KU7n",function(e,t){e.exports=a("4mJKd")(5)("kfTIE").then(()=>a("e3XiS"))}),r("6Q6st",function(e,t){e.exports=a("4mJKd")(5)("b8M9e").then(()=>a("k1tgV"))}),r("hfezP",function(e,t){e.exports=a("4mJKd")(5)("jMchi").then(()=>a("6tsQH"))}),r("5lXJD",function(e,t){e.exports=a("4mJKd")(5)("2xsmF").then(()=>a("8LiMQ"))}),r("3NE2V",function(e,t){e.exports=a("4mJKd")(5)("hHyCx").then(()=>a("5jasV"))}),r("csvdv",function(e,t){e.exports=a("4mJKd")(5)("gw4Pw").then(()=>a("9yLSY"))}),r("7xuSk",function(e,t){e.exports=a("4mJKd")(5)("8rhcn").then(()=>a("abrYV"))}),r("43nDx",function(e,t){e.exports=a("4mJKd")(5)("fh5Vk").then(()=>a("hBPGx"))}),r("iV5JJ",function(e,t){e.exports=a("4mJKd")(5)("aP4eD").then(()=>a("8ch0x"))}),r("cnB93",function(e,t){e.exports=a("4mJKd")(5)("aJWAE").then(()=>a("7qoEH"))}),r("vqivz",function(e,t){e.exports=a("4mJKd")(5)("b96A2").then(()=>a("6WyHk"))}),r("6yfCT",function(e,t){e.exports=a("4mJKd")(5)("g0ukK").then(()=>a("1CggD"))}),r("1XdJ8",function(e,t){e.exports=a("4mJKd")(5)("8DuKk").then(()=>a("d2VHY"))}),r("jUGvI",function(e,t){e.exports=a("4mJKd")(5)("5aSRq").then(()=>a("f5vpO"))}),r("cg7pQ",function(e,t){e.exports=a("4mJKd")(5)("eQT38").then(()=>a("5Olm2"))}),r("aahZc",function(e,t){var r=a("l998X"),n=a("42omo");let s=(0,n.createContext)({});e.exports.ExusUserSourceProvider=({fetchUserSource:e,children:t})=>(0,r.jsx)(s.Provider,{value:{fetchUserSource:e},children:t}),e.exports.useUserSource=(e,t,a)=>{let{fetchUserSource:r}=(0,n.useContext)(s),[i,o]=(0,n.useState)([]),[l,c]=(0,n.useState)(!0),[d,u]=(0,n.useState)(null),p=(0,n.useMemo)(()=>{if("undefined"!=typeof AbortController)return new AbortController},[]);return(0,n.useEffect)(()=>{let a=!0,n=()=>{p?.abort(),a=!1};return r&&t?r(e,p?.signal).then(e=>{a&&(c(!1),o(e.map(e=>e.sourceType)))}).catch(e=>{a&&(c(!1),u(e))}):c(!1),n},[r,e,p,t]),(0,n.useMemo)(()=>({sources:Array.from(new Set([...a??[],...i])),loading:l,error:d}),[d,a,i,l])}}),r("7rus4",function(e,t){var r=a("l998X");a("42omo"),e.exports.default=e=>{let t=e.inputId||e.fieldId;return(0,a("hnmbx").useUFOConcurrentExperience)(a("hnmbx").smartUserPickerRenderedUfoExperience,t),(0,r.jsx)(a("hnmbx").UfoErrorBoundary,{id:t,children:(0,r.jsx)(a("44RZm").default,{children:(0,r.jsx)(a("8JuIs").SmartUserPicker,{...e})})})}}),r("8JuIs",function(t,r){var n=a("l998X"),s=a("42omo"),i=a("jSnXV"),o=a("dQl1W");let l=e=>({metadata:{contextType:e}}),c=(e,t)=>e.siteId!==t.siteId||e.orgId!==t.orgId||e.productKey!==t.productKey||e.principalId!==t.principalId||e.containerId!==t.containerId||e.objectId!==t.objectId||e.childObjectId!==t.childObjectId,d=(e,t)=>null!=e&&(null===t||""===t||void 0===t||e.toLowerCase().includes(t.toLowerCase())),u=e=>(e||[]).map(({id:e,type:t})=>({id:e,type:t})),p=e=>500<=e&&e<600,m=e=>"VALID"===(0,a("9xsgQ").isValidEmail)(e.trim());class f extends e(s).Component{async componentDidMount(){try{let e=await (0,a("52K9w").default)(this.props.baseUrl,this.props.defaultValue,this.props.productKey,this.props.siteId);this.setState({defaultValue:e})}catch(t){let e=await (this.props.onValueError&&this.props.onValueError(t,this.props.defaultValue)||Promise.resolve([]));this.setState({defaultValue:e})}let{prefetch:e}=this.props;if(e){let e=(0,o.v4)();this.fireEvent(a("8CB5E").mountedWithPrefetchEvent,{sessionId:e}),this.setState({sessionId:e})}}componentDidUpdate(e,t){(c(e,this.props)||this.props.fieldId!==e.fieldId)&&this.setState({users:[]}),this.state.sessionId===t.sessionId&&this.state.query===t.query||""===this.state.query&&this.props.bootstrapOptions?this.state.closed||this.state.loading||[a("28cxD").UFOExperienceState.FAILED.id,a("28cxD").UFOExperienceState.SUCCEEDED.id,a("28cxD").UFOExperienceState.ABORTED.id].includes(this.optionsShownUfoExperienceInstance.state.id)||this.optionsShownUfoExperienceInstance.success(l(this.props.fieldId)):this.getUsers()}render(){let{allowEmail:e,enableEmailSearch:t,allowEmailSelectionWhenEmailMatched:r,...s}=this.props,i=e;return e&&t&&!r&&(i=!m(this.state.query)||!this.lastEmailSearchFoundMatches),(0,n.jsx)(a("44RZm").default,{children:(0,n.jsx)(a("kSKAi").UserPicker,{...s,allowEmail:i,onInputChange:this.onInputChange,onBlur:this.onBlur,onFocus:this.onFocus,defaultValue:this.state.defaultValue,isLoading:this.props.isLoading||this.state.loading&&!this.state.closed&&(!this.props.bootstrapOptions||""!==this.state.query),options:this.filterUsers(),menuIsOpen:this.props.menuIsOpen})})}constructor(t){super(t),this.state={users:[],loading:!1,closed:!0,query:"",defaultValue:[],bootstrapOptions:[]},this.lastEmailSearchFoundMatches=!1,this.optionsShownUfoExperienceInstance=void 0,this.abortOptionsShownUfoExperience=()=>{this.optionsShownUfoExperienceInstance.state.id===a("28cxD").UFOExperienceState.STARTED.id&&this.optionsShownUfoExperienceInstance.abort()},this.startOptionsShownUfoExperience=()=>{this.abortOptionsShownUfoExperience(),this.optionsShownUfoExperienceInstance.start()},this.fireEvent=(e,...t)=>{let{createAnalyticsEvent:r}=this.props;r&&(0,a("8CB5E").createAndFireEventInElementsChannel)(e(this.props,this.state,...t))(r)},this.filterOptions=(e,t,a)=>a?a(e,t):e,this.memoizedFilterOptions=(0,a("2XqLN").default)(this.filterOptions),this.getUsers=e(i)(async()=>{let{query:e,sessionId:t,closed:r}=this.state,{baseUrl:n,childObjectId:s,containerId:i,fieldId:o,includeGroups:c,includeTeams:d,includeTeamsUpdates:f,includeUsers:g,includeNonLicensedUsers:h,intl:E,maxOptions:b,objectId:_,onEmpty:y,onError:v,overrideByline:S,displayEmailInByline:A,orgId:C,principalId:I,productAttributes:T,productKey:x,searchQueryFilter:k,siteId:R,transformOptions:O,userResolvers:w,enableEmailSearch:L}=this.props,P=window.performance.now(),D=L&&m(e),M={baseUrl:n,context:{containerId:i,contextType:o,objectId:_,principalId:I,productKey:x,siteId:R,organizationId:C,childObjectId:s,sessionId:t,productAttributes:T},includeUsers:g,includeGroups:c,includeTeams:d,includeNonLicensedUsers:h,maxNumberOfResults:b||100,query:e,searchEmail:D,searchQueryFilter:D&&!k?"(NOT not_mentionable:true) AND (account_status:active) AND (NOT account_type:app)":k};try{let e,{query:t}=this.state;if(this.fireEvent(a("8CB5E").requestUsersEvent),(0,a("dh538").fg)("twcg-444-invite-usd-improvements-m2-gate")){let r=(0,a("5kTPO").default)(M,E),n=(w??[]).map(e=>e(t).catch(t=>(this.fireEvent(a("8CB5E").failedUserResolversEvent,{resolverName:e.name,error:t}),[]))),[s,...i]=await Promise.all([r,...n]);e=[s,...i].flat()}else e=await (0,a("5kTPO").default)(M,E);if(S)for(let t of e)((0,a("6O3OC").isUser)(t)||(0,a("6O3OC").isExternalUser)(t)||(0,a("6O3OC").isTeam)(t))&&(t.byline=S(t));if(A)for(let t of e)((0,a("6O3OC").isUser)(t)||(0,a("6O3OC").isExternalUser)(t))&&(t.userType===a("b4tkb").UserEntityType.DEFAULT||t.userType===a("b4tkb").UserEntityType.CUSTOMER)&&t.email&&!t.byline&&(t.byline=t.email);if(f)for(let t of e)((0,a("6O3OC").isGroup)(t)||(0,a("6O3OC").isTeam)(t))&&(t.includeTeamsUpdates=f);D?this.lastEmailSearchFoundMatches=e.length>0:this.lastEmailSearchFoundMatches=!1;let r=window.performance.now()-P,n=O?await O(e,t):e,s=0===n.length&&y?await y(t)??[]:n;this.setState(n=>{let i=n.query===t,o=i?s:n.users,l=!i;return this.fireEvent(a("8CB5E").successfulRequestUsersEvent,{users:u(e),elapsedTimeMilli:r,displayedUsers:u(s),productAttributes:T,applicable:i,...(0,a("dh538").fg)("twcg-444-invite-usd-improvements-m2-gate")&&{userResolvers:Array.isArray(w)?w.map(e=>e.name):[]}}),{users:o,loading:l}})}catch(i){let e=p(i.statusCode);r||v||!e||this.optionsShownUfoExperienceInstance.failure(l(this.props.fieldId)),this.setState({users:[]});let t=!1,n=[];try{n=v&&await v(i,M)||[]}catch(e){t=!0}t&&e&&this.optionsShownUfoExperienceInstance.failure(l(this.props.fieldId)),e||(v||r)&&!t||this.abortOptionsShownUfoExperience(),this.setState({users:n,loading:!1});let s=window.performance.now()-P;this.fireEvent(a("8CB5E").failedRequestUsersEvent,{elapsedTimeMilli:s,productAttributes:T})}},this.props.debounceTime??0),this.onInputChange=(e,t)=>{let a=e||"",{closed:r}=this.state;a!==this.state.query&&!r&&(this.startOptionsShownUfoExperience(),this.setState({loading:!0,query:a,sessionId:t}),this.props.onInputChange&&this.props.onInputChange(a,t))},this.filterUsers=()=>{let{loading:e,users:t,query:r}=this.state,n=this.memoizedFilterOptions(t,r,this.props.filterOptions);if(this.props.bootstrapOptions&&0!==this.props.bootstrapOptions.length&&""===r){let e=this.memoizedFilterOptions(this.props.bootstrapOptions,r,this.props.filterOptions);return this.fireEvent(a("8CB5E").filterUsersEvent,{filtered:u(e),all:u(this.props.bootstrapOptions)}),e}if(!e)return n;let s=n.filter(e=>d(e.name,r));return this.fireEvent(a("8CB5E").filterUsersEvent,{filtered:u(s),all:u(t)}),n},this.onFocus=e=>{let t={closed:!1};this.startOptionsShownUfoExperience(),0===this.state.users.length?(t.sessionId=e,t.loading=!0):this.fireEvent(a("8CB5E").preparedUsersLoadedEvent,{users:u(this.state.users),preparedSessionId:this.state.sessionId,sessionId:e}),this.setState(e=>({...e,...t})),this.props.onFocus&&this.props.onFocus(e)},this.onBlur=e=>{this.getUsers.cancel(),this.abortOptionsShownUfoExperience();let t=0===this.state.query.length?this.state.users:[];this.setState({loading:!1,closed:!0,users:t}),this.props.onBlur&&this.props.onBlur(e)},this.optionsShownUfoExperienceInstance=a("hnmbx").smartUserPickerOptionsShownUfoExperience.getInstance(t.inputId||t.fieldId)}}f.defaultProps={baseUrl:"",includeUsers:!0,includeGroups:!1,includeTeams:!1,includeTeamsUpdates:!1,includeNonLicensedUsers:!1,displayEmailInByline:!1,prefetch:!1,principalId:"Context",debounceTime:150,userResolvers:[],enableEmailSearch:!1,allowEmailSelectionWhenEmailMatched:!0};let g=(0,a("1DWH0").default)()((0,a("gmMgo").default)(f));t.exports.SmartUserPicker=g}),r("8CB5E",function(e,t){a("dQl1W");let r=(0,a("eWRwJ").default)("fabric-elements"),n=(e,t,a,r={})=>({eventType:e,action:t,actionSubject:a,attributes:{packageName:"platform-pkg",packageVersion:"0.0.0-use.local",...r}}),s=(e,t)=>{let{fieldId:a,objectId:r,containerId:n,childObjectId:s,prefetch:i,maxOptions:o,includeTeams:l,productKey:c,principalId:d,siteId:u,orgId:p,filterOptions:m}=e,{sessionId:f,query:g}=t;return{context:a,childObjectId:s,containerId:n,hasFilterOptions:!!m,includeTeams:l,maxNumberOfResults:o||100,objectId:r,prefetch:i,principalId:d,productKey:c,queryLength:(g||"").length,siteId:u,orgId:p,sessionId:f}},i=(e,t,a={})=>({source:"smart-user-picker",...n("operational",e,t,a)});e.exports.createAndFireEventInElementsChannel=r,e.exports.preparedUsersLoadedEvent=(e,t,a={})=>i("loaded","preparedUsers",{...s(e,t),...a}),e.exports.mountedWithPrefetchEvent=(e,t,a={})=>i("mounted","prefetch",{...s(e,t),...a}),e.exports.filterUsersEvent=(e,t,a={})=>i("filtered","users",{...s(e,t),...a}),e.exports.requestUsersEvent=(e,t,a={})=>i("requested","users",{...s(e,t),...a}),e.exports.successfulRequestUsersEvent=(e,t,a={})=>i("successful","usersRequest",{...s(e,t),...a}),e.exports.failedRequestUsersEvent=(e,t,a={})=>i("failed","usersRequest",{...s(e,t),...a}),e.exports.failedUserResolversEvent=(e,t,a={})=>i("failed","userResolversRequest",{...s(e,t),...a})}),r("44RZm",function(r,n){t(r.exports,"default",()=>c);var s=a("l998X"),i=a("42omo");let o={},l=t=>{let[r,n]=e(i).useState(o);return e(i).useEffect(()=>{let e=!1;return n(o),(0,a("lRpQD").getMessagesForLocale)(t).then(t=>{e||n(t)}).catch(e=>{console.error(e)}),()=>{e=!0}},[t]),r};var c=(0,a("gmMgo").default)(e=>{let{intl:t,children:r}=e,n=l(t.locale),o=(0,i.useMemo)(()=>({...t.messages,...n}),[t.messages,n]);return(0,s.jsx)(a("1e2E5").default,{locale:t.locale,messages:o,children:r})})}),r("lRpQD",function(e,t){let r=async e=>{switch(e){case"cs":return a("bTsn1").then(e=>e.default);case"da":return a("6GCvk").then(e=>e.default);case"de":return a("aVRkS").then(e=>e.default);case"en":return a("9RUlw").then(e=>e.default);case"en_GB":return a("9qWAB").then(e=>e.default);case"es":return a("hwi20").then(e=>e.default);case"et":return a("ffmF0").then(e=>e.default);case"fi":return a("7akr7").then(e=>e.default);case"fr":return a("dG5bn").then(e=>e.default);case"hu":return a("ixFnS").then(e=>e.default);case"is":return a("b4pNT").then(e=>e.default);case"it":return a("jY0MO").then(e=>e.default);case"ja":return a("OdTh3").then(e=>e.default);case"ko":return a("9xDn8").then(e=>e.default);case"nb":return a("edhsD").then(e=>e.default);case"nl":return a("6HDVJ").then(e=>e.default);case"pl":return a("a1EUA").then(e=>e.default);case"pt_BR":case"pt-BR":return a("6eF92").then(e=>e.default);case"pt_PT":case"pt-PT":return a("e84Bi").then(e=>e.default);case"ro":return a("i6OJ2").then(e=>e.default);case"ru":return a("b2Ob5").then(e=>e.default);case"sk":return a("epyll").then(e=>e.default);case"sv":return a("87x5R").then(e=>e.default);case"th":return a("gKeCQ").then(e=>e.default);case"tr":return a("ViznQ").then(e=>e.default);case"uk":return a("gRnrF").then(e=>e.default);case"vi":return a("fTMVb").then(e=>e.default);case"zh_TW":return a("5RDfj").then(e=>e.default);case"zh":return a("g6dca").then(e=>e.default);default:{let t=e.split(/[_-]/);if(2===t.length)return r(t[0]);return a("9RUlw").then(e=>e.default)}}};e.exports.getMessagesForLocale=r}),r("bTsn1",function(e,t){e.exports=a("4mJKd")(5)("9J4KV").then(()=>a("cn04M"))}),r("6GCvk",function(e,t){e.exports=a("4mJKd")(5)("8Y9JE").then(()=>a("1zktf"))}),r("aVRkS",function(e,t){e.exports=a("4mJKd")(5)("gWrRN").then(()=>a("8wiEy"))}),r("9RUlw",function(e,t){e.exports=a("4mJKd")(5)("irKcy").then(()=>a("gOk31"))}),r("9qWAB",function(e,t){e.exports=a("4mJKd")(5)("1aghR").then(()=>a("fy2oQ"))}),r("hwi20",function(e,t){e.exports=a("4mJKd")(5)("11Khz").then(()=>a("5oLnX"))}),r("ffmF0",function(e,t){e.exports=a("4mJKd")(5)("ap0LY").then(()=>a("lsKPD"))}),r("7akr7",function(e,t){e.exports=a("4mJKd")(5)("34Ma8").then(()=>a("qBAp9"))}),r("dG5bn",function(e,t){e.exports=a("4mJKd")(5)("lBwDa").then(()=>a("iwM0U"))}),r("ixFnS",function(e,t){e.exports=a("4mJKd")(5)("32Pvr").then(()=>a("emQB1"))}),r("b4pNT",function(e,t){e.exports=a("4mJKd")(5)("b7bFd").then(()=>a("gsrSx"))}),r("jY0MO",function(e,t){e.exports=a("4mJKd")(5)("6h8Ae").then(()=>a("fy2dB"))}),r("OdTh3",function(e,t){e.exports=a("4mJKd")(5)("dW8Ws").then(()=>a("gaGnN"))}),r("9xDn8",function(e,t){e.exports=a("4mJKd")(5)("fJZdm").then(()=>a("h47Xp"))}),r("edhsD",function(e,t){e.exports=a("4mJKd")(5)("kfTIE").then(()=>a("kPwYW"))}),r("6HDVJ",function(e,t){e.exports=a("4mJKd")(5)("b8M9e").then(()=>a("2ghCe"))}),r("a1EUA",function(e,t){e.exports=a("4mJKd")(5)("jMchi").then(()=>a("5Dvg5"))}),r("6eF92",function(e,t){e.exports=a("4mJKd")(5)("2xsmF").then(()=>a("7JChl"))}),r("e84Bi",function(e,t){e.exports=a("4mJKd")(5)("hHyCx").then(()=>a("iYJQV"))}),r("i6OJ2",function(e,t){e.exports=a("4mJKd")(5)("gw4Pw").then(()=>a("8RsTW"))}),r("b2Ob5",function(e,t){e.exports=a("4mJKd")(5)("8rhcn").then(()=>a("cpBhe"))}),r("epyll",function(e,t){e.exports=a("4mJKd")(5)("fh5Vk").then(()=>a("1qgZZ"))}),r("87x5R",function(e,t){e.exports=a("4mJKd")(5)("aP4eD").then(()=>a("bkrR7"))}),r("gKeCQ",function(e,t){e.exports=a("4mJKd")(5)("aJWAE").then(()=>a("7VxDp"))}),r("ViznQ",function(e,t){e.exports=a("4mJKd")(5)("b96A2").then(()=>a("aq3KW"))}),r("gRnrF",function(e,t){e.exports=a("4mJKd")(5)("g0ukK").then(()=>a("djjDV"))}),r("fTMVb",function(e,t){e.exports=a("4mJKd")(5)("8DuKk").then(()=>a("7D0E8"))}),r("5RDfj",function(e,t){e.exports=a("4mJKd")(5)("5aSRq").then(()=>a("cU76k"))}),r("g6dca",function(e,t){e.exports=a("4mJKd")(5)("eQT38").then(()=>a("5c5SM"))}),r("b4tkb",function(e,t){var a,r,n=((a={}).USER="USER",a.TEAM="TEAM",a.GROUP="GROUP",a),s=((r={}).DEFAULT="DEFAULT",r.APP="APP",r.CUSTOMER="CUSTOMER",r.SYSTEM="SYSTEM",r);e.exports.EntityType=n,e.exports.UserEntityType=s}),r("5kTPO",function(e,t){e.exports.default=(e,t)=>fetch(a("g2dtt").config.getRecommendationServiceUrl(e.baseUrl||""),{method:"POST",credentials:"include",headers:{"content-type":"application/json"},body:JSON.stringify({context:e.context,includeUsers:e.includeUsers,includeGroups:e.includeGroups,includeTeams:e.includeTeams,includeNonLicensedUsers:e.includeNonLicensedUsers,maxNumberOfResults:e.maxNumberOfResults,performSearchQueryOnly:!1,searchQuery:{cpusQueryHighlights:{query:"",field:""},...e.context?.productAttributes?.isEntitledConfluenceExternalCollaborator&&{productAccessPermissionIds:["write","external-collaborator-write"]},customQuery:"",customerDirectoryId:"",filter:e.searchQueryFilter||"",minimumAccessLevel:"APPLICATION",queryString:e.query,restrictTo:{userIds:[],groupIds:[]},searchUserbase:!1,searchEmail:e.searchEmail}})}).then(e=>200===e.status?e.json():Promise.reject({message:`error calling smart service, statusCode=${e.status}, statusText=${e.statusText}`,statusCode:e.status})).then(e=>(0,a("74ZOc").transformUsers)(e,t))}),r("74ZOc",function(e,t){let r=(e,t)=>{if(e.attributes?.workspaceMember)return t.formatMessage(a("bicYK").messages.memberLozengeText);if(e.attributes?.isConfluenceExternalCollaborator){let r=e.entityType===a("b4tkb").EntityType.GROUP?a("bicYK").messages.guestGroupLozengeTooltip:a("bicYK").messages.guestUserLozengeTooltip;return{text:t.formatMessage(a("bicYK").messages.guestLozengeText),tooltip:t.formatMessage(r),appearance:"default"}}},n=(e,t)=>{let n=e.entityType;if(n===a("b4tkb").EntityType.USER){let n=r(e,t);return{id:e.id,type:e.nonLicensedUser?a("RMvle").ExternalUserType:a("RMvle").UserType,userType:e.userType,avatarUrl:e.avatarUrl,name:e.name,email:e.email,title:e.title,lozenge:n,tooltip:e.name,isExternal:!!e.nonLicensedUser,sources:e.nonLicensedUser?["other-atlassian"]:void 0}}if(n===a("b4tkb").EntityType.TEAM)return{id:e.id,type:a("RMvle").TeamType,description:e.description||"",name:e.displayName||"",memberCount:e.memberCount,members:e.members,includesYou:e.includesYou,avatarUrl:e.largeAvatarImageUrl||e.smallAvatarImageUrl,tooltip:e.displayName,verified:e.verified};if(n===a("b4tkb").EntityType.GROUP){let n=r(e,t);return{id:e.id,type:a("RMvle").GroupType,name:e.name||"",lozenge:n}}};e.exports.transformUsers=(e,t)=>(e.recommendedUsers||[]).map(e=>n(e,t)).filter(e=>!!e).map(e=>e)}),r("bicYK",function(e,t){let r=(0,a("cgtv4").defineMessages)({externalUserSourcesHeading:{id:"fabric.elements.user-picker.external.sourced.from",defaultMessage:"Found in:"},slackProvider:{id:"fabric.elements.user-picker.slack.provider",defaultMessage:"Slack"},googleProvider:{id:"fabric.elements.user-picker.google.provider",defaultMessage:"Google"},microsoftProvider:{id:"fabric.elements.user-picker.microsoft.provider",defaultMessage:"Microsoft"},gitHubProvider:{id:"fabric.elements.user-picker.github.provider",defaultMessage:"GitHub"},memberLozengeText:{id:"fabric.elements.user-picker.member.lozenge.text",defaultMessage:"MEMBER"},guestLozengeText:{id:"fabric.elements.user-picker.guest.lozenge.text",defaultMessage:"GUEST"},guestUserLozengeTooltip:{id:"fabric.elements.user-picker.guest.lozenge.tooltip.user",defaultMessage:"Guests can only access certain spaces and have limited access to user info."},guestGroupLozengeTooltip:{id:"fabric.elements.user-picker.guest.lozenge.tooltip.group",defaultMessage:"Guest groups can only access certain spaces and have limited access to user info."}});e.exports.messages=r}),r("g2dtt",function(e,t){e.exports.config={getRecommendationServiceUrl:e=>e?`${e}/gateway/api/v1/recommendations`:"/gateway/api/v1/recommendations",getUsersServiceUrl:(e,t="")=>"jira"===e?`${t}/rest/api/3/user/bulk`:`${t}/wiki/rest/api/user/bulk`,getGraphQLUrl:e=>e?`${e}/gateway/api/graphql`:"/gateway/api/graphql",getTeamsUrl:(e,t,a)=>t?`${t}/gateway/api/v4/teams/${e}?siteId=${a??"None"}`:`/gateway/api/v4/teams/${e}?siteId=${a??"None"}`}}),r("52K9w",function(e,t){let r=e=>{let t=`${a("g2dtt").config.getUsersServiceUrl(e.productKey,e.baseUrl)}`,r=new URLSearchParams;return e.accountIds.map(e=>r.append("accountId",e)),r.append("maxResults","2000"),fetch(`${t}?${r}`,{method:"GET",credentials:"include",headers:{"content-type":"application/json"}}).then(e=>200===e.status?e.json():Promise.reject({message:`error calling users service, statusCode=${e.status}, statusText=${e.statusText}`})).then("jira"===e.productKey?n:i)},n=e=>e.values.map(s).filter(e=>!!e).map(e=>e),s=e=>e?{id:e.accountId,type:a("RMvle").UserType,avatarUrl:e.avatarUrls?e.avatarUrls["16x16"]:"",name:e.displayName,email:e.emailAddress}:null,i=e=>e.results.map(o).filter(e=>!!e).map(e=>e),o=e=>e?{id:e.accountId,type:a("RMvle").UserType,avatarUrl:e.profilePicture?e.profilePicture.path:"",name:e.publicName,email:e.email}:null,l=(e,t)=>{let r=new Map(e.map(e=>[e&&e.id,e]));return t.map(e=>{let t=r.get(e.id);return t||{id:e.id,type:e.type,name:a("1h51z").UNKNOWN}})},c=e=>void 0!==e.name,d=async(e,t,r)=>{if(0===t.length)return[];let n=t.map(t=>(0,a("byRSb").default)({baseUrl:e,id:t.id,siteId:r}));return await Promise.all(n)},u=async(e,t,n)=>{if(0===n.length)return[];let s=n.map(e=>e.id);return"jira"===t||"confluence"===t?await r({baseUrl:e,productKey:t,accountIds:s}):await (0,a("5tNjN").default)(e,s)};async function p(e,t,a,r){if(!t||Array.isArray(t)&&0===t.length)return[];let n=Array.isArray(t)?t:[t];if(!n.some(e=>!c(e)))return t;let[s,i]=await Promise.all([u(e,a,n.filter(e=>!c(e)&&"user"===e.type)),d(e,n.filter(e=>!c(e)&&"team"===e.type),r)]);return l(n.filter(e=>c(e)).map(e=>e).concat(s).concat(i),n)}e.exports.default=p}),r("5tNjN",function(e,t){let r=e=>({query:`query usersQuery($accountIds: [ID!]!) {
    users(accountIds: $accountIds) {
      name
      accountId
      picture
    }
  }`,variables:{accountIds:e}}),n=async(e,t)=>{let n=r(t);return await (0,a("5y06K").graphqlQuery)(e,n)},s=e=>e.map(({accountId:e,name:t,picture:a})=>({avatarUrl:a,id:e,name:t,type:"user"}));e.exports.default=(e,t)=>{let r=a("g2dtt").config.getGraphQLUrl(e);return new Promise(e=>{n(r,t).then(t=>{e(s(t.users))}).catch(()=>{e(t.map(e=>({...a("1h51z").UNKNOWN_USER,id:e})))})})}}),r("1h51z",function(e,t){let a="Unknown";e.exports.UNKNOWN=a,e.exports.UNKNOWN_USER={id:a,name:a,type:"user"},e.exports.UNKNOWN_TEAM={id:a,name:a,type:"team"}}),r("5y06K",function(e,t){let a=()=>{let e=new Headers;return e.append("Content-Type","application/json"),e};e.exports.graphqlQuery=function(e,t){return fetch(new Request(`${e}`,{method:"POST",credentials:"include",mode:"cors",headers:a(),body:JSON.stringify(t)})).then(e=>e.ok?e:Promise.reject({code:e.status,reason:e.statusText})).then(e=>e.json()).then(e=>e.errors?Promise.reject({reason:e.errors[0]?.category||"default"}):e.data)}}),r("byRSb",function(e,t){let r=(e,t)=>({id:t,name:e.displayName,type:"team",avatarUrl:e.smallAvatarImageUrl});e.exports.default=e=>fetch(a("g2dtt").config.getTeamsUrl(e.id,e.baseUrl,e.siteId),{method:"GET",credentials:"include",headers:{"content-type":"application/json"}}).then(e=>200===e.status?e.json():Promise.reject({message:`error calling Legion, statusCode=${e.status}, statusText=${e.statusText}`})).then(t=>r(t,e.id)).catch(()=>({...a("1h51z").UNKNOWN_TEAM,id:e.id}))}),r("hnmbx",function(t,r){var n=a("42omo");let s="smart-user-picker",i=new(0,a("9801n").ConcurrentExperience)("smart-user-picker-rendered",{platform:{component:s},type:a("iqaft").ExperienceTypes.Load,performanceType:a("iqaft").ExperiencePerformanceTypes.PageSegmentLoad}),o=new(0,a("9801n").ConcurrentExperience)("smart-user-picker-options-shown",{platform:{component:s},type:a("iqaft").ExperienceTypes.Operation,performanceType:a("iqaft").ExperiencePerformanceTypes.InlineResult});class l extends e(n).Component{componentDidCatch(){i.getInstance(this.props.id).failure()}render(){return this.props.children}}t.exports.smartUserPickerRenderedUfoExperience=i,t.exports.smartUserPickerOptionsShownUfoExperience=o,t.exports.useUFOConcurrentExperience=(e,t)=>{let r=e.getInstance(t);(0,n.useState)(()=>{r.start()}),(0,n.useEffect)(()=>(r.state!==a("28cxD").UFOExperienceState.FAILED&&r.success(),()=>{[a("28cxD").UFOExperienceState.STARTED,a("28cxD").UFOExperienceState.IN_PROGRESS].includes(r.state)&&r.abort()}),[])},t.exports.UfoErrorBoundary=l}),r("83Z6R",function(e,t){var r=a("42omo");e.exports.useLazyQueryPromiseInterop=function(...[e,t]){let n=(0,r.useRef)(),[s,{data:i,error:o}]=(0,a("jxs8y").useLazyQuery)((0,a("86okN").toDocumentNode)(e),t);return(0,r.useEffect)(()=>{i&&n.current?.resolve?.(i),o&&n.current?.reject?.(o)},[i,o]),(0,r.useCallback)(e=>{let t,a,r=new Promise((e,r)=>{t=e,a=r});return n.current={resolve:t,reject:a},s(e),r},[s])}}),r("jjoF2",function(e,t){e.exports.userGroupSearchPromise=({searchTerm:e,queryData:t,customInclusion:r,setError:n,filterResults:s})=>{let i="userAndGroupSearchQuery";return(0,a("9eE57").perfMarkStart)({subject:i}),t.then(t=>{let{users:n=[],groups:o=[]}=t.userGroupSearch??{},l=n.map(e=>({id:`user-${e&&"accountId"in e?e.accountId:""}`,name:e?.displayName||"",extra:e,type:"user",avatarUrl:e?.profilePicture?e.profilePicture.path:"",lozenge:e?.permissionType===a("g3p2i").SitePermissionType.EXTERNAL?a("9fywD").ExternalUserLozengeProps:null})),c=o.map(e=>({id:`group-${e?.id}`,name:e?.name||"",type:"group",extra:e,lozenge:e?.permissionType===a("g3p2i").SitePermissionType.EXTERNAL?a("11dKl").ExternalGroupLozengeProps:null})),d=[],u=e.replace(/\s/g,"").toLowerCase();r.forEach(e=>{Object.keys(e).forEach(t=>{t.toLowerCase().includes(u)&&d.push(e[t])})});let p=[...d,...l,...c];return(0,a("9eE57").perfMarkEnd)({subject:i}),s?p.filter(s):p}).catch(e=>(n(e),[]))}}),r("9fywD",function(t,r){var n=a("42omo");let s=(0,a("cgtv4").defineMessages)({externalUserLozengeText:{id:"external-collab-ui.user-guest-lozenge",defaultMessage:"Guest"},guestUserTooltip:{id:"external-collab-ui.user-guest-lozenge.tooltip",defaultMessage:"Guests can only access certain spaces and have limited access to user info."}}),i={text:e(n).createElement(a("3gadb").default,{content:e(n).createElement(a("gtD4K").default,s.guestUserTooltip)},e(n).createElement(a("gtD4K").default,s.externalUserLozengeText)),appearance:"default",isBold:!1};t.exports.ExternalUserLozengeProps=i,t.exports.ExternalUserLozenge=()=>{let{text:t,appearance:r,isBold:s}=i;return e(n).createElement(a("5nBzc").default,{appearance:r,isBold:s},t)}}),r("11dKl",function(t,r){var n=a("42omo");let s=(0,a("cgtv4").defineMessages)({externalGroupLozengeText:{id:"external-collab-ui.group-guest-lozenge",defaultMessage:"Guest"},externalGroupTooltip:{id:"external-collab-ui.group-guest-lozenge.tooltip",defaultMessage:"Guest groups can only access certain spaces and have limited access to user info."}}),i={text:e(n).createElement(a("3gadb").default,{content:e(n).createElement(a("gtD4K").default,s.externalGroupTooltip)},e(n).createElement(a("gtD4K").default,s.externalGroupLozengeText)),appearance:"new",isBold:!1};t.exports.ExternalGroupLozengeProps=i}),r("g3p2i",function(e,t){var a,r,n=((a={}).ANONYMOUS="ANONYMOUS",a.APP="APP",a.EXTERNAL="EXTERNAL",a.INTERNAL="INTERNAL",a.JSD="JSD",a),s=((r={}).ALL="ALL",r.EXTERNALCOLLABORATOR="EXTERNALCOLLABORATOR",r.NONE="NONE",r);e.exports.SitePermissionType=n,e.exports.SitePermissionTypeFilter=s}),r("6RGMW",function(e,t){let r=(0,a("eSUdr").default)`query UserAndGroupSearchQuery($searchTerm:String!$maxResults:Int=50$withGroups:Boolean=true$withUsers:Boolean=true$sitePermissionTypeFilter:SitePermissionTypeFilter=NONE){userGroupSearch(query:$searchTerm maxResults:$maxResults sitePermissionTypeFilter:$sitePermissionTypeFilter){users@include(if:$withUsers){type displayName permissionType profilePicture{path}...on KnownUser{accountId}}groups@include(if:$withGroups){id name permissionType}}}`;e.exports.UserAndGroupSearchQuery=r}),r("d4Pk4",function(e,t){var r={qualifier:"ari",platformQualifier:"cloud",cloudId:RegExp("^$"),resourceOwner:a("94jtO").PlatformSiteAriResourceOwner,resourceType:a("94jtO").PlatformSiteAriResourceType,resourceIdSlug:"{siteId}",resourceIdSegmentFormats:{siteId:/[a-zA-Z0-9_\-.]{1,255}/}},n=class e extends a("3NXcb").RegisteredAri{get siteId(){return this._siteId}static create(t){let n={qualifier:r.qualifier,platformQualifier:r.platformQualifier,cloudId:void 0,resourceOwner:r.resourceOwner,resourceType:r.resourceType,resourceId:`${t.siteId}`,resourceIdSegmentValues:{siteId:t.siteId}};return new e(a("6yCpa").AriParser.fromOpts(n,r))}static parse(t){return new e(a("6yCpa").AriParser.fromString(t,r))}getVariables(){return{siteId:this.siteId}}constructor(e){super(e),this._siteId=e.resourceIdSegmentValues.siteId}};e.exports.PlatformSiteAri=n}),r("94jtO",function(e,t){e.exports.PlatformSiteAriResourceOwner="platform",e.exports.PlatformSiteAriResourceType="site"}),r("eZLpN",function(e,t){e.exports.useExperimentalLazyQuery=function({url:e,method:t,headers:r,body:n,credentials:s,parseResult:i,onCompleted:o,onError:l,transformError:c,fetchPolicy:d="cache-first",variables:u,pollInterval:p}){let{fetchData:m}=(0,a("1GTIR").useFetchData)({url:e,method:t,headers:r,body:n,credentials:s,variables:u,parseResult:i});var f={key:(0,a("6l6jb").generateCacheKey)({url:e,method:t,headers:r,body:n,credentials:s,variables:u}),fetchData:m,onCompleted:o,onError:l,transformError:c,fetchPolicy:d,pollInterval:p};let{queryState:g,execute:h,stopPolling:E}=(0,a("fqCbQ").useExperimentalQueryExecution)({...f,isLazyQuery:!0});return[(0,a("26Yfd").useStableCallback)(async e=>{await h(e?.variables)}),{...g??a("7ji4X").INITIAL_IDLE_STATE,stopPolling:E}]}}),r("1GTIR",function(e,t){let r=(e,t)=>void 0!==e?e:t??{};e.exports.useFetchData=({url:e,method:t,variables:n={},headers:s,body:i,credentials:o,parseResult:l,parseResponseOnSuccess:c,parseResponseOnError:d})=>({fetchData:(0,a("26Yfd").useStableCallback)(async u=>{let p=r(u,n);return l(await (0,a("GLgaM").fetchResponse)({url:e,method:t,body:i,headers:s,credentials:o,parseResponseOnSuccess:c,parseResponseOnError:d},p),p)})}),e.exports.useFetchDataWithMultipleFetches=({requestConfigs:e,variables:t={},parseResult:n})=>({fetchData:(0,a("26Yfd").useStableCallback)(async s=>{let i=r(s,t);return n(await Promise.all(e.map(e=>(0,a("GLgaM").fetchResponse)(e,i))),i)})})}),r("GLgaM",function(e,t){async function r(e,t){let{url:r,method:s,body:i,headers:o,credentials:l,parseResponseOnSuccess:c,parseResponseOnError:d}=e;try{let e="function"==typeof s?s(t):s,d="GET"===e?void 0:JSON.stringify(t),u=await (0,a("f7B1p").cfetch)("function"==typeof r?r(t):r,{method:e,body:"function"==typeof i?i(t):i||d,headers:o,credentials:l});if(c)return c(u);return await n(u)}catch(e){if(d)return d(e,t);throw e}}async function n(e){if(204===e.status||e.headers?.get("content-length")==="0")return{};try{return await e.json()}catch(t){throw(0,a("3FAG5").throwErrorWithResponse)(t,e)}}e.exports.fetchResponse=r}),r("3FAG5",function(e,t){e.exports.throwErrorWithResponse=function(e,t){if("object"==typeof e&&e)if("response"in e){let a=e.response;"object"==typeof a&&a&&("status"in a||(a.status=t.status),"headers"in a||(a.headers=t.headers))}else e.response=t;throw e}}),r("fqCbQ",function(e,t){var r=a("42omo");let n=new Map;e.exports.useExperimentalQueryExecution=function({key:e,fetchData:t,onCompleted:s,onError:i,transformError:o,fetchPolicy:l,isLazyQuery:c=!1,pollInterval:d,isSSR:u=!1}){let[p,m]=(0,r.useState)(),f=(0,a("7ji4X").useExperimentalQueryState)({key:e}),{setQueryState:g}=(0,a("7ji4X").useExperimentalQueryStateActions)(),h=(0,r.useRef)(void 0),E="no-cache"===l?p:f,b=(0,a("26Yfd").useStableCallback)(async(r,d)=>{void 0!==r&&(h.current=r);let u=r??h.current;if("cache-first"===l&&E?.data!==void 0&&!d?.bypassCache)return void s?.(E.data);let p=n.get(e);if(p){let e=await p;"no-cache"===l&&(e.error?m(t=>({data:t?.data,loading:!1,error:e.error,called:!0})):void 0!==e.data&&m({data:e.data,loading:!1,error:void 0,called:!0})),e.error?i?.(e.error):void 0!==e.data&&s?.(e.data);return}let f=(async()=>{try{!d?.skipLoadingState&&(c||E?.loading===!1||E?.data!==void 0||E?.error)&&("no-cache"===l?m({data:E?.data,loading:!0,error:void 0,called:!0}):g(e,{data:E?.data,loading:!0,error:void 0,called:!0}));let a=await t(u);return"no-cache"===l?m({data:a,loading:!1,error:void 0,called:!0}):g(e,{data:a,loading:!1,error:void 0,called:!0}),s?.(a),{data:a}}catch(r){let t=await (0,a("hR9WV").handleError)({error:r,transformError:o,onError:i});return"no-cache"===l?m(e=>({data:e?.data,loading:!1,error:t,called:!0})):g(e,e=>({data:e.data,loading:!1,error:t,called:!0})),{error:t}}finally{n.delete(e)}})();n.set(e,f),await f}),_=(0,a("26Yfd").useStableCallback)(async r=>{try{g(e,{data:E?.data,loading:!0,error:void 0,called:!0});let a=await t(r);return g(e,{data:a,loading:!1,error:void 0,called:!0}),s?.(a),{data:a}}catch(r){let t=await (0,a("hR9WV").handleError)({error:r,transformError:o,onError:i});throw g(e,e=>({data:e.data,loading:!1,error:t,called:!0})),t}}),{stopPolling:y}=(0,a("iXGsw").usePollInterval)(d,b,l,c,E?.called,u);return{queryState:E,execute:b,refetch:_,stopPolling:y}}}),r("hR9WV",function(e,t){let r=async({error:e,transformError:t,onError:r})=>{let n=(0,a("bjeS8").convertToApolloError)(await t?.(e)||e);return n.graphQLErrors?.length&&n.graphQLErrors.forEach(e=>{(0,a("7Sm4c").processError)(e)}),r?.(n),n};e.exports.handleError=r}),r("bjeS8",function(e,t){let r=({message:e,status:t,originalError:r})=>new(0,a("aAxiE").GraphQLError)(e,null,null,null,null,r,t?{statusCode:t,http:{status:t}}:void 0);e.exports.convertToApolloError=e=>{let t=e.message||"Unknown error",n="response"in e?e.response?.status:void 0;return new(0,a("422HI").ApolloErrorInterop)({graphQLErrors:[r({message:t,status:n,originalError:e})]})}}),r("7ji4X",function(e,t){let r={data:void 0,loading:!1,error:void 0,called:!1},n=(0,a("1P1Tu").createStore)({initialState:{},actions:{setQueryState:(e,t)=>({setState:a,getState:n})=>{let s=n(),i=s[e]||r,o="function"==typeof t?t(i):t;a({...s,[e]:o})}},name:"useExperimentalQueryState"}),s=(0,a("9zUhf").createActionsHook)(n),i=(0,a("9zUhf").createStateHook)(n,{selector:(e,t)=>e[t.key]});e.exports.INITIAL_IDLE_STATE=r,e.exports.INITIAL_LOADING_STATE={data:void 0,loading:!0,error:void 0,called:!0},e.exports.useExperimentalQueryStateActions=s,e.exports.useExperimentalQueryState=i,e.exports.queryStateStore=n}),r("iXGsw",function(e,t){var r=a("42omo");e.exports.usePollInterval=function(e,t,a,n,s,i){if(e&&"cache-first"===a)throw Error("Queries that specify the cache-first fetchPolicy cannot also be polling queries.");let o=(0,r.useRef)(null),l=(0,r.useCallback)(()=>{o.current&&(clearInterval(o.current),o.current=null)},[]),c=(0,r.useCallback)(()=>{t(void 0,{bypassCache:!0,skipLoadingState:!0})},[t]),d=(0,r.useMemo)(()=>!i&&!!e&&!(e<=0)&&(!n||s),[i,e,n,s]);return(0,r.useEffect)(()=>(o.current&&(clearInterval(o.current),o.current=null),d&&(o.current=setInterval(()=>{c()},e)),()=>{o.current&&(clearInterval(o.current),o.current=null)}),[e,c,d]),{stopPolling:l}}}),r("6l6jb",function(e,t){function a(e){let{url:t,method:a="GET",headers:n,body:s,credentials:i,variables:o}=e;return r({url:"function"==typeof t?t.toString():t,method:"function"==typeof a?a.toString():a,headers:n,body:"function"==typeof s?s.toString():s,credentials:i,variables:o})}function r(e){return JSON.stringify(e,n)}function n(e,t){if(t&&"object"==typeof t){let e=Object.getPrototypeOf(t);if(e===Object.prototype||null===e){let a=Object.keys(t);if(a.every(s))return t;a.sort();let r=Object.create(e);return a.forEach(e=>{r[e]=t[e]}),r}}return t}function s(e,t,a){return 0===t||a[t-1]<=e}e.exports.generateCacheKey=a,e.exports.generateCacheKeyForMultipleFetches=function(e,t){return r(e.map(e=>a({...e,variables:t})).sort())}}),r("hCOLa",function(e,t){var r=a("42omo");let n=(e,t)=>{if(t===e)return!0;if(!e||!t)return!1;{let a=Object.keys(e),r=Object.keys(t);if(r.length!==a.length)return!1;for(let a of r)if(t[a]!==e[a])return!1;return!0}};e.exports.useService=(e,t)=>{let s=(0,r.useRef)({service:void 0,depsOverrides:void 0,result:void 0}),i=s.current;return i&&i.service===e&&n(i.depsOverrides,t)||(s.current.result=(0,a("jdJm1").resolveService)(e,t),s.current.depsOverrides=t,s.current.service=e),s.current.result}}),r("jdJm1",function(e,t){function r(e,t){return"function"==typeof e&&(0,a("7DBey").isServiceWithDeps)(e)?a=>e(a,n(e.dependencies,t??{})):e}let n=(e,t)=>{let a;return{dependencies(){if(a)return a;for(let[n,s]of(a={},Object.entries(e)))a[n]=n in t?t[n]:r(s,t);return a}}};e.exports.resolveService=r}),r("7DBey",function(e,t){e.exports.isServiceWithDeps=e=>"function"==typeof e&&"dependencies"in e,e.exports.unimplementedAbstractService=e=>Object.assign(t=>{throw TypeError(`Unimplemented abstract service: ${e}`)},{abstract:!0}),e.exports.toError=e=>e instanceof Error?e:TypeError("Service Error: "+e)}),r("1BTvF",function(e,t){let r=Object.assign(n,{dependencies:{fetchJSON:a("bmTr3").fetchJSON,createAnalyticsEvent:a("2Q94g").createAnalyticsEvent,getStargateURL:a("2Q94g").getStargateURL,getCurrentUserId:a("2Q94g").getCurrentUserId,getCurrentCloudId:a("2Q94g").getCurrentCloudId,getCurrentProduct:a("2Q94g").getCurrentProduct}});async function n(e,t){let r,n=t.dependencies(),i=e.users.map(t=>{let r=new(0,a("6Co6F").default)({product:n.getCurrentProduct()}),s=(0,a("acJmZ").getContinueUrlWithOrigin)(e.continueUrl,e.resources,r,e.touchpoint.replace(/ /g,"_"));return{user:{...t,continueUrl:s},origin:r}}),o=i.map(({user:e})=>e);try{let t=await n.fetchJSON({url:n.getStargateURL("/v3/invitations/invite"),method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json",...e.recaptchaOptions?.recaptchaToken?{"G-Recaptcha-Token":e.recaptchaOptions.recaptchaToken}:{},...e.recaptchaOptions?.recaptchaAction?{"Recaptcha-Action":e.recaptchaOptions.recaptchaAction}:{}},body:JSON.stringify({users:o,resources:e.resources.map(e=>e.toString()),metadata:{touchpoint:e.touchpoint,sourceProduct:n.getCurrentProduct()}})});r=s(t,i,e.touchpoint,e.integration)}catch(l){let n=(0,a("2Q94g").getErrorDetails)(l),{code:s,message:i,status:o}=n;(0,a("2Q94g").isAcceptableFailure)(i,o)||c(e.touchpoint,{code:s,message:i,status:o},t),r=[{inviteStatus:null,error:(0,a("7DBey").toError)(l),errorReason:n}]}return r.forEach(r=>(function(e,t,r){if(e.error){if("ERROR"===e.inviteStatus){let r=e.error;(0,a("2Q94g").isAcceptableFailureForUserInvite)(r)||((0,a("2Q94g").shouldReportFailedInvite)(r)?c(e.touchpoint,r,t):d(e.touchpoint,t))}}else{var n,s;let a=e.origin?.toAnalyticsAttributes({hasGeneratedId:!0})??{},i={...r?.(e)??{},...a,userAaid:e.id,actorAaid:t.dependencies().getCurrentUserId(),inviteStatus:e.inviteStatus,targetProduct:e.resource.resourceOwner,targetTenantId:e.resource.resourceId,sourceProduct:t.dependencies().getCurrentProduct(),sourceTenantId:t.dependencies().getCurrentCloudId(),integration:e.integration,touchpoint:e.touchpoint};d(e.touchpoint,t),"INVITED"===e.inviteStatus&&(n=i,t.dependencies().createAnalyticsEvent({type:"sendTrackEvent",data:{actionSubject:"user",action:"invited",actionSubjectId:n.userAaid,source:n.touchpoint,attributes:n,tags:["growth"]}}).fire()),"INVITED_PENDING_APPROVAL"===e.inviteStatus&&(s=i,t.dependencies().createAnalyticsEvent({type:"sendTrackEvent",data:{actionSubject:"productAccess",action:"requested",actionSubjectId:s.targetProduct,source:s.touchpoint,attributes:s,tags:["growth"]}}).fire())}})(r,t,e.getAdditionalAttributes)),r}let s=(e,t,r,n)=>e.flatMap(e=>{let s=t.find(t=>t.user.id===e.id||t.user.email===e.email)?.origin;return Object.keys(e.results).map(t=>{let i=e.results[t],o=a("k4HRJ").AnyAri.parse(t),l={id:e.id,email:e.email,origin:s,integration:n,touchpoint:r,resource:o};return"ERROR"===i?{...l,inviteStatus:i,error:e.errorReasons?.[t]??{code:"UNKNOWN_ERROR",message:"Unknown error"}}:{...l,inviteStatus:i,error:null}})}),i=e=>"INVITED"===e.inviteStatus||"USER_EXISTS"===e.inviteStatus,o=e=>"INVITED_PENDING_APPROVAL"===e.inviteStatus||"PENDING_INVITE_EXISTS"===e.inviteStatus,l=e=>"NOT_INVITED"===e.inviteStatus||"ERROR"===e.inviteStatus,c=(e,t,a)=>{a.dependencies().createAnalyticsEvent({type:"sendOperationalEvent",data:{actionSubject:"sloInviteRequest",action:"failed",source:e,attributes:{...t,touchpoint:e},tags:["growth"]}}).fire()},d=(e,t)=>{t.dependencies().createAnalyticsEvent({type:"sendOperationalEvent",data:{actionSubject:"sloInviteRequest",action:"succeeded",source:e,attributes:{touchpoint:e},tags:["growth"]}}).fire()};e.exports.invite=r,e.exports.mapInviteResult=e=>e.reduce((e,t)=>{switch(t.inviteStatus){case"INVITED":case"USER_EXISTS":i(t)&&e.invited.push(t);break;case"INVITED_PENDING_APPROVAL":case"PENDING_INVITE_EXISTS":o(t)&&e.requested.push(t);break;case"NOT_INVITED":case"ERROR":l(t)&&e.error.push(t);break;default:e.failure=t}return e},{invited:[],requested:[],error:[],failure:void 0})}),r("2Q94g",function(e,t){let r=(0,a("7DBey").unimplementedAbstractService)("getCurrentCloudId"),n=(0,a("7DBey").unimplementedAbstractService)("getCurrentUserId"),s=(0,a("7DBey").unimplementedAbstractService)("getCurrentProduct"),i=(0,a("7DBey").unimplementedAbstractService)("createAnalyticsEvent");(0,a("7DBey").unimplementedAbstractService)("fireErrorAnalytics");class o extends Error{constructor(e,t,a,r,n){r?.message?super(r.message):super(`Received error response during action ${e}: ${a.statusText}`),this.responseCode=void 0,this.errorType=void 0,this.response=void 0,this.responseJson=void 0,this.name="FetchError",this.responseCode=t,this.response=a,this.responseJson=r,this.errorType=n}}let l=(e,t)=>!t&&d(e)||401===t,c=["Failed to fetch","NetworkError when attempting to fetch resource.","A server with the specified hostname could not be found."],d=e=>c.some(t=>e?.includes(t)),u=(e,t)=>{try{return JSON.parse(e).some(e=>e.errorCodes.userName.includes(t))}catch(e){return!1}},p=(e,t)=>"noDefaultGroup"===e||"Default group for the requested resource not found."===t;e.exports.getStargateURL=e=>`/gateway/api${e}`,e.exports.getCurrentCloudId=r,e.exports.getCurrentUserId=n,e.exports.getCurrentProduct=s,e.exports.createAnalyticsEvent=i,e.exports.getErrorDetails=e=>({code:e instanceof Error?e.name:"UNKNOWN",message:e instanceof Error?e.message:String(e),status:e instanceof o?e.responseCode:void 0}),e.exports.isAcceptableFailure=l,e.exports.isAcceptableFailureForUserInvite=e=>{let{key:t,message:a,status:r}=e;return l(a,r)||400===r&&(u(a,"EMAIL_BLOCKED")||u(a,"REACHED_MAX_NUMBER_OF_EMAIL_ALIAS_SIGNUPS"))||412===r&&p(t,a)},e.exports.shouldReportFailedInvite=e=>{let{code:t,message:a}=e;return("bad-request"!==t||"User cannot invite themselves"!==a)&&"licence-exceeded"!==t}}),r("bmTr3",function(e,t){let r=(0,a("7DBey").unimplementedAbstractService)("fetchJSON");e.exports.fetchJSON=r}),r("acJmZ",function(e,t){let a=()=>window.location.origin,r={confluence:"/wiki",compass:"/compass",avp:"/analytics",mercury:"/focus"},n=e=>r[e]??"";e.exports.getContinueUrlWithOrigin=(e,t,r,s)=>{let i=a(),o=e,l=t.map(e=>e.resourceOwner);if(e&&r.containsOrigin(e))throw Error("continueUrl contains Origin Tracing query parameter");o||(o=1===t.length?`${i}${n(l[0])}`:i),o.match(/.*\/jira.*\/settings/gim)&&(o=1===l.length?`${i}${n(l[0])}`:i);let c=r.addToUrl(o);return`${c}&source=${s}`}}),r("fAdjB",function(e,t){var r=a("42omo");e.exports.useInvisibleRecaptcha=({siteKey:e,displayBadge:t=!0,analyticsChannel:n,analyticsSource:s,preventUnloadRecaptchaOnCleanup:i})=>{let o=(0,a("3fNls").useAnalytics)(n,s),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)();(0,r.useEffect)(()=>{let r=!0;return(async()=>{try{await (0,a("e0dFR").loadRecaptcha)(e),t||(0,a("e0dFR").hideRecaptchaBadge)(e),o(a("3fNls").recaptchaLoaded),r&&(c(!0),u(void 0))}catch(t){let e=String(t);o(a("3fNls").recaptchaLoadFailed,e),r&&u(e)}})(),()=>{i||(0,a("e0dFR").unloadRecaptcha)(e),u(void 0),r=!1}},[t,e,o,i]);let p=(0,r.useCallback)(async t=>{try{if(!l||!window?.grecaptcha?.enterprise?.execute)throw new(0,a("e0dFR").RecaptchaError)("Execute function not ready");return await window.grecaptcha.enterprise.execute(e,{action:t})}catch(e){throw o(a("3fNls").recaptchaExecuteFailed,String(e)),e}},[l,e,o]);return{isRecaptchaLoaded:l,getRecaptchaToken:p,recaptchaLoadErrorReason:d,unloadRecaptchaForSite:()=>(0,a("e0dFR").unloadRecaptcha)(e)}}}),r("3fNls",function(e,t){var r=a("42omo"),n=a("7TH2w");let s="recaptcha";e.exports.useAnalytics=(e,t)=>{let{createAnalyticsEvent:n}=(0,a("inPa6").useAnalyticsEvents)();return(0,r.useCallback)((r,...s)=>{let i={source:t,...r(...s)};(0,a("eWRwJ").default)(e)(i)(n)},[t,e,n])},e.exports.recaptchaLoaded=()=>({eventType:n.OPERATIONAL_EVENT_TYPE,actionSubject:s,action:"loaded"}),e.exports.recaptchaLoadFailed=e=>({eventType:n.OPERATIONAL_EVENT_TYPE,actionSubject:s,actionSubjectId:"load",action:"failed",attributes:{error:e}}),e.exports.recaptchaExecuteFailed=e=>({eventType:n.OPERATIONAL_EVENT_TYPE,actionSubject:s,actionSubjectId:"execute",action:"failed",attributes:{error:e}})}),r("e0dFR",function(e,t){let a="Failed to load grecaptcha enterprise",r=".grecaptcha-badge",n=e=>!!document.getElementById(e),s=e=>{let t=document.getElementById(e);t&&t.remove()},i=e=>{let t=document.getElementById(`${e}-styles`);t&&t.remove()},o=()=>{for(let e of document.querySelectorAll(r))e.remove()};class l extends Error{constructor(e){super(e),Object.setPrototypeOf(this,l.prototype)}}e.exports.loadRecaptcha=e=>new Promise((t,r)=>{if(n(e))return void t();let s=document.createElement("script");s.src=`https://www.recaptcha.net/recaptcha/enterprise.js?render=${e}`,s.async=!0,s.defer=!0,s.id=e,s.onload=()=>{window?.grecaptcha?.enterprise?window.grecaptcha.enterprise.ready(t):r(a)},s.onerror=e=>{r("string"==typeof e?e:e.message??a)},document.body.appendChild(s)}),e.exports.unloadRecaptcha=e=>{s(e),i(e),o()},e.exports.hideRecaptchaBadge=e=>{let t=`${e}-styles`;if(document.getElementById(t))return;let a=document.createElement("style");a.id=`${e}-styles`,a.innerText=`${r} { visibility: hidden; }`,document.head.appendChild(a)},e.exports.RecaptchaError=l}),r("a502B",function(e,t){var r=a("l998X");a("42omo"),e.exports.default=({tagName:e="span"})=>(0,r.jsx)(a("agqgM").default,{children:(0,r.jsx)(a("gtD4K").default,{...a("3fe4D").default.termsAndPolicy,tagName:e,values:{privacyPolicy:(0,r.jsx)(a("2Nwuj").default,{href:"https://policies.google.com/privacy",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(a("gtD4K").default,{...a("3fe4D").default.privacyPolicy})}),termsOfService:(0,r.jsx)(a("2Nwuj").default,{href:"https://policies.google.com/terms",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(a("gtD4K").default,{...a("3fe4D").default.termsOfService})})}})})}),r("agqgM",function(e,t){var r=a("l998X");a("42omo"),e.exports.default=({children:e})=>{let{locale:t}=(0,a("8C5kA").default)(),{messages:n}=(0,a("iKqYl").useFetchMessagesByLocale)(t);return(0,r.jsx)(a("1e2E5").default,{messages:n,locale:t,children:e},t)}}),r("iKqYl",function(e,t){var r=a("42omo");e.exports.useFetchMessagesByLocale=function(e){let[t,n]=(0,r.useState)({});return(0,r.useEffect)(()=>{let t=!0;return async function(){let r=new Intl.Locale(e.replace("_","-")).toString();try{let e=await function(e){switch(e){case"cs-CZ":case"cs":return a("jGLVl");case"da-DK":case"da":return a("bVxyy");case"de-DE":case"de":return a("7ZmmJ");case"en-GB":return a("79s2Z");case"en-US":case"en":return a("aiu8D");case"en-ZZ":return a("4f7vy");case"es-ES":case"es":return a("d1zMz");case"fi-FI":case"fi":return a("cRrzR");case"fr-FR":case"fr":return a("c3bM3");case"hu-HU":case"hu":return a("euOwt");case"it-IT":case"it":return a("9FplM");case"ja-JP":case"ja":return a("gKFud");case"ko-KR":case"ko":return a("3goJ9");case"nb-NB":case"nb":return a("d7YKh");case"nl-NL":case"nl":return a("cCVx9");case"pl-PL":case"pl":return a("asGZ2");case"pt-BR":case"pt":return a("1MEpQ");case"ru-RU":case"ru":return a("aLpxg");case"sv-SE":case"sv":return a("bPgnc");case"tr-TR":case"tr":return a("d0K23");case"th-TH":case"th":return a("bwKTl");case"uk-UK":case"uk":return a("lD1Cx");case"vi-VI":case"vi":return a("hHdfw");case"zh-TW":case"zh-HK":return a("4CdOK");case"zh-ZH":case"zh-CN":case"zh":return a("eqQqW")}return Promise.resolve({default:{}})}(r),s=e.default||e;t&&n(s)}catch(e){}}(),()=>{t=!1}},[e]),{messages:t}}}),r("jGLVl",function(e,t){e.exports=a("4mJKd")(5)("35VU5").then(()=>a("6EPYm"))}),r("bVxyy",function(e,t){e.exports=a("4mJKd")(5)("6W6gh").then(()=>a("fNXPx"))}),r("7ZmmJ",function(e,t){e.exports=a("4mJKd")(5)("bfTAm").then(()=>a("a3iQa"))}),r("79s2Z",function(e,t){e.exports=a("4mJKd")(5)("fP9up").then(()=>a("kZxFX"))}),r("aiu8D",function(e,t){e.exports=a("4mJKd")(5)("hc0i6").then(()=>a("c56JU"))}),r("4f7vy",function(e,t){e.exports=a("4mJKd")(5)("15E48").then(()=>a("6csUz"))}),r("d1zMz",function(e,t){e.exports=a("4mJKd")(5)("jLWG0").then(()=>a("l48Qc"))}),r("cRrzR",function(e,t){e.exports=a("4mJKd")(5)("9J49E").then(()=>a("fNycq"))}),r("c3bM3",function(e,t){e.exports=a("4mJKd")(5)("br9SP").then(()=>a("72OPL"))}),r("euOwt",function(e,t){e.exports=a("4mJKd")(5)("5h4sF").then(()=>a("dfboX"))}),r("9FplM",function(e,t){e.exports=a("4mJKd")(5)("1MV5Z").then(()=>a("cUqc4"))}),r("gKFud",function(e,t){e.exports=a("4mJKd")(5)("iV5Fv").then(()=>a("6RiYZ"))}),r("3goJ9",function(e,t){e.exports=a("4mJKd")(5)("7R5mJ").then(()=>a("2JhxH"))}),r("d7YKh",function(e,t){e.exports=a("4mJKd")(5)("5XMUp").then(()=>a("16SCI"))}),r("cCVx9",function(e,t){e.exports=a("4mJKd")(5)("jaDFz").then(()=>a("e1eeN"))}),r("asGZ2",function(e,t){e.exports=a("4mJKd")(5)("LOg5S").then(()=>a("93ddA"))}),r("1MEpQ",function(e,t){e.exports=a("4mJKd")(5)("lnJdQ").then(()=>a("441Ql"))}),r("aLpxg",function(e,t){e.exports=a("4mJKd")(5)("hqsLl").then(()=>a("gp4rr"))}),r("bPgnc",function(e,t){e.exports=a("4mJKd")(5)("j0btO").then(()=>a("4I7v4"))}),r("d0K23",function(e,t){e.exports=a("4mJKd")(5)("2YEqr").then(()=>a("5C7tx"))}),r("bwKTl",function(e,t){e.exports=a("4mJKd")(5)("7zFV7").then(()=>a("g6aPf"))}),r("lD1Cx",function(e,t){e.exports=a("4mJKd")(5)("fZ22O").then(()=>a("8K8sb"))}),r("hHdfw",function(e,t){e.exports=a("4mJKd")(5)("4tleS").then(()=>a("kzIYe"))}),r("4CdOK",function(e,t){e.exports=a("4mJKd")(5)("bE6tX").then(()=>a("cQFQ4"))}),r("eqQqW",function(e,t){e.exports=a("4mJKd")(5)("esYD7").then(()=>a("inthu"))}),r("3fe4D",function(e,t){let r=(0,a("cgtv4").defineMessages)({termsAndPolicy:{id:"growth.google-recaptcha.terms-and-policy.text",defaultMessage:"This site is protected by reCAPTCHA and the Google {privacyPolicy} and {termsOfService} apply."},privacyPolicy:{id:"growth.google-recaptcha.terms-and-policy.privacy-policy",defaultMessage:"Privacy Policy"},termsOfService:{id:"growth.google-recaptcha.terms-and-policy.terms-of-service",defaultMessage:"Terms of Service"}});e.exports.default=r}),r("hSHWm",function(e,t){let r=(0,a("42omo").createContext)({});e.exports.CoreInvitesContext=r}),r("egeZH",function(e,t){let a=()=>`${window.location.protocol}//${window.location.host}/wiki`,r=()=>`${window.location.protocol}//${window.location.host}${window.location.pathname}${window.location.search}`;e.exports.getConfluenceHomeUrl=a,e.exports.getCurrentUrl=r,e.exports.getCurrentUrlRedirect=()=>`${a()}?continue=${encodeURIComponent(r())}`}),r("koZ31",function(e,t){var a,r=((a={}).UNKNOWN="unknown",a.MENTION="mention",a.PEOPLE_MENU="peopleMenu",a.ONBOARDING_INVITE_FLAG="onboarding-invite-flag",a.PERSISTENT_INVITE_PAGETREE="pageTree",a.PERSISTENT_INVITE_HOMESCREEN="homeScreen",a.CONTEXTUAL_INVITE_NUDGE="onboarding-contextual-invite-nudge",a.LIVE_PAGES_NUDGE="onboarding-contextual-invite-live-pages-nudge",a.SHARE_DIALOG="share-dialog",a.SHARE_AND_RESTRICT_DIALOG="share-and-restrict-dialog",a.IBO_TAKEOVER_INVITE="onboarding-takeover-invite-people",a.EA_DROPDOWN="ea-dropdown",a.HOME_ONBOARDING_TAKEOVER_V2="home-onboarding-takeover-v2",a.CROSS_JOIN="virality-cross-join",a.OPEN_MODAL_QUERY_PARAM="open-modal-query-param",a);e.exports.CoreInvitesSource=r}),r("cOQPm",function(e,t){let r="ids-invited-from-usd",n=()=>{let e=a("17wUi").confluenceSessionStorageInstance.getItem(r);return e?JSON.parse(e):[]},s=e=>{a("17wUi").confluenceSessionStorageInstance.setItem(r,JSON.stringify(e))};e.exports.getCachedInvites=n,e.exports.updateCachedInvites=e=>{s([...n(),...e])}}),r("59MXn",function(e,t){var r=a("3u0dr"),n=a("frIzR"),s=a("42omo"),i=a("dWJ5i"),o=a("j1Ss3");let l=({skip:e=!1}={})=>{let{loading:t,data:r}=(0,o.useQuery)((0,a("eSUdr").default)`query useIsEntitledExternalCollaboratorUserAndGroupSearchPickerQuery{entitlements{externalCollaborator{isEntitled}}}`,{skip:e});return{isEntitledExternalCollaboration:(0,a("7lu50").getExternalCollaboratorEntitlementFromQuery)(r)??!1,loading:t}};var c=a("4adOe");let d=new class{setContext(e,t,a,r,n,s,i){this._siteId=e,this._orgId=t,this._userId=a,this._contextType=r,this._containerId=n,this._objectId=s,this._mentionsSessionId=i}setSiteId(e){this._siteId=e}setOrgId(e){this._orgId=e}fullCacheAndStateReset(){this._abortAndResetAbortController(),this._resetUserSuggestionsPromiseState(),this._resetUserSuggestionsCacheState()}async hydrateUserSuggestionsCache(e){return await this._fetchAndCacheUserSuggestions(e),this._userSuggestions}async getSuggestedUsers(e,t,a=this._maxNumberOfDisplayResults,r=!0,n,s,i,o,l,c){("empty"===this._userSuggestionsPromiseState||this._shouldFetchAdditionalSuggestions)&&(!this._siteId&&s&&this.setSiteId(s),!this._orgId&&i&&this.setOrgId(i),!this._contextType&&n&&(this._contextType=n),!this._containerId&&o&&(this._containerId=o),!this._objectId&&l&&(this._objectId=l),!this._mentionsSessionId&&c&&(this._mentionsSessionId=c),await this._fetchAndCacheUserSuggestions(t,n,o,l,c));let d=[...e,this._userId],u=(await this._userSuggestions).filter(({id:e})=>!d.includes(e)).slice(0,a);return(this._shouldFetchAdditionalSuggestions=u.length<this._criticallyLowDisplayResults&&this._currentRequestedServerResults<=this._requestedServerResultsHardCap&&"resolved"===this._userSuggestionsPromiseState&&!1===this._noMoreServerResults&&r,this._shouldFetchAdditionalSuggestions)?(this._currentRequestedServerResults+=this._serverResultsIncreaseDelta,this.getSuggestedUsers(e,t,a,r,n,s,i,o,l,c)):u}_abortAndResetAbortController(){this._abortController?.abort(),this._abortController=new AbortController}_resetUserSuggestionsPromiseState(){this._userSuggestions=new Promise((e,t)=>{this._resolveUserSuggestions=e,this._rejectUserSuggestions=t}),this._userSuggestionsPromiseState="empty"}_resetUserSuggestionsCacheState(){this._shouldFetchAdditionalSuggestions=!1,this._currentRequestedServerResults=10,this._noMoreServerResults=!1}createContextPayload(e,t,a,r){return(0,i.match)({contextType:e||this._contextType,containerId:t||this._containerId,objectId:a||this._objectId,mentionsSessionId:r||this._mentionsSessionId,siteId:this._siteId,orgId:this._orgId}).with({contextType:i.P.string,containerId:i.P.string,objectId:i.P.string,mentionsSessionId:i.P.string},e=>({contextType:e.contextType,containerId:e.containerId,objectId:e.objectId,mentionsSessionId:e.mentionsSessionId,principalId:"context",productKey:"confluence",siteId:e.siteId,organizationId:e.orgId})).with({contextType:i.P.string},e=>({contextType:e.contextType,principalId:"context",productKey:"confluence",siteId:e.siteId,organizationId:e.orgId})).otherwise(e=>({contextType:"share-and-restrict-dialog:user-and-group-search:suggested-share-users",principalId:"context",productKey:"confluence",siteId:e.siteId,organizationId:e.orgId}))}async _fetchAndCacheUserSuggestions(e,t,r,n,s){try{if("rejected"===this._userSuggestionsPromiseState)return this._userSuggestions;this._abortAndResetAbortController(),this._resetUserSuggestionsPromiseState(),this._userSuggestionsPromiseState="pending";let i=this.createContextPayload(t,r,n,s),o=await (0,a("f7B1p").cfetch)(this._recommendationsApi,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({context:i,searchQuery:{cpusQueryHighlights:{query:"",field:""},customQuery:"",customerDirectoryId:"",minimumAccessLevel:"APPLICATION",productAccessPermissionIds:e?["write","external-collaborator-write"]:["write"],queryString:"",restrictTo:{userIds:[],groupIds:[]},searchUserbase:!1},includeNonLicensedUsers:!1,includeTeams:!1,includeGroups:!1,includeUsers:!0,performSearchQueryOnly:!1,maxNumberOfResults:this._currentRequestedServerResults}),signal:this._abortController?.signal}),{recommendedUsers:l}=await o.json(),c=l.map(({id:e,name:t,email:a,avatarUrl:r})=>({type:"user",id:e,name:t,email:a,avatarUrl:r}));this._resolveUserSuggestions(c),this._noMoreServerResults=c.length<this._currentRequestedServerResults,this._userSuggestionsPromiseState="resolved"}catch(e){e instanceof a("flE5X").NoNetworkError&&(0,a("6fil2").causedByAbortError)(e)||(this._rejectUserSuggestions(e),this._userSuggestionsPromiseState="rejected")}finally{this._shouldFetchAdditionalSuggestions=!1}}constructor(){this._userSuggestions=void 0,this._resolveUserSuggestions=void 0,this._rejectUserSuggestions=void 0,this._userSuggestionsPromiseState=void 0,this._recommendationsApi="/gateway/api/v1/recommendations",this._criticallyLowDisplayResults=3,this._maxNumberOfDisplayResults=3,this._requestedServerResultsHardCap=60,this._serverResultsIncreaseDelta=10,this._shouldFetchAdditionalSuggestions=!1,this._currentRequestedServerResults=10,this._noMoreServerResults=!1,this._abortController=void 0,this._siteId="",this._orgId="",this._userId="",this._contextType=void 0,this._containerId=void 0,this._objectId=void 0,this._mentionsSessionId=void 0,this.fullCacheAndStateReset()}},u=(0,r.isReactCompilerActiveV1)()?()=>{let e,t,r,i,o=(0,n.c)(15),{createAnalyticsEvent:u}=(0,a("inPa6").useAnalyticsEvents)(),{cloudId:m,orgId:f,userId:g}=(0,a("bQm3c").useSessionData)(),{isEntitledExternalCollaboration:h,loading:E}=l(),{contentId:b,spaceId:_,contextType:y,mentionsSessionId:v}=(0,a("lf3m6").useUserSuggestionsMentionsExperiment)(),[S,A]=(0,s.useState)(),C=f??"",I=g??"";o[0]!==m||o[1]!==b||o[2]!==y||o[3]!==h||o[4]!==E||o[5]!==v||o[6]!==C||o[7]!==_||o[8]!==I?(e=()=>{let e=async()=>{try{d.setContext(m,C,I,y,_,b,v),await d.hydrateUserSuggestionsCache(h)}catch(e){A(e)}};return E||e(),p},t=[m,C,I,h,E,y,_,b,v],o[0]=m,o[1]=b,o[2]=y,o[3]=h,o[4]=E,o[5]=v,o[6]=C,o[7]=_,o[8]=I,o[9]=e,o[10]=t):(e=o[9],t=o[10]),(0,s.useEffect)(e,t),o[11]!==u||o[12]!==S?(r=()=>{S&&u({type:"sendOperationalEvent",data:{source:c.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"errored",actionSubject:"usePreloadUserSuggestions",attributes:{message:S?.message,name:S?.name,stack:S?.stack,cause:S?.cause}}}).fire()},i=[S,u],o[11]=u,o[12]=S,o[13]=r,o[14]=i):(r=o[13],i=o[14]),(0,s.useEffect)(r,i)}:()=>{let{createAnalyticsEvent:e}=(0,a("inPa6").useAnalyticsEvents)(),{cloudId:t,orgId:r,userId:n}=(0,a("bQm3c").useSessionData)(),{isEntitledExternalCollaboration:i,loading:o}=l(),{contentId:u,spaceId:p,contextType:m,mentionsSessionId:f}=(0,a("lf3m6").useUserSuggestionsMentionsExperiment)(),[g,h]=(0,s.useState)(),E=r??"",b=n??"";(0,s.useEffect)(()=>{let e=async()=>{try{d.setContext(t,E,b,m,p,u,f),await d.hydrateUserSuggestionsCache(i)}catch(e){h(e)}};return o||e(),()=>{d.fullCacheAndStateReset()}},[t,E,b,i,o,m,p,u,f]),(0,s.useEffect)(()=>{g&&e({type:"sendOperationalEvent",data:{source:c.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"errored",actionSubject:"usePreloadUserSuggestions",attributes:{message:g?.message,name:g?.name,stack:g?.stack,cause:g?.cause}}}).fire()},[g,e])};function p(){d.fullCacheAndStateReset()}e.exports.useUserSuggestions=({currentPickedPrincipalIds:e,maxDisplayResults:t,shouldFetchMoreResults:r,contextType:n,siteId:i,orgId:o,source:u,skip:p=!1,containerId:m,objectId:f,mentionsSessionId:g})=>{let{createAnalyticsEvent:h}=(0,a("inPa6").useAnalyticsEvents)(),{isEntitledExternalCollaboration:E,loading:b}=l(),[_,y]=(0,s.useState)(null),[v,S]=(0,s.useState)(),[A,C]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{(async()=>{if(!p&&(C(!0),!b))try{y(await d.getSuggestedUsers(e,E,t,r,n,i,o,m,f,g)),S(void 0)}catch(e){S(e)}finally{C(!1)}})()},[e,E,b,t,r,n,i,o,p,m,f,g]),(0,s.useEffect)(()=>{v&&h({type:"sendOperationalEvent",data:{source:u||c.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"errored",actionSubject:"useUserSuggestions",attributes:{message:v?.message,name:v?.name,stack:v?.stack,cause:v?.cause}}}).fire()},[v,u,h]),{suggestedUsers:_,loading:A,error:v}},e.exports.usePreloadUserSuggestions=u}),r("dWJ5i",function(e,t){let a=Symbol.for("@ts-pattern/matcher"),r=Symbol.for("@ts-pattern/isVariadic"),n="@ts-pattern/anonymous-select-key",s=e=>!!(e&&"object"==typeof e),i=e=>e&&!!e[a],o=(e,t,n)=>{if(i(e)){let{matched:r,selections:s}=e[a]().match(t);return r&&s&&Object.keys(s).forEach(e=>n(e,s[e])),r}if(s(e)){if(!s(t))return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;let a=[],s=[],l=[];for(let t of e.keys()){let n=e[t];i(n)&&n[r]?l.push(n):l.length?s.push(n):a.push(n)}if(l.length){if(l.length>1)throw Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(t.length<a.length+s.length)return!1;let e=t.slice(0,a.length),r=0===s.length?[]:t.slice(-s.length),i=t.slice(a.length,0===s.length?1/0:-s.length);return a.every((t,a)=>o(t,e[a],n))&&s.every((e,t)=>o(e,r[t],n))&&(0===l.length||o(l[0],i,n))}return e.length===t.length&&e.every((e,a)=>o(e,t[a],n))}return Reflect.ownKeys(e).every(r=>{let s=e[r];return(r in t||i(s)&&"optional"===s[a]().matcherType)&&o(s,t[r],n)})}return Object.is(t,e)},l=e=>{var t,r,n;return s(e)?i(e)?null!=(t=null==(r=(n=e[a]()).getSelectionKeys)?void 0:r.call(n))?t:[]:Array.isArray(e)?c(e,l):c(Object.values(e),l):[]},c=(e,t)=>e.reduce((e,a)=>e.concat(t(a)),[]);function d(e){return Object.assign(e,{optional:()=>u(e),and:t=>f(e,t),or:t=>g(e,t),select:t=>void 0===t?E(e):E(t,e)})}function u(e){return d({[a]:()=>({match:t=>{let a={},r=(e,t)=>{a[e]=t};return void 0===t?(l(e).forEach(e=>r(e,void 0)),{matched:!0,selections:a}):{matched:o(e,t,r),selections:a}},getSelectionKeys:()=>l(e),matcherType:"optional"})})}let p=(e,t)=>{for(let a of e)if(!t(a))return!1;return!0},m=(e,t)=>{for(let[a,r]of e.entries())if(!t(r,a))return!1;return!0};function f(...e){return d({[a]:()=>({match:t=>{let a={},r=(e,t)=>{a[e]=t};return{matched:e.every(e=>o(e,t,r)),selections:a}},getSelectionKeys:()=>c(e,l),matcherType:"and"})})}function g(...e){return d({[a]:()=>({match:t=>{let a={},r=(e,t)=>{a[e]=t};return c(e,l).forEach(e=>r(e,void 0)),{matched:e.some(e=>o(e,t,r)),selections:a}},getSelectionKeys:()=>c(e,l),matcherType:"or"})})}function h(e){return{[a]:()=>({match:t=>({matched:!!e(t)})})}}function E(...e){let t="string"==typeof e[0]?e[0]:void 0,r=2===e.length?e[1]:"string"==typeof e[0]?void 0:e[0];return d({[a]:()=>({match:e=>{let a={[null!=t?t:n]:e};return{matched:void 0===r||o(r,e,(e,t)=>{a[e]=t}),selections:a}},getSelectionKeys:()=>[null!=t?t:n].concat(void 0===r?[]:l(r))})})}function b(e){return"number"==typeof e}function _(e){return"string"==typeof e}function y(e){return"bigint"==typeof e}let v=d(h(function(e){return!0})),S=e=>Object.assign(d(e),{startsWith:t=>S(f(e,h(e=>_(e)&&e.startsWith(t)))),endsWith:t=>S(f(e,h(e=>_(e)&&e.endsWith(t)))),minLength:t=>S(f(e,h(e=>_(e)&&e.length>=t))),length:t=>S(f(e,h(e=>_(e)&&e.length===t))),maxLength:t=>S(f(e,h(e=>_(e)&&e.length<=t))),includes:t=>S(f(e,h(e=>_(e)&&e.includes(t)))),regex:t=>S(f(e,h(e=>_(e)&&!!e.match(t))))}),A=S(h(_)),C=e=>Object.assign(d(e),{between:(t,a)=>C(f(e,h(e=>b(e)&&t<=e&&a>=e))),lt:t=>C(f(e,h(e=>b(e)&&e<t))),gt:t=>C(f(e,h(e=>b(e)&&e>t))),lte:t=>C(f(e,h(e=>b(e)&&e<=t))),gte:t=>C(f(e,h(e=>b(e)&&e>=t))),int:()=>C(f(e,h(e=>b(e)&&Number.isInteger(e)))),finite:()=>C(f(e,h(e=>b(e)&&Number.isFinite(e)))),positive:()=>C(f(e,h(e=>b(e)&&e>0))),negative:()=>C(f(e,h(e=>b(e)&&e<0)))}),I=C(h(b)),T=e=>Object.assign(d(e),{between:(t,a)=>T(f(e,h(e=>y(e)&&t<=e&&a>=e))),lt:t=>T(f(e,h(e=>y(e)&&e<t))),gt:t=>T(f(e,h(e=>y(e)&&e>t))),lte:t=>T(f(e,h(e=>y(e)&&e<=t))),gte:t=>T(f(e,h(e=>y(e)&&e>=t))),positive:()=>T(f(e,h(e=>y(e)&&e>0))),negative:()=>T(f(e,h(e=>y(e)&&e<0)))}),x=T(h(y)),k=d(h(function(e){return"boolean"==typeof e})),R=d(h(function(e){return"symbol"==typeof e})),O=d(h(function(e){return null==e})),w=d(h(function(e){return null!=e}));class L extends Error{constructor(e){let t;try{t=JSON.stringify(e)}catch(a){t=e}super(`Pattern matching error: no pattern matches value ${t}`),this.input=void 0,this.input=e}}let P={matched:!1,value:void 0};class D{with(...e){let t;if(this.state.matched)return this;let a=e[e.length-1],r=[e[0]];3===e.length&&"function"==typeof e[1]?t=e[1]:e.length>2&&r.push(...e.slice(1,e.length-1));let s=!1,i={},l=(e,t)=>{s=!0,i[e]=t},c=r.some(e=>o(e,this.input,l))&&(!t||t(this.input))?{matched:!0,value:a(s?n in i?i[n]:i:this.input,this.input)}:P;return new D(this.input,c)}when(e,t){if(this.state.matched)return this;let a=!!e(this.input);return new D(this.input,a?{matched:!0,value:t(this.input,this.input)}:P)}otherwise(e){return this.state.matched?this.state.value:e(this.input)}exhaustive(e=M){return this.state.matched?this.state.value:e(this.input)}run(){return this.exhaustive()}returnType(){return this}narrow(){return this}constructor(e,t){this.input=void 0,this.state=void 0,this.input=e,this.state=t}}function M(e){throw new L(e)}e.exports.P={__proto__:null,matcher:a,optional:u,array:function(...e){return function e(t){return Object.assign(Object.assign(t,{[Symbol.iterator](){let e=0,a=[{value:Object.assign(t,{[r]:!0}),done:!1},{done:!0,value:void 0}];return{next:()=>{var t;return null!=(t=a[e++])?t:a.at(-1)}}}}),{optional:()=>e(u(t)),select:a=>e(void 0===a?E(t):E(a,t))})}({[a]:()=>({match:t=>{if(!Array.isArray(t))return{matched:!1};if(0===e.length)return{matched:!0};let a=e[0],r={};if(0===t.length)return l(a).forEach(e=>{r[e]=[]}),{matched:!0,selections:r};let n=(e,t)=>{r[e]=(r[e]||[]).concat([t])};return{matched:t.every(e=>o(a,e,n)),selections:r}},getSelectionKeys:()=>0===e.length?[]:l(e[0])})})},set:function(...e){return d({[a]:()=>({match:t=>{if(!(t instanceof Set))return{matched:!1};let a={};if(0===t.size)return{matched:!0,selections:a};if(0===e.length)return{matched:!0};let r=(e,t)=>{a[e]=(a[e]||[]).concat([t])},n=e[0];return{matched:p(t,e=>o(n,e,r)),selections:a}},getSelectionKeys:()=>0===e.length?[]:l(e[0])})})},map:function(...e){return d({[a]:()=>({match:t=>{var a;if(!(t instanceof Map))return{matched:!1};let r={};if(0===t.size)return{matched:!0,selections:r};let n=(e,t)=>{r[e]=(r[e]||[]).concat([t])};if(0===e.length)return{matched:!0};if(1===e.length)throw Error(`\`P.map\` wasn't given enough arguments. Expected (key, value), received ${null==(a=e[0])?void 0:a.toString()}`);let[s,i]=e;return{matched:m(t,(e,t)=>{let a=o(s,t,n),r=o(i,e,n);return a&&r}),selections:r}},getSelectionKeys:()=>0===e.length?[]:[...l(e[0]),...l(e[1])]})})},intersection:f,union:g,not:function(e){return d({[a]:()=>({match:t=>({matched:!o(e,t,()=>{})}),getSelectionKeys:()=>[],matcherType:"not"})})},when:h,select:E,any:v,_:v,string:A,number:I,bigint:x,boolean:k,symbol:R,nullish:O,nonNullable:w,instanceOf:function(e){return d(h(t=>t instanceof e))},shape:function(e){return d(h(function(...e){if(1===e.length){let[t]=e;return e=>o(t,e,()=>{})}if(2===e.length){let[t,a]=e;return o(t,a,()=>{})}throw Error(`isMatching wasn't given the right number of arguments: expected 1 or 2, received ${e.length}.`)}(e)))}},e.exports.match=function(e){return new D(e,P)}}),r("d35qt",function(e,t){var r=a("42omo");let n={accessRequestsStatusContainer:"_kqswh2mm",accessRequestsStatusIndicatorOutline:"_2rko1qi0 _1e0c1txw _4cvr1h6o _1bah1h6o _1bsb19bv _4t3i19bv _kqswstnw _1pbykb7n",surfaceBackground:"_1ukrtuvp _ru4f1h6o _1ngpvuon _g87g116u _uohs13ro",overlayBackground:"_1ngp1bhr _g87g6o2t _uohsm8nx",accessRequestsStatusIndicator:"_2rko1qi0 _bfhkyhbg _1bsbi2wt _4t3ii2wt"};e.exports.NewAccessRequestIndicator=({children:e,top:t,right:s,isInsideOverlay:i=!1})=>{let[o,l]=(0,r.useState)(!1),c=`scale(${+!!o})`;return((0,r.useEffect)(()=>a("eRpR8").NEW_ACCESS_REQUEST_INDICATOR_STATE_INSTANCE.subscribe(l),[]),(0,a("6mKj3").UNSAFE_expValEqualsNoExposure)("cc_fe_realtime_access_requests","isEnabled",!0))?r.createElement("div",{className:(0,a("gMc0m").default)([n.accessRequestsStatusContainer,i?n.overlayBackground:n.surfaceBackground])},r.createElement("div",{id:"unseen-request-indicator",style:{top:t,right:s,transform:c},className:(0,a("gMc0m").default)([n.accessRequestsStatusIndicatorOutline,o&&n.surfaceBackgroundVisible])},r.createElement("div",{className:(0,a("gMc0m").default)([n.accessRequestsStatusIndicator])})),e):e}}),r("eRpR8",function(e,t){let r=a("1UApO").keys.LAST_TIME_ACCESS_REQUESTS_DIALOG_WAS_OPENED,n=new class{subscribe(e){return this._subscribers.add(e),e(this._indicatorShown),()=>{this._subscribers.delete(e)}}maybeShowIndicator(e,t){t&&t>(0,a("2Oud5").getCachedTimestamp)(e,r)&&(this._indicatorShown=!0,this._subscribers.forEach(e=>e(!0)))}hideIndicator(e){this._indicatorShown=!1,this._subscribers.forEach(e=>e(!1)),(0,a("2Oud5").setCachedTuple)(e,Date.now(),r)}resetSubscribers(){this._indicatorShown=!1,this._subscribers.clear()}clearCache(e){(0,a("2Oud5").removeCachedTuple)(e,r)}constructor(){this._indicatorShown=!1,this._subscribers=new Set}};e.exports.NEW_ACCESS_REQUEST_INDICATOR_STATE_INSTANCE=n}),r("2Oud5",function(e,t){let r=e=>{try{let t=a("17wUi").confluenceLocalStorageInstance.getItem(e)??"";return t?.split(",").reduce((e,t)=>{if(!t)return e;let[a,r]=t.split(":");return a&&r&&e.push([a,Number(r)]),e},[])}catch{return[]}},n=(e,t)=>{try{let r=e.flatMap(e=>e[0]&&e[1]&&"string"==typeof e[0]&&"number"==typeof e[1]?[e.join(":")]:[]);r.length?a("17wUi").confluenceLocalStorageInstance.setItem(t,r.join(",")):a("17wUi").confluenceLocalStorageInstance.removeItem(t)}catch{}};e.exports.getCachedTimestamp=(e,t)=>{let a=r(t).find(([t])=>t===e);return a?.[1]??0},e.exports.removeCachedTuple=(e,t,a)=>{let s=r(t),i=s.findIndex(t=>t[0]===e),o=i>-1?s[i]:null,l=o?.[1]??0;(!a||a(l))&&n(s.filter(([t])=>t!==e),t)},e.exports.setCachedTuple=(e,t,a,s)=>{if(!s||s(t)){let s=r(a),i=s.findIndex(t=>t[0]===e),o=[e,t];-1===i?s.push(o):s[i]=o,n(s,a)}}}),r("52EPl",function(t,r){var n=a("l998X"),s=a("42omo");let i={top:"bottom",bottom:"top",left:"right",right:"left",start:"end",auto:"auto",end:"start"},o=e=>{let t=e.split("-"),a=t[0];if(["top","bottom"].includes(a)){if(!(2===t.length&&["start","end"].includes(t[1])))return[`${a}-start`,`${a}-end`,`${i[a]}`,`${i[a]}-start`,`${i[a]}-end`,"auto"];{let e=t[1];return[`${a}`,`${a}-${i[e]}`,`${i[a]}-${e}`,`${i[a]}`,`${i[a]}-${i[e]}`,"auto"]}}};function l(e){return null!==e&&(e instanceof KeyboardEvent||"nativeEvent"in e&&e.nativeEvent instanceof KeyboardEvent)}t.exports.default=({autoFocus:t=!1,children:r,defaultOpen:i=!1,isLoading:c=!1,isOpen:d,onOpenChange:u=a("ee7An").default,placement:p="bottom-start",shouldFitContainer:m=!1,shouldFlip:f=!0,shouldRenderToParent:g=!1,returnFocusRef:h,spacing:E,statusLabel:b,testId:_,trigger:y,zIndex:v=a("dTk3A").layers.modal(),label:S,interactionName:A,strategy:C,menuLabel:I})=>{let[T,x]=(0,a("6mkwk").default)(d,()=>i),k=(0,s.useRef)(null),[R,O]=(0,s.useState)(!1),w=(0,a("6XsRH").default)(),L=(0,a("dhBFe").default)(),{currentLevel:P}=(0,a("16xFS").useLayering)(),D=(0,s.useMemo)(()=>o(p),[p]),M=(0,s.useCallback)(e=>{let t=!T,{clientX:a,clientY:r,type:n,detail:s}=e;"keydown"===n||0===a||0===r||0===s?O(!0):(L?.current?.focus(),O(!1)),x(t),u({isOpen:t,event:e})},[T,x,u,L]),N=(0,s.useCallback)((e,t)=>{let r=l(e)&&("Tab"===e.key||"Escape"===e.key);if(null!==e&&!r&&e.target instanceof HTMLElement&&e.target.closest?.(`[id^=${a("6XsRH").PREFIX}] [aria-haspopup]`)){if(!t)return;let e=L.current?.dataset["ds-Level"];if(e&&Number(e)<t)return}h?requestAnimationFrame(()=>{h.current?.focus()}):l(e)&&("Tab"===e.key&&e.shiftKey||"Escape"===e.key)?requestAnimationFrame(()=>{L.current?.focus()}):k.current&&(e?.target instanceof HTMLElement&&e.target.closest?.('[role="menu"]')===null&&document.activeElement!==document.body||requestAnimationFrame(()=>{k.current?.focus()})),x(!1),u({isOpen:!1,event:e})},[L,u,h,x]),{isFocused:U,bindFocus:j}=(0,a("loiTn").default)();(0,s.useEffect)(()=>!U||T?a("ee7An").default:(0,a("fFa3V").bind)(window,{type:"keydown",listener:function(e){let t;e.target instanceof HTMLElement&&(t=e.target.closest(`[id^=${a("6XsRH").PREFIX}] [aria-haspopup]`)),e.key!==a("4JWgN").KEY_DOWN||t?(e.code===a("4JWgN").KEY_SPACE||e.key===a("4JWgN").KEY_ENTER)&&0===e.detail?O(!0):e.key===a("4JWgN").KEY_TAB&&t&&N(e):(e.preventDefault(),M(e))}}),[U,T,M,N]);let B=m?{shouldFitContainer:m,strategy:"fixed"!==C?C:void 0}:{shouldRenderToParent:g,strategy:C};return(0,n.jsx)(a("nVQ0B").default,{children:(0,n.jsx)(a("lGgRw").default,{id:T?w:void 0,shouldFlip:f,isOpen:T,shouldReturnFocus:void 0===h,onClose:N,zIndex:v,placement:p,role:g&&P>0&&(0,a("dh538").fg)("platform-dst-nested-dropdown-menu-role")?"group":void 0,fallbackPlacements:D,testId:_&&`${_}--content`,shouldUseCaptureOnOutsideClick:!0,...B,shouldDisableFocusLock:!0,trigger:({ref:t,"aria-controls":r,"aria-expanded":s,"aria-haspopup":i,...o})=>"function"==typeof y?y({"aria-controls":r,"aria-expanded":s,"aria-haspopup":i,...o,...j,triggerRef:(0,a("3654r").default)([t,k,L]),isSelected:T,onClick:M,testId:_&&`${_}--trigger`}):(0,n.jsx)(a("ccHMk").default,{...j,ref:(0,a("3654r").default)([t,k,L]),"aria-controls":r,"aria-expanded":s,"aria-haspopup":i,isSelected:T,iconAfter:t=>(0,n.jsx)(e(a("7kzZ3")),{...t,size:"small"}),onClick:M,testId:_&&`${_}--trigger`,"aria-label":S,interactionName:A,children:y}),content:({setInitialFocusRef:e,update:s})=>(0,n.jsx)(a("4hF42").default,{onClose:N,children:(0,n.jsx)(a("rTIrg").default,{spacing:E,maxHeight:"calc(100vh - 16px)",maxWidth:m?void 0:800,onClose:N,onUpdate:s,isLoading:c,statusLabel:b,setInitialFocusRef:R||t?e:void 0,shouldRenderToParent:g||m,isTriggeredUsingKeyboard:R,autoFocus:t,testId:_&&`${_}--menu-wrapper`,menuLabel:I,children:r})})})})}}),r("6mkwk",function(e,r){t(e.exports,"default",()=>s);var n=a("42omo");function s(e,t=()=>e){let a=void 0!==e,[r,i]=(0,n.useState)(t),o=(0,n.useRef)(a);return(0,n.useEffect)(()=>{o.current=a},[a]),[a?e:r,(0,n.useCallback)(e=>{o.current||i(e)},[])]}}),r("loiTn",function(e,r){t(e.exports,"default",()=>s);var n=a("42omo");function s(){let[e,t]=(0,n.useState)(!1),a=(0,n.useRef)({onFocus:()=>t(!0),onBlur:()=>t(!1)});return(0,n.useEffect)(()=>()=>t(!1),[]),{isFocused:e,bindFocus:a.current}}}),r("4hF42",function(e,t){var r=a("l998X"),n=a("42omo");let s=(0,n.createContext)({menuItemRefs:[],registerRef:a("ee7An").default});e.exports.FocusManagerContext=s,e.exports.default=({children:e,onClose:t})=>{let i=(0,n.useRef)([]),[o,l]=(0,n.useState)(0),c=(0,n.useRef)("ordered");c.current="ordered";let d=(0,n.useCallback)(e=>{if(!i.current.includes(e))switch(c.current){case"ordered":i.current.push(e);break;case"unordered":c.current="regenerate",i.current=[],l(o+1);break;case"regenerate":break;default:throw Error(`Unexpected case of ${c.current}`)}},[o]),{isLayerDisabled:u}=(0,a("16xFS").useLayering)();(0,n.useEffect)(()=>{"ordered"===c.current&&(c.current="unordered")}),(0,n.useEffect)(()=>(0,a("fFa3V").bind)(window,{type:"keydown",listener:(0,a("ijhQY").default)(i,u,t)}),[u,t]);let p={menuItemRefs:i.current,registerRef:d};return(0,r.jsx)(s.Provider,{value:p,children:e})}}),r("ijhQY",function(e,r){t(e.exports,"default",()=>o);let n={[a("4JWgN").KEY_DOWN]:"next",[a("4JWgN").KEY_UP]:"prev",[a("4JWgN").KEY_HOME]:"first",[a("4JWgN").KEY_END]:"last"},s=(e,t)=>{for(let a=0;a<e.length-1;a++){t+1===e.length?t=0:t++;let{current:a}=e[t];if(a&&!a.hasAttribute("disabled"))return a}},i=(e,t)=>{for(let a=0;a<e.length-1;a++){0===t?t=e.length-1:t--;let{current:a}=e[t];if(a&&!a.hasAttribute("disabled"))return a}};function o(e,t,r){return o=>{let l=e.current??[],c=l.findIndex(({current:e})=>e&&document.activeElement?.isSameNode(e));if((0,a("dh538").fg)("platform_dst_popup-disable-focuslock")){let e=!!document.activeElement?.closest(`[id^=${a("6XsRH").PREFIX}]`);if(t()&&e){o.key!==a("4JWgN").KEY_TAB||o.shiftKey||r(o);return}}else if(t()){o.key!==a("4JWgN").KEY_TAB||o.shiftKey||r(o);return}switch(n[o.key]){case"next":o.preventDefault();let d=s(l,c);d?.focus();break;case"prev":o.preventDefault();let u=i(l,c);u?.focus();break;case"first":o.preventDefault();let p=s(l,-1);p?.focus();break;case"last":o.preventDefault();let m=i(l,l.length);m?.focus();break;default:return}}}}),r("6XsRH",function(e,r){t(e.exports,"default",()=>s);let n="ds--dropdown--";function s(){let e=(0,a("c0qxy").useId)();return`${n}${e}`}e.exports.PREFIX=n}),r("rTIrg",function(e,t){var r=a("l998X"),n=a("42omo");let s=({statusLabel:e="Loading",testId:t})=>(0,r.jsx)(a("gdv5Z").default,{xcss:"_1e0c1txw _1ul91lit _1bah1h6o _ca0qv47k _u5f3v47k _n3tdv47k _19bvv47k",role:"menuitem",children:(0,r.jsx)(a("9hlns").default,{size:"small",label:e,testId:t})});e.exports.default=({children:e,isLoading:t,maxHeight:i,maxWidth:o,onClose:l,onUpdate:c,statusLabel:d,setInitialFocusRef:u,shouldRenderToParent:p,spacing:m,testId:f,isTriggeredUsingKeyboard:g,autoFocus:h,menuLabel:E})=>{let{menuItemRefs:b}=(0,n.useContext)(a("4hF42").FocusManagerContext);return(0,n.useLayoutEffect)(()=>{c()},[t,c]),(0,n.useEffect)(()=>{let e=b.map(({current:e})=>e).find(e=>!!e&&!e.hasAttribute("disabled"))??null;p&&(g||h)&&e?.focus(),u?.(e)},[b,u,h,p,g]),(0,r.jsx)(a("2SlZp").default,{isLoading:t,maxHeight:i,maxWidth:o,onClick:e=>{b.some(t=>{let{current:r}=t;if(!r)return!1;let n=(0,a("51SOF").default)(r)||(0,a("4AsMp").default)(r);return r.contains(e.target)&&!n})&&l&&l(e)},role:"menu",spacing:m,testId:f&&`${f}--menu-group`,menuLabel:E,children:t?(0,r.jsx)(s,{statusLabel:d,testId:f&&`${f}--loading-indicator`}):e})}}),r("51SOF",function(e,a){t(e.exports,"default",()=>r);function r(e){let t=e.getAttribute("role");return"checkbox"===t||"menuitemcheckbox"===t}}),r("4AsMp",function(e,a){t(e.exports,"default",()=>r);function r(e){let t=e.getAttribute("role");return"radio"===t||"menuitemradio"===t}}),r("nVQ0B",function(e,t){var r=a("l998X"),n=a("42omo");let s=(0,n.createContext)({setItemState:a("ee7An").default,getItemState:()=>void 0,setGroupState:a("ee7An").default,getGroupState:()=>({})});e.exports.SelectionStoreContext=s,e.exports.default=e=>{let{children:t}=e,a=(0,n.useRef)({}),i=(0,n.useMemo)(()=>({setItemState:(e,t,r)=>{a.current[e]||(a.current[e]={}),a.current[e][t]=r},getItemState:(e,t)=>{if(a.current[e])return a.current[e][t]},setGroupState:(e,t)=>{a.current[e]=t},getGroupState:e=>a.current[e]||{}}),[]);return(0,r.jsx)(s.Provider,{value:i,children:t})}}),r("dhBFe",function(e,t){var r=a("42omo");e.exports.default=function(e=!1){let{registerRef:t}=(0,r.useContext)(a("4hF42").FocusManagerContext),n=(0,r.useRef)(null);return(0,r.useEffect)(()=>{e&&(0,a("dh538").fg)("select-avoid-duplicated-registered-ref")||t(n)},[t,e]),n}}),r("dAYOx",function(e,t){var r=a("l998X"),n=a("42omo");let s=(0,n.forwardRef)(({children:e,component:t,description:s,elemAfter:i,elemBefore:o,href:l,isDisabled:c,isSelected:d,onClick:u,rel:p,shouldDescriptionWrap:m=!0,shouldTitleWrap:f=!0,target:g,testId:h,UNSAFE_shouldDisableRouterLink:E,returnFocusRef:b,interactionName:_,role:y,...v},S)=>{let A=(0,a("dhBFe").default)(!!v["aria-haspopup"]),C=(0,n.useCallback)(e=>{b?.current&&b.current.focus(),u&&u(e)},[u,b]);return t?(0,r.jsx)(a("d77M1").default,{component:t,description:s,iconAfter:i,iconBefore:o,isDisabled:c,isSelected:d,onClick:C,ref:(0,a("3654r").default)([S,A]),shouldDescriptionWrap:m,shouldTitleWrap:f,testId:h,href:l,target:g,rel:p,interactionName:_,...v,children:e}):l?(0,r.jsx)(a("cGtPE").default,{description:s,href:l,iconAfter:i,iconBefore:o,isDisabled:c,isSelected:d,onClick:C,ref:(0,a("3654r").default)([S,A]),rel:p,role:"menuitem",shouldDescriptionWrap:m,shouldTitleWrap:f,target:g,testId:h,UNSAFE_shouldDisableRouterLink:E,interactionName:_,...v,children:e}):(0,r.jsx)(a("56M4r").default,{description:s,iconAfter:i,iconBefore:o,isDisabled:c,isSelected:d,onClick:C,ref:(0,a("3654r").default)([S,A]),role:y||"menuitem",shouldDescriptionWrap:m,shouldTitleWrap:f,testId:h,target:g,rel:p,interactionName:_,...v,children:e})});e.exports.default=s}),r("ahaN7",function(e,t){var r=a("l998X");let n=(0,a("42omo").forwardRef)(({children:e,id:t,isList:n,isScrollable:s,title:i,testId:o,hasSeparator:l,...c},d)=>{let u=(0,a("c0qxy").useId)(),p=`dropdown-menu-item-group-title-${u}`;return(0,r.jsxs)(a("7rvPL").default,{id:t,ref:d,isList:n,isScrollable:s,hasSeparator:l,testId:o,titleId:i?p:void 0,...c,children:[i&&(0,r.jsx)(a("2UQGL").default,{id:p,title:i}),e]})});e.exports.default=n}),r("2UQGL",function(e,t){var r=a("l998X");a("42omo");e.exports.default=({id:e,title:t})=>(0,r.jsx)(a("gdv5Z").default,{"data-ds--menu--heading-item":!0,role:"menuitem",id:e,"aria-hidden":"true",xcss:"_11c81vhk _1rjcze3t _18zrpxbi _syazazsu",children:t})}),r("29DUH",function(t,r){var n=a("l998X");a("42omo");let s=({description:t,title:r})=>{let{formatMessage:s}=(0,a("8C5kA").default)();return(0,n.jsx)(a("aD1SW").default,{icon:(0,n.jsx)(e(a("3sFtD")),{spacing:"spacious",color:`var(--ds-icon-success, ${a("6fnsQ").G300})`,label:"Success"}),id:"feedbackSent",description:t||s((0,a("dh538").fg)("product-terminology-refresh")?a("fSdY7").messages.feedbackSuccessFlagDescriptionAppify:a("fSdY7").messages.feedbackSuccessFlagDescription),title:r||s(a("fSdY7").messages.feedbackSuccessFlagTitle)})};t.exports.default=e=>(0,n.jsx)(a("giCws").IntlProviderWithResolvedMessages,{locale:e.locale,children:(0,n.jsx)(s,{...e})})}),r("fSdY7",function(e,t){let r=(0,a("cgtv4").defineMessages)({feedbackTitle:{id:"feedback-collector.feedback-title",defaultMessage:"Share your thoughts"},enrolInResearchLabel:{id:"feedback-collector.enrol-in-research.label",defaultMessage:"I'd like to participate in product research"},canBeContactedLabel:{id:"feedback-collector.can-be-contacted.label",defaultMessage:"Yes, Atlassian teams can contact me to learn about my experiences to improve Atlassian products and services. I acknowledge the <a>Atlassian Privacy Policy</a>."},canBeContactedLabelWithoutLink:{id:"feedback-collector.can-be-contacted.label-without-link",defaultMessage:"Yes, Atlassian teams can contact me to learn about my experiences to improve Atlassian products and services. I acknowledge the Atlassian Privacy Policy."},privacyPolicy:{id:"feedback-collector.privacy-policy",defaultMessage:"Atlassian Privacy Policy"},summaryPlaceholder:{id:"feedback-collector.summary-placeholder",defaultMessage:"Let us know what's on your mind"},formCommentLabel:{id:"feedback-collector.form.comment.label",defaultMessage:"Let us know what's on your mind"},submitButtonLabel:{id:"feedback-collector.submit-button.label",defaultMessage:"Send feedback"},cancelButtonLabel:{id:"feedback-collector.cancel-button.label",defaultMessage:"Cancel"},giveFeedback:{id:"proforma-form-builder.give-feedback",defaultMessage:"Give feedback"},formBugLabel:{id:"feedback-collector.form.bug.label",defaultMessage:"Describe the bug or issue"},formSuggestionLabel:{id:"feedback-collector.form.suggestion.label",defaultMessage:"Let us know what you'd like to improve"},formQuestionLabel:{id:"feedback-collector.form.question.label",defaultMessage:"What would you like to know?"},formEmptyLabel:{id:"feedback-collector.form.empty.label",defaultMessage:"Select an option"},formNotRelevantLabel:{id:"feedback-collector.form.not-relevant.label",defaultMessage:"Wasn't relevant"},formNotAccurateLabel:{id:"feedback-collector.form.not-accurate.label",defaultMessage:"Wasn't accurate"},formTooSlowLabel:{id:"feedback-collector.form.too-slow.label",defaultMessage:"Too slow"},formUnhelpfulLinksLabel:{id:"feedback-collector.form.unhelpful-links.label",defaultMessage:"Unhelpful links"},formOtherLabel:{id:"feedback-collector.form.other.label",defaultMessage:"Other"},selectionOptionQuestionLabel:{id:"feedback-collector.option.question.label",defaultMessage:"Ask a question"},selectionOptionCommentLabel:{id:"feedback-collector.option.comment.label",defaultMessage:"Leave a comment"},selectionOptionBugLabel:{id:"feedback-collector.option.bug.label",defaultMessage:"Report a bug"},selectionOptionSuggestionLabel:{id:"feedback-collector.option.suggestion.label",defaultMessage:"Suggest an improvement"},selectionOptionDefaultLabel:{id:"feedback-collector.option.default.label",defaultMessage:"Select feedback"},selectionOptionDefaultPlaceholder:{id:"feedback-collector.option.default.placeholder",defaultMessage:"Choose one"},feedbackIconLabel:{id:"proforma-form-builder.feedback-icon-label",defaultMessage:"Feedback"},feedbackSuccessFlagDescription:{id:"feedback-collector.success-flag.description",defaultMessage:"Your valuable feedback helps us continually improve our products."},feedbackSuccessFlagTitle:{id:"feedback-collector.success-flag.title",defaultMessage:"Thanks!"},feedbackIsAnonymousTitle:{id:"feedback-collector.anonymous.title",defaultMessage:"Anonymous feedback"},feedbackIsAnonymous:{id:"feedback-collector.anonymous",defaultMessage:"This feedback is being submitted anonymously. Atlassian will not be able to contact you directly regarding this feedback"},requiredFieldsSummary:{id:"feedback-collector.required.fields.summary",defaultMessage:"Required fields are marked with an asterisk"},defaultCustomTextAreaLabel:{id:"feedback-collector.default.custom.textarea.label",defaultMessage:"What's on your mind?"},canBeContactedLabelAppify:{id:"feedback-collector.can-be-contacted.label-appify",defaultMessage:"Yes, Atlassian teams can contact me to learn about my experiences to improve Atlassian apps and services. I acknowledge the <a>Atlassian Privacy Policy</a>."},canBeContactedLabelAppifyWithoutLink:{id:"feedback-collector.can-be-contacted.label-appify-without-link",defaultMessage:"Yes, Atlassian teams can contact me to learn about my experiences to improve Atlassian apps and services. I acknowledge the Atlassian Privacy Policy."},feedbackSuccessFlagDescriptionAppify:{id:"feedback-collector.success-flag.description-appify",defaultMessage:"Your valuable feedback helps us continually improve our apps."},validationErrorTypeRequired:{id:"feedback-collector.validation.type.required",defaultMessage:"Please select a feedback type"},validationErrorDescriptionRequired:{id:"feedback-collector.validation.description.required",defaultMessage:"Please provide a description"},optInOptionsLegend:{id:"feedback-collector.opt-in.options.legend",defaultMessage:"Atlassian opt-in options"}});e.exports.messages=r}),r("giCws",function(e,t){var r=a("l998X"),n=a("42omo");e.exports.IntlProviderWithResolvedMessages=({children:e,locale:t})=>{let[s,i]=(0,n.useState)();return(0,n.useEffect)(()=>{(async()=>{t&&i(await (0,a("1tbUg").getMessagesForLocale)(t))})()},[t]),(0,r.jsx)(a("1e2E5").default,{locale:t||"en",defaultLocale:"en",messages:s,children:e})}}),r("1tbUg",function(e,t){let a=async e=>{e=e.replace("-","_");try{return(await import(`../i18n/${e}`)).default}catch(e){}try{let t=e.split(/[-_]/)[0];return(await import(`../i18n/${t}`)).default}catch(e){}};e.exports.getMessagesForLocale=a}),r("3P1RK",function(e,t){var r,n=((r={}).Groups="groups",r.Users="users",r.Guests="guests",r.AnonymousAccess="anonymous",r.PublicLinks="public-links",r.Analytics="analytics",r.Apps="apps",r);let s={groups:a("fHoxN").PermissionDisplayType.GROUP,users:a("fHoxN").PermissionDisplayType.LICENSED_USER,guests:a("fHoxN").PermissionDisplayType.GUEST_USER,anonymous:a("fHoxN").PermissionDisplayType.ANONYMOUS};e.exports.SpacePermissionsTabKey=n,e.exports.SPACE_PERMISSION_TAB_KEY_PRINCIPAL_MAP=s}),r("fHoxN",function(e,t){var a,r,n=((a={}).ANONYMOUS="ANONYMOUS",a.GROUP="GROUP",a.GUEST_USER="GUEST_USER",a.LICENSED_USER="LICENSED_USER",a),s=((r={}).ADMINISTER_SPACE="ADMINISTER_SPACE",r.ARCHIVE_PAGE="ARCHIVE_PAGE",r.ARCHIVE_SPACE="ARCHIVE_SPACE",r.COMMENT="COMMENT",r.CREATE_ATTACHMENT="CREATE_ATTACHMENT",r.CREATE_BLOG="CREATE_BLOG",r.CREATE_EDIT_PAGE="CREATE_EDIT_PAGE",r.DELETE_SPACE="DELETE_SPACE",r.EDIT_BLOG="EDIT_BLOG",r.EDIT_NATIVE_CONTENT="EDIT_NATIVE_CONTENT",r.EXPORT_CONTENT="EXPORT_CONTENT",r.EXPORT_PAGE="EXPORT_PAGE",r.EXPORT_SPACE="EXPORT_SPACE",r.MANAGE_GUEST_USERS="MANAGE_GUEST_USERS",r.MANAGE_NONLICENSED_USERS="MANAGE_NONLICENSED_USERS",r.MANAGE_PUBLIC_LINKS="MANAGE_PUBLIC_LINKS",r.MANAGE_USERS="MANAGE_USERS",r.REMOVE_ATTACHMENT="REMOVE_ATTACHMENT",r.REMOVE_BLOG="REMOVE_BLOG",r.REMOVE_COMMENT="REMOVE_COMMENT",r.REMOVE_MAIL="REMOVE_MAIL",r.REMOVE_OWN_CONTENT="REMOVE_OWN_CONTENT",r.REMOVE_PAGE="REMOVE_PAGE",r.SET_PAGE_PERMISSIONS="SET_PAGE_PERMISSIONS",r.VIEW_SPACE="VIEW_SPACE",r);e.exports.PermissionDisplayType=n,e.exports.SpacePermissionType=s}),r("biiXa",function(e,r){t(e.exports,"default",()=>n),t(e.exports,"FeedbackFlag",()=>a("29DUH").default);var n=a("hrGQb").default}),r("hrGQb",function(e,t){var r=a("l998X"),n=a("iA9co"),s=a("42omo");let i=100,o=(e,t=i)=>{let r=e.replace(/\n/g," ");return(0,a("gpfq4").default)(r,t)};class l extends s.Component{async componentDidMount(){let e=!await this.shouldShowOptInCheckboxesNew();this.setState({anonymousFeedback:e})}getGatewayUrl(){let{customGatewayUrl:e,url:t}=this.props;return e||t||l.defaultProps.url}getFeedbackUrl(){let{customFeedbackUrl:e,url:t}=this.props;return e||t||l.defaultProps.url}getPackageVersion(){return"0.0.0-use.local"}async getEntitlementInformation(){let e,t,r,n,s,i=this.getGatewayUrl();if(window.location.host.includes("bitbucket.org"))e="Bitbucket",n="bitbucket",t=(r=JSON.parse(JSON.stringify(document.querySelector('meta[id="bb-bootstrap"]')?.getAttribute("data-current-user")))).hasPremium?"PREMIUM":"STANDARD";else if(["trellis.coffee","trello.com"].includes(window.location.host))e="Trello",n="trello";else{document.querySelector('meta[id="confluence-context-path"]')?(e="Confluence",n="pricingplan.confluence.ondemand"):(e="Jira",n="jira-software.ondemand");try{r=await fetch(`${i}/customer-context/entitlements/${window.location.host}`,{method:"GET",headers:{"Content-Type":"application/json"},...(0,a("2KPHZ").isApiGatewayUrl)(i)?{credentials:"include"}:{}})}catch(e){r=void 0}}let o=[],l=r?.cloudSiteId||"";return r?.children&&(s=r?.children.find(e=>e.key===n)),o.push({id:"product",value:e?e?.toLowerCase():""},{id:"hostingType",value:s?.product?s.product.hostingType:"CLOUD"},{id:"entitlementEdition",value:t??""},{id:"cloudId",value:l}),o}getTypeFieldValue(e){switch(e){case"bug":return this.props.typeBugDefaultValue;case"comment":return this.props.typeCommentDefaultValue;case"suggestion":return this.props.typeSuggestionDefaultValue;case"question":return this.props.typeQuestionDefaultValue;default:return this.props.typeEmptyDefaultValue}}async getAtlassianID(){let{atlassianAccountId:e,shouldGetEntitlementDetails:t}=this.props;try{if(e||!t)return e;let r=this.getGatewayUrl(),n=await fetch(`${r}/me`,{method:"GET",headers:{"Content-Type":"application/json"},...(0,a("2KPHZ").isApiGatewayUrl)(r)?{credentials:"include"}:{}});return(await n.json()).account_id}catch(e){return}}shouldShowOptInCheckboxes(){let e;return this.props.anonymousFeedback?!this.props.anonymousFeedback:!!this.props.atlassianAccountId||(this.getAtlassianID().then(t=>{e=void 0!==t}).catch(()=>{e=!1}),e)}shouldShowOptInCheckboxesNew(){return new Promise(e=>{this.props.anonymousFeedback&&e(!this.props.anonymousFeedback),this.props.atlassianAccountId&&e(!0),this.getAtlassianID().then(t=>{e(void 0!==t)}).catch(()=>{e(!1)})})}getDescription(e){return e.description||this.props.descriptionDefaultValue}getSummary(e){return o(e.description,this.props.summaryTruncateLength)||this.props.summaryDefaultValue}getCustomerName(){return this.props.name??this.props.customerNameDefaultValue}addEmailToContext(){let e=this.props.additionalFields.find(e=>"customfield_10047"===e.id);e?e.value=`${e.value}
        email: ${this.props.email}`:this.props.additionalFields.push({id:"customfield_10047",value:`email: ${this.props.email}`})}addAccountIdToContext(e){if(e){let t=this.props.additionalFields.find(e=>"customfield_10047"===e.id);t&&(t.value=`${t.value}
			atlassian-account-id: ${e}`)}}async mapFormToJSD(e){let t=null;this.props?.shouldGetEntitlementDetails&&(t=await this.getEntitlementInformation()),this.props?.email&&this.addEmailToContext();let a=await this.getAtlassianID();return this.addAccountIdToContext(a),{fields:[...null!==t&&t||[],this.props.showTypeField?{id:this.props.typeFieldId,value:this.getTypeFieldValue(e.type)}:void 0,{id:this.props.summaryFieldId,value:this.getSummary(e)},{id:this.props.descriptionFieldId,value:this.getDescription(e)},{id:"aaidOrHash",value:e.canBeContacted?a:void 0},{id:this.props.customerNameFieldId,value:this.getCustomerName()},e.canBeContacted?{id:this.props.canBeContactedFieldId,value:this.props.canBeContactedAgreeValue}:{id:this.props.canBeContactedFieldId,value:this.props.canBeContactedDeclineValue},e.enrollInResearchGroup?{id:this.props.enrollInResearchFieldId,value:this.props.enrollInResearchAgreeValue}:{id:this.props.enrollInResearchFieldId,value:this.props.enrollInResearchDeclineValue},...this.props.additionalFields].filter(Boolean)}}render(){let e=!this.shouldShowOptInCheckboxes();return(0,r.jsx)(a("8zkrp").default,{customContent:this.props.customContent,feedbackTitle:this.props.feedbackTitle,feedbackTitleDetails:this.props.feedbackTitleDetails,showTypeField:this.props.showTypeField,showDefaultTextFields:this.props.showDefaultTextFields,hasDescriptionDefaultValue:!!this.props.descriptionDefaultValue,canBeContactedLabel:this.props.canBeContactedLabel,enrolInResearchLabel:this.props.enrolInResearchLabel,summaryPlaceholder:this.props.summaryPlaceholder,submitButtonLabel:this.props.submitButtonLabel,cancelButtonLabel:this.props.cancelButtonLabel,feedbackGroupLabels:this.props.feedbackGroupLabels,onSubmit:this.postFeedback,onClose:this.props.onClose,locale:this.props.locale,anonymousFeedback:(0,a("dh538").fg)("platform.proforma-form-builder-feedback_hupaz")?this.state.anonymousFeedback:e,selectLabel:this.props.selectLabel,customTextAreaLabel:this.props.customTextAreaLabel,customFeedbackOptions:this.props.customFeedbackOptions,shouldReturnFocusRef:this.props.shouldReturnFocusRef,disableSubmitButton:this.props.disableSubmitButton,...(0,a("dh538").fg)("jfp_a11y_team_feedback_collector_nested_elements")&&{enrolInResearchLink:this.props.enrolInResearchLink,canBeContactedLink:this.props.canBeContactedLink},showRequiredFieldsSummary:this.props.showRequiredFieldsSummary})}constructor(...e){super(...e),this.state={anonymousFeedback:!0},this.postFeedback=async e=>{let t=this.props.entrypointId,r=this.getFeedbackUrl();if(t){let t=await this.mapFormToJSD(e),s={feedback:{entrypointId:this.props.entrypointId,entrypointUiVersion:this.getPackageVersion(),...t}};(0,a("2KPHZ").isApiGatewayUrl)(r)?r+="/feedback-collector-api":this.props.customFeedbackUrl||(r="https://feedback-collector-api.services.atlassian.com"),fetch(`${r}/v2/feedback`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:n.Buffer.from(JSON.stringify(s)).toString("base64")}),credentials:"include"})}this.props.onClose(),setTimeout(()=>this.props.onSubmit(e),this.props.timeoutOnSubmit)}}}l.defaultProps={locale:"en",url:"/gateway/api",shouldGetEntitlementDetails:!0,canBeContactedFieldId:"customfield_10043",canBeContactedAgreeValue:[{id:"10109"}],canBeContactedDeclineValue:[{id:"10111"}],additionalFields:[],customerNameFieldId:"customfield_10045",customerNameDefaultValue:"unknown",descriptionFieldId:"description",descriptionDefaultValue:"",enrollInResearchFieldId:"customfield_10044",enrollInResearchAgreeValue:[{id:"10110"}],enrollInResearchDeclineValue:[{id:"10112"}],summaryFieldId:"summary",summaryDefaultValue:"",summaryTruncateLength:100,timeoutOnSubmit:700,typeFieldId:"customfield_10042",typeBugDefaultValue:{id:"10105"},typeCommentDefaultValue:{id:"10106"},typeSuggestionDefaultValue:{id:"10107"},typeQuestionDefaultValue:{id:"10108"},typeEmptyDefaultValue:{id:"empty"},showTypeField:!0,showDefaultTextFields:!0,anonymousFeedback:!1,onClose:()=>{},onSubmit:()=>{}},e.exports.default=l}),r("2KPHZ",function(e,t){e.exports.isApiGatewayUrl=e=>["/gateway/api"].includes(e)}),r("gpfq4",function(e,a){t(e.exports,"default",()=>r);function r(e,t){return e&&t&&!(e.length<=t)?e.substring(0,t)+"...":e}}),r("8zkrp",function(e,t){var r=a("l998X"),n=a("42omo");let s=({children:e})=>(0,r.jsx)("span",{style:{paddingInlineStart:"var(--ds-space-300, 24px)",marginInlineStart:"var(--ds-space-050, 4px)"},children:e}),i=({showTypeField:e=!0,showDefaultTextFields:t=!0,customContent:i,onClose:o,onSubmit:l,feedbackTitle:c,feedbackTitleDetails:d,feedbackGroupLabels:u,summaryPlaceholder:p,canBeContactedLabel:m,canBeContactedLink:f,enrolInResearchLabel:g,enrolInResearchLink:h,submitButtonLabel:E,cancelButtonLabel:b,anonymousFeedback:_,hasDescriptionDefaultValue:y,selectLabel:v,customTextAreaLabel:S,customFeedbackOptions:A=[],shouldReturnFocusRef:C,disableSubmitButton:I,showRequiredFieldsSummary:T=!0})=>{let[x,k]=(0,n.useState)(!1),[R,O]=(0,n.useState)(""),[w,L]=(0,n.useState)(!1),[P,D]=(0,n.useState)("empty"),[M,N]=(0,n.useState)(!1),[U,j]=(0,n.useState)({}),{formatMessage:B}=(0,a("8C5kA").default)(),F=()=>"empty"!==P,G=F()||!e,V=R||y,q=(0,a("dh538").fg)("feedback-collector-custom-validation"),K=q?M||I:I||e&&!F()||!V,H=()=>{let r={};return e&&!F()&&(r.type=B(a("fSdY7").messages.validationErrorTypeRequired)),t&&!V&&(r.description=B(a("fSdY7").messages.validationErrorDescriptionRequired)),r},z=e=>({bug:e?.bug?.fieldLabel||B(a("fSdY7").messages.formBugLabel),comment:e?.comment?.fieldLabel||B(a("fSdY7").messages.formCommentLabel),suggestion:e?.suggestion?.fieldLabel||B(a("fSdY7").messages.formSuggestionLabel),question:e?.question?.fieldLabel||B(a("fSdY7").messages.formQuestionLabel),empty:e?.empty?.fieldLabel||B(a("fSdY7").messages.formEmptyLabel),not_relevant:e?.not_relevant?.fieldLabel||B(a("fSdY7").messages.formNotRelevantLabel),not_accurate:e?.not_accurate?.fieldLabel||B(a("fSdY7").messages.formNotAccurateLabel),too_slow:e?.too_slow?.fieldLabel||B(a("fSdY7").messages.formTooSlowLabel),unhelpful_links:e?.unhelpful_links?.fieldLabel||B(a("fSdY7").messages.formUnhelpfulLinksLabel),other:e?.other?.fieldLabel||B(a("fSdY7").messages.formOtherLabel)}),W=e=>e?.empty?.selectOptionLabel||B(a("fSdY7").messages.selectionOptionDefaultPlaceholder),Y=(0,n.useRef)(),Q=A.length>0?A:[{label:u?.question?.selectOptionLabel||B(a("fSdY7").messages.selectionOptionQuestionLabel),value:"question"},{label:u?.comment?.selectOptionLabel||B(a("fSdY7").messages.selectionOptionCommentLabel),value:"comment"},{label:u?.bug?.selectOptionLabel||B(a("fSdY7").messages.selectionOptionBugLabel),value:"bug"},{label:u?.suggestion?.selectOptionLabel||B(a("fSdY7").messages.selectionOptionSuggestionLabel),value:"suggestion"}],$=()=>(0,a("dh538").fg)("jfp_a11y_team_feedback_collector_nested_elements")?a("fSdY7").messages.canBeContactedLabelAppifyWithoutLink:a("fSdY7").messages.canBeContactedLabelAppify,X=()=>(0,a("dh538").fg)("jfp_a11y_team_feedback_collector_nested_elements")?a("fSdY7").messages.canBeContactedLabelWithoutLink:a("fSdY7").messages.canBeContactedLabel,J=(0,r.jsxs)("p",{style:{color:`var(--ds-text-subtle, ${a("6fnsQ").N300})`,marginBottom:"var(--ds-space-300, 24px)"},children:[B(a("fSdY7").messages.requiredFieldsSummary),(0,r.jsx)(a("jVhgp").default,{})]}),Z=(0,r.jsx)("p",{children:B(a("fSdY7").messages.feedbackIsAnonymous)});return(0,r.jsx)(a("8CZUH").default,{shouldCloseOnOverlayClick:!1,onClose:o,testId:"feedbackCollectorModalDialog",shouldReturnFocus:C,shouldScrollInViewport:!0,children:(0,a("dh538").fg)("platform-design_system_team-form_conversion")?(0,r.jsxs)(a("fzqvY").default,{onSubmit:async()=>{if(q){let e=H();if(Object.keys(e).length>0)return void j(e)}N(!0);try{await l({canBeContacted:x,description:R,enrollInResearchGroup:w,type:P})}finally{N(!1)}},children:[(0,r.jsx)(a("9ot3w").default,{hasCloseButton:!0,children:(0,r.jsx)(a("d8eRd").default,{children:c||(0,r.jsx)(a("gtD4K").default,{...a("fSdY7").messages.feedbackTitle})})}),(0,r.jsxs)(a("1DHa6").default,{children:[(0,a("dh538").fg)("ak_feedback_collector_hide_required_summary")?T&&J:J,d,i,e?(0,r.jsx)(a("fb3kw").default,{name:"topic",label:v||B(a("fSdY7").messages.selectionOptionDefaultLabel),isRequired:!0,children:({fieldProps:{id:e,...t}})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a("2gD2K").default,{...t,onChange:e=>{e&&!(e instanceof Array)&&(D(e.value),q&&U.type&&j(e=>({...e,type:void 0})))},menuPortalTarget:document.body,styles:{menuPortal:e=>({...e,zIndex:9999})},options:Q,ref:Y,placeholder:W(u),inputId:e}),q&&U.type&&(0,r.jsx)(a("gQhRa").ErrorMessage,{children:U.type})]})}):null,t&&G&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a("fb3kw").default,{label:e?z(u)[P]:S||B(a("fSdY7").messages.defaultCustomTextAreaLabel),isRequired:!0,name:"description",children:({fieldProps:e})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a("9EtP6").default,{...e,name:"foo",minimumRows:6,placeholder:p||void 0,onChange:e=>{O(e.target.value),q&&U.description&&j(e=>({...e,description:void 0}))},value:R}),q&&U.description&&(0,r.jsx)(a("gQhRa").ErrorMessage,{children:U.description})]})}),!_&&(0,r.jsxs)(a("kuB2l").default,{children:[(0,r.jsx)("legend",{"aria-hidden":!1,hidden:!0,children:(0,r.jsx)(a("gtD4K").default,{...a("fSdY7").messages.optInOptionsLegend})}),(0,r.jsx)(a("fb3kw").default,{name:"can-be-contacted",children:({fieldProps:e})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a("7gpC4").default,{...e,"aria-describedby":void 0,label:m||(0,r.jsx)(a("gtD4K").default,{...(0,a("dh538").fg)("product-terminology-refresh")?$():X(),...!(0,a("dh538").fg)("jfp_a11y_team_feedback_collector_nested_elements")&&{values:{a:e=>(0,r.jsx)(a("2Nwuj").default,{href:"https://www.atlassian.com/legal/privacy-policy",target:"_blank",children:e})}}}),onChange:e=>k(e.target.checked)}),m&&f&&(0,a("dh538").fg)("jfp_a11y_team_feedback_collector_nested_elements")&&(0,r.jsx)(s,{children:f}),!m&&(0,a("dh538").fg)("jfp_a11y_team_feedback_collector_nested_elements")&&(0,r.jsx)(s,{children:(0,r.jsx)(a("2Nwuj").default,{href:"https://www.atlassian.com/legal/privacy-policy",target:"_blank",children:B(a("fSdY7").messages.privacyPolicy)})})]})}),(0,r.jsx)(a("fb3kw").default,{name:"enroll-in-research-group",children:({fieldProps:e})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a("7gpC4").default,{...e,"aria-describedby":void 0,label:g||B(a("fSdY7").messages.enrolInResearchLabel),onChange:e=>L(e.target.checked)}),g&&h&&(0,a("dh538").fg)("jfp_a11y_team_feedback_collector_nested_elements")&&(0,r.jsx)(s,{children:h})]})})]})||(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a("fb3kw").default,{name:"anonymousFeedback",children:()=>(0,r.jsx)(a("aoVih").default,{title:B(a("fSdY7").messages.feedbackIsAnonymousTitle),appearance:"information",children:Z})})})]})]}),(0,r.jsxs)(a("8o1lj").default,{children:[(0,r.jsx)(a("eEA8O").default,{appearance:"subtle",onClick:o,children:b||(0,r.jsx)(a("gtD4K").default,{...a("fSdY7").messages.cancelButtonLabel})}),(0,r.jsx)(a("eEA8O").default,{appearance:"primary",type:"submit",isDisabled:M||K,testId:"feedbackCollectorSubmitBtn",children:E||(0,r.jsx)(a("gtD4K").default,{...a("fSdY7").messages.submitButtonLabel})})]})]}):(0,r.jsx)(a("fzqvY").default,{onSubmit:async()=>{if(q){let e=H();if(Object.keys(e).length>0)return void j(e)}N(!0);try{await l({canBeContacted:x,description:R,enrollInResearchGroup:w,type:P})}finally{N(!1)}},children:({formProps:n})=>(0,r.jsxs)("form",{...n,children:[(0,r.jsx)(a("9ot3w").default,{hasCloseButton:!0,children:(0,r.jsx)(a("d8eRd").default,{children:c||(0,r.jsx)(a("gtD4K").default,{...a("fSdY7").messages.feedbackTitle})})}),(0,r.jsxs)(a("1DHa6").default,{children:[(0,a("dh538").fg)("ak_feedback_collector_hide_required_summary")?T&&J:J,d,i,e?(0,r.jsx)(a("fb3kw").default,{name:"topic",label:v||B(a("fSdY7").messages.selectionOptionDefaultLabel),isRequired:!0,children:({fieldProps:{id:e,...t}})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a("2gD2K").default,{...t,onChange:e=>{e&&!(e instanceof Array)&&(D(e.value),q&&U.type&&j(e=>({...e,type:void 0})))},menuPortalTarget:document.body,styles:{menuPortal:e=>({...e,zIndex:9999})},options:Q,ref:Y,placeholder:W(u),inputId:e}),q&&U.type&&(0,r.jsx)(a("gQhRa").ErrorMessage,{children:U.type})]})}):null,t&&G&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a("fb3kw").default,{label:e?z(u)[P]:S||B(a("fSdY7").messages.defaultCustomTextAreaLabel),isRequired:!0,name:"description",children:({fieldProps:e})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a("9EtP6").default,{...e,name:"foo",minimumRows:6,placeholder:p||void 0,onChange:e=>{O(e.target.value),q&&U.description&&j(e=>({...e,description:void 0}))},value:R}),q&&U.description&&(0,r.jsx)(a("gQhRa").ErrorMessage,{children:U.description})]})}),!_&&(0,r.jsxs)(a("kuB2l").default,{children:[(0,r.jsx)("legend",{"aria-hidden":!1,hidden:!0,children:(0,r.jsx)(a("gtD4K").default,{...a("fSdY7").messages.optInOptionsLegend})}),(0,r.jsx)(a("fb3kw").default,{name:"can-be-contacted",children:({fieldProps:e})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a("7gpC4").default,{...e,"aria-describedby":void 0,label:m||(0,r.jsx)(a("gtD4K").default,{...(0,a("dh538").fg)("product-terminology-refresh")?$():X(),...!(0,a("dh538").fg)("jfp_a11y_team_feedback_collector_nested_elements")&&{values:{a:e=>(0,r.jsx)(a("2Nwuj").default,{href:"https://www.atlassian.com/legal/privacy-policy",target:"_blank",children:e})}}}),onChange:e=>k(e.target.checked)}),m&&f&&(0,a("dh538").fg)("jfp_a11y_team_feedback_collector_nested_elements")&&(0,r.jsx)(s,{children:f}),!m&&(0,a("dh538").fg)("jfp_a11y_team_feedback_collector_nested_elements")&&(0,r.jsx)(s,{children:(0,r.jsx)(a("2Nwuj").default,{href:"https://www.atlassian.com/legal/privacy-policy",target:"_blank",children:B(a("fSdY7").messages.privacyPolicy)})})]})}),(0,r.jsx)(a("fb3kw").default,{name:"enroll-in-research-group",children:({fieldProps:e})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a("7gpC4").default,{...e,"aria-describedby":void 0,label:g||B(a("fSdY7").messages.enrolInResearchLabel),onChange:e=>L(e.target.checked)}),g&&h&&(0,a("dh538").fg)("jfp_a11y_team_feedback_collector_nested_elements")&&(0,r.jsx)(s,{children:h})]})})]})||(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a("fb3kw").default,{name:"anonymousFeedback",children:()=>(0,r.jsx)(a("aoVih").default,{title:B(a("fSdY7").messages.feedbackIsAnonymousTitle),appearance:"information",children:Z})})})]})]}),(0,r.jsxs)(a("8o1lj").default,{children:[(0,r.jsx)(a("eEA8O").default,{appearance:"subtle",onClick:o,children:b||(0,r.jsx)(a("gtD4K").default,{...a("fSdY7").messages.cancelButtonLabel})}),(0,r.jsx)(a("eEA8O").default,{appearance:"primary",type:"submit",isDisabled:M||K,testId:"feedbackCollectorSubmitBtn",children:E||(0,r.jsx)(a("gtD4K").default,{...a("fSdY7").messages.submitButtonLabel})})]})]})})})};e.exports.default=({locale:e,...t})=>(0,r.jsx)(a("giCws").IntlProviderWithResolvedMessages,{locale:e,children:(0,r.jsx)(i,{...t})})}),r("dcvq8",function(e,t){let r=(0,a("jmjWc").LoadableAfterPaint)({__loadable_id__:"1kdap",name:"GlobalFeedbackCollector",loader:async()=>(await a("gHIXP")).GlobalFeedbackCollector}),n=(0,a("jmjWc").LoadableLazy)({__loadable_id__:"7vDuP",name:"LazyGlobalFeedbackCollector",loader:async()=>(await a("gHIXP")).GlobalFeedbackCollector});e.exports.GlobalFeedbackCollector=r,e.exports.LazyGlobalFeedbackCollector=n}),r("gHIXP",function(e,t){let r=a("4mJKd")(5);e.exports=Promise.all([r("6wr18"),r("ffEVr"),r("Wowvf"),r("hhss7"),r("cyGuT"),r("dGk3x")]).then(()=>a("liJpy"))}),r("lx6jn",function(e,t){var a,r=((a={}).EDITOR="Editor",a.HELP_PANEL="Help Panel",a.THEME_SELECTOR="Theme Selector",a.WHITEBOARD="Whiteboard",a.EMBED="Embed",a.DATABASE="Database",a.NAV_4="Nav4",a.SHARE_DIALOG="Share Dialog",a.CONTENT_WRAPPER="Content Wrapper",a.LIVE_DOCS="Live Docs",a.EDITOR_CONTROLS="Editor Controls",a.NOTES="Notes",a.CREATE_WITH_ROVO="Create with Rovo",a);e.exports.FeedbackSource=r}),r("1sB5X",function(t,r){var n=a("42omo"),s=a("gLeLL"),i=a("4WmbV");let o=(0,a("cgtv4").defineMessages)({upsellButtonText:{id:"change-edition.public-links.upsell.upgrade-button-text",defaultMessage:"Upgrade"},upsellLearnMoreButtonText:{id:"change-edition.public-links.upsell.upgrade-learn-more-button-text",defaultMessage:"Learn more"},upsellTitle:{id:"change-edition.public-links.upsell.share-page-title",defaultMessage:"Share this content publicly"},upsellDescription:{id:"change-edition.public-links.upsell.share-page-description",defaultMessage:"Your team can use public links to share content with anyone on the internet."}}),l="https://support.atlassian.com/confluence-cloud/docs/share-content-externally-with-public-links",c=(0,a("ecnYn").xcss)({marginTop:"space.200"}),d=({appearance:t="default",href:r=l,target:s="_blank",onClick:i=()=>{},children:c})=>{let{formatMessage:d}=(0,a("8C5kA").default)();return e(n).createElement(a("7p4As").default,{appearance:t,href:r,target:s,onClick:i},c??d(o.upsellLearnMoreButtonText))};t.exports.PublicLinksLearnMoreButton=d,t.exports.PublicLinksUpsell=({upsellSource:t="publicLinksUpsell",appearance:r,href:l,target:u,onClick:p=()=>{}})=>{let{formatMessage:m}=(0,a("8C5kA").default)(),{createAnalyticsEvent:f}=(0,a("inPa6").useAnalyticsEvents)();(0,n.useEffect)(()=>{f({type:"sendUIEvent",data:{action:"shown",actionSubject:"upsell",actionSubjectId:"publicLinksUpsell",source:"publicLinksUpsell",attributes:{touchpointId:t}}}).fire()},[f,t]);let g=(0,n.useCallback)((e,a)=>{f({type:"sendUIEvent",data:{actionSubject:"button",action:"clicked",actionSubjectId:"learnMoreLink",source:"publicLinksUpsell",attributes:{touchpointId:t}}}).fire(),p(e,a)},[f,p,t]);return e(n).createElement(a("bUlM5").default,{direction:"column"},e(n).createElement(s.SectionMessage,{withGradient:!1,title:m(o.upsellTitle),body:e(n).createElement(a("5dK2X").default,null,m(o.upsellDescription)),buttonConfig:i.SectionMessageButtonConfig.NONE,source:t,customPadding:"0"}),e(n).createElement(a("bUlM5").default,{direction:"row",gap:"space.050",xcss:c},e(n).createElement(d,{appearance:r||"default",href:l,target:u,onClick:g},m(o.upsellLearnMoreButtonText))))}}),r("c50VH",function(t,r){var n=a("42omo");let s=(0,n.forwardRef)(({as:t=a("6J7Bn").ButtonBase,style:r,...s},i)=>e(n).createElement(t,{...s,style:{...r,"--_1jf6nc6":(0,a("7sObp").default)(a("j4WDj").GRADIENT_CTA_BUTTON_ACTIVE_START),"--_1kksnqn":(0,a("7sObp").default)(a("j4WDj").GRADIENT_CTA_BUTTON_ACTIVE_END),"--_1vedxvh":(0,a("7sObp").default)(a("j4WDj").GRADIENT_CTA_BUTTON_SELECTED_START),"--_480e6g":(0,a("7sObp").default)(a("j4WDj").GRADIENT_CTA_BUTTON_SELECTED_END)},ref:i,className:(0,a("gMc0m").default)(["_1tnqfajl _u3091kx8 _d16p1ano _1c04idpf _1khaidpf _zqu5idpf _3zhzidpf _btpd1ul9 _16hg15cr _1w90ya33 _1vy1ya33 _h99ltlke _gd3615cr _10hl1nf8 _1xlotlke _1l5a15cr _1jfw15cr _y9nnz89h",s.className])})),i=(0,n.forwardRef)(({as:t="span",style:r,...s},i)=>{let{textMinWidth:o,textMaxWidth:l,...c}=s;return e(n).createElement(t,{...c,style:{...r,"--_1doqf6v":(0,a("7sObp").default)(s.textMinWidth),"--_oxr9kp":(0,a("7sObp").default)(s.textMaxWidth),"--_1mkuz4m":(0,a("7sObp").default)(a("j4WDj").GRADIENT_CTA_BUTTON_INVERTED_BORDER_START),"--_10oi9u3":(0,a("7sObp").default)(a("j4WDj").GRADIENT_CTA_BUTTON_INVERTED_BORDER_END)},ref:i,className:(0,a("gMc0m").default)(["_11c82smr _1reo15vq _18m915vq _1ul9qaf7 _p12f1f1n _1e0c1ule _y3gn1h6o _1bto1l2s _o5721q9c _1itk558n _pjrq1kdv _1y1m1kdv _syaz1j28",s.className])})}),o=(0,n.forwardRef)(({as:t="div",style:r,...s},i)=>e(n).createElement(t,{...s,style:{...r,"--_1mkuz4m":(0,a("7sObp").default)(a("j4WDj").GRADIENT_CTA_BUTTON_INVERTED_BORDER_START),"--_10oi9u3":(0,a("7sObp").default)(a("j4WDj").GRADIENT_CTA_BUTTON_INVERTED_BORDER_END),"--_1jf6nc6":(0,a("7sObp").default)(a("j4WDj").GRADIENT_CTA_BUTTON_ACTIVE_START),"--_1kksnqn":(0,a("7sObp").default)(a("j4WDj").GRADIENT_CTA_BUTTON_ACTIVE_END),"--_1vedxvh":(0,a("7sObp").default)(a("j4WDj").GRADIENT_CTA_BUTTON_SELECTED_START),"--_480e6g":(0,a("7sObp").default)(a("j4WDj").GRADIENT_CTA_BUTTON_SELECTED_END)},ref:i,className:(0,a("gMc0m").default)(["_1yt4e4h9 _2rkofajl _1e0c116y _1itk19z7 _ctqnk5xx _1aq019bo",s.className])})),l=(0,n.forwardRef)(({textMaxWidth:t,textMinWidth:r,children:l,...c},d)=>e(n).createElement(o,null,e(n).createElement(s,{iconBefore:e(n).createElement(e(a("izVB4")),{label:""}),...c,ref:d},e(n).createElement(i,{textMaxWidth:t,textMinWidth:r},l))));t.exports.GradientCTAInvertedButton=l}),r("2Pg7f",function(e,t){var r=a("l998X"),n=a("42omo");let s={grid:11,stack:5};function i(e){return{AvatarGroupItem:{render:(e,t,r)=>(0,n.createElement)(e,{...t,key:(0,a("1DG7o").composeUniqueKey)(t.avatar,r)}),...e&&e.AvatarGroupItem},Avatar:{render:(e,t,r)=>(0,n.createElement)(e,{...t,key:(0,a("1DG7o").composeUniqueKey)(t,r)}),...e&&e.Avatar},MoreIndicator:{render:(e,t)=>(0,r.jsx)(e,{...t}),...e&&e.MoreIndicator}}}e.exports.default=({appearance:e="stack",avatar:t=a("esRft").default,borderColor:o,boundariesElement:l,data:c,isTooltipDisabled:d,maxCount:u,onAvatarClick:p,onMoreClick:m,overrides:f,showMoreButtonProps:g={},size:h="medium",testId:E,label:b="avatar group",moreIndicatorLabel:_,tooltipPosition:y="bottom",shouldPopupRenderToParent:v=!1})=>{let[S,A]=(0,n.useState)(!1),[C,I]=(0,n.useState)(!1),T=(0,n.useCallback)(()=>I(!1),[]),x=(0,n.useCallback)(e=>{let{clientX:t,clientY:a,type:r}=e;("keydown"===r||0===t||0===a)&&A(!0),I(e=>!e)},[]),{isFocused:k,bindFocus:R}=(0,a("loiTn").default)();function O(e,t,n){if(t<=e)return null;let s=({"aria-controls":r,"aria-expanded":n,"aria-haspopup":s,onClick:l,...c})=>i(f).MoreIndicator.render(a("2LGbr").default,{buttonProps:g,borderColor:o,count:t-e,size:h,testId:E&&`${E}--overflow-menu--trigger`,isActive:C,moreIndicatorLabel:_,"aria-controls":r,"aria-expanded":n,"aria-haspopup":s,onClick:l,...c});if("function"==typeof m)return s({onClick:m});let d=(()=>{if("scrollParent"!==l)return"window"===l?"document":"viewport"})();return(0,r.jsx)(a("lGgRw").default,{isOpen:C,onClose:T,placement:"bottom-end",boundary:"scrollParent"===l?"clippingParents":void 0,rootBoundary:d,shouldFlip:!0,zIndex:510,shouldRenderToParent:v,content:({setInitialFocusRef:t})=>(0,r.jsx)(a("6MWy1").default,{children:(0,r.jsx)(a("2cWqt").default,{onClick:e=>e.stopPropagation(),minWidth:250,maxHeight:300,setInitialFocusRef:S?t:void 0,children:(0,r.jsx)(a("7rvPL").default,{titleId:n,testId:`${E}--section`,children:c.slice(e).map((t,r)=>i(f).AvatarGroupItem.render(a("fj4Q9").default,{avatar:t,onAvatarClick:p,testId:E&&`${E}--avatar-group-item-${r+e}`,index:r+e},r+e))})})}),trigger:e=>s({...e,...R,onClick:x}),testId:E&&`${E}--overflow-menu`})}(0,n.useEffect)(()=>(C||A(!1),!k||C)?a("ee7An").default:((0,a("fFa3V").bind)(window,{type:"keydown",listener:function(e){e.key===a("4JWgN").KEY_DOWN&&(e.preventDefault(),x(e))}}),()=>{(0,a("fFa3V").bind)(window,{type:"keydown",listener:function(e){e.key===a("4JWgN").KEY_DOWN&&(e.preventDefault(),x(e))}})}),[k,C,x]);let w=void 0===u||0===u?s[e]:u,L=c.length,P=L>w?w-1:w,D=(0,a("c0qxy").useId)();return"stack"===e?(0,r.jsxs)(a("6Ac15").default,{id:D,testId:E&&`${E}--avatar-group`,"aria-label":b,size:h,children:[c.slice(0,P).map((e,n)=>{let s=e.onClick||p,l=i(f).Avatar.render(t,{...e,size:h,borderColor:o||e.borderColor,testId:E&&`${E}--avatar-${n}`,onClick:s?(e,t)=>{s(e,t,n)}:void 0,stackIndex:w-n},n);return d||e.isDisabled?l:(0,r.jsx)(a("3gadb").default,{content:e.name,testId:E&&`${E}--tooltip-${n}`,position:y,children:l},(0,a("1DG7o").composeUniqueKey)(e,n))}),O(+P,L,D)]}):(0,r.jsxs)(a("crJ46").default,{id:D,testId:E&&`${E}--avatar-group`,"aria-label":b,children:[c.slice(0,P).map((e,n)=>{let s=e.onClick||p,l=i(f).Avatar.render(t,{...e,size:h,borderColor:o||e.borderColor,testId:E&&`${E}--avatar-${n}`,onClick:s?(e,t)=>{s(e,t,n)}:void 0,stackIndex:w-n},n);return d||e.isDisabled?l:(0,r.jsx)(a("3gadb").default,{content:e.name,testId:E&&`${E}--tooltip-${n}`,position:y,children:l},(0,a("1DG7o").composeUniqueKey)(e,n))}),O(+P,L,D)]})}}),r("fj4Q9",function(e,t){var r=a("l998X");let n=(0,a("42omo").forwardRef)((e,t)=>{let{avatar:n,index:s,onAvatarClick:i,testId:o}=e,{analyticsContext:l,appearance:c,as:d,borderColor:u,children:p,href:m,isDisabled:f,key:g,label:h,name:E,onClick:b,presence:_,size:y,src:v,stackIndex:S,status:A,tabIndex:C,target:I,testId:T,...x}=n,k=(0,a("atkCk").default)(),R=(0,r.jsx)(a("esRft").default,{...x,analyticsContext:l,appearance:c,as:d,borderColor:"transparent",children:p,isDisabled:f,label:h,name:"",presence:_,size:"small",src:v,stackIndex:S,status:A,tabIndex:C,testId:o&&`${o}--avatar`}),O=b||i;return m?(0,r.jsx)(a("cGtPE").default,{ref:(0,a("3654r").default)([t,k]),href:m,target:I,rel:"_blank"===I?"noopener noreferrer":void 0,iconBefore:R,testId:o,onClick:e=>O&&O(e,void 0,s),children:E}):"function"==typeof O?(0,r.jsx)(a("56M4r").default,{ref:(0,a("3654r").default)([t,k]),onClick:e=>O&&O(e,void 0,s),iconBefore:R,testId:o,children:E}):(0,r.jsx)(a("d77M1").default,{iconBefore:R,component:({children:e,className:t,disabled:a,draggable:n,onClick:s,onDragStart:i,onMouseDown:o,ref:l,tabIndex:c,"data-testid":d,...u})=>(0,r.jsx)("button",{type:"button",className:t,disabled:a,draggable:n,onClick:s,onDragStart:i,onMouseDown:o,ref:l,tabIndex:c,"data-testid":d,...u,children:e}),testId:o,children:E})});e.exports.default=n}),r("atkCk",function(e,t){var r=a("42omo");e.exports.default=function(){let{registerRef:e}=(0,r.useContext)(a("6MWy1").FocusManagerContext),t=(0,r.useRef)(null);return(0,r.useEffect)(()=>{null!==t.current&&e(t.current)},[e]),t}}),r("6MWy1",function(e,t){var r=a("l998X"),n=a("42omo");let s=(0,n.createContext)({menuItemRefs:[],registerRef:a("ee7An").default});e.exports.FocusManagerContext=s,e.exports.default=({children:e})=>{let t=(0,n.useRef)([]),i=(0,n.useCallback)(e=>{e&&!t.current.includes(e)&&t.current.push(e)},[]);(0,n.useEffect)(()=>((0,a("fFa3V").bind)(window,{type:"keydown",listener:(0,a("1ztii").default)(t.current)}),()=>{(0,a("fFa3V").bind)(window,{type:"keydown",listener:(0,a("1ztii").default)(t.current)})}),[]);let o={menuItemRefs:t.current,registerRef:i};return(0,r.jsx)(s.Provider,{value:o,children:e})}}),r("1ztii",function(e,r){t(e.exports,"default",()=>o);let n={[a("4JWgN").KEY_DOWN]:"next",[a("4JWgN").KEY_UP]:"prev",[a("4JWgN").KEY_HOME]:"first",[a("4JWgN").KEY_END]:"last"},s=(e,t)=>{for(;t+1<e.length;){if(null===e[t+1].getAttribute("disabled"))return e[t+1];t++}},i=(e,t)=>{for(;t>0;){if(null===e[t-1].getAttribute("disabled"))return e[t-1];t--}};function o(e){return t=>{let a=e.findIndex(e=>document.activeElement?.isSameNode(e));switch(n[t.key]){case"next":if(a<e.length-1){t.preventDefault();let r=s(e,a);r?.focus()}break;case"prev":if(a>0){t.preventDefault();let r=i(e,a);r?.focus()}break;case"first":t.preventDefault();let r=s(e,-1);r?.focus();break;case"last":t.preventDefault();let o=i(e,e.length);o?.focus();break;default:return}}}}),r("crJ46",function(e,t){var r=a("l998X"),n=a("42omo");e.exports.default=({id:e,children:t,testId:s,"aria-label":i})=>(0,r.jsx)("ul",{id:e,"data-testid":s,"aria-label":i,className:(0,a("gMc0m").default)(["_1e0c1txw _1bah1y6m _1n261g80 _19121cl4 _vwz4kb7n _2mzuagmp _6rthze3t _1pfhze3t _12l2r5cr _ahbqr5cr _85i5ze3t _1q51ze3t _y4tize3t _bozgze3t",(0,a("dh538").fg)("platform-avatar-group-spacing-fix")&&"_6rth1b66 _y4tiv77o _bozgv77o"]),children:n.Children.map(t,e=>e&&(0,r.jsx)("li",{className:(0,a("gMc0m").default)(["_6rthu2gc _1pfhze3t _12l2ze3t _ahbqze3t _y4ti1b66 _bozg1b66"]),children:e}))})}),r("2cWqt",function(e,t){var r=a("l998X"),n=a("42omo");e.exports.default=({children:e,isLoading:t,maxHeight:s,maxWidth:i=800,minHeight:o,minWidth:l=320,onClick:c,role:d,setInitialFocusRef:u,spacing:p,testId:m,...f})=>{let{menuItemRefs:g}=(0,n.useContext)(a("6MWy1").FocusManagerContext);return(0,n.useEffect)(()=>{u?.(g[0])},[g,u]),(0,r.jsx)(a("2SlZp").default,{isLoading:t,maxHeight:s,maxWidth:i,minHeight:o,minWidth:l,onClick:c,role:d,spacing:p,testId:m,...f,children:e})}}),r("2LGbr",function(e,t){var r=a("l998X"),n=a("42omo");let s={root:"_19itglyw _12ji1r31 _1qu2glyw _12y31o36 _1reo15vq _18m915vq _v564ieh6 _1e0c1txw _vchh1ntv _1pfhv77o _12l2v77o _6rthv77o _ahbqv77o _1q51ze3t _y4tize3t _85i5ze3t _bozgze3t _4cvr1fhb _1bah1h6o _2lx21bp4 _80omtlke _bfhki8nm _syazi7uo _16qs1nhn _t9ec1aqe _1ejjglyw _mizu1v1w _ra3xnqa1 _1ah3yh40 _128myh40 _irr3plhp _30l3i7uo _1di61gdz _9h8hi7uo _1q8w1np6 _jlxit94y",circle:"_2rko1qll",active:"_bfhk15s3 _16qsdfwd _syaz6x5g _t9ec1np6 _irr3ufnl _30l36x5g _1di6nozp _9h8h6x5g"},i={xsmall:"_1bsb7vkz _4t3i7vkz",small:"_1bsb1tcg _4t3i1tcg",medium:"_1bsbzwfg _4t3izwfg",large:"_1bsb1ylp _4t3i1ylp",xlarge:"_1bsb16xz _4t3i16xz",xxlarge:"_1bsb1qr7 _4t3i1qr7"},o={xsmall:"_2rkolb4i _14mjlb4i",small:"_2rkolb4i _14mjlb4i",medium:"_2rkofajl _14mjfajl",large:"_2rkofajl _14mjfajl",xlarge:"_2rko1qi0 _14mj1qi0",xxlarge:"_2rkopb1k _14mjpb1k"},l={small:"_11c81o8v",medium:"_11c81o8v",large:"_11c8dcr7",xlarge:"_11c81ixg",xxlarge:"_11c81ixg"},c=(0,n.forwardRef)(({appearance:e="circle",borderColor:t="var(--ds-surface, #FFFFFF)",size:c="medium",count:d=0,testId:u,onClick:p,"aria-controls":m,"aria-expanded":f,"aria-haspopup":g,moreIndicatorLabel:h,buttonProps:E={},isActive:b},_)=>{let y=(0,n.useCallback)((e,t)=>{E.onClick&&E.onClick(e),p(e,t)},[E.onClick,p]),v=d>99?99:d,S=h||E["aria-label"]||`${v} more people`;return(0,r.jsxs)("button",{type:"submit",...E,onClick:y,ref:_,"data-testid":u,"aria-controls":m,"aria-expanded":f,"aria-haspopup":g,"aria-label":S,style:{"--avatar-box-shadow":`0 0 0 2px ${t}`},className:(0,a("gMc0m").default)([s.root,o[c],"circle"===e&&s.circle,i[c],l[c],b&&s.active]),children:["+",v]})});c.displayName="MoreIndicator",e.exports.default=c}),r("6Ac15",function(e,t){var r=a("l998X"),n=a("42omo");e.exports.default=({id:e,children:t,testId:s,"aria-label":i,size:o})=>(0,r.jsx)("ul",{id:e,"data-testid":s,"aria-label":i,className:(0,a("gMc0m").default)(["_1e0c1txw _19121cl4 _vwz4kb7n _2mzuagmp _6rthze3t _1pfhze3t _12l2u2gc _ahbqze3t _85i5ze3t _1q51ze3t _y4tize3t _bozgze3t","small"===o&&(0,a("dh538").fg)("platform-avatar-group-spacing-fix")&&"_12l21b66"]),children:n.Children.map(t,e=>e&&(0,r.jsx)("li",{className:(0,a("gMc0m").default)(["_6rthze3t _1pfhze3t _12l2x0bf _ahbqze3t","small"===o&&(0,a("dh538").fg)("platform-avatar-group-spacing-fix")&&"_12l2r5cr"]),children:e}))})}),r("1DG7o",function(e,t){e.exports.composeUniqueKey=(e,t)=>e.key?e.key:t}),r("8oEoE",function(e,t){var a,r,n=((a={}).ADMIN_OVERSIGHT="ADMIN_OVERSIGHT",a.TEAM_COLLABORATION="TEAM_COLLABORATION",a.USERBASE_GROUP="USERBASE_GROUP",a);(r={}).ANONYMOUS="ANONYMOUS",r.APP="APP",r.EXTERNAL="EXTERNAL",r.INTERNAL="INTERNAL",r.JSD="JSD",e.exports.ConfluenceGroupUsageType=n}),r("1fjr9",function(e,t){function r(e,{users:t,groups:r},n,s){let{restrictions:o}=e;if(o){let{userWithRestrictions:e,group:l}=o;e&&function(e,t){let{nodes:a}=e;if(a)for(let e of a)e&&t.push({type:"user",id:e.accountId||"",name:e.displayName||"",avatarUrl:e.profilePicture?.path||"",email:e.email||"",knownErrors:i(e),sitePermissionType:e.permissionType||""})}(e,t),l&&function(e,t,r,n){let{nodes:s}=e;if(s)for(let e of s){if(!e)continue;let s=e?.id||"",i=e?.usageType===a("8oEoE").ConfluenceGroupUsageType.TEAM_COLLABORATION?n?.[s]:void 0;t.push({type:"group",id:e.id||"",name:e.name||"",usageType:e.usageType,memberCount:r.get(e.id||"")??0,isVerified:i?.isVerified??!1,avatarSrc:i?.largeAvatarImageUrl??""})}}(l,r,n,s)}}function n({read:{groups:e,users:t},update:{groups:a,users:r}}){let n=e.length+t.length>0,s=a.length+r.length>0;return n?"restricted":s?"open-can-view":"open-can-edit"}function s({read:e,update:t},r){let n=new Map,s=(e,t)=>e.forEach(e=>n.set(e.id,{role:t,principal:e}));s([...e.users,...e.groups],"can-view"),s([...t.users,...t.groups],"can-edit");let i=Array.from(n).map(([,e])=>e),{groupCount:o,teamCount:l,userCount:c}=i.reduce((e,{principal:t})=>("group"===t.type&&(t.usageType===a("8oEoE").ConfluenceGroupUsageType.USERBASE_GROUP?e.groupCount++:t.usageType===a("8oEoE").ConfluenceGroupUsageType.TEAM_COLLABORATION?e.teamCount++:null===t.usageType&&e.groupCount++),"user"===t.type&&e.userCount++,e),{groupCount:0,teamCount:0,userCount:0}),d=i.some(({principal:e})=>e.id===r.id);return{principals:Array.from(n).map(([,e])=>e).sort(({principal:{name:e}},{principal:{name:t}})=>e===t?0:e>t?1:-1),currentUserHasAccess:d,groupCount:o,teamCount:l,userCount:c}}function i(e){let{restrictingContent:t,hasSpaceEditPermission:a,hasSpaceViewPermission:r}=e;return!1===r?{accessWarning:"space-view-access-warning",parentLink:null}:t?{accessWarning:"parent-access-warning",parentLink:{webui:t.links?.webui,base:t.links?.base}}:!1===a?{accessWarning:"space-edit-access-warning",parentLink:null}:void 0}e.exports.getContentRestrictions=function(e,t){let a=function(e){let t={read:{users:[],groups:[]},update:{users:[],groups:[]}},{read:a,update:n,groupAndTeamCountsMap:s,teamData:i}=e;return a&&r(a,t.read,s,i),n&&r(n,t.update,s,i),t}(e),{groupCount:i,teamCount:o,userCount:l,principals:c,currentUserHasAccess:d}=s(a,t);return{generalAccessLevel:n(a),principals:c,groupCount:i,teamCount:o,userCount:l,currentUserHasAccess:d}},e.exports.getPrincipalsAndRoles=s,e.exports.getGeneralAccessLevel=n,e.exports.getKnownErrors=i}),r("kfIha",function(e,t){let a=()=>!!(navigator.clipboard&&"function"==typeof navigator.clipboard.writeText);e.exports.useCopyToClipboard=()=>({copyToClipboard:async e=>{e&&a()&&await navigator.clipboard.writeText(e)}})}),r("ewQf6",function(e,t){let r=(0,a("cgtv4").defineMessages)({errorTitle:{id:"public-links.useRemovePublicLinkPermissionsMutation.error.title",defaultMessage:"We couldnâ€™t change the public link permission."},errorBody:{id:"public-links.useRemovePublicLinkPermissionsMutation.error.body",defaultMessage:"Open the Share and Restrict dialog to check the current status, or to update the permission."}});e.exports.useRemovePublicLinkPermissionsMutation=({objectId:e,objectType:t=a("7pcfM").PublicLinkPermissionsObjectType.CONTENT,permissions:n=[a("7pcfM").PublicLinkPermissionsType.EDIT],onCompleted:s,onError:i,flags:o})=>{let{formatMessage:l}=(0,a("8C5kA").default)(),[c,{loading:d}]=(0,a("1KmJq").useMutation)((0,a("eSUdr").default)`mutation useRemovePublicLinkPermissionsMutationRemovePublicLinkPermissionsMutation($removePublicLinkPermissionsInput:RemovePublicLinkPermissionsInput!){removePublicLinkPermissions(input:$removePublicLinkPermissionsInput){success errors{message}}}`,{onCompleted:()=>{s()},onError:e=>{o.showFlag({id:"updatePublicLinkPermissionsErrorFlagId",title:l(r.errorTitle),description:l(r.errorBody),type:"error",close:"auto"}),i(e)}});return{removePublicLinkPermissions:(({objectId:e,objectType:t,permissions:a})=>()=>c({variables:{removePublicLinkPermissionsInput:{objectId:e,objectType:t,permissions:a}}}))({objectId:e,objectType:t,permissions:n}),loading:d}}}),r("7pcfM",function(e,t){var a,r,n=((a={}).CONTENT="CONTENT",a),s=((r={}).EDIT="EDIT",r);e.exports.PublicLinkPermissionsObjectType=n,e.exports.PublicLinkPermissionsType=s}),r("22pmH",function(e,t){let r=(0,a("cgtv4").defineMessages)({errorTitle:{id:"public-links.useAddPublicLinkPermissionsMutation.error.title",defaultMessage:"We couldnâ€™t change the public link permission."},errorBody:{id:"public-links.useAddPublicLinkPermissionsMutation.error.body",defaultMessage:"Open the Share and Restrict dialog to check the current status, or to update the permission."}});e.exports.useAddPublicLinkPermissionsMutation=({objectId:e,objectType:t=a("jVDOb").PublicLinkPermissionsObjectType.CONTENT,permissions:n=[a("jVDOb").PublicLinkPermissionsType.EDIT],onCompleted:s,onError:i,flags:o})=>{let{formatMessage:l}=(0,a("8C5kA").default)(),[c,{loading:d}]=(0,a("1KmJq").useMutation)((0,a("eSUdr").default)`mutation useAddPublicLinkPermissionsMutationAddPublicLinkPermissionsMutation($addPublicLinkPermissionsInput:AddPublicLinkPermissionsInput!){addPublicLinkPermissions(input:$addPublicLinkPermissionsInput){success errors{message}}}`,{onCompleted:()=>{s()},onError:e=>{o.showFlag({id:"updatePublicLinkPermissionsErrorFlagId",title:l(r.errorTitle),description:l(r.errorBody),type:"error",close:"auto"}),i(e)}});return{addPublicLinkPermissions:(({objectId:e,objectType:t,permissions:a})=>()=>c({variables:{addPublicLinkPermissionsInput:{objectId:e,objectType:t,permissions:a}}}))({objectId:e,objectType:t,permissions:n}),loading:d}}}),r("jVDOb",function(e,t){var a,r,n=((a={}).CONTENT="CONTENT",a),s=((r={}).EDIT="EDIT",r);e.exports.PublicLinkPermissionsObjectType=n,e.exports.PublicLinkPermissionsType=s}),r("lbXO9",function(e,t){let r=(0,a("cgtv4").defineMessages)({success:{id:"public-links.usePublicLinkDisablePageMutation.success.title",defaultMessage:"Public link is now off for this content."},errorTitle:{id:"public-links.usePublicLinkDisablePageMutation.error.title",defaultMessage:"We couldnâ€™t turn off the public link."},errorBody:{id:"public-links.usePublicLinkDisablePageMutation.error.body",defaultMessage:"Open the Share dialog to check the current status, or to turn off the public link."}});e.exports.usePublicLinkDisablePageMutation=({pageId:e,onCompleted:t,onError:n,flags:s})=>{let{formatMessage:i}=(0,a("8C5kA").default)(),[o]=(0,a("1KmJq").useMutation)((0,a("eSUdr").default)`mutation usePublicLinkDisablePageMutationPublicLinkDisablePageMutation($pageId:ID!){disablePublicLinkForPage(pageId:$pageId){pageId}}`,{refetchQueries:[{query:a("1IGAH").PublicLinkPageQuery,variables:{pageId:e}}],onCompleted:()=>{s.showFlag({id:"revokeFromRestrictionsFlagId",title:i(r.success),type:"success-circle",close:"auto"}),t()},onError:e=>{s.showFlag({id:"revokeFromRestrictionsErrorFlagId",title:i(r.errorTitle),description:i(r.errorBody),type:"error",close:"auto"}),n(e)}});return{disablePublicLinkForPage:()=>o({variables:{pageId:e}})}}}),r("1IGAH",function(e,t){let r=(0,a("eSUdr").default)`query PublicLinkPageQuery($pageId:ID!){publicLinkPage(pageId:$pageId){pageId pageStatus publicLinkUrlPath}}`;e.exports.PublicLinkPageQuery=r}),r("k030f",function(e,t){var a,r=((a={}).BLOCKED_BY_CLASSIFICATION_LEVEL="BLOCKED_BY_CLASSIFICATION_LEVEL",a.BLOCKED_BY_CONTAINER_POLICY="BLOCKED_BY_CONTAINER_POLICY",a.BLOCKED_BY_ORG="BLOCKED_BY_ORG",a.BLOCKED_BY_PRODUCT="BLOCKED_BY_PRODUCT",a.BLOCKED_BY_SPACE="BLOCKED_BY_SPACE",a.OFF="OFF",a.ON="ON",a.SITE_BLOCKED="SITE_BLOCKED",a.SITE_DISABLED="SITE_DISABLED",a.SPACE_BLOCKED="SPACE_BLOCKED",a.SPACE_DISABLED="SPACE_DISABLED",a);e.exports.PublicLinkPageStatus=r}),r("8y1s8",function(e,t){var a,r=((a={}).INTRODUCTION="introduction",a.TOGGLE_SPOTLIGHT="toggle-spotlight",a.MENU_SPOTLIGHT="menu-spotlight",a.NONE="none",a);e.exports.PAGES_TABLE_CONFIRMATION_SOURCE="publicLinksPagesActionConfirmationModal",e.exports.ChangeboardingTypes=r,e.exports.SET_UP_AND_MANAGE_DOCUMENTATION="https://support.atlassian.com/confluence-cloud/docs/set-up-and-manage-public-links/",e.exports.DATA_SECURITY_POLICY_DOCUMENTATION="https://support.atlassian.com/security-and-access-policies/docs/prevent-public-links/",e.exports.PUBLIC_LINKS_SECURITY_DOCUMENTATION="https://support.atlassian.com/confluence-cloud/docs/how-secure-are-public-links/",e.exports.LEARN_MORE_PUBLIC_LINKS_HREF="https://support.atlassian.com/confluence-cloud/docs/share-content-externally-with-public-links/"}),r("ari0r",function(e,t){var r=a("42omo");let n={[a("k030f").PublicLinkPageStatus.SITE_DISABLED]:"site",[a("k030f").PublicLinkPageStatus.SPACE_BLOCKED]:"site",[a("k030f").PublicLinkPageStatus.BLOCKED_BY_PRODUCT]:"site",[a("k030f").PublicLinkPageStatus.SPACE_DISABLED]:"space",[a("k030f").PublicLinkPageStatus.BLOCKED_BY_SPACE]:"space",[a("k030f").PublicLinkPageStatus.BLOCKED_BY_ORG]:"org",[a("k030f").PublicLinkPageStatus.SITE_BLOCKED]:"org",[a("k030f").PublicLinkPageStatus.BLOCKED_BY_CLASSIFICATION_LEVEL]:"org",[a("k030f").PublicLinkPageStatus.BLOCKED_BY_CONTAINER_POLICY]:"org"};e.exports.usePublicLinkPrivilegeData=({publicLinkStatus:e})=>{let{environment:t,orgId:s}=(0,a("bQm3c").useSessionData)(),[i]=(0,a("ep3mz").usePageSpaceKey)(),o=(0,a("7QM6o").useSpaceId)(i),{isEmpoweredUser:l,isSiteAdmin:c,isSpaceAdmin:d,error:u}=(0,a("7EdWc").useIsPLEmpoweredUser)({publicLinkStatus:e,skip:!e}),p=e?n[e]:null,m=(0,r.useMemo)(()=>({globalPublicLinksTab:(0,a("1yUaH").getAdminGlobalPermsPublicLinksUrl)(),globalPublicLinksSpaceDetails:(0,a("1yUaH").getAdminGlobalPermsPublicLinksUrl)(o),spacePublicLinksTab:i&&a("1NBp8").SPACE_PERMISSIONS_SETTINGS.toUrl({spaceKey:i,tab:"public-links"}),adminHubDataSecurityPoliciesTab:(0,a("1yUaH").getAdminDataSecurityPolicyUrl)(t,s||"")}),[o,i,t,s]);return{isEmpowered:l,empoweredUserSettingsLinkHref:(0,r.useCallback)(e=>{if("space"===p)return d?m.spacePublicLinksTab:m.globalPublicLinksSpaceDetails;if("site"===p)switch(e){case a("k030f").PublicLinkPageStatus.SITE_DISABLED:case a("k030f").PublicLinkPageStatus.SPACE_BLOCKED:return m.globalPublicLinksTab;case a("k030f").PublicLinkPageStatus.BLOCKED_BY_PRODUCT:return m.globalPublicLinksSpaceDetails}else if("org"===p)return c?m.adminHubDataSecurityPoliciesTab:m.globalPublicLinksSpaceDetails},[p,d,c,m])(e),accessLevel:p,isSpaceAdmin:d,isSiteAdmin:c,error:u}}}),r("1yUaH",function(e,t){let r=(e,t)=>"PRODUCTION"===e?`https://admin.atlassian.com/o/${t}/data-security-policies`:`https://admin.stg.atlassian.com/o/${t}/data-security-policies`,n=e=>e?`${a("1NBp8").ADMIN_NEW_GLOBAL_PERMISSIONS.toUrl()}?tab=public-links&space=${e}`:`${a("1NBp8").ADMIN_NEW_GLOBAL_PERMISSIONS.toUrl()}?tab=public-links`;e.exports.getAdminDataSecurityPolicyUrl=r,e.exports.getAdminGlobalPermsPublicLinksUrl=n,e.exports.getPublicLinksSpaceSettingsBlockedStateUrl=({isSpaceBlockedByOrg:e,environment:t,orgId:a})=>e?r(t,a):n()}),r("7EdWc",function(e,t){var r,n=a("j1Ss3"),s=((r=s||{}).space="space",r.org="org",r.product="product",r);let i={[a("hC6vw").PublicLinkPageStatus.BLOCKED_BY_SPACE]:"space",[a("hC6vw").PublicLinkPageStatus.SPACE_DISABLED]:"space",[a("hC6vw").PublicLinkPageStatus.BLOCKED_BY_PRODUCT]:"product",[a("hC6vw").PublicLinkPageStatus.SITE_DISABLED]:"product",[a("hC6vw").PublicLinkPageStatus.SPACE_BLOCKED]:"product",[a("hC6vw").PublicLinkPageStatus.BLOCKED_BY_ORG]:"org",[a("hC6vw").PublicLinkPageStatus.SITE_BLOCKED]:"org",[a("hC6vw").PublicLinkPageStatus.BLOCKED_BY_CONTAINER_POLICY]:"org",[a("hC6vw").PublicLinkPageStatus.BLOCKED_BY_CLASSIFICATION_LEVEL]:"org"},o=e=>e&&i[e]||null;e.exports.useIsPLEmpoweredUser=({publicLinkStatus:e,skip:t})=>{let[r]=(0,a("ep3mz").usePageSpaceKey)(),{data:s,error:i}=(0,n.useQuery)((0,a("eSUdr").default)`query useIsPLEmpoweredUserPublicLinkUserAdminStatusQuery($key:String){user:confluence_atlassianUser(current:true){id confluence{operations{operation targetType}}}isSiteAdmin hasUserAccessAdminRole space(key:$key){currentUser{isAdmin}}}`,{variables:{key:r},skip:t||!e});if(t||!e)return{isEmpoweredUser:!1};let l=!!s?.space?.currentUser?.isAdmin,c=(0,a("w033M").getIsSiteAdminFromQuery)(s),d=(0,a("1JEqL").getIsProductOrSiteAdminFromQuery)(s),u=o(e);return{isEmpoweredUser:!u||("org"===u?c:d||"space"===u&&l),isSpaceAdmin:l,isSiteAdmin:c,error:i}}}),r("w033M",function(e,t){e.exports.getIsSiteAdminFromQuery=e=>!!e?.isSiteAdmin}),r("1JEqL",function(e,t){e.exports.getIsProductOrSiteAdminFromQuery=function(e){let t=(0,a("eJhXX").getUserPrivilegeFromQuery)(e);return t===a("icMDs").UserPrivilege.PRODUCT_ADMIN||t===a("icMDs").UserPrivilege.SITE_ADMIN}}),r("eJhXX",function(e,t){e.exports.getUserPrivilegeFromQuery=function(e){let t=(0,a("w033M").getIsSiteAdminFromQuery)(e),r=(0,a("fWkVZ").getIsProductAdminFromQuery)(e);return void 0===e?void 0:t?a("icMDs").UserPrivilege.SITE_ADMIN:r?a("icMDs").UserPrivilege.PRODUCT_ADMIN:a("icMDs").UserPrivilege.NON_ADMIN}}),r("fWkVZ",function(e,t){e.exports.getIsProductAdminFromQuery=e=>!!e?.user?.confluence?.operations?.some(e=>e?.operation==="administer"&&e?.targetType==="application")}),r("icMDs",function(e,t){var a,r=((a={}).NON_ADMIN="nonAdmin",a.PRODUCT_ADMIN="productAdmin",a.SITE_ADMIN="siteAdmin",a);e.exports.UserPrivilege=r}),r("hC6vw",function(e,t){var a,r=((a={}).BLOCKED_BY_ORG="BLOCKED_BY_ORG",a.BLOCKED_BY_PRODUCT="BLOCKED_BY_PRODUCT",a.BLOCKED_BY_SPACE="BLOCKED_BY_SPACE",a.BLOCKED_BY_CONTAINER_POLICY="BLOCKED_BY_CONTAINER_POLICY",a.BLOCKED_BY_CLASSIFICATION_LEVEL="BLOCKED_BY_CLASSIFICATION_LEVEL",a.OFF="OFF",a.ON="ON",a.SITE_BLOCKED="SITE_BLOCKED",a.SITE_DISABLED="SITE_DISABLED",a.SPACE_BLOCKED="SPACE_BLOCKED",a.SPACE_DISABLED="SPACE_DISABLED",a);e.exports.PublicLinkPageStatus=r}),r("hwEdY",function(e,r){t(e.exports,"default",()=>n);var n=a("34HzT").default}),r("34HzT",function(r,n){t(r.exports,"default",()=>o);var s=a("l998X");a("42omo");var i=a("4wH3g");function o(t){let r=(0,a("hQK66").useMemoOne)(()=>e(i)({__loadable_id__:"UdouG",name:"platform.packages.growth.integrations.src.share-to-slack.ui.index",loader:()=>a("eBPG0"),loading:()=>(0,s.jsx)(a("agy0l").default,{})}),[]);return(0,s.jsx)(a("9vcPV").default,{onError:()=>{(0,a("6BEN7").failUfoExperience)(a("6BEN7").UfoExperiences.SLACK_SEGMENT_RENDERED),(0,a("6BEN7").failUfoExperience)(a("6BEN7").UfoExperiences.SLACK_FORM_ENABLED)},channel:"shareToSlack",data:{},children:(0,s.jsx)(r,{...t})})}}),r("9vcPV",function(e,t){var r=a("l998X"),n=a("42omo");class s extends n.Component{componentDidCatch(e,t){let{onError:a}=this.props;a&&a(e,t),this.setState({hasError:!0})}render(){let{data:e,children:t,ErrorComponent:n}=this.props,{hasError:s}=this.state;return s?n?(0,r.jsx)(a("5kH4g").default,{data:e,children:(0,r.jsx)(n,{})}):null:(0,r.jsx)(a("5kH4g").default,{data:e,children:t})}constructor(e){super(e),this.state={hasError:!1}}}e.exports.default=s}),r("agy0l",function(e,r){t(e.exports,"default",()=>s);var n=a("l998X");a("42omo");function s(){return(0,n.jsx)(a("gdv5Z").default,{testId:"share-to-slack-loading",xcss:"_1rjcv77o _18zr1ejb",children:(0,n.jsx)(a("u9agA").default,{alignBlock:"center",alignInline:"center",xcss:"_1tke1lze",children:(0,n.jsx)(a("9hlns").default,{size:"large"})})})}}),r("eBPG0",function(e,t){let r=a("4mJKd")(5);e.exports=Promise.all([r("7Q5vz"),r("6wr18"),r("kHOMt"),r("hhss7"),r("ffEVr"),r("k0hwN")]).then(()=>a("gxvVr"))}),r("gj7hi",function(e,r){t(e.exports,"default",()=>i);var n=a("l998X"),s=a("42omo");function i({src:e,srcDark:t,alt:r,testId:i,className:o,...l}){let c=(0,s.useRef)(null),d=(0,a("cv8Bu").UNSAFE_useColorModeForMigration)(),{colorMode:u}=(0,a("cOrQJ").default)(),p=d||u;return(0,s.useEffect)(()=>{null!==c&&null!==c.current&&(t&&"dark"===p?c.current.src=t:e&&(c.current.src=e))},[e,t,p]),(0,n.jsx)("img",{alt:r,"data-testid":i,src:e,className:(0,a("gMc0m").default)(["_p12f1osq _4t3i1wug",o]),ref:c,...l})}}),r("cv8Bu",function(e,t){a("l998X");var r=a("42omo");let n=(0,r.createContext)(void 0);(0,r.createContext)(void 0),(0,r.createContext)(void 0),(0,r.createContext)(void 0),"undefined"!=typeof window&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)"),e.exports.UNSAFE_useColorModeForMigration=function(){return(0,r.useContext)(n)}}),r("5spQU",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isFeatureEnabled=e.exports.isEnvironmentBlockEnabled=void 0;var r=a("jYbwE");Object.defineProperty(e.exports,"isEnvironmentBlockEnabled",{enumerable:!0,get:function(){return r.isEnvironmentBlockEnabled}}),Object.defineProperty(e.exports,"isFeatureEnabled",{enumerable:!0,get:function(){return r.isFeatureEnabled}})}),r("jYbwE",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isFeatureEnabled=e.exports.isEnvironmentBlockEnabled=void 0;var r=a("bRppy");function n(){return(0,a("5RB5d").isFedrampModerate)()?r.FED_MOD_KEY:(0,a("5RB5d").isIsolatedCloud)()?r.ISOLATED_CLOUD_COMMERCIAL_KEY:r.COMMERCIAL_KEY}e.exports.isEnvironmentBlockEnabled=function(e){let t=n();return(0,r.isEnvironmentBlockEnabledForBoundary)(e,t)},e.exports.isFeatureEnabled=function(e,t){let a=n();return(0,r.isFeatureEnabledForBoundary)(e,t,a)}}),r("5RB5d",function(e,t){e.exports.isIsolatedCloud=function(){let e=(0,a("iG8l7").parseAtlCtxCookies)();return!!e&&a("9vFIg").ISOLATED_CLOUD_PERIMETERS.includes(e.perimeter)&&void 0!==e.icDomain},e.exports.isFedrampModerate=function(){let e=(0,a("iG8l7").parseAtlCtxCookies)();return!!e&&e.perimeter===a("9vFIg").FEDRAMP_MODERATE}}),r("9vFIg",function(e,t){e.exports.FEDRAMP_MODERATE="fedramp-moderate",e.exports.ISOLATED_CLOUD_PERIMETERS=["commercial"],e.exports.ATL_CTX_PERIMETER="Atl-Ctx-Perimeter",e.exports.ATL_CTX_ISOLATION_CONTEXT_DOMAIN="Atl-Ctx-Isolation-Context-Domain",e.exports.ATL_CTX_ISOLATION_CONTEXT_ID="Atl-Ctx-Isolation-Context-Id"}),r("iG8l7",function(e,t){function r(e,t){if(t)for(let a of t.split(";")){let[t,r]=a.trim().split("=");if(t===e)return r}}e.exports.parseAtlCtxCookies=function(){let e=globalThis;try{if(void 0===globalThis.document)return;let t=e.document.cookie,n=r(a("9vFIg").ATL_CTX_PERIMETER,t);if(!n)return;let s=r(a("9vFIg").ATL_CTX_ISOLATION_CONTEXT_DOMAIN,t),i=r(a("9vFIg").ATL_CTX_ISOLATION_CONTEXT_ID,t),o=!s||0===s.length,l=!i||0===i.length;return{perimeter:n,icDomain:o?void 0:s,icId:l?void 0:i}}catch(e){console.warn("Failed to parse atl-ctx cookies:",e);return}}}),r("bRppy",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.ISOLATED_CLOUD_COMMERCIAL_KEY=e.exports.FED_MOD_KEY=e.exports.COMMERCIAL_KEY=e.exports.isFeatureEnabledForBoundary=e.exports.isEnvironmentBlockEnabledForBoundary=void 0;var r=a("bW2zJ");Object.defineProperty(e.exports,"isEnvironmentBlockEnabledForBoundary",{enumerable:!0,get:function(){return r.isEnvironmentBlockEnabledForBoundary}}),Object.defineProperty(e.exports,"isFeatureEnabledForBoundary",{enumerable:!0,get:function(){return r.isFeatureEnabledForBoundary}});var n=a("dAnKm");Object.defineProperty(e.exports,"COMMERCIAL_KEY",{enumerable:!0,get:function(){return n.COMMERCIAL_KEY}}),Object.defineProperty(e.exports,"FED_MOD_KEY",{enumerable:!0,get:function(){return n.FED_MOD_KEY}}),Object.defineProperty(e.exports,"ISOLATED_CLOUD_COMMERCIAL_KEY",{enumerable:!0,get:function(){return n.ISOLATED_CLOUD_COMMERCIAL_KEY}})}),r("bW2zJ",function(e,t){var r=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.isFeatureEnabledForBoundary=e.exports.isEnvironmentBlockEnabledForBoundary=void 0;let n=r(a("leq11")).default;function s(e,t){return n.environmentBlocks[e]?.compositions[t]===!0}e.exports.isEnvironmentBlockEnabledForBoundary=function(e,t){return s(e,t)},e.exports.isFeatureEnabledForBoundary=function(e,t,a){if(s(e,a)){let r=n.environmentBlocks[e];return r.features[t]?.compositions[a]===!0}return!1}}),r("leq11",function(e,t){e.exports=JSON.parse('{"environmentBlocks":{"adminhub":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{"adminhub-access-requests":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-actor-profiles":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-add-product":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-admin-insights":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-api-token-controls":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-app-requests":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-app-updates":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-application-tunnels":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-apps-discovery":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-audit-log":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-authentication-policies":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-automatic-product-discovery":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-billing-console":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-brie":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-byok":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-cmk-encryption":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-content-scanning":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-custom-domains":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-custom-email-addresses":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-data-classifications":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-data-management":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-data-residency":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-data-security-policies":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-discovered-apps":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-dlp-partner-integrations":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-enforced-2-step-verification":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-enforced-data-security-policy-by-classification":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-experiment-controls":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-external-user-security":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-guard-detect-alerts":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-guard-detect-detections":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-hippa-compliance":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-last-active-date":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-link-bitbucket":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-managed-accounts-export":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-mobile-app-policy":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-multiple-idps":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-org-audit-logs":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-org-deletion":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-org-transfer":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-product-recommendation":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-release-tracks":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-remediation-api":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-remediation-recommendations":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-remediation-workflows":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-saml-sso":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-sandbox":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-self-service-product-acquisition":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-siem-integrations":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-site-rename":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-third-party-contacts":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-url-subdomain-updates":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-user-access-invites":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-user-access-settings":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-user-counts":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-user-impersonation":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"adminhub-user-last-active-timestamp":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"adminhub-user-provisioning":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}}}},"assets":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false},"features":{"assets-data-manager":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"assets-reports":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}}}},"atlassian-analytics":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{"atlassian-analytics-3p-data-source-connections":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"atlassian-analytics-chart-dashboard-pdf-png-exports":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"atlassian-analytics-chart-templates":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"atlassian-analytics-charts":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"atlassian-analytics-comments":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"atlassian-analytics-dashboard-subscriptions":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"atlassian-analytics-dashboard-templates":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"atlassian-analytics-dashboards":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"atlassian-analytics-data-lake-connections":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"atlassian-analytics-data-shares":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"atlassian-analytics-jira-align-enterprise-insights-connections":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}}}},"bitbucket":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false},"features":{"bitbucket-slack-app":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"pipelines":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}}}},"chat":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false},"features":{}},"compass":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":false,"fedramp-moderate":false},"features":{}},"confluence":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{"ccma":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"confluence-ai":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"confluence-anonymous-access":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"confluence-comment-and-header-links":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"confluence-company-hub":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"confluence-content-archiving":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"confluence-content-manager":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"confluence-databases":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"confluence-editing-experience":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"confluence-editor-offline-storage":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"confluence-employee-directory":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"confluence-forge-apps-sidebar":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"confluence-inline-comments-in-edit-mode":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"confluence-inspect-permissions":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"confluence-loom-integration":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"confluence-mission-control":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"confluence-mobile-app":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"confluence-page-analytics":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"confluence-pages-blogs-folders":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"confluence-presenter-mode":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"confluence-public-links":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"confluence-questions-native-experience":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"confluence-questions":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"confluence-search":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"confluence-share-to-slack-button":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"confluence-single-space-guests":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"confluence-slack-integration":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"confluence-smart-links":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"confluence-space-analytics":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"confluence-team-calendars":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"confluence-update-page-owners":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"confluence-whiteboards":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}}}},"customer-service-management":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false},"features":{}},"focus":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false},"features":{}},"goals":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false},"features":{}},"guard-premium":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false},"features":{}},"guard-standard":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"home":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false},"features":{"home-status-backend":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}}}},"jira":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{"jcma":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-atlassian-intelligence":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-atlassian-vs-code-extension":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-audit-log":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-backlogs":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-boards-and-views":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-calendar-view":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-company-managed-projects":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-components":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jira-forms":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-github-for-jira":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-github-workflows":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jira-in-product-help":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jira-insights":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-loom-banner":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jira-mobile-app":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jira-opsgenie":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jira-plans":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-project-archiving":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-project-issue-navigator":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-project-templates":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-releases":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-share":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-site-optimiser":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-slack":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-smart-links":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-team-managed-projects":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-work-item-archiving":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-workflow-configuration":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jira-your-work-dashboard":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}}}},"jira-align":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false},"features":{}},"jira-product-discovery":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false},"features":{}},"jira-service-management":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{"jira-service-management-help-center":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jsm-ai-ops":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jsm-ai-services":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jsm-alert-notifications":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jsm-approvals":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jsm-automation-playbook":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jsm-canned-responses":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jsm-change-calendar":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jsm-change-risk-assessment":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jsm-chat-ops":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jsm-chat":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jsm-csat":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jsm-csm-functionality":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jsm-customer-access-internal-account":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jsm-customer-notifications":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jsm-customer-service-management":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jsm-deployment-gating":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jsm-deployment-tracking":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jsm-developer-escalations":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jsm-email-requests":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jsm-embeddable-widget":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jsm-err-governance-api":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jsm-external-customer-accounts":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jsm-external-customer-single-sign-on":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jsm-external-customer-user-provisioning":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jsm-forms":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jsm-help-center":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jsm-incident-conference-calls":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jsm-incident-management-integration":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jsm-journey-builder":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jsm-knowledge-base":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jsm-multi-language-support":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jsm-on-call-schedule":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jsm-ops-genie-reporting":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jsm-opsgenie-devops":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jsm-portal-only-account-scim":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jsm-post-incident-reviews":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jsm-queues":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jsm-related-issues":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jsm-reports-operations":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"jsm-services":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jsm-sla-management":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jsm-templates-and-views":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"jsm-virtual-service-agent":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"opsgenie":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}}}},"loom":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false},"features":{}},"projects":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false},"features":{}},"rovo":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false},"features":{"rovo-ai-3p-connections":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"rovo-ai-app-availability":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"rovo-ai-atlassian-intelligence-app-availability":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"rovo-ai-generative-ai-editor":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"rovo-ai-machine-learning":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"rovo-ai-natural-language-in-automation-rule-creation":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"rovo-ai-projects":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"rovo-ai-smart-features-based-on-machine-learning-tecton-ai":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}}}},"rovo-dev":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false},"features":{}},"statuspage":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false},"features":{}},"studio":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false},"features":{}},"talent":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false},"features":{}},"teams":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"trello":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false},"features":{}},"anti-abuse-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"application-tunnels":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false},"features":{}},"atlassian-visualization-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{"atlassian-visualization-platform-kamino":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"atlassian-visualization-platform-manifold":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"atlassian-visualization-platform-plato":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}}}},"collaboration-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"commerce-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{"commerce-platform-pls-changes-for-hams-cofs-in-boundary-deployment":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"commerce-platform-self-serve":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}}}},"cross-product-search":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"customer-support-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"ecosystem-forge":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{"ecosystem-oauth":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"forge-cli":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"forge-remote-capabilities":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"forge-storage-service-rockmelon":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"forge-system-apps":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"forge":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}}}},"experience-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"growth-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"identity":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{"identity-virality":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}}}},"machine-learning-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"marketplace":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{"marketplace-app-discovery":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"marketplace-app-migrations":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"marketplace-atlassian-labs":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"marketplace-audit-logs":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"marketplace-self-service-purchase-provision-install":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}}}},"migrations":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{"agc-migrations":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"commercial-cloud-to-agc":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"data-center-to-agc":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"migration-link-fixing":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}}}},"migrations-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"post-office":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"product-integrations-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"reactions":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"smartlinks":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"analytics-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"asset-readiness-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"atlassian-graphql-gateway":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"atlassian-platform-deployer":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"automation-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{"automation-platform-actions":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"automation-platform-automation-templates":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"automation-platform-branches":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"automation-platform-conditions":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}},"automation-platform-natural-language-rule-builder":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"automation-platform-rule-builder":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"automation-platform-templates":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true}},"automation-platform-triggers":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}}}},"aws-cloud-management":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"bifrost":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"build-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"cloud-security":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"compliance-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"consent-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"core-network-automation":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"cross-gateway":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"data-access-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"data-classification-governance-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"data-depot-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"data-exchange-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{"aqui":{"compositions":{"isolated-cloud-commercial":false,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":false}}}},"data-management-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"data-movement-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"data-platform-services":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"data-telemetry-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"decisions-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"detection-and-response-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"disaster-recovery":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"edge":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"encryption-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"environment-management-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"eureka-streaming-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"flight-deck-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"golden-ami":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"incident-management-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"infrastructure":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"internal-edge":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"job-execution-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"kitt-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"knowledge-graph":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"mail-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"media-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"micros-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"network-fabric":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"networking":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"observability-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"pollinator":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"resiliency-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"security-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"service-to-service-fabric":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"socrates":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"staff-authentication-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"streamhub":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"targeting-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"tdp-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"teamwork-graph-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"tenant-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"trusted-change-platform":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"vdi":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}},"workplace-technology-solutions":{"compositions":{"isolated-cloud-commercial":true,"commercial-cloud":true,"google-cloud-platform":true,"fedramp-moderate":true},"features":{}}}}')}),r("dAnKm",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.BOUNDARY_KEYS_LIST=e.exports.ISOLATED_CLOUD_COMMERCIAL_KEY=e.exports.FED_MOD_KEY=e.exports.COMMERCIAL_KEY=void 0,e.exports.COMMERCIAL_KEY="commercial-cloud",e.exports.FED_MOD_KEY="fedramp-moderate",e.exports.ISOLATED_CLOUD_COMMERCIAL_KEY="isolated-cloud-commercial",e.exports.BOUNDARY_KEYS_LIST=[e.exports.COMMERCIAL_KEY,e.exports.FED_MOD_KEY,e.exports.ISOLATED_CLOUD_COMMERCIAL_KEY]}),r("hkzol",function(t,r){var n=a("42omo"),s=a("56QzY");let i=(0,a("cgtv4").defineMessages)({copyLinkLabel:{id:"copy-content-link.icon.label",defaultMessage:"Copy link"},copiedTextLabel:{id:"copy-content-link.copied.tooltip",defaultMessage:"Copied!"},errorCopyingTextLabel:{id:"copy-content-link.error.tooltip",defaultMessage:"Something went wrong."}}),o=new Set(["default","primary","discovery","subtle"]),l=e=>o.has(e)?e:"default",c="copyShareLink";t.exports.ACTION_SUBJECT_ID=c,t.exports.CopyLinkButton=({pageMode:t,contentType:r,contentId:o,spaceKey:d,source:u,isDraft:p=!1,isLivePage:m=!1,isDisabled:f=!1,shouldResetOnHover:g=!1,buttonAppearance:h="subtle",tooltipPosition:E="bottom",buttonText:b="",copiedTextTooltipLabel:_=i.copiedTextLabel,onClickAttributes:y,iconColor:v,urlOverride:S=""})=>{let A=(0,a("8C5kA").default)(),C=(0,n.useRef)(),{createAnalyticsEvent:I}=(0,a("inPa6").useAnalyticsEvents)(),[T,x]=(0,n.useState)(!1),[k,R]=(0,n.useState)(),O=e(n).useRef(),{setHasClickedCopyContentLink:w,resetHasClickedCopyContentLink:L}=(0,a("jooGc").useCopyContentLinkActions)(),{copyToClipboard:P}=(0,a("kfIha").useCopyToClipboard)();(0,n.useEffect)(()=>(T&&(C.current=setTimeout(()=>x(!1),2500)),()=>{clearTimeout(C.current)}),[T]),(0,n.useEffect)(()=>{L()},[L]);let{unsupportedLinkError:D,copyContentLink:M}=(0,a("6abPE").useCopyContentLink)({pageMode:t,contentType:r,contentId:o,spaceKey:d,source:u,skip:!!S}),N=async()=>{I({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:c,source:u,attributes:{pageMode:t,contentType:r,navdexPointType:s.END,isDraft:p,isLivePage:m,...y??{}}}}).fire(),w();try{S?await P(S):await M()}catch(e){R(e)}x(!0)},U=A.formatMessage(i.copyLinkLabel),j=A.formatMessage(D||k?i.errorCopyingTextLabel:_),B=()=>{g&&x(!1)};(0,n.useLayoutEffect)(()=>{O.current?.()},[T]);let F=l(h),G=()=>b?e(n).createElement(a("ccHMk").default,{testId:"copy-link-button","aria-label":U,appearance:h,iconBefore:e(a("1bY7o")),onClick:N,onMouseLeave:B,isDisabled:f},b):e(n).createElement(a("1qfLF").default,{testId:"copy-link-button",label:U,icon:t=>e(n).createElement(e(a("1bY7o")),{...t,color:v}),onClick:N,onMouseLeave:B,isDisabled:f,appearance:F});return S?e(n).createElement(e(n).Fragment,null,e(n).createElement(a("6F6hl").default,{role:"status","aria-live":"assertive","aria-atomic":"true"},T&&j),e(n).createElement(a("3gadb").default,{content:({update:e})=>(O.current=e,T)?j:b||U,position:E,ignoreTooltipPointerEvents:!0,delay:100},G())):e(n).createElement(e(n).Fragment,null,e(n).createElement(a("6F6hl").default,{role:"status","aria-live":"assertive","aria-atomic":"true"},T&&j),T?e(n).createElement(a("3gadb").default,{content:({update:e})=>(O.current=e,j),position:E,ignoreTooltipPointerEvents:!0,delay:100},G()):e(n).createElement(e(n).Fragment,null,G()))}}),r("6abPE",function(e,t){var r=a("42omo"),n=a("j1Ss3");let s=(0,a("eSUdr").default)`query useCopyContentLinkCopyLinkQuery($contentId:ID!){singleContent(id:$contentId){id links{editui webui tinyui base}}}`;e.exports.useCopyContentLink=({pageMode:e,contentType:t,contentId:i,spaceKey:o,source:l,skip:c=!1})=>{let{createAnalyticsEvent:d}=(0,a("inPa6").useAnalyticsEvents)(),[u,p]=(0,r.useState)(),{toUrl:m}=(0,r.useContext)(a("7zgzO").RoutesContext),{copyToClipboard:f}=(0,a("kfIha").useCopyToClipboard)(),{data:g,loading:h,error:E}=(0,n.useQuery)(s,{variables:{contentId:i||""},skip:!i||c}),b=(0,r.useCallback)(()=>{let r,n,s;if(g){let t=g?.singleContent?.links;if((r="edit"===e?t?.editui:t?.tinyui||t?.webui)&&t?.base)return`${t.base}${r}`}if("edit"===e)n="blogpost"===t?a("1NBp8").EDIT_BLOG_V2.name:a("1NBp8").EDIT_PAGE_V2.name,s={contentType:"blogpost"===t?"blog":"pages"};else switch(t){case"overview":n=a("1NBp8").SPACE_OVERVIEW.name;break;case"blogpost":n=a("1NBp8").VIEW_BLOG.name;break;case"page":n=a("1NBp8").VIEW_PAGE.name;break;case"whiteboard":n=a("1NBp8").WHITEBOARD_BOARD.name;break;default:let c=Error(`Received an unexpected content type: '${t}'`);d({type:"sendOperationalEvent",data:{action:"thrown",actionSubject:"error",actionSubjectId:a("hkzol").ACTION_SUBJECT_ID,source:l,attributes:{error:c?.message,contentType:t,pageMode:e}}}).fire(),p(c)}if(n)return d({type:"sendOperationalEvent",data:{action:"generated",actionSubject:"fallbackLink",actionSubjectId:a("hkzol").ACTION_SUBJECT_ID,source:l,attributes:{queryError:E?.message,isDataLoading:h,route:n}}}).fire(),`${window.location.origin}${m(n,{contentId:i,spaceKey:o,...s})}`},[m,i,t,o,e,l,g,h,E,d]),_=(0,r.useCallback)(()=>f(b()),[b,f]);return{queryError:E,unsupportedLinkError:u,makeContentLink:b,copyContentLink:_}}}),r("jooGc",function(e,t){let r=(0,a("1P1Tu").createStore)({initialState:{hasClickedCopyContentLink:!1},actions:{setHasClickedCopyContentLink:()=>({setState:e})=>{e({hasClickedCopyContentLink:!0})},resetHasClickedCopyContentLink:()=>({setState:e})=>{e({hasClickedCopyContentLink:!1})}},name:"CopyContentLinkStore"});(0,a("9zUhf").createStateHook)(r);let n=(0,a("9zUhf").createActionsHook)(r);e.exports.useCopyContentLinkActions=n}),r("bxB0V",function(t,r){var n=a("42omo");let s=(0,a("jmjWc").LoadableAfterPaint)({__loadable_id__:"vnIuw",name:"OnboardingNudge",loader:async()=>(await a("6zHP0")).OnboardingNudge,loading:({children:t,renderChildrenWhileLoading:a})=>a?e(n).createElement(e(n).Fragment,null,t):null});t.exports.OnboardingNudge=s}),r("6zHP0",function(e,t){let r=a("4mJKd")(5);e.exports=Promise.all([r("jSdjl"),r("l2EUC"),r("k9ktU")]).then(()=>a("iFaMg"))}),r("dwkNQ",function(t,r){var n,s,i=a("3u0dr"),o=a("frIzR"),l=a("42omo"),c=a("4adOe"),d=((n={}).GROUP="GROUP",n.USER="USER",n),u=((s={}).EDIT="EDIT",s.VIEW="VIEW",s);let p=(0,a("cgtv4").defineMessages)({needsAccess:{id:"share-and-restrict-dialog.restricted-user-resources-details.needs-access",defaultMessage:"needs access in {resourcesCount} {resourcesCount, plural, one {place} other {places}}:"},space:{id:"share-and-restrict-dialog.restricted-user-resources-details.space",defaultMessage:"Space"},parentItems:{id:"share-and-restrict-dialog.restricted-user-resources-details.parent-items",defaultMessage:"Parent items"}}),m=t=>{switch(t){case a("1chEN").ResourceType.DATABASE:return e(l).createElement(e(a("6B0jU")),{label:"Databse"});case a("1chEN").ResourceType.WHITEBOARD:return e(l).createElement(e(a("ZDq1z")),{label:"Whiteboard"});case a("1chEN").ResourceType.PAGE:return e(l).createElement(e(a("8jHAi")),{label:"Page"});case a("1chEN").ResourceType.FOLDER:return e(l).createElement(e(a("5tmwS")),{label:"Page"});case a("1chEN").ResourceType.SPACE:return e(l).createElement(a("iKskQ").SpaceIcon,{size:"xsmall",src:"/images/logo/default-space-logo-256.png"})}},f=(0,i.isReactCompilerActiveV1)()?t=>{let r,n,s,i,c=(0,o.c)(10),{restrictedResource:d,showLock:u}=t;c[0]!==u?(r=u?e(l).createElement(e(a("9Q2dU")),{label:"",color:"var(--ds-icon-danger, #C9372C)"}):null,c[0]=u,c[1]=r):r=c[1],c[2]!==d?(n=d&&m(d.resourceType),c[2]=d,c[3]=n):n=c[3];let p=d?d.resourceTitle:"";return c[4]!==p?(s=e(l).createElement(a("iXCQx").default,{color:"color.text.subtle"},p),c[4]=p,c[5]=s):s=c[5],c[6]!==r||c[7]!==n||c[8]!==s?(i=e(l).createElement(a("u9agA").default,{space:"space.150",alignBlock:"center"},r,n,s),c[6]=r,c[7]=n,c[8]=s,c[9]=i):i=c[9],i}:({restrictedResource:t,showLock:r})=>e(l).createElement(a("u9agA").default,{space:"space.150",alignBlock:"center"},r?e(l).createElement(e(a("9Q2dU")),{label:"",color:"var(--ds-icon-danger, #C9372C)"}):null,t&&m(t.resourceType),e(l).createElement(a("iXCQx").default,{color:"color.text.subtle"},t?t.resourceTitle:"")),g=(0,i.isReactCompilerActiveV1)()?t=>{let r,n,s,i,c,d,u,m,f,g,y=(0,o.c)(24),{user:v,restrictedResources:S}=t;y[0]!==S?(r=S&&S.filter(h),y[0]=S,y[1]=r):r=y[1];let A=r;y[2]!==S?(n=S&&S.filter(E),y[2]=S,y[3]=n):n=y[3];let C=n,I=(A?A.length:0)+(C?C.length:0),T=v&&v.avatarUrl;y[4]!==T?(s=e(l).createElement(a("esRft").default,{src:T}),y[4]=T,y[5]=s):s=y[5];let x=v&&v.name;return y[6]!==x?(i=e(l).createElement(a("iXCQx").default,{color:"color.text",weight:"bold"},x),y[6]=x,y[7]=i):i=y[7],y[8]!==I?(c=e(l).createElement(a("gtD4K").default,{values:{resourcesCount:I},...p.needsAccess}),y[8]=I,y[9]=c):c=y[9],y[10]!==s||y[11]!==i||y[12]!==c?(d=e(l).createElement(a("u9agA").default,{space:"space.050",alignBlock:"center"},s,i,c),y[10]=s,y[11]=i,y[12]=c,y[13]=d):d=y[13],y[14]!==C?(u=C&&C.length>0?e(l).createElement(a("eyWa4").default,{space:"space.100",alignBlock:"center"},e(l).createElement(a("7hXDW").default,{size:"xxsmall",as:"h2"},e(l).createElement(a("gtD4K").default,p.space)),e(l).createElement(a("gdv5Z").default,{paddingInlineStart:"space.150"},C.map(b))):null,y[14]=C,y[15]=u):u=y[15],y[16]!==A?(m=A&&A.length>0?e(l).createElement(a("eyWa4").default,{space:"space.200",alignBlock:"center"},e(l).createElement(a("7hXDW").default,{size:"xxsmall",as:"h2"},e(l).createElement(a("gtD4K").default,p.parentItems)),e(l).createElement(a("gdv5Z").default,{paddingInlineStart:"space.150"},e(l).createElement(a("eyWa4").default,{space:"space.200",alignBlock:"center"},A.map(_)))):null,y[16]=A,y[17]=m):m=y[17],y[18]!==m||y[19]!==u?(f=e(l).createElement(a("gdv5Z").default,{paddingInlineStart:"space.500"},e(l).createElement(a("eyWa4").default,{space:"space.200",alignBlock:"center"},u,m)),y[18]=m,y[19]=u,y[20]=f):f=y[20],y[21]!==f||y[22]!==d?(g=e(l).createElement(a("eyWa4").default,{space:"space.150"},d,f),y[21]=f,y[22]=d,y[23]=g):g=y[23],g}:({user:t,restrictedResources:r})=>{let n=r&&r.filter(e=>e?.resourceType!=a("1chEN").ResourceType.SPACE),s=r&&r.filter(e=>e?.resourceType==a("1chEN").ResourceType.SPACE),i=n?n.length:0,o=s?s.length:0;return e(l).createElement(a("eyWa4").default,{space:"space.150"},e(l).createElement(a("u9agA").default,{space:"space.050",alignBlock:"center"},e(l).createElement(a("esRft").default,{src:t&&t.avatarUrl}),e(l).createElement(a("iXCQx").default,{color:"color.text",weight:"bold"},t&&t.name),e(l).createElement(a("gtD4K").default,{values:{resourcesCount:i+o},...p.needsAccess})),e(l).createElement(a("gdv5Z").default,{paddingInlineStart:"space.500"},e(l).createElement(a("eyWa4").default,{space:"space.200",alignBlock:"center"},s&&s.length>0?e(l).createElement(a("eyWa4").default,{space:"space.100",alignBlock:"center"},e(l).createElement(a("7hXDW").default,{size:"xxsmall",as:"h2"},e(l).createElement(a("gtD4K").default,p.space)),e(l).createElement(a("gdv5Z").default,{paddingInlineStart:"space.150"},s.map(t=>e(l).createElement(f,{restrictedResource:t,showLock:!1,key:t?.resourceId})))):null,n&&n.length>0?e(l).createElement(a("eyWa4").default,{space:"space.200",alignBlock:"center"},e(l).createElement(a("7hXDW").default,{size:"xxsmall",as:"h2"},e(l).createElement(a("gtD4K").default,p.parentItems)),e(l).createElement(a("gdv5Z").default,{paddingInlineStart:"space.150"},e(l).createElement(a("eyWa4").default,{space:"space.200",alignBlock:"center"},n.map(t=>e(l).createElement(f,{restrictedResource:t,showLock:!0,key:t?.resourceId}))))):null)))};function h(e){return e?.resourceType!=a("1chEN").ResourceType.SPACE}function E(e){return e?.resourceType==a("1chEN").ResourceType.SPACE}function b(t){return e(l).createElement(f,{restrictedResource:t,showLock:!1,key:t?.resourceId})}function _(t){return e(l).createElement(f,{restrictedResource:t,showLock:!0,key:t?.resourceId})}var y=a("86H8K");let v=(0,a("eSUdr").default)`mutation ResolveRestrictionsDialogResolveRestrictionsForSubjectsMutation($accessType:ResourceAccessType!$contentId:Long!$subjects:[BlockedAccessSubjectInput]!$spaceRoleId:ID){resolveRestrictionsForSubjects(input:{accessType:$accessType contentId:$contentId subjects:$subjects spaceRoleId:$spaceRoleId}){success errors{message}}}`,S=(0,a("cgtv4").defineMessages)({headingSingleUser:{id:"share-and-restrict-dialog.resolve-restricted-access.heading.single-user",defaultMessage:"Someone needs additional access"},headingMultiUser:{id:"share-and-restrict-dialog.resolve-restricted-access.heading.multi-user",defaultMessage:"Some people need additional access"},parentAccessBody:{id:"share-and-restrict-dialog.resolve-restriction.parent-access.body",defaultMessage:"They need access to a parent <resourceLink>{resourceTitle}</resourceLink> first before they can successfully access <bold>{pageTitle}</bold>. Theyâ€™ll be added with view-only access. <learnMoreLink>Learn more</learnMoreLink>"},parentAccessRolesRolesUpdateBody:{id:"share-and-restrict-dialog.resolve-restriction.parent-access.roles-update.body",defaultMessage:"They need access to a parent <resourceLink>{resourceTitle}</resourceLink> first before they can successfully access <bold>{pageTitle}</bold>. Theyâ€™ll be added with view-only access."},spaceAccessViewAndEditBody:{id:"share-and-restrict-dialog.resolve-restriction.space-access.view-and-edit.body",defaultMessage:"They need access to the space <resourceLink>{resourceTitle}</resourceLink> first before they can successfully access <bold>{pageTitle}</bold>. Theyâ€™ll be added with view and edit permissions only. <learnMoreLink>Learn more</learnMoreLink>"},spaceAccessViewAndEditRolesUpdateBody:{id:"share-and-restrict-dialog.resolve-restriction.space-access.view-and-edit.roles-update.body",defaultMessage:"They need edit access to the space <resourceLink>{resourceTitle}</resourceLink> first before they can successfully edit <bold>{pageTitle}</bold>."},spaceAccessViewBody:{id:"share-and-restrict-dialog.resolve-restriction.space-access.view.body",defaultMessage:"They need access to the space <resourceLink>{resourceTitle}</resourceLink> first before they can successfully view <bold>{pageTitle}</bold>. Theyâ€™ll be added with view-only access. <learnMoreLink>Learn more</learnMoreLink>"},spaceAccessViewRolesUpdateBody:{id:"share-and-restrict-dialog.resolve-restriction.space-access.view.roles-update.body",defaultMessage:"They need view access to the space <resourceLink>{resourceTitle}</resourceLink> first before they can successfully view <bold>{pageTitle}</bold>."},spaceAccessRoleSelectionForViewAccessBody:{id:"share-and-restrict-dialog.resolve-restriction.space-access.role-selection-for-view-access.body",defaultMessage:"<bold>Role</bold>"},spaceAccessRoleSelectionForEditAccessBody:{id:"share-and-restrict-dialog.resolve-restriction.space-access.role-selection-for-edit-access.body",defaultMessage:"<bold>Roles that allow editing</bold>"},skipButton:{id:"share-and-restrict-dialog.resolve-restriction.space-access.skip-button",defaultMessage:"Skip for now"},addToParentButton:{id:"share-and-restrict-dialog.resolve-restriction.parent-access.add-to-parent-button",defaultMessage:"Add to parent"},addToSpaceButton:{id:"share-and-restrict-dialog.resolve-restriction.space-access.add-to-space-button",defaultMessage:"Add to space"},addToAllButton:{id:"share-and-restrict-dialog.resolve-restriction.add-to-all-button",defaultMessage:"Add to all"},multiUserSpaceViewAndEditBody:{id:"share-and-restrict-dialog.resolve-restriction.multi-user.space.view-and-edit.body",defaultMessage:"<bold>{usersCount, plural, one {{firstUser}} =2 {{firstUser} and {secondUser}} =3 {{firstUser}, {secondUser}, and {thirdUser}} =4 {{firstUser}, {secondUser}, {thirdUser} and {fourthUser}} other {{firstUser}, {secondUser}, {thirdUser} and {remainingUserCount} others}}</bold> needs specific access in other places first before they can successfully access <bold>{pageTitle}</bold>. Theyâ€™ll be added with edit access at the space level only. Theyâ€™ll be added to the parent items with view-only access. <learnMoreLink>Learn more</learnMoreLink>"},multiUserSpaceViewAndEditRolesUpdateBody:{id:"share-and-restrict-dialog.resolve-restriction.multi-user.space.view-and-edit.roles-update.body",defaultMessage:"<bold>{usersCount, plural, one {{firstUser}} =2 {{firstUser} and {secondUser}} =3 {{firstUser}, {secondUser}, and {thirdUser}} =4 {{firstUser}, {secondUser}, {thirdUser} and {fourthUser}} other {{firstUser}, {secondUser}, {thirdUser} and {remainingUserCount} others}}</bold> needs specific access in other places first before they can successfully edit <bold>{pageTitle}</bold>. Choose a role they should have in the space. Theyâ€™ll be added to any parent content with view-only access."},multiUserParentViewAndEditBody:{id:"share-and-restrict-dialog.resolve-restriction.multi-user.parent.view-and-edit.body",defaultMessage:"<bold>{usersCount, plural, one {{firstUser}} =2 {{firstUser} and {secondUser}} =3 {{firstUser}, {secondUser}, and {thirdUser}} =4 {{firstUser}, {secondUser}, {thirdUser} and {fourthUser}} other {{firstUser}, {secondUser}, {thirdUser} and {remainingUserCount} others}}</bold> needs specific access in other places first before they can successfully access <bold>{pageTitle}</bold>. Theyâ€™ll be added to the parent items with view-only access. <learnMoreLink>Learn more</learnMoreLink>"},multiUserParentViewAndEditRolesUpdateBody:{id:"share-and-restrict-dialog.resolve-restriction.multi-user.parent.view-and-edit.roles-update.body",defaultMessage:"<bold>{usersCount, plural, one {{firstUser}} =2 {{firstUser} and {secondUser}} =3 {{firstUser}, {secondUser}, and {thirdUser}} =4 {{firstUser}, {secondUser}, {thirdUser} and {fourthUser}} other {{firstUser}, {secondUser}, {thirdUser} and {remainingUserCount} others}}</bold> needs specific access in other places first before they can successfully edit <bold>{pageTitle}</bold>. Theyâ€™ll be added to any parent items with view-only access."},multiUserViewBody:{id:"share-and-restrict-dialog.resolve-restriction.multi-user.view.body",defaultMessage:"<bold>{usersCount, plural, one {{firstUser}} =2 {{firstUser} and {secondUser}} =3 {{firstUser}, {secondUser}, and {thirdUser}} =4 {{firstUser}, {secondUser}, {thirdUser} and {fourthUser}} other {{firstUser}, {secondUser}, {thirdUser} and {remainingUserCount} others}}</bold> needs to be granted view access in other places first before they can successfully view <bold>{pageTitle}</bold>. <learnMoreLink>Learn more</learnMoreLink>"},multiUserViewRolesUpdateBody:{id:"share-and-restrict-dialog.resolve-restriction.multi-user.view.roles-update.body",defaultMessage:"<bold>{usersCount, plural, one {{firstUser}} =2 {{firstUser} and {secondUser}} =3 {{firstUser}, {secondUser}, and {thirdUser}} =4 {{firstUser}, {secondUser}, {thirdUser} and {fourthUser}} other {{firstUser}, {secondUser}, {thirdUser} and {remainingUserCount} others}}</bold> needs view access in other places first before they can successfully view <bold>{pageTitle}</bold>. Theyâ€™ll be added to any parent content with view-only access."},multiUserViewSpaceIncludedRolesUpdateBody:{id:"share-and-restrict-dialog.resolve-restriction.multi-user.view.space-included.roles-update.body",defaultMessage:"<bold>{usersCount, plural, one {{firstUser}} =2 {{firstUser} and {secondUser}} =3 {{firstUser}, {secondUser}, and {thirdUser}} =4 {{firstUser}, {secondUser}, {thirdUser} and {fourthUser}} other {{firstUser}, {secondUser}, {thirdUser} and {remainingUserCount} others}}</bold> needs view access in other places first before they can successfully view <bold>{pageTitle}</bold>. Choose a role they should have in the space. Theyâ€™ll be added to any parent content with view-only access."},usersNameList:{id:"share-and-restrict-dialog.resolve-restriction.multi-user.single-restriction.body",defaultMessage:"{usersCount, plural, one {{firstUser}} =2 {{firstUser} and {secondUser}} =3 {{firstUser}, {secondUser}, and {thirdUser}} =4 {{firstUser}, {secondUser}, {thirdUser} and {fourthUser}} other {{firstUser}, {secondUser}, {thirdUser} and {remainingUserCount} others}}"},errorFlagTitle:{id:"share-and-restrict-dialog.resolve-restriction-dialog.error-flag.title",defaultMessage:"Canâ€™t add guests"},errorFlagBodyDescription:{id:"share-and-restrict-dialog.resolve-restriction-dialog.error-flag.body",defaultMessage:"One or more guests canâ€™t be added to the space because they have access to another space already. Guests can only access one space at a time."}}),A="0c103ff5-44d0-4b2a-b80d-8690442c95f0",C=(0,a("ecnYn").xcss)({width:"150px"}),I=(0,a("ecnYn").xcss)({display:"flex",flexDirection:"column",gap:"space.050"}),T=(e=[])=>{let t=e.some(e=>e.restrictedResources?.some(e=>e?.resourceType===a("1chEN").ResourceType.SPACE)),r=e.some(e=>e.restrictedResources?.some(e=>e?.resourceType!==a("1chEN").ResourceType.SPACE));return t&&r?"space-and-parent":t?"space":"parent"},x=(e=[])=>e.some(e=>e.restrictedResources?.some(e=>e?.resourceType===a("1chEN").ResourceType.SPACE)),k=e=>({id:e.roleId,label:e.roleName,value:e.roleId,description:e.roleDescription}),R=(0,i.isReactCompilerActiveV1)()?t=>{let r,n,s,i,d,p,m,f,g,h,E,b,_=(0,o.c)(199),{restrictedUserPrincipals:A,assignableSpaceRolesIntersection:I,pageTitle:R,contentId:q,addMode:K,onComplete:H,onClose:z,onCloseComplete:W,onSkip:Y,showErrorFlag:Q,triggeredBy:$}=t,X=(0,a("8C5kA").default)(),J=(0,l.useRef)(null),{isRbacEnabled:Z}=(0,a("iquRY").useSpaceRoleMode)(),[ee,et]=(0,l.useState)(!1);_[0]!==I?(r=I?.map(k)||[],_[0]=I,_[1]=r):r=_[1];let ea=r;_[2]!==ea?(n=()=>{let e=ea.find(O);return e||ea[0]||null},_[2]=ea,_[3]=n):n=_[3];let[er,en]=(0,l.useState)(n);_[4]!==z||_[5]!==Y?(s=()=>{Y(),z?.()},_[4]=z,_[5]=Y,_[6]=s):s=_[6];let es=s,{createAnalyticsEvent:ei}=(0,a("inPa6").useAnalyticsEvents)(),{Modal:eo}=(0,a("lsxnT").useChoreographerAssets)(),[el]=(0,a("ep3mz").useContentType)(),ec=A?A.length:0;_[7]!==ei||_[8]!==$?(i=()=>{ei({type:"sendScreenEvent",data:{name:"ResolveRestrictionsDialog",attributes:{source:c.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,triggeredBy:$}}}).fire()},d=[ei,$],_[7]=ei,_[8]=$,_[9]=i,_[10]=d):(i=_[9],d=_[10]),(0,l.useEffect)(i,d),_[11]!==A?(p=A?.map(w),_[11]=A,_[12]=p):p=_[12];let ed=p;_[13]!==el||_[14]!==ei||_[15]!==X||_[16]!==z||_[17]!==H||_[18]!==Y||_[19]!==A||_[20]!==Q||_[21]!==$||_[22]!==ec?(m=e=>{if(e?.resolveRestrictionsForSubjects?.success)ei({type:"sendTrackEvent",data:{source:c.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"success",actionSubject:"resolveRestrictionsForSubjects",attributes:{blockedUsersCount:ec,blockedResourceType:T(A),contentType:el,triggeredBy:$}}}).fire(),et(!1),H(),z?.();else{let t=e?.resolveRestrictionsForSubjects?.errors,a=t?.some(L);ei({type:"sendTrackEvent",data:{source:c.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"failure",actionSubject:"resolveRestrictionsForSubjects",attributes:{blockedUsersCount:ec,blockedResourceType:T(A),contentType:el,errors:t,triggeredBy:$}}}).fire(),et(!1),a&&(Q({title:X.formatMessage(S.errorFlagTitle),description:X.formatMessage(S.errorFlagBodyDescription),isAutoDismiss:!0}),Y(a),z?.())}},_[13]=el,_[14]=ei,_[15]=X,_[16]=z,_[17]=H,_[18]=Y,_[19]=A,_[20]=Q,_[21]=$,_[22]=ec,_[23]=m):m=_[23],_[24]!==ei||_[25]!==$?(f=e=>{ei({type:"sendOperationalEvent",data:{source:c.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"errored",actionSubject:"resolveRestrictionsForSubjects",attributes:{message:e?.message,name:e?.name,stack:e?.stack,cause:e?.cause,triggeredBy:$}}}).fire(),et(!1)},_[24]=ei,_[25]=$,_[26]=f):f=_[26],_[27]!==m||_[28]!==f?(g={onCompleted:m,onError:f},_[27]=m,_[28]=f,_[29]=g):g=_[29];let[eu]=(0,a("1KmJq").useMutation)(v,g);_[30]!==K||_[31]!==ed||_[32]!==q||_[33]!==el||_[34]!==ei||_[35]!==eu||_[36]!==A||_[37]!==er?.value||_[38]!==$||_[39]!==ec?(h=()=>{et(!0),ei({type:"sendUIEvent",data:{source:c.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"clicked",actionSubject:"button",actionSubjectId:"AddResolveRestrictions",attributes:{blockedUsersCount:ec,blockedResourceType:T(A),contentType:el,triggeredBy:$}}}).fire(),eu({variables:{contentId:q,accessType:"as-editor"==K?u.EDIT:u.VIEW,subjects:ed||[],spaceRoleId:er?.value||null}})},_[30]=K,_[31]=ed,_[32]=q,_[33]=el,_[34]=ei,_[35]=eu,_[36]=A,_[37]=er?.value,_[38]=$,_[39]=ec,_[40]=h):h=_[40];let ep=h;_[41]!==el||_[42]!==ei||_[43]!==z||_[44]!==Y||_[45]!==A||_[46]!==$||_[47]!==ec?(E=()=>{ei({type:"sendUIEvent",data:{source:c.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"clicked",actionSubject:"button",actionSubjectId:"SkipResolveRestrictions",attributes:{blockedUsersCount:ec,blockedResourceType:T(A),contentType:el,triggeredBy:$}}}).fire(),Y(),z?.()},_[41]=el,_[42]=ei,_[43]=z,_[44]=Y,_[45]=A,_[46]=$,_[47]=ec,_[48]=E):E=_[48];let em=E;if(ec<1)return null;let ef=A?.length==1&&A[0].restrictedResources?.length==1,eg=A&&A?.length>1&&A[0].restrictedResources?.length==1&&A[0].restrictedResources[0],eh=!ef&&A?.every(e=>e?.restrictedResources?.length==1&&!!eg&&e?.restrictedResources[0]?.resourceId==eg?.resourceId);_[49]!==K||_[50]!==Z||_[51]!==A||_[52]!==ea||_[53]!==er?(b=()=>{if(!Z||!x(A))return null;let t="as-viewer"===K?S.spaceAccessRoleSelectionForViewAccessBody:S.spaceAccessRoleSelectionForEditAccessBody,r={isSearchable:!1,menuPortalTarget:document.body,styles:{menu:P,menuPortal:D}},n=e(l).memo(M),s=e(l).memo(N);return e(l).createElement(a("1GzhS").default,{space:"space.100"},e(l).createElement(a("5dK2X").default,{color:"color.text",testId:"selectRoleText"},e(l).createElement(a("gtD4K").default,{values:{bold:U},...t})),e(l).createElement(a("6f0Oj").default,{xcss:C},e(l).createElement(a("2gD2K").default,{options:ea,value:er,onChange:e=>en(e),components:{SingleValue:n,Option:s},...r})))},_[49]=K,_[50]=Z,_[51]=A,_[52]=ea,_[53]=er,_[54]=b):b=_[54];let eE=b;if(ef){let t,r,n,s,i,o,c,d,u,p,m,f,g,h,E,b,v,C=A&&A[0]&&A[0].userPrincipal,I=A&&A[0]&&A[0].restrictedResources&&A[0].restrictedResources[0],T=I&&I.resourceLink.base||"",x=I&&I.resourceLink.webUi||"";_[55]!==T||_[56]!==x?(t=T+x,a("1NBp8").FOLDER_VIEW.match(t)&&(t+="?referrer=share-and-restrict-dialog"),_[55]=T,_[56]=x,_[57]=t):t=_[57];let k=I&&I.resourceTitle,O=Z?S.spaceAccessViewAndEditRolesUpdateBody:S.spaceAccessViewAndEditBody,w=Z?S.spaceAccessViewRolesUpdateBody:S.spaceAccessViewBody,L=Z?S.parentAccessRolesRolesUpdateBody:S.parentAccessBody,P="as-editor"===K?O:w,D=I&&I.resourceType==a("1chEN").ResourceType.SPACE?P:L;_[58]===Symbol.for("react.memo_cache_sentinel")?(r=e(l).createElement(a("d8eRd").default,null,e(l).createElement(a("gtD4K").default,S.headingSingleUser)),_[58]=r):r=_[58],_[59]!==es?(n=e(l).createElement(a("9ot3w").default,null,r,e(l).createElement(a("8TTLA").CloseButton,{onClick:es})),_[59]=es,_[60]=n):n=_[60];let M=C&&C.avatarUrl;_[61]!==M?(s=e(l).createElement(a("esRft").default,{src:M}),_[61]=M,_[62]=s):s=_[62];let N=C&&C.name;_[63]!==N?(i=e(l).createElement(a("5dK2X").default,{color:"color.text"},N),_[63]=N,_[64]=i):i=_[64],_[65]!==s||_[66]!==i?(o=e(l).createElement(a("dcJ7R").default,{space:"space.150",alignBlock:"center"},s,i),_[65]=s,_[66]=i,_[67]=o):o=_[67],_[68]!==t?(c=r=>e(l).createElement(a("2Nwuj").default,{target:"_blank",href:t},r),_[68]=t,_[69]=c):c=_[69],_[70]!==R||_[71]!==k||_[72]!==c?(d={pageTitle:R,resourceTitle:k,resourceLink:c,bold:j,learnMoreLink:y.LearnMoreChunk},_[70]=R,_[71]=k,_[72]=c,_[73]=d):d=_[73],_[74]!==D||_[75]!==d?(u=e(l).createElement(a("gtD4K").default,{values:d,...D}),_[74]=D,_[75]=d,_[76]=u):u=_[76],_[77]!==eE?(p=eE(),_[77]=eE,_[78]=p):p=_[78],_[79]!==o||_[80]!==u||_[81]!==p?(m=e(l).createElement(a("1DHa6").default,null,e(l).createElement(a("1GzhS").default,{space:"space.200"},o,u,p)),_[79]=o,_[80]=u,_[81]=p,_[82]=m):m=_[82],_[83]===Symbol.for("react.memo_cache_sentinel")?(f=e(l).createElement(a("gtD4K").default,S.skipButton),_[83]=f):f=_[83],_[84]!==em||_[85]!==ee?(g=e(l).createElement(a("ccHMk").default,{appearance:"subtle",onClick:em,isDisabled:ee},f),_[84]=em,_[85]=ee,_[86]=g):g=_[86];let U=I&&I.resourceType==a("1chEN").ResourceType.SPACE?S.addToSpaceButton:S.addToParentButton;return _[87]!==U?(h=e(l).createElement(a("gtD4K").default,U),_[87]=U,_[88]=h):h=_[88],_[89]!==ep||_[90]!==ee||_[91]!==h?(E=e(l).createElement(a("ccHMk").default,{appearance:"primary",onClick:ep,ref:J,isLoading:ee},h),_[89]=ep,_[90]=ee,_[91]=h,_[92]=E):E=_[92],_[93]!==g||_[94]!==E?(b=e(l).createElement(a("8o1lj").default,null,g,E),_[93]=g,_[94]=E,_[95]=b):b=_[95],_[96]!==eo||_[97]!==z||_[98]!==W||_[99]!==n||_[100]!==m||_[101]!==b?(v=e(l).createElement(eo,{width:"500px",autoFocus:J,onClose:z,onCloseComplete:W,testId:"modal-dialog-resolve-restrictions"},n,m,b),_[96]=eo,_[97]=z,_[98]=W,_[99]=n,_[100]=m,_[101]=b,_[102]=v):v=_[102],v}if(eh){let t,r,n,s,i,o,c,d,u,p,m,f,g,h,E,b,v,C;_[103]!==A?(t=A?A.map(B):[],_[103]=A,_[104]=t):t=_[104];let I=t,T=eg&&eg.resourceLink.base||"",x=eg&&eg.resourceLink.webUi||"";_[105]!==T||_[106]!==x?(r=T+x,a("1NBp8").FOLDER_VIEW.match(r)&&(r+="?referrer=share-and-restrict-dialog"),_[105]=T,_[106]=x,_[107]=r):r=_[107];let k=Z?S.spaceAccessViewAndEditRolesUpdateBody:S.spaceAccessViewAndEditBody,O=Z?S.spaceAccessViewRolesUpdateBody:S.spaceAccessViewBody,w="as-editor"===K?k:O,L=Z?S.parentAccessRolesRolesUpdateBody:S.parentAccessBody,P=eg&&eg.resourceType==a("1chEN").ResourceType.SPACE?w:L;_[108]===Symbol.for("react.memo_cache_sentinel")?(n=e(l).createElement(a("d8eRd").default,null,e(l).createElement(a("gtD4K").default,S.headingMultiUser)),_[108]=n):n=_[108],_[109]!==es?(s=e(l).createElement(a("9ot3w").default,null,n,e(l).createElement(a("8TTLA").CloseButton,{onClick:es})),_[109]=es,_[110]=s):s=_[110],_[111]!==I?(i=e(l).createElement(a("2Pg7f").default,{appearance:"stack",data:I,maxCount:4}),_[111]=I,_[112]=i):i=_[112];let D=A&&A[0]&&A[0].userPrincipal?A[0].userPrincipal.name:null,M=A&&A[1]&&A[1].userPrincipal?A[1].userPrincipal.name:null,N=A&&A[2]&&A[2].userPrincipal?A[2].userPrincipal.name:null,U=A&&A[3]&&A[3].userPrincipal?A[3].userPrincipal.name:null,j=ec-3;_[113]!==D||_[114]!==M||_[115]!==N||_[116]!==U||_[117]!==j||_[118]!==ec?(o=e(l).createElement(a("5dK2X").default,{weight:"bold"},e(l).createElement(a("gtD4K").default,{...S.usersNameList,values:{usersCount:ec,firstUser:D,secondUser:M,thirdUser:N,fourthUser:U,remainingUserCount:j}})),_[113]=D,_[114]=M,_[115]=N,_[116]=U,_[117]=j,_[118]=ec,_[119]=o):o=_[119],_[120]!==i||_[121]!==o?(c=e(l).createElement(a("dcJ7R").default,{space:"space.100",alignBlock:"center"},i,o),_[120]=i,_[121]=o,_[122]=c):c=_[122];let G=eg&&eg.resourceTitle;_[123]!==r?(d=t=>e(l).createElement(a("2Nwuj").default,{target:"_blank",href:r},t),_[123]=r,_[124]=d):d=_[124],_[125]!==R||_[126]!==G||_[127]!==d?(u={pageTitle:R,resourceTitle:G,resourceLink:d,bold:F,learnMoreLink:y.LearnMoreChunk},_[125]=R,_[126]=G,_[127]=d,_[128]=u):u=_[128],_[129]!==P||_[130]!==u?(p=e(l).createElement(a("gtD4K").default,{values:u,...P}),_[129]=P,_[130]=u,_[131]=p):p=_[131],_[132]!==eE?(m=eE(),_[132]=eE,_[133]=m):m=_[133],_[134]!==c||_[135]!==p||_[136]!==m?(f=e(l).createElement(a("1DHa6").default,null,e(l).createElement(a("1GzhS").default,{space:"space.200"},c,p,m)),_[134]=c,_[135]=p,_[136]=m,_[137]=f):f=_[137],_[138]===Symbol.for("react.memo_cache_sentinel")?(g=e(l).createElement(a("gtD4K").default,S.skipButton),_[138]=g):g=_[138],_[139]!==em||_[140]!==ee?(h=e(l).createElement(a("ccHMk").default,{appearance:"subtle",onClick:em,isDisabled:ee},g),_[139]=em,_[140]=ee,_[141]=h):h=_[141];let V=eg&&eg.resourceType==a("1chEN").ResourceType.SPACE?S.addToSpaceButton:S.addToParentButton;return _[142]!==V?(E=e(l).createElement(a("gtD4K").default,V),_[142]=V,_[143]=E):E=_[143],_[144]!==ep||_[145]!==ee||_[146]!==E?(b=e(l).createElement(a("ccHMk").default,{appearance:"primary",onClick:ep,ref:J,isLoading:ee},E),_[144]=ep,_[145]=ee,_[146]=E,_[147]=b):b=_[147],_[148]!==h||_[149]!==b?(v=e(l).createElement(a("8o1lj").default,null,h,b),_[148]=h,_[149]=b,_[150]=v):v=_[150],_[151]!==eo||_[152]!==z||_[153]!==W||_[154]!==s||_[155]!==f||_[156]!==v?(C=e(l).createElement(eo,{width:"500px",autoFocus:J,onClose:z,onCloseComplete:W},s,f,v),_[151]=eo,_[152]=z,_[153]=W,_[154]=s,_[155]=f,_[156]=v,_[157]=C):C=_[157],C}{let t,r,n,s,i,o,c,d,u,p,m,f,g,h=x(A),E=Z?S.multiUserSpaceViewAndEditRolesUpdateBody:S.multiUserSpaceViewAndEditBody,b=Z?S.multiUserParentViewAndEditRolesUpdateBody:S.multiUserParentViewAndEditBody,v=h?S.multiUserViewSpaceIncludedRolesUpdateBody:S.multiUserViewRolesUpdateBody,C=Z?v:S.multiUserViewBody,I="as-editor"===K?h?E:b:C,T=A?.length===1?"inherit":"600px";_[158]===Symbol.for("react.memo_cache_sentinel")?(t=e(l).createElement(a("d8eRd").default,null,e(l).createElement(a("gtD4K").default,S.headingSingleUser)),_[158]=t):t=_[158],_[159]!==es?(r=e(l).createElement(a("9ot3w").default,null,t,e(l).createElement(a("8TTLA").CloseButton,{onClick:es})),_[159]=es,_[160]=r):r=_[160];let k=A&&A[0]&&A[0].userPrincipal?A[0].userPrincipal.name:null,O=A&&A[1]&&A[1].userPrincipal?A[1].userPrincipal.name:null,w=A&&A[2]&&A[2].userPrincipal?A[2].userPrincipal.name:null,L=A&&A[3]&&A[3].userPrincipal?A[3].userPrincipal.name:null,P=ec-3;return _[161]!==R||_[162]!==k||_[163]!==O||_[164]!==w||_[165]!==L||_[166]!==P||_[167]!==ec?(n={usersCount:ec,firstUser:k,secondUser:O,thirdUser:w,fourthUser:L,remainingUserCount:P,pageTitle:R,bold:G,learnMoreLink:y.LearnMoreChunk},_[161]=R,_[162]=k,_[163]=O,_[164]=w,_[165]=L,_[166]=P,_[167]=ec,_[168]=n):n=_[168],_[169]!==I||_[170]!==n?(s=e(l).createElement(a("dcJ7R").default,{space:"space.100",alignBlock:"center"},e(l).createElement(a("5dK2X").default,null,e(l).createElement(a("gtD4K").default,{...I,values:n}))),_[169]=I,_[170]=n,_[171]=s):s=_[171],_[172]!==eE?(i=eE(),_[172]=eE,_[173]=i):i=_[173],_[174]!==A?(o=A&&A.map(V),_[174]=A,_[175]=o):o=_[175],_[176]!==s||_[177]!==i||_[178]!==o?(c=e(l).createElement(a("1DHa6").default,null,e(l).createElement(a("1GzhS").default,{space:"space.200"},s,i,o)),_[176]=s,_[177]=i,_[178]=o,_[179]=c):c=_[179],_[180]===Symbol.for("react.memo_cache_sentinel")?(d=e(l).createElement(a("gtD4K").default,S.skipButton),_[180]=d):d=_[180],_[181]!==em||_[182]!==ee?(u=e(l).createElement(a("ccHMk").default,{appearance:"subtle",onClick:em,isDisabled:ee},d),_[181]=em,_[182]=ee,_[183]=u):u=_[183],_[184]===Symbol.for("react.memo_cache_sentinel")?(p=e(l).createElement(a("gtD4K").default,S.addToAllButton),_[184]=p):p=_[184],_[185]!==ep||_[186]!==ee?(m=e(l).createElement(a("ccHMk").default,{appearance:"primary",onClick:ep,ref:J,isLoading:ee},p),_[185]=ep,_[186]=ee,_[187]=m):m=_[187],_[188]!==u||_[189]!==m?(f=e(l).createElement(a("8o1lj").default,null,u,m),_[188]=u,_[189]=m,_[190]=f):f=_[190],_[191]!==eo||_[192]!==T||_[193]!==z||_[194]!==W||_[195]!==r||_[196]!==c||_[197]!==f?(g=e(l).createElement(eo,{width:"500px",height:T,autoFocus:J,onClose:z,onCloseComplete:W},r,c,f),_[191]=eo,_[192]=T,_[193]=z,_[194]=W,_[195]=r,_[196]=c,_[197]=f,_[198]=g):g=_[198],g}}:({restrictedUserPrincipals:t,assignableSpaceRolesIntersection:r,pageTitle:n,contentId:s,addMode:i,onComplete:o,onClose:p,onCloseComplete:m,onSkip:f,showErrorFlag:h,triggeredBy:E})=>{let b=(0,a("8C5kA").default)(),_=(0,l.useRef)(null),{isRbacEnabled:R}=(0,a("iquRY").useSpaceRoleMode)(),[O,w]=(0,l.useState)(!1),L=r?.map(k)||[],[P,D]=(0,l.useState)(()=>{let e=L.find(e=>e.id===A);return e||L[0]||null}),M=()=>{f(),p?.()},{createAnalyticsEvent:N}=(0,a("inPa6").useAnalyticsEvents)(),{Modal:U}=(0,a("lsxnT").useChoreographerAssets)(),[j]=(0,a("ep3mz").useContentType)(),B=t?t.length:0;(0,l.useEffect)(()=>{N({type:"sendScreenEvent",data:{name:"ResolveRestrictionsDialog",attributes:{source:c.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,triggeredBy:E}}}).fire()},[N,E]);let F=t?.map(e=>({subjectId:e?.userPrincipal?.id||"",subjectType:d.USER})),[G]=(0,a("1KmJq").useMutation)(v,{onCompleted:e=>{if(e?.resolveRestrictionsForSubjects?.success)N({type:"sendTrackEvent",data:{source:c.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"success",actionSubject:"resolveRestrictionsForSubjects",attributes:{blockedUsersCount:B,blockedResourceType:T(t),contentType:j,triggeredBy:E}}}).fire(),w(!1),o(),p?.();else{let a=e?.resolveRestrictionsForSubjects?.errors,r=a?.some(e=>"ExcoSingleSpaceException: Failed to save permission for guest: guest already has access to another space"===e.message);N({type:"sendTrackEvent",data:{source:c.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"failure",actionSubject:"resolveRestrictionsForSubjects",attributes:{blockedUsersCount:B,blockedResourceType:T(t),contentType:j,errors:a,triggeredBy:E}}}).fire(),w(!1),r&&(h({title:b.formatMessage(S.errorFlagTitle),description:b.formatMessage(S.errorFlagBodyDescription),isAutoDismiss:!0}),f(r),p?.())}},onError:e=>{N({type:"sendOperationalEvent",data:{source:c.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"errored",actionSubject:"resolveRestrictionsForSubjects",attributes:{message:e?.message,name:e?.name,stack:e?.stack,cause:e?.cause,triggeredBy:E}}}).fire(),w(!1)}}),V=()=>{w(!0),N({type:"sendUIEvent",data:{source:c.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"clicked",actionSubject:"button",actionSubjectId:"AddResolveRestrictions",attributes:{blockedUsersCount:B,blockedResourceType:T(t),contentType:j,triggeredBy:E}}}).fire(),G({variables:{contentId:s,accessType:"as-editor"==i?u.EDIT:u.VIEW,subjects:F||[],spaceRoleId:P?.value||null}})},q=()=>{N({type:"sendUIEvent",data:{source:c.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"clicked",actionSubject:"button",actionSubjectId:"SkipResolveRestrictions",attributes:{blockedUsersCount:B,blockedResourceType:T(t),contentType:j,triggeredBy:E}}}).fire(),f(),p?.()};if(B<1)return null;let K=t?.length==1&&t[0].restrictedResources?.length==1,H=t&&t?.length>1&&t[0].restrictedResources?.length==1&&t[0].restrictedResources[0],z=!K&&t?.every(e=>e?.restrictedResources?.length==1&&!!H&&e?.restrictedResources[0]?.resourceId==H?.resourceId),W=()=>{if(!R||!x(t))return null;let r="as-viewer"===i?S.spaceAccessRoleSelectionForViewAccessBody:S.spaceAccessRoleSelectionForEditAccessBody,n={isSearchable:!1,menuPortalTarget:document.body,styles:{menu:e=>({...e,width:"320px"}),menuPortal:e=>({...e,zIndex:600})}},s=e(l).memo(t=>e(l).createElement(a("3hOY6").components.SingleValue,t,t.data.label)),o=e(l).memo(t=>e(l).createElement(a("3hOY6").components.Option,t,e(l).createElement(a("6f0Oj").default,{xcss:I},e(l).createElement(a("5dK2X").default,null,t.data.label),e(l).createElement(a("5dK2X").default,{color:"color.text.subtlest"},t.data.description))));return e(l).createElement(a("1GzhS").default,{space:"space.100"},e(l).createElement(a("5dK2X").default,{color:"color.text",testId:"selectRoleText"},e(l).createElement(a("gtD4K").default,{values:{bold:t=>e(l).createElement("b",null,t)},...r})),e(l).createElement(a("6f0Oj").default,{xcss:C},e(l).createElement(a("2gD2K").default,{options:L,value:P,onChange:e=>D(e),components:{SingleValue:s,Option:o},...n})))};if(K){let r=t&&t[0]&&t[0].userPrincipal,s=t&&t[0]&&t[0].restrictedResources&&t[0].restrictedResources[0],o=(s&&s.resourceLink.base||"")+(s&&s.resourceLink.webUi||"");a("1NBp8").FOLDER_VIEW.match(o)&&(o+="?referrer=share-and-restrict-dialog");let c=s&&s.resourceTitle,d=R?S.spaceAccessViewAndEditRolesUpdateBody:S.spaceAccessViewAndEditBody,u=R?S.spaceAccessViewRolesUpdateBody:S.spaceAccessViewBody,f=R?S.parentAccessRolesRolesUpdateBody:S.parentAccessBody,g=s&&s.resourceType==a("1chEN").ResourceType.SPACE?"as-editor"===i?d:u:f;return e(l).createElement(U,{width:"500px",autoFocus:_,onClose:p,onCloseComplete:m,testId:"modal-dialog-resolve-restrictions"},e(l).createElement(a("9ot3w").default,null,e(l).createElement(a("d8eRd").default,null,e(l).createElement(a("gtD4K").default,S.headingSingleUser)),e(l).createElement(a("8TTLA").CloseButton,{onClick:M})),e(l).createElement(a("1DHa6").default,null,e(l).createElement(a("1GzhS").default,{space:"space.200"},e(l).createElement(a("dcJ7R").default,{space:"space.150",alignBlock:"center"},e(l).createElement(a("esRft").default,{src:r&&r.avatarUrl}),e(l).createElement(a("5dK2X").default,{color:"color.text"},r&&r.name)),e(l).createElement(a("gtD4K").default,{values:{pageTitle:n,resourceTitle:c,resourceLink:t=>e(l).createElement(a("2Nwuj").default,{target:"_blank",href:o},t),bold:t=>e(l).createElement("b",null,t),learnMoreLink:y.LearnMoreChunk},...g}),W())),e(l).createElement(a("8o1lj").default,null,e(l).createElement(a("ccHMk").default,{appearance:"subtle",onClick:q,isDisabled:O},e(l).createElement(a("gtD4K").default,S.skipButton)),e(l).createElement(a("ccHMk").default,{appearance:"primary",onClick:V,ref:_,isLoading:O},e(l).createElement(a("gtD4K").default,s&&s.resourceType==a("1chEN").ResourceType.SPACE?S.addToSpaceButton:S.addToParentButton))))}if(z){let r=t?t.map(e=>({key:e?.userPrincipal?.email||"",name:e?.userPrincipal?.name||"",href:"#",src:e?.userPrincipal?.avatarUrl||""})):[],s=(H&&H.resourceLink.base||"")+(H&&H.resourceLink.webUi||"");a("1NBp8").FOLDER_VIEW.match(s)&&(s+="?referrer=share-and-restrict-dialog");let o=R?S.spaceAccessViewAndEditRolesUpdateBody:S.spaceAccessViewAndEditBody,c=R?S.spaceAccessViewRolesUpdateBody:S.spaceAccessViewBody,d=R?S.parentAccessRolesRolesUpdateBody:S.parentAccessBody,u=H&&H.resourceType==a("1chEN").ResourceType.SPACE?"as-editor"===i?o:c:d;return e(l).createElement(U,{width:"500px",autoFocus:_,onClose:p,onCloseComplete:m},e(l).createElement(a("9ot3w").default,null,e(l).createElement(a("d8eRd").default,null,e(l).createElement(a("gtD4K").default,S.headingMultiUser)),e(l).createElement(a("8TTLA").CloseButton,{onClick:M})),e(l).createElement(a("1DHa6").default,null,e(l).createElement(a("1GzhS").default,{space:"space.200"},e(l).createElement(a("dcJ7R").default,{space:"space.100",alignBlock:"center"},e(l).createElement(a("2Pg7f").default,{appearance:"stack",data:r,maxCount:4}),e(l).createElement(a("5dK2X").default,{weight:"bold"},e(l).createElement(a("gtD4K").default,{...S.usersNameList,values:{usersCount:B,firstUser:t&&t[0]&&t[0].userPrincipal?t[0].userPrincipal.name:null,secondUser:t&&t[1]&&t[1].userPrincipal?t[1].userPrincipal.name:null,thirdUser:t&&t[2]&&t[2].userPrincipal?t[2].userPrincipal.name:null,fourthUser:t&&t[3]&&t[3].userPrincipal?t[3].userPrincipal.name:null,remainingUserCount:B-3}}))),e(l).createElement(a("gtD4K").default,{values:{pageTitle:n,resourceTitle:H&&H.resourceTitle,resourceLink:t=>e(l).createElement(a("2Nwuj").default,{target:"_blank",href:s},t),bold:t=>e(l).createElement("b",null,t),learnMoreLink:y.LearnMoreChunk},...u}),W())),e(l).createElement(a("8o1lj").default,null,e(l).createElement(a("ccHMk").default,{appearance:"subtle",onClick:q,isDisabled:O},e(l).createElement(a("gtD4K").default,S.skipButton)),e(l).createElement(a("ccHMk").default,{appearance:"primary",onClick:V,ref:_,isLoading:O},e(l).createElement(a("gtD4K").default,H&&H.resourceType==a("1chEN").ResourceType.SPACE?S.addToSpaceButton:S.addToParentButton))))}{let r=x(t),s=R?S.multiUserSpaceViewAndEditRolesUpdateBody:S.multiUserSpaceViewAndEditBody,o=R?S.multiUserParentViewAndEditRolesUpdateBody:S.multiUserParentViewAndEditBody,c=r?S.multiUserViewSpaceIncludedRolesUpdateBody:S.multiUserViewRolesUpdateBody,d=R?c:S.multiUserViewBody,u=t?.length===1;return e(l).createElement(U,{width:"500px",height:u?"inherit":"600px",autoFocus:_,onClose:p,onCloseComplete:m},e(l).createElement(a("9ot3w").default,null,e(l).createElement(a("d8eRd").default,null,e(l).createElement(a("gtD4K").default,S.headingSingleUser)),e(l).createElement(a("8TTLA").CloseButton,{onClick:M})),e(l).createElement(a("1DHa6").default,null,e(l).createElement(a("1GzhS").default,{space:"space.200"},e(l).createElement(a("dcJ7R").default,{space:"space.100",alignBlock:"center"},e(l).createElement(a("5dK2X").default,null,e(l).createElement(a("gtD4K").default,{..."as-editor"===i?r?s:o:d,values:{usersCount:B,firstUser:t&&t[0]&&t[0].userPrincipal?t[0].userPrincipal.name:null,secondUser:t&&t[1]&&t[1].userPrincipal?t[1].userPrincipal.name:null,thirdUser:t&&t[2]&&t[2].userPrincipal?t[2].userPrincipal.name:null,fourthUser:t&&t[3]&&t[3].userPrincipal?t[3].userPrincipal.name:null,remainingUserCount:B-3,pageTitle:n,bold:t=>e(l).createElement(a("5dK2X").default,{weight:"bold"},t),learnMoreLink:y.LearnMoreChunk}}))),W(),t&&t.map(t=>e(l).createElement(a("1GzhS").default,{space:"space.050",key:t.userPrincipal?.id},e(l).createElement("hr",{role:"presentation",style:{width:"100%"}}),e(l).createElement(a("dcJ7R").default,{key:t.userPrincipal?.id},e(l).createElement(g,{user:t.userPrincipal,restrictedResources:t.restrictedResources})))))),e(l).createElement(a("8o1lj").default,null,e(l).createElement(a("ccHMk").default,{appearance:"subtle",onClick:q,isDisabled:O},e(l).createElement(a("gtD4K").default,S.skipButton)),e(l).createElement(a("ccHMk").default,{appearance:"primary",onClick:V,ref:_,isLoading:O},e(l).createElement(a("gtD4K").default,S.addToAllButton))))}};function O(e){return e.id===A}function w(e){return{subjectId:e?.userPrincipal?.id||"",subjectType:d.USER}}function L(e){return"ExcoSingleSpaceException: Failed to save permission for guest: guest already has access to another space"===e.message}function P(e){return{...e,width:"320px"}}function D(e){return{...e,zIndex:600}}function M(t){return e(l).createElement(a("3hOY6").components.SingleValue,t,t.data.label)}function N(t){return e(l).createElement(a("3hOY6").components.Option,t,e(l).createElement(a("6f0Oj").default,{xcss:I},e(l).createElement(a("5dK2X").default,null,t.data.label),e(l).createElement(a("5dK2X").default,{color:"color.text.subtlest"},t.data.description)))}function U(t){return e(l).createElement("b",null,t)}function j(t){return e(l).createElement("b",null,t)}function B(e){return{key:e?.userPrincipal?.email||"",name:e?.userPrincipal?.name||"",href:"#",src:e?.userPrincipal?.avatarUrl||""}}function F(t){return e(l).createElement("b",null,t)}function G(t){return e(l).createElement(a("5dK2X").default,{weight:"bold"},t)}function V(t){return e(l).createElement(a("1GzhS").default,{space:"space.050",key:t.userPrincipal?.id},e(l).createElement("hr",{role:"presentation",style:{width:"100%"}}),e(l).createElement(a("dcJ7R").default,{key:t.userPrincipal?.id},e(l).createElement(g,{user:t.userPrincipal,restrictedResources:t.restrictedResources})))}t.exports.ResolveRestrictionsDialog=R}),r("iquRY",function(e,t){var r=a("3u0dr"),n=a("frIzR");let s=(0,r.isReactCompilerActiveV1)()?()=>{let e,t,r=(0,n.c)(6),{cloudId:s}=(0,a("bQm3c").useSessionData)();r[0]!==s?(e={variables:{cloudId:s},onError:i},r[0]=s,r[1]=e):e=r[1];let{data:o,loading:l}=(0,a("jMyy4").useQueryInterop)(a("24WXz").default,e),c=!!o?.confluence_spaceRoleMode&&"PRE_ROLES"!==o.confluence_spaceRoleMode,d=o?.confluence_spaceRoleMode;return r[2]!==c||r[3]!==l||r[4]!==d?(t={spaceRoleMode:d,isRbacEnabled:c,loading:l},r[2]=c,r[3]=l,r[4]=d,r[5]=t):t=r[5],t}:()=>{let{cloudId:e}=(0,a("bQm3c").useSessionData)(),{data:t,loading:r}=(0,a("jMyy4").useQueryInterop)(a("24WXz").default,{variables:{cloudId:e},onError:e=>{(0,a("5ZqQS").getMonitoringClient)().submitError(e,{attribution:a("3IBnw").Attribution.PERMISSIONS_EXPERIENCE}),(0,a("7Sm4c").markErrorAsHandled)(e)}}),n=!!t?.confluence_spaceRoleMode&&"PRE_ROLES"!==t.confluence_spaceRoleMode;return{spaceRoleMode:t?.confluence_spaceRoleMode,isRbacEnabled:n,loading:r}};function i(e){(0,a("5ZqQS").getMonitoringClient)().submitError(e,{attribution:a("3IBnw").Attribution.PERMISSIONS_EXPERIENCE}),(0,a("7Sm4c").markErrorAsHandled)(e)}e.exports.useSpaceRoleMode=s}),r("24WXz",function(e,t){var a,r;let n={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"cloudId"}],kind:"Fragment",name:"useSpaceRoleModeQuery",selections:r=[{args:[{kind:"Variable",name:"cloudId",variableName:"cloudId"}],kind:"ScalarField",name:"confluence_spaceRoleMode"}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useSpaceRoleModeQuery",selections:r},params:{cacheID:"60ed41889a4cd98154a0419dcf1f59f5",id:"568a16c2dadb6c51097438a074053eda35e4744d08b20d0f79c582acba061e82",metadata:{},name:"useSpaceRoleModeQuery",operationKind:"query",text:"query useSpaceRoleModeQuery($cloudId:ID!){confluence_spaceRoleMode(cloudId:$cloudId)}"}};n.hash="88c4ae8983cc6692099b2b1e1d7a4379",e.exports.default=n}),r("1chEN",function(e,t){var a,r,n,s,i=((a={}).GROUP="GROUP",a.USER="USER",a),o=((r={}).EDIT="EDIT",r.VIEW="VIEW",r),l=((n={}).DATABASE="DATABASE",n.FOLDER="FOLDER",n.PAGE="PAGE",n.SPACE="SPACE",n.WHITEBOARD="WHITEBOARD",n);(s={}).CUSTOM="CUSTOM",s.SYSTEM="SYSTEM",e.exports.BlockedAccessSubjectType=i,e.exports.ResourceAccessType=o,e.exports.ResourceType=l}),r("iKskQ",function(t,r){var n=a("42omo");let s={default:"_19itidpf _1o9zidpf _bfhkizff",loaded:"_bfhk1j28"},i={xsmall:"_2rko12b0 _1bsbgktf _4t3igktf",small:"_2rkolb4i _1bsb1tcg _4t3i1tcg",medium:"_2rkofajl _1bsbzwfg _4t3izwfg",large:"_2rkofajl _1bsb1ylp _4t3i1ylp",xlarge:"_2rko1qi0 _1bsb16xz _4t3i16xz"},o={global:e(a("buthI")),personal:e(a("4wwVl"))},l=(0,n.memo)(({type:t,label:r="",size:l="medium",src:c,testId:d})=>{let[u,p]=(0,n.useState)(!c),m=(0,n.useCallback)(()=>{p(!0)},[p]);if(c)return e(n).createElement("img",{src:c?.includes("/wiki")||c?.startsWith("http")?c:`/wiki${c}`,alt:r,onLoad:m,onError:m,"data-testid":d,className:(0,a("gMc0m").default)([s.default,u&&s.loaded,i[l]])});let f=t&&o[t]||e(a("buthI"));return e(n).createElement(f,{label:r,testId:d})});t.exports.SpaceIcon=l}),r("3hlsb",function(e,t){var r=a("7QoAs");let n=(e,t,a)=>async()=>{try{await t(),e(e=>({...e,isSaving:!1,sessionState:"shareAndRestrict",...a}))}catch(e){}};function s({principalsStagerPrincipals:e,addMode:t,queriesState:r,setMasterState:n}){let s=r.currentUser,i=!r.contentRestrictions.principals.some(({principal:e})=>e.id===s.id);for(let r of[...e].reverse()){if("email"===r.type||"external_user"===r.type)continue;let e=(0,a("fec5t").convertUserPickerPrincipal)(r);e.id===s.id?i&&(0,a("fec5t").stagePrincipalAddition)(n,e,t):(0,a("fec5t").stagePrincipalAddition)(n,e,t)}(0,a("fec5t").filterStagedAdditionsByPrincipals)(n,e),n(t=>({...t,principalsStagerPrincipals:e.map(e=>(0,a("6O3OC").isEmail)(e)&&void 0===e.isPendingAction&&(0,a("9wGTI").fg)("twcg-444-invite-usd-improvements-m2-gate")&&(0,a("6mKj3").expValEquals)("twcg-444-invite-usd-improvements-m2","cohort","variation")?{...e,isPendingAction:!0}:e)}))}function i({masterState:e,derivedState:t,queriesState:s,controllerProps:i,controllerExtras:o,setMasterState:l,dispatchCtaFlowEvent:c,refetchQueries:d,isCtaClick:u=!1,stagedGeneralAccessLevel:p}){let{contentId:m,contentType:f,contentSubType:g,isUnpublishedDraft:h}=i,{addMode:E,optionalMessage:b,shouldResolveMismatchedRestrictions:_}=e,{edition:y,numberOfAncestors:v,userCanEditRestrictions:S,currentUser:A}=s,C=p??t.stagedGeneralAccessLevel,{includeInvites:I}=t,{mutateContentRestrictions:T,sendNotification:x,successFlag:k,errorFlag:R,fireAnalyticEvent:O,experienceTracker:w,callResolveMismatchedRestrictions:L}=o,P=n(l,d),D=(0,a("lTbRO").makePrincipalsMap)(e,s,{isCtaClick:u,stagedGeneralAccessLevel:C});c({contentId:m,edition:y,numberOfAncestors:v,type:"cta",addMode:E,mutateContentRestrictions:T,currentUser:A,sendNotification:x,successFlag:k,errorFlag:R,beginTeardown:()=>{},isMutatingAction:!0,isNotifyingAction:!1,userCanEditRestrictions:S,stagedGeneralAccessLevel:C,principalsMap:D,optionalMessage:b,principalsStagerPrincipals:e.principalsStagerPrincipals,stagedNotificationRecipients:[],validateRestrictedPrincipals:r.validateRestrictedPrincipals,experienceTracker:w,fireAnalyticEvent:O,contentSubType:g,contentType:f,callResolveMismatchedRestrictions:L,isResolvingAction:_,isUnpublishedDraft:h,includeInvites:I,refreshDialogState:P})}e.exports.getActions=function(e,t,o,l,c,d,u,p){let m=a=>{i({masterState:o,derivedState:l,queriesState:c,controllerProps:e,controllerExtras:t,setMasterState:d,dispatchCtaFlowEvent:u,refetchQueries:p,isCtaClick:!0,stagedGeneralAccessLevel:a})},f=a=>{i({masterState:a,derivedState:l,queriesState:c,controllerProps:e,controllerExtras:t,setMasterState:d,dispatchCtaFlowEvent:u,refetchQueries:p,isCtaClick:!1})},g=a=>{i({masterState:a,derivedState:l,queriesState:c,controllerProps:e,controllerExtras:t,setMasterState:d,dispatchCtaFlowEvent:u,refetchQueries:p,isCtaClick:!1})};return{dismiss(){let{isChanged:e}=l,{principalsStagerPrincipals:a}=o;e||a.length>0?d(e=>({...e,isCloseConfirmationOpen:!0})):(t.teardownController.tearDownAfterPotentialFinalDialogCompletesClose(),d(e=>({...e,sessionState:"exiting"})))},dismissCloseConfirmationDialog(){d(e=>({...e,isCloseConfirmationOpen:!1}))},potentialFinalDialogDidCompleteClose(){t.teardownController.potentialFinalDialogDidCompleteClose()},closeWithoutSaving(){t.teardownController.tearDownAfterPotentialFinalDialogCompletesClose(),d(e=>({...e,isCloseConfirmationOpen:!1,sessionState:"exiting",hasAccessRequestsChanges:!1}))},changeGeneralAccessOpenRestricted(t){let{isUnpublishedDraft:r}=e,{stagedGeneralAccessLevel:n,shouldShowDeletedGroupDetails:s}=l,{principalsStagerPrincipals:i}=o,c=r||s?"open-can-edit":"open-can-view";if(s&&0===i.length){d(e=>({...e,generalAccessDelta:"open-can-edit",shouldResolveMismatchedRestrictions:!0})),(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")&&m(t?"restricted":c);return}(!t||"restricted"!==n)&&(s||t||"open-can-view"!==n&&"open-can-edit"!==n)&&(d(e=>({...e,generalAccessDelta:t?"restricted":c})),(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")&&m(t?"restricted":c))},changeGeneralAccessCanViewCanEdit(e){let{stagedGeneralAccessLevel:t}=l;(!e||"open-can-edit"!==t)&&(e||"open-can-view"!==t)&&(d(t=>({...t,generalAccessDelta:e?"open-can-edit":"open-can-view"})),(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")&&m(e?"open-can-edit":"open-can-view"))},changeStagedPrincipals(e){s({principalsStagerPrincipals:e,queriesState:c,setMasterState:d})},changeAddMode(e,t){s({principalsStagerPrincipals:t,addMode:e,queriesState:c,setMasterState:d})},changeSpecificAccessRole(e,t){(0,a("fec5t").stagePrincipalReassignment)(d,e,t),(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")&&d(e=>(g(e),e))},removeSpecificAccessPrincipal(e){(0,a("fec5t").stagePrincipalRemoval)(d,e),(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")&&d(e=>(g(e),e))},removeAllSpecificAccessPrincipals(){d(e=>{let t={...e,specificAccessDelta:{...e.specificAccessDelta,removeAll:!0,removals:new Set,reassignments:new Map},isSpecificAccessExpanded:!1};return(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")&&f(t),t})},dismissSpaceAccessDetails(){d(e=>({...e,isSpaceAccessDetailsOpen:!1}))},openSpaceAccessDetails(){d(e=>({...e,isSpaceAccessDetailsOpen:!0}))},showOpenAccessWarningDialog(){d(e=>({...e,isOpenAccessWarningDialogOpen:!0,shouldGeneralAccessSelectMenuBeControlled:!0}))},closeOpenAccessWarningDialog(){d(e=>({...e,isOpenAccessWarningDialogOpen:!1,shouldGeneralAccessSelectMenuBeControlled:!1}))},openInspectPermsDialog(){d(e=>({...e,isInspectPermsDialogOpen:!0}))},dismissInspectPermsDialog(){d(e=>({...e,isInspectPermsDialogOpen:!1}))},openPublicLinkDialog(){d(e=>({...e,isPublicLinkDialogOpen:!0}))},closePublicLinkDialog(){d(e=>({...e,isPublicLinkDialogOpen:!1,lastTriggeredDialogVariant:"publicLink"}))},openShareToSlackDialog(){d(e=>({...e,isShareToSlackDialogOpen:!0}))},closeShareToSlackDialog(){d(e=>({...e,isShareToSlackDialogOpen:!1,lastTriggeredDialogVariant:"shareToSlack"}))},openAccessRequestsDialog(){d(e=>({...e,isAccessRequestsDialogOpen:!0}))},closeAccessRequestsDialog(){let{hasAccessRequestsChanges:e}=o;e?d(e=>({...e,isCloseConfirmationOpen:!0})):(d(e=>({...e,isAccessRequestsDialogOpen:!1,lastTriggeredDialogVariant:"accessRequests"})),p())},clearElementToFocus(){d(e=>({...e,lastTriggeredDialogVariant:null}))},showFlag:e=>t.showFlag(e),showErrorFlag:e=>t.showErrorFlag(e),handleCtaClick(){let{contentId:s,contentType:i,contentSubType:m,isUnpublishedDraft:f}=e,{numberOfAncestors:g,userCanEditRestrictions:h,currentUser:E,edition:b}=c,{principalsStagerPrincipals:_,optionalMessage:y,shouldResolveMismatchedRestrictions:v}=o,{isChanged:S,stagedGeneralAccessLevel:A,natureOfCta:C,stagedNotificationRecipients:I,isPublishModalFlow:T,includeInvites:x}=l,{addMode:k}=o,{mutateContentRestrictions:R,exportPublishModalRestrictions:O,sendNotification:w,successFlag:L,errorFlag:P,fireAnalyticEvent:D,teardownController:{tearDownAfterPotentialFinalDialogCompletesClose:M},experienceTracker:N,callResolveMismatchedRestrictions:U}=t,j=()=>{M(),d(e=>({...e,sessionState:"exiting",hasAccessRequestsChanges:!1}))},B=n(d,p,{principalsStagerPrincipals:[],generalAccessDelta:"none",specificAccessDelta:{removeAll:!1,stagedAdditions:[],removals:new Set,reassignments:new Map}}),F=(0,a("lTbRO").makePrincipalsMap)(o,c,{isCtaClick:!0,stagedGeneralAccessLevel:A});T?(O(A,F),j()):u({contentId:s,edition:b,numberOfAncestors:g,type:"cta",addMode:k,mutateContentRestrictions:R,currentUser:E,sendNotification:w,successFlag:L,errorFlag:P,beginTeardown:j,isMutatingAction:S,isNotifyingAction:"share"===C,userCanEditRestrictions:h,stagedGeneralAccessLevel:A,principalsMap:F,optionalMessage:y,principalsStagerPrincipals:_,stagedNotificationRecipients:I,validateRestrictedPrincipals:r.validateRestrictedPrincipals,experienceTracker:N,fireAnalyticEvent:D,contentSubType:m,contentType:i,callResolveMismatchedRestrictions:U,isResolvingAction:v,isUnpublishedDraft:f,includeInvites:x,refreshDialogState:B})},changeOptionalMessage(e){d(t=>({...t,optionalMessage:e}))},setNotifyChecked(e){d(t=>({...t,notifyCheckedIfAvailable:e,showMessageComposerUnderCheckbox:!!e&&t.showMessageComposerUnderCheckbox}))},toggleNotifyAddMessage(){d(e=>({...e,showMessageComposerUnderCheckbox:!e.showMessageComposerUnderCheckbox}))},doNotifyGroupsConfirmed(){u({type:"doNotifyGroups"})},doNotNotifyGroupsConfirmed(){u({type:"doNotNotifyGroups"})},ignoreRestrictionsAndContinue(e=!1){u({type:"ignoreRestrictions",shouldSkipFlagRaise:e})},resolveRestrictionsComplete(){u({type:"resolveRestrictionsComplete"})},toggleSpecificAccessExpanded(){d(e=>({...e,isSpecificAccessExpanded:!e.isSpecificAccessExpanded}))},openSpecificAccessDialog(){d(e=>({...e,isSpecificAccessDialogOpen:!0}))},closeSpecificAccessDialog(){d(e=>({...e,isSpecificAccessDialogOpen:!1,tabSelection:0}))},closeAccessRequestsResolveRestrictionsDialog(){d(e=>({...e,isAccessRequestsResolveRestrictionsDialogOpen:!1,accessRequestsCurrentUserAddMode:void 0}))},closeAccessRequestsWarnRestrictionsDialog(){d(e=>({...e,isAccessRequestsWarnRestrictionsDialogOpen:!1}))},async maybeStartBlockedAccessFlowForUser({id:n,avatarUrl:s,name:i,email:o,sitePermissionType:l,accessType:u}){let{contentId:p}=e,{numberOfAncestors:m,edition:f}=c,{fireAnalyticEvent:g,cloudId:h}=t,E="EDIT"===u?"as-editor":"as-viewer",[b]=await Promise.all([(0,r.validateRestrictedPrincipals)({contentId:p,cloudId:h,edition:f,numberOfAncestors:m,addMode:E,stagedUserPrincipals:[{id:n,avatarUrl:s,name:i,email:o,sitePermissionType:l,knownErrors:void 0}],setMasterState:d,fireAnalyticEvent:g}),(0,a("f2UnK").preloadSpaceRoleMode)(h)]),{showWarnRestrictionsDialog:_,showResolveRestrictionsDialog:y}=b;return _&&d(e=>({...e,isAccessRequestsWarnRestrictionsDialogOpen:!0})),y&&d(e=>({...e,isAccessRequestsResolveRestrictionsDialogOpen:!0,accessRequestsCurrentUserAddMode:E})),{isBlockedAccessFlowStarted:_||y}},setAccessRequestsChanges(e){d(t=>({...t,hasAccessRequestsChanges:e}))},markPrincipalsAsSkipped(e){let{principalsStagerPrincipals:t}=o;d(r=>({...r,principalsStagerPrincipals:t.map(t=>(0,a("6O3OC").isEmail)(t)&&e.includes(t.id)?{...t,isPendingAction:!1}:t)}))},markPrincipalsAsInvited(e,t){let{principalsStagerPrincipals:r}=o,n=e.map(({email:e,id:t})=>{let a=r.find(t=>e===t.id);return{type:"user",id:t,email:e,name:a?.name||e,avatarUrl:a?.avatarUrl||"",knownErrors:{accessWarning:"pending-site-access-warning",parentLink:null},sitePermissionType:"none"}});n.forEach(e=>{(0,a("fec5t").stagePrincipalAddition)(d,e)}),d(e=>({...e,principalsStagerPrincipals:e.principalsStagerPrincipals.map(e=>{let r=n.find(({email:t})=>t===e.id);if(r&&((0,a("6O3OC").isEmail)(e)||(0,a("6O3OC").isExternalUser)(e)))return r;let s=t.find(({email:t})=>t===e.id);return(0,a("6O3OC").isEmail)(e)&&s?{...e,isPendingAction:!1}:e})}))},setSpecificAccessFilterText(e){d(t=>({...t,specificAccessFilterText:e}))},setTabSelection(e){d(t=>({...t,tabSelection:e}))}}}}),r("7QoAs",function(e,t){var r=a("4adOe");let n=(0,a("eSUdr").default)`query BlockedAccessRestrictionsQuery($accessType:ResourceAccessType!$contentId:Long!$subjects:[BlockedAccessSubjectInput]!){blockedAccessRestrictions(accessType:$accessType contentId:$contentId subjects:$subjects){blockedAccessRestrictionSummary{subject{subjectId subjectType}restrictedResources{resourceId resourceTitle resourceLink{base webUi}requiredAccessType resourceType}}blockedAccessEmpowerment{subjectId isCurrentUserEmpowered}blockedAccessAssignableSpaceRolesIntersection{roleId roleDescription roleName roleType}canFixRestrictionsForAllSubjects}}`,s=(0,a("eSUdr").default)`query UsersContentAccessQuery($accessType:ResourceAccessType!$accountIds:[String]!$cloudId:ID!$contentId:ID!){confluence_userContentAccess(accessType:$accessType accountIds:$accountIds cloudId:$cloudId contentId:$contentId){canAccessList cannotAccessList}}`,i=async({contentId:e,cloudId:t,edition:i,numberOfAncestors:o,addMode:l,stagedUserPrincipals:c,setMasterState:d,fireAnalyticEvent:u})=>{let p=(0,a("hp2SH").getApolloClient)();if(i==a("d9tcB").ConfluenceEdition.FREE)return{showWarnRestrictionsDialog:!1,showResolveRestrictionsDialog:!1};let m=c.filter(e=>!(0,a("4Ewfm").isUserPendingAccess)({type:"user",...e}));if(0==m.length)return{showWarnRestrictionsDialog:!1,showResolveRestrictionsDialog:!1};if(m.length>10||o>10){u({eventType:"sendOperationalEvent",action:"BlockedAccessCheckLimitExceeded",actionSubject:"BlockedAccessCheck",source:r.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,attributes:{NewUsersCount:m.length,numberOfAncestors:o}});let n=m.map(e=>e.id),{data:i,errors:c}=await p.query({query:s,variables:{accessType:"as-editor"==l?a("1chEN").ResourceAccessType.EDIT:a("1chEN").ResourceAccessType.VIEW,accountIds:n,cloudId:t,contentId:e},fetchPolicy:"network-only"});if(c)return u({eventType:"sendOperationalEvent",action:"errored",actionSubject:"UsersContentAccessQuery",actionSubjectId:"validateRestrictedPrincipals",attributes:{message:c[0]?.message}}),{showWarnRestrictionsDialog:!1,showResolveRestrictionsDialog:!1};let f=i?.confluence_userContentAccess?.cannotAccessList;if(null!=f&&f.length>0){let e=f.map(e=>({userPrincipal:m.find(t=>t.id===e),restrictedResources:null}));return d(t=>({...t,restrictedUserPrincipals:e})),{showWarnRestrictionsDialog:!0,showResolveRestrictionsDialog:!1}}}else{let t=m.map(e=>({subjectId:e.id,subjectType:a("1chEN").BlockedAccessSubjectType.USER})),{data:r,errors:s}=await p.query({query:n,variables:{contentId:e,accessType:"as-editor"==l?a("1chEN").ResourceAccessType.EDIT:a("1chEN").ResourceAccessType.VIEW,subjects:t},fetchPolicy:"network-only"});if(s&&u({eventType:"sendOperationalEvent",action:"errored",actionSubject:"BlockedAccessRestrictionsQuery",actionSubjectId:"validateRestrictedPrincipals",attributes:{message:s[0]?.message}}),r?.blockedAccessRestrictions?.blockedAccessRestrictionSummary.length>0){let e=r.blockedAccessRestrictions.blockedAccessRestrictionSummary.map(e=>({userPrincipal:m.find(t=>t.id===e?.subject?.subjectId),restrictedResources:e?.restrictedResources})),t=r.blockedAccessRestrictions.blockedAccessAssignableSpaceRolesIntersection;return(d(a=>({...a,restrictedUserPrincipals:e,assignableSpaceRolesIntersection:t})),r.blockedAccessRestrictions.canFixRestrictionsForAllSubjects)?{showWarnRestrictionsDialog:!1,showResolveRestrictionsDialog:!0,restrictedUserPrincipals:e,assignableSpaceRolesIntersection:t}:{showWarnRestrictionsDialog:!0,showResolveRestrictionsDialog:!1}}}return{showWarnRestrictionsDialog:!1,showResolveRestrictionsDialog:!1}};e.exports.validateRestrictedPrincipals=i}),r("4Ewfm",function(e,t){let r=e=>{if("user"===e.type){let t=e.knownErrors?.accessWarning;return"pending-site-access-warning"===t||"pending-userbase-propagation-warning"===t}return!1};function n({stagedGeneralAccessLevel:e,principals:t,restrictionType:a}){switch(e){case"restricted":return{read:function(e,t){let a=[],r=[];for(let[n,s]of e){let{role:e,principal:n}=s;("group"===n.type||"team"===n.type)&&("can-view"===e||"can-edit"===e)&&a.push({id:n.id,name:n.name,..."publish-modal-restrictions"===t&&{type:"group"},..."publish-modal-restrictions"===t&&{usageType:o(n)}}),"user"===n.type&&("can-view"===e||"can-edit"===e)&&r.push({..."mutation-restrictions"===t&&{id:n.id},..."publish-modal-restrictions"===t&&{type:"user",accountId:n.id,displayName:n.name,profilePicture:{path:n.avatarUrl},email:n.email}})}return{group:a,user:r}}(t,a),update:l(t,a)};case"open-can-view":return{read:{group:[],user:[]},update:l(t,a)};default:return{read:{group:[],user:[]},update:{group:[],user:[]}}}}function s(e,t){for(let a of t)a&&e.push({...a,type:"known",publicName:a.displayName,isExternalCollaborator:!1})}function i(e,t){for(let a of t)a&&e.push(a)}let o=e=>("group"===e.type||"team"===e.type)&&"usageType"in e&&e.usageType?e.usageType:"group"===e.type?a("8oEoE").ConfluenceGroupUsageType.USERBASE_GROUP:"team"===e.type?a("8oEoE").ConfluenceGroupUsageType.TEAM_COLLABORATION:void 0;function l(e,t){let a=[],r=[];for(let[n,s]of e){let{role:e,principal:n}=s;("group"===n.type||"team"===n.type)&&"can-edit"===e&&a.push({id:n.id,name:n.name,..."publish-modal-restrictions"===t&&{type:"group"},..."publish-modal-restrictions"===t&&{usageType:o(n)}}),"user"===n.type&&"can-edit"===e&&r.push({..."mutation-restrictions"===t&&{id:n.id},..."publish-modal-restrictions"===t&&{type:"user",accountId:n.id,displayName:n.name,profilePicture:{path:n.avatarUrl},email:n.email}})}return{group:a,user:r}}e.exports.isUserPendingAccess=r,e.exports.shouldMutationIncludeInvites=function({principals:e,removals:t,principalsPendingAccess:n,removeAll:s}){return!!(0,a("9wGTI").fg)("twcg-444-invite-usd-improvements-m2-gate")&&!!(0,a("6mKj3").UNSAFE_expValEqualsNoExposure)("twcg-444-invite-usd-improvements-m2","cohort","variation")&&(!!(Array.from(e.values()).some(({principal:e})=>r(e))||n.some(({principal:{id:e}})=>t.has(e)))||!!s&&!!(n.length>0))},e.exports.getRestrictionsForMutation=function({stagedGeneralAccessLevel:e,principals:t}){return n({stagedGeneralAccessLevel:e,principals:t,restrictionType:"mutation-restrictions"})},e.exports.getRestrictionsForPublishModal=function({stagedGeneralAccessLevel:e,principals:t}){let{publishModalReadRestrictions:a,publishModalUpdateRestrictions:r}=function(e,t,a){let{restrictions:{user:{results:r},group:{results:n}}}=e,{restrictions:{user:{results:o},group:{results:l}}}=t,{read:c,update:d}=a;return s(r,c.user),s(o,d.user),i(n,c.group),i(l,d.group),{publishModalReadRestrictions:e,publishModalUpdateRestrictions:t}}({operation:"read",restrictions:{user:{results:[]},group:{results:[]}}},{operation:"update",restrictions:{user:{results:[]},group:{results:[]}}},n({stagedGeneralAccessLevel:e,principals:t,restrictionType:"publish-modal-restrictions"}));return[a,r]}}),r("f2UnK",function(e,t){let r=(0,a("eSUdr").default)`query preloadSpaceRoleModeQuery($cloudId:ID!){confluence_spaceRoleMode(cloudId:$cloudId)}`,n=e=>(()=>{let t=(0,a("4JHZe").beforePreloaderAsyncCall)();return(()=>{let t=(0,a("4JHZe").beforePreloaderAsyncCall)();return(0,a("dYU3e").query)({query:r,variables:{cloudId:e},fetchPolicy:"cache-first"}).then(({data:e,hasErrors:r})=>((0,a("4JHZe").afterPreloaderAsyncCall)(t),r)?null:e?.confluence_spaceRoleMode||null)})().catch(e=>((0,a("4JHZe").afterPreloaderAsyncCall)(t),(0,a("5ZqQS").getMonitoringClient)().submitError(e,{attribution:a("3IBnw").Attribution.PERMISSIONS_EXPERIENCE}),(0,a("7Sm4c").markErrorAsHandled)(e),null))})(),s=async e=>{await (async()=>{let t=(0,a("4JHZe").beforePreloaderAsyncCall)(),r=await n(e);return(0,a("4JHZe").afterPreloaderAsyncCall)(t),r})()};e.exports.preloadSpaceRoleMode=s}),r("dYU3e",function(e,t){let r=e=>{let t=e?.errors?.length>0;return e?.errors?.forEach(e=>{((0,a("2GGOW").isUnauthorizedError)(e)||(0,a("95rLf").isExpectedApolloError)(e)||(0,a("iYld5").isNotFoundSpaceError)(e)||(0,a("5oHEP").isNotFoundError)(e))&&(0,a("7Sm4c").markErrorAsHandled)(e)}),t};function n({query:e,variables:t,fetchPolicy:n="cache-first",errorPolicy:s="all",context:i,client:o=window.GLOBAL_APOLLO_CLIENT}){if(!o)return Promise.resolve(a("7Lnfv").UNEXPECTED_RESPONSE);let l=(0,a("86okN").toDocumentNode)(e),c=(0,a("7Lnfv").getOperationName)(l),d=(0,a("jQ6FG").getQueryName)(c,t);(0,a("3joiD").flagQueryPreloadedByNetworkOnly)(d,t,n);let u={single:!0,...i};(0,a("9wGTI").fg)("cc-agg-migration-use-agg-endpoint")&&(u.headers={...i?.headers||{},...(0,a("gnyNQ").getAtlAttributionHeader)()}),window.__SSR_REACT_STREAMING__&&(u.preload=!0,u.originalQuery=l);let p=window.__PRELOAD_BOUNDARY_NAME__,m=(0,a("4JHZe").beforePreloaderAsyncCall)();return o.query({query:l,variables:t,errorPolicy:s,fetchPolicy:n,context:u}).then(e=>{(0,a("4JHZe").afterPreloaderAsyncCall)(m),window.__PRELOAD_BOUNDARY_NAME__=p;let t=r(e);return{...e,hasErrors:t}})}e.exports.query=n,e.exports.queryAgg=function(e){return n({...e,query:e.query,client:window.GLOBAL_APOLLO_AGG_CLIENT})},e.exports.writeQuery=function(e){{let t=e.client||window.GLOBAL_APOLLO_CLIENT;t&&t.writeQuery({...e,query:(0,a("86okN").toDocumentNode)(e.query)})}}}),r("95rLf",function(e,t){let a=e=>r(e)||s(e)||i(e)||n(e),r=e=>e.message?.includes("Space not found"),n=e=>e.message?.includes("Cannot find space with id:"),s=e=>e.message?.includes("Not permitted to view space with id:"),i=e=>e.message?.includes("User not permitted to access Confluence");e.exports.isExpectedApolloError=e=>!!e&&e.graphQLErrors?.every(a)}),r("2GGOW",function(e,t){e.exports.isUnauthorizedError=e=>e?.extensions?.statusCode===403||e.extensions?.data?.authorized===!1}),r("5oHEP",function(e,t){e.exports.isNotFoundError=e=>e?.extensions?.statusCode===404}),r("iYld5",function(e,t){e.exports.isNotFoundSpaceError=e=>e?.message?.includes("Cannot find space")}),r("7BnEk",function(e,t){e.exports.makeDefaultMasterState=function(e=null){return{sessionState:"shareAndRestrict",isCloseConfirmationOpen:!1,principalsStagerPrincipals:[],addMode:"as-editor",accessRequestsCurrentUserAddMode:void 0,hasAddWarning:!1,generalAccessDelta:"none",shouldGeneralAccessSelectMenuBeControlled:!1,specificAccessDelta:{removeAll:!1,stagedAdditions:[],removals:new Set,reassignments:new Map},isSpaceAccessDetailsOpen:!1,isInspectPermsDialogOpen:!1,isPublicLinkDialogOpen:!1,isShareToSlackDialogOpen:!1,isSpecificAccessDialogOpen:!1,isOpenAccessWarningDialogOpen:!1,isAccessRequestsDialogOpen:"accessRequests"===e,isAccessRequestsResolveRestrictionsDialogOpen:!1,isAccessRequestsWarnRestrictionsDialogOpen:!1,notifyCheckedIfAvailable:!0,notifyMode:"notify",optionalMessage:"",showMessageComposerUnderCheckbox:!1,isSaving:!1,restrictedUserPrincipals:void 0,assignableSpaceRolesIntersection:void 0,isSpecificAccessExpanded:!1,lastTriggeredDialogVariant:null,shouldResolveMismatchedRestrictions:!1,hasAccessRequestsChanges:!1,specificAccessFilterText:"",tabSelection:0}}}),r("3PKog",function(e,t){let r=({principalList:e,counts:t,removals:a=new Set,isRemovalPhase:r=!1,isRemoveAllPhase:n=!1})=>n?{users:0,groups:0}:e.reduce((e,{principal:{type:t,id:n}})=>(r?a.has(n)&&("user"===t&&e.users--,"group"===t&&e.groups--):("user"===t&&e.users++,"group"===t&&e.groups++),e),{...t});function n(e,t,a,r){let n=a;for(let a of e){let e=t.find(e=>e.principal.id===a);e&&e.principal.usageType===r&&n--}return n}e.exports.getDerivedState=function(e,t,s){let{specificAccessDelta:i,principalsStagerPrincipals:o,notifyCheckedIfAvailable:l,shouldGeneralAccessSelectMenuBeControlled:c,generalAccessDelta:d,addMode:u}=e,{contentType:p,allowRestrictions:m,isUnpublishedDraft:f,isSuperAdmin:g,pushPublishModalRestrictions:h,hasRestrictions:E,hasInheritedRestrictions:b,hasViewRestrictions:_}=s,{edition:y,contentRestrictions:v,disableSharingToEmails:S,groupCount:A,teamCount:C,userCount:I}=t,T=!!h,x=function({generalAccessDelta:e,specificAccessDelta:{removeAll:t,removals:r,reassignments:n},principalsStagerPrincipals:s,hasAccessRequestsChanges:i}){return!((!t||(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment"))&&("none"===e||(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment"))&&!(s.length>0)&&(!(r.size>0)||(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment"))&&(!(n.size>0)||(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")))||!!i}(e),k=function(e,t){let{generalAccessDelta:a}=e,{contentRestrictions:{generalAccessLevel:r}}=t;return"none"===a?r:a}(e,t),R=(E||b)!==("restricted"===k)&&_!==("open-can-view"===k),O=g&&R&&(0,a("9wGTI").fg)("confluence_frontend_perms_deleted_groups_treatment"),w="embed"!==p&&(t.userCanEditRestrictions||y===a("d9tcB").ConfluenceEdition.FREE)&&m,L=e.principalsStagerPrincipals.map(a("fec5t").convertUserPickerPrincipal),P=(0,a("lTbRO").makePrincipalsMap)(e,t,{isCtaClick:!1,stagedGeneralAccessLevel:k}),{ids:D,hasPrincipalsBesidesCurrentUser:M}=function({removeAll:e},t,a,r,n,s){let i=new Set,o=!1;function l(e){let r=a.get(e)?.role;if("can-edit"===r){if("open-can-edit"===t)return!0}else if("can-view"===r&&("open-can-edit"===t||"open-can-view"===t))return!0;return!1}if(a.has(r)&&!l(r)&&i.add(r),!e)for(let{principal:{id:e}}of[...n,...s])e!==r&&a.has(e)&&(l(e)||(i.add(e),o=!0));return{ids:Array.from(i),hasPrincipalsBesidesCurrentUser:o}}(i,k,P,t.currentUser.id,t.contentRestrictions.principals,t.principalsPendingAccess),N=!T&&(o.length>0||L.length>0),U=function({isChanged:e,isCheckboxVisible:t,notifyCheckedIfAvailable:a,isPublishModalFlow:r}){return r?"save":e?t&&a?"share":"save":"none"}({principalsStagerPrincipals:o,isChanged:x,isCheckboxVisible:N,notifyCheckedIfAvailable:l,isPublishModalFlow:T,generalAccessDelta:d}),j=f&&!T,B=(()=>{if(c)return!1})(),F=function({contentRestrictions:e,specificAccessDelta:t}){let{removals:a,removeAll:n,stagedAdditions:s}=t,i=r({principalList:e.principals,counts:{users:0,groups:0}}),o=r({principalList:e.principals,counts:i,removals:a,isRemovalPhase:!0,isRemoveAllPhase:n}),l=r({principalList:s,counts:o}),c=e=>e>200?e-200:null;return{isLimitExceeded:l.users>200||l.groups>200,groupOverFlow:c(l.groups),userOverFlow:c(l.users)}}({contentRestrictions:v,specificAccessDelta:i}),G=(()=>{let e=o.some(e=>"email"===e.type),t=o.some(e=>"email"!==e.type);return e&&!t})(),V=(()=>{let t=N&&l,a="restricted"===k||"open-can-view"===k&&"as-editor"===u,r=function({generalAccessDelta:e,specificAccessDelta:{removeAll:t,removals:a,reassignments:r}}){return!!t||"none"!==e||!!(a.size>0)||!!(r.size>0)}(e);return t&&a?"sharing-and-applying-restrictions":!t&&a||r?"applying-restrictions":"open-can-edit"===k||"open-can-view"===k&&"as-viewer"===u?"sharing":null})(),q=o.filter(e=>"email"===e.type||"external_user"===e.type).length>0,K=(0,a("lTbRO").makePrincipalsMap)(e,t,{isCtaClick:!0,stagedGeneralAccessLevel:k}),H=(0,a("4Ewfm").shouldMutationIncludeInvites)({principals:K,removals:i.removals,principalsPendingAccess:t.principalsPendingAccess,removeAll:i.removeAll});return{shouldShowDeletedGroupDetails:O,hasRestrictions:E,hasInheritedRestrictions:b,hasViewRestrictions:_,hasMismatchWithQueryRestrictions:R,isLockedOut:!1,isRestrictionsEditable:w,isChanged:x,principalsMap:P,stagedGeneralAccessLevel:k,specificAccessIds:D,hasPrincipalsBesidesCurrentUser:M,natureOfCta:U,stagedNotificationRecipients:L,isCheckboxVisible:N,isPublishModalFlow:T,isUnpublishedDraft:f,willBeUnpublishedAfterApplying:j,isRemoveAllButtonVisible:M,shouldGeneralAccessMenuBeOpen:B,exceededLimit:F,areEmailsOnlyPresent:G,sharingType:V,isSharingToEmailsDisabled:S&&q,includeInvites:H,updatedGroupCount:n(i.removals,v.principals,A,a("8oEoE").ConfluenceGroupUsageType.USERBASE_GROUP),updatedTeamCount:n(i.removals,v.principals,C,a("8oEoE").ConfluenceGroupUsageType.TEAM_COLLABORATION),userCount:I}}}),r("9uaV8",function(e,t){function r(e){let{masterState:{isAccessRequestsWarnRestrictionsDialogOpen:t,isAccessRequestsResolveRestrictionsDialogOpen:a},controllerProps:{initialDialog:r},actions:{maybeStartBlockedAccessFlowForUser:n,setAccessRequestsChanges:s}}=e;return{isInitialDialog:"accessRequests"===r,isBlockedAccessFlowActive:t||a,maybeStartBlockedAccessFlowForUser:n,onAccessRequestsChange:s}}function n(e){let{derivedState:{specificAccessIds:t,shouldShowDeletedGroupDetails:a}}=e;return a?{principals:[s(e,"deleted-group")]}:{principals:t.map(t=>s(e,t))}}function s(e,t){let r,n,{derivedState:{principalsMap:s,isLockedOut:i,stagedGeneralAccessLevel:o,isRestrictionsEditable:l,willBeUnpublishedAfterApplying:c,shouldShowDeletedGroupDetails:d},queriesState:{currentUser:u,hasInheritedRestrictions:p,edition:m},actions:{changeSpecificAccessRole:f,removeSpecificAccessPrincipal:g,toggleSpecificAccessExpanded:h,openSpecificAccessDialog:E},masterState:{specificAccessFilterText:b,isSaving:_,isSpecificAccessExpanded:y,isSpecificAccessDialogOpen:v}}=e,S=t===u.id,A=s.get(t);return""!==b&&A?.principal.name&&!(A?.principal.name).toLowerCase().includes(b.toLowerCase())&&(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?null:(A?(r=A.principal,n=A.role,A.isNewOrUpdatedPrincipal&&"user"===r.type&&!(0,a("4Ewfm").isUserPendingAccess)(r)&&(r={...r,knownErrors:void 0})):(n=({"open-can-edit":"can-edit","open-can-view":"can-view",restricted:"no-access"})[o],d&&(r={type:"group",id:"",name:"",usageType:null}),r=S?u:{type:"user",id:t,avatarUrl:"",name:t,email:"",knownErrors:void 0,sitePermissionType:""}),{key:r.id,isExpanded:y,isSpecificAccessDialogOpen:v,onExpandClick:h,onOpenSpecificAccessDialog:E,principalAccess:{isLockedOut:i,access:n,isEditable:!d&&!S&&l,isCanViewDisabled:"restricted"!==o,hasInheritedRestrictions:p,isUnpublishedDraft:c,edition:m,onChange:e=>{f(e,t)},onRemove:()=>{g(t)},focusRef:null,isSaving:_},principalDetails:{principal:r,isYou:S,role:n,updateKnownErrors:(e,t)=>{let a=s.get(e);a&&"user"===a.principal.type&&(a.principal.knownErrors=t)},isDraft:c,shouldShowDeletedGroupDetails:d}})}function i(e){let{actions:{openPublicLinkDialog:t,openShareToSlackDialog:r,clearElementToFocus:n},controllerProps:{contentId:s,contentType:i,contentSubType:o,pageMode:l,isUnpublishedDraft:c},queriesState:{spaceKey:d},derivedState:{isLockedOut:u,natureOfCta:p},controllerExtras:{publicLinkButtonRef:m,shareToSlackButtonRef:f}}=e;return{contentId:s,contentType:i,spaceKey:d,pageMode:l,isLockedOut:u,isUnpublishedDraft:c,isLivePage:"live"===o,onSlackClick:r,onPublicLinkClick:t,isPublicLinkOn:function(e){let{publicLinkPageData:t}=e.queriesState;return!t.isLoading&&t.publicLinkStatus===a("k030f").PublicLinkPageStatus.ON}(e),isPublicLinkEditAllowedForContentType:function(e){let{publicLinkPageData:t}=e.queriesState;return!t.isLoading&&t.isPublicLinkEditAllowedForContentType}(e),lastTriggeredDialogVariant:e.masterState.lastTriggeredDialogVariant,clearElementToFocus:n,publicLinkButtonRef:m,shareToSlackButtonRef:f,natureOfCta:p}}function o(e){let{masterState:{isSaving:t,notifyCheckedIfAvailable:r,showMessageComposerUnderCheckbox:n,isSpecificAccessExpanded:s,principalsStagerPrincipals:i},derivedState:{isLockedOut:o,natureOfCta:l,isCheckboxVisible:c,areEmailsOnlyPresent:d,sharingType:u,specificAccessIds:p,exceededLimit:m,isSharingToEmailsDisabled:f,includeInvites:g,stagedGeneralAccessLevel:h},actions:E,controllerProps:{pageMode:b,isUnpublishedDraft:_,contentSubType:y,contentId:v}}=e,S=c?r?"checked":"unchecked":"hidden",A=(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")||"checked"===S&&n,C=(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?"notify-them":d?"recipients":"newly-added",I=p.length>0&&s,T=i.some(e=>"group"===e.type),x=i.some(e=>"team"===e.type),k=i.some(e=>e.type&&["user","guest","email"].includes(e.type)),R=(0,a("lTbRO").makePrincipalsMap)(e.masterState,e.queriesState,{isCtaClick:!0,stagedGeneralAccessLevel:h}).size,O=(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?5:3;return{natureOfCta:l,notifyCheckbox:S,checkboxLabel:C,isLockedOut:o,isCtaInProgress:t,messageComposer:A?function(e,t,a){let{derivedState:{isLockedOut:r},masterState:{optionalMessage:n},actions:{changeOptionalMessage:s}}=e;return{isLockedOut:r,notifyMessage:n,rows:t,isCheckboxUnchecked:"unchecked"===a,onNotifyMessageChange:s}}(e,O,S):void 0,sharingType:u,onCtaClick:E.handleCtaClick,onCancelClick:E.dismiss,isSpecificAccessDetailsVisible:I,onNotifyCheckboxClick:()=>{E.setNotifyChecked(!r)},onNotifyAddMessageClick:E.toggleNotifyAddMessage,isLimitExceeded:m.isLimitExceeded,pageMode:b,isDraft:_,isLivePage:"live"===y,isSharingToEmailsDisabled:f,contentId:v,hasGroups:T,hasTeams:x,hasUsers:k,includeInvites:g,generalAccessLevel:h,principalsCount:R}}function l(e){let{derivedState:{isRestrictionsEditable:t,stagedGeneralAccessLevel:r,shouldShowDeletedGroupDetails:n}}=e;return{shouldShowUneditableRestrictionsInfoIcon:!t&&(0,a("6mKj3").UNSAFE_expValEqualsNoExposure)("confluence_contextual_ask_to_edit","cohort","experiment"),generalAccessLevelSelectorProps:function(e){let{controllerProps:{contentType:t,contentSubType:a},derivedState:{isLockedOut:r,stagedGeneralAccessLevel:n,isRestrictionsEditable:s,willBeUnpublishedAfterApplying:i,shouldGeneralAccessMenuBeOpen:o,shouldShowDeletedGroupDetails:l,hasRestrictions:c,hasViewRestrictions:d,hasInheritedRestrictions:u},queriesState:{parentPageLink:p,edition:m},actions:{changeGeneralAccessOpenRestricted:f,openSpaceAccessDetails:g,showOpenAccessWarningDialog:h},masterState:{shouldResolveMismatchedRestrictions:E,isSaving:b}}=e;return{isLockedOut:r,isDraft:i,hasInheritedRestrictions:u,onOpenRestrictedChange:f,openSpaceAccessDetails:g,handleOpenAccessWarningDialog:h,shouldGeneralAccessMenuBeOpen:o,isEditable:s,showLongSubtext:!1,generalAccessLevel:n,parentPageLink:p,isLivePage:"live"===a,contentType:t,edition:m,hasRestrictions:c,hasViewRestrictions:d,shouldShowDeletedGroupDetails:l,shouldResolveMismatchedRestrictions:E,isSaving:b}}(e),generalAccessPermissionDropdownProps:"restricted"===r||n?void 0:function(e){let{controllerProps:{contentType:t,contentSubType:r},derivedState:{isLockedOut:n,stagedGeneralAccessLevel:s,isRestrictionsEditable:i,willBeUnpublishedAfterApplying:o,shouldShowDeletedGroupDetails:l},queriesState:{hasInheritedRestrictions:c,edition:d},actions:{changeGeneralAccessCanViewCanEdit:u},masterState:{isSaving:p}}=e;return{isLockedOut:n,generalAccessLevel:"embed"===t?"open-can-view":s,onCanViewCanEditChange:u,isEditable:l||i&&!o&&d!==a("d9tcB").ConfluenceEdition.FREE,hasInheritedRestrictions:c,isDraft:o,isLivePage:"live"===r,contentType:t,isSaving:p}}(e)}}let c=(0,a("cgtv4").defineMessages)({you:{id:"share-and-restrict-dialog.makeBodyProps.avatarGroupData.you",defaultMessage:"{name} (You)"}});var d=a("4adOe");e.exports.makeDialogsProps=function(e){let{masterState:{sessionState:t,isCloseConfirmationOpen:s,isSpaceAccessDetailsOpen:u,isInspectPermsDialogOpen:p,isOpenAccessWarningDialogOpen:m,isAccessRequestsWarnRestrictionsDialogOpen:f,isAccessRequestsResolveRestrictionsDialogOpen:g}}=e;return{shareAndRestrictDialog:"shareAndRestrict"===t?function(e){let{actions:{dismiss:t,potentialFinalDialogDidCompleteClose:s,openAccessRequestsDialog:d},masterState:{isPublicLinkDialogOpen:u,isShareToSlackDialogOpen:p,isAccessRequestsDialogOpen:m,isSpecificAccessDialogOpen:f},derivedState:{isUnpublishedDraft:g,stagedGeneralAccessLevel:h},queriesState:{hasInheritedRestrictions:E},controllerProps:{contentId:b,contentType:_,contentSubType:y,pageMode:v,openFrom:S,showDialogNudgeSpotlight:A,initialDialog:C,onInitialDialogOpen:I}}=e;return{header:function(e){let{masterState:{isPublicLinkDialogOpen:t,isShareToSlackDialogOpen:r,isAccessRequestsDialogOpen:s,isSpecificAccessDialogOpen:i,tabSelection:d},derivedState:{isChanged:u,specificAccessIds:p,shouldShowDeletedGroupDetails:m,natureOfCta:f},actions:{setTabSelection:g}}=e,h=t||r||s||i;return{titleAndButtons:function(e){let t,a,r,{actions:{dismiss:n,closePublicLinkDialog:s,closeShareToSlackDialog:i,closeAccessRequestsDialog:o,openAccessRequestsDialog:l,clearElementToFocus:c,closeSpecificAccessDialog:d},masterState:{isPublicLinkDialogOpen:u,isShareToSlackDialogOpen:p,isAccessRequestsDialogOpen:m,lastTriggeredDialogVariant:f,isSpecificAccessDialogOpen:g}}=e;return p?(t="slack",a=i):u?(t="publicLink",a=s):m?(t="accessRequests",a=o):g?(t="specificAccess",a=d):(t="share",r={lastTriggeredDialogVariant:f,clearElementToFocus:c,openAccessRequestsDialog:l}),{title:t,overflowMenu:function(e){let{queriesState:{spaceKey:t,edition:a},actions:{openInspectPermsDialog:r},controllerProps:{contentId:n}}=e;return{spaceKey:t,isSpaceAdmin:!1,edition:a,openInspectPermsDialog:r,contentId:n}}(e),onCloseClick:n,onBackClick:a,accessRequests:r}}(e),generalAccess:"none"!==f&&(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")||h?void 0:l(e),principalsStager:h?void 0:function(e){let{masterState:{principalsStagerPrincipals:t,addMode:a,optionalMessage:r,isSaving:n},derivedState:{isLockedOut:s,stagedGeneralAccessLevel:i,areEmailsOnlyPresent:o,isRestrictionsEditable:l,willBeUnpublishedAfterApplying:c,exceededLimit:d,specificAccessIds:u,isSharingToEmailsDisabled:p,natureOfCta:m},actions:{changeStagedPrincipals:f,changeAddMode:g,markPrincipalsAsInvited:h,markPrincipalsAsSkipped:E,handleCtaClick:b},controllerProps:{contentId:_,defaultSuggestedUsers:y},queriesState:{currentUser:v}}=e,S=0===t.length;return{isLockedOut:s,principals:t,exceededLimit:d,dropdown:"open-can-edit"===i||S||o||!l?"hidden":"as-editor"===a?"can-edit":"can-view",isDropdownEditable:!c,onChangePrincipals:f,onChangeDropdown:g,specificAccessIds:u,isSharingToEmailsDisabled:p,contentId:_,defaultSuggestedUsers:y,currentUserEmailDomain:v?.type==="user"?v.email?.split("@")[1]:void 0,markPrincipalsAsInvited:h,markPrincipalsAsSkipped:E,handleCtaClick:b,isCtaInProgress:n,charLimitExceeded:r.length>500,natureOfCta:m}}(e),specificAccessTabs:i&&(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?{tabSelection:d,setTabSelection:g}:void 0,specificAccessFilter:i&&0===d&&(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?function(e){let{masterState:{specificAccessFilterText:t},actions:{setSpecificAccessFilterText:a},derivedState:{updatedGroupCount:r,updatedTeamCount:n,userCount:s}}=e;return{setFilterText:a,filterText:t,countOfGroups:r,countOfIndividuals:s,countOfTeams:n}}(e):void 0,infoMessage:function(e){var t,r,s,i,o,l,c,d;let{controllerProps:{contentType:u,contentId:p},queriesState:{edition:m},derivedState:{isRestrictionsEditable:f,isPublishModalFlow:g,willBeUnpublishedAfterApplying:h,stagedGeneralAccessLevel:E},masterState:{isPublicLinkDialogOpen:b}}=e,_=(t=u,r=f,s=g,i=h,o=m,l=E,c=b,d=function(e){let{queriesState:{userCanEditContent:t}}=e;if(t)return!1;let{principals:a}=n(e);return!a.filter(e=>null!==e).some(e=>e.principalDetails.isYou&&"can-edit"===e.principalAccess.access)}(e),"FREE"===o?c?"freeEditionPublicLinkUpsell":"open-can-edit"===l?"freeEditionUpsell":void 0:"embed"===t?"smartLink":r||(0,a("6mKj3").UNSAFE_expValEqualsNoExposure)("confluence_contextual_ask_to_edit","cohort","experiment")?s?"publishModal":i&&"restricted"!==l?"draft":d&&(0,a("6mKj3").UNSAFE_expValEqualsNoExposure)("confluence_contextual_ask_to_edit","cohort","experiment")?"askToEdit":void 0:"uneditableRestrictions");return void 0===_?void 0:{messageType:_,publishModalInfoBoxProps:g?function(e){let{controllerProps:{contentType:t},derivedState:{isUnpublishedDraft:a}}=e;return{isUnpublishedDraft:a,contentType:t}}(e):void 0,askToEditBoxProps:"askToEdit"===_?{contentId:p,stagedGeneralAccessLevel:E}:void 0}}(e),hasNavigationLockout:u,specificAccessFacePileRow:!m&&(h||0===p.length||"none"!==f&&(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment"))?void 0:function(e){let{derivedState:{isRemoveAllButtonVisible:t,isRestrictionsEditable:r,specificAccessIds:n},masterState:{isSpecificAccessExpanded:s},actions:{removeAllSpecificAccessPrincipals:i},queriesState:{edition:o}}=e;return{facepileRow:n.length>1?function(e){let{derivedState:{stagedGeneralAccessLevel:t,isUnpublishedDraft:r,updatedGroupCount:n,updatedTeamCount:s},masterState:{isSpecificAccessExpanded:i},queriesState:{currentUserHasAccess:o},controllerProps:{contentId:l,contentType:d,contentSubType:u,pageMode:p},actions:{toggleSpecificAccessExpanded:m,openSpecificAccessDialog:f}}=e;return{avatarGroupData:function(e){let{derivedState:{principalsMap:t,specificAccessIds:r,shouldShowDeletedGroupDetails:n},queriesState:{currentUserHasAccess:s},controllerExtras:{formatMessage:i}}=e,o=[],l=(e,t)=>{if(o.some(e=>"team"===e.type))return;let r={key:"teamAvatar",name:"",type:"team",usageType:e||a("8oEoE").ConfluenceGroupUsageType.TEAM_COLLABORATION,src:t};o[1]?("user"===o[1].type||"group"===o[1].type)&&o.splice(1,0,r):o.push(r)},d=e=>{if(o.some(e=>"group"===e.type))return;let t={key:"groupAvatar",name:"",type:"group",usageType:e};!o[1]||n?o.push(t):"user"===o[1].type?o.splice(1,0,t):o.push(t)},u=(e,t)=>{let a=t&&s?i(c.you,{name:e.name}):e.name;o.push({key:e.id,name:a,src:e.avatarUrl,type:"user"})};return r.forEach((e,r)=>{let s=t.get(e);if(!s)return;let{principal:i}=s;if("group"===i.type||n){if("group"===i.type){let e=i.usageType===a("8oEoE").ConfluenceGroupUsageType.TEAM_COLLABORATION,t=i.usageType===a("8oEoE").ConfluenceGroupUsageType.USERBASE_GROUP;if(e){let e="avatarSrc"in i?i.avatarSrc:void 0;l(i.usageType,e);return}if(t&&i.usageType)return void d(i.usageType);if(null===i.usageType)return void d(a("8oEoE").ConfluenceGroupUsageType.USERBASE_GROUP)}return}"user"===i.type&&u({id:i.id,name:i.name,avatarUrl:i.avatarUrl},0===r)}),o}(e),groupCount:n,teamCount:s,isExpanded:i,onExpandClick:m,onOpenSpecificAccessDialog:f,generalAccessLevel:t,currentUserHasAccess:o,analyticsAttributes:{contentId:l,contentType:d,contentSubType:u,isLivePage:"live"===u,isDraft:r,isPublicLinkOn:!1,pageMode:p}}}(e):void 0,isExpanded:s,onRemoveAllClick:r&&t?i:void 0,edition:o}}(e),ctaNotifyMessageFooter:(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?o(e):void 0}}(e),body:function(e){let{masterState:{isPublicLinkDialogOpen:t,isShareToSlackDialogOpen:s,isAccessRequestsDialogOpen:i,isSpecificAccessExpanded:o,isSpecificAccessDialogOpen:l,tabSelection:c},queriesState:{edition:d},derivedState:{specificAccessIds:u,shouldShowDeletedGroupDetails:p,natureOfCta:m}}=e,f=1===u.length||u.length>1&&o||p;return l&&(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?{specificAccessDetails:0===c?n(e):void 0,publicLinkDialogBody:void 0,shareToSlackDialogBody:void 0,accessRequestsDialogBody:1===c?r(e):void 0}:t||s||i?{specificAccessDetails:void 0,publicLinkDialogBody:t&&d!==a("euL71").ConfluenceEdition.FREE?function(e){let{queriesState:{publicLinkPageData:t,hasInheritedRestrictions:a,contentRestrictions:{generalAccessLevel:r}},controllerProps:{refetchButtonData:n,flags:s}}=e;return{publicLinkDisabled:!t?.isLoading&&!t.isPublicLinkAdminEnabled,publicLinkOn:!t?.isLoading&&t.isPublicLinkFullyEnabled,publicLinkStatus:t?.isLoading?null:t.publicLinkStatus??null,canEditPublicLink:!t?.isLoading&&t.canEditPublicLink,publicShareUrl:t?.isLoading?"":`${window.location.origin}${t.publicLinkSharePath}`,isPublicLinkEditAllowedForContentType:!t?.isLoading&&t.isPublicLinkEditAllowedForContentType,isEditPublicLink:!t?.isLoading&&t.isEditPublicLink,pageId:e.controllerProps.contentId,refetchPublicLinkState:t.isLoading?()=>{}:t.refetch,refetchButtonData:n,flags:s,hasInheritedRestrictions:a,generalAccessLevel:r}}(e):void 0,shareToSlackDialogBody:s?function(e){let{actions:{closeShareToSlackDialog:t,showFlag:a}}=e;return{onCloseSlack:t,showFlag:a}}(e):void 0,accessRequestsDialogBody:i?r(e):void 0}:f?{specificAccessDetails:"none"!==m&&(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment")?void 0:n(e),publicLinkDialogBody:void 0,shareToSlackDialogBody:void 0}:void 0}(e),footer:u||p||m||f?void 0:function(e){let{derivedState:{natureOfCta:t,isPublishModalFlow:a}}=e;return"none"===t?{ctaNotifyMessageFooter:void 0,distributionFooter:a?void 0:i(e)}:{ctaNotifyMessageFooter:o(e),distributionFooter:a?void 0:i(e)}}(e),onCloseRequest:t,onCloseComplete:s,showDialogNudgeSpotlight:A,openAccessRequestsDialog:(C&&d)??void 0,onInitialDialogOpen:I,analyticsAttributes:{contentId:b,contentType:_,contentSubType:y,isLivePage:"live"===y,isDraft:g,pageMode:v,generalAccessLevel:h,hasInheritedRestrictions:E,openFrom:S}}}(e):void 0,restrictedAccessWarningDialog:"warnRestrictedAccess"===t||f?function(e){let{controllerProps:{pageTitle:t},masterState:{restrictedUserPrincipals:a,isAccessRequestsWarnRestrictionsDialogOpen:r},actions:{ignoreRestrictionsAndContinue:n,potentialFinalDialogDidCompleteClose:s,closeAccessRequestsWarnRestrictionsDialog:i}}=e;return r?{restrictedUserPrincipals:a,pageTitle:t,onSkip:i,triggeredBy:"accessRequests",onCloseComplete:()=>{}}:{restrictedUserPrincipals:a,pageTitle:t,triggeredBy:"share",onSkip:n,onCloseComplete:s}}(e):void 0,groupNotifyWarningDialog:"confirmGroupNotifications"===t?function(e){let{masterState:{isSaving:t},derivedState:{stagedNotificationRecipients:a},actions:{doNotifyGroupsConfirmed:r,doNotNotifyGroupsConfirmed:n,potentialFinalDialogDidCompleteClose:s}}=e;return{groupNames:a.filter(({type:e})=>"group"===e).map(({name:e})=>e),groupList:a.filter(e=>"group"===e.type||"team"===e.type),isSaving:t,onDoNotify:r,onDoNotNotify:n,onCloseComplete:s}}(e):void 0,resolveRestrictionsDialog:"resolveRestrictions"===t||g?function(e){let{controllerProps:{pageTitle:t,contentId:a},masterState:{restrictedUserPrincipals:r,isAccessRequestsResolveRestrictionsDialogOpen:n,assignableSpaceRolesIntersection:s,addMode:i,accessRequestsCurrentUserAddMode:o},actions:{resolveRestrictionsComplete:l,potentialFinalDialogDidCompleteClose:c,ignoreRestrictionsAndContinue:d,showErrorFlag:u,closeAccessRequestsResolveRestrictionsDialog:p}}=e;if(n){if(!o)return;return{contentId:a,pageTitle:t,restrictedUserPrincipals:r,assignableSpaceRolesIntersection:s,addMode:o,triggeredBy:"accessRequests",onComplete:p,onCloseComplete:()=>{},onSkip:p,showErrorFlag:u}}return{contentId:a,pageTitle:t,restrictedUserPrincipals:r,assignableSpaceRolesIntersection:s,addMode:i,triggeredBy:"share",onComplete:l,onCloseComplete:c,onSkip:d,showErrorFlag:u}}(e):void 0,closeConfirmationDialog:s?function(e){let{actions:{dismissCloseConfirmationDialog:t,closeWithoutSaving:a},controllerProps:{focusRef:r}}=e;return{onCancel:t,onDiscard:a,focusRef:r}}(e):void 0,spaceAccessDetails:u?function(e){let{controllerProps:t,actions:a,queriesState:r}=e;return{onClose:a.dismissSpaceAccessDetails,accessDetailsParams:{restrictingContentId:t.contentId,spaceKey:r.spaceKey,hasInheritedRestrictions:r.hasInheritedRestrictions,experience:d.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE}}}(e):void 0,inspectPermsDialog:p?function(e){let{controllerProps:t,actions:a}=e;return{onClose:a.dismissInspectPermsDialog,contentId:t.contentId}}(e):void 0,openAccessWarningDialog:m?function(e){let{actions:{closeOpenAccessWarningDialog:t,closeWithoutSaving:a},controllerProps:{contentId:r,refetchButtonData:n},controllerExtras:{successFlag:s,errorFlag:i}}=e;return{generalAccess:l(e),closeOpenAccessWarningDialog:t,successFlag:s,errorFlag:i,closeShareAndRestricDialog:()=>{a(),n()},contentId:r}}(e):void 0}}}),r("cMbwo",function(e,t){var r=a("42omo"),n=a("j1Ss3"),s=a("dwp40"),i=a("4adOe");function o({groups:e,destination:t,groupAndTeamCountsMap:r,teamData:n}){for(let s of e){if(!s)continue;let e=s?.id||"",i=s?.usageType===a("8oEoE").ConfluenceGroupUsageType.TEAM_COLLABORATION?n?.[e]:void 0;t.push({type:"group",id:s.id,name:s.name,usageType:s.usageType||a("8oEoE").ConfluenceGroupUsageType.USERBASE_GROUP,memberCount:r.get(s.id||"")??0,isVerified:i?.isVerified??!1,avatarSrc:i?.largeAvatarImageUrl??""})}}function l({users:e,destination:t}){for(let a of e)a&&t.push({type:"user",id:a.accountId,avatarUrl:a.profilePicture?.path||"",name:a.displayName,email:a.email,knownErrors:void 0,sitePermissionType:"INTERNAL"})}var c=a("59MXn"),d=a("13PIz"),u=a("3u0dr"),p=a("frIzR");a("73tVl");var m=a("6D2qo");let f=(0,u.isReactCompilerActiveV1)()?(e,t,n)=>{let s,o,l,c,d,u=(0,p.c)(21),[f,g]=(0,r.useState)(null),[h,E]=(0,r.useState)(!1),[b,_]=(0,r.useState)(null),{createAnalyticsEvent:y}=(0,a("inPa6").useAnalyticsEvents)();if(u[0]!==n||u[1]!==t){if(s=new Set,t)for(let e of t)for(let t of e?.restrictions?.group?.results??[])t?.id&&t.usageType===a("8oEoE").ConfluenceGroupUsageType.TEAM_COLLABORATION&&s.add(t.id);if(n?.content?.nodes?.[0]?.restrictions){let e,t,r;u[3]!==n.content.nodes[0].restrictions.read?.restrictions?.group?.nodes?(e=n.content.nodes[0].restrictions.read?.restrictions?.group?.nodes??[],u[3]=n.content.nodes[0].restrictions.read?.restrictions?.group?.nodes,u[4]=e):e=u[4];let i=e;u[5]!==n.content.nodes[0].restrictions.update?.restrictions?.group?.nodes?(t=n.content.nodes[0].restrictions.update?.restrictions?.group?.nodes??[],u[5]=n.content.nodes[0].restrictions.update?.restrictions?.group?.nodes,u[6]=t):t=u[6];let o=t;for(let e of(u[7]!==i||u[8]!==o?(r=[...i,...o],u[7]=i,u[8]=o,u[9]=r):r=u[9],r))e?.id&&e?.usageType===a("8oEoE").ConfluenceGroupUsageType.TEAM_COLLABORATION&&s.add(e.id)}u[0]=n,u[1]=t,u[2]=s}else s=u[2];u[10]!==s?(o=Array.from(s),u[10]=s,u[11]=o):o=u[11];let v=o;return u[12]!==e||u[13]!==y||u[14]!==v?(l=()=>{v.length>0?(E(!0),_(null),(0,m.fetchTeamData)(e,v).then(e=>{let t={};e.forEach(e=>{e.id&&(t[e.id]=e)}),g(t),_(null)}).catch(e=>{y({type:"sendOperationalEvent",data:{source:i.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"errored",actionSubject:"useTeamData",attributes:{error:e,teamIds:v}}}).fire(),g(null),_(e instanceof Error?e:Error(String(e)))}).finally(()=>{E(!1)})):(g(null),E(!1),_(null))},c=[e,v,y],u[12]=e,u[13]=y,u[14]=v,u[15]=l,u[16]=c):(l=u[15],c=u[16]),(0,r.useEffect)(l,c),u[17]!==h||u[18]!==f||u[19]!==b?(d={teamData:f,isTeamDataLoading:h,teamDataError:b},u[17]=h,u[18]=f,u[19]=b,u[20]=d):d=u[20],d}:(e,t,n)=>{let[s,o]=(0,r.useState)(null),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(null),{createAnalyticsEvent:p}=(0,a("inPa6").useAnalyticsEvents)(),f=(0,r.useMemo)(()=>{let e=new Set;if(t)for(let r of t)for(let t of r?.restrictions?.group?.results??[])t?.id&&t.usageType===a("8oEoE").ConfluenceGroupUsageType.TEAM_COLLABORATION&&e.add(t.id);if(n?.content?.nodes?.[0]?.restrictions)for(let t of[...n.content.nodes[0].restrictions.read?.restrictions?.group?.nodes??[],...n.content.nodes[0].restrictions.update?.restrictions?.group?.nodes??[]])t?.id&&t?.usageType===a("8oEoE").ConfluenceGroupUsageType.TEAM_COLLABORATION&&e.add(t.id);return Array.from(e)},[t,n]);return(0,r.useEffect)(()=>{f.length>0?(c(!0),u(null),(0,m.fetchTeamData)(e,f).then(e=>{let t={};e.forEach(e=>{e.id&&(t[e.id]=e)}),o(t),u(null)}).catch(e=>{p({type:"sendOperationalEvent",data:{source:i.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"errored",actionSubject:"useTeamData",attributes:{error:e,teamIds:f}}}).fire(),o(null),u(e instanceof Error?e:Error(String(e)))}).finally(()=>{c(!1)})):(o(null),c(!1),u(null))},[e,f,p]),{teamData:s,isTeamDataLoading:l,teamDataError:d}},g=(0,a("eSUdr").default)`query useQueriesShareAndRestrictDialogQuery($contentId:ID!$status:[String]$draftShareId:String$spaceKey:String!){content(id:$contentId status:$status draftShareId:$draftShareId){nodes{id ancestors{id hasViewRestrictions links{webui}}hasInheritedRestrictions operations{operation targetType}restrictions{read{restrictions{userWithRestrictions(start:0){count nodes{type displayName email accountId profilePicture{path}hasSpaceViewPermission hasSpaceEditPermission permissionType restrictingContent{id links{webui base}}}pageInfo{hasNextPage endCursor}}group(start:0){count nodes{id name permissionType usageType}pageInfo{hasNextPage endCursor}}}}update{restrictions{userWithRestrictions(start:0){count nodes{type displayName email accountId profilePicture{path}hasSpaceViewPermission hasSpaceEditPermission permissionType restrictingContent{id links{webui base}}}pageInfo{hasNextPage endCursor}}group(start:0){count nodes{id name permissionType usageType}pageInfo{hasNextPage endCursor}}}}}}}user:confluence_atlassianUser(current:true){id displayName emails{value isPrimary}photos{value isPrimary}}space(key:$spaceKey){id currentUser{isAdmin}}}`,h=(0,a("dPJCf").createSingleQueryParamHook)("draftShareId");async function E(e){let t={path:`${(0,a("9wGTI").fg)("confluence_new_share_service_content_share")?"contentShare":"share"}/configuration`,queryParams:{cloudId:e},requestInit:{method:"get"}};return s.utils.requestService({url:"/gateway/api"},t)}e.exports.useQueries=({contentId:e,contentType:t,publishModalRestrictions:s,spaceKey:u,cloudId:p})=>{let[m]=(0,a("ep3mz").usePageSpaceKey)(),b=u||m,_=h()??"",{edition:y}=(0,a("bQm3c").useSessionData)(),[v,S]=(0,r.useState)(null),{createAnalyticsEvent:A}=(0,a("inPa6").useAnalyticsEvents)(),{loading:C,error:I,data:T,refetch:x}=(0,n.useQuery)(g,{variables:{contentId:e,status:["current","draft","archived"],draftShareId:_,spaceKey:b||""},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0});(0,r.useEffect)(()=>{E(p).then(e=>{S(e)}).catch(e=>{A({type:"sendOperationalEvent",data:{source:i.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"errored",actionSubject:"disableSharingToEmails",attributes:{message:e?.message,name:e?.name,stack:e?.stack,cause:e?.cause}}}).fire()})},[p,A]);let k=(0,a("gabmL").usePublicLinkPageDataProvider)({pageId:e,fetchPolicy:"network-only"});(0,c.usePreloadUserSuggestions)(),(0,r.useEffect)(()=>{I&&A({type:"sendOperationalEvent",data:{source:i.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"errored",actionSubject:"shareAndRestrictDialogQuery",attributes:{message:I?.message,name:I?.name,stack:I?.stack,cause:I?.cause}}}).fire()},[I,A]);let{isGroupsCountLoading:R,groupAndTeamCountsMap:O}=(0,d.useGroupsAndTeamCountQuery)({data:T,publishModalRestrictions:s,error:I}),{teamData:w,isTeamDataLoading:L}=f(p,s,T),{requests:P,loading:D}=(0,a("6SeRB").useAccessRequests)("network-only",i.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,void 0!==s||!(0,a("9wGTI").fg)("twcg-444-invite-usd-improvements-m2-gate")||!(0,a("6mKj3").UNSAFE_expValEqualsNoExposure)("twcg-444-invite-usd-improvements-m2","cohort","variation"),"PENDING_SITE_APPROVAL");if(C||R||L||D)return{state:"loading"};if(I||!T)return{state:"error"};let M=s?T&&y?function({publishModalRestrictions:e,spaceKey:t,publicLinkPageData:r,data:n,contentType:s,edition:i,groupAndTeamCountsMap:c,teamData:d}){if(!e)return null;let u=(0,a("1vrmd").getCurrentUserPrincipal)(n.user);if(!u)return null;let p=function(e,t,r,n,s){if(!t)return null;let{nodes:i}=t;if(!i)return null;let[c]=i;if(!c)return null;let{hasInheritedRestrictions:d,ancestors:u}=c,p=function(e,t,r,n){let s=function(e,t,a){let r={read:{users:[],groups:[]},update:{users:[],groups:[]}},{read:n,update:s}=r;for(let r of e){let{operation:e}=r;"read"===e&&(l({users:r.restrictions.user.results,destination:n.users}),o({groups:r.restrictions.group.results,destination:n.groups,groupAndTeamCountsMap:t,teamData:a})),"update"===e&&(l({users:r.restrictions.user.results,destination:s.users}),o({groups:r.restrictions.group.results,destination:s.groups,groupAndTeamCountsMap:t,teamData:a}))}return r}(e,r,n),{principals:i,groupCount:c,teamCount:d,currentUserHasAccess:u}=(0,a("1fjr9").getPrincipalsAndRoles)(s,t);return{generalAccessLevel:(0,a("1fjr9").getGeneralAccessLevel)(s),principals:i,groupCount:c,teamCount:d,currentUserHasAccess:u}}(e,r,n,s),m=d?(0,a("2rrpN").getClosestAncestorWithViewRestrictions)(u):null;return{contentRestrictions:{generalAccessLevel:p.generalAccessLevel,principals:p.principals},numberOfAncestors:u?.length||0,groupCount:p.groupCount,teamCount:p.teamCount,currentUserHasAccess:p.currentUserHasAccess,hasInheritedRestrictions:d,parentPageLink:m}}(e,n.content,u,c,d);return p?{...p,spaceKey:t,currentUser:u,publicLinkPageData:r,userCanEditRestrictions:(0,a("2rrpN").canSetRestrictions)(n,p.contentRestrictions.generalAccessLevel,s),edition:i,currentUserHasAccess:p.currentUserHasAccess,disableSharingToEmails:!1,principalsPendingAccess:[],userCanEditContent:!1,userCount:0}:null}({publishModalRestrictions:s,spaceKey:b||"",data:T,publicLinkPageData:k,contentType:t,edition:y,groupAndTeamCountsMap:O,teamData:w}):void 0:T&&y?(0,a("2rrpN").dataToQueriesState)(T,k,b||"",t,y,v?.disableSharingToEmails,O,w,P):void 0;return M?{state:"loaded",queriesState:M,refetchQueries:x}:{state:"error"}}}),r("gabmL",function(t,r){var n=a("42omo");let s=["This is a Standard/Premium feature. You are currently subscribed to the Free plan.","Anonymous access is not permitted"],i=(0,a("cgtv4").defineMessages)({publicLinkUrlPathError:{id:"public-links.usePublicLinkDataProvider.sharePathError.message",defaultMessage:"publicLinkStatus was ON, but no publicLinkUrlPath was provided"}}),o=(e,t,r,n,s,i)=>{let o=!t.error&&void 0!==t.data&&s.includes(t.data.contentType),l=o&&i===a("euL71").ConfluenceEdition.PREMIUM&&t.data?.contentType==="whiteboard",c=!t.error&&t.data?.canEditPublicLink===!0,d=!!(!r.error&&r.data?.hasEditPermission),u=n||!e.error&&e.data?.pageStatus===a("hC6vw").PublicLinkPageStatus.OFF;return{isPublicLinkAdminEnabled:u,isPublicLinkFullyEnabled:n&&u&&o,isPublicLinkAllowedForContentType:o,isPublicLinkEditAllowedForContentType:l,isEditPublicLink:d,canEditPublicLink:c,publicLinkStatus:e.data?.pageStatus,publicLinkSharePath:e.data?.publicLinkUrlPath,refetch:(t="all")=>{"permission"!==t&&e.refetch(),"public-link"!==t&&l&&r.refetch()}}},l=e=>{let t=["page","whiteboard"],r=(0,a("8C5kA").default)(),{isLicensed:l,edition:c}=(0,a("bQm3c").useSessionData)(),d=(0,a("1X7PR").usePublicLinkContentQuery)({contentId:e.pageId,skip:e.contentQueryProps?.skip}),u=e.contentQueryProps?.skip?e.contentQueryProps?.contentType:d?.data?.contentType;d={...d,data:{...d?.data,canEditPublicLink:d?.data?.canEditPublicLink??!1,contentType:u??""}};let p=e.skip||!t.includes(d?.data?.contentType||"")||!l||c===a("euL71").ConfluenceEdition.FREE,m=(0,a("xQxzY").useQuery)((0,a("eSUdr").default)`query usePublicLinkPageDataProviderPublicLinkPageQuery($pageId:ID!){publicLinkPage(pageId:$pageId){pageId pageStatus publicLinkUrlPath}}`,{variables:{pageId:e.pageId},fetchPolicy:e.fetchPolicy,skip:p}),f=(0,a("bgRei").usePublicLinkPermissionsForObject)({objectId:e.pageId,skip:p||c!==a("euL71").ConfluenceEdition.PREMIUM||d?.data?.contentType!=="whiteboard"}),g=(0,n.useMemo)(()=>({isLoading:m.loading,data:m.data?.publicLinkPage,error:m.error,refetch:m.refetch}),[m.loading,m.data,m.error,m.refetch]);((0,a("1uFM6").isUnauthorizedError)(m.error)||s.some(e=>m.error?.message?.includes(e)))&&(0,a("7Sm4c").markErrorAsHandled)(m.error);let h=!g.error&&g.data?.pageStatus===a("hC6vw").PublicLinkPageStatus.ON,E=g.isLoading||d.isLoading||f.isLoading,b=(0,n.useMemo)(()=>[g,d,f].map(e=>!e.isLoading&&e.error).filter(e=>!!e),[g,d,f]);return h&&g.data?.publicLinkUrlPath===null&&b.push(Error(r.formatMessage(i.publicLinkUrlPathError))),E?{isLoading:!0,errors:b}:{isLoading:!1,errors:b,...o(g,d,f,h,t,c)}};t.exports.usePublicLinkData=e=>{let t=l({pageId:e.contentId,...e});return t.isLoading?{isPublicLinkFullyEnabled:!1,isPublicLinkAdminEnabled:!1,isPublicLinkAllowedForContentType:!1,isPublicLinkEditAllowedForContentType:!1,canEditPublicLink:!1,publicLinkStatus:void 0,publicLinkSharePath:void 0,isEditPublicLink:!1,refetch:()=>{},...t}:t},t.exports.usePublicLinkPageDataProvider=l,t.exports.PublicLinkPageDataProvider=({contentId:t,children:a})=>e(n).createElement(e(n).Fragment,null,a(l({pageId:t})))}),r("1X7PR",function(e,t){var r=a("42omo");let n=(e,t)=>{let a=e?.content?.nodes?.[0]?.type||"",r=e?.content?.nodes?.[0]?.operations||[],n=!!e?.space?.currentUser.isAdmin,s=r.filter(e=>e?.operation==="update"&&e?.targetType===a).length>0;return{contentType:a,canEditPublicLink:(n||s)&&!t}};e.exports.usePublicLinkContentQuery=e=>{let t=(0,a("cLo2u").useSpaceKey)(),{isExternalCollaborator:s}=(0,a("foQ4a").useIsExternalCollaborator)(),{loading:i,data:o,error:l}=(0,a("xQxzY").useQuery)((0,a("eSUdr").default)`query usePublicLinkContentQueryPublicLinkContentQuery($contentId:ID!$spaceKey:String!$hasSpaceKey:Boolean!){content(id:$contentId){nodes{id type operations{operation targetType}}}space(key:$spaceKey)@include(if:$hasSpaceKey){id currentUser{isAdmin}}}`,{skip:e.skip,variables:{contentId:e.contentId,hasSpaceKey:!!t,spaceKey:t??""}});return(0,r.useEffect)(()=>{(0,a("1uFM6").isUnauthorizedError)(l)&&(0,a("7Sm4c").markErrorAsHandled)(l)},[l]),i?{isLoading:!0}:{isLoading:!1,error:l,data:l?void 0:n(o,s)}}}),r("cLo2u",function(e,t){var r=a("3u0dr"),n=a("frIzR"),s=a("42omo");let i=(0,r.isReactCompilerActiveV1)()?function(e){let t,r=(0,n.c)(1),[i]=(0,a("ep3mz").usePageSpaceKey)(),{match:o}=(0,s.useContext)(a("7zgzO").RoutesContext),l=o?.params?.spaceKey;return e||i||l||(r[0]===Symbol.for("react.memo_cache_sentinel")?(t="undefined"!=typeof document?document.querySelector("meta#confluence-space-key")?.content:null,r[0]=t):t=r[0],t??null)}:function(e){let[t]=(0,a("ep3mz").usePageSpaceKey)(),{match:r}=(0,s.useContext)(a("7zgzO").RoutesContext),n=r?.params?.spaceKey;return e||t||n||(("undefined"!=typeof document?document.querySelector("meta#confluence-space-key")?.content:null)??null)};e.exports.useSpaceKey=i}),r("foQ4a",function(e,t){e.exports.useIsExternalCollaborator=()=>{let{accessStatus:e}=(0,a("bQm3c").useSessionData)();return{isExternalCollaborator:e===a("d9tcB").AccessStatus.EXTERNAL_COLLABORATOR_ACCESS}}}),r("bgRei",function(e,t){var r=a("42omo");e.exports.usePublicLinkPermissionsForObject=({objectId:e,objectType:t=a("j0YKV").PublicLinkPermissionsObjectType.CONTENT,skip:n})=>{let{loading:s,error:i,data:o,refetch:l}=(0,a("xQxzY").useQuery)((0,a("eSUdr").default)`query usePublicLinkPermissionsForObjectPublicLinkPermissionsForObjectQuery($objectId:ID!$objectType:PublicLinkPermissionsObjectType!){publicLinkPermissionsForObject(objectId:$objectId objectType:$objectType){permissions}}`,{variables:{objectId:e,objectType:t},skip:n});(0,r.useEffect)(()=>{(0,a("1uFM6").isUnauthorizedError)(i)&&(0,a("7Sm4c").markErrorAsHandled)(i)},[i]);let c=o?.publicLinkPermissionsForObject?.permissions.includes(a("j0YKV").PublicLinkPermissionsType.EDIT)??!1;return s?{isLoading:!0,refetch:l}:{isLoading:!1,error:i,refetch:l,data:i?void 0:{hasEditPermission:c,permissions:o?.publicLinkPermissionsForObject?.permissions??[]}}}}),r("j0YKV",function(e,t){var a,r,n=((a={}).CONTENT="CONTENT",a),s=((r={}).EDIT="EDIT",r);e.exports.PublicLinkPermissionsObjectType=n,e.exports.PublicLinkPermissionsType=s}),r("2rrpN",function(e,t){let r=(e,t,a)=>({...e,groupAndTeamCountsMap:t,teamData:a});function n(e,t,a){let r=e?.content?.nodes?.[0],n=r?.operations||[],s=e?.space?.currentUser?.isAdmin||!1,i=n.some(e=>e?.operation==="restrict_content"&&e?.targetType===a);if("open-can-edit"===t)return i;let o=n.some(e=>e?.operation==="update"&&e?.targetType===a);return i&&o||s}function s(e){let t={id:"",link:null};if(e){for(let a=e.length-1;a>=0;a--)if(e[a]?.hasViewRestrictions){t.id=e[a]?.id||"",t.link=e[a]?.links?.webui;break}}return t.link}e.exports.dataToQueriesState=function(e,t,i,o,l,c=!1,d,u,p){var m;let f=(0,a("1vrmd").getCurrentUserPrincipal)(e.user);if(!f)return null;let g=function(e,t,n,i){if(!e)return null;let{nodes:o}=e;if(!o)return null;let[l]=o;if(!l)return null;let{restrictions:c,hasInheritedRestrictions:d,ancestors:u}=l;if(!c)return null;let p=r(c,n,i),m=(0,a("1fjr9").getContentRestrictions)(p,t);if(!m)return null;let f=d?s(u):null;return{contentRestrictions:{generalAccessLevel:m.generalAccessLevel,principals:m.principals},numberOfAncestors:u?.length||0,groupCount:m.groupCount,teamCount:m.teamCount,userCount:m.userCount,currentUserHasAccess:m.currentUserHasAccess,hasInheritedRestrictions:d,parentPageLink:f}}(e.content,f,d,u);if(!g)return null;let h=(m=g.contentRestrictions.principals,p.filter(e=>null!==e).filter(e=>!m.some(t=>t.principal.id===e.accessRequestedAaid)).map(e=>{let t,r=e.user?.photos?.find(e=>e?.isPrimary===!0)?.value??"",n=e.user?.emails?.find(e=>e?.isPrimary===!0)?.value??"",s={accessWarning:(0,a("cOQPm").getCachedInvites)().includes(e.accessRequestedAaid)?"pending-userbase-propagation-warning":"pending-site-access-warning",parentLink:null};return{principal:{type:"user",id:e.accessRequestedAaid,name:e.user?.displayName??"",avatarUrl:r,email:n,knownErrors:s,sitePermissionType:""},role:"EDIT"===e.requestAccessType?"can-edit":"VIEW"===e.requestAccessType?"can-view":"no-access"}}));return{...g,spaceKey:i,currentUser:f,publicLinkPageData:t,userCanEditContent:function(e,t){let a=e?.content?.nodes?.[0];return(a?.operations||[]).some(e=>e?.operation==="update"&&e?.targetType===t)}(e,o),userCanEditRestrictions:n(e,g.contentRestrictions.generalAccessLevel,o),edition:l,disableSharingToEmails:c,principalsPendingAccess:h}},e.exports.canSetRestrictions=n,e.exports.getClosestAncestorWithViewRestrictions=s}),r("1vrmd",function(e,t){function a(e){let t="";if(e)for(let a of e){if(!a)continue;let{value:e,isPrimary:r}=a;if(e&&(t=e,r))break}return t}e.exports.getCurrentUserPrincipal=function(e){if(!e)return null;let{id:t,displayName:r,photos:n,emails:s}=e;return t&&r?{type:"user",id:t,name:r,avatarUrl:a(n),email:a(s),knownErrors:void 0,sitePermissionType:"INTERNAL"}:null}}),r("5bmjx",function(e,t){var r=a("3u0dr"),n=a("frIzR"),s=a("42omo");let i=(0,r.isReactCompilerActiveV1)()?function(e){let t,a=(0,n.c)(2),r=(0,s.useRef)(!1);return a[0]!==e?(t={potentialFinalDialogDidCompleteClose(){r.current&&e()},tearDownAfterPotentialFinalDialogCompletesClose(){r.current=!0}},a[0]=e,a[1]=t):t=a[1],t}:function(e){let t=(0,s.useRef)(!1);return{potentialFinalDialogDidCompleteClose(){t.current&&e()},tearDownAfterPotentialFinalDialogCompletesClose(){t.current=!0}}};e.exports.useTeardownController=i}),r("T5KYq",function(e,t){var r=a("42omo"),n=a("4adOe");let s=(0,a("eSUdr").default)`query useShareToPrincipalsShareToPrincipalsContentQuery($contentId:ID!){singleContent(id:$contentId){title type id}}`,i=["page","blogpost","whiteboard","database","embed","folder"],o=(0,a("cgtv4").defineMessages)({emptyTitleDefault:{id:"share-and-restrict-dialog.default.title",defaultMessage:"Untitled"}}),l=({activationId:e,cloudId:t,contentId:r,contentType:n})=>{if("embed"===n)return(0,a("gw4Eo").getConfluenceContentAri)({siteId:t,resourceType:n,activationId:e,resourceId:r});if("database"===n)return a("iH7AG").ConfluenceDatabaseAri.create({siteId:t,databaseId:r,activationId:e}).toString();let s=null;switch(n){case"blogpost":s=a("eB56w").ConfluenceBlogpostAri.create({siteId:t,blogpostId:r});break;case"whiteboard":s=a("a5Dk4").ConfluenceWhiteboardAri.create({siteId:t,whiteboardId:r});break;case"folder":s=a("lb1Mg").ConfluenceFolderAri.create({siteId:t,folderId:r,activationId:e});break;default:s=a("a2xFu").ConfluencePageAri.create({siteId:t,pageId:r})}return s.toString()},c=({routesContext:e,contentType:t,contentId:r,spaceKey:n,isEditMode:s,makeContentLink:i})=>{let o=(0,a("c3Qwv").getSingleParam)(e.getQueryParams(),"draftShareId"),l=i();if(s&&l)return l;let c=(()=>{let s=e.match;if(s&&(0,a("gEtAQ").isEditPage)(String(s))&&!o){let e=n??s?.params.spaceKey;return new URL(("blog"===t?a("1NBp8").VIEW_BLOG:a("1NBp8").VIEW_PAGE).toUrl({spaceKey:e,contentId:r}),document.baseURI).toString()}return null})();if(c)return c;if(l)return l;let d=(0,a("cb6fO").removeEverythingAfterContentSlug)(window.location.href);return o?(0,a("cb6fO").addQueryParams)(d,{draftShareId:o}):d};e.exports.useShareToPrincipals=e=>{let{data:t,error:d}=(0,a("xQxzY").useQuery)(s,{variables:{contentId:e}}),u=(0,a("8C5kA").default)(),{createAnalyticsEvent:p}=(0,a("inPa6").useAnalyticsEvents)(),{activationId:m,cloudId:f}=(0,a("bQm3c").useSessionData)(),[g]=(0,a("ep3mz").useContentType)(),[h]=(0,a("ep3mz").usePageSpaceKey)(),E=(0,r.useContext)(a("7zgzO").RoutesContext),b=E.match,_=(0,a("gEtAQ").isEditPage)(b?.name??""),y=t?.singleContent?.type??g??"",v=t?.singleContent?.title,S=(0,r.useCallback)(()=>new(0,a("6Co6F").default)({product:"confluence"}),[]),{makeContentLink:A}=(0,a("6abPE").useCopyContentLink)({contentType:y,pageMode:_?"edit":"view",contentId:e,spaceKey:h||"",source:"useShareToPrincipals"});return d&&(p({type:"sendOperationalEvent",data:{source:n.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"errored",actionSubject:"shareToPrincipalsContentQuery",actionSubjectId:"useShareToPrincipals",attributes:{message:d.message}}}).fire(),(0,a("7Sm4c").markErrorAsHandled)(d)),{shareToPrincipals:async({notificationRecipients:t,message:r})=>{var n=e,s=y;if(!i.includes(s))throw Error("Not a supported content type");if(!n)throw Error("No content ID");try{let n={content:{link:(0,a("lpPVE").generatePathWithFeatureCodesQueryParam)(c({routesContext:E,contentType:y,contentId:e,spaceKey:h,isEditMode:_,makeContentLink:A}),[a("71GjD").FeatureCode.SHARE_AND_RESTRICT_DIALOG]),ari:l({activationId:m,contentId:e,cloudId:f,contentType:y}),workspaceAri:a("hHhbz").ConfluenceWorkspaceAri.create({siteId:f,activationId:m}).toString(),title:v||u.formatMessage(o.emptyTitleDefault),type:y},recipients:t,comment:{format:"plain_text",value:r||""},metadata:{productId:"confluence",atlOriginId:String(S().id),shareeAction:_?"edit":"view"}};await (0,a("f7B1p").cfetch)("/gateway/api/contentShare",{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(n)})}catch(e){if(a("hBkCm").BadStatusError.isBadStatusError(e)?e.response:void 0){let t=await e.response.json();if(t?.messagesDetails.some(e=>e?.errorCode==="share-to-large-group-forbidden"))throw Error("list-too-large-error")}throw Error(e)}}}}}),r("eB56w",function(e,t){var r={qualifier:"ari",platformQualifier:"cloud",cloudId:RegExp("^[a-zA-Z0-9_\\-.]{1,255}$"),resourceOwner:a("fOAkx").ConfluenceBlogpostAriResourceOwner,resourceType:a("fOAkx").ConfluenceBlogpostAriResourceType,resourceIdSlug:"{blogpostId}",resourceIdSegmentFormats:{blogpostId:/[0-9]+/}},n=class e extends a("3NXcb").RegisteredAri{get siteId(){return this._siteId}get blogpostId(){return this._blogpostId}static create(t){let n={qualifier:r.qualifier,platformQualifier:r.platformQualifier,cloudId:t.siteId,resourceOwner:r.resourceOwner,resourceType:r.resourceType,resourceId:`${t.blogpostId}`,resourceIdSegmentValues:{blogpostId:t.blogpostId}};return new e(a("6yCpa").AriParser.fromOpts(n,r))}static parse(t){return new e(a("6yCpa").AriParser.fromString(t,r))}getVariables(){return{siteId:this.siteId,blogpostId:this.blogpostId}}constructor(e){super(e),this._siteId=e.cloudId||"",this._blogpostId=e.resourceIdSegmentValues.blogpostId}};e.exports.ConfluenceBlogpostAri=n}),r("fOAkx",function(e,t){e.exports.ConfluenceBlogpostAriResourceOwner="confluence",e.exports.ConfluenceBlogpostAriResourceType="blogpost"}),r("iH7AG",function(e,t){var r={qualifier:"ari",platformQualifier:"cloud",cloudId:RegExp("^[a-zA-Z0-9_\\-.]{1,255}$"),resourceOwner:a("hIjpx").ConfluenceDatabaseAriResourceOwner,resourceType:a("hIjpx").ConfluenceDatabaseAriResourceType,resourceIdSlug:"activation/{activationId}/{databaseId}",resourceIdSegmentFormats:{activationId:/[a-zA-Z0-9\-]+/,databaseId:/[0-9]+/}},n=class e extends a("3NXcb").RegisteredAri{get siteId(){return this._siteId}get activationId(){return this._activationId}get databaseId(){return this._databaseId}static create(t){let n={qualifier:r.qualifier,platformQualifier:r.platformQualifier,cloudId:t.siteId,resourceOwner:r.resourceOwner,resourceType:r.resourceType,resourceId:`activation/${t.activationId}/${t.databaseId}`,resourceIdSegmentValues:{activationId:t.activationId,databaseId:t.databaseId}};return new e(a("6yCpa").AriParser.fromOpts(n,r))}static parse(t){return new e(a("6yCpa").AriParser.fromString(t,r))}getVariables(){return{siteId:this.siteId,activationId:this.activationId,databaseId:this.databaseId}}constructor(e){super(e),this._siteId=e.cloudId||"",this._activationId=e.resourceIdSegmentValues.activationId,this._databaseId=e.resourceIdSegmentValues.databaseId}};e.exports.ConfluenceDatabaseAri=n}),r("hIjpx",function(e,t){e.exports.ConfluenceDatabaseAriResourceOwner="confluence",e.exports.ConfluenceDatabaseAriResourceType="database"}),r("lb1Mg",function(e,t){var r={qualifier:"ari",platformQualifier:"cloud",cloudId:RegExp("^[a-zA-Z0-9_\\-.]{1,255}$"),resourceOwner:a("bYbE5").ConfluenceFolderAriResourceOwner,resourceType:a("bYbE5").ConfluenceFolderAriResourceType,resourceIdSlug:"activation/{activationId}/{folderId}",resourceIdSegmentFormats:{activationId:/[a-zA-Z0-9\-]+/,folderId:/[0-9]+/}},n=class e extends a("3NXcb").RegisteredAri{get siteId(){return this._siteId}get activationId(){return this._activationId}get folderId(){return this._folderId}static create(t){let n={qualifier:r.qualifier,platformQualifier:r.platformQualifier,cloudId:t.siteId,resourceOwner:r.resourceOwner,resourceType:r.resourceType,resourceId:`activation/${t.activationId}/${t.folderId}`,resourceIdSegmentValues:{activationId:t.activationId,folderId:t.folderId}};return new e(a("6yCpa").AriParser.fromOpts(n,r))}static parse(t){return new e(a("6yCpa").AriParser.fromString(t,r))}getVariables(){return{siteId:this.siteId,activationId:this.activationId,folderId:this.folderId}}constructor(e){super(e),this._siteId=e.cloudId||"",this._activationId=e.resourceIdSegmentValues.activationId,this._folderId=e.resourceIdSegmentValues.folderId}};e.exports.ConfluenceFolderAri=n}),r("bYbE5",function(e,t){e.exports.ConfluenceFolderAriResourceOwner="confluence",e.exports.ConfluenceFolderAriResourceType="folder"}),r("a2xFu",function(e,t){var r={qualifier:"ari",platformQualifier:"cloud",cloudId:RegExp("^[a-zA-Z0-9_\\-.]{1,255}$"),resourceOwner:a("5KmYv").ConfluencePageAriResourceOwner,resourceType:a("5KmYv").ConfluencePageAriResourceType,resourceIdSlug:"{pageId}",resourceIdSegmentFormats:{pageId:/[0-9]+/}},n=class e extends a("3NXcb").RegisteredAri{get siteId(){return this._siteId}get pageId(){return this._pageId}static create(t){let n={qualifier:r.qualifier,platformQualifier:r.platformQualifier,cloudId:t.siteId,resourceOwner:r.resourceOwner,resourceType:r.resourceType,resourceId:`${t.pageId}`,resourceIdSegmentValues:{pageId:t.pageId}};return new e(a("6yCpa").AriParser.fromOpts(n,r))}static parse(t){return new e(a("6yCpa").AriParser.fromString(t,r))}getVariables(){return{siteId:this.siteId,pageId:this.pageId}}constructor(e){super(e),this._siteId=e.cloudId||"",this._pageId=e.resourceIdSegmentValues.pageId}};e.exports.ConfluencePageAri=n}),r("5KmYv",function(e,t){e.exports.ConfluencePageAriResourceOwner="confluence",e.exports.ConfluencePageAriResourceType="page"}),r("a5Dk4",function(e,t){var r={qualifier:"ari",platformQualifier:"cloud",cloudId:RegExp("^[a-zA-Z0-9_\\-.]{1,255}$"),resourceOwner:a("aOBEU").ConfluenceWhiteboardAriResourceOwner,resourceType:a("aOBEU").ConfluenceWhiteboardAriResourceType,resourceIdSlug:"{whiteboardId}",resourceIdSegmentFormats:{whiteboardId:/[0-9]+/}},n=class e extends a("3NXcb").RegisteredAri{get siteId(){return this._siteId}get whiteboardId(){return this._whiteboardId}static create(t){let n={qualifier:r.qualifier,platformQualifier:r.platformQualifier,cloudId:t.siteId,resourceOwner:r.resourceOwner,resourceType:r.resourceType,resourceId:`${t.whiteboardId}`,resourceIdSegmentValues:{whiteboardId:t.whiteboardId}};return new e(a("6yCpa").AriParser.fromOpts(n,r))}static parse(t){return new e(a("6yCpa").AriParser.fromString(t,r))}getVariables(){return{siteId:this.siteId,whiteboardId:this.whiteboardId}}constructor(e){super(e),this._siteId=e.cloudId||"",this._whiteboardId=e.resourceIdSegmentValues.whiteboardId}};e.exports.ConfluenceWhiteboardAri=n}),r("aOBEU",function(e,t){e.exports.ConfluenceWhiteboardAriResourceOwner="confluence",e.exports.ConfluenceWhiteboardAriResourceType="whiteboard"}),r("hHhbz",function(e,t){var r={qualifier:"ari",platformQualifier:"cloud",cloudId:RegExp("^[a-zA-Z0-9_\\-.]{1,255}$"),resourceOwner:a("5O1YC").ConfluenceWorkspaceAriResourceOwner,resourceType:a("5O1YC").ConfluenceWorkspaceAriResourceType,resourceIdSlug:"{activationId}",resourceIdSegmentFormats:{activationId:/[a-zA-Z0-9\-]+/}},n=class e extends a("3NXcb").RegisteredAri{get siteId(){return this._siteId}get activationId(){return this._activationId}static create(t){let n={qualifier:r.qualifier,platformQualifier:r.platformQualifier,cloudId:t.siteId,resourceOwner:r.resourceOwner,resourceType:r.resourceType,resourceId:`${t.activationId}`,resourceIdSegmentValues:{activationId:t.activationId}};return new e(a("6yCpa").AriParser.fromOpts(n,r))}static parse(t){return new e(a("6yCpa").AriParser.fromString(t,r))}getVariables(){return{siteId:this.siteId,activationId:this.activationId}}constructor(e){super(e),this._siteId=e.cloudId||"",this._activationId=e.resourceIdSegmentValues.activationId}};e.exports.ConfluenceWorkspaceAri=n}),r("5O1YC",function(e,t){e.exports.ConfluenceWorkspaceAriResourceOwner="confluence",e.exports.ConfluenceWorkspaceAriResourceType="workspace"}),r("lpPVE",function(e,t){e.exports.generatePathWithFeatureCodesQueryParam=(e,t)=>{if(!t.length)return e;let[r,n]=e.split("?"),s=new URLSearchParams(n);if(s.has(a("71GjD").FEATURE_CODES_QUERY_PARAM)){let e=[...new Set([...(s.get(a("71GjD").FEATURE_CODES_QUERY_PARAM)||"").split(","),...t])];s.set(a("71GjD").FEATURE_CODES_QUERY_PARAM,e.join(","))}else s.append(a("71GjD").FEATURE_CODES_QUERY_PARAM,t.join(","));let i=s.toString();return i?`${r}?${i}`:r},e.exports.getFeatureCodes=e=>{if(!(0,a("9wGTI").fg)("confluence_frontend_insights_feature_attribution"))return{from:void 0};let t=e.get(a("71GjD").FEATURE_CODES_QUERY_PARAM)?.split(",");return{from:t?.find(e=>Object.values(a("71GjD").FeatureCode).includes(e))}},e.exports.hideFeatureCodesQueryParam=(e,t)=>{if(!t?.search?.includes(a("71GjD").FEATURE_CODES_QUERY_PARAM))return;let r=new URLSearchParams(t.search);r.delete(a("71GjD").FEATURE_CODES_QUERY_PARAM);let n=r.toString();e?.replace?.({...t,search:n?`?${n}`:""})}}),r("71GjD",function(e,t){var a,r=((a={}).HOME_FEED="HOMEFEED",a.EOP_REC="EOPREC",a.EOP_REC_CARD="EOPCARD",a.PAGE_TREE="PAGETREE",a.PAGE_TREE_CARD="TREECARD",a.FOLLOWING_FEED_EMAIL="FLLWEML",a.POPULAR_FEED_EMAIL="PPLREML",a.ADMIN_KEY_EMAIL="ADMINEML",a.ATTACHMENT_EMAILS="ATTCHEML",a.BATCH_EMAIL="BATCHEML",a.BLOG_CREATED_EMAIL="BLOGEML",a.BULK_ARCHIVE_EMAIL="BLKAREML",a.BULK_OWNER_CHANGE_EMAIL="BLKOWEML",a.CONFLUENCE_WRAPPED_EMAIL="WRAPEML",a.CONTACT_ADMINISTRATORS_EMAIL="CTADMEML",a.CONTENT_OWNER_CHANGE_EMAIL="OWNREML",a.CONTENT_REDACTION_EMAIL="RDCTDEML",a.EXCO_ADDED_TO_SPACE_EMAIL="EXCASEML",a.EXCO_REQUEST_ACCESS_EMAIL="EXCRAEML",a.EXCO_SPACE_READY_EMAIL="EXCSREML",a.IMPORTER_NOTIFICATIONS="IMPRTNTF",a.LIVE_PAGE_PUBLISHED_EMAIL="LPPEML",a.MENTIONS_EMAIL="MNTNEML",a.PAGE_CREATED_EMAIL="PAGEEML",a.REMINDER_EMAIL="RMNDREML",a.REQUEST_AND_GRANT_ACCESS_EMAILS="REQACEML",a.REQUEST_AND_GRANT_ACCESS_SLACK="REQACSLK",a.TASKS_EMAIL="TASKEML",a.TEAM_CALENDAR_EMAIL="CLNDREML",a.WHITEBOARD_CREATED_EMAIL="WTBRDEML",a.CONTENT_REDACTION_IN_APP="RDCTDAPP",a.DAILY_DIGEST_EMAIL="DIGSTEML",a.MENTIONS_REMINDER_EMAIL="MNTNREML",a.PUBLIC_LINK_EMAIL="PBLNKEML",a.REQUEST_AND_GRANT_ACCESS_IN_APP="REQACAPP",a.SHARE_AND_RESTRICT_DIALOG="SRDIALOG",a.ROVO_CHAT_LINK="ROVOCHAT",a.ROVO_EXTENSION_LINK="ROVOEXT",a);e.exports.FeatureCode=r,e.exports.FEATURE_CODES_QUERY_PARAM="atl_f"}),r("gEtAQ",function(e,t){e.exports.isViewPage=()=>!!a("1NBp8").VIEW_PAGE.match(window.location.pathname),e.exports.isBlogPage=()=>!!(a("1NBp8").VIEW_BLOG.match(window.location.pathname)||a("1NBp8").VIEW_BLOG_DATE_LEGACY.match(window.location.pathname)||a("1NBp8").VIEW_BLOG_MOBILE.match(window.location.pathname)),e.exports.isHomePage=()=>!!a("1NBp8").HOME.match(window.location.pathname),e.exports.isSpaceOverview=()=>!!a("1NBp8").SPACE_OVERVIEW.match(window.location.pathname),e.exports.isDatabase=e=>null!=e&&(0,a("9wGTI").fg)("confluence_frontend_fix_page_class_route_detection")?e===a("1NBp8").DATABASE_VIEW.name:!!a("1NBp8").DATABASE_VIEW.match(window.location.pathname),e.exports.isWhiteboard=e=>null!=e&&(0,a("9wGTI").fg)("confluence_frontend_fix_page_class_route_detection")?e===a("1NBp8").WHITEBOARD_BOARD.name:!!a("1NBp8").WHITEBOARD_BOARD.match(window.location.pathname),e.exports.isEditPage=e=>!!e&&[a("1NBp8").EDIT_PAGE_EMBED.name,a("1NBp8").EDIT_PAGE_V2.name,a("1NBp8").EDIT_BLOG_V2.name,a("1NBp8").EDIT_PAGE.name,a("1NBp8").EDIT_BLOG.name].includes(e)}),r("gw4Eo",function(e,t){e.exports.getConfluenceContentAri=e=>{let{siteId:t,resourceType:r,activationId:n,resourceId:s}=e;return a("1ggpj").TYPES_WITH_ACTIVATIONID.includes(r)?`ari:cloud:confluence:${t}:${r}/activation/${n}/${s}`:`ari:cloud:confluence:${t}:${r}/${s}`}}),r("1ggpj",function(e,t){var r,n=((r={}).WHITEBOARD="whiteboard",r.PAGE="page",r.BLOGPOST="blogpost",r.DATABASE="database",r.EMBED="embed",r.FOLDER="folder",r);let s=[a("1NBp8").DATABASE_VIEW.name,a("1NBp8").VIEW_PAGE.name,a("1NBp8").WHITEBOARD_BOARD.name,a("1NBp8").EMBED_VIEW.name],i=[a("1NBp8").DATABASE_VIEW.name,a("1NBp8").VIEW_PAGE.name,a("1NBp8").WHITEBOARD_BOARD.name,a("1NBp8").EMBED_VIEW.name],o={whiteboard:a("lx6jn").FeedbackSource.WHITEBOARD,embed:a("lx6jn").FeedbackSource.EMBED,database:a("lx6jn").FeedbackSource.DATABASE};e.exports.ContentType=n,e.exports.ARCHIVE_SUCCESS_REDIRECT_ROUTES=s,e.exports.DELETE_SUCCESS_REDIRECT_ROUTES=i,e.exports.VALID_OPERATION_TARGETS=["whiteboard","database","embed","page","folder","blogpost"],e.exports.CONTENT_TYPE_FEEDBACK_SOURCE=o,e.exports.TYPES_WITH_ACTIVATIONID=["database","embed","folder"],e.exports.onChangeTitleDebounceTime=400}),r("cBa8E",function(e,t){e.exports.getNotificationRecipients=function({stagedNotificationRecipients:e}){var t;let a=[];return t=a,e.forEach(e=>{"email"===e.type?t.push({email:e.id,type:"user"}):"external_user"===e.type?t.push({email:e.email,type:"user"}):t.push({id:e.id,type:e.type})}),a}}),r("5608P",function(e,t){var r=a("42omo");let n=async(e,t,r)=>{for(;;){t(e=>({...e,isSaving:!1,sessionState:"shareAndRestrict"}));let{contentId:n,edition:s,numberOfAncestors:i,addMode:o,mutateContentRestrictions:l,currentUser:c,sendNotification:d,successFlag:u,errorFlag:p,beginTeardown:m,isMutatingAction:f,isNotifyingAction:g,userCanEditRestrictions:h,stagedGeneralAccessLevel:E,principalsMap:b,optionalMessage:_,stagedNotificationRecipients:y,experienceTracker:v,validateRestrictedPrincipals:S,fireAnalyticEvent:A,contentSubType:C,contentType:I,callResolveMismatchedRestrictions:T,isResolvingAction:x,isUnpublishedDraft:k,includeInvites:R,refreshDialogState:O}=await e(["cta"]);t(e=>({...e,isSaving:!0})),f&&"embed"!==I&&v.start({name:a("irVI7").SHARE_AND_RESTRICT_DIALOG_SAVE_ACTION_EXPERIENCE});let w=y.some(({type:e})=>"group"===e||"team"===e),L=y;g&&L.length>0&&v.start({name:a("irVI7").SHARE_AND_RESTRICT_DIALOG_SHARE_ACTION_EXPERIENCE});let P=!1;if(g&&w){t(e=>({...e,sessionState:"confirmGroupNotifications",isSaving:!1}));let{type:a}=await e(["doNotifyGroups","doNotNotifyGroups"]);"doNotNotifyGroups"===a&&(L=y.filter(({type:e})=>"group"!==e),P=!0),t(e=>({...e,isSaving:!0}))}if(x)try{await T()}catch(e){A({eventType:"sendOperationalEvent",action:"errored",actionSubject:"resolveMismatchedRestrictions",actionSubjectId:"flowController",attributes:{message:e.message}}),p("mutation-error"),v.fail({name:a("irVI7").SHARE_AND_RESTRICT_DIALOG_SAVE_ACTION_EXPERIENCE,error:{message:e?.message,name:e?.name,stack:e?.stack},attributes:{type:"resolveMismatchedRestrictions"}});continue}if(f&&"embed"!==I&&!x)try{h&&await l(E,b,c,R),v.succeed({name:a("irVI7").SHARE_AND_RESTRICT_DIALOG_SAVE_ACTION_EXPERIENCE})}catch(e){A({eventType:"sendOperationalEvent",action:"errored",actionSubject:"mutateContentRestrictions",actionSubjectId:"flowController",attributes:{message:e?.message,name:e?.name,stack:e?.stack,stagedGeneralAccessLevel:E,userCanEditRestrictions:h,contentType:I,principalListSize:b.size,notificationRecipientsListSize:L.length,userErrors:"user"===c.type&&c.knownErrors?.accessWarning,addMode:o,contentSubType:C}}),p("mutation-error"),v.fail({name:a("irVI7").SHARE_AND_RESTRICT_DIALOG_SAVE_ACTION_EXPERIENCE,error:e,attributes:{type:"mutateContentRestrictions",stagedGeneralAccessLevel:E,userCanEditRestrictions:h,contentType:I,principalListSize:b.size,notificationRecipientsListSize:L.length,userErrors:"user"===c.type&&c.knownErrors?.accessWarning,addMode:o,contentSubType:C}});continue}if(g&&L.length>0&&!x)try{await d(L,_),v.succeed({name:a("irVI7").SHARE_AND_RESTRICT_DIALOG_SHARE_ACTION_EXPERIENCE})}catch(e){A({eventType:"sendOperationalEvent",action:"errored",actionSubject:"sendNotification",actionSubjectId:"flowController",attributes:{message:e?.message,name:e?.name,stack:e?.stack,isLivePage:"live"===C,contentType:I,contentSubType:C,notificationRecipientsListSize:L.length,userErrors:"user"===c.type&&c.knownErrors?.accessWarning,addMode:o,optionalMessage:""!==_}}),p(e?.message==="list-too-large-error"?"list-too-large-error":"notification-error"),v.fail({name:a("irVI7").SHARE_AND_RESTRICT_DIALOG_SHARE_ACTION_EXPERIENCE,error:e,attributes:{type:"sendNotification",isLivePage:"live"===C,contentType:I,contentSubType:C,notificationRecipientsListSize:L.length,userErrors:"user"===c.type&&c.knownErrors?.accessWarning,addMode:o,optionalMessage:""!==_}})}let D=y.filter(e=>{if("user"==e.type)return e}),[M]=await Promise.all([S({contentId:n,cloudId:r,edition:s,numberOfAncestors:i,addMode:o,stagedUserPrincipals:D,setMasterState:t,fireAnalyticEvent:A}),(0,a("f2UnK").preloadSpaceRoleMode)(r)]),{showWarnRestrictionsDialog:N,showResolveRestrictionsDialog:U}=M,j=null,B=!1;if(N&&(t(e=>({...e,sessionState:"warnRestrictedAccess",isSaving:!1})),await e(["ignoreRestrictions"])),U){t(e=>({...e,sessionState:"resolveRestrictions",isSaving:!1}));let a=await e(["ignoreRestrictions","resolveRestrictionsComplete"]),{type:r}=a;if(j=r,"ignoreRestrictions"===r){let{shouldSkipFlagRaise:e}=a;B=e}}if(B||function({flowEventType:e,isNotifyingAction:t,isMutatingAction:a,stagedGeneralAccessLevel:r,principalsMap:n,showWarnRestrictionsDialog:s,showResolveRestrictionsDialog:i,doNotNotifyGroups:o,userCanEditRestrictions:l,successFlag:c,isUnpublishedDraft:d}){let u=s||i,p=!1,m=d?"draft-shared":"content-shared",f=Array.from(n.values()).some(e=>{let{isNewOrUpdatedPrincipal:t,role:a}=e;return t&&(p="can-edit"===a),t});if(t){let t=0===n.size;return u?"ignoreRestrictions"===e?c(m):"resolveRestrictionsComplete"===e&&c("access-updated"):c(o?"access-updated":t||("open-can-view"===r||"restricted"===r)&&!f?"notification-sent":"restricted"!==r||l?"open-can-edit"===r||"open-can-view"===r?m:"access-updated":m)}if(a){if(u)return"ignoreRestrictions"===e?c(d?"draft-shared":"access-updated"):"resolveRestrictionsComplete"===e&&c("access-updated");if(p&&f&&"open-can-view"===r)return c("access-updated");if(f&&("open-can-edit"===r||"open-can-view"===r))return c("has-access-already");c("access-updated")}}({flowEventType:j,isNotifyingAction:g,isMutatingAction:f,stagedGeneralAccessLevel:E,principalsMap:b,showWarnRestrictionsDialog:N,showResolveRestrictionsDialog:U,doNotNotifyGroups:P,userCanEditRestrictions:h,successFlag:u,isUnpublishedDraft:k}),!(0,a("6mKj3").expValEquals)("persistence_specific_access_gate","cohort","experiment"))return void m();await O()}};e.exports.useCtaFlowController=e=>{let t=(0,r.useRef)(null),{cloudId:s}=(0,a("bQm3c").useSessionData)(),i=t.current;if(null!==i)return i;let o=function(e,t){let a,[r,s]=(a=null,[e=>new Promise(t=>{a=a=>{e.includes(a.type)&&t(a)}}),e=>{a&&(a(e),a=null)}]);return n(r,e,t),s}(e,s);return t.current=o,o}}),r("3Ipyu",function(e,t){var r=a("3u0dr"),n=a("frIzR"),s=a("42omo"),i=a("4adOe");let o=(0,r.isReactCompilerActiveV1)()?function(){let e,t=(0,n.c)(3),{isExistingUser:a}=c(),{isSpotlightActive:r}=l();if(a){let e;return t[0]!==r?(e={showSpotlight:r},t[0]=r,t[1]=e):e=t[1],e}return t[2]===Symbol.for("react.memo_cache_sentinel")?(e={showSpotlight:!1},t[2]=e):e=t[2],e}:function(){let{isExistingUser:e}=c(),{isSpotlightActive:t}=l();return e?{showSpotlight:t}:{showSpotlight:!1}},l=(0,r.isReactCompilerActiveV1)()?function(){let e,t,r,o,l,c=(0,n.c)(12),d=a("eoU1C").ONBOARDING_SHARE_AND_RESTRICT_DIALOG.GENERAL_AND_SPECIFIC_ACCESS_SEEN,[u,p]=(0,s.useState)(!1),{data:m,loading:f,error:g}=(0,a("ivb8S").useGetOnboardingState)(d),{createAnalyticsEvent:h}=(0,a("inPa6").useAnalyticsEvents)();return c[0]!==m||c[1]!==f||c[2]!==g?(e=()=>{!m||f||g||m?.onboardingState?.find(e=>e.key===d)?.value!=="true"&&p(!0)},t=[m,f,g,d],c[0]=m,c[1]=f,c[2]=g,c[3]=e,c[4]=t):(e=c[3],t=c[4]),(0,s.useEffect)(e,t),c[5]!==h||c[6]!==f||c[7]!==g?(r=()=>{g&&!f&&h({type:"sendTrackEvent",data:{source:i.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,actionSubject:d,action:"spotlight failed"}}).fire()},o=[d,g,f,h],c[5]=h,c[6]=f,c[7]=g,c[8]=r,c[9]=o):(r=c[8],o=c[9]),(0,s.useEffect)(r,o),c[10]!==u?(l={isSpotlightActive:u},c[10]=u,c[11]=l):l=c[11],l}:function(){let e=a("eoU1C").ONBOARDING_SHARE_AND_RESTRICT_DIALOG.GENERAL_AND_SPECIFIC_ACCESS_SEEN,[t,r]=(0,s.useState)(!1),{data:n,loading:o,error:l}=(0,a("ivb8S").useGetOnboardingState)(e),{createAnalyticsEvent:c}=(0,a("inPa6").useAnalyticsEvents)();return(0,s.useEffect)(()=>{!n||o||l||n?.onboardingState?.find(t=>t.key===e)?.value!=="true"&&r(!0)},[n,o,l,e]),(0,s.useEffect)(()=>{l&&!o&&c({type:"sendTrackEvent",data:{source:i.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,actionSubject:e,action:"spotlight failed"}}).fire()},[e,l,o,c]),{isSpotlightActive:t}},c=()=>{let{cloudId:e,userId:t}=(0,a("bQm3c").useSessionData)(),{data:r,loading:n,error:s}=(0,a("gqypm").useExperimentalSiteUserPersonalization)({variables:{cloudId:e,userId:t??""},skip:!t||!e});if(n||s)return{isExistingUser:!1};let i=r?.experimentalSiteUserPersonalization?.attributes,o=i?.find(({name:e})=>"confluence_first_active"===e)?.value,l=Date.now(),c=new Date(o??"");return isNaN(c.getTime())||isNaN(l)?{isExistingUser:!1}:{isExistingUser:Math.floor(Math.abs(l-c.getTime())/864e5)>7}};e.exports.useShouldShowSpotlight=o}),r("ivb8S",function(e,t){var r=a("42omo"),n=a("j1Ss3");let s=()=>(0,a("gEtAQ").isViewPage)()||(0,a("gEtAQ").isBlogPage)(),i=()=>(0,a("dPJCf").useRouteName)({selector:e=>e===a("1NBp8").VIEW_PAGE.name||e===a("1NBp8").VIEW_BLOG.name||e===a("1NBp8").VIEW_BLOG_DATE_LEGACY.name}),o=()=>{try{return(0,a("9PBjm").getApolloCache)().readQuery({query:a("66UJS").getOnboardingStateGQL,variables:{key:a("9xoMO").OnboardingKeysCombined}})}catch{return null}},l=e=>(!!Array.isArray(e)||"string"==typeof e)&&e.length>0;e.exports.deserializeState=e=>{let t={},{onboardingState:a}=e||{};return null!=a&&a.forEach(({key:e,value:a})=>{let r=e.split(":")[1]||e;a&&(/(true|false)/g.test(a)?t[r]="true"===a:t[r]=a)}),t},e.exports.useSetOnboardingState=()=>{let[e,{error:t,called:s}]=(0,n.useMutation)((0,a("eSUdr").default)`mutation onboardingStateSetOnboardingStateMutation($states:[OnboardingStateInput!]!){setOnboardingState(states:$states){key value}}`,{update(e,{data:t}){t.setOnboardingState.forEach(({key:t,value:r})=>{e.writeFragment({id:`OnboardingState:${t}`,fragment:(0,a("eSUdr").default)`fragment myKey on OnboardingState{key value}`,data:{key:t,value:r,__typename:"OnboardingState"}})})},onError:e=>{(0,a("cbOce").isExpectedError)(e)&&(0,a("7Sm4c").markErrorAsHandled)(e)}});return{setOnboardingState:(0,r.useCallback)(t=>{let a;e({variables:{states:a=Array.isArray(t)?t:[t]},optimisticResponse:{setOnboardingState:a.map(({key:e,value:t})=>({key:e,value:t,__typename:"OnboardingState"}))}})},[e]),error:t,called:s}},e.exports.getOnboardingStateFromCache=e=>{let t=s()&&(0,a("6mKj3").expVal)("confluence_centralized_onboarding_state","isEnabled",!1)?{key:a("9xoMO").OnboardingKeysCombined}:{key:e},r=(0,a("9PBjm").getApolloCache)().readQuery({query:a("66UJS").getOnboardingStateGQL,variables:t});return(0,a("6mKj3").expVal)("confluence_centralized_onboarding_state","isEnabled",!1)&&s()&&r?(0,a("1cHqV").filterOnboardingState)(r,e):r},e.exports.useGetOnboardingState=(e,t=!1)=>{let{isLicensed:s,isGuest:c}=(0,a("8Lx5S").useAccessStatus)(),d=i(),u=l(e),p=d&&(0,a("6mKj3").expVal)("confluence_centralized_onboarding_state","isEnabled",!1)?o():null,m=null!==p,{data:f,error:g,loading:h,refetch:E}=(0,n.useQuery)((0,a("6mKj3").expVal)("confluence_consolidate_onboarding_state_queries","isEnabled",!1)?(0,a("eSUdr").default)`query GetOnboardingState($key:[String]){onboardingState(key:$key){key value}}`:(0,a("eSUdr").default)`query onboardingStateGetOnboardingStateQuery($key:[String]){onboardingState(key:$key){key value}}`,{variables:{key:e},skip:t||!(s||c)||!u||m});return{data:(0,r.useMemo)(()=>m?(0,a("1cHqV").filterOnboardingState)(p,e):f,[m,p,f,e]),error:g,loading:h,refetch:E}}}),r("9PBjm",function(e,t){e.exports.getApolloCache=function(){return a("eHj6r").apolloCache}}),r("8Lx5S",function(e,t){let r=e=>e===a("d9tcB").AccessStatus.LICENSED_ADMIN_ACCESS||e===a("d9tcB").AccessStatus.LICENSED_USE_ACCESS,n=e=>e===a("d9tcB").AccessStatus.LICENSED_ADMIN_ACCESS,s=e=>e===a("d9tcB").AccessStatus.LICENSED_USE_ACCESS,i=e=>e===a("d9tcB").AccessStatus.EXTERNAL_COLLABORATOR_ACCESS;e.exports.useIsLicensed=()=>{let{accessStatus:e}=(0,a("bQm3c").useSessionData)();return r(e)},e.exports.useIsAdmin=()=>{let{accessStatus:e}=(0,a("bQm3c").useSessionData)();return n(e)},e.exports.useIsGuest=()=>{let{accessStatus:e}=(0,a("bQm3c").useSessionData)();return i(e)},e.exports.useAccessStatus=()=>{let{accessStatus:e}=(0,a("bQm3c").useSessionData)();return{isGuest:i(e),isLicensed:r(e),isAdmin:n(e),isLicensedNonAdmin:s(e)}}}),r("cbOce",function(e,t){e.exports.isExpectedError=function(e){return e?.graphQLErrors?.[0]?.message==="unauthorized"||(0,a("1uFM6").isUnauthorizedError)(e)||(0,a("6fil2").containsNetworkError)(e)}}),r("9xoMO",function(e,t){let r=[...a("2wUAJ").StorageEnforcementOnboardingKeys,...a("dBcar").OnboardingKeys,...a("gxTpP").ContextualInviteNudgeOnboardingKeys,...a("5cryL").EditorOnboardingKeys,...a("d282Z").InsightsOnboardingKeys,...a("isKLx").SpaceMissionControlOnboardingKeys,...a("h86CY").PresenceAdminFeedbackSurveyOnboardingKeys,...a("jbYIt").RoleBasedAccessControlOnboardingKeys,...a("ccGoc").RovoVideoPlayerStateOnboardingKeys,...a("eoU1C").ShareAndRestrictDialogOnboardingKeys,...a("6eN5W").TrialComponentsOnboardingKeys,...a("1gy7x").PersonalizedTemplatesOnboardingKeys,...a("9DBk6").LiveDocsOnboardingKeys,...a("b4VFP").HomeTakeoverOnboardingKeys,...a("lohHj").FeedOnboardingKeys,...a("da9fp").OptionalNthUserGuidedTourOnboardingKeys,...a("d0hiC").LandInSpampleSpaceOnboardingKeys,...a("kNKrY").CreateIntroFirstStepOnboardingStateKeys,...a("eAuT4").NotesOnboardingSpotlightKeys,...a("lIcXr").NewContentHistoryOnboardingStateKeys,...a("bPDOf").AIFCOnboardingKeys,...a("eyUJP").NthUserHomeOnboardingRevampKeys,...a("9qLVv").RovoAwarenessOnboardingKeys,...a("eC276").ExportJiraContextToPageTourKeys,...a("fsF73").ConfluenceRecapOnboardingKeys];e.exports.OnboardingKeysCombined=r}),r("dBcar",function(e,t){let a="onboarding-state:",r="nthUserOnboardingCompletedTimestamp",n="nthUserOnboardingFlagViewed",s="nthUserOnboardingPageViewed",i="nthUserGSPagePath",o={ONBOARDING_INTENT_EXPERIENCES_CLOSED:"onboarding-intent-experiences:onboardingIntentExperienceClosed",ONBOARDING_EXPERIENCE_ELIGIBLE:"onboarding-intent-experience:isOnboardingExperienceEligibleUser",ONBOARDING_INTENT_EXPERIENCES_LAND_NEW_HOME_VIEWED_AT:"onboarding-intent-experiences:onboardingIntentExperienceLandViewedAt",ONBOARDING_INTENT_EXPERIENCES_LAND_NEW_HOME_CLOSED:"onboarding-intent-experiences:onboardingIntentExperienceLandClosed"},l={EXPERIMENT_ELIGIBLE:"templates-collection:isTaggedForTemplatesCollectionExperiment",EXPERIMENT_DISMISSED:"templates-collection:isTemplatesSectionDismissed"},c="nav4:isNav4GlobalSpotlightDismissed",d="nav4:isNav4SpaceTourDismissed",u="nav4:isNav4CollapseReminderSpotlightDismissed",p="creation-focused-nav:shouldShowSpotlight",m="creation-focused-nav:startTime",f={BULK_ACTIONS_CHANGEBOARDING_SPOTLIGHT_DISMISSED:"content-tree-bulk-actions:isBulkActionsChangeboardingSpotlightDismissed"},g={HAS_DISMISSED_MODAL:"modernize-confluence-ipm-modal:hasDismissedModernizeConfluenceIpmModal",HAS_DISMISSED_BANNER:"modernize-confluence-ipm-modal:hasDismissedModernizeConfluenceBanner"},h={HAS_SEEN_SPLASH_MODAL:"create-with-rovo-announcement-splash:hasSeenSplashModal"},E={NTH_USER_SELECTED_CONTENT_TYPE:"nth-user-setup:nthUserSelectedContentType",NTH_USER_CONTENT_TYPE_SPOTLIGHT_SEEN:"nth-user-setup:nthUserContentTypeSpotlightSeen",NTH_USER_CONTENT_TYPE_POPULAR_CONTENT_FOUND:"nth-user-setup:nthUserContentTypePopularContentFound",NTH_USER_CONTENT_TYPE_LANDING_CONTENT_ID:"nth-user-setup:nthUserContentTypeLandingContentId"},b={PROMPT_DISMISSED:"prompt-whiteboard-competitor-link:isPromptDismissed"},_={DISMISSED:"prompt-database-competitor-link:isPromptDatabaseDismissed"},y={HAS_AUTO_FOLLOWED_SPACES:"nth-user-auto-follow-spaces:hasAutoFollowedSpaces"},v={HAS_AUTO_FOLLOWED_TEAMMATES:"nth-user-auto-follow-teammates:hasAutoFollowedTeammates",AUTO_FOLLOW_BANNER_DISMISSED:"nth-user-auto-follow-teammates:autoFollowBannerDismissed",AUTO_FOLLOW_BANNER_SHOWN_AT:"nth-user-auto-follow-teammates:autoFollowBannerShownAt"},S={REVAMPED_BPQA_SHOWN_AT:"land-users-in-editor-with-revamped-bpqa:revampedBpqaShownAt"},A="revamped-bpqa:foundingAdminRevampedBpqaEligible",C={SELECTED_TEMPLATES:"use-cases-nth-user-onboarding:selectedTemplates",VIEWED_AT:"use-cases-nth-user-onboarding:viewedAt",DISMISSED_HEADER:"use-cases-nth-user-onboarding:headerDismissed",VIEWED_HEADER:"use-cases-nth-user-onboarding:headerViewedAt"},I={EMOJI_TITLE_DISCOVERED:"auto-page-emoji:emojiTitleDiscovered"},T={INTRO_WORKFLOW:`${a}introWorkflow`,LEGACY_ONBOARDING_STATE:`${a}legacy`,IS_FOUNDING_ADMIN:`${a}isFoundingAdmin`,IS_SAMPLE_CONTENT_V2_SPOTLIGHT_VISIBLE:`${a}isSampleContentV2SpotlightVisible`,LAND_ON_PATH:`${a}landOnPath`,TEAM_SPACE_CREATED:`${a}teamSpaceCreated`,IS_MORE_ACTIONS_TOUR_VISIBLE:`${a}isMoreActionsTourVisible`,IS_MORE_ACTIONS_HINT_VISIBLE:`${a}isMoreActionsHintVisible`,IMPROVED_GET_STARTED_PATH:`${a}improvedGetStartedPath`,IMPROVED_GET_STARTED_WHITEBOARD_PATH:`${a}improvedGetStartedWhiteboardPath`,IMPROVED_GET_STARTED_NTH_USER_PATH:`${a}${i}`,IS_REDACTIONS_TOUR_VISIBLE:`${a}isRedactionsTourVisible`,XFLOW_SPACE_CREATED:`${a}xflowSpaceCreated`,TEMPLATE_ONBOARDING_VIEWED_TIME:`${a}templateOnboardingViewedTime`,NTH_USER_ONBOARDING_COMPLETED_TIMESTAMP:`${a}${r}`,NTH_USER_ONBOARDING_FLAG_VIEWED:`${a}${n}`,NTH_USER_ONBOARDING_PAGE_VIEWED:`${a}${s}`,NTH_USER_BANNER_DISMISSED:`${a}nthUserBannerDismissed`},{LEGACY_ONBOARDING_STATE:x}=T,k=[...Object.values(o),...Object.values({MODAL_SEEN:"onboarding-reverse-trial:isModalSeen"}),...Object.values(l),...Object.values({IS_DISMISSED:"space-getting-started-tour:tourIsDismissed"}),...Object.values({HAS_INVITE_CAPABILITIES:"persistent-invite:hasInviteCapabilities"}),c,d,u,p,m,A,...Object.values({IS_SPOTLIGHT_DISMISS:"whats-new-in-confluence:isWhatsNewInConfluneceSpotlightDismissed",PULSE_SEEN_AT:"whats-new-in-confluence:whatsNewInConfluencePulseSeenAt"}),...Object.values(g),...Object.values(h),...Object.values(E),...Object.values(b),...Object.values(_),...Object.values(T),...Object.values(f),...Object.values(y),...Object.values(v),...Object.values(S),...Object.values(C),...Object.values(I)];e.exports.PEOPLE="peopleNudge",e.exports.NTH_USER_ONBOARDING_COMPLETED_TIMESTAMP=r,e.exports.NTH_USER_ONBOARDING_FLAG_VIEWED=n,e.exports.NTH_USER_ONBOARDING_PAGE_VIEWED=s,e.exports.IMPROVED_GET_STARTED_NTH_USER_PATH=i,e.exports.HELP="help",e.exports.ONBOARDING_INTENT_EXPERIENCES=o,e.exports.TEMPLATES_COLLECTION=l,e.exports.IS_NAV_4_GLOBAL_SPOTLIGHT_DISMISSED=c,e.exports.IS_NAV_4_SPACE_TOUR_DISMISSED=d,e.exports.IS_NAV_4_COLLAPSE_REMINDER_SPOTLIGHT_DISMISSED=u,e.exports.CREATION_FOCUSED_NAV_SHOULD_SHOW_SPOTLIGHT=p,e.exports.CREATION_FOCUSED_NAV_START_TIME=m,e.exports.CONTENT_TREE_BULK_ACTIONS=f,e.exports.MODERNIZE_CONFLUENCE_IPM_MODAL=g,e.exports.CREATE_WITH_ROVO_ANNOUNCEMENT_SPLASH=h,e.exports.NTH_USER_SETUP_CONTENT_TYPE=E,e.exports.PROMPT_WHITEBOARD_COMPETITOR_LINK_DISMISSED=b,e.exports.PROMPT_DATABASE_COMPETITOR_LINK=_,e.exports.NTH_USER_AUTO_FOLLOW_SPACES=y,e.exports.NTH_USER_AUTO_FOLLOW_TEAMMATES=v,e.exports.LAND_USERS_IN_EDITOR_WITH_REVAMPED_BPQA=S,e.exports.FOUNDING_ADMIN_REVAMPED_BPQA_ELIGIBLE=A,e.exports.USE_CASES_NTH_USER_ONBOARDING=C,e.exports.NTH_USER_EMOJI_TITLE_DISCOVERED=I,e.exports.ONBOARDING_EXPERIENCES=T,e.exports.COMPLETE="__complete__",e.exports.OnboardingKeys=k}),r("gxTpP",function(e,t){let a={EXPERIMENT_ELIGIBLE_TAG:"onboarding-contextual-invite-nudge:contextualInviteNudgeEligibleTag",WAS_CONFETTI_SEEN:"onboarding-contextual-invite-nudge:wasFirstPublishConfettiSeen"},r=[...Object.values(a)];e.exports.CONTEXTUAL_INVITE_NUDGE=a,e.exports.ContextualInviteNudgeOnboardingKeys=r}),r("5cryL",function(e,t){let a={EDITOR_ONBOARDING_ELIGIBLE_NEW:"editor-state:editorOnboardingEligiblity",EDITOR_VISITED:"editor-state:editorVisited",WAS_DRAFT_BANNER_SEEN:"editor-state:wasDraftBannerSeen",IS_DRAFT_BANNER_VISIBLE:"editor-state:isDraftBannerVisible",IS_LAND_IN_EDITOR_BANNER_VISIBLE:"editor-state:isLandInEditorBannerVisible",HAS_USER_PUBLISHED:"editor-state:hasUserPublished",SUCCESS_FLAG_SEEN:"editor-state:successFlagCompleted",RECENT_SPOTLIGHT_OPEN:"editor-state:recentSpotlightOpen",RECENT_SPOTLIGHT_SEEN:"editor-state:recentSpotlightCompleted",EDITOR_TUTORIAL_SUCCESS_FLAG_SEEN:"editor-state:editorTutorialSuccessFlagCompleted",WAS_EDITOR_CONVERSION_DIALOG_SEEN:"editor-state:wasEditorConversionModalSeen"},r="com.atlassian.confluence.plugins.confluence-onboarding:using-the-editor-template-blueprint",n="com.atlassian.confluence.plugins.confluence-onboarding:using-the-editor-template-v2-blueprint",s=[...Object.values(a),r,n];e.exports.EDITOR_ONBOARDING_STATE_KEYS=a,e.exports.EDITOR_ONBOARDING_BLUEPRINT_KEY=r,e.exports.EDITOR_ONBOARDING_BLUEPRINT_KEY_LIVE_DOCS_ENABLED=n,e.exports.ONBOARDING_TUTORIAL_LABEL="editor-onboarding",e.exports.EditorOnboardingKeys=s}),r("da9fp",function(e,t){let a={tourSeenAt:"optional-nth-user-guided-tour:tourSeenAt",hasDismissedTour:"optional-nth-user-guided-tour:hasDismissedTour",hasCompletedTour:"optional-nth-user-guided-tour:hasCompletedTour",hasSeenFinishNudge:"optional-nth-user-guided-tour:hasSeenFinishNudge",isEnrolledAsNewUser:"optional-nth-user-guided-tour:isEnrolledAsNewUser"},r=[...Object.values(a)];e.exports.OPTIONAL_NTH_USER_GUIDED_TOUR_ONBOARDING_STATE_KEYS=a,e.exports.OptionalNthUserGuidedTourOnboardingKeys=r}),r("lohHj",function(e,t){let a="onboarding-popular-feed-card:isDismissed";e.exports.ONBOARDING_POPULAR_FEED_CARD_SEEN_KEY=a,e.exports.FeedOnboardingKeys=[a]}),r("b4VFP",function(e,t){let a={hasSeenHomeNudge:"home-onboarding-takeover-v2:hasSeenHomeNudge",isHomeNudgeScheduledAt:"home-onboarding-takeover-v2:isHomeNudgeScheduledAt",takeoverSeenAt:"home-onboarding-takeover-v2:takeoverSeenAt",onboardingActionStates:"home-onboarding-takeover-v2:onboardingActionStates",isCollapsed:"home-onboarding-takeover-v2:isCollapsed",hasSeenConfetti:"home-onboarding-takeover-v2:hasSeenConfetti",hasDismissedCarousel:"home-onboarding-takeover-v2:hasDismissedCarousel",hasDismissedLearningResources:"home-onboarding-takeover-v2:hasDismissedLearningResources",hasDismissedTakeover:"home-onboarding-takeover-v2:hasDismissedTakeover"},r=Object.values(a);e.exports.HOME_ONBOARDING_TAKEOVER_V2_ONBOARDING_STATE_KEYS=a,e.exports.HomeTakeoverOnboardingKeys=r}),r("d282Z",function(e,t){let a={CONTEXTUAL_FLOATING_BUTTON_NUDGE:"onboarding-insights:hasContextualFloatingButtonBeenSeen",AUDIO_BRIEFING:"onboarding-insights:hasAudioBriefingChangeboardingBeenSeen"},r=[...Object.values(a)];e.exports.ONBOARDING_INSIGHTS=a,e.exports.InsightsOnboardingKeys=r}),r("d0hiC",function(e,t){let a=[...Object.values({hasDismissedBanner:"land-in-sample-space:hasDismissedBanner",hasSeenSampleContentFlag:"land-in-sample-space:hasSeenSampleContentFlag"})];e.exports.LandInSpampleSpaceOnboardingKeys=a}),r("9DBk6",function(e,t){let a={hasDismissedIntroSpotlight:"onboarding-live-doc-changeboarding:hasDismissedIntroSpotlight",hasDismissedLiveDocTour:"onboarding-live-doc-changeboarding:hasDismissedLiveDocTour",hasDismissedLiveDocModal:"onboarding-live-doc-changeboarding:hasDismissedLiveDocModal",hasDismissedContentWrapperTour:"onboarding-live-doc-changeboarding:hasDismissedContentWrapperTour",hasDismissedAiButtonTour:"onboarding-live-doc-changeboarding:hasDismissedAiButtonTour",hasDismissedConvertToPageSpotlight:"onboarding-live-doc-changeboarding:hasDismissedConvertToPageSpotlight"},r={LIVE_PAGE_CONTEXTUAL_NUDGE_SEEN:"live-page-nudge:wasLivePageNudgeSeen",LIVE_PAGE_CONTEXTUAL_NUDGE_ELIGIBLE:"live-page-nudge:shareNudgeSpotlightEligible",LIVE_PAGE_INVITE_INELIGIBLE:"live-page-nudge:livePageNudgeInviteIneligible"},n=[...Object.values(a),...Object.values(r)];e.exports.LIVE_DOC_CHANGEBOARDING_ONBOARDING_STATE_KEYS=a,e.exports.LIVE_PAGE_NUDGE=r,e.exports.LiveDocsOnboardingKeys=n}),r("isKLx",function(e,t){let a={SPACE_SETTINGS_CHANGEBOARDING_FIRST_SEEN_AT:"space-mission-control-onboarding:spaceSettingsChangeboardingFirstSeenAt",SPACE_SETTINGS_CHANGEBOARDING_DISMISSED_AT:"space-mission-control-onboarding:spaceSettingsChangeboardingDismissedAt"},r=[...Object.values(a)];e.exports.ONBOARDING_SPACE_MISSION_CONTROL=a,e.exports.SpaceMissionControlOnboardingKeys=r}),r("1gy7x",function(e,t){let a={onboardingActionStates:"personalized-templates-v2:onboardingActionStates",hasDismissedOnboardingActions:"personalized-templates-v2:hasDismissedOnboardingActions",takeoverSeenAt:"personalized-templates-v2:takeoverSeenAt",isTemplateListDismissed:"personalized-templates-v2:isTemplateListDismissed",templateUsageValues:"personalized-templates-v2:templateUsageValues"},r=[...Object.values(a)];e.exports.PERSONALIZED_TEMPLATES_V2_ONBOARDING_STATE_KEYS=a,e.exports.PersonalizedTemplatesOnboardingKeys=r}),r("h86CY",function(e,t){let a={PRESENCE_ADMIN_FEEDBACK_SEEN:"presence-feedback-survey:hasAdminSeenFeedbackSurvey"},r=[...Object.values(a)];e.exports.ONBOARDING_PRESENCE_ADMIN_FEEDBACK_SURVEY_KEYS=a,e.exports.PresenceAdminFeedbackSurveyOnboardingKeys=r}),r("jbYIt",function(e,t){let a={USERS_TABLE_SPOTLIGHT_SEEN:"RoleBasedAccessControl:usersTableSpotlightSeen",DEFAULTS_ROLE_TABLE_MODAL_SEEN:"RoleBasedAccessControl:defaultsRoleTableModalSeen",PRODUCT_ADMIN_MODAL_SEEN:"RoleBasedAccessControl:productAdminModalSeen",DEFAULT_ROLE_TABLE_SPOTLIGHT_SEEN:"RoleBasedAccessControl:defaultRoleTableSpotlightSeen",CUSTOM_ROLE_PAGE_SPOTLIGHT_SEEN:"RoleBasedAccessControl:customRolePageSpotlightSeen"},r=[...Object.values(a)];e.exports.ONBOARDING_ROLE_BASED_ACCESS_CONTROL=a,e.exports.RoleBasedAccessControlOnboardingKeys=r}),r("ccGoc",function(e,t){let a={ROVO_VIDEO_PLAYER_SEEN:"onboarding-rovo-video-player:rovoVideoPlayerSeen"},r=[...Object.values(a)];e.exports.ONBOARDING_ROVO_VIDEO_PLAYER_STATE_KEYS=a,e.exports.RovoVideoPlayerStateOnboardingKeys=r}),r("eoU1C",function(e,t){let a={DIALOG_SPOTLIGHT_SEEN:"random:ShareAndRestrictDialog:spotlightSeen",PUBLIC_LINK_FOOTER_BUTTON_SEEN:"ShareAndRestrictDialog:editPublicLinkFooterSpotLightSeen",EDIT_PUBLIC_LINK_PERMISSION_SEEN:"ShareAndRestrictDialog:editPublicLinkPermissionSpotLightSeen",GENERAL_AND_SPECIFIC_ACCESS_SEEN:"ShareAndRestrictDialog:generalAndSpecificAccessSpotLightSeen",CTA_NOTIFY_MESSAGE_FOOTER_SEEN:"ShareAndRestrictDialog:ctaNotifyMessageFooterSpotLightSeen"},r=[...Object.values(a)];e.exports.ONBOARDING_SHARE_AND_RESTRICT_DIALOG=a,e.exports.ShareAndRestrictDialogOnboardingKeys=r}),r("2wUAJ",function(e,t){let a={FLAGS_DISMISSED_FREE_THRESHOLD:"storage-enforcement-state:flagsDismissedFreeThreshold"},r=[...Object.values(a)];e.exports.STORAGE_ENFORCEMENT_STATE_KEYS=a,e.exports.StorageEnforcementOnboardingKeys=r}),r("6eN5W",function(e,t){let a={ACTION_MENU_OPENED:"trial-components:actionMenuOpened",GRACE_PERIOD_BANNER_DISMISSED:"trial-components:trialGracePeriodBannerDismissed",TRIAL_1_DAY_FLAG_DISMISSED:"trial-components:dismissedTrial1DayFlag",TRIAL_3_DAY_FLAG_DISMISSED:"trial-components:dismissedTrial3DayFlag",GRACE_PERIOD_0_DAY_FLAG_DISMISSED:"trial-components:dismissedPredunning0DayFlag",GRACE_PERIOD_1_DAY_FLAG_DISMISSED:"trial-components:dismissedPredunning1DayFlag",GRACE_PERIOD_2_DAY_FLAG_DISMISSED:"trial-components:dismissedPredunning2DayFlag",GRACE_PERIOD_3_DAY_FLAG_DISMISSED:"trial-components:dismissedPredunning3DayFlag",TRIAL_UNHANDLED_DAY_FLAG_DISMISSED:"trial-components:dismissedTrialUnhandledDayFlag"},r=[...Object.values(a)];e.exports.TRIAL_COMPONENTS_EXPERIENCES=a,e.exports.TrialComponentsOnboardingKeys=r}),r("kNKrY",function(e,t){let a=[...Object.values({headerSeenAt:"create-intro-first-step:headerSeenAt",headerCompleted:"create-intro-first-step:headerCompleted",headerDismissed:"create-intro-first-step:headerDismissed"})];e.exports.CreateIntroFirstStepOnboardingStateKeys=a}),r("eAuT4",function(e,t){let a={SPOTLIGHT_DISMISSED:"notes-onboarding:hasSpotlightDismissed"},r=[...Object.values(a)];e.exports.NOTES_ONBOARDING_SPOTLIGHT=a,e.exports.NotesOnboardingSpotlightKeys=r}),r("lIcXr",function(e,t){let a={HAS_SEEN_SPOTLIGHT:"new-content-history-onboarding:hasSeenSpotlight"},r=[...Object.values(a)];e.exports.NEW_CONTENT_HISTORY_ONBOARDING_STATE_KEYS=a,e.exports.NewContentHistoryOnboardingStateKeys=r}),r("bPDOf",function(e,t){let a={hasSeenAIFCSpotlight:"aifc-onboarding:hasSeenAIFCSpotlight",isAIFCSpotlightActive:"aifc-onboarding:isAIFCSpotlightActive",hasSeenWhiteboardSmartCreateSpotlight:"aifc-onboarding:hasSeenWhiteboardSmartCreateSpotlight",hasSeenTrackChangesStreamingSpotlight:"aifc-onboarding:hasSeenTrackChangesStreamingSpotlight",isAIFCChatSpotlightActive:"aifc-onboarding:isAIFCChatSpotlightActive",hasSeenAIFCChatSpotlight:"aifc-onboarding:hasSeenAIFCChatSpotlight",hasDismissedGettingStartedTour:"aifc-onboarding:hasDismissedGettingStartedTour"},r=[...Object.values(a)];e.exports.AIFC_ONBOARDING_STATE_KEYS=a,e.exports.AIFCOnboardingKeys=r}),r("eyUJP",function(e,t){let a={onboardingActionStates:"nth-user-home-onboarding-revamp:onboardingActionStates",areAllActionsDismissed:"nth-user-home-onboarding-revamp:areAllActionsDismissed",takeoverSeenAt:"nth-user-home-onboarding-revamp:takeoverSeenAt",isTemplateListDismissed:"nth-user-home-onboarding-revamp:isTemplateListDismissed",templateUsageValues:"nth-user-home-onboarding-revamp:templateUsageValues"},r=[...Object.values(a)];e.exports.NTH_USER_HOME_ONBOARDING_REVAMP_ONBOARDING_STATE_KEYS=a,e.exports.NthUserHomeOnboardingRevampKeys=r}),r("9qLVv",function(e,t){let a={hasDismissedHomeBanner:"rovo-awareness:hasDismissedHomeBanner"},r=[...Object.values(a)];e.exports.ROVO_AWARENESS_ONBOARDING_STATE_KEYS=a,e.exports.RovoAwarenessOnboardingKeys=r}),r("eC276",function(e,t){let a={TOUR_COMPLETED:"random:ExportJiraContextToPage:tourCompleted",TOUR_DISMISSED:"random:ExportJiraContextToPage:tourDismissed"},r=[...Object.values(a)];e.exports.EXPORT_JIRA_CONTEXT_TO_PAGE_TOUR=a,e.exports.ExportJiraContextToPageTourKeys=r}),r("fsF73",function(e,t){let a={HAS_SEEN_PUBLISH_SPOTLIGHT:"confluence-recap:hasSeenPublishSpotlight"},r=[...Object.values(a)];e.exports.CONFLUENCE_RECAP_ONBOARDING_STATE_KEYS=a,e.exports.ConfluenceRecapOnboardingKeys=r}),r("1cHqV",function(e,t){let a=new WeakMap,r=e=>Array.isArray(e)?e.join(","):e,n=(e,t)=>{let a=new Set(Array.isArray(t)?t:[t]);return{...e,onboardingState:e.onboardingState.filter(({key:e})=>{let t=e.split(":")[1]||e;return a.has(e)||a.has(t)})}};e.exports.filterOnboardingState=(e,t)=>{if(!e?.onboardingState)return e??void 0;let s=r(t),i=a.get(e);if(i||(i=new Map,a.set(e,i)),i.has(s))return i.get(s);let o=n(e,t);return i.set(s,o),o}}),r("66UJS",function(e,t){let r=(0,a("eSUdr").default)`query GetOnboardingState($key:[String]){onboardingState(key:$key){key value}}`,n=(0,a("eSUdr").default)`mutation SetOnboardingState($states:[OnboardingStateInput!]!){setOnboardingState(states:$states){key value}}`;e.exports.getOnboardingStateGQL=r,e.exports.setOnboardingStateGQL=n}),r("gqypm",function(e,t){e.exports.useExperimentalSiteUserPersonalization=({variables:e,skip:t})=>(0,a("dK51B").useExperimentalQuery)({url:({cloudId:e,userId:t})=>`/gateway/api/tap-delivery/api/v3/personalization/site/${e}/user/${t}`,method:"GET",variables:e,parseResult:e=>({experimentalSiteUserPersonalization:{attributes:(0,a("CIjCq").stringifyPersonalizationAttributes)(e.attributes)}}),skip:t})}),r("dK51B",function(e,t){var r=a("42omo");function n({key:e,fetchData:t,onCompleted:n,onError:s,transformError:i,skip:o=!1,fetchPolicy:l="cache-first",pollInterval:c}){let{queryState:d,execute:u,refetch:p,stopPolling:m}=(0,a("fqCbQ").useExperimentalQueryExecution)({key:e,fetchData:t,onCompleted:n,onError:s,transformError:i,fetchPolicy:l,isLazyQuery:!1,pollInterval:c,isSSR:!1});return((0,r.useEffect)(()=>{o||u()},[u,e,o,l,!1]),o)?{...a("7ji4X").INITIAL_IDLE_STATE,refetch:p,stopPolling:m}:d?{...d,refetch:p,stopPolling:m}:{...a("7ji4X").INITIAL_LOADING_STATE,refetch:p,stopPolling:m}}e.exports.useExperimentalQuery=function({url:e,method:t,headers:r,body:s,variables:i,credentials:o,parseResult:l,parseResponseOnSuccess:c,parseResponseOnError:d,onCompleted:u,onError:p,transformError:m,skip:f=!1,fetchPolicy:g="cache-first",pollInterval:h}){let{fetchData:E}=(0,a("1GTIR").useFetchData)({url:e,method:t,headers:r,body:s,credentials:o,variables:i,parseResult:l,parseResponseOnSuccess:c,parseResponseOnError:d});return n({key:(0,a("6l6jb").generateCacheKey)({url:e,method:t,headers:r,body:s,credentials:o,variables:i}),fetchData:E,variables:i,onCompleted:u,onError:p,transformError:m,skip:f,fetchPolicy:g,pollInterval:h})},e.exports.useExperimentalQueryBase=n}),r("CIjCq",function(e,t){e.exports.stringifyPersonalizationAttributes=function(e){return e?e.map(e=>({...e,value:String(e.value)})):[]}}),r("79vw2",function(e,t){e.exports.extractSmartLinkTitle=(e,t)=>(0,a("lyclm").isEntityPresent)(e)?(0,a("lyclm").extractEntity)(e)?.displayName:(0,a("hUifo").extractTitle)(e?.data,t),e.exports.extractSmartLinkUrl=e=>(0,a("lyclm").isEntityPresent)(e)?(0,a("lyclm").extractEntity)(e)?.url:(0,a("l6lJr").extractLink)(e?.data),e.exports.extractSmartLinkAri=e=>{if((0,a("lyclm").isEntityPresent)(e))return(0,a("lyclm").extractEntity)(e)?.ari||(0,a("lyclm").extractEntity)(e)?.thirdPartyAri;let t=e?.data;return(0,a("99WQy").extractAri)(t)},e.exports.extractSmartLinkEmbed=(e,t)=>{if((0,a("lyclm").isEntityPresent)(e)){let t=(0,a("lyclm").extractEntityEmbedUrl)(e);return t?{src:t}:void 0}return(0,a("9JHBV").extractPreview)(e?.data,"web",t)},e.exports.extractSmartLinkProvider=e=>(0,a("lyclm").isEntityPresent)(e)?(0,a("lyclm").extractEntityProvider)(e):e?.data&&(0,a("ccQw1").extractProvider)(e?.data),e.exports.extractSmartLinkCreatedOn=e=>(0,a("lyclm").isEntityPresent)(e)?(0,a("lyclm").extractEntity)(e)?.createdAt:e?.data&&(0,a("7MMjM").extractDateCreated)(e.data),e.exports.extractSmartLinkModifiedOn=e=>(0,a("lyclm").isEntityPresent)(e)?(0,a("lyclm").extractEntity)(e)?.lastUpdatedAt:e?.data&&(0,a("dsdUb").extractDateUpdated)(e.data),e.exports.extractSmartLinkCreatedBy=e=>{if(!e||!e.data)return;if((0,a("lyclm").isEntityPresent)(e))return(0,a("lyclm").extractEntity)(e)?.createdBy?.displayName;let t=(0,a("9WUug").extractPersonCreatedBy)(e.data);return t?.length?t[0].name:void 0},e.exports.extractSmartLinkAuthorGroup=e=>{if(e&&e.data){if((0,a("lyclm").isEntityPresent)(e)){let t=(0,a("lyclm").extractEntity)(e),r=t?.owners;if(r)return r.map(e=>({name:e.displayName,src:e.picture})).filter(e=>!!e)}return(0,a("9WUug").extractPersonCreatedBy)(e.data)}},e.exports.extractSmartLinkModifiedBy=e=>{if(!e||!e.data)return;if((0,a("lyclm").isEntityPresent)(e))return(0,a("lyclm").extractEntity)(e)?.lastUpdatedBy?.displayName;let t=(0,a("4sK6R").extractPersonUpdatedBy)(e.data);return t?t.name:void 0},e.exports.extractSmartLinkDownloadUrl=e=>{if((0,a("lyclm").isEntityPresent)(e)){let t=(0,a("lyclm").extractEntity)(e);return t&&"exportLinks"in t&&Array.isArray(t.exportLinks)&&t.exportLinks.length>0?t?.exportLinks?.[0].url:void 0}return e?.data?.["atlassian:downloadUrl"]}}),r("99WQy",function(e,t){e.exports.extractAri=e=>{if(e["atlassian:ari"])return e["atlassian:ari"]}}),r("7MMjM",function(e,t){e.exports.extractDateCreated=e=>{if(e["schema:dateCreated"])return e["schema:dateCreated"]}}),r("dsdUb",function(e,t){e.exports.extractDateUpdated=e=>{if(e.updated)return e.updated}}),r("l6lJr",function(e,t){e.exports.extractLink=e=>{let t=e?.url;if(t)if("string"==typeof t)return t;else return(0,a("kzBLz").extractUrlFromLinkJsonLd)(t)}}),r("kzBLz",function(e,t){let a=e=>"string"==typeof e?e:Array.isArray(e)?e.length>0?a(e[0]):void 0:e.href;e.exports.extractUrlFromLinkJsonLd=a}),r("9WUug",function(e,t){e.exports.extractPersonCreatedBy=e=>{let t=e.attributedTo;if(t)if(Array.isArray(t))return t.map(a("kzSaQ").extractPersonFromJsonLd).filter(e=>!!e);else{let e=(0,a("kzSaQ").extractPersonFromJsonLd)(t);if(e)return[e]}}}),r("kzSaQ",function(e,t){e.exports.extractPersonFromJsonLd=e=>{if("string"==typeof e)throw Error("Link.person needs to be an object.");if("Link"===e["@type"]){if(e.name)return{name:e.name}}else if(e.name)return{name:e.name,src:e.icon&&(0,a("8hlRK").extractUrlFromIconJsonLd)(e.icon)}}}),r("8hlRK",function(e,t){e.exports.extractUrlFromIconJsonLd=e=>"string"==typeof e?e:"Link"===e["@type"]?(0,a("kzBLz").extractUrlFromLinkJsonLd)(e):e.url?(0,a("kzBLz").extractUrlFromLinkJsonLd)(e.url):void 0}),r("4sK6R",function(e,t){e.exports.extractPersonUpdatedBy=e=>{let t=e["atlassian:updatedBy"];if(t)return(0,a("kzSaQ").extractPersonFromJsonLd)(t)}}),r("ccQw1",function(e,t){var r=a("l998X");a("42omo");let n=(e,t)=>{if(t){if(t===a("3fvfu").CONFLUENCE_GENERATOR_ID)return(0,r.jsx)(a("lAFHW").ConfluenceIcon,{appearance:"brand",size:"xxsmall",...(0,a("dh538").fg)("navx-1895-new-logo-design")?{shouldUseNewLogoDesign:!0}:void 0});else if(t===a("3fvfu").JIRA_GENERATOR_ID)return(0,r.jsx)(a("lAFHW").JiraIcon,{appearance:"brand",size:"xxsmall",...(0,a("dh538").fg)("navx-1895-new-logo-design")?{shouldUseNewLogoDesign:!0}:void 0})}if(e)return(0,a("8hlRK").extractUrlFromIconJsonLd)(e)},s=e=>{if(e){if("string"==typeof e)return e;else if("Link"===e["@type"])return(0,a("kzBLz").extractUrlFromLinkJsonLd)(e);else if("Image"===e["@type"]&&e.url)return(0,a("kzBLz").extractUrlFromLinkJsonLd)(e.url)}};e.exports.extractProvider=e=>{let t=e.generator;if(t){if("string"==typeof t)throw Error("Link.generator requires a name and icon.");else if("Link"===t["@type"]){if(t.name)return{text:t.name}}else if(t.name){let e=t["@id"];return{text:t.name,icon:n(t.icon,e),id:e,image:s(t.image)}}}},e.exports.extractProviderIcon=n,e.exports.isConfluenceGenerator=e=>e===a("3fvfu").CONFLUENCE_GENERATOR_ID}),r("3fvfu",function(e,t){e.exports.CONFLUENCE_GENERATOR_ID="https://www.atlassian.com/#Confluence",e.exports.JIRA_GENERATOR_ID="https://www.atlassian.com/#Jira"}),r("hUifo",function(e,t){e.exports.extractTitle=(e,t)=>{if(!e)return;let r=e.name?.replace(/[\r\n]+/g,""),n=e["@id"]||"",s=(0,a("2LN0V").extractContext)(e),i=(0,a("aliCf").extractType)(e);if(s&&s.type&&s.type.includes("atlassian:SourceCodeRepository")&&i){let t=s.name&&`${s.name}: `||"";if(i.includes("atlassian:SourceCodeCommit")){let[,e]=n.split(":");return t+(e&&`${e.substring(0,8)} `||"")+r}if(i.includes("atlassian:SourceCodePullRequest")){let a=e["atlassian:internalId"];return t+(a&&`#${a} `||"")+r}if(i.includes("atlassian:SourceCodeReference")||i.includes("schema:DigitalDocument"))return t+r}if(t){let e=RegExp(" \\| :~:text=.*","g");return r?.replace(e,"")}return r}}),r("2LN0V",function(e,t){e.exports.extractContext=e=>{let t=e.context;if(t){if("string"==typeof t)return{name:t};else if("Link"===t["@type"]){if(t.name)return{name:t.name}}else if(t.name)return{name:t.name,icon:t.icon&&(0,a("8hlRK").extractUrlFromIconJsonLd)(t.icon),type:(0,a("aliCf").extractType)(t)}}}}),r("aliCf",function(e,t){e.exports.extractType=e=>{let t=e["@type"];if(t)if(Array.isArray(e["@type"]))return t;else return[t]}}),r("9JHBV",function(e,t){e.exports.extractPreview=(e,t,r)=>{let n=e?.preview,s=(0,a("lmIyd").extractPlatformIsSupported)(n,t);if(n&&s){if("string"==typeof n)return{src:n};else if("Link"===n["@type"]&&"interactiveHref"===r&&n.interactiveHref)return{src:n.interactiveHref,aspectRatio:n["atlassian:aspectRatio"]};else if("Link"===n["@type"])return{src:(0,a("kzBLz").extractUrlFromLinkJsonLd)(n),aspectRatio:n["atlassian:aspectRatio"]};else if(n.url||n.href)return"interactiveHref"===r&&n.interactiveHref?{src:n.interactiveHref,aspectRatio:n["atlassian:aspectRatio"]}:{src:(0,a("kzBLz").extractUrlFromLinkJsonLd)(n.url||n.href),aspectRatio:n["atlassian:aspectRatio"]};else if(n.content)return{content:n.content}}}}),r("lmIyd",function(e,t){e.exports.extractPlatformIsSupported=(e,t)=>{if(e)if("string"==typeof e)return!0;else{let a=e["atlassian:supportedPlatforms"];if(a){let e="web"===t;return e&&a.includes("web")||!e&&a.includes("mobile")}return!0}return!1}}),r("lyclm",function(e,t){var r=a("l998X");a("42omo");let n=e=>e?.entityData;e.exports.extractEntity=n,e.exports.isEntityPresent=e=>!!n(e),e.exports.extractEntityEmbedUrl=e=>{let t=n(e);return t&&"liveEmbedUrl"in t&&"string"==typeof t?.liveEmbedUrl?t?.liveEmbedUrl:void 0},e.exports.extractEntityProvider=e=>{let t;if(!e?.meta?.generator)return;let{icon:n,id:s,image:i,name:o}=e.meta.generator;if(!o||!n)throw Error("Link.generator requires a name and icon.");switch(s){case a("3fvfu").CONFLUENCE_GENERATOR_ID:t=(0,r.jsx)(a("lAFHW").ConfluenceIcon,{appearance:"brand",...(0,a("dh538").fg)("navx-1895-new-logo-design")?{shouldUseNewLogoDesign:!0}:void 0,size:"xxsmall"});break;case a("3fvfu").JIRA_GENERATOR_ID:t=(0,r.jsx)(a("lAFHW").JiraIcon,{appearance:"brand",...(0,a("dh538").fg)("navx-1895-new-logo-design")?{shouldUseNewLogoDesign:!0}:void 0,size:"xxsmall"});break;default:t=n.url}return{text:o,icon:t,id:s,image:i||n.url}},e.exports.extractEntityIcon=e=>{let t,a=n(e);return a&&(t="iconUrl"in a&&"string"==typeof a?.iconUrl?a.iconUrl:e?.meta.generator?.icon?.url),{url:t,label:a?.displayName}}}),r("btw9C",function(e,t){let a=e=>{let t=e.requestAccess?.accessType;return t&&"ACCESS_EXISTS"!==t?"forbidden":"not_found"};e.exports.getStatus=({meta:e})=>{let{access:t,visibility:r}=e;switch(t){case"forbidden":if("not_found"===r)return a(e);return"forbidden";case"unauthorized":return"unauthorized";default:return"resolved"}}}),r("jHnts",function(e,t){e.exports.APIError=class extends Error{constructor(e,t,a,r,n){super(`${e}: ${a}`),this.kind=e,this.hostname=t,this.message=a,this.type=r,this.extensionKey=n,this.name="APIError",this.type=r,this.kind=e,this.message=a,this.hostname=t,this.extensionKey=n}}}),r("5nZsM",function(e,t){var r=a("iKCFj");e.exports=a("2Ed9T")(function(e,t,a){return t=t.toLowerCase(),e+(a?r(t):t)})}),r("iKCFj",function(e,t){var r=a("fPVB6"),n=a("12IaO");e.exports=function(e){return n(r(e).toLowerCase())}}),r("2Ed9T",function(e,t){var r=a("52wl7"),n=a("iOvMY"),s=a("bT49y"),i=RegExp("['â€™]","g");e.exports=function(e){return function(t){return r(s(n(t).replace(i,"")),e,"")}}}),r("52wl7",function(e,t){e.exports=function(e,t,a,r){var n=-1,s=null==e?0:e.length;for(r&&s&&(a=e[++n]);++n<s;)a=t(a,e[n],n,e);return a}}),r("iOvMY",function(e,t){var r=a("i2ByD"),n=a("fPVB6"),s=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,i=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=n(e))&&e.replace(s,r).replace(i,"")}}),r("i2ByD",function(e,t){e.exports=a("jghHU")({Ã€:"A",Ã:"A",Ã‚:"A",Ãƒ:"A",Ã„:"A",Ã…:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã‡:"C",Ã§:"c",Ã:"D",Ã°:"d",Ãˆ:"E",Ã‰:"E",ÃŠ:"E",Ã‹:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",ÃŒ:"I",Ã:"I",ÃŽ:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã‘:"N",Ã±:"n",Ã’:"O",Ã“:"O",Ã”:"O",Ã•:"O",Ã–:"O",Ã˜:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã™:"U",Ãš:"U",Ã›:"U",Ãœ:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã†:"Ae",Ã¦:"ae",Ãž:"Th",Ã¾:"th",ÃŸ:"ss",Ä€:"A",Ä‚:"A",Ä„:"A",Ä:"a",Äƒ:"a",Ä…:"a",Ä†:"C",Äˆ:"C",ÄŠ:"C",ÄŒ:"C",Ä‡:"c",Ä‰:"c",Ä‹:"c",Ä:"c",ÄŽ:"D",Ä:"D",Ä:"d",Ä‘:"d",Ä’:"E",Ä”:"E",Ä–:"E",Ä˜:"E",Äš:"E",Ä“:"e",Ä•:"e",Ä—:"e",Ä™:"e",Ä›:"e",Äœ:"G",Äž:"G",Ä :"G",Ä¢:"G",Ä:"g",ÄŸ:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å€:"l",Å‚:"l",Åƒ:"N",Å…:"N",Å‡:"N",ÅŠ:"N",Å„:"n",Å†:"n",Åˆ:"n",Å‹:"n",ÅŒ:"O",ÅŽ:"O",Å:"O",Å:"o",Å:"o",Å‘:"o",Å”:"R",Å–:"R",Å˜:"R",Å•:"r",Å—:"r",Å™:"r",Åš:"S",Åœ:"S",Åž:"S",Å :"S",Å›:"s",Å:"s",ÅŸ:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å’:"Oe",Å“:"oe",Å‰:"'n",Å¿:"s"})}),r("jghHU",function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}}),r("bT49y",function(e,t){var r=a("011qA"),n=a("1Xhyy"),s=a("fPVB6"),i=a("heRFI");e.exports=function(e,t,a){return(e=s(e),void 0===(t=a?void 0:t))?n(e)?i(e):r(e):e.match(t)||[]}}),r("011qA",function(e,t){var a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(a)||[]}}),r("1Xhyy",function(e,t){var a=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return a.test(e)}}),r("heRFI",function(e,t){var a="\ud800-\udfff",r="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",s="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",o="['â€™]",l="["+i+"]",c="["+n+"]",d="[^"+a+i+"\\d+"+r+n+s+"]",u="(?:\ud83c[\udde6-\uddff]){2}",p="[\ud800-\udbff][\udc00-\udfff]",m="["+s+"]",f="(?:"+c+"|"+d+")",g="(?:"+m+"|"+d+")",h="(?:"+o+"(?:d|ll|m|re|s|t|ve))?",E="(?:"+o+"(?:D|LL|M|RE|S|T|VE))?",b="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\ud83c[\udffb-\udfff])?",_="[\\ufe0e\\ufe0f]?",y="(?:\\u200d(?:"+["[^"+a+"]",u,p].join("|")+")"+_+b+")*",v="(?:"+["["+r+"]",u,p].join("|")+")"+(_+b+y),S=RegExp([m+"?"+c+"+"+h+"(?="+[l,m,"$"].join("|")+")",g+"+"+E+"(?="+[l,m+f,"$"].join("|")+")",m+"?"+f+"+"+h,m+"+"+E,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",v].join("|"),"g");e.exports=function(e){return e.match(S)||[]}}),r("k9Smn",function(e,t){var r=a("7Q5yr"),n=a("bDniu"),s=/\\(\\)?/g,i=RegExp("[^.[\\]]+|\\[(?:([^\"'][^[]*)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))","g"),o=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,a,r,n){var i=e;r?i=n.replace(s,"$1"):a&&(i=a.trim()),t.push(i)}),t},l={},c=/[.[\]]+/,d=function(e){if(null==e||!e.length)return[];if("string"!=typeof e)throw Error("toPath() expects a string");return null==l[e]&&(e.endsWith("[]")?l[e]=e.split(c).filter(Boolean):l[e]=o(e)),l[e]},u=function(e,t){for(var a=d(t),r=e,n=0;n<a.length;n++){var s=a[n];if(null==r||"object"!=typeof r||Array.isArray(r)&&isNaN(s))return;r=r[s]}return r};function p(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var m=function e(t,a,s,i,o){if(a>=s.length)return i;var l=s[a];if(isNaN(l)){if(null==t){var c,d,u=e(void 0,a+1,s,i,o);return void 0===u?void 0:((d={})[l]=u,d)}if(Array.isArray(t))throw Error("Cannot set a non-numeric property on an array");var m=e(t[l],a+1,s,i,o);if(void 0===m){var f=Object.keys(t).length;if(void 0===t[l]&&0===f)return;if(void 0!==t[l]&&f<=1)if(!isNaN(s[a-1])&&!o)return{};else return;return t[l],(0,n.default)(t,[l].map(p))}return(0,r.default)({},t,((c={})[l]=m,c))}var g=Number(l);if(null==t){var h=e(void 0,a+1,s,i,o);if(void 0===h)return;var E=[];return E[g]=h,E}if(!Array.isArray(t))throw Error("Cannot set a numeric property on an object");var b=e(t[g],a+1,s,i,o),_=[].concat(t);if(o&&void 0===b){if(_.splice(g,1),0===_.length)return}else _[g]=b;return _},f=function(e,t,a,r){if(void 0===r&&(r=!1),null==e)throw Error("Cannot call setIn() with "+String(e)+" state");if(null==t)throw Error("Cannot call setIn() with "+String(t)+" key");return m(e,0,d(t),a,r)},g="FINAL_FORM/form-error",h="FINAL_FORM/array-error";function E(e,t){var a=e.errors,r=e.initialValues,n=e.lastSubmittedValues,s=e.submitErrors,i=e.submitFailed,o=e.submitSucceeded,l=e.submitting,c=e.values,d=t.active,p=t.blur,m=t.change,f=t.data,g=t.focus,E=t.modified,b=t.modifiedSinceLastSubmit,_=t.name,y=t.touched,v=t.validating,S=t.visited,A=u(c,_),C=u(a,_);C&&C[h]&&(C=C[h]);var I=s&&u(s,_),T=r&&u(r,_),x=t.isEqual(T,A),k=!!(n&&!t.isEqual(u(n,_),A)),R=!C&&!I;return{active:d,blur:p,change:m,data:f,dirty:!x,dirtySinceLastSubmit:k,error:C,focus:g,initial:T,invalid:!R,length:Array.isArray(A)?A.length:void 0,modified:E,modifiedSinceLastSubmit:b,name:_,pristine:x,submitError:I,submitFailed:i,submitSucceeded:o,submitting:l,touched:y,valid:R,value:A,visited:S,validating:v}}var b=["active","data","dirty","dirtySinceLastSubmit","error","initial","invalid","length","modified","modifiedSinceLastSubmit","pristine","submitError","submitFailed","submitSucceeded","submitting","touched","valid","value","visited","validating"],_=function(e,t){if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(var n=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var i=a[s];if(!n(i)||e[i]!==t[i])return!1}return!0};function y(e,t,a,r,n,s){var i=!1;return n.forEach(function(n){r[n]&&(e[n]=t[n],a&&(~s.indexOf(n)?_(t[n],a[n]):t[n]===a[n])||(i=!0))}),i}var v=["data"],S=function(e,t,a,r){var n={blur:e.blur,change:e.change,focus:e.focus,name:e.name};return y(n,e,t,a,b,v)||!t||r?n:void 0},A=["active","dirty","dirtyFields","dirtyFieldsSinceLastSubmit","dirtySinceLastSubmit","error","errors","hasSubmitErrors","hasValidationErrors","initialValues","invalid","modified","modifiedSinceLastSubmit","pristine","submitting","submitError","submitErrors","submitFailed","submitSucceeded","touched","valid","validating","values","visited"],C=["touched","visited"];function I(e,t,a,r){var n={};return y(n,e,t,a,A,C)||!t||r?n:void 0}var T=function(e){var t,a;return function(){for(var r=arguments.length,n=Array(r),s=0;s<r;s++)n[s]=arguments[s];return(!t||n.length!==t.length||n.some(function(e,a){return!_(t[a],e)}))&&(t=n,a=e.apply(void 0,n)),a}},x=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then},k=function(e,t){return e===t},R=function e(t){return Object.keys(t).some(function(a){var r=t[a];return!r||"object"!=typeof r||r instanceof Error?void 0!==r:e(r)})};function O(e,t,a,r,n,s){var i=n(a,r,t,s);return!!i&&(e(i),!0)}function w(e,t,a,r,n){var s=e.entries;Object.keys(s).forEach(function(e){var i=s[Number(e)];if(i){var o=i.subscription,l=i.subscriber,c=i.notified;O(l,o,t,a,r,n||!c)&&(i.notified=!0)}})}e.exports.getIn=u,e.exports.FORM_ERROR=g,e.exports.fieldSubscriptionItems=b,e.exports.formSubscriptionItems=A,e.exports.version="4.20.10",e.exports.createForm=function(e){if(!e)throw Error("No config specified");var t=e.debug,a=e.destroyOnUnregister,n=e.keepDirtyOnReinitialize,s=e.initialValues,i=e.mutators,o=e.onSubmit,l=e.validate,c=e.validateOnBlur;if(!o)throw Error("No onSubmit function specified");var d={subscribers:{index:0,entries:{}},fieldSubscribers:{},fields:{},formState:{asyncErrors:{},dirtySinceLastSubmit:!1,modifiedSinceLastSubmit:!1,errors:{},initialValues:s&&(0,r.default)({},s),invalid:!1,pristine:!0,submitting:!1,submitFailed:!1,submitSucceeded:!1,resetWhileSubmitting:!1,valid:!0,validating:0,values:s?(0,r.default)({},s):{}},lastFormState:void 0},p=0,m=!1,b=!1,y=!1,v=0,A={},C=function(e,t,a){var r=a(u(e.formState.values,t));e.formState.values=f(e.formState.values,t,r)||{}},L=function(e,t,a){if(e.fields[t]){e.fields=(0,r.default)({},e.fields,((n={})[a]=(0,r.default)({},e.fields[t],{name:a,blur:function(){return z.blur(a)},change:function(e){return z.change(a,e)},focus:function(){return z.focus(a)},lastFieldState:void 0}),n)),delete e.fields[t],e.fieldSubscribers=(0,r.default)({},e.fieldSubscribers,((s={})[a]=e.fieldSubscribers[t],s)),delete e.fieldSubscribers[t];var n,s,i=u(e.formState.values,t);e.formState.values=f(e.formState.values,t,void 0)||{},e.formState.values=f(e.formState.values,a,i),delete e.lastFormState}},P=function(e){return function(){if(i){for(var t={formState:d.formState,fields:d.fields,fieldSubscribers:d.fieldSubscribers,lastFormState:d.lastFormState},a=arguments.length,r=Array(a),n=0;n<a;n++)r[n]=arguments[n];var s=i[e](r,t,{changeValue:C,getIn:u,renameField:L,resetFieldState:z.resetFieldState,setIn:f,shallowEqual:_});return d.formState=t.formState,d.fields=t.fields,d.fieldSubscribers=t.fieldSubscribers,d.lastFormState=t.lastFormState,j(void 0,function(){B(),K()}),s}}},D=i?Object.keys(i).reduce(function(e,t){return e[t]=P(t),e},{}):{},M=function(e){var t=[];if(l){var a=l((0,r.default)({},d.formState.values));x(a)?t.push(a.then(function(t){return e(t,!0)})):e(a,!1)}return t},N=function(e){return Object.keys(e.validators).reduce(function(t,a){var r=e.validators[Number(a)]();return r&&t.push(r),t},[])},U=function(e,t){var a,r=[],n=N(e);return n.length&&(n.forEach(function(n){var s=n(u(d.formState.values,e.name),d.formState.values,0===n.length||3===n.length?E(d.formState,d.fields[e.name]):void 0);if(s&&x(s)){e.validating=!0;var i=s.then(function(a){d.fields[e.name]&&(d.fields[e.name].validating=!1,t(a))});r.push(i)}else a||(a=s)}),t(a)),r},j=function(e,t){if(m){b=!0,t();return}var a=d.fields,n=d.formState,s=(0,r.default)({},a),i=Object.keys(s);if(!l&&!i.some(function(e){return N(s[e]).length}))return void t();var o=!1;if(e){var c=s[e];if(c){var p=c.validateFields;p&&(o=!0,i=p.length?p.concat(e):[e])}}var E={},y={},S={},C=[].concat(M(function(e,t){t?y=e||{}:E=e||{}}),i.reduce(function(e,t){return e.concat(U(a[t],function(e){S[t]=e}))},[])),I=C.length>0,T=++v,x=Promise.all(C).then(function(e){return delete A[T],e});I&&(A[T]=x);var k=function(e){var t=(0,r.default)({},o?n.errors:{},E,e?y:n.asyncErrors),c=function(e){i.forEach(function(r){if(a[r]){var n=u(E,r),i=u(t,r),c=N(s[r]).length,d=S[r];e(r,c&&d||l&&n||(n||o?void 0:i))}})};c(function(e,a){t=f(t,e,a)||{}}),c(function(e,a){if(a&&a[h]){var r=[].concat(u(t,e));r[h]=a[h],t=f(t,e,r)}}),_(n.errors,t)||(n.errors=t),e&&(n.asyncErrors=y),n.error=E[g]};if(I&&(d.formState.validating++,t()),k(!1),t(),I){var R=function(){d.formState.validating--,t(),0===d.formState.validating&&d.lastFormState.validating&&K()};x.then(function(){v>T||k(!0)}).then(R,R)}},B=function(e){if(!p){var t=d.fields,a=d.fieldSubscribers,n=d.formState,s=(0,r.default)({},t),i=function(e){var t=s[e],r=E(n,t),i=t.lastFieldState;t.lastFieldState=r;var o=a[e];o&&w(o,r,i,S,void 0===i)};e?i(e):Object.keys(s).forEach(i)}},F=function(){Object.keys(d.fields).forEach(function(e){d.fields[e].touched=!0})},G=function(){var e,t,a,n,s,i,o,l,c,p,m,f,g,h,E,b=d.fields,y=d.formState,v=d.lastFormState,S=(0,r.default)({},b),A=Object.keys(S),C=!1,I=A.reduce(function(e,t){return S[t].isEqual(u(y.values,t),u(y.initialValues||{},t))||(C=!0,e[t]=!0),e},{}),T=A.reduce(function(e,t){var a=y.lastSubmittedValues||{};return S[t].isEqual(u(y.values,t),u(a,t))||(e[t]=!0),e},{});y.pristine=!C,y.dirtySinceLastSubmit=!!(y.lastSubmittedValues&&Object.values(T).some(function(e){return e})),y.modifiedSinceLastSubmit=!!(y.lastSubmittedValues&&Object.keys(S).some(function(e){return S[e].modifiedSinceLastSubmit})),y.valid=!y.error&&!y.submitError&&!R(y.errors)&&!(y.submitErrors&&R(y.submitErrors));var x=(e=y.active,t=y.dirtySinceLastSubmit,a=y.modifiedSinceLastSubmit,n=y.error,s=y.errors,i=y.initialValues,o=y.pristine,l=y.submitting,c=y.submitFailed,p=y.submitSucceeded,m=y.submitError,f=y.submitErrors,g=y.valid,h=y.validating,E=y.values,{active:e,dirty:!o,dirtySinceLastSubmit:t,modifiedSinceLastSubmit:a,error:n,errors:s,hasSubmitErrors:!!(m||f&&R(f)),hasValidationErrors:!!(n||R(s)),invalid:!g,initialValues:i,pristine:o,submitting:l,submitFailed:c,submitSucceeded:p,submitError:m,submitErrors:f,valid:g,validating:h>0,values:E}),k=A.reduce(function(e,t){return e.modified[t]=S[t].modified,e.touched[t]=S[t].touched,e.visited[t]=S[t].visited,e},{modified:{},touched:{},visited:{}}),O=k.modified,w=k.touched,L=k.visited;return x.dirtyFields=v&&_(v.dirtyFields,I)?v.dirtyFields:I,x.dirtyFieldsSinceLastSubmit=v&&_(v.dirtyFieldsSinceLastSubmit,T)?v.dirtyFieldsSinceLastSubmit:T,x.modified=v&&_(v.modified,O)?v.modified:O,x.touched=v&&_(v.touched,w)?v.touched:w,x.visited=v&&_(v.visited,L)?v.visited:L,v&&_(v,x)?v:x},V=!1,q=!1,K=function e(){if(V)q=!0;else{if(V=!0,t&&t(G(),Object.keys(d.fields).reduce(function(e,t){return e[t]=d.fields[t],e},{})),!p&&!(m&&y)){var a=d.lastFormState,r=G();r!==a&&(d.lastFormState=r,w(d.subscribers,r,a,I))}V=!1,q&&(q=!1,e())}},H=function(){return Object.keys(d.fields).forEach(function(e){return d.fields[e].modifiedSinceLastSubmit=!1})};j(void 0,function(){K()});var z={batch:function(e){p++,e(),p--,B(),K()},blur:function(e){var t=d.fields,a=d.formState,n=t[e];n&&(delete a.active,t[e]=(0,r.default)({},n,{active:!1,touched:!0}),c?j(e,function(){B(),K()}):(B(),K()))},change:function(e,t){var a=d.fields,n=d.formState;if(u(n.values,e)!==t){C(d,e,function(){return t});var s=a[e];s&&(a[e]=(0,r.default)({},s,{modified:!0,modifiedSinceLastSubmit:!!n.lastSubmittedValues})),c?(B(),K()):j(e,function(){B(),K()})}},get destroyOnUnregister(){return!!a},set destroyOnUnregister(value){a=value},focus:function(e){var t=d.fields[e];t&&!t.active&&(d.formState.active=e,t.active=!0,t.visited=!0,B(),K())},mutators:D,getFieldState:function(e){var t=d.fields[e];return t&&t.lastFieldState},getRegisteredFields:function(){return Object.keys(d.fields)},getState:function(){return G()},initialize:function(e){var t=d.fields,a=d.formState,s=(0,r.default)({},t),i="function"==typeof e?e(a.values):e;n||(a.values=i);var o=n?Object.keys(s).reduce(function(e,t){return s[t].isEqual(u(a.values,t),u(a.initialValues||{},t))||(e[t]=u(a.values,t)),e},{}):{};a.initialValues=i,a.values=i,Object.keys(o).forEach(function(e){a.values=f(a.values,e,o[e])||{}}),j(void 0,function(){B(),K()})},isValidationPaused:function(){return m},pauseValidation:function(e){void 0===e&&(e=!0),m=!0,y=e},registerField:function(e,t,r,n){void 0===r&&(r={}),d.fieldSubscribers[e]||(d.fieldSubscribers[e]={index:0,entries:{}});var s=d.fieldSubscribers[e].index++;d.fieldSubscribers[e].entries[s]={subscriber:T(t),subscription:r,notified:!1};var i=d.fields[e]||{active:!1,afterSubmit:n&&n.afterSubmit,beforeSubmit:n&&n.beforeSubmit,data:n&&n.data||{},isEqual:n&&n.isEqual||k,lastFieldState:void 0,modified:!1,modifiedSinceLastSubmit:!1,name:e,touched:!1,valid:!0,validateFields:n&&n.validateFields,validators:{},validating:!1,visited:!1};i.blur=i.blur||function(){return z.blur(e)},i.change=i.change||function(t){return z.change(e,t)},i.focus=i.focus||function(){return z.focus(e)},d.fields[e]=i;var o=!1,l=n&&n.silent,c=function(){l&&d.fields[e]?B(e):(K(),B())};if(n){o=!!(n.getValidator&&n.getValidator()),n.getValidator&&(d.fields[e].validators[s]=n.getValidator);var p=void 0===u(d.formState.values,e);void 0!==n.initialValue&&(p||u(d.formState.values,e)===u(d.formState.initialValues,e))&&(d.formState.initialValues=f(d.formState.initialValues||{},e,n.initialValue),d.formState.values=f(d.formState.values,e,n.initialValue),j(void 0,c)),void 0!==n.defaultValue&&void 0===n.initialValue&&void 0===u(d.formState.initialValues,e)&&p&&(d.formState.values=f(d.formState.values,e,n.defaultValue))}return o?j(void 0,c):c(),function(){var t=!1;d.fields[e]&&(t=!!(d.fields[e].validators[s]&&d.fields[e].validators[s]()),delete d.fields[e].validators[s]);var r=!!d.fieldSubscribers[e];r&&delete d.fieldSubscribers[e].entries[s];var n=r&&!Object.keys(d.fieldSubscribers[e].entries).length;n&&(delete d.fieldSubscribers[e],delete d.fields[e],t&&(d.formState.errors=f(d.formState.errors,e,void 0)||{}),a&&(d.formState.values=f(d.formState.values,e,void 0,!0)||{})),!l&&(t?j(void 0,function(){K(),B()}):n&&K())}},reset:function(e){void 0===e&&(e=d.formState.initialValues),d.formState.submitting&&(d.formState.resetWhileSubmitting=!0),d.formState.submitFailed=!1,d.formState.submitSucceeded=!1,delete d.formState.submitError,delete d.formState.submitErrors,delete d.formState.lastSubmittedValues,z.initialize(e||{})},resetFieldState:function(e){d.fields[e]=(0,r.default)({},d.fields[e],{active:!1,lastFieldState:void 0,modified:!1,touched:!1,valid:!0,validating:!1,visited:!1}),j(void 0,function(){B(),K()})},restart:function(e){void 0===e&&(e=d.formState.initialValues),z.batch(function(){for(var t in d.fields)z.resetFieldState(t),d.fields[t]=(0,r.default)({},d.fields[t],{active:!1,lastFieldState:void 0,modified:!1,modifiedSinceLastSubmit:!1,touched:!1,valid:!0,validating:!1,visited:!1});z.reset(e)})},resumeValidation:function(){m=!1,y=!1,b&&j(void 0,function(){B(),K()}),b=!1},setConfig:function(e,r){switch(e){case"debug":t=r;break;case"destroyOnUnregister":a=r;break;case"initialValues":z.initialize(r);break;case"keepDirtyOnReinitialize":n=r;break;case"mutators":i=r,r?(Object.keys(D).forEach(function(e){e in r||delete D[e]}),Object.keys(r).forEach(function(e){D[e]=P(e)})):Object.keys(D).forEach(function(e){delete D[e]});break;case"onSubmit":o=r;break;case"validate":l=r,j(void 0,function(){B(),K()});break;case"validateOnBlur":c=r;break;default:throw Error("Unrecognised option "+e)}},submit:function(){var e,t=d.formState;if(!t.submitting){if(delete t.submitErrors,delete t.submitError,t.lastSubmittedValues=(0,r.default)({},t.values),d.formState.error||R(d.formState.errors)){F(),H(),d.formState.submitFailed=!0,K(),B();return}var a=Object.keys(A);if(a.length)return void Promise.all(a.map(function(e){return A[Number(e)]})).then(z.submit,console.error);if(!Object.keys(d.fields).some(function(e){return d.fields[e].beforeSubmit&&!1===d.fields[e].beforeSubmit()})){var n=!1,s=function(a){t.submitting=!1;var r=t.resetWhileSubmitting;return r&&(t.resetWhileSubmitting=!1),a&&R(a)?(t.submitFailed=!0,t.submitSucceeded=!1,t.submitErrors=a,t.submitError=a[g],F()):(r||(t.submitFailed=!1,t.submitSucceeded=!0),Object.keys(d.fields).forEach(function(e){return d.fields[e].afterSubmit&&d.fields[e].afterSubmit()})),K(),B(),n=!0,e&&e(a),a};t.submitting=!0,t.submitFailed=!1,t.submitSucceeded=!1,t.lastSubmittedValues=(0,r.default)({},t.values),H();var i=o(t.values,z,s);if(!n)if(i&&x(i))return K(),B(),i.then(s,function(e){throw s(),e});else{if(o.length>=3)return K(),B(),new Promise(function(t){e=t});s(i)}}}},subscribe:function(e,t){if(!e)throw Error("No callback given.");if(!t)throw Error("No subscription provided. What values do you want to listen to?");var a=T(e),r=d.subscribers,n=r.index++;r.entries[n]={subscriber:a,subscription:t,notified:!1};var s=G();return O(a,t,s,s,I,!0),function(){delete r.entries[n]}}};return z}}),r("jTvbt",function(e,t){var r=a("k9Smn"),n=function(e){return!!(e&&"function"==typeof e.focus)},s=function(){return"undefined"==typeof document?[]:Array.prototype.slice.call(document.forms).reduce(function(e,t){return e.concat(Array.prototype.slice.call(t).filter(n))},[])},i=function(e,t){return e.find(function(e){return e.name&&(0,r.getIn)(t,e.name)})},o=function(){};e.exports.default=function(e,t){return function(a){var r=function(a){e||(e=s),t||(t=i);var r=t(e(),a);r&&r.focus()},n=a.submit,l={},c=a.subscribe(function(e){l=e},{errors:!0,submitErrors:!0}),d=function(){var e=l,t=e.errors,a=e.submitErrors;t&&Object.keys(t).length?r(t):a&&Object.keys(a).length&&r(a)};return a.submit=function(){var e=n.call(a);return e&&"function"==typeof e.then?e.then(d,o):d(),e},function(){c(),a.submit=n}}}}),r("abN8T",function(e,t){var r=a("92z90");e.exports=function(e,t,a){return null==e?e:r(e,t,a)}}),r("3hoG4",function(e,r){t(e.exports,"default",()=>n);var n=a("42omo").forwardRef}),r("1To4a",function(e,t){a("kyRHQ"),e.exports.default=function(e,t=""){let r=a("1vDIt").default[e],n=t;return"undefined"==typeof window?n:n=(n=window.getComputedStyle(document.documentElement).getPropertyValue(r).trim())||t}}),r("g7Pc3",function(r,n){t(r.exports,"default",()=>i);var s=a("l998X");function i({testId:e,bidiCharacter:t,skipChildren:r,shouldSkipChildren:n,tooltipEnabled:i,isTooltipEnabled:l,label:c="Bidirectional characters change the order that text is rendered. This could be used to obscure malicious code."}){let d=void 0!==n?n:r;return(void 0!==l?l:i)?(0,s.jsx)(a("3gadb").default,{content:c,tag:o,children:(0,s.jsx)(a("lHMuy").Decorator,{testId:e,bidiCharacter:t,children:d?null:t})}):(0,s.jsx)(a("lHMuy").Decorator,{testId:e,bidiCharacter:t,children:d?null:t})}let o=e(a("42omo")).forwardRef((e,t)=>{let{children:a,...r}=e;return(0,s.jsx)("span",{...r,ref:t,children:a})})}),r("lHMuy",function(e,t){var r=a("l998X"),n=a("42omo");e.exports.Decorator=function({bidiCharacter:e,children:t,testId:s}){let i=function(e){let t=e.codePointAt(0)?.toString(16);return`U+${t}`}(e);return(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)("span",{"data-testid":s,"data-bidi-character-code":i,"aria-hidden":"true",className:(0,a("gMc0m").default)(["_kqswh2mm _szpl2smr _dsq41wug _1xyt1b66 _123w1b66 _15nnze3t _rxygze3t _1a354jg8 _1j6r1odn _1uakf6fq _1kt9y7el _is061xn9 _1rus1917 _1cfcvrvc _24gj1h6o _19o61h6o _cfu1116y _1rba1xn9 _1xqc19zu"]),children:t}),(0,r.jsx)(a("6F6hl").default,{testId:s&&`${s}--visually-hidden`,children:(0,r.jsx)("mark",{children:i})})]})}}),r("03WRT",function(e,a){t(e.exports,"default",()=>n);let r=/[\u202A-\u202E\u2066-\u2069]/g;function n(e,t){let a=[...e.matchAll(r)];if(0===a.length)return e;let n=[],s=0;for(let r of a)s!==r.index&&n.push(e.substring(s,r.index)),n.push(t({bidiCharacter:r[0],index:r.index})),s=r.index+r[0].length;return s!==e.length&&n.push(e.substring(s,e.length)),n}}),r("lgqac",function(e,t){let a="media";var r,n,s=((r={}).StatusUpdate="StatusUpdate",r),i=((n={}).PermissionError="PermissionError",n.ValidationError="ValidationError",n.UnknownError="UnknownError",n);let o=(e,t)=>{t&&t(e).fire(a)};e.exports.ANALYTICS_CHANNEL=a,e.exports.context={componentName:"smart-cards",packageName:"platform-pkg",packageVersion:"0.0.0-use.local"},e.exports.TrackQuickActionType=s,e.exports.TrackQuickActionFailureReason=i,e.exports.SmartLinkEvents=class{insertSmartLink(e,t,a){o({action:"inserted",actionSubject:"smartLink",eventType:"track",attributes:{type:t},nonPrivacySafeAttributes:{domainName:e}},a)}}}),r("kKODE",function(e,t){var r=a("42omo");e.exports.useAnalyticsEvents=()=>{let{createAnalyticsEvent:e}=(0,a("inPa6").useAnalyticsEvents)();return{fireEvent:(0,r.useCallback)((...t)=>{e((0,a("cGziR").default)(...t)).fire(a("1PKWZ").EVENT_CHANNEL)},[e])}}}),r("1PKWZ",function(e,t){e.exports.EVENT_CHANNEL="media"}),r("cGziR",function(e,t){e.exports.default=(e,...[t])=>{let[a,r,n,s]=e.split(".");return"screen"===a?{eventType:a,name:r,action:"viewed",attributes:t}:{eventType:a,actionSubject:r,action:n,actionSubjectId:s,attributes:t}}}),r("bIll3",function(e,t){let r={platform:{component:"smart-links"},type:a("iqaft").ExperienceTypes.Experience,performanceType:a("iqaft").ExperiencePerformanceTypes.InlineResult},n={platform:{component:"smart-links"},type:a("iqaft").ExperienceTypes.Load,performanceType:a("iqaft").ExperiencePerformanceTypes.PageSegmentLoad},s={platform:{component:"smart-links"},type:a("iqaft").ExperienceTypes.Experience,performanceType:a("iqaft").ExperiencePerformanceTypes.InlineResult},i={"smart-link-rendered":new(0,a("9801n").ConcurrentExperience)("smart-link-rendered",n),"smart-link-authenticated":new(0,a("9801n").ConcurrentExperience)("smart-link-authenticated",r),"smart-link-action-invocation":new(0,a("9801n").ConcurrentExperience)("smart-link-action-invocation",r),"smart-link-ai-summary":new(0,a("9801n").ConcurrentExperience)("smart-link-ai-summary",s)};e.exports.startUfoExperience=(e,t,a)=>{let r=i[e].getInstance(t);r.start(),a&&r.addMetadata(a)},e.exports.succeedUfoExperience=(e,t,a)=>{i[e].getInstance(t).success({metadata:a})},e.exports.failUfoExperience=(e,t,a)=>{i[e].getInstance(t).failure({metadata:a})},e.exports.addMetadataToExperience=(e,t,a)=>{i[e].getInstance(t).addMetadata(a)}}),r("5TXU5",function(e,t){var a,r,n,s,i,o,l,c,d,u,p,m,f,g,h,E=((a={}).Left="left",a.Right="right",a),b=((r={}).Horizontal="horizontal",r.Vertical="vertical",r),_=((n={}).Top="top",n.Center="center",n),y=((s={}).XLarge="xlarge",s.Large="large",s.Medium="medium",s.Small="small",s),v=((i={}).Pending="pending",i.Resolving="resolving",i.Resolved="resolved",i.Forbidden="forbidden",i.Errored="errored",i.NotFound="not_found",i.Unauthorized="unauthorized",i.Fallback="fallback",i),S=((o={}).Black="black",o.Link="link",o),A=((l={}).Grey="grey",l),C=((c={}).FitToContent="fit-to-content",c.Flexible="flexible",c),I=((d={}).AppliedToComponentsCount="AppliedToComponentsCount",d.AssignedTo="AssignedTo",d.AssignedToGroup="AssignedToGroup",d.AttachmentCount="AttachmentCount",d.AuthorGroup="AuthorGroup",d.ChecklistProgress="ChecklistProgress",d.CollaboratorGroup="CollaboratorGroup",d.CommentCount="CommentCount",d.CreatedBy="CreatedBy",d.CreatedOn="CreatedOn",d.DueOn="DueOn",d.LatestCommit="LatestCommit",d.LinkIcon="LinkIcon",d.Location="Location",d.ModifiedBy="ModifiedBy",d.ModifiedOn="ModifiedOn",d.OwnedBy="OwnedBy",d.OwnedByGroup="OwnedByGroup",d.Preview="Preview",d.Priority="Priority",d.ProgrammingLanguage="ProgrammingLanguage",d.Provider="Provider",d.ReactCount="ReactCount",d.ReadTime="ReadTime",d.Snippet="Snippet",d.SourceBranch="SourceBranch",d.State="State",d.SubscriberCount="SubscriberCount",d.SubTasksProgress="SubTasksProgress",d.StoryPoints="StoryPoints",d.TargetBranch="TargetBranch",d.TeamMemberCount="TeamMemberCount",d.Title="Title",d.UserAttributes="UserAttributes",d.ViewCount="ViewCount",d.VoteCount="VoteCount",d.SentOn="SentOn",d.HostName="HostName",d),T=((u={}).CopyLinkAction="CopyLinkAction",u.DeleteAction="DeleteAction",u.EditAction="EditAction",u.FollowAction="FollowAction",u.PreviewAction="PreviewAction",u.AutomationAction="AutomationAction",u.DownloadAction="DownloadAction",u.CustomAction="CustomAction",u),x=((p={}).AISummaryAction="AISummaryAction",p.UnresolvedAction="UnresolvedAction",p.ViewRelatedLinksAction="ViewRelatedLinksAction",p),k=((m={}).Archive="FileType:Archive",m.Audio="FileType:Audio",m.Blog="FileType:Blog",m.Code="FileType:Code",m.Document="FileType:Document",m.Executable="FileType:Executable",m.File="FileType:File",m.Folder="FileType:Folder",m.Generic="FileType:Generic",m.GIF="FileType:GIF",m.GoogleDocs="FileType:GoogleDocs",m.GoogleForms="FileType:GoogleForms",m.GoogleSheets="FileType:GoogleSheets",m.GoogleSlides="FileType:GoogleSlides",m.Image="FileType.Image",m.MSExcel="FileType:Excel",m.MSPowerpoint="FileType:Powerpoint",m.MSWord="FileType:WordDocument",m.PDF="FileType:PDF",m.Presentation="FileType:Presentation",m.Sketch="FileType:Sketch",m.Spreadsheet="FileType:Spreadsheet",m.Template="FileType:Template",m.Video="FileType:Video",m.Branch="BitBucket:Branch",m.Commit="BitBucket:Commit",m.Project="BitBucket:Project",m.PullRequest="BitBucket:PullRequest",m.Repo="BitBucket:Repo",m.Bug="Jira:Bug",m.Change="Jira:Change",m.Epic="Jira:Epic",m.Incident="Jira:Incident",m.Problem="Jira:Problem",m.ServiceRequest="Jira:ServiceRequest",m.Story="Jira:Story",m.SubTask="Jira:SubTask",m.Task="Jira:Task",m.LiveDocument="Confluence:LiveDocument",m.Confluence="Provider:Confluence",m.Jira="Provider:Jira",m.Default="Default",m.Error="Default:Error",m.Forbidden="Default:Forbidden",m.Attachment="Badge:Attachment",m.CheckItem="Badge:Task",m.Comment="Badge:Comment",m.Component="Badge:Component",m.View="Badge:View",m.React="Badge:React",m.Vote="Badge:Vote",m.PriorityBlocker="Badge:PriorityBlocker",m.PriorityCritical="Badge:PriorityCritical",m.PriorityHigh="Badge:PriorityHigh",m.PriorityHighest="Badge:PriorityHighest",m.PriorityLow="Badge:PriorityLow",m.PriorityLowest="Badge:PriorityLowest",m.PriorityMajor="Badge:PriorityMajor",m.PriorityMedium="Badge:PriorityMedium",m.PriorityMinor="Badge:PriorityMinor",m.PriorityTrivial="Badge:PriorityTrivial",m.PriorityUndefined="Badge:PriorityUndefined",m.ProgrammingLanguage="Badge:ProgrammingLanguage",m.Subscriber="Badge:Subscriber",m.SubTasksProgress="Badge:SubTask",m),R=((f={}).Image="image",f),O=((g={}).Left="left",g.Right="right",g),w=((h={}).Inline="inline",h.Block="block",h.Embed="embed",h.EmbedPreview="embedPreview",h.Flexible="flexible",h.HoverCardPreview="hoverCardPreview",h);e.exports.CONTENT_URL_SECURITY_AND_PERMISSIONS="https://support.atlassian.com/confluence-cloud/docs/insert-links-and-anchors/#Smart-links",e.exports.CONTENT_URL_3P_ACCOUNT_AUTH="https://support.atlassian.com/confluence-cloud/docs/what-data-is-sent-and-received-when-pasting-a-smart-link/",e.exports.CONTENT_URL_AI="https://www.atlassian.com/trust/atlassian-intelligence",e.exports.CONTENT_URL_AI_TROUBLESHOOTING="https://status.atlassian.com/",e.exports.CONTENT_URL_ACCEPTABLE_USE_POLICY="https://www.atlassian.com/legal/acceptable-use-policy",e.exports.SmartLinkAlignment=E,e.exports.SmartLinkDirection=b,e.exports.SmartLinkPosition=_,e.exports.SmartLinkSize=y,e.exports.SmartLinkStatus=v,e.exports.SmartLinkTheme=S,e.exports.SmartLinkInternalTheme=A,e.exports.SmartLinkWidth=C,e.exports.ElementName=I,e.exports.ActionName=T,e.exports.InternalActionName=x,e.exports.IconType=k,e.exports.MediaType=R,e.exports.MediaPlacement=O,e.exports.CardDisplay=w}),r("i7jPX",function(e,r){t(e.exports,"default",()=>c);var n=a("l998X");a("42omo");let s={root:"_2rkol0p1 _1reo15vq _18m915vq _kqswh2mm _1e0c116y _vchhusvi _4cvr1h6o _1bah1h6o _1o9zidpf _16jlidpf _1ul9idpf _1tkeidpf",border:"_189ee4h9 _1dqonqa1 _1h6d1l7x",inset:"_1iia1wug _bna71wug _1xjx1wug _17521wug",nonInset:"_1qwg1osq _mezj1osq _e2oo1osq _w8l51osq _1iia1osq _bna71osq _1xjx1osq _17521osq"},i={xxsmall:"_1bsb7vkz _4t3i7vkz _1wyb19bv",xsmall:"_1bsbgktf _4t3igktf _1wyb1crf",small:"_1bsb1tcg _4t3i1tcg _1wybdlk8",medium:"_1bsbzwfg _4t3izwfg _1wyb7vkz",large:"_1bsb1ylp _4t3i1ylp _1wybgktf",xlarge:"_1bsbckbl _4t3ickbl _1wyb1tcg"},o={xxsmall:"_1qwg19bv _mezj19bv _e2oo19bv _w8l519bv _5ile19el _1hdc19el _1pc719el _pkax19el",xsmall:"_1qwg1crf _mezj1crf _e2oo1crf _w8l51crf _5ilemccc _1hdcmccc _1pc7mccc _pkaxmccc",small:"_1qwgdlk8 _mezjdlk8 _e2oodlk8 _w8l5dlk8 _5ilewk7l _1hdcwk7l _1pc7wk7l _pkaxwk7l",medium:"_1qwg7vkz _mezj7vkz _e2oo7vkz _w8l57vkz _5ile1gpt _1hdc1gpt _1pc71gpt _pkax1gpt",large:"_1qwggktf _mezjgktf _e2oogktf _w8l5gktf _5ile1txs _1hdc1txs _1pc71txs _pkax1txs",xlarge:"_1qwg1tcg _mezj1tcg _e2oo1tcg _w8l51tcg _5ilea982 _1hdca982 _1pc7a982 _pkaxa982"},l={white:"_bfhku67f",black:"_bfhkr3uz",transparent:"_bfhk1j28","color.background.accent.lime.subtlest":"_bfhkm890","color.background.accent.lime.subtler":"_bfhkz2ec","color.background.accent.lime.subtle":"_bfhkbq5w","color.background.accent.lime.bolder":"_bfhktde4","color.background.accent.red.subtlest":"_bfhk1vk5","color.background.accent.red.subtler":"_bfhk1rtt","color.background.accent.red.subtle":"_bfhkkrt9","color.background.accent.red.bolder":"_bfhkuibq","color.background.accent.orange.subtlest":"_bfhkf5uh","color.background.accent.orange.subtler":"_bfhk165s","color.background.accent.orange.subtle":"_bfhk1kkj","color.background.accent.orange.bolder":"_bfhk1qg1","color.background.accent.yellow.subtlest":"_bfhkibhp","color.background.accent.yellow.subtler":"_bfhk1773","color.background.accent.yellow.subtle":"_bfhk8y3s","color.background.accent.yellow.bolder":"_bfhk1vop","color.background.accent.green.subtlest":"_bfhkn729","color.background.accent.green.subtler":"_bfhk1wnw","color.background.accent.green.subtle":"_bfhk1rsu","color.background.accent.green.bolder":"_bfhk1e5c","color.background.accent.teal.subtlest":"_bfhk7xuz","color.background.accent.teal.subtler":"_bfhk1a17","color.background.accent.teal.subtle":"_bfhktdv8","color.background.accent.teal.bolder":"_bfhk2c8p","color.background.accent.blue.subtlest":"_bfhk1s93","color.background.accent.blue.subtler":"_bfhk1dy8","color.background.accent.blue.subtle":"_bfhk115i","color.background.accent.blue.bolder":"_bfhk16e3","color.background.accent.purple.subtlest":"_bfhkp2ly","color.background.accent.purple.subtler":"_bfhk1nm4","color.background.accent.purple.subtle":"_bfhk18ah","color.background.accent.purple.bolder":"_bfhkya33","color.background.accent.magenta.subtlest":"_bfhk8tvm","color.background.accent.magenta.subtler":"_bfhkv9ra","color.background.accent.magenta.subtle":"_bfhk1mi6","color.background.accent.magenta.bolder":"_bfhkc3uk","color.background.accent.gray.subtlest":"_bfhkysee","color.background.accent.gray.subtler":"_bfhk7qp0","color.background.accent.gray.subtle":"_bfhk18j9","color.background.accent.gray.bolder":"_bfhk1i45","color.background.inverse.subtle":"_bfhk1vck","color.background.neutral":"_bfhki8nm","color.background.neutral.bold":"_bfhk1aqn","color.background.brand.subtlest":"_bfhk1gmr","color.background.brand.bold":"_bfhk1856","color.background.brand.boldest":"_bfhk1o4i","color.background.danger":"_bfhk1gly","color.background.danger.bold":"_bfhkybec","color.background.warning":"_bfhk1917","color.background.warning.bold":"_bfhk1kmu","color.background.success":"_bfhk1y9u","color.background.success.bold":"_bfhkkcmj","color.background.discovery":"_bfhk6vm6","color.background.discovery.bold":"_bfhku5tj","color.background.information":"_bfhk19ip","color.background.information.bold":"_bfhkx4w0"};function c(e){let{children:t,label:r,size:c="medium",backgroundColor:d,hasBorder:u,isInset:p=!0,testId:m}=e;return(0,n.jsx)("span",{"data-testid":m,"aria-label":""!==r?r:void 0,role:""!==r?"img":void 0,className:(0,a("gMc0m").default)([s.root,i[c],p?s.inset:s.nonInset,p&&o[c],l[d||"color.background.neutral"],u&&s.border]),children:t})}}),r("6iY4P",function(r,n){t(r.exports,"default",()=>i);var s=a("l998X");function i({label:t="Blog",size:r,testId:n}){return(0,s.jsx)(a("kXb3C").default,{label:t,size:r,testId:n,icon:e(a("9RVmI")),color:"var(--ds-icon-accent-blue, #357DE8)"})}a("42omo")}),r("kXb3C",function(e,r){t(e.exports,"default",()=>s);var n=a("l998X");function s({label:e="",size:t="medium",testId:a,color:r,icon:s}){return(0,n.jsx)(s,{label:e,size:"medium"===t?"medium":"small",color:r,testId:a})}a("42omo")}),r("5MkWK",function(t,r){var n=a("42omo");let s=(e,t,r,n)=>({definitionId:t?.meta?.definitionId??null,resourceType:t?.meta?.resourceType??null,...(0,a("1xKpK").getResolvedAttributes)(e,t,r,n)}),i=({display:e,id:t,response:r,source:n,status:i,url:o,error:l})=>{let c=a("c6GJD").default.getExperimentValue("platform_linking_bluelink_connect_confluence","isEnabled",!1)||a("c6GJD").default.getExperimentValue("platform_linking_bluelink_connect_jira","isEnabled",!1)?s({url:o,displayCategory:"url"===e?"link":"smartLink"},r,i,l):s({url:o},r,i,l);return{source:n,attributes:{...a("lgqac").context,display:e,id:t,...c}}};t.exports.useSmartLinkAnalyticsContext=({display:e,id:t,source:r,url:s})=>{let{store:o}=(0,a("eIleF").useSmartLinkContext)(),l=o?(0,a("6q0AE").getUrl)(o,s):void 0;return(0,n.useMemo)(()=>i({display:e,id:t,response:l?.details,source:r,status:l?.status,url:s,error:l?.error}),[e,t,r,l?.details,l?.status,s,l?.error])},t.exports.SmartLinkAnalyticsContext=({children:t,display:r,id:s,source:o,url:l})=>{let{details:c,status:d,error:u}=(0,a("lz9QA").useSmartCardState)(l),p=i({display:r,id:s,response:c,source:o,status:d,url:l,error:(0,a("dh538").fg)("platform_bandicoots-smartlink-unresolved-error-key")?u:void 0});return e(n).createElement(a("bYRk6").default,{data:p},t)}}),r("1xKpK",function(e,t){e.exports.getResolvedAttributes=(e,t,r,n)=>{let s=r??(t&&(0,a("btw9C").getStatus)(t)),i="link"===e.displayCategory?"link":(0,a("8Wacp").getDisplayCategory)(s);return{status:s??null,statusDetails:t?.meta?.requestAccess?.accessType??null,displayCategory:i,extensionKey:(0,a("dh538").fg)("platform_bandicoots-smartlink-unresolved-error-key")?t?.meta?.key??n?.extensionKey??null:t?.meta?.key??null,destinationTenantId:t?.meta?.tenantId??null,destinationActivationId:t?.meta?.activationId??null,destinationContainerId:t?.meta?.containerId??null,destinationCategory:t?.meta?.category??null,destinationProduct:t?.meta?.product??null,destinationSubproduct:t?.meta?.subproduct??null,destinationObjectId:t?.meta?.objectId??null,destinationObjectType:t?.meta?.resourceType??null,canBeDatasource:(t?.datasources||[]).length>0}}}),r("8Wacp",function(e,t){e.exports.getDisplayCategory=e=>e&&"not_found"===e?"link":"smartLink"}),r("eIleF",function(e,t){var r=a("l998X"),n=a("42omo");let s=(0,n.createContext)(void 0),i=()=>(function(e){let t=(0,n.useContext)(e);return(0,n.useMemo)(()=>({Provider:e.Provider,Consumer:e.Consumer,value:t}),[t,e])})(s);e.exports.SmartCardContext=s,e.exports.useSmartLinkContext=function(){let e=(0,n.useContext)(s);if(!e)throw Error("useSmartCard() must be wrapped in <SmartCardProvider>");return e},e.exports.useSmartCardContext=i,e.exports.EditorSmartCardProviderValueGuard=({children:e})=>{let t=i();return t?.value?(0,r.jsx)(r.Fragment,{children:e}):null},e.exports.EditorSmartCardProvider=({children:e})=>{let t=i(),a=t.Provider;return(0,r.jsx)(a,{value:t.value,children:e})}}),r("6q0AE",function(e,t){e.exports.getUrl=(e,t)=>e.getState()[t]||{status:"pending"}}),r("lz9QA",function(e,t){var r=a("hpRUx");let n={status:"pending"};e.exports.useSmartCardState=function(e){let{store:t}=(0,a("eIleF").useSmartLinkContext)();return(0,r.useSyncExternalStoreWithSelector)(t.subscribe,t.getState,t.getState,t=>t[e])??n}}),r("4P6U3",function(e,t){let a={mac:!1,ie:!1,ie_version:0,gecko:!1,chrome:!1,chrome_version:0,android:!1,ios:!1,webkit:!1,safari:!1,supportsIntersectionObserver:!1,supportsResizeObserver:!1};if("undefined"!=typeof navigator){let e=/Edge\/(\d+)/.exec(navigator.userAgent),t=/MSIE \d/.test(navigator.userAgent),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);a.mac=/Mac/.test(navigator.platform);let n=a.ie=!!(t||r||e);a.ie_version=t?document.documentMode||6:r?+r[1]:e?+e[1]:null,a.gecko=!n&&/gecko\/\d/i.test(navigator.userAgent),a.chrome=!n&&/Chrome\//.test(navigator.userAgent),a.chrome_version=parseInt((navigator.userAgent.match(/Chrome\/(\d+)/)||[])[1],10),a.android=/Android \d/.test(navigator.userAgent),a.ios=!n&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),a.webkit=!n&&!!document.documentElement&&"WebkitAppearance"in document.documentElement.style,a.safari=!!(navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1===navigator.userAgent.indexOf("CriOS")&&-1===navigator.userAgent.indexOf("FxiOS")),a.supportsIntersectionObserver="undefined"!=typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,a.supportsResizeObserver="undefined"!=typeof window&&"ResizeObserver"in window&&"ResizeObserverEntry"in window}e.exports.browser=function(){return a}}),r("afp1H",function(e,t){let r=(0,a("cgtv4").defineMessages)({actions:{id:"fabric.linking.actions",defaultMessage:"Actions"},add_account:{id:"fabric.linking.add_account",defaultMessage:"Add account"},ai_summarize:{id:"fabric.linking.ai_summarize",defaultMessage:"Summarize"},ai_summarized:{id:"fabric.linking.ai_summarized",defaultMessage:"Summarized by Atlassian Intelligence"},ai_summarized_abbreviation:{id:"fabric.linking.ai_summarized_abbreviation",defaultMessage:"Summarized by AI"},ai_summarized_info:{id:"fabric.linking.ai_summarized_info",defaultMessage:"Information quality may vary. <a>Learn more</a>"},ai_summarized_info_short:{id:"fabric.linking.ai_summarized_info_short",defaultMessage:"Content quality may vary"},ai_summarizing:{id:"fabric.linking.ai_summarizing",defaultMessage:"Atlassian Intelligence is working..."},ai_summary_error_generic:{id:"fabric.linking.ai_summary_error_generic",defaultMessage:"Atlassian Intelligence (AI) isnâ€™t responding. Try again later or <a>check the status of AI</a>."},ai_summary_error_acceptable_use_violation:{id:"fabric.linking.ai_summary_error_acceptable_use_violation",defaultMessage:"We cannot show the results of this summary as it goes against <a>Atlassian's Acceptable Use Policy</a>."},ai_summary_error_hipaa_content_detected:{id:"fabric.linking.ai_summary_error_hipaa_content_detected",defaultMessage:"Atlassian Intelligence was unable to process your request as your content contains links to HIPAA restricted content."},ai_summary_error_exceeding_context_length_error:{id:"fabric.linking.ai_summary_error_exceeding_context_length_error",defaultMessage:"Atlassian Intelligence can't generate a summary for you right now as there is too much content to summarize."},assigned_to:{id:"fabric.linking.assigned_to",defaultMessage:"Assigned to {context}"},change_status:{id:"fabric.linking.change_status",defaultMessage:"Change status: {status}"},automation_action_title:{id:"fabric.linking.automation-action.title",defaultMessage:"View automation rules"},automation_action_icon_label:{id:"fabric.linking.automation-action.icon.label",defaultMessage:"Automation icon"},automation_action_tooltip:{id:"fabric.linking.automation-action.tooltip",defaultMessage:"Select an automation rule to run"},automation_action_confluence_page_modal_title:{id:"fabric.linking.automation-action.confluence.page.modal.title",defaultMessage:"Page automations"},automation_action_confluence_page_modal_description:{id:"fabric.linking.automation-action.confluence.page.modal.description",defaultMessage:"Apply an automation to <b>{name}</b>.{br}The available selections are controlled by Confluence and space administrators."},cancel:{id:"fabric.linking.cancel",defaultMessage:"Cancel"},beta:{id:"fabric.linking.beta",defaultMessage:"Beta"},cannot_connect:{id:"fabric.linking.cannot_connect",defaultMessage:"Can't connect, try again"},cannot_find_link:{id:"fabric.linking.cannot_find_link",defaultMessage:"Can't find link"},click_to_join:{id:"fabric.linking.click_to_join",defaultMessage:"Join {context}"},click_to_join_description:{id:"fabric.linking.click_to_join_description",defaultMessage:"You've been approved, so you can join {context} right away."},close:{id:"fabric.linking.close",defaultMessage:"Close"},check_this_link:{id:"fabric.linking.check_this_link",defaultMessage:"Check this link"},compass_applied_components_count:{id:"compass.applied_components_count.non-final",defaultMessage:"Applied to {numberOfComponents, plural, one {{numberOfComponents, number} component}  other {{numberOfComponents, number} components}}"},connect_to:{id:"fabric.linking.connect_to",defaultMessage:"Connect to {name}"},connect_account_description:{id:"fabric.linking.connect_account_description",defaultMessage:"We'll open a new page to help you connect your {name} account"},connect_link_account:{id:"fabric.linking.connect_link_account",defaultMessage:"Connect to preview"},connect_link_account_card:{id:"fabric.linking.connect_link_account_card_view",defaultMessage:"Connect"},connect_link_account_card_name:{id:"fabric.linking.connect_link_account_card_view_name",defaultMessage:"Connect your {context} account"},connect_link_account_card_description:{id:"fabric.linking.connect_link_account_card_view_description",defaultMessage:"To show a preview of this link, connect your {context} account."},connect_unauthorised_account_action:{id:"fabric.linking.connect_unauthorised_account_action",defaultMessage:"Connect to {context}"},connect_unauthorised_account_description:{id:"fabric.linking.connect_unauthorised_account_description",defaultMessage:"Connect your {context} account to collaborate on work across Atlassian products."},connect_unauthorised_account_description_no_provider:{id:"fabric.linking.connect_unauthorised_account_description_no_provider",defaultMessage:"Connect your account to collaborate on work across Atlassian products."},continue:{id:"fabric.linking.continue",defaultMessage:"Continue"},copy_url_to_clipboard:{id:"fabric.linking.copy_url_to_clipboard",defaultMessage:"Copy link"},copied_url_to_clipboard:{id:"fabric.linking.copied_url_to_clipboard",defaultMessage:"Copied!"},could_not_load_link:{id:"fabric.linking.couldnt_load_link",defaultMessage:"We couldn't load this link for an unknown reason."},created_by:{id:"fabric.linking.created_by",defaultMessage:"Created by {context}"},created_on_relative:{id:"fabric.linking.create_on_relative",defaultMessage:"Created {context}"},created_on_absolute:{id:"fabric.linking.create_on_absolute",defaultMessage:"Created on {context}"},delete:{id:"fabric.linking.delete",defaultMessage:"Delete"},download:{id:"fabric.linking.download",defaultMessage:"Download"},download_description:{id:"fabric.linking.download_description",defaultMessage:"Download this file into your local storage"},download_file:{id:"fabric.linking.download_file",defaultMessage:"Download file"},ai_summary_action:{id:"fabric.linking.ai_summary_action",defaultMessage:"Summarize with AI"},ai_summary_action_description:{id:"fabric.linking.ai_summary_action_description",defaultMessage:"Summarize the content of this link using Atlassian Intelligence."},copy_summary_action:{id:"fabric.linking.copy_summary_action",defaultMessage:"Copy summary"},copy_summary_action_description:{id:"fabric.linking.copy_summary_action_description",defaultMessage:"Copy summary"},copied_summary_action_description:{id:"fabric.linking.copied_summary_action_description",defaultMessage:"Copied summary to clipboard"},edit:{id:"fabric.linking.edit",defaultMessage:"Edit"},follow:{id:"fabric.linking.follow",defaultMessage:"Follow"},follow_project_description:{id:"fabric.linking.follow_project_description",defaultMessage:"Follow to get notifications on this project"},follow_project:{id:"fabric.linking.follow_project",defaultMessage:"Follow project"},follow_project_error:{id:"fabric.linking.follow_project_error",defaultMessage:"We encountered an error while trying to follow the project. Check your connection or refresh the page and try again."},follow_goal_description:{id:"fabric.linking.follow_goal_description",defaultMessage:"Follow this goal to get notifications on updates"},follow_goal:{id:"fabric.linking.follow_goal",defaultMessage:"Follow goal"},follow_goal_error:{id:"fabric.linking.follow_goal_error",defaultMessage:"We encountered an error while trying to follow the goal. Check your connection or refresh the page and try again."},go_back:{id:"fabric.linking.go_back",defaultMessage:"Go back"},invalid_permissions:{id:"fabric.linking.invalid_permissions",defaultMessage:"Restricted content"},invalid_permissions_description:{id:"fabric.linking.invalid_permissions_description",defaultMessage:"You'll need to request access or try a different account to view this preview."},join_to_view:{id:"fabric.linking.join_to_view",defaultMessage:"Join {context} to view this issue"},learn_more_about_smart_links:{id:"fabric.linking.learn_more_about_smart_links",defaultMessage:"Learn more about Smart Links."},learn_more_about_connecting_account:{id:"fabric.linking.learn_more_about_connecting_account",defaultMessage:"Learn more about connecting your account to Atlassian products."},loading:{id:"fabric.linking.loading",defaultMessage:"Loading..."},modified_by:{id:"fabric.linking.updated_by",defaultMessage:"Modified by {context}"},modified_on_relative:{id:"fabric.linking.modified_on_relative",defaultMessage:"Updated {context}"},modified_on_absolute:{id:"fabric.linking.modified_on_absolute",defaultMessage:"Updated on {context}"},more_actions:{id:"fabric.linking.more_actions",defaultMessage:"More actions"},open_issue_in_jira:{id:"fabric.linking.open_issue_in_jira",defaultMessage:"Open issue in Jira"},open_link_in_a_new_tab:{id:"fabric.linking.open_link_in_a_new_tab",defaultMessage:"Open link in a new tab"},owned_by:{id:"fabric.linking.owned_by",defaultMessage:"Owned by {context}"},owned_by_override:{id:"fabric.linking.owned_by_override",defaultMessage:"By {context}"},preview_description:{id:"fabric.linking.preview_description",defaultMessage:"Open a full screen preview of this link"},preview_improved:{id:"fabric.linking.preview_improved",defaultMessage:"Open preview"},preview_modal:{id:"fabric.linking.preview_modal",defaultMessage:"Open preview modal"},preview_panel:{id:"fabric.linking.preview_panel",defaultMessage:"Open preview panel"},preview_close:{id:"fabric.linking.preview_close",defaultMessage:"Close preview"},preview_max_size:{id:"fabric.linking.preview_max_size",defaultMessage:"View full screen"},preview_min_size:{id:"fabric.linking.preview_min_size",defaultMessage:"Close full screen"},priority_blocker:{id:"fabric.linking.priority_blocker",defaultMessage:"Blocker"},priority_critical:{id:"fabric.linking.priority_critical",defaultMessage:"Critical"},priority_high:{id:"fabric.linking.priority_high",defaultMessage:"High"},priority_highest:{id:"fabric.linking.priority_highest",defaultMessage:"Highest"},priority_low:{id:"fabric.linking.priority_low",defaultMessage:"Low"},priority_lowest:{id:"fabric.linking.priority_lowest",defaultMessage:"Lowest"},priority_major:{id:"fabric.linking.priority_major",defaultMessage:"Major"},priority_medium:{id:"fabric.linking.priority_medium",defaultMessage:"Medium"},priority_minor:{id:"fabric.linking.priority_minor",defaultMessage:"Minor"},priority_trivial:{id:"fabric.linking.priority_trivial",defaultMessage:"Trivial"},priority_undefined:{id:"fabric.linking.priority_undefined",defaultMessage:"Undefined"},forbidden_access:{id:"fabric.linking.forbidden_access",defaultMessage:"Your access is forbidden"},pending_request:{id:"fabric.linking.pending_request",defaultMessage:"Your access request is pending"},read_time:{id:"fabric.linking.read_time",defaultMessage:"{context} min read"},restricted_link:{id:"fabric.linking.restricted_link",defaultMessage:"Restricted link, try another account"},request_access_to_view:{id:"fabric.linking.request_access_to_view",defaultMessage:"Request access to {context} to view this issue"},request_denied:{id:"fabric.linking.request_denied",defaultMessage:"Your access request was denied"},retry:{id:"fabric.linking.retry",defaultMessage:"Retry"},save:{id:"fabric.linking.save",defaultMessage:"Save"},sent_on_relative:{id:"fabric.linking.sent_on_relative",defaultMessage:"Sent {context}"},sent_on_absolute:{id:"fabric.linking.sent_on_absolute",defaultMessage:"Sent on {context}"},status_change_load_error:{id:"fabric.linking.status_change_load_error",defaultMessage:"We couldnâ€™t load the statuses and transitions"},status_change_permission_error:{id:"fabric.linking.status_change_permission_error",defaultMessage:"You donâ€™t have permission to transition this issue. "},status_change_update_error:{id:"fabric.linking.status_change_update_error",defaultMessage:"We couldnâ€™t update the status"},try_again:{id:"fabric.linking.try_again",defaultMessage:"Try again"},try_another_account:{id:"fabric.linking.try_another_account",defaultMessage:"Try another account"},link_safety_warning_message:{id:"fabric.linking.link_safety_warning_message",defaultMessage:"The link {unsafeLinkText} is taking you to a different site, <a>actual link here</a>"},unauthorised_account_description:{id:"fabric.linking.unauthorised_account_description",defaultMessage:"You're trying to preview a link to a private {context} page. We recommend you review the URL or contact the page owner."},unauthorised_account_description_no_provider:{id:"fabric.linking.unauthorised_account_description_no_provider",defaultMessage:"You're trying to preview a link to a private page. We recommend you review the URL or contact the page owner."},unauthorised_account_name:{id:"fabric.linking.unauthorised_account_name",defaultMessage:"We can't display private pages from {context}"},unauthorised_account_name_no_provider:{id:"fabric.linking.unauthorised_account_name_no_provider",defaultMessage:"We can't display private pages"},unassigned:{id:"fabric.linking.unassigned",defaultMessage:"Unassigned"},unfollow:{id:"fabric.linking.unfollow",defaultMessage:"Unfollow"},unfollow_project_description:{id:"fabric.linking.unfollow_project_description",defaultMessage:"Unfollow to stop receiving project notifications"},unfollow_project:{id:"fabric.linking.unfollow_project",defaultMessage:"Unfollow project"},unfollow_project_error:{id:"fabric.linking.unfollow_project_error",defaultMessage:"We encountered an error while trying to unfollow the project. Check your connection or refresh the page and try again."},unfollow_goal_description:{id:"fabric.linking.unfollow_goal_description",defaultMessage:"Unfollow to stop receiving notifications for this goal"},unfollow_goal:{id:"fabric.linking.unfollow_goal",defaultMessage:"Unfollow goal"},unfollow_goal_error:{id:"fabric.linking.unfollow_goal_error",defaultMessage:"We encountered an error while trying to unfollow the goal. Check your connection or refresh the page and try again."},unlink_account:{id:"fabric.linking.unlink_account",defaultMessage:"Unlink Account"},view:{id:"fabric.linking.view",defaultMessage:"View"},viewIn:{id:"fabric.linking.srclink",defaultMessage:"View in"},viewOriginal:{id:"fabric.linking.srclinkunknown",defaultMessage:"View Original"},default_no_access_title:{id:"fabric.linking.no_access_title",defaultMessage:"Join {product} to view this content"},direct_access_title:{id:"fabric.linking.direct_access_title",defaultMessage:"Join {product} to view this content"},direct_access_description:{id:"fabric.linking.direct_access_description",defaultMessage:"Your team uses {product} to collaborate and you can start using it right away!"},direct_access:{id:"fabric.linking.direct_access",defaultMessage:"Join now"},request_access_description:{id:"fabric.linking.request_access_description",defaultMessage:"Your team uses {product} to collaborate. Send your admin a request for access."},request_access:{id:"fabric.linking.request_access",defaultMessage:"Request access"},request_access_pending_title:{id:"fabric.linking.request_access_pending_title",defaultMessage:"Access to {product} is pending"},request_access_pending_description:{id:"fabric.linking.request_access_pending_description",defaultMessage:"Your request to access {hostname} is awaiting admin approval."},request_access_pending:{id:"fabric.linking.request_access_pending",defaultMessage:"Pending approval"},request_denied_description:{id:"fabric.linking.request_denied_description",defaultMessage:"Your admin didn't approve your request to view {product} pages from {hostname}."},access_exists_description:{id:"fabric.linking.access_exists_description",defaultMessage:"Request access to view this content from {hostname}."},not_found_description:{id:"fabric.linking.not_found_description",defaultMessage:"The page doesn't exist or it may have changed after this link was added."},not_found_title:{id:"fabric.linking.not_found_title",defaultMessage:"We can't show you this {product} page"},forbidden_title:{id:"fabric.linking.forbidden_title",defaultMessage:"You don't have access to this content"},forbidden_description:{id:"fabric.linking.forbidden_description",defaultMessage:"Contact your admin to request access to {hostname}."},related:{id:"fabric.linking.related",defaultMessage:"Related"},generic_error_message:{id:"fabric.linking.generic_error_message",defaultMessage:"An error occurred"},related_links_modal_title:{id:"fabric.linking.related_links_modal_title",defaultMessage:"Related links"},related_links_view_related_urls:{id:"fabric.linking.related_links_view_related_urls",defaultMessage:"View recent links"},related_links_view_related_links:{id:"fabric.linking.related_links_view_related_links",defaultMessage:"View related links"},related_links_found_in:{id:"fabric.linking.related_links_found_in",defaultMessage:"Found in"},related_links_not_found:{id:"fabric.linking.related_links_not_found",defaultMessage:"We didn't find any links to show here."},related_links_includes_links_to:{id:"fabric.linking.related_links_includes_links_to",defaultMessage:"Includes links to"},related_links_modal_error_title:{id:"fabric.linking.related_links_modal_error_title",defaultMessage:"We're having trouble loading related links"},related_links_modal_unavailable_title:{id:"fabric.linking.related_links_modal_unavailable_title",defaultMessage:"We couldn't find any related links"},related_links_modal_error_description:{id:"fabric.linking.related_links_modal_error_description",defaultMessage:"Check your connection or refresh the page to try again"},related_links_modal_unavailable_description:{id:"fabric.linking.related_links_modal_unavailable_description",defaultMessage:"We continuously review and add related links for updated pages or other content types"},join_to_viewIssueTermRefresh:{id:"fabric.linking.join_to_view-issue-term-refresh",defaultMessage:"Join {context} to view this work item"},open_issue_in_jiraIssueTermRefresh:{id:"fabric.linking.open_issue_in_jira-issue-term-refresh",defaultMessage:"Open work item in Jira"},request_access_to_viewIssueTermRefresh:{id:"fabric.linking.request_access_to_view-issue-term-refresh",defaultMessage:"Request access to {context} to view this work item"},status_change_permission_errorIssueTermRefresh:{id:"fabric.linking.status_change_permission_error-issue-term-refresh",defaultMessage:"You donâ€™t have permission to transition this work item. "},team_members_count:{id:"fabric.linking.team_members_count",defaultMessage:"{context} members"},user_attributes:{id:"fabric.linking.user_attributes",defaultMessage:"{context}"},follow_project_descriptionGalaxia:{id:"fabric.linking.follow_project_description-galaxia",defaultMessage:"Follow to get notifications on this space"},follow_project_errorGalaxia:{id:"fabric.linking.follow_project_error-galaxia",defaultMessage:"We encountered an error while trying to follow the space. Check your connection or refresh the page and try again."},unfollow_project_descriptionGalaxia:{id:"fabric.linking.unfollow_project_description-galaxia",defaultMessage:"Unfollow to stop receiving space notifications"},unfollow_project_errorGalaxia:{id:"fabric.linking.unfollow_project_error-galaxia",defaultMessage:"We encountered an error while trying to unfollow the space. Check your connection or refresh the page and try again."},connect_unauthorised_account_description_appify:{id:"fabric.linking.connect_unauthorised_account_description-appify",defaultMessage:"Connect your {context} account to collaborate on work across Atlassian apps."},connect_unauthorised_account_description_no_provider_appify:{id:"fabric.linking.connect_unauthorised_account_description_no_provider-appify",defaultMessage:"Connect your account to collaborate on work across Atlassian apps."},learn_more_about_connecting_account_appify:{id:"fabric.linking.learn_more_about_connecting_account-appify",defaultMessage:"Learn more about connecting your account to Atlassian apps."},learn_more_about_connecting_account_experiment_shorter:{id:"fabric.linking.learn_more_about_connecting_account_experiment_short",defaultMessage:"Turn your URLs into rich, interactive previews."}});e.exports.messages=r}),r("7DSoa",function(e,t){var r=a("42omo");e.exports.default=()=>{let{store:e,connections:t}=(0,a("eIleF").useSmartLinkContext)(),{getState:n}=e,{handleResolvedLinkResponse:s,handleResolvedLinkError:i}=(0,a("4IQbU").default)();return(0,r.useCallback)(async(e,r=!1,o=!1,l="")=>{let{details:c}=n()[e]||{status:a("5TXU5").SmartLinkStatus.Pending,details:void 0},d=!!(c&&c.data||(0,a("lyclm").isEntityPresent)(c));if(r||!d||o)return t.client.fetchData(e,r).then(t=>s(e,t,r,o)).catch(t=>i(e,t,void 0,o));(0,a("bIll3").addMetadataToExperience)("smart-link-rendered",l,{cached:!0})},[t.client,n,i,s])}}),r("4IQbU",function(e,t){var r=a("42omo"),n=a("jTxSS");e.exports.default=()=>{let{store:e,config:t}=(0,a("eIleF").useSmartLinkContext)(),{getState:s,dispatch:i}=e,o="disabled"!==t.authFlow,l=(0,r.useCallback)((e,t)=>{i((0,a("9gPkz").cardAction)(a("9gPkz").ACTION_UPDATE_METADATA_STATUS,{url:e},void 0,void 0,t))},[i]),c=(0,r.useCallback)((e,t,r,n)=>{let o={status:a("5TXU5").SmartLinkStatus.Pending,details:void 0},{details:c}=s()[e]||o,d=!!(c&&c.data);if(n)return void l(e,"errored");if("fatal"===t.kind)if(d)i((0,a("9gPkz").cardAction)(a("9gPkz").ACTION_RESOLVED,{url:e},c));else throw i((0,a("9gPkz").cardAction)(a("9gPkz").ACTION_ERROR,{url:e},c,t)),t;else"auth"===t.kind?i((0,a("9gPkz").cardAction)(a("9gPkz").ACTION_RESOLVED,{url:e},(0,a("4ibS1").getUnauthorizedJsonLd)())):"fallback"===t.kind?i((0,a("9gPkz").cardAction)(a("9gPkz").ACTION_ERROR_FALLBACK,{url:e},r,t)):i((0,a("9gPkz").cardAction)(a("9gPkz").ACTION_ERROR,{url:e},void 0,t))},[s,l,i]),d=(0,r.useCallback)((e,t,r,n)=>{l(e,"resolved"),r?i((0,a("9gPkz").cardAction)(a("9gPkz").ACTION_RELOADING,{url:e},t)):i((0,a("9gPkz").cardAction)(a("9gPkz").ACTION_RESOLVED,{url:e},t,void 0,void 0,n))},[l,i]),u=(0,r.useCallback)((e,t,r=!1,s)=>{let i=new URL(e).hostname,l=t?(0,a("btw9C").getStatus)(t):"fatal";return"unauthorized"!==l&&"forbidden"!==l||o?t&&"fatal"!==l?s&&"resolved"!==l?void c(e,new(0,a("jHnts").APIError)("error",i,a("bKqKH").ERROR_MESSAGE_METADATA),t,s):void(0,n.unstable_batchedUpdates)(()=>{d(e,t,r,s)}):void c(e,new(0,a("jHnts").APIError)("fatal",i,a("bKqKH").ERROR_MESSAGE_FATAL),void 0,s):void c(e,new(0,a("jHnts").APIError)("fallback",i,a("bKqKH").ERROR_MESSAGE_OAUTH),t,s)},[c,d,o]);return(0,r.useMemo)(()=>({handleResolvedLinkError:c,handleResolvedLinkResponse:u}),[c,u])}}),r("9gPkz",function(e,t){e.exports.ACTION_PENDING="pending",e.exports.ACTION_RESOLVING="resolving",e.exports.ACTION_RESOLVED="resolved",e.exports.ACTION_RELOADING="reloading",e.exports.ACTION_ERROR="errored",e.exports.ACTION_ERROR_FALLBACK="fallback",e.exports.ACTION_UPDATE_METADATA_STATUS="metadata",e.exports.cardAction=(e,{url:t},a,r,n,s)=>({type:e,url:t,payload:a,error:r,metadataStatus:n,ignoreStatusCheck:s})}),r("4ibS1",function(e,t){let a={"@context":{"@vocab":"https://www.w3.org/ns/activitystreams#",atlassian:"https://schema.atlassian.com/ns/vocabulary#",schema:"http://schema.org/"},"@type":"Object"};e.exports.getEmptyJsonLd=()=>a,e.exports.getUnauthorizedJsonLd=()=>({meta:{visibility:"restricted",access:"unauthorized",auth:[],definitionId:"provider-not-found"},data:{...a}}),e.exports.getForbiddenJsonLd=()=>({meta:{visibility:"restricted",access:"forbidden",auth:[],definitionId:"provider-not-found"},data:{...a}})}),r("bKqKH",function(e,t){e.exports.ERROR_MESSAGE_OAUTH="Provider.authFlow is not set to OAuth2.",e.exports.ERROR_MESSAGE_FATAL="Fatal error resolving URL",e.exports.ERROR_MESSAGE_METADATA="Error resolving metadata."}),r("9oOnT",function(t,r){var n=a("42omo"),s=a("dQl1W");let i="smart-link-action-invocation";t.exports.default=({fireEvent:t})=>{let{fireEvent:r}=(0,a("kKODE").useAnalyticsEvents)(),o=t??r;return(0,n.useCallback)(async({actionSubjectId:t,actionType:r,actionFn:n,definitionId:l=null,extensionKey:c,display:d,id:u,resourceType:p=null})=>{let m=e(s)(),f=`${m}-${r}`;a("l6tPN").mark(f,"pending");try{(0,a("bIll3").startUfoExperience)(i,m,{actionType:r,display:d,extensionKey:c,invokeType:"client"}),void 0!==t&&o(`ui.button.clicked.${t}`,{actionType:r??null,definitionId:l,display:d??null,id:u??m,resourceType:p});let e=await n();return a("l6tPN").mark(f,"resolved"),(0,a("bIll3").succeedUfoExperience)(i,m),o("operational.smartLinkAction.resolved",{actionType:r??null,definitionId:l,display:d??null,duration:a("l6tPN").getMeasure(f,"resolved")?.duration??null,id:u??m,resourceType:p}),e}catch(t){a("l6tPN").mark(f,"errored"),(0,a("bIll3").failUfoExperience)(i,m);let e="string"==typeof t?t:t?.message;o("operational.smartLinkAction.unresolved",{actionType:r??null,definitionId:l,display:d??null,duration:a("l6tPN").getMeasure(f,"errored")?.duration??null,id:u??m,reason:e,resourceType:p})}},[o])}}),r("l6tPN",function(e,t){let a="undefined"!=typeof window&&"performance"in window&&["measure","clearMeasures","clearMarks","getEntriesByName","getEntriesByType"].every(e=>!!performance[e]),r=(e,t)=>`${t}:${e}`,n=(e,t)=>`time-to-${t}:${e}`,s=(e,t)=>{if(a){let a=r(e,t),n=performance.getEntriesByName(a);return n.length>0?n[0]:void 0}},i=(e,t)=>{if(a){let a=n(e,t),r=performance.getEntriesByName(a);return r.length>0?r[0]:void 0}};e.exports.clearMarks=e=>{a&&performance.getEntriesByType("mark").filter(t=>t.name.includes(e)).forEach(e=>performance.clearMarks(e.name))},e.exports.clearMeasures=e=>{a&&performance.getEntriesByType("measure").filter(t=>t.name.includes(e)).forEach(e=>performance.clearMeasures(e.name))},e.exports.getMeasure=i,e.exports.mark=(e,t)=>{if(a){let a=r(e,t);performance.mark(a)}},e.exports.create=(e,t)=>{if(a){let a=n(e,t);if(!i(e,t)){let r=s(e,"pending"),n=s(e,t);r&&n&&performance.measure(a,r.name,n.name)}}}}),r("4gM1A",function(e,t){var r,n=a("42omo");(r={})[r.Left=0]="Left",r[r.Middle=1]="Middle",r[r.Right=2]="Right";let s=(e,t)=>{let{createAnalyticsEvent:r}=(0,a("inPa6").useAnalyticsEvents)();return(0,n.useCallback)((...n)=>{let[s]=n;e?.apply(null,n),(!t||t?.(s))&&(0,a("6wQZE").fireLinkClickedEvent)(r)(s)},[e,t,r])},i=e=>0!==e.button;e.exports.useLinkClicked=s,e.exports.useMouseDownEvent=e=>s(e,i)}),r("6wQZE",function(t,r){var n=a("42omo"),s=a("1oCLl");let i=new Map([[void 0,"none"],[0,"left"],[1,"middle"],[2,"right"]]),o=e=>["alt","ctrl","meta","shift"].filter(t=>!0===e[`${t}Key`]),l=e=>e instanceof HTMLElement&&e.isContentEditable;function c(e,t){let{mac:r,safari:n}=(0,a("4P6U3").browser)();if(l(e.currentTarget)&&["left","middle"].includes(t))return"contentEditable";switch(t){case"left":case"keyboard":if(e.metaKey)return r?"clickThroughNewTabOrWindow":"clickThrough";if(e.shiftKey){if(n)return"alt";return"clickThroughNewTabOrWindow"}if(e.ctrlKey){if(r)return"clickThrough";return"clickThroughNewTabOrWindow"}if(e.altKey)return"alt";if("_blank"===e.currentTarget.getAttribute("target"))return"clickThroughNewTabOrWindow";return"clickThrough";case"middle":return"clickThroughNewTabOrWindow";case"right":return"contextMenu"}return"unknown"}let d=({clickType:e,clickOutcome:t,keysHeld:a,defaultPrevented:r})=>({action:"clicked",actionSubject:"link",eventType:"ui",attributes:{clickType:e,clickOutcome:t,keysHeld:a,defaultPrevented:r}}),u=({clickType:e,clickOutcome:t,keysHeld:a,defaultPrevented:r,isConfluenceShortLink:n})=>({action:"clicked",actionSubject:"link",eventType:"ui",attributes:{clickType:e,clickOutcome:t,keysHeld:a,defaultPrevented:r,isConfluenceShortLink:n}}),p=(0,a("1I43V").functionWithCondition)(()=>(0,s.expValEquals)("smart_link_confluence_short_link_analytics","cohort","test"),e=>{let t=0===e.nativeEvent.detail?"keyboard":i.get(e.button);if(!t)return;let a=c(e,t),r=o(e),n=e.defaultPrevented,s=!1;e.currentTarget instanceof HTMLAnchorElement&&(s=e.currentTarget.href.includes("/l/cp/"));let l=u({clickType:t,clickOutcome:a,keysHeld:r,defaultPrevented:n,isConfluenceShortLink:s});if(!(e.currentTarget instanceof HTMLAnchorElement))return l;{let t=e.currentTarget.href;return{...l,nonPrivacySafeAttributes:{url:t}}}},e=>{let t=0===e.nativeEvent.detail?"keyboard":i.get(e.button);if(!t)return;let a=c(e,t),r=d({clickType:t,clickOutcome:a,keysHeld:o(e),defaultPrevented:e.defaultPrevented});if(!(e.currentTarget instanceof HTMLAnchorElement))return r;{let t=e.currentTarget.href;return{...r,nonPrivacySafeAttributes:{url:t}}}}),m=e=>"string"==typeof e?e:e.displayName||e.name||"Component";t.exports.fireLinkClickedEvent=e=>(t,r={})=>{let n=p(t);n&&e({...n,...r,attributes:{...n.attributes,...r?.attributes},nonPrivacySafeAttributes:{...n.nonPrivacySafeAttributes,...r?.nonPrivacySafeAttributes}}).fire(a("lgqac").ANALYTICS_CHANNEL)},t.exports.withLinkClickedEvent=function(t){let r=r=>{let s=(0,a("4gM1A").useLinkClicked)(r.onClick),i=(0,a("4gM1A").useMouseDownEvent)(r.onMouseDown);return e(n).createElement(t,{...r,onClick:s,onMouseDown:i})};return r.displayName=`withLinkClickedEvent(${m(t)})`,r}}),r("1I43V",function(e,t){e.exports.functionWithCondition=function(e,t,a){return(...r)=>e()?t(...r):a(...r)}}),r("a43ao",function(e,t){var r=a("42omo"),n=a("3uVVG");e.exports.useSmartCardActions=(e,t)=>{let s=(0,a("7DSoa").default)(),i=(0,a("9oOnT").default)({}),{fireEvent:o}=(0,a("kKODE").useAnalyticsEvents)(),{store:l}=(0,a("eIleF").useSmartLinkContext)(),{getState:c,dispatch:d}=l,u=(0,r.useCallback)(()=>{let{details:e,status:r,metadataStatus:n}=c()[t]??{status:a("5TXU5").SmartLinkStatus.Pending};return{details:e,status:r,metadataStatus:n}},[c,t]),p=(0,r.useCallback)(e=>{d((0,a("9gPkz").cardAction)(a("9gPkz").ACTION_UPDATE_METADATA_STATUS,{url:t},void 0,void 0,e))},[d,t]),m=(0,r.useCallback)(async(a=t,r=!1,n=!1)=>s(a,r,n,e),[e,s,t]),f=(0,r.useCallback)(()=>{let{details:e}=u();return e||(d((0,a("9gPkz").cardAction)(a("9gPkz").ACTION_RESOLVING,{url:t})),p("pending")),m()},[u,m,d,t,p]),g=(0,r.useCallback)(()=>{let{details:e}=u(),r=(0,a("226XV").getDefinitionId)(e);r?(0,a("226XV").getByDefinitionId)(r,c()).map(e=>m(e,!0)):m(t,!0)},[u,t,c,m]),h=(0,r.useCallback)(()=>{let{metadataStatus:e}=u();if(void 0===e)return p("pending"),m(t,!1,!0)},[u,m,p,t]),E=(0,r.useCallback)(t=>{let{details:r,status:s}=u(),i=(0,a("226XV").getDefinitionId)(r),l=(0,a("226XV").getExtensionKey)(r),c=(0,a("226XV").getServices)(r);"unauthorized"===s&&o("ui.button.clicked.connectAccount",{display:t,definitionId:i??null}),"forbidden"===s&&o("ui.smartLink.clicked.tryAnotherAccount",{display:t,definitionId:i??null}),c.length>0&&(o("screen.consentModal.viewed",{definitionId:i??null}),(0,n.auth)(c[0].url).then(()=>{o("track.applicationAccount.connected",{definitionId:i??null}),(0,a("bIll3").startUfoExperience)("smart-link-authenticated",e,{extensionKey:l,status:"success"}),o("operational.smartLink.connectSucceeded",{definitionId:i??null}),g()},r=>{(0,a("bIll3").startUfoExperience)("smart-link-authenticated",e,{extensionKey:l,status:r.type}),o("operational.smartLink.connectFailed",{definitionId:i??null,reason:r.type??null}),"auth_window_closed"===r.type&&o("ui.consentModal.closed",{display:t,definitionId:i??null}),g()}))},[u,e,g,o]),b=(0,r.useCallback)(async(e,t)=>{let{key:a,action:r}=e,n=e.source||t;if("client"===e.type)return await i({actionFn:e.action.promise,actionType:r.type,display:n,extensionKey:a})},[i]);return(0,r.useMemo)(()=>({register:f,reload:g,authorize:E,invoke:b,loadMetadata:h}),[f,g,E,b,h])}}),r("3uVVG",function(e,r){t(e.exports,"AuthError",()=>a("uvNb9").AuthError);var n=a("uvNb9"),s=a("9P47v");e.exports.auth=function(e,t){return new Promise((a,r)=>{let i,o=null,l=e=>{if(e.source!==o)return;let{data:t}=e;if("object"==typeof t)switch(t.type){case"outbound-auth:success":c(),a();break;case"outbound-auth:failure":c();let i=t.errorType.toLowerCase();(0,s.isOfTypeAuthError)(i)?r(new(0,n.AuthError)(t.message,i)):r(new(0,n.AuthError)(t.message))}},c=()=>{clearInterval(i),window.removeEventListener("message",l),o&&(o.close(),o=null)};window.addEventListener("message",l),o=window.open(e,e,t),i=window.setInterval(()=>{o&&o.closed&&(c(),r(new(0,n.AuthError)("The auth window was closed","auth_window_closed")))},500)})}}),r("uvNb9",function(e,t){e.exports.AuthError=class extends Error{constructor(e,t){super(e),this.message=e,this.type=t,this.name="AuthError",this.type=t,this.message=e}}}),r("9P47v",function(e,t){e.exports.isOfTypeAuthError=e=>["auth_window_closed","invalid_request","unauthorized_client","access_denied","unsupported_response_type","invalid_scope","server_error","temporarily_unavailable","authclientoauth2.autherror"].includes(e)}),r("226XV",function(e,t){let r=e=>{try{let t=new URL(e),a=t.pathname.match(/\/wiki\/spaces\/[^\/]+\/pages\/(\d+)(?:\/|$)/);if(a&&a[1])return a[1];let r=t.searchParams.get("pageId");if(r)return r;let n=t.pathname.match(/\/wiki\/display\/[^\/]+\/(\d+)/);if(n&&n[1])return n[1]}catch{}},n=e=>{try{let t=new URL(e).searchParams.get("content.id");if(t)return t;let a=e.match(/[?&]content\.id=(\d+)/);if(a&&a[1])return a[1]}catch{}},s=e=>{try{let t=new URL(e),a=t.pathname.match(/\/browse\/([A-Za-z0-9]+-\d+)/);if(a&&a[1])return a[1];let r=t.pathname.match(/\/jira\/browse\/([A-Za-z0-9]+-\d+)/);if(r&&r[1])return r[1];let n=t.searchParams.get("selectedIssue");if(n&&/^[A-Za-z0-9]+-\d+$/.test(n))return n;let s=t.searchParams.get("issueKey");if(s&&/^[A-Za-z0-9]+-\d+$/.test(s))return s}catch{}},i=()=>{try{let e=window.location.href,t=new URL(e),a=t.hostname.toLowerCase(),r=t.pathname.toLowerCase();if(a.includes("confluence")||r.includes("/wiki/")||r.includes("/display/")||r.includes("/spaces/"))return"confluence";if(a.includes("jira")||r.includes("/browse/")||r.includes("/projects/")||r.includes("/secure/"))return"jira"}catch{}};e.exports.getByDefinitionId=(e,t)=>Object.keys(t).filter(a=>{let{details:r}=t[a];return r&&r.meta.definitionId===e}),e.exports.getClickUrl=(e,t)=>{if(t&&t.data){let e=(0,a("15C2j").extractVisitUrl)(t.data);if(e)return e}return e},e.exports.getDefinitionId=e=>e?.meta?.definitionId,e.exports.getExtensionKey=e=>e?.meta?.key,e.exports.getObjectAri=e=>e?.data&&"atlassian:ari"in e.data&&e.data["atlassian:ari"]||void 0,e.exports.getThirdPartyARI=e=>{if((0,a("dh538").fg)("platform_smartlink_3pclick_analytics")){if(e?.entityData&&"thirdPartyAri"in e.entityData&&e.entityData.thirdPartyAri)return e.entityData.thirdPartyAri;if(e?.data&&"atlassian:ari"in e.data&&"string"==typeof e.data["atlassian:ari"]){let t=e.data["atlassian:ari"];if(t.includes("ari:third-party"))return t}}},e.exports.getFirstPartyIdentifier=()=>{if(!(0,a("dh538").fg)("platform_smartlink_3pclick_analytics"))return;let e=i(),t=window.location.href;if("confluence"===e){if(t.includes("content.id")){let e=n(t);if(e)return`ConfluenceContentId:${e}`}let e=r(t);if(e)return`ConfluencePageId:${e}`}else if("jira"===e){let e=s(t);if(e)return`JiraIssueKey:${e}`}},e.exports.getObjectName=e=>e?.data&&"name"in e.data&&e.data.name||void 0,e.exports.getObjectIconUrl=e=>{if(e?.data&&"icon"in e.data&&e.data.icon&&"object"==typeof e.data.icon&&"url"in e.data.icon&&e.data.icon.url&&"string"==typeof e.data.icon.url)return e.data.icon.url},e.exports.getResourceType=e=>e?.meta?.resourceType,e.exports.getServices=e=>e&&e.meta.auth||[],e.exports.isFinalState=e=>["unauthorized","forbidden","errored","resolved","not_found"].indexOf(e)>-1,e.exports.hasAuthScopeOverrides=e=>!!e?.meta.hasScopeOverrides}),r("15C2j",function(e,t){e.exports.extractVisitUrl=e=>e["atlassian:visitUrl"]}),r("7Vxvp",function(e,t){var r=a("42omo"),n=a("aeAfU");let s={button:"_1e0c1bgi",innerContainer:"_1e0c1nu9 _1y1m1u8q _16d9qvcn _k48p1wq8 _19bv12x7 _ca0qv77o _n3tdv77o _u5f312x7 _y3gn18uv _o5721btx _1nmz9jpi",enabled:"_syazi7uo _80omtlke _bfhki8nm _irr3plhp _1di61gdz",disabled:"_syaz1gmx _80om13gf _bfhkby5v"},i={control:"_syazi7uo _80omtlke _bfhki8nm _irr3plhp _1di61gdz",test1:"_syaz15cr _80omtlke _bfhkjmqp _qrwqlb4i _1o0zlb4i _13lilb4i _mrkblb4i _ca0qt94y _n3tdt94y _2hwxt94y _k48pi7a9 _irr31q28 _1di612kk",test2:"_syaz15cr _80omtlke _bfhk1i45 _qrwqlb4i _1o0zlb4i _irr3byip _1di61van"},o=(0,r.forwardRef)(({children:e,isDisabled:t,viewType:o="default",...l},c)=>{let d="unauthorised"===o?(0,n.expVal)("platform_inline_smartcard_connect_button_exp","cohort","control"):"control";return r.createElement(a("fVUfS").default,{...l,isDisabled:t,ref:c,style:{font:"inherit"},xcss:s.button},r.createElement("span",{tabIndex:t?void 0:0,className:(0,a("gMc0m").default)([s.innerContainer,t?s.disabled:"control"!==d?i[d]:s.enabled])},e))});e.exports.ActionButton=o}),r("dLAsE",function(e,t){var r=a("42omo");e.exports.useSmartLinkEvents=function(){return(0,r.useMemo)(()=>new(0,a("lgqac").SmartLinkEvents),[])},e.exports.useFire3PWorkflowsClickEvent=function(e,t){let{createAnalyticsEvent:r}=(0,a("inPa6").useAnalyticsEvents)();return()=>{r({action:"clicked",actionSubject:"smartLink",actionSubjectId:"smartlinkClickAnalyticsWorkflows",eventType:"ui",attributes:{eventName:"smartLinkClickAnalyticsThirdPartyWorkflows",firstPartyIdentifier:e},nonPrivacySafeAttributes:{thirdPartyARI:t}}).fire("media")}}}),r("b7FrM",function(e,t){e.exports.ADFEncoder=class{constructor(e){var t;this.encode=void 0;let r=e(a("iyDxB").defaultSchema);this.encode=(t=new(0,a("h9yJL").JSONTransformer),e=>t.encode(r.parse(e)))}},e.exports.getText=e=>e.text||e.attrs&&(e.attrs.text||e.attrs.shortName)||`[${"string"==typeof e.type?e.type:e.type.name}]`,e.exports.getEventHandler=(e,t,a="onClick")=>e&&t&&e[t]&&e[t][a],e.exports.findInTree=function e(t,a,r){return t!==a&&(!!r(t)||!!t.parentElement&&e(t.parentElement,a,r))}}),r("fPkhr",function(e,t){e.exports.shallowEqualObjects=function(e,t){if(e===t)return!0;if(!e||!t)return!1;let a=Object.keys(e),r=Object.keys(t),n=a.length;if(r.length!==n)return!1;for(let r=0;r<n;r++){let n=a[r];if(e[n]!==t[n]||!Object.prototype.hasOwnProperty.call(t,n))return!1}return!0}}),r("hn4RR",function(r,n){t(r.exports,"default",()=>l);var s=a("42omo");let i=(0,a("6wQZE").withLinkClickedEvent)("a"),o=(0,a("6wQZE").withLinkClickedEvent)(a("2Nwuj").default);var l=(0,a("ggbZE").default)({packageName:"platform-pkg",packageVersion:"0.0.0-use.local",componentName:"linkUrl"})(({href:t,children:r,checkSafety:n=!0,onClick:l,testId:c="link-with-safety",isLinkComponent:d=!1,enableResolve:u=!1,...p})=>{(0,a("fBMbo").di)(o,a("lKhNz").useLinkWarningModal);let{isLinkSafe:m,showSafetyWarningModal:f,...g}=(0,a("lKhNz").useLinkWarningModal)();if(a("c6GJD").default.checkGate("platform_editor_resolve_hyperlinks_killswitch")){let i=u?a("gIdjl").HyperlinkWithSmartLinkResolver:a("18ASy").default;return e(s).createElement(e(s).Fragment,null,e(s).createElement(a("6wR36").LinkAnalyticsContext,{url:t,display:"url"},e(s).createElement(i,{href:t,isLinkComponent:d,onClick:e=>{if(!n){l&&l(e);return}m(e,t)?l&&l(e):f(e,t)},...p},r)),n&&e(s).createElement(a("jUMCq").default,g))}let h=d?o:i;return e(s).createElement(e(s).Fragment,null,e(s).createElement(a("6wR36").LinkAnalyticsContext,{url:t,display:"url"},e(s).createElement(h,{...d?{testId:c}:{"data-testid":c},href:t||"",onClick:e=>{if(!n){l&&l(e);return}m(e,t)?l&&l(e):f(e,t)},...p},r)),n&&e(s).createElement(a("jUMCq").default,g))})}),r("6wR36",function(t,r){var n=a("42omo");t.exports.LinkAnalyticsContext=({display:t,id:r,children:s,source:i})=>e(n).createElement(a("bYRk6").default,{data:{source:i,attributes:{displayCategory:"url"===t?"link":void 0,display:t,id:r}}},s)}),r("18ASy",function(t,r){var n=a("42omo");let s=(0,a("6wQZE").withLinkClickedEvent)("a"),i=(0,a("6wQZE").withLinkClickedEvent)(a("2Nwuj").default);t.exports.default=({href:t,children:a,testId:r,isLinkComponent:o=!1,...l})=>e(n).createElement(o?i:s,{...o?{testId:r}:{"data-testid":r},href:t||"",...l},a)}),r("gIdjl",function(t,r){let n,s;var i=a("42omo");let o=(0,a("lAJUP").withErrorBoundary)((n=(0,a("gmMgo").default)((0,a("8jBuy").default)(({onClick:t,...r})=>{let{actions:n,state:s}=(0,a("jMHhY").default)({href:r.href||""}),o=(0,a("226XV").getServices)(s?.details),l=(0,a("226XV").getThirdPartyARI)(s?.details),c=(0,a("226XV").getFirstPartyIdentifier)(),d=(0,a("dh538").fg)("platform_smartlink_3pclick_analytics")?(0,a("dLAsE").useFire3PWorkflowsClickEvent)(c,l):void 0,u=(0,i.useCallback)(e=>{s?.status==="resolved"&&e?.button===0&&d&&(0,a("dh538").fg)("platform_smartlink_3pclick_analytics")&&d(),t?.(e)},[t,d,s?.status]),p=(0,i.useCallback)(()=>n.authorize("url"),[n]);if(s?.status==="unauthorized"&&(()=>{if(!r.children||!Array.isArray(r.children)||0===r.children.length)return!1;let e=r.children[0];try{if("string"==typeof e)return r.href===e;if(e?.props?.children&&"string"==typeof e.props.children)return r.href===e.props.children}catch(e){return!1}})()&&(a("c6GJD").default.getExperimentValue("platform_linking_bluelink_connect_confluence","isEnabled",!1)||a("c6GJD").default.getExperimentValue("platform_linking_bluelink_connect_jira","isEnabled",!1))){let t=(0,a("79vw2").extractSmartLinkProvider)(s?.details);return e(i).createElement(a("055M6").default,{...r,onAuthorize:o?.length?p:void 0,onClick:u,showConnectBtn:o?.length>0,provider:t})}return e(i).createElement(a("18ASy").default,{...r,onClick:u})}),{enforceContext:!1}),s=a("18ASy").default,t=>(0,a("g6cf7").default)(t?.href)&&t.href?e(i).createElement(a("5MkWK").SmartLinkAnalyticsContext,{url:t.href,display:"url"},e(i).createElement(n,t)):e(i).createElement(s,t)),{FallbackComponent:()=>null});t.exports.HyperlinkWithSmartLinkResolver=o}),r("jMHhY",function(t,r){var n=a("42omo"),s=a("dQl1W");t.exports.default=({href:t})=>{let[r]=(0,n.useState)(()=>e(s)()),i=(0,a("lz9QA").useSmartCardState)(t),o=(0,a("226XV").getDefinitionId)(i.details),l=(0,a("226XV").getExtensionKey)(i.details),c=(0,a("226XV").getResourceType)(i.details),d=(0,a("a43ao").useSmartCardActions)(r,t),u=(0,a("lUh1d").useScheduledRegister)(t,d.register),{fireEvent:p}=(0,a("kKODE").useAnalyticsEvents)();return(0,n.useEffect)(()=>{u().catch(e=>{throw e})},[u]),(0,n.useEffect)(()=>{a("l6tPN").mark(r,i.status),"pending"!==i.status&&"resolving"!==i.status&&(a("l6tPN").create(r,i.status),"resolved"===i.status?p("operational.hyperlink.resolved",{definitionId:o??null,extensionKey:l??null,resourceType:c??null,duration:a("l6tPN").getMeasure(r,i.status)?.duration??null}):i.error?.type!=="ResolveUnsupportedError"&&i.error?.type!=="UnsupportedError"&&p("operational.hyperlink.unresolved",{definitionId:o??null,extensionKey:l??null,resourceType:c??null,reason:i.status,error:void 0===i.error?null:{name:i.error.name,kind:i.error.kind,type:i.error.type}}))},[r,i.status,i.error,o,l,c,p]),{state:i,actions:d}}}),r("lUh1d",function(e,t){var r=a("42omo");let n=new Map,s=new Map,i=e=>{let t=n.get(e)||[];0!==t.length&&(n.delete(e),s.delete(e),t.forEach(({register:e,resolve:t,reject:a})=>{e().then(t).catch(a)}))},o=(e,t)=>{n.has(e)||n.set(e,[]),n.get(e).push(t),s.has(e)&&clearTimeout(s.get(e)),s.set(e,setTimeout(()=>{i(e)},250))};e.exports.useScheduledRegister=(e,t)=>{let a=(0,r.useRef)(!1);return(0,r.useCallback)(()=>e&&t&&!a.current?(a.current=!0,new Promise((r,n)=>{let s=()=>{try{let s=new URL(e).hostname;o(s,{href:e,register:t,resolve:e=>{a.current=!1,r(e)},reject:e=>{a.current=!1,n(e)}})}catch(e){a.current=!1,t().then(r).catch(n)}};"undefined"!=typeof window?"requestIdleCallback"in window?window.requestIdleCallback(s):setTimeout(s,0):s()})):Promise.resolve(),[e,t])}}),r("g6cf7",function(e,t){var r=a("42omo");let n=["sharepoint.com","onedrive.live.com","docs.google.com","drive.google.com"],s=e=>{try{let t=new URL(e).hostname.toLowerCase();return n.some(e=>t.includes(e))}catch{return!1}};e.exports.default=(e="")=>!!(0,r.useContext)(a("eIleF").SmartCardContext)&&s(e)}),r("8jBuy",function(t,r){var n=a("42omo");t.exports.default=t=>r=>{let s=e(n).createElement(t,r);return r?.intl?s:e(n).createElement(a("1e2E5").default,{locale:"en"},s)}}),r("055M6",function(t,r){var n=a("42omo");t.exports.default=({onAuthorize:t,provider:r,showConnectBtn:s,...i})=>e(n).createElement(e(n).Fragment,null,e(n).createElement(a("18ASy").default,i),s&&e(n).createElement(e(n).Fragment,null," ",e(n).createElement(a("7Vxvp").ActionButton,{onClick:t,testId:"button-connect-account"},e(n).createElement(a("gtD4K").default,{...a("afp1H").messages.connect_link_account_card_name,values:{context:r?.text}}))))}),r("jUMCq",function(e,r){t(e.exports,"default",()=>s);var n=a("42omo"),s=(0,a("gmMgo").default)(e=>{let{isOpen:t,unsafeLinkText:r,url:s,onClose:i,onContinue:o,intl:l}=e,c=n.createElement(a("6xdDU").default,null,t&&n.createElement(a("8CZUH").default,{onClose:i,testId:"link-with-safety-warning"},n.createElement(a("9ot3w").default,{hasCloseButton:!0},n.createElement(a("d8eRd").default,{appearance:"warning"},n.createElement(a("gtD4K").default,a("afp1H").messages.check_this_link))),n.createElement(a("1DHa6").default,null,n.createElement("div",{className:(0,a("gMc0m").default)(["_o5726vc6 _1nmz9jpi"])},s&&r&&n.createElement(a("gtD4K").default,{...a("afp1H").messages.link_safety_warning_message,values:{unsafeLinkText:r,a:()=>n.createElement(a("2Nwuj").default,{href:s,target:"_blank",rel:"noopener noreferrer"},s)}}))),n.createElement(a("8o1lj").default,null,n.createElement(a("eEA8O").default,{appearance:"subtle",onClick:i},n.createElement(a("gtD4K").default,a("afp1H").messages.go_back)),n.createElement(a("eEA8O").default,{appearance:"warning",onClick:o,autoFocus:!0},n.createElement(a("gtD4K").default,a("afp1H").messages.continue)))));return l?c:n.createElement(a("1e2E5").default,{locale:"en"},c)},{enforceContext:!1})}),r("lKhNz",function(e,t){var r=a("42omo");let n=(e,t)=>{try{return new URL(e,t)}catch{return}};e.exports.useLinkWarningModal=()=>{let[e,t]=(0,r.useState)(null),[s,i]=(0,r.useState)(null),[o,l]=(0,r.useState)(!1),{createAnalyticsEvent:c}=(0,a("inPa6").useAnalyticsEvents)(),d=()=>{c({action:"viewed",actionSubject:"linkSafetyWarningModal",eventType:"screen",name:"linkSafetyWarningModal"}).fire(a("lgqac").ANALYTICS_CHANNEL)},u=()=>{c({action:"clicked",actionSubject:"button",actionSubjectId:"linkSafetyWarningModalContinue",eventType:"ui",screen:"linkSafetyWarningModal"}).fire(a("lgqac").ANALYTICS_CHANNEL)},p=()=>{l(!1),t(null),i(null)};return{isLinkSafe:(e,t)=>{let r;if(!t)return!0;let s=e.currentTarget.innerText,i=(0,a("l3dur").normalizeUrl)(s);if(!i)return!0;let o=new RegExp(/^#/im),l=o.test(s);if(o.test(t)||l||new RegExp(/^\//im).test(t))return!0;let c=n(t,window.location.origin),d=n(i,c?.origin);if(!c||!d)return!0;let u=window.location.origin;if(c?.origin===u&&d?.origin===u)return!0;let p=["http:","https:"];return r=p.includes(d.protocol)&&p.includes(c.protocol)?!d.username&&!d.password&&!c.username&&!c.password:d.protocol===c.protocol,!!(d.hostname===c.hostname&&d.pathname===c.pathname&&d.search===c.search&&d.username===c.username&&d.password===c.password&&r)},isOpen:o,onClose:p,onContinue:()=>{p(),u(),s&&window.open(s,"_blank","noopener noreferrer")},showSafetyWarningModal:(e,a)=>{e.preventDefault(),t(e.currentTarget.innerText),a&&i(a),l(!0),d()},unsafeLinkText:e,url:s}}}),r("l3dur",function(t,r){let n=e(a("2Gb84"))();n.add("sourcetree:","http:"),n.add("jamfselfservice:","http:"),n.add("notes:","http:");let s="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|Ñ€Ñ„".split("|");s.push("a[cdefgilmnoqrtuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrtuvwxyz]|n[acefgilopruz]|om|p[aefghkmnrtw]|qa|r[eosuw]|s[abcdegijklmnrtuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),n.tlds(s,!1);let i=[/^https?:\/\/[^\s]*$/im,/^ftps?:\/\//im,/^gopher:\/\//im,/^integrity:\/\//im,/^file:\/\//im,/^smb:\/\//im,/^dynamicsnav:\/\//im,/^jamfselfservice:\/\/[^\s]*$/im,/^\//im,/^mailto:/im,/^skype:/im,/^callto:[^\s]*$/im,/^facetime:[^\s]*$/im,/^git:/im,/^irc6?:/im,/^news:/im,/^nntp:/im,/^feed:/im,/^cvs:/im,/^svn:/im,/^mvn:/im,/^ssh:/im,/^scp:\/\//im,/^sftp:\/\//im,/^itms:/im,/^notes:/im,/^notes:\/\//im,/^hipchat:\/\//im,/^sourcetree:/im,/^urn:/im,/^tel:/im,/^xmpp:/im,/^telnet:/im,/^vnc:/im,/^rdp:/im,/^whatsapp:/im,/^slack:/im,/^sips?:/im,/^magnet:/im,/^foo:/im,/^#/im],o=e=>{let t=l(e);return t&&t.url||null},l=e=>{if(!e)return null;let t=d(e);return t.length||(t=n.match(e)),t&&t.length>0&&0===t[0].index&&t[0].lastIndex===e.trim().length?t[0]:null},c=/(https?|ftp|jamfselfservice|gopher|dynamicsnav|integrity|file|smb):\/\/[^\s]+/,d=e=>{let t,a=[];if(!c.test(e))return a;let r=0;for(;t=e.substr(r);){let e=(t.match(c)||[""])[0];if(e){let n=t.search(c),s=n>=0?n+r:n,i=s+e.length;a.push({index:s,lastIndex:i,raw:e,url:e,text:e,schema:""}),r+=i}else break}return a},u=e=>{let t=e.trim();return i.some(e=>e.test(t))};t.exports.isSafeUrl=u,t.exports.normalizeUrl=function(e){if(!e)return"";let t=e.replace(/[\r\n]+/g,"");return u(t)?t.trim():o(t)}}),r("3rvSa",function(t,r){var n=a("l998X"),s=a("42omo");let i=e(s).createContext(void 0);t.exports.MediaClientContext=i,t.exports.MediaClientProvider=({children:e,clientConfig:t})=>{let r=(0,s.useMemo)(()=>(0,a("grxv4").getMediaClient)(t),[t]);return(0,n.jsx)(i.Provider,{value:r,children:e})}}),r("dM0Qh",function(e,t){var r={qualifier:"ari",platformQualifier:"cloud",cloudId:RegExp("^[a-zA-Z0-9_\\-.]{1,255}$"),resourceOwner:a("dPsPU").ConfluenceEmbedAriResourceOwner,resourceType:a("dPsPU").ConfluenceEmbedAriResourceType,resourceIdSlug:"activation/{activationId}/{embedId}",resourceIdSegmentFormats:{activationId:/[a-zA-Z0-9\-]+/,embedId:/[0-9]+/}},n=class e extends a("3NXcb").RegisteredAri{get siteId(){return this._siteId}get activationId(){return this._activationId}get embedId(){return this._embedId}static create(t){let n={qualifier:r.qualifier,platformQualifier:r.platformQualifier,cloudId:t.siteId,resourceOwner:r.resourceOwner,resourceType:r.resourceType,resourceId:`activation/${t.activationId}/${t.embedId}`,resourceIdSegmentValues:{activationId:t.activationId,embedId:t.embedId}};return new e(a("6yCpa").AriParser.fromOpts(n,r))}static parse(t){return new e(a("6yCpa").AriParser.fromString(t,r))}getVariables(){return{siteId:this.siteId,activationId:this.activationId,embedId:this.embedId}}constructor(e){super(e),this._siteId=e.cloudId||"",this._activationId=e.resourceIdSegmentValues.activationId,this._embedId=e.resourceIdSegmentValues.embedId}};e.exports.ConfluenceEmbedAri=n}),r("dPsPU",function(e,t){e.exports.ConfluenceEmbedAriResourceOwner="confluence",e.exports.ConfluenceEmbedAriResourceType="embed"}),r("4XUIT",function(e,r){t(e.exports,"useCreatable",()=>a("8lfDt").default);var n=a("l998X");let s=(0,a("42omo").forwardRef)((e,t)=>{let r=(0,a("kjDWr").default)(e),s=(0,a("8lfDt").default)(r);return(0,n.jsx)(a("jb7rL").default,{ref:t,...s})});e.exports.default=s}),r("8lfDt",function(e,r){t(e.exports,"default",()=>c);var n=a("42omo");let s=(e="",t,a)=>{let r=String(e).toLowerCase(),n=String(a.getOptionValue(t)).toLowerCase(),s=String(a.getOptionLabel(t)).toLowerCase();return n===r||s===r},i=e=>`Create "${e}"`,o=(e,t,a,r)=>!(!e||t.some(t=>s(e,t,r))||a.some(t=>s(e,t,r))),l=(e,t)=>({label:t,value:e,__isNew__:!0});function c({allowCreateWhileLoading:e=!1,createOptionPosition:t="last",formatCreateLabel:r=i,isValidNewOption:s=o,getNewOptionData:c=l,onCreateOption:d,options:u=[],onChange:p,...m}){let{getOptionValue:f=a("1Ywmy").getOptionValue,getOptionLabel:g=a("1Ywmy").getOptionLabel,inputValue:h,isLoading:E,isMulti:b,value:_,name:y}=m,v=(0,n.useMemo)(()=>s(h,(0,a("A6wna").cleanValue)(_),u,{getOptionValue:f,getOptionLabel:g})?c(h,r(h)):void 0,[r,c,g,f,h,s,u,_]),S=(0,n.useMemo)(()=>(e||!E)&&v?"first"===t?[v,...u]:[...u,v]:u,[e,t,E,v,u]),A=(0,n.useCallback)((e,t)=>{if("select-option"!==t.action)return p(e,t);let r=Array.isArray(e)?e:[e];if(r[r.length-1]===v){if(d)d(h);else{let e=c(h,h);p((0,a("A6wna").valueTernary)(b,[...(0,a("A6wna").cleanValue)(_),e],e),{action:"create-option",name:y,option:e})}return}p(e,t)},[c,h,b,y,v,d,p,_]);return{...m,options:S,onChange:A}}}),r("ifW2H",function(e,t){let r=(0,a("42omo").createContext)(null);e.exports.AIEventsInstrumentationContext=r}),r("8Y3mE",function(e,t){let r={isAIFeature:1,actionSubjectId:"client",eventDispatcherSource:a("ea2ui").EventDispatcherSources.JSLib,skipAISessionValidation:!1,useDefaultGASv3EventSchema:!1,enablePlatformEvents:!1};e.exports.defaultAIEventsInstrumentationConfigValues=r}),r("ea2ui",function(e,t){var a,r,n=((a={}).unset="[AIInteraction]:UNSET",a.initiated="[AIInteraction]:INITIATED",a.viewed="[AIInteraction]:VIEWED",a.error="[AIInteraction]:ERROR",a.dismissed="[AIInteraction]:DISMISSED",a.actioned="[AIInteraction]:ACTIONED",a.discarded="[AIInteraction]:DISCARDED",a.submitted="[AIInteraction]:SUBMITTED",a),s=((r={}).JSLib="name:@atlassian/ai-analytics|language:javascript",r);e.exports.AISessionState=n,e.exports.EventDispatcherSources=s}),r("j4EkW",function(e,t){var r=a("42omo");e.exports.useAIInstrumentationSetup=(e,t)=>{let n=(0,r.useRef)(void 0),s=(0,r.useRef)(a("ea2ui").AISessionState.unset),i=(0,r.useCallback)(e=>{s.current=e},[]),o=(0,r.useCallback)(()=>s.current,[]),l=(0,r.useCallback)(r=>{let s=(0,a("kTkuM").getNewSingleInstrumentationID)(r,e);n.current=s,t&&(0,a("a4NM6").setSingleInstrumentationIDCookie)(t.uniqueCookieFeatureName,s)},[e,t]),c=(0,r.useCallback)(()=>e&&e!==n.current?(l(),n.current):t?(0,a("a4NM6").readSingleInstrumentationIDCookie)(t.uniqueCookieFeatureName):n.current,[e,t,l]);return{refreshSingleInstrumentationID:l,getSingleInstrumentationID:c,setAISessionState:i,getAISessionState:o}}}),r("kTkuM",function(t,r){var n=a("dWJ5i"),s=a("cUcZ5");t.exports.getNewSingleInstrumentationID=function(t,a){return(0,n.match)({customSingleInstrumentationIDFromEvent:t,customSingleInstrumentationIDFromUserConfig:a}).with({customSingleInstrumentationIDFromEvent:n.P.string},e=>e.customSingleInstrumentationIDFromEvent).with({customSingleInstrumentationIDFromUserConfig:n.P.string},e=>e.customSingleInstrumentationIDFromUserConfig).otherwise(()=>e(s)())}}),r("a4NM6",function(e,t){let r=e=>`AI_INSTRUMENTATION_FEATURE_ID_${e}`;e.exports.setSingleInstrumentationIDCookie=(e,t)=>(0,a("eGd7K").setCookie)(r(e),t,{expires:7,domain:location.hostname,sameSite:"strict"}),e.exports.readSingleInstrumentationIDCookie=e=>(0,a("hEbxW").getCookie)(r(e))||"SINGLE_INSTRUMENTATION_ID_IS_NOT_SET"}),r("fYQcF",function(e,t){var r=a("42omo"),n=a("dWJ5i"),s=a("3pfAb");e.exports.useAIEventsInstrumentation=e=>{let t=(0,r.useContext)(a("ifW2H").AIEventsInstrumentationContext);e&&(t={config:{...a("8Y3mE").defaultAIEventsInstrumentationConfigValues,...e},...(0,a("j4EkW").useAIInstrumentationSetup)(e.singleInstrumentationID,e.cookieSingleInstrumentationConfig)});let{createAnalyticsEvent:i}=(0,a("inPa6").useAnalyticsEvents)();if(null===t)throw Error("useAIEventsInstrumentation must be used within a AIEventsInstrumentationProvider");let{config:{source:o,channel:l,subproduct:c,actionSubjectId:d,tags:u,product:p,eventDispatcherSource:m,skipAISessionValidation:f,customAnalyticsFire:g,additionalAttributes:h,useDefaultGASv3EventSchema:E,enablePlatformEvents:b},refreshSingleInstrumentationID:_,getSingleInstrumentationID:y,setAISessionState:v,getAISessionState:S}=t,A=(0,r.useRef)({}),C=(0,r.useCallback)(e=>{let t=S();return(0,n.match)({currentState:t,nextState:e,skipAISessionValidation:f}).with({skipAISessionValidation:!0},()=>!0).with({currentState:a("ea2ui").AISessionState.unset,nextState:n.P.union(a("ea2ui").AISessionState.viewed,a("ea2ui").AISessionState.error,a("ea2ui").AISessionState.dismissed)},()=>(console.error(`[@atlassian/ai-analytics]: ${e} event should be called only after trackAIInteractionInit()`),!1)).with({currentState:a("ea2ui").AISessionState.initiated,nextState:n.P.union(a("ea2ui").AISessionState.submitted,a("ea2ui").AISessionState.actioned,a("ea2ui").AISessionState.discarded)},()=>(console.error(`[@atlassian/ai-analytics]: ${e} event should be called only after trackAIResultView()`),!1)).otherwise(()=>(v(e),!0))},[v,S,f]),I=(0,r.useCallback)(e=>"function"==typeof g?void g(e,i({})):b?void i(e).fire(s.FabricChannel.aiMate):l?void i(e).fire(l):void i(e).fire(),[l,g,i,b]),T=(0,r.useCallback)(()=>{let{config:e}=t,a=A.current,r=a.aiExperienceName||e.aiExperienceName,n=a.aiFeatureName||e.aiFeatureName,s=a.proactiveGeneratedAI||e.proactiveGeneratedAI;return{aiExperienceName:r,aiFeatureName:n,proactiveGeneratedAI:s,userGeneratedAI:a.userGeneratedAI||e.userGeneratedAI,isAIFeature:a.isAIFeature||e.isAIFeature}},[t]),x=(0,r.useCallback)((e,t)=>{let r=y(),{aiExperienceName:s,aiFeatureName:i,proactiveGeneratedAI:f,userGeneratedAI:g,isAIFeature:_}=T(),v={action:e.action,actionSubject:e.actionSubject,actionSubjectId:t?.actionSubjectId??d,attributes:{aiExperienceName:s,aiFeatureName:i,proactiveGeneratedAI:f,userGeneratedAI:g,isAIFeature:_,eventDispatcherSource:m,singleInstrumentationID:r,...e.attributes,...t?.attributes,...h}};return(0,n.match)({product:p,channel:l,useDefaultGASv3EventSchema:E,enablePlatformEvents:b}).with({enablePlatformEvents:!0},()=>({eventType:"track",...v,tags:(0,a("oWrxz").getTagsWithPlatfromTag)(u),source:t?.source??o,subproduct:c,product:p})).with({product:"confluence",channel:n.P.nullish,useDefaultGASv3EventSchema:!1},()=>({type:"sendTrackEvent",data:{...v,tags:t?.tags??u,source:t?.source??o,subproduct:c}})).with({product:"jira",channel:n.P.nullish,useDefaultGASv3EventSchema:!1},()=>v).otherwise(()=>({eventType:"track",...v,tags:t?.tags??u,source:t?.source??o,subproduct:c,product:p}))},[c,l,p,y,E,o,u,m,d,h,b,T]),k=(0,r.useCallback)(e=>{C(a("ea2ui").AISessionState.initiated)&&(_(e?.attributes?.singleInstrumentationID),I(x({action:"initiated",actionSubject:"aiInteraction"},e)))},[_,x,I,C]),R=(0,r.useCallback)(e=>{if(!C(a("ea2ui").AISessionState.viewed))return;let{doesNotMeetMAUCriteria:t,attributes:r,...n}=e||{};I(x({action:"viewed",actionSubject:"aiResult"},{...n,attributes:{...r,doesNotMeetMAUCriteria:!!t}}))},[C,x,I]),O=(0,r.useCallback)((e,t)=>{C(a("ea2ui").AISessionState.error)&&I(x({action:"error",actionSubject:"aiResult",attributes:{...e}},t))},[C,x,I]),w=(0,r.useCallback)(e=>{C(a("ea2ui").AISessionState.dismissed)&&I(x({action:"dismissed",actionSubject:"aiInteraction"},e))},[C,x,I]),L=(0,r.useCallback)((e,t)=>{C(a("ea2ui").AISessionState.actioned)&&I(x({action:"actioned",actionSubject:"aiResult",attributes:{aiResultAction:e}},t))},[C,x,I]),P=(0,r.useCallback)((e,t)=>{C(a("ea2ui").AISessionState.discarded)&&I(x({action:"discarded",actionSubject:"aiResult",attributes:{aiResultAction:e}},t))},[C,x,I]);return{trackAIInteractionInit:k,trackAIResultView:R,trackAIResultError:O,trackAIResultDiscarded:P,trackAIInteractionDismiss:w,trackAIResultAction:L,trackAIFeedbackSubmit:(0,r.useCallback)((e,t)=>{C(a("ea2ui").AISessionState.submitted)&&I(x({action:"submitted",actionSubject:"aiFeedback",attributes:{aiFeedbackResult:e}},t))},[C,x,I]),refreshSingleInstrumentationID:_,updateAIAttributes:(0,r.useCallback)(e=>{A.current={...A.current,...e}},[])}}}),r("oWrxz",function(e,t){e.exports.getTagsWithPlatfromTag=e=>{let t=["atlaskit"];return e?t.concat(e):t}}),r("8hhCV",function(r,n){t(r.exports,"default",()=>i);var s=a("l998X");function i({label:t="Page",size:r,testId:n}){return(0,s.jsx)(a("kXb3C").default,{label:t,size:r,testId:n,icon:e(a("8jHAi")),color:"var(--ds-icon-accent-blue, #357DE8)"})}a("42omo")}),r("bYWO7",function(t,r){var n=a("3u0dr"),s=a("frIzR"),i=a("42omo");let o=(0,a("ecnYn").xcss)({background:"transparent",":hover":{cursor:"pointer"},":active":{color:"color.text"}}),l=(0,a("ecnYn").xcss)({textDecoration:"underline",textDecorationColor:"var(--ds-text-subtlest, #6B6E76)"}),c=(0,n.isReactCompilerActiveV1)()?t=>{let r,n,c,d,u=(0,s.c)(13),{href:p,targetBlank:m,onClick:f,children:g,fontSize:h,showUnderline:E,isBlue:b}=t;u[0]!==p||u[1]!==m?(r=()=>{window.open(p,m?"_blank":void 0)},u[0]=p,u[1]=m,u[2]=r):r=u[2];let _=r,y=f||_,v=E&&l;u[3]!==v?(n=[o,v],u[3]=v,u[4]=n):n=u[4];let S=h||"medium",A=b?"color.text.accent.blue":"color.text.subtlest";return u[5]!==g||u[6]!==S||u[7]!==A?(c=e(i).createElement(a("5dK2X").default,{size:S,color:A},g),u[5]=g,u[6]=S,u[7]=A,u[8]=c):c=u[8],u[9]!==y||u[10]!==n||u[11]!==c?(d=e(i).createElement(a("2W0qg").default,{padding:"space.0",onClick:y,xcss:n},c),u[9]=y,u[10]=n,u[11]=c,u[12]=d):d=u[12],d}:({href:t,targetBlank:r,onClick:n,children:s,fontSize:c,showUnderline:d,isBlue:u})=>{let p=(0,i.useCallback)(()=>{window.open(t,r?"_blank":void 0)},[t,r]);return e(i).createElement(a("2W0qg").default,{padding:"space.0",onClick:n||p,xcss:[o,d&&l]},e(i).createElement(a("5dK2X").default,{size:c||"medium",color:u?"color.text.accent.blue":"color.text.subtlest"},s))};t.exports.PressableLink=c}),r("2WE3u",function(t,r){var n=a("42omo"),s=a("gLeLL"),i=a("cHKtk");let o=(0,a("cgtv4").defineMessages)({title:{id:"change-edition.share-and-restrict-dialog.restrictions.title",defaultMessage:"Control who can view and edit content"},learnMoreLink:{id:"change-edition.share-and-restrict-dialog.restrictions.learn-more-link",defaultMessage:"Learn more"},body:{id:"change-edition.share-and-restrict-dialog.restrictions.body",defaultMessage:"Youâ€™re on the Free plan. On paid plans, you can restrict content to specific people."},openUpAccess:{id:"change-edition.share-and-restrict-inline-message.open-up-access",defaultMessage:"Open up access"}});t.exports.ChangeEditionSectionMessageShareAndRestrict=({children:t,handleOnClick:r,customPadding:l})=>{let{formatMessage:c}=(0,a("8C5kA").default)(),{showRequestUpgradeButton:d,showRequestUpgradeButtonAATest:u,loading:p}=(0,i.useEnableEndUserRequestUpgrade)("shareAndRestrictDialogUpsell");return e(n).createElement(s.SectionMessage,{withGradient:!1,title:c(o.title),body:e(n).createElement(a("1s5hv").default,{direction:"column",gap:"space.050"},e(n).createElement(a("iXCQx").default,{color:"color.text.subtle"},c(o.body)),t),isLoadingRequestUpgradeButton:p,showRequestUpgradeButton:d,showRequestUpgradeButtonAATest:u,learnMoreLink:{href:"https://support.atlassian.com/confluence-cloud/docs/manage-permissions-on-the-page-level/",ariaLabel:o.learnMoreLink,appearance:r?"primary":void 0},source:"shareAndRestrictDialogUpsell",secondaryLink:r?{messageDescriptor:o.openUpAccess,appearance:"link",onClick:r,actionSubjectId:"openUpAccess"}:void 0,customPadding:l})}}),r("lf3m6",function(e,t){var r=a("3u0dr"),n=a("frIzR"),s=a("42omo");let i=(0,r.isReactCompilerActiveV1)()?()=>{let e,t,r,s=(0,n.c)(5),[i]=(0,a("ep3mz").usePageContentId)(),[o]=(0,a("ep3mz").usePageSpaceKey)();s[0]===Symbol.for("react.memo_cache_sentinel")?(e=crypto.randomUUID(),s[0]=e):e=s[0],s[1]!==i||s[2]!==o?(t={contentId:i,spaceId:o,mentionsSessionId:e,contextType:"Mentions"},s[1]=i,s[2]=o,s[3]=t):t=s[3];let l=t;return(0,a("6mKj3").expValEquals)("cc_suggested_users_next","cohort","variation")?l:(s[4]===Symbol.for("react.memo_cache_sentinel")?(r={contentId:void 0,spaceId:void 0,contextType:void 0,mentionsSessionId:void 0},s[4]=r):r=s[4],r)}:()=>{let[e]=(0,a("ep3mz").usePageContentId)(),[t]=(0,a("ep3mz").usePageSpaceKey)(),r=(0,s.useMemo)(()=>({contentId:e,spaceId:t,mentionsSessionId:crypto.randomUUID(),contextType:"Mentions"}),[e,t]);return(0,a("6mKj3").expValEquals)("cc_suggested_users_next","cohort","variation")?r:{contentId:void 0,spaceId:void 0,contextType:void 0,mentionsSessionId:void 0}};e.exports.useUserSuggestionsMentionsExperiment=i}),r("86H8K",function(t,r){var n=a("42omo"),s=a("4adOe");t.exports.LearnMoreChunk=t=>{let{createAnalyticsEvent:r}=(0,a("inPa6").useAnalyticsEvents)(),i=(0,n.useCallback)(()=>{r({type:"sendUIEvent",data:{source:s.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"clicked",actionSubject:"link",actionSubjectId:"blockedAccessLearnMore"}}).fire()},[r]);return e(n).createElement(a("2Nwuj").default,{target:"_blank",href:"https://support.atlassian.com/confluence-cloud/docs/troubleshoot-access-problems-to-content/",onClick:i},t)}}),r("lTbRO",function(e,t){e.exports.makePrincipalsMap=function({specificAccessDelta:{stagedAdditions:e,removals:t,reassignments:a,removeAll:r},generalAccessDelta:n},{contentRestrictions:s,currentUser:i,principalsPendingAccess:o},{isCtaClick:l,stagedGeneralAccessLevel:c}){let d=new Map;for(let{principal:e,role:t}of("none"!==n&&("open-can-view"===c||"restricted"===c)&&d.set(i.id,{role:"can-edit",principal:i,isNewOrUpdatedPrincipal:!1}),s.principals))d.set(e.id,{role:t,principal:e,isNewOrUpdatedPrincipal:!1});for(let{principal:e,role:t}of o)d.set(e.id,{role:t,principal:e,isNewOrUpdatedPrincipal:!1});for(let[e,t]of a){let a=d.get(e);a&&d.set(e,{...a,role:t,isNewOrUpdatedPrincipal:!0})}for(let e of t)d.delete(e);if(r){for(let{principal:e}of s.principals)e.id!==i.id&&d.delete(e.id);for(let{principal:e}of o)e.id!==i.id&&d.delete(e.id)}if(l)for(let{principal:t,role:a}of e)d.set(t.id,{role:a,principal:t,isNewOrUpdatedPrincipal:!0});return d}}),r("fec5t",function(e,t){e.exports.stagePrincipalAddition=function(e,t,a){e(e=>{let{specificAccessDelta:{stagedAdditions:r,reassignments:n},addMode:s}=e,{id:i}=t,o=a||s,l=new Map(n);l.delete(i);let c=[{principal:t,role:"as-editor"===o?"can-edit":"can-view"},...r.filter(({principal:{id:e}})=>t.id!==e)];return{...e,addMode:o,specificAccessDelta:{...e.specificAccessDelta,stagedAdditions:c,reassignments:l}}})},e.exports.stagePrincipalReassignment=function(e,t,a){e(e=>{let{specificAccessDelta:r}=e;{let{reassignments:n}=r,s=new Map(n);return s.set(a,t),{...e,specificAccessDelta:{...r,reassignments:s}}}})},e.exports.stagePrincipalRemoval=function(e,t){e(e=>{let{specificAccessDelta:a}=e;{let{removals:r,reassignments:n}=a,s=new Set(r);s.add(t);let i=new Map(n);return i.delete(t),{...e,specificAccessDelta:{...a,removals:s,reassignments:i}}}})},e.exports.filterStagedAdditionsByPrincipals=function(e,t){e(e=>{let{specificAccessDelta:{stagedAdditions:a}}=e,r=new Set(t.map(e=>e.id)),n=a.filter(e=>r.has(e.principal.id));return{...e,specificAccessDelta:{...e.specificAccessDelta,stagedAdditions:n}}})},e.exports.convertUserPickerPrincipal=e=>{let{id:t,name:r,type:n}=e;switch(n){case"user":return{type:"user",id:t,name:r,avatarUrl:e.avatarUrl||"",email:e.email||"",knownErrors:e.knownErrors,sitePermissionType:e.isExternal?"EXTERNAL":"INTERNAL"};case"group":return{type:"group",id:t,name:r,usageType:null};case"email":return{type:"email",id:t,name:r};case"team":return{type:"team",id:t,name:r,usageType:null,memberCount:e.memberCount,isVerified:e.verified||!1,avatarSrc:e.avatarUrl||""};case"external_user":return{type:"external_user",id:t,name:r,email:e.email||"",avatarUrl:e.avatarUrl||""};default:let s=(0,a("7W8i8").getLogger)("share-and-restrict-dialog:convertPrincipal");return s.error`Tried to convert an unsupported platform type: ${n}`,{type:"user",id:t,name:r,avatarUrl:"",email:"",knownErrors:void 0,sitePermissionType:""}}}}),r("6SeRB",function(e,t){var r=a("42omo");let n=(0,a("eSUdr").default)`query useAccessRequestsQuery($after:String$cloudId:ID!$contentId:ID!$first:Int=10$status:ConfluenceContentAccessRequestStatus=PENDING){confluence_contentAccessRequestByStatus(after:$after cloudId:$cloudId contentId:$contentId first:$first status:$status){nodes{id user{id displayName emails{isPrimary value}photos{isPrimary value}}accessRequestedAaid requestAccessType status}pageInfo{endCursor hasNextPage startCursor}}}`;e.exports.useAccessRequests=(e,t,s=!1,i="PENDING")=>{let[o=""]=(0,a("ep3mz").usePageContentId)(),{cloudId:l,edition:c}=(0,a("bQm3c").useSessionData)(),d=!o||"FREE"===c||s,{data:u,loading:p,error:m,fetchMore:f,refetch:g}=(0,a("xQxzY").useQuery)(n,{variables:{cloudId:l,contentId:o,status:a("7CwhK").ConfluenceContentAccessRequestStatus[i]},skip:d,fetchPolicy:e,notifyOnNetworkStatusChange:!0}),h=u?.confluence_contentAccessRequestByStatus?.nodes??[],E=u?.confluence_contentAccessRequestByStatus?.pageInfo,b=E?.endCursor??null,_=E?.hasNextPage??!1,{createAnalyticsEvent:y}=(0,a("inPa6").useAnalyticsEvents)();return(0,r.useEffect)(()=>{m&&y({type:"sendOperationalEvent",data:{action:"failed",actionSubject:"accessRequestsQuery",source:t,attributes:{contentId:o,errorMessage:m.message}}}).fire()},[m,t,o,y]),{requests:h,endCursor:b,hasNextPage:_,loading:p,error:m,fetchMore:f,contentId:o,hasFullyLoaded:!!u&&!p,refetchAccessRequest:g}}}),r("13PIz",function(e,t){var r=a("42omo"),n=a("j1Ss3"),s=a("4adOe");let i=(0,a("eSUdr").default)`query useGroupsCountQuery($groupIdList:[String]){groupCounts(groupIds:$groupIdList){groupCounts{key value}}}`;e.exports.useGroupsAndTeamCountQuery=({data:e,groupList:t,publishModalRestrictions:o,error:l})=>{let{createAnalyticsEvent:c}=(0,a("inPa6").useAnalyticsEvents)(),[d,u]=(0,r.useState)(new Map),p=o?"publishModal":"shareAndRestrictModal",m=(0,r.useMemo)(()=>{if(!o)return[];let e=new Set;for(let t of o)for(let a of t?.restrictions?.group?.results??[])a?.id&&e.add(a.id);return Array.from(e)},[o]),f=(0,r.useMemo)(()=>t&&!e?.content?.nodes?.[0]?.restrictions?t.map(e=>e.id):e?.content?.nodes?.[0]?.restrictions?Array.from(new Set([...e.content.nodes[0].restrictions.read?.restrictions?.group?.nodes??[],...e.content.nodes[0].restrictions.update?.restrictions?.group?.nodes??[]].map(e=>e?.id).filter(Boolean))):[],[e,t]),g=(0,r.useMemo)(()=>{let e="publishModal"===p?m:f;return!!l||0===e.length&&(!t||0===t.length)},[l,p,m,f,t]),{loading:h,data:E,error:b}=(0,n.useQuery)(i,{variables:{groupIdList:"publishModal"===p?m:f},skip:g}),_=(0,r.useMemo)(()=>E?.groupCounts?.groupCounts?function(e=[]){return new Map(e.map(({key:e,value:t})=>[e,t]))}(E.groupCounts.groupCounts.filter(e=>null!==e).filter(e=>"string"==typeof e.key&&"number"==typeof e.value)):new Map,[E]);return(0,r.useEffect)(()=>{!h&&b&&c({type:"sendOperationalEvent",data:{source:s.SHARE_AND_RESTRICT_DIALOG_ANALYTICS_SOURCE,action:"errored",actionSubject:"useGroupsCountQuery",attributes:{message:b?.message,name:b?.name,modalType:p,groupCount:"publishModal"===p?m.length:f.length}}}).fire(),!h&&_.size>0&&u(_)},[h,E,b,c,_,p,m.length,f.length]),{isGroupsCountLoading:h,groupAndTeamCountsMap:d}}}),r("7CwhK",function(e,t){var a,r,n=((a={}).APPROVE="APPROVE",a.DENY="DENY",a.PENDING="PENDING",a.PENDING_SITE_APPROVAL="PENDING_SITE_APPROVAL",a);(r={}).EDIT="EDIT",r.VIEW="VIEW",e.exports.ConfluenceContentAccessRequestStatus=n});
//# sourceMappingURL=GeneralAccessLevelSelector.323267b6.js.map
