function t(t,e,i,n){Object.defineProperty(t,e,{get:i,set:n,enumerable:!0,configurable:!0})}var e=globalThis,i={},n={},s=e.parcelRequired477;null==s&&(s=function(t){var e=i[t];if(void 0!==e)return e.exports;var s=n[t];if(void 0!==s){delete n[t];var r={id:t,exports:{}};return i[t]=r,s.call(r.exports,r,r.exports),r.exports}var o=Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o},s.register=function(t,e){n[t]=e},e.parcelRequired477=s);var r=s.register;e.lb||(e.lb=new Set,e.bq=[],e.rlb=t=>{e.lb.add(t),e.pq()},e.rwr=(t,i,n)=>{e.bq.push({b:t,r:i,d:n}),e.pq()},e.pq=()=>{var t=e.bq.find(t=>t.d.every(t=>e.lb.has(t)));t&&(e.bq=e.bq.filter(e=>e.b!==t.b),t.r(),e.pq())}),r("02nRr",function(e,i){t(e.exports,"register",()=>n,t=>n=t),t(e.exports,"resolve",()=>s,t=>s=t);var n,s,r=new Map;n=function(t,e){for(var i=0;i<e.length-1;i+=2)r.set(e[i],{baseUrl:t,path:e[i+1]})},s=function(t){var e=r.get(t);if(null==e)throw Error("Could not resolve bundle with id "+t);return new URL(e.path,e.baseUrl).toString()}}),r("7S9uM",function(t,e){let i=t=>Array.isArray(t)?t:[t],n=t=>t?.currentProtocol?.getType();t.exports.eventToAvi=t=>`avi:confluence:${t}`,t.exports.getCurrentProtocolType=n,t.exports.PubSubClient=class{constructor(t,e,r){this.client=void 0,this.cloudId=void 0,this.activationId=void 0,this.joinChannel=async(t,e)=>{let r=i(e).map(e=>(0,s("gw4Eo").getConfluenceContentAri)({siteId:this.cloudId,resourceType:t,activationId:this.activationId,resourceId:e}));return this.client.join(r).catch(t=>{throw Error(`PubSub Web Client (${n(this.client)}) joinChannel
        ${JSON.stringify(t,Object.getOwnPropertyNames(t))} aris: ${r}`)})},this.leaveChannel=async(t,e)=>{let r=i(e).map(e=>(0,s("gw4Eo").getConfluenceContentAri)({siteId:this.cloudId,resourceType:t,activationId:this.activationId,resourceId:e}));return this.client.leave(r).catch(t=>{throw Error(`PubSub Web Client (${n(this.client)}) leaveChannel
        ${JSON.stringify(t,Object.getOwnPropertyNames(t))} aris: ${r}`)})},this.subscribe=async(t,e)=>this.subscribeSync(t,e),this.subscribeSync=(t,e)=>this.client.on(t,e),this.unsubscribe=async(t,e)=>this.unsubscribeSync(t,e),this.unsubscribeSync=(t,e)=>this.client.off(t,e),this.client=t,this.cloudId=e,this.activationId=r}}}),r("gRrX4",function(t,e){let i;var n=s("04e9M");let r=()=>{if("localhost"===window.location.hostname){let t=window.__backendOriginHost;return new URL("/gateway/wss/fps",`wss://${t}`)}},o=({url:t,analyticsClient:e})=>({product:"CONFLUENCE",url:t,apsProtocol:{enabled:!0,url:r()},analyticsClient:e}),a=()=>(0,s("ge2sX").getSessionData)().then(async({cloudId:t,activationId:e})=>{let i=o({url:"/gateway/api/pubsub",analyticsClient:await (0,n.getAnalyticsWebClient)()});return s("5pmRd").then(n=>{let r=n.default;return new(0,s("7S9uM").PubSubClient)(new r(i),t,e)}).catch(t=>{throw Error(`PubSub--Current Web Client ${t}, ${JSON.stringify({...i})}`)})});t.exports.getPubSubClient=()=>i||(i=a())}),r("5pmRd",function(t,e){let i=s("4mJKd")(5);t.exports=Promise.all([i("kWZnd"),i("92LGf"),i("fZyYv")]).then(()=>s("7PP2u"))}),r("4mJKd",function(t,e){t.exports=t=>e=>import(s("8tirZ").shardUrl(s("02nRr").resolve(e),t))}),r("8tirZ",function(t,e){Object.defineProperty(t.exports,"__esModule",{value:!0}),t.exports.applyShardToDomain=o,t.exports.domainShardingKey=void 0,t.exports.getDomainShardIndex=n,t.exports.shardUrl=function(t,e){return globalThis[i]?a(t,e):t},t.exports.shardUrlUnchecked=a;let i="__ATLASPACK_ENABLE_DOMAIN_SHARDS";function n(t,e){let i=e+1,n=t.split("").reduce((t,e)=>{let n=(t<<i)-t+e.charCodeAt(0);return n&n},0);return(n%=i)<0&&(n+=i),n}let s=/-\d+$/;function r(t){if(!s.test(t))return t;let e=t.lastIndexOf("-");return t.slice(0,e)}function o(t,e){let i=t.indexOf("."),n=0===e?"":`-${e-1}`;if(-1===i)return`${r(t)}${n}`;let s=r(t.slice(0,i));return`${s}${n}${t.slice(i)}`}function a(t,e){let i=new URL(t),s=n(function(t){let e=t.lastIndexOf("/");if(-1===e||e===t.length-1)throw Error("Expected an absolute URL with a file name, unable to apply sharding.");return t.slice(e+1)}(i.pathname),e);return i.hostname=o(i.hostname,s),i.toString()}t.exports.domainShardingKey=i}),r("kmyZQ",function(t,e){var i=s("T1bCI");class n extends i.Container{getInitialStatus(t){if(t)return t.status;let e=window.__SSR_RENDERED__;return e&&(0,s("9wGTI").fg)("confluence_perceived_perf_hide_loading_bar")&&window.__SSR_IS_LIVE_PAGE__?"RESET":e?"SSR":"RESET"}constructor(t){super(),this.exitAnimationTimer=void 0,this.delayedAnimationTimer=void 0,this.timeoutTimer=void 0,this.recentlyReset=!1,this.isStarting=!1,this.isStopping=!1,this.prevMatch=null,this.isRunning=()=>("START"===this.state.status||this.isStarting)&&!this.isStopping,this.isDelayed=()=>"DELAYED"===this.state.status,this.hasStarted=()=>this.isRunning()||this.isDelayed(),this.isStartable=()=>"RESET"===this.state.status||"SSR"===this.state.status||this.recentlyReset,this.getStatus=()=>this.state.status,this.getDuration=()=>this.state.duration||s("1ps47").DEFAULT_LOADING_DURATION,this.start=(t=s("1ps47").DEFAULT_LOADING_DURATION,e=s("1ps47").TIMEOUT_TIMER)=>this.isStartable()?(this.recentlyReset=!1,this.isStarting=!0,this.delayedAnimationTimer=setTimeout(()=>{this.isRunning()&&this.setState({status:"DELAYED"})},t),this.timeoutTimer=setTimeout(()=>{this.isDelayed()&&this.reset()},e),this.setState({status:"START",duration:t},()=>{this.isStarting=!1})):Promise.resolve(),this.finish=()=>{let t;if(this.isRunning()||this.isDelayed())return this.isStopping=!0,this.isDelayed()?t=this.reset():(this.isStarting=!1,t=this.setState({status:"FINISH"},()=>{this.isStopping=!1})),this.exitAnimationTimer=setTimeout(()=>{this.reset()},s("1ps47").POST_FINISHED_IDLE_DURATION),t},this.reset=()=>{clearTimeout(this.exitAnimationTimer),clearTimeout(this.delayedAnimationTimer),clearTimeout(this.timeoutTimer);let t=this.setState({status:"RESET"});return this.recentlyReset=!0,this.isStopping=!1,t},this.state={status:this.getInitialStatus(t),duration:t&&t.duration||s("1ps47").DEFAULT_LOADING_DURATION}}}t.exports.ProgressBarContainer=n}),r("1ps47",function(t,e){t.exports.NAV4_ID="progressStyles",t.exports.NAV3_ID="global-progress-bar",t.exports.DEFAULT_LOADING_BAR_COLOR="var(--ds-background-brand-bold, #1868DB)",t.exports.EXIT_ANIMATION_SPEED=300,t.exports.DEFAULT_LOADING_DURATION=6e3,t.exports.TIMEOUT_TIMER=2e4,t.exports.POST_FINISHED_IDLE_DURATION=350}),r("bT0se",function(t,e){var i=s("42omo"),n=s("04e9M");let r=["401","Failed to fetch","Load Failed","Network error"],o=t=>r.some(e=>t?.message.includes(e)),a=(t,e)=>(...i)=>{e(...i),(0,n.getAnalyticsWebClient)().then(e=>{e.sendOperationalEvent({action:"received",actionSubject:"pubsub.event",actionSubjectId:t,source:"usePubSubEvent"})},()=>{})};t.exports.usePubSubEvent=({contentId:t,contentType:e,eventName:r,onEvent:u,attribution:l,skip:c=!1})=>{let[h,d]=(0,i.useState)(void 0),{accessStatus:b}=(0,s("bQm3c").useSessionData)(),p=b===s("d9tcB").AccessStatus.ANONYMOUS_ACCESS||c;(0,i.useEffect)(()=>{if(p||!t||!e)return;let i=new Promise(i=>{(0,s("gRrX4").getPubSubClient)().then(a=>{a.joinChannel(e,t).then(()=>{if(d(a),"pubnub"===(0,s("7S9uM").getCurrentProtocolType)(a.client)){let{analyticsClient:i,...s}=a.client?.config,r=JSON.parse(JSON.stringify(s));delete r.apsProtocol?.url,(0,n.getAnalyticsWebClient)().then(i=>{i.sendOperationalEvent({action:"using.pubnub",actionSubject:"client",source:"usePubSubEvent",attributes:{contentId:t,contentType:e,config:r}})})}i(a)}).catch(t=>{if(!o(t)){let e=Error(`PubSub (${(0,s("7S9uM").getCurrentProtocolType)(a.client)}) - failed to join channel - ${t} - ${r}`);(0,s("5ZqQS").getMonitoringClient)().submitError(e,{attribution:l||s("3IBnw").Attribution.PAGE_EXTENSIONS})}})})});return()=>{i.then(i=>{d(void 0),i.leaveChannel(e,t)})}},[e,t,l,p,r]),(0,i.useEffect)(()=>{if(!h)return;let t=(0,s("7S9uM").eventToAvi)(r),e=a(t,u);try{h.subscribeSync(t,e)}catch(e){let t=Error(`PubSub (${(0,s("7S9uM").getCurrentProtocolType)(h.client)}) - failed to subscribe to ${r} - ${e}`);(0,s("5ZqQS").getMonitoringClient)().submitError(t,{attribution:l||s("3IBnw").Attribution.PAGE_EXTENSIONS})}return()=>{h.unsubscribeSync(t,e)}},[h,r,u,l])}}),s("02nRr").register(new URL("",import.meta.url).toString(),JSON.parse('["2F69B","vendors~small-pkgs.c93cefe2.js","fZyYv","pubsub.31effd76.js","92LGf","EmojiPickerComponent.24b82c2e.js","kWZnd","EmojiPickerComponent.runtime.8a0147d4.js","kWZnd","EmojiPickerComponent.runtime.8a0147d4.js"]')),e.rlb("2F69B");
//# sourceMappingURL=vendors~small-pkgs.c93cefe2.js.map
