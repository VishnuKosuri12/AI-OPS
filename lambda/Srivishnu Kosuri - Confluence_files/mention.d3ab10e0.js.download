function e(e){return e&&e.__esModule?e.default:e}function t(e,t,r,a){Object.defineProperty(e,t,{get:r,set:a,enumerable:!0,configurable:!0})}var r=globalThis.parcelRequired477,a=r.register;a("9EfFC",function(t,a){var n=r("42omo");let o="_|unknown|_";class s extends e(n).PureComponent{componentDidMount(){r("g6YCz").mentionRenderedUfoExperience.getInstance(this.props.id).success()}componentWillUnmount(){this.hoverTimeout&&clearTimeout(this.hoverTimeout);let e=r("g6YCz").mentionRenderedUfoExperience.getInstance(this.props.id);[r("28cxD").UFOExperienceState.STARTED,r("28cxD").UFOExperienceState.IN_PROGRESS].includes(e.state)&&e.abort()}renderUnknownUserError(t){return e(n).createElement(r("bwC67").UnknownUserError,{values:{userId:t.slice(-5)}},t=>e(n).createElement(e(n).Fragment,null,`@${t}`))}render(){let{handleOnClick:t,handleOnMouseEnter:a,handleOnMouseLeave:s,props:i}=this,{text:c,id:l,accessLevel:d,localId:u}=i,E=this.getMentionType(),p=c===`@${o}`,A=E===r("6mYMS").MentionType.RESTRICTED,_=e(n).createElement(r("dOMrE").default,null,e(n).createElement(r("4qXXo").default,{mentionType:E,onClick:t,onMouseEnter:a,onMouseLeave:s,spellCheck:!1,"data-testid":`mention-${l}`,"data-mention-type":E,"data-mention-tooltip":A},p?this.renderUnknownUserError(l):c||"@...")),h=i.ssrPlaceholderId?{"data-ssr-placeholder":i.ssrPlaceholderId}:{};return e(n).createElement(r("g6YCz").UfoErrorBoundary,{id:l},e(n).createElement("span",{id:u,"data-mention-id":l,"data-local-id":u,"data-access-level":d,spellCheck:!1,...h},e(n).createElement(r("i0btU").default,null,A?e(n).createElement(e(n).Suspense,{fallback:_},e(n).createElement(r("l2474").default,{name:c},_)):_)))}constructor(e){super(e),this.hoverTimeout=void 0,this.handleOnClick=e=>{let{id:t,text:r,onClick:a}=this.props;a&&a(t,r,e)},this.handleOnMouseEnter=e=>{let{id:t,text:r,onMouseEnter:a,onHover:n}=this.props;a&&a(t,r,e),this.hoverTimeout=window.setTimeout(()=>{n&&n(),this.hoverTimeout=void 0},1e3)},this.handleOnMouseLeave=e=>{let{id:t,text:r,onMouseLeave:a}=this.props;a&&a(t,r,e),this.hoverTimeout&&clearTimeout(this.hoverTimeout)},this.getMentionType=()=>{let{accessLevel:e,isHighlighted:t}=this.props;return t?r("6mYMS").MentionType.SELF:(0,r("6mYMS").isRestricted)(e)?r("6mYMS").MentionType.RESTRICTED:r("6mYMS").MentionType.DEFAULT},r("g6YCz").mentionRenderedUfoExperience.getInstance(e.id).start()}}let i=(0,r("1DWH0").default)({onClick:(e,t)=>{let{id:a,text:n,accessLevel:o}=t;return(0,r("3jsXx").fireAnalyticsMentionEvent)(e)("mention","selected",n,a,o)},onHover:(e,t)=>{let{id:a,text:n,accessLevel:o}=t;return(0,r("3jsXx").fireAnalyticsMentionEvent)(e)("mention","hovered",n,a,o)}})(s);t.exports.UNKNOWN_USER_ID=o,t.exports.default=i}),a("4qXXo",function(e,t){var a=r("42omo");let n={[r("6mYMS").MentionType.SELF]:{background:`var(--ds-background-brand-bold, ${r("6fnsQ").B400})`,borderColor:"transparent",text:`var(--ds-text-inverse, ${r("6fnsQ").N20})`,hoveredBackground:`var(--ds-background-brand-bold-hovered, ${r("6fnsQ").B400})`,pressedBackground:`var(--ds-background-brand-bold-pressed, ${r("6fnsQ").B400})`},[r("6mYMS").MentionType.RESTRICTED]:{background:"transparent",borderColor:`var(--ds-border-bold, ${r("6fnsQ").N500})`,text:`var(--ds-text, ${r("6fnsQ").N500})`,hoveredBackground:"transparent",pressedBackground:"transparent"},[r("6mYMS").MentionType.DEFAULT]:{background:`var(--ds-background-neutral, ${r("6fnsQ").N30A})`,borderColor:"transparent",text:`var(--ds-text-subtle, ${r("6fnsQ").N500})`,hoveredBackground:`var(--ds-background-neutral-hovered, ${r("6fnsQ").N30A})`,pressedBackground:`var(--ds-background-neutral-pressed, ${r("6fnsQ").N30A})`}},o=({mentionType:e},t)=>n[e][t],s=(0,a.forwardRef)(({mentionType:e,...t},a)=>(0,r("9K4OG").jsx)("span",{ref:a,css:(0,r("9K4OG").css)("display:inline;border:var(--ds-border-width, 1px) solid ",o({mentionType:e},"borderColor"),";background:",o({mentionType:e},"background"),";color:",o({mentionType:e},"text"),";border-radius:20px;cursor:pointer;padding:0 0.3em 2px 0.23em;line-height:1.714;font-size:1em;font-weight:var(--ds-font-weight-regular, 400);word-break:break-word;&:hover{background:",o({mentionType:e},"hoveredBackground"),";}&:active{background:",o({mentionType:e},"pressedBackground"),";}"),...t}));e.exports.default=s}),a("g6YCz",function(t,a){var n=r("42omo");let o=new(0,r("9801n").ConcurrentExperience)("mention-rendered",{platform:{component:"mention"},type:r("iqaft").ExperienceTypes.Load,performanceType:r("iqaft").ExperiencePerformanceTypes.PageSegmentLoad});class s extends e(n).Component{componentDidCatch(){o.getInstance(this.props.id).failure()}render(){return this.props.children}}t.exports.mentionRenderedUfoExperience=o,t.exports.UfoErrorBoundary=s}),a("16lEl",function(e,t){let r={LOAD_PANEL:"aiMateLoadPanel",LOAD_BROWSE_AGENTS:"aiMateLoadBrowseAgents",LOAD_CREATE_AGENT:"aiMateLoadCreateAgent",FETCH_CHAT:"aiMateFetchChat",FETCH_AGENTS:"aiMateFetchAgents",FETCH_AGENTS_PAGINATED:"aiMateFetchAgentsPaginated",FETCH_AGENTS_OVERRIDES:"aiMateFetchAgentsOverrides",FETCH_AGENT_BY_AGENT_ID:"aiMateFetchAgentByAgentId",FETCH_SCENARIO_LIST:"aiMateFetchScenarioList",FETCH_AGENT_BY_IDENTITY_ACCOUNT_ID:"aiMateFetchAgentByIdentityAccountId",FETCH_AGENT_BY_EXTERNAL_CONFIG_REFERENCE:"aiMateFetchAgentByExternalConfigReference",FETCH_AGENT_DEBUG_MODAL_DATA:"aiMateFetchAgentDebugModalData",FETCH_AGENT_DEBUG_MODAL_CONVERSATION_REVIEW:"aiMateFetchAgentDebugModalDataConversationReview",CREATE_AGENT:"aiMateCreateAgent",UPDATE_AGENT:"aiMateUpdateAgent",DELETE_AGENT:"aiMateDeleteAgent",HYDRATE_AGENT_DATA:"aiMateHydrateAgentData",FAVOURITE_AGENT:"aiMateFavouriteAgent",UNFAVOURITE_AGENT:"aiMateUnfavouriteAgent",CLEAR_CHAT:"aiMateClearChat",SEND_MESSAGE:"aiMateSendMessage",SEND_MESSAGE_ROVO_CUSTOM_AGENT:"aiMateSendMessageRovoCustomAgent",SEND_DR_MESSAGE:"aiMateSendDRMessage",SEND_TD_MESSAGE:"aiMateSendThinkDeeperMessage",SEND_CONFIRMED_TOOLS_MESSAGE:"aiMateSendConfirmedToolsMessage",ABORT_AGENT_STREAM:"aiMateAbortAgentStream",HYDRATE_CONVERSATION:"aiMateHydrateConversation",GET_CONVERSATION_CHANNELS:"aiMateGetConversationChannels",GET_CONVERSATION_CHANNELS_INITIAL_LOAD:"aiMateGetConversationChannelsInitialLoad",UPDATE_CONVERSATION_CHANNEL:"aiMateUpdateConversationChannel",CREATE_SEEDED_CONVERSATION_CHANNEL:"aiMateCreateSeededConversationChannel",PUBSUB_LISTENER:"aiMatePubSubListener",FETCH_AGENT_TENANT_DATA:"aiMateFetchAgentTenantData",RESOLVE_CONVERSATION_ACTION:"aiMateResolveConversationAction",MESSAGE_RENDERER:"aiMateMessageRenderer",FETCH_CONTEXTUAL_STARTERS:"aiMateFetchContextualStarters",FETCH_DYNAMIC_CONVERSATION_STARTERS:"aiMateFetchDynamicConversationStarters",GENERATE_CONVERSATION_STARTERS:"aiMateGenerateConversationStarters",FETCH_AGENT_TEAM_DATA:"aiMateFetchAgentTeamData",FETCH_CONNECTED_KNOWLEDGE_SOURCES:"aiMateFetchConnectedKnowledgeSources",FETCH_AGENT_ACTIONS:"aiMateFetchAgentActions",CHANGE_AGENT_OWNER:"aiMateChangeAgentOwner",GET_AGENT_PERMISSIONS:"aiMateGetAgentPermissions",AIFC_FINALIZE_CONTENT:"aiMateAIFCFinalizeContent",PREVIEW_CONTENT:"aiMatePreviewContent",PREVIEW_CARD_RENDER:"aiMatePreviewCardRender",FETCH_AGENT_SITE_PERMISSIONS:"aiMateFetchAgentSitePermissions",SEND_MESSAGE_NL_AGENT:"aiMateSendMessageNLAgent",GET_RECOMMENDED_AGENTS:"aiMateGetRecommendedAgents",UPLOAD_FILES_TO_CONVERSATION:"aiMateUploadFilesToConversation",VALIDATE_FILES:"aiMateValidateFiles",GET_CONVERSATION_FILES:"aiMateGetConversationFiles",AIFC_MESSAGE:"aiMateAifcMessage",AIFC_LOAD_STAGING_AREA_MODAL:"aiMateLoadStagingAreaModal",AIFC_LOAD_DRAFTS_SECTION:"aiMateLoadDraftsSection",AIFC_GENERATE_CONTENT:"aiMateAifcGenerateContent",AIFC_GENERATE_CONTENT_IN_CHAT:"aiMateAifcGenerateContentInChat",AIFC_INITIAL_DATA_RECEIVED:"aiMateAifcInitialDataReceived",AIFC_ALL_DATA_HANDLED:"aiMateAifcAllDataHandled",AIFC_UPDATE_CONTENT:"aiMateAifcUpdateContent",AIFC_MODAL_SESSION:"aiMateAifcModalSession",CSM_WIDGET_RENDER:"csmWidgetRender",CSM_AGENT_IDENTITY_NAME:"csmAgentIdentityName",CSM_AGENT_IDENTITY_COMPANY:"csmAgentIdentityCompany",CSM_AGENT_IDENTITY_TONE:"csmAgentIdentityTone",CSM_AGENT_IDENTITY_GREETING_MESSAGE:"csmAgentIdentityGreetingMessage",CSM_AGENT_IDENTITY_CONVERSATION_STARTERS:"csmAgentIdentityConversationStarters",CSM_AGENT_IDENTITY_GENERATE_CONVERSATION_STARTERS:"csmAgentIdentityGenerateConversationStarters",GET_AUTO_APPLY_STATE:"aiMateGetAutoApplyState",SET_AUTO_APPLY_STATE:"aiMateSetAutoApplyState",AGENTS_MODAL_AND_SIDEBAR_LIST:"aiMateAgentsModalAndSidebarList",AGENTS_MODAL_FAVOURITE_AGENTS:"aiMateAgentsModalFavouriteAgents",AGENTS_FULLSCREEN_AGENT_LIST:"aiMateAgentsFullscreenAgentList"};var a,n=((a={}).MINI_MODAL="miniModal",a);let o=[r.AIFC_GENERATE_CONTENT,r.AIFC_GENERATE_CONTENT_IN_CHAT,r.AIFC_UPDATE_CONTENT,r.AIFC_FINALIZE_CONTENT,r.AIFC_LOAD_STAGING_AREA_MODAL,r.AIFC_MODAL_SESSION],s=[r.AIFC_INITIAL_DATA_RECEIVED,r.AIFC_ALL_DATA_HANDLED,r.PREVIEW_CONTENT,...o];e.exports.ExperienceName=r,e.exports.ExperienceNamePostfix=n,e.exports.sendMessageExperienceName=({deepResearchEnabled:e,thinkDeeperEnabled:t,isCustomRovoAgent:a})=>a?r.SEND_MESSAGE_ROVO_CUSTOM_AGENT:e?r.SEND_DR_MESSAGE:t?r.SEND_TD_MESSAGE:r.SEND_MESSAGE,e.exports.AIFC_EXPERIENCES_TO_FAIL=o,e.exports.AIFC_EXPERIENCES_TO_ABORT=s}),a("8Igpw",function(e,t){let r=e=>e?.headers?.get("x-trace-id")??e?.headers?.get("atl-traceid")??e?.headers?.get("x-b3-traceid")??void 0;class a extends Error{constructor(e,t){super(e),this.errorAttributes=t,this.name="FetchError"}}class n extends Error{constructor(e,t){super(e),this.message=e,this.errorAttributes=t}}let o=async({path:e,options:t})=>{try{let r=await fetch(e,t);return(!r.ok||r.status>=400)&&await s({response:r}),await r.json()}catch(r){let t=r instanceof Error?"Original error: "+r.message:"Unknown error";throw new a(`performHttpFetch error while fetching ${e}. ${t}`,{errorCode:"performHttpFetchError"})}},s=async({response:e})=>{throw new n(`[Code ${e.status}] ${await e.text()}`,{statusCode:e.status,traceId:r(e)})};e.exports.getTraceIdFromResponse=r,e.exports.FetchError=a,e.exports.performHttpFetch=o}),a("6FQwA",function(e,t){let a=e=>e.charAt(0).toUpperCase()+e.slice(1),n=e=>e.charAt(0).toLowerCase()+e.slice(1),o=e=>{try{return new URL(e),!0}catch{return!1}},s=e=>`${r("kGZ7I").ROVO_PARAM_PREFIX}${a(e)}`,i=e=>n(e.replace(r("kGZ7I").ROVO_PARAM_PREFIX,"")),c=(e,t={filter:[]})=>{let a={},n="string"==typeof e?new URLSearchParams(o(e)?new URL(e).search:e):e,s=new URLSearchParams(n),c=new URLSearchParams;n.forEach((e,n)=>{if(!n.startsWith(r("kGZ7I").ROVO_PARAM_PREFIX))return;let o=i(n);t?.filter?.length?t.filter.includes(o)&&(a[o]=decodeURIComponent(e),c.append(n,e)):a[o]=decodeURIComponent(e),s.delete(n)});let l=[s,c].map(e=>e.toString()).filter(e=>e.length>0).join("&");return{processed:s,rovoParams:a,combinedQueryString:l}},l=(e,t)=>{let{processed:r,rovoParams:a}=c(e),n={...a,...t},o=e.includes("?")?e.split("?")[0]:e,s=Array.from(r).length?`?${r.toString()}&`:"?",i=d(n);return`${o}${s}${i}`},d=(e,t)=>t?Object.entries(e).reduce((e,[t,r])=>(e[s(t)]=encodeURIComponent(r),e),{}):Object.entries(e).filter(([e,t])=>void 0!==t).map(([e,t])=>`${s(e)}=${encodeURIComponent(t)}`).join("&");e.exports.getRovoParams=e=>{try{let t=e?new URL(e).search:window.location.search,r=new URLSearchParams(t);return c(r).rovoParams}catch{return{}}},e.exports.updatePageRovoParams=e=>{window.history.pushState({},"",l(window.location.pathname,e))},e.exports.addRovoParamsToUrl=l,e.exports.encodeRovoParams=d}),a("kGZ7I",function(e,t){e.exports.ROVO_PARAM_PREFIX="rovoChat",e.exports.ROVO_VALID_PARAMS=["pathway","agentId","conversationId","prompt","cloudId","triggerOpen","insertPrompt"]}),a("7pmZw",function(e,t){var a=r("42omo");let n=e=>e&&"object"==typeof e&&"errorAttributes"in e&&"object"==typeof e.errorAttributes;class o{setSendAnalyticsEvent(e){this.sendAnalyticsEvent=e}static getInstance(){return o.instance||(o.instance=new o),o.instance}static setLabelStack(e){o.labelStack=e}constructor(){this.experienceTracker=new(0,r("9tntP").ExperienceTracker),this.sendAnalyticsEvent=null,this.experienceTracker.subscribe(e=>{let t={},a=!1;if("error"in e){if((0,r("j2DyP").isClientFetchError)(e.error)&&(a=!0),e.attributes){let{webSearchEnabled:r,deepResearchEnabled:a,thinkDeeperEnabled:n}=e.attributes;void 0!==r&&(t={...t,webSearchEnabled:r}),void 0!==a&&(t={...t,deepResearchEnabled:a}),void 0!==n&&(t={...t,thinkDeeperEnabled:n})}if(n(e.error)&&(t=Object.fromEntries(Object.entries(e.error.errorAttributes).filter(([,e])=>void 0!==e))),!a){let a=e.error instanceof Error?e.error:Error(JSON.stringify(e.error)),n=e.attributes,o=n?.touchpointSource,s=n?.teamName,{traceId:i,...c}=t,l=n?.traceId||i;(0,r("1yaYZ").logException)({exception:a,name:e.name,tags:{source:"aiMateExperienceTracker",...c,...o&&{touchpointSource:o},...s&&{teamName:s},...l&&{altTraceId:l}}})}}("taskSuccess"===e.action||"taskFail"===e.action||"taskAbort"===e.action)&&(0,r("4u5NT").addSpanToAll)("custom",`exp-${e.name}`,o.labelStack,e.startTime,e.startTime+e.duration),this.sendAnalyticsEvent?.({eventType:"operational",action:e.action,actionSubject:"ui",attributes:{task:e.name,taskId:e.id,startTime:e.startTime,...("taskSuccess"===e.action||"taskFail"===e.action)&&{duration:e.duration},..."taskFail"===e.action&&{error:e.error.message,...t},...e.attributes}},{removeDefaultTags:!0})})}}o.instance=void 0,o.labelStack=[],e.exports.useUFOLabelStackSetter=()=>(0,a.useCallback)(e=>{o.setLabelStack(e)},[]),e.exports.useAIMateExperienceTracker=e=>{(0,r("fBMbo").di)(r("kIvLT").useAnalytics);let{sendAnalyticsEvent:t,mode:n}=(0,r("kIvLT").useAnalytics)(),s=(0,a.useCallback)(e=>"mini-modal"===n?`${e}.${r("16lEl").ExperienceNamePostfix.MINI_MODAL}`:e,[n]);return(0,a.useMemo)(()=>{o.getInstance().setSendAnalyticsEvent(t)},[t]),(0,a.useMemo)(()=>new Proxy(o.getInstance().experienceTracker,{get:(t,r)=>"fail"===r?r=>{t.fail({...r,attributes:{...r.attributes,name:r.name?s(r.name):r.name,touchpointSource:e?.touchpointSource,teamName:r.teamName}})}:"succeed"===r?r=>{t.succeed({...r,name:r.name?s(r.name):r.name,attributes:{...r.attributes,touchpointSource:e?.touchpointSource}})}:"start"===r?e=>{t.start({...e,name:e.name?s(e.name):e.name})}:"abort"===r?e=>{t.abort({...e,name:e.name?s(e.name):e.name})}:"stopOnError"===r?e=>{t.stopOnError({...e,name:e.name?s(e.name):e.name})}:"function"==typeof t[r]?t[r].bind(t):t[r]}),[e?.touchpointSource,s])}}),a("j2DyP",function(e,t){let r=["server with the specified hostname could not be found","connection failure","Failed to fetch","Network request failed","NetworkError","The request timed out","The network connection was lost","The operation was aborted"],a=e=>!!e&&!!r.find(t=>e.includes(t)),n=["AbortError","AuthError","ChunkLoadError","NetworkError"];e.exports.isClientFetchError=e=>!!e&&"object"==typeof e&&(n.includes(e.name)||a(e.message)||"object"==typeof e.cause&&(n.includes(e.cause.name)||a(e.cause.message)))}),a("1yaYZ",function(e,t){let a,n=async()=>r("qPf6L"),o=["onerror","onunhandledrejection","Dedupe"],s=()=>"production",i=async({customSentryDsn:e,packageName:t,product:i,ignoreErrors:c}={})=>{let l,d="UNKNOWN_AAID",u=i??(0,r("35fh0").getRovoChatProduct)();try{let e=await (0,r("mbtR9").performHttpFetch)({path:"/gateway/api/me",options:{method:"GET"}});e?.account_id&&(d=e.account_id)}catch{}if(a){a.setTag("product",u),a.setUser({id:d});return}try{l=await n()}catch(e){console.warn("Failed to load conversation-assistant sentry",e);return}l.init({dsn:e||"https://0d679a1c0fe3816e2b2e34d4ca85d5da@o55978.ingest.sentry.io/4506794008903680",environment:s(),integrations:e=>e.filter(e=>-1===o.indexOf(e.name)),initialScope:{user:{id:d},tags:{packageName:t||"@atlassian/conversation-assistant",product:u}},beforeSend:(e,t)=>{let a=t?.originalException;if((0,r("j2DyP").isClientFetchError)(a)||!e.tags?.name)return null;if(e.request?.url){if(e.request.url.includes("localhost")||e.request.url.includes("jira-dev.com")||e.request.url.includes("stg.atlassian.com")||e.request.url.includes("stg.internal.atlassian.com")||e.request.url.includes("stg-east.frontend.public.atl-paas.net"))return null;e.request.url=(0,r("ldpU6").normaliseUrl)(e.request.url)}if(e.exception?.values){let t=[];e.exception.values=e.exception.values.map(e=>{let{normalized:a,matchedUUIDs:n}=(0,r("ldpU6").normalizeUUID)(e.value);return t.push(...n),{...e,value:a}}),t.length>0&&(e.tags||(e.tags={}),e.tags.matchedUUID=JSON.stringify(t))}return e},attachStacktrace:!0,ignoreErrors:c}),a=l},c=async()=>(a||await i(),a),l=async({exception:e,name:t,tags:a})=>{let n=await c();n&&"function"==typeof n.captureException&&n.withScope(o=>{if(o.setTag("name",t),a&&o.setTags(a),a?.source==="aiMateExperienceTracker"&&(o.setTag("experience",t),"aiMateFetchChat"===t&&(0,r("dh538").fg)("rovo_sentry_issues_grouping_by_experience"))){let r=[t];e instanceof Error&&r.push(e.name),o.setFingerprint(r)}n.captureException(e,o)})};e.exports.setupSentryClient=i,e.exports.logException=l}),a("mbtR9",function(e,t){class a extends Error{constructor(e,t){super(e),this.message=e,this.errorAttributes=t}}let n=async({path:e,options:t})=>{try{let r=await fetch(e,t);return(!r.ok||r.status>=400)&&await o({response:r}),await r.json()}catch(a){let t=a instanceof Error?"Original error: "+a.message:"Unknown error";throw new(0,r("kU4HV").FetchError)(`performHttpFetch error while fetching ${e}. ${t}`,{errorCode:"performHttpFetchError"})}},o=async({response:e})=>{throw new a(`[Code ${e.status}] ${await e.text()}`,{statusCode:e.status,traceId:(0,r("hdasn").getTraceIdFromResponse)(e)})};e.exports.performHttpFetch=n}),a("kU4HV",function(e,t){e.exports.FetchError=class extends Error{constructor(e,t){super(e),this.errorAttributes=t,this.name="FetchError"}}}),a("hdasn",function(e,t){e.exports.getTraceIdFromResponse=e=>e?.headers?.get("x-trace-id")??e?.headers?.get("atl-traceid")??e?.headers?.get("x-b3-traceid")??void 0}),a("35fh0",function(e,t){e.exports.getRovoChatProduct=()=>{let e="UNKNOWN";return window&&window.__ROVO_CHAT_CONFIG_PRODUCT__&&(e=window.__ROVO_CHAT_CONFIG_PRODUCT__),e}}),a("ldpU6",function(e,t){let r=["/jira/","/wiki/","/browse/"],a=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/gi;e.exports.normaliseUrl=e=>{try{let t=new URL(e),a="/any/";("home.atlassian.com"===t.host||"team.atlassian.com"===t.host)&&(a=t.pathname.replace(/\/o\/[^/]+/,"/o/orgId"));let n=RegExp(`^(${r.join("|")})`);return n.test(t.pathname)&&(a=t.pathname.match(n)[0]),`${t.protocol}//${t.host}${a}`}catch(e){return"https://could-not-parse.example.com"}},e.exports.normalizeUUID=e=>{if(!e)return{normalized:"",matchedUUIDs:[]};let t=e.match(a)||[];return{normalized:e.replace(a,"{uuid}"),matchedUUIDs:t}}}),a("qPf6L",function(e,t){let a=r("4mJKd")(5);e.exports=Promise.all([a("hyqsV"),a("2KJHS")]).then(()=>r("3spmo"))}),a("4mJKd",function(e,t){e.exports=e=>t=>import(r("8tirZ").shardUrl(r("02nRr").resolve(t),e))}),a("8tirZ",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.applyShardToDomain=s,e.exports.domainShardingKey=void 0,e.exports.getDomainShardIndex=a,e.exports.shardUrl=function(e,t){return globalThis[r]?i(e,t):e},e.exports.shardUrlUnchecked=i;let r="__ATLASPACK_ENABLE_DOMAIN_SHARDS";function a(e,t){let r=t+1,a=e.split("").reduce((e,t)=>{let a=(e<<r)-e+t.charCodeAt(0);return a&a},0);return(a%=r)<0&&(a+=r),a}let n=/-\d+$/;function o(e){if(!n.test(e))return e;let t=e.lastIndexOf("-");return e.slice(0,t)}function s(e,t){let r=e.indexOf("."),a=0===t?"":`-${t-1}`;if(-1===r)return`${o(e)}${a}`;let n=o(e.slice(0,r));return`${n}${a}${e.slice(r)}`}function i(e,t){let r=new URL(e),n=a(function(e){let t=e.lastIndexOf("/");if(-1===t||t===e.length-1)throw Error("Expected an absolute URL with a file name, unable to apply sharding.");return e.slice(t+1)}(r.pathname),t);return r.hostname=s(r.hostname,n),r.toString()}e.exports.domainShardingKey=r}),a("02nRr",function(e,r){t(e.exports,"register",()=>a,e=>a=e),t(e.exports,"resolve",()=>n,e=>n=e);var a,n,o=new Map;a=function(e,t){for(var r=0;r<t.length-1;r+=2)o.set(t[r],{baseUrl:e,path:t[r+1]})},n=function(e){var t=o.get(e);if(null==t)throw Error("Could not resolve bundle with id "+e);return new URL(t.path,t.baseUrl).toString()}}),a("bhcGS",function(e,t){e.exports.isStaging=()=>{let e=window.location.host;return e.includes("localhost")||e.includes(".stg.atlassian")||e.includes(".stg-east.frontend.public.atl-paas.net")||e.includes("jira-dev.com")}}),a("b62XF",function(e,t){let a=e=>{let t=e.match(/(?:query|mutation)\s+(\w+)/);return t?t[1]:void 0},n=async({gqlQuery:e,headerOptions:t,variables:a,abortController:n})=>{try{let r=await fetch("/gateway/api/graphql",{headers:{"Content-Type":"application/json",...t},method:"POST",body:JSON.stringify({query:e,variables:a}),signal:n?.signal}),o=await r.json();return o?.errors?.length&&await s({errors:o.errors,gqlQuery:e}),o}catch(t){if(t instanceof o)throw t;if(t instanceof Error&&"AbortError"===t.name)return{data:null,errors:void 0};let e=t instanceof Error?t.message:"Unknown error";throw new(0,r("8Igpw").FetchError)(`GraphQL query failed (promise rejected): ${e}`,{errorCode:"performGqlFetchError"})}};class o extends Error{constructor({errors:e,queryName:t}){let r=e.map(e=>e.message).join(", "),a=`GraphQL API error: ${r}`;super(a),this.message=void 0,this.errorAttributes=void 0,this.message=a,this.name="GraphQLError",this.errorAttributes={errorCode:"GqlApiError",queryName:t,rawErrorMessage:a,errors:r}}}let s=async({errors:e,gqlQuery:t})=>{let r=[];throw e.forEach(e=>{r.push({message:e.message,status_code:e.extensions.statusCode,classification:e.extensions.classification})}),new o({errors:r,queryName:a(t)})};e.exports.performGqlFetch=n}),a("9eLw5",function(e,t){var a=r("42omo");let n=(0,r("1P1Tu").createStore)({initialState:{cache:{}},actions:{updateCacheEntry:(e,t)=>({setState:r,getState:a})=>{let n=a(),o={...n.cache[e]??{data:null,error:null,isFetching:!1},...t};r({cache:{...n.cache,[e]:o}})},getCacheEntry:e=>({getState:t})=>t().cache[e]}}),o=(0,r("cclHy").createSelector)(e=>e.cache,(e,t)=>t.key,(e,t)=>t.initialQueryEnabled,(e,t,r)=>e[t]??{data:null,error:null,isFetching:r}),s=(0,r("9zUhf").createHook)(n,{selector:o});e.exports.useQuery=({queryKey:e,queryFn:t,onSuccess:n,onError:o,enabled:i=!0,refetchOnWindowFocus:c=!1})=>{let l=e.map(e=>e?.toString()).join("_"),d=(0,a.useRef)(t);d.current=t;let u=(0,a.useRef)(n);u.current=n;let E=(0,a.useRef)(o);E.current=o;let[p,{updateCacheEntry:A,getCacheEntry:_}]=s({key:l,initialQueryEnabled:i}),h=(0,a.useCallback)(async()=>{A(l,{isFetching:!0});try{let e=await d.current();return A(l,{data:e}),u.current?.(e),e}catch(t){let e=(0,r("flpNp").mapErrorToApiError)(t);A(l,{error:e}),E.current?.(e)}finally{A(l,{isFetching:!1})}return null},[A,l]);return(0,a.useEffect)(()=>{if(i&&c)return(0,r("fFa3V").bind)(window,{type:"visibilitychange",listener:()=>{i&&c&&!_(l)?.isFetching&&"visible"===document.visibilityState&&h()}})},[i,h,_,l,c]),(0,a.useEffect)(()=>{!_(l)&&i&&h()},[l,h,i,_]),{data:p.data,error:p.error,isFetching:p.isFetching,refetch:h}}}),a("flpNp",function(e,t){class r extends Error{constructor(e,t){super(e),this.message=e,this.errorAttributes=t}}let a=e=>e instanceof r;e.exports.ApiError=r,e.exports.isApiError=a,e.exports.mapErrorToApiError=e=>a(e)?e:new r(e.message,{statusCode:0})}),a("iswAx",function(e,t){var a=r("l998X");r("42omo");let n=e=>{let t=e.match(/\/([a-zA-Z0-9_\|\-\:]{1,128})$/);return t?t[1]:void 0},o=({userId:e,siteId:t,profileCard:n=!1,simplified:o=!1})=>{(0,r("fBMbo").di)(s);let{profile:i,client:c}=s(e,t),{formatMessage:l}=(0,r("8C5kA").default)(),{atlasURL:d}=(0,r("fQF1W").useAtlasURL)(t),u=i.data?.status==="inactive"&&i.data.fullName?l(r("5kyLi").default.deactivatedCreatorName,{name:i.data.fullName}):i.data?.fullName;if(i.isFetching||!i.data)return(0,a.jsx)(r("kpYGL").default,{isShimmering:!0,height:18,width:100,borderRadius:3});if(o){let t=d(`/people/${e}`);return(0,r("dh538").fg)("dst-a11y__replace-anchor-with-link__ai-mate")?(0,a.jsx)(r("2Nwuj").default,{href:t,target:"_blank",children:u}):(0,a.jsx)("a",{href:t,target:"_blank",children:u})}return n?(0,a.jsx)(r("9uTsJ").default,{userId:e,resourceClient:c,ariaLabel:u,children:(0,a.jsx)(r("9EfFC").default,{id:e,isHighlighted:i.data.isCurrentUser,text:`@${u}`})}):(0,a.jsx)(r("9EfFC").default,{id:e,isHighlighted:i.data.isCurrentUser,text:`@${u}`})};function s(e,t,a=!0){let n=(0,r("eOn3v").useProfileClient)();return{profile:(0,r("9eLw5").useQuery)({queryKey:["fetchProfile",t,e],queryFn:async()=>{try{return await n.getProfile(t,e)}catch(e){return(0,r("1yaYZ").logException)({exception:e,name:"ConversationAssistantAgentUseProfileResolutionError"}),{}}},enabled:a}),client:n}}e.exports.getAAIDFromARI=n,e.exports.getARIFromAAID=e=>`ari:cloud:identity::user/${e}`,e.exports.AgentCreatedBy=({agent:e,siteId:t,simplified:s})=>{if((0,r("26nu6").isSystemAgent)(e)||(0,r("26nu6").isOOTBAgent)(e)||!e.creator)return(0,a.jsxs)(r("dcJ7R").default,{alignBlock:"center",testId:"atlassian-icon",children:[(0,a.jsx)(r("4Nwes").AtlassianIcon,{label:"",appearance:"brand",size:"small"}),(0,a.jsx)(r("6f0Oj").default,{children:"Atlassian"})]});if((0,r("26nu6").isCustomerAgent)(e)){let i=e.authoring_team;if(i?.id)return(0,a.jsx)(r("dcJ7R").default,{alignBlock:"center",testId:"atlassian-icon",children:(0,a.jsx)(r("2Nwuj").default,{href:i.profile_url,target:"_blank",children:i.display_name})});let c=e.creator?n(e.creator):void 0;return c?(0,a.jsx)(o,{userId:c,siteId:t,profileCard:!0,simplified:s}):null}return(0,r("26nu6").isForgeAgent)(e)?(0,a.jsx)(r("6f0Oj").default,{children:e.creator}):null},e.exports.useProfileResolution=s,e.exports.getEnabledKnowlegeArisFromAgent=e=>{let t=e.scenarios?.filter(e=>e.isActive&&e.isValid?.value)?.flatMap(e=>e.knowledgeSources).filter(e=>e?.enabled).flatMap(e=>e?.sources).filter(e=>e?.enabled);return t?.length?Array.from(t?.reduce((e,t)=>([...t?.filters?.parentFilter??[],...t?.filters?.spaceFilter??[],...t?.filters?.projectFilter??[]].forEach(t=>e.add(t)),e),new Set)):[]},e.exports.getSuggestedOotbAgents=({availableAgents:e,product:t})=>{let a=t?r("cqFPV").DEFAULT_OOTB_AGENTS_NAMED_IDS[t]??r("cqFPV").DEFAULT_AGENTS_NAMED_ID_LIST:r("cqFPV").DEFAULT_AGENTS_NAMED_ID_LIST;return e.filter(e=>a.has(e.named_id)||e.external_config_reference&&a.has(e.external_config_reference))}}),a("26nu6",function(e,t){e.exports.isSystemAgent=e=>"SYSTEM"===e.creator_type,e.exports.isCustomerAgent=e=>"CUSTOMER"===e.creator_type,e.exports.isForgeAgent=e=>"THIRD_PARTY"===e.creator_type||"FORGE"===e.creator_type,e.exports.isOOTBAgent=e=>"OOTB"===e.creator_type}),a("cqFPV",function(e,t){let r=new Set(["decision_director_agent","user_manual_writer_agent","product_requirements_expert_agent"]),a={confluence:new Set(["decision_director_agent","product_requirements_expert_agent","rovo_expert_agent"]),jira:new Set(["rovo_expert_agent","issue_organizer_agent","jira_theme_analyzer_agent"]),atlas:new Set(["progress_tracker_agent","product_requirements_expert_agent","rovo_expert_agent"])};e.exports.DEFAULT_AGENTS_NAMED_ID_LIST=r,e.exports.DEFAULT_OOTB_AGENTS_NAMED_IDS=a,e.exports.isCreateOrEditAgentAUPError=e=>!!e&&"object"==typeof e&&e.errorAttributes&&"convoai.agent.responsible-ai.failure"===e.errorAttributes.errorCode,e.exports.isHipaaError=e=>!!e&&"object"==typeof e&&e.errorAttributes&&"convoai.rest.browsing.product.has.hipaa.enabled"===e.errorAttributes.errorCode,e.exports.AGENTS_CONTAINER_ID="browse-agents-container"}),a("fQF1W",function(e,t){var a=r("42omo");e.exports.useAtlasURL=e=>{let{data:t}=(0,r("dYtRL").useTenantDataController)(e);return{atlasURL:(0,a.useCallback)(a=>(0,r("827Ne").getAtlasURL)(e,a,t?.orgId),[e,t?.orgId])}}}),a("827Ne",function(e,t){let a=()=>(0,r("bhcGS").isStaging)()?"https://home.stg.atlassian.com":"https://home.atlassian.com";e.exports.getAtlasHost=a,e.exports.getAtlasURL=(e,t,n)=>{let o="?",s=t.startsWith("/")?t:`/${t}`;s.includes("?")&&(o="&");let i=n?`${a()}/o/${n}`:a();return(0,r("6FQwA").addRovoParamsToUrl)(`${i}${s}${o}cloudId=${e}`,{cloudId:e})}}),a("dYtRL",function(e,t){e.exports.useTenantDataController=e=>{(0,r("fBMbo").di)(r("9eLw5").useQuery);let t=(0,r("7pmZw").useAIMateExperienceTracker)(),{data:a,isFetching:n,error:o}=(0,r("9eLw5").useQuery)({queryKey:["viewAgentTenantData",e],queryFn:async()=>(t.start({id:r("16lEl").ExperienceName.FETCH_AGENT_TENANT_DATA,name:r("16lEl").ExperienceName.FETCH_AGENT_TENANT_DATA}),await (0,r("hGGLc").getCloudUrlFromId)(e)),onSuccess:()=>{t.succeed({name:r("16lEl").ExperienceName.FETCH_AGENT_TENANT_DATA})},onError:e=>{t.fail({name:r("16lEl").ExperienceName.FETCH_AGENT_TENANT_DATA,error:e})}});return{data:a,isFetching:n,error:o}}}),a("hGGLc",function(e,t){let a=`
query tenantQuery($cloudIds: [ID!]) {
  tenantContexts(cloudIds: $cloudIds) {
    cloudUrl
	orgId
  }
}
`,n=new Map,o=async e=>{if((0,r("dh538").fg)("aifc_create_enabled")){if(n.has(e))return n.get(e);let t=await (0,r("b62XF").performGqlFetch)({gqlQuery:a,variables:{cloudIds:[e]}}),o=t.data?.tenantContexts?.[0];return o&&n.set(e,o),o}let t=await (0,r("b62XF").performGqlFetch)({gqlQuery:a,variables:{cloudIds:[e]}});return t.data?.tenantContexts?.[0]};e.exports.getCloudUrlFromId=o}),a("eOn3v",function(e,t){let a;var n=r("42omo");e.exports.useProfileClient=()=>((0,r("fBMbo").di)(r("fHxn4").default),(0,n.useMemo)(()=>(a||(a=new(0,r("fHxn4").default)({url:"/gateway/api/directory/graphql",cacheSize:1e3,cacheMaxAge:864e5})),a),[]))}),a("5kyLi",function(e,a){t(e.exports,"default",()=>n);var n=(0,r("cgtv4").defineMessages)({deactivatedCreatorName:{id:"rovo-chat.agent-card.deactivated-name",defaultMessage:"{name} (deactivated)"}})});
//# sourceMappingURL=mention.d3ab10e0.js.map
