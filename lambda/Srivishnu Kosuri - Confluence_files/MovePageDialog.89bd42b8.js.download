function e(e){return e&&e.__esModule?e.default:e}function t(e,t,a,i){Object.defineProperty(e,t,{get:a,set:i,enumerable:!0,configurable:!0})}var a=globalThis.parcelRequired477,i=a.register;i("6g38M",function(e,t){let i=(0,a("eSUdr").default)`query getAutomatedMeetingNotesPagePropertiesQuery($pageAri:ID!){page(id:$pageAri){properties(keys:["isAutomatedMeetingNotes" "meetingRecurrenceAri"]){nodes{key value}}subType}}`,n=async e=>{let{cloudId:t}=await (0,a("ge2sX").getSessionData)(),n=a("a2xFu").ConfluencePageAri.create({siteId:t,pageId:e}).toString(),{data:r}=await (0,a("hp2SH").getApolloClient)().query({query:i,variables:{pageAri:n},errorPolicy:"none"});return(0,a("iSXh4").extractAmnPageProperties)(r)};e.exports.getAutomatedMeetingNotesPageProperties=n}),i("55DRn",function(e,t){var i=a("3u0dr"),n=a("frIzR"),r=a("42omo");let o=(0,i.isReactCompilerActiveV1)()?()=>{let e,t,i,r,o,u,p=(0,n.c)(11);p[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a("eSUdr").default)`mutation useMovePageHandlerMovePageAfterMutation($pageId:ID!$siblingId:ID!){movePageAfter(input:{pageId:$pageId siblingId:$siblingId}){page{id links{webui editui}}}}`,p[0]=e):e=p[0];let[m]=(0,a("1KmJq").useMutation)(e);p[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a("eSUdr").default)`mutation useMovePageHandlerMovePageBeforeMutation($pageId:ID!$siblingId:ID!){movePageBefore(input:{pageId:$pageId siblingId:$siblingId}){page{id links{webui editui}}}}`,p[1]=t):t=p[1];let[h]=(0,a("1KmJq").useMutation)(t);p[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a("eSUdr").default)`mutation useMovePageHandlerMovePageAppendMutation($pageId:ID!$parentId:ID!){movePageAppend(input:{pageId:$pageId parentId:$parentId}){page{id links{webui editui}}}}`,p[2]=i):i=p[2];let[f]=(0,a("1KmJq").useMutation)(i);p[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a("eSUdr").default)`mutation useMovePageHandlerMovePageTopLevelMutation($pageId:ID!$spaceKey:String!){movePageTopLevel(input:{pageId:$pageId targetSpaceKey:$spaceKey}){page{id links{webui editui}}}}`,p[3]=r):r=p[3];let[v]=(0,a("1KmJq").useMutation)(r);p[4]!==m||p[5]!==f||p[6]!==h||p[7]!==v?(o=async e=>{let t=s;return"parentId"in e?f({variables:{pageId:e.pageId,parentId:e.parentId}}).then(t(l)):"spaceKey"in e?v({variables:{pageId:e.pageId,spaceKey:e.spaceKey}}).then(t(d)):"after"===e.positionToSibling?m({variables:{pageId:e.pageId,siblingId:e.siblingId}}).then(t(c)):h({variables:{pageId:e.pageId,siblingId:e.siblingId}}).then(t(g))},p[4]=m,p[5]=f,p[6]=h,p[7]=v,p[8]=o):o=p[8];let I=o;return p[9]!==I?(u={movePage:I},p[9]=I,p[10]=u):u=p[10],u}:()=>{let[e]=(0,a("1KmJq").useMutation)((0,a("eSUdr").default)`mutation useMovePageHandlerMovePageAfterMutation($pageId:ID!$siblingId:ID!){movePageAfter(input:{pageId:$pageId siblingId:$siblingId}){page{id links{webui editui}}}}`),[t]=(0,a("1KmJq").useMutation)((0,a("eSUdr").default)`mutation useMovePageHandlerMovePageBeforeMutation($pageId:ID!$siblingId:ID!){movePageBefore(input:{pageId:$pageId siblingId:$siblingId}){page{id links{webui editui}}}}`),[i]=(0,a("1KmJq").useMutation)((0,a("eSUdr").default)`mutation useMovePageHandlerMovePageAppendMutation($pageId:ID!$parentId:ID!){movePageAppend(input:{pageId:$pageId parentId:$parentId}){page{id links{webui editui}}}}`),[n]=(0,a("1KmJq").useMutation)((0,a("eSUdr").default)`mutation useMovePageHandlerMovePageTopLevelMutation($pageId:ID!$spaceKey:String!){movePageTopLevel(input:{pageId:$pageId targetSpaceKey:$spaceKey}){page{id links{webui editui}}}}`);return{movePage:(0,r.useCallback)(async a=>{let r=e=>({data:t,...a})=>({...a,data:void 0===t?void 0:{mutationResult:e(t)}});return"parentId"in a?i({variables:{pageId:a.pageId,parentId:a.parentId}}).then(r(e=>e.movePageAppend)):"spaceKey"in a?n({variables:{pageId:a.pageId,spaceKey:a.spaceKey}}).then(r(e=>e.movePageTopLevel)):"after"===a.positionToSibling?e({variables:{pageId:a.pageId,siblingId:a.siblingId}}).then(r(e=>e.movePageAfter)):t({variables:{pageId:a.pageId,siblingId:a.siblingId}}).then(r(e=>e.movePageBefore))},[e,i,t,n])}};function s(e){return t=>{let{data:a,...i}=t;return{...i,data:void 0===a?void 0:{mutationResult:e(a)}}}}function l(e){return e.movePageAppend}function d(e){return e.movePageTopLevel}function c(e){return e.movePageAfter}function g(e){return e.movePageBefore}e.exports.useMovePageHandler=o}),i("88DkZ",function(e,t){e.exports.dragDropEndTrackEvent=({source:e,contentStatus:t,pageId:a,previousParentPageId:i,newParentPageId:n,previousSpaceId:r,newSpaceId:o,referrer:s,isLivePage:l,isOnEditRoute:d,instructionType:c,isAmnPage:g=!1})=>({type:"sendTrackEvent",data:{action:"updated",source:e,containerType:"space",containerId:r,objectType:"page",objectId:a,actionSubject:"page",attributes:{contentStatus:t??null,previousSpaceId:r,previousParentPageId:i,newSpaceId:o,newParentPageId:n,...s?{referrer:s}:void 0,isLivePage:l,isOnEditRoute:d,instructionType:c,isAmnPage:g}}}),e.exports.dragStartUIEvent=()=>({type:"sendUIEvent",data:{action:"dragged",actionSubject:"pageTree",source:"viewPageScreen"}}),e.exports.dragEndUIEvent=e=>({type:"sendUIEvent",data:{action:"dropped",actionSubject:"pageTree",source:"viewPageScreen",attributes:{isValidTarget:e}}}),e.exports.undoClickUIEvent=()=>({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"pageTreeDragDropUndo",source:"viewPageScreen"}}),e.exports.undoShortcutUIEvent=()=>({type:"sendUIEvent",data:{action:"pressed",actionSubject:"keyboardShortcut",actionSubjectId:"pageTreeDragDropUndo",source:"viewPageScreen"}}),e.exports.pageTreeUIAnalytics=(e,t,a,i,n,r,o,s,l,d,c)=>{let g={type:"sendUIEvent",data:{containerType:"space",containerId:t,objectType:o??"page",objectId:r??"",action:e,actionSubject:"pageTree",source:a?"pageTreeDrawer":"containerNavigation",attributes:{navigationLayer:"container",navigationContainer:"sidebar",spaceView:"TREE",contentStatus:n??null,isOnEditRoute:l,contentTreeSize:d,navVersion:i?"4":"3",spaceKey:c}}};return s&&(g.data.attributes.navdexPointType=s),g},e.exports.pageTreePaginationEvent=(e,t,a,i)=>({type:"sendUIEvent",data:{action:"clicked",containerId:e,actionSubject:"button",actionSubjectId:"showAllButton",source:a||"containerNavigation",attributes:{pageCount:t,direction:i}}}),e.exports.oneOnOnePagesDetectedEvent=(e,t,a)=>({type:"sendTrackEvent",data:{action:"OneOnOneTitlesShown",actionSubject:"pageTree",actionSubjectId:"OneOnOneTitles",source:"containerNavigation",containerType:"space",containerId:a,attributes:{oneOnOnePagesCount:e,totalPagesCount:t}}})}),i("6FfmH",function(t,i){var n=a("42omo");let r=(0,a("cgtv4").defineMessages)({noCreatePermissionsErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.no-create-permissions-error.title",defaultMessage:"You can’t move this content"},noCreatePermissionsErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.no-create-permissions-error.description",defaultMessage:"To move content to another space, you need permission to create in that space."},permissionsErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.permissions-error.title",defaultMessage:"You don’t have permission to move this content"},permissionsErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.permissions-error.description",defaultMessage:"Contact a space admin to get the content moved or to give you the permissions you need."},parentChildLoopErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.parent-child-loop.title",defaultMessage:"Select a different destination"},parentChildLoopErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.parent-child-loop.description",defaultMessage:"The destination cannot be nested below the content being moved."},singleConflictingContentNameErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.single-conflicting-page-name.title",defaultMessage:"Content with this title already exists"},singleConflictingContentNameErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.single-conflicting-page-name.description",defaultMessage:"<strong>{conflictingPageName}</strong> already exists in the {destinationSpace} space. Rename your content before moving."},singleConflictingPageNameWithinEditorErrorCallToAction:{id:"page-tree.move-page-dialog.published-page.move-error.single-conflicting-page-name-within-editor.call-to-action",defaultMessage:"Rename this page"},singleConflictingLivePageNameWithinEditorErrorCallToAction:{id:"page-tree.move-page-dialog.published-page.move-error.single-conflicting-live-page-name-within-editor.call-to-action",defaultMessage:"Rename this doc"},singleConflictingPageNameWithinEditorErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.single-conflicting-page-name-within-editor.title",defaultMessage:"Rename this page to make it unique"},singleConflictingLivePageNameWithinEditorErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.single-conflicting-live-page-name-within-editor.title",defaultMessage:"Rename this doc to make it unique"},singleConflictingPageNameWithinEditorErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.single-conflicting-page-name-within-editor.description",defaultMessage:"A page titled <strong>{conflictingPageName}</strong> already exists in the {destinationSpace} space. To move this page, you’ll first need to give it a unique title and publish it."},singleConflictingLivePageNameWithinEditorErrorDescription:{id:"page-tree.move-page-dialog.live-page.move-error.single-conflicting-page-name-within-editor.description",defaultMessage:"There’s already a page named <strong>{conflictingPageName}</strong> in {destinationSpace}. Give this page a unique title to move it."},singleConflictingLiveDocNameWithinEditorErrorDescription:{id:"page-tree.move-page-dialog.live-doc.move-error.single-conflicting-page-name-within-editor.description",defaultMessage:"There’s already a live doc named <strong>{conflictingPageName}</strong> in {destinationSpace}. Give this doc a unique title to move it."},multipleConflictingContentNamesErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.multiple-conflicting-page-name.title",defaultMessage:"Content with these names already exist"},multipleConflictingContentNamesErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.multiple-conflicting-page-name.description",defaultMessage:"The following content already exists in the {destinationSpace} space: {listOfConflictingNames}. Rename your content before moving."},restrictionsPermissionErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.no-restrictions-permissions.title",defaultMessage:"You can’t move restricted content to this space"},restrictionsPermissionErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.no-restrictions-permissions.description",defaultMessage:"This content is restricted, and you don’t have permission to create restricted content in the new space. Remove restrictions before moving it."},destinationDoesNotExistErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.destination-does-not-exist.title",defaultMessage:"Select a different destination"},destinationDoesNotExistErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.destination-does-not-exist.description",defaultMessage:"This destination has recently been deleted or archived. Please select a different destination."},sourceDoesNotExistErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.source-does-not-exist.title",defaultMessage:"This content can’t be moved"},sourceDoesNotExistErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.source-does-not-exist.description",defaultMessage:"This content has recently been deleted or archived and therefore cannot be moved."},draftPermissionsErrorTitle:{id:"page-tree.move-page-dialog.draft-page.move-error.default.title",defaultMessage:"You can’t move this content"},draftPermissionsErrorDescription:{id:"page-tree.move-page-dialog.draft-page.move-error.default.description",defaultMessage:"Only the owner can move a draft to another space. Contact them or a space admin for help."},draftWithChildrenErrorTitle:{id:"page-tree.move-page-dialog.draft-page.children.move-error.default.title",defaultMessage:"You can’t move this content"},draftWithChildrenErrorDescription:{id:"page-tree.move-page-dialog.draft-page.children.move-error.default.description",defaultMessage:"This draft has children and cannot be moved to another space. Move them first to relocate this draft or contact a space admin for help."},defaultErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.default.title",defaultMessage:"We’re having issues moving this content"},defaultErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.default.description",defaultMessage:"We’re having issues moving this content. Refresh and try again; if that doesn’t solve the issue, please contact support."},tooManyPagesErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.too-many-pages.title",defaultMessage:"We couldn’t move this many items at once."},tooManyPagesErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.too-many-pages.description",defaultMessage:"Try again by selecting an item with fewer child items."},moreThan100PagesErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.more-than-hundred-pages.title",defaultMessage:"We couldn’t move this many items at once."},moreThan100PagesErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.more-than-hundred-pages.description",defaultMessage:"Try again by selecting an item with fewer than 100 child items."},movingContentToSelfErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.source-same-as-target.title",defaultMessage:"You can’t move any content to a position relative to itself"},movingContentToSelfErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.source-same-as-target.description",defaultMessage:"Uh, oh! You are attempting to move content to itself. Please choose other content you wish to move to."},currentlyUpdatedErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.currently-updated.title",defaultMessage:"We can’t move this content right now"},currentlyUpdatedErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.currently-updated.description",defaultMessage:"Someone just updated this content. Refresh and try moving it again."},partiallyMovedErrorTitle:{id:"page-tree.move-page-dialog.published-page.move-error.partially-moved.title",defaultMessage:"The move could not be fully completed"},partiallyMovedErrorDescription:{id:"page-tree.move-page-dialog.published-page.move-error.partially-moved.description",defaultMessage:"Some of the content was not able to be moved to the target space. If you have trouble finding any content, please reach out to Support for help."},notSpaceAdminForCrossSpaceMoveTitle:{id:"page-tree.move-page-dialog.published-page.move-error.not-space-admin-cross-space.title",defaultMessage:"You can’t move this content"},notSpaceAdminForCrossSpaceMoveDescription:{id:"page-tree.move-page-dialog.published-page.move-error.not-space-admin-cross-space.description",defaultMessage:"Only space admins can move content to another space. Contact your admin for help."}}),o=e=>(e.includes("A page with the name(s)")||e.includes("A content with the name(s)"))&&e.includes("already exist(s) in the space"),s=e=>2===e.length?e.join(" and "):e.length>2?`${e.slice(0,e.length-1).join(", ")}, and ${e[e.length-1]}`:e.join(", "),l=(t,i,o,l)=>{let d="A page with the name(s) ",c=" already exist(s) in the space ",g=". You must rename the page title before moving it.";-1===t.indexOf(d)&&(d="A content with the name(s) ",g=". You must rename the content title before moving it.");let u=t.substring(t.indexOf(d)+d.length,t.indexOf(c)).split(","),p=t.substring(t.indexOf(c)+c.length,t.indexOf(g));if(1!==u.length)return{title:r.multipleConflictingContentNamesErrorTitle,description:r.multipleConflictingContentNamesErrorDescription,props:{values:{listOfConflictingNames:s(u),destinationSpace:p}}};{let t,s=l&&(0,a("9wGTI").fg)("confluence_live_pages_open_beta_trait_opted_in")?r.singleConflictingLivePageNameWithinEditorErrorTitle:r.singleConflictingPageNameWithinEditorErrorTitle,d=i?s:r.singleConflictingContentNameErrorTitle;t=l&&(0,a("9wGTI").fg)("confluence_live_pages_open_beta_trait_opted_in")?r.singleConflictingLiveDocNameWithinEditorErrorDescription:l?r.singleConflictingLivePageNameWithinEditorErrorDescription:i?r.singleConflictingPageNameWithinEditorErrorDescription:r.singleConflictingContentNameErrorDescription;let c={...i&&{actions:[{key:"move-page-error-error-cta",text:l&&(0,a("9wGTI").fg)("confluence_live_pages_open_beta_trait_opted_in")?r.singleConflictingLivePageNameWithinEditorErrorCallToAction:r.singleConflictingPageNameWithinEditorErrorCallToAction,onClick:o}]}};return{title:d,description:t,props:{values:{conflictingPageName:u[0],destinationSpace:p,strong:t=>e(n).createElement(a("iXCQx").default,{as:"strong"},t)}},...c}}},d=e=>e.includes("You can not restrict pages in the destination space.")||e.includes("You can not restrict contents in the destination space."),c=e=>e.includes("You do not have permission to move this draft to another space."),g=e=>e.includes("You cannot move a draft with children to another space without space admin permission."),u=e=>e.includes("Only space admins can move content to another space."),p=e=>e.includes("Only users who can manage content can move content to another space."),m=e=>e.includes("creates a parent-child loop"),h=e=>e.includes("Can not set page as its own parent."),f=e=>e.includes("The target page provided does not exist.")||e.includes("The target content provided does not exist.")||(e.includes("The target page with ID = ")||e.includes("The target content with ID = "))&&e.includes("is archived"),v=e=>e.includes("The source page provided does not exist.")||e.includes("The source content provided does not exist.")||(e.includes("The source page with ID = ")||e.includes("The source content with ID ="))&&e.includes("is archived"),I=e=>e.includes("UnexpectedRollbackException"),b=e=>e.includes("We can't support moving this many pages at this time"),E=e=>e.includes("We can't support moving more than 100 pages at this time"),P=e=>e.includes("Invalid to perform any move operation where source is same as target"),y=e=>e.includes("Can't add a parent from another space"),S=(e,t,a,i)=>{if(o(e))return l(e,t,a,i);if(P(e))return{title:r.movingContentToSelfErrorTitle,description:r.movingContentToSelfErrorDescription};if(m(e))return{title:r.parentChildLoopErrorTitle,description:r.parentChildLoopErrorDescription};if(d(e))return{title:r.restrictionsPermissionErrorTitle,description:r.restrictionsPermissionErrorDescription};if(E(e))return{title:r.moreThan100PagesErrorTitle,description:r.moreThan100PagesErrorDescription};else if(b(e))return{title:r.tooManyPagesErrorTitle,description:r.tooManyPagesErrorDescription}},C=e=>h(e)?{title:r.parentChildLoopErrorTitle,description:r.parentChildLoopErrorDescription}:I(e)?{title:r.currentlyUpdatedErrorTitle,description:r.currentlyUpdatedErrorDescription}:y(e)?{title:r.partiallyMovedErrorTitle,description:r.partiallyMovedErrorDescription}:void 0,T=e=>f(e)?{title:r.destinationDoesNotExistErrorTitle,description:r.destinationDoesNotExistErrorDescription}:v(e)?{title:r.sourceDoesNotExistErrorTitle,description:r.sourceDoesNotExistErrorDescription}:void 0,_=e=>c(e)?{title:r.draftPermissionsErrorTitle,description:r.draftPermissionsErrorDescription}:g(e)?{title:r.draftWithChildrenErrorTitle,description:r.draftWithChildrenErrorDescription}:u(e)||p(e)?{title:r.notSpaceAdminForCrossSpaceMoveTitle,description:r.notSpaceAdminForCrossSpaceMoveDescription}:{title:r.permissionsErrorTitle,description:r.permissionsErrorDescription};t.exports.getI18nMessageForKnownError=(e,{IsInEditor:t=!1,onActionClick:i=()=>{},isLivePage:n=!1}={})=>{let r=e?.graphQLErrors?.[0],o=(0,a("aMcHK").getStatusCode)(r),s=r?.message;return"400"===o?S(s,t,i,n):"403"===o?_(s):"404"===o?T(s):"500"===o?C(s):void 0},t.exports.getI18nMessageForUnknownError=(e,t)=>(0,a("aMcHK").isStatusCodeError)(e,"503")&&t>=500?{title:r.tooManyPagesErrorTitle,description:r.tooManyPagesErrorDescription}:{title:r.defaultErrorTitle,description:r.defaultErrorDescription},t.exports.getI18nMessageForNoCreatePermissions=()=>({title:r.noCreatePermissionsErrorTitle,description:r.noCreatePermissionsErrorDescription})}),i("cdzEA",function(t,i){var n=a("3u0dr"),r=a("frIzR"),o=a("42omo"),s=a("3aAh8");let l=(0,a("cgtv4").defineMessages)({childrenCountText:{id:"page-tree.children-count-plural",defaultMessage:"{count, plural,\n      one { includes # child }\n      other { includes # children }\n    }"},untitledDraftText:{id:"page-tree.move-dialog.untitled-draft",defaultMessage:"Untitled"}}),d=(0,o.forwardRef)((0,n.isReactCompilerActiveV1)()?(t,i)=>{let n,s,l,d,c,g,u=(0,r.c)(13);if(u[0]!==i||u[1]!==t){let{as:e,style:r,...o}=t,{isMovePageDialog:g,...p}=o;n=void 0===e?"div":e,s=p,l=r,d=i,c=(0,a("gMc0m").default)(["_1yt4lere _2rkofajl _11q7hp5a _1pxwftgi _1e0c1txw _4cvr1h6o _vchhusvi _1bah1yb4",o.isMovePageDialog?"_1bsbkbql":"_1bsbdlvw",o.className]),u[0]=i,u[1]=t,u[2]=n,u[3]=s,u[4]=l,u[5]=d,u[6]=c}else n=u[2],s=u[3],l=u[4],d=u[5],c=u[6];return u[7]!==n||u[8]!==s||u[9]!==l||u[10]!==d||u[11]!==c?(g=e(o).createElement(n,{...s,style:l,ref:d,className:c}),u[7]=n,u[8]=s,u[9]=l,u[10]=d,u[11]=c,u[12]=g):g=u[12],g}:({as:t="div",style:i,...n},r)=>{let{isMovePageDialog:s,...l}=n;return e(o).createElement(t,{...l,style:i,ref:r,className:(0,a("gMc0m").default)(["_1yt4lere _2rkofajl _11q7hp5a _1pxwftgi _1e0c1txw _4cvr1h6o _vchhusvi _1bah1yb4",n.isMovePageDialog?"_1bsbkbql":"_1bsbdlvw",n.className])})}),c=(0,o.forwardRef)((0,n.isReactCompilerActiveV1)()?(t,i)=>{let n,s,l,d,c,g,u=(0,r.c)(13);if(u[0]!==i||u[1]!==t){let{as:e,style:r,...o}=t,{isNav4Enabled:g,...p}=o;n=void 0===e?"span":e,s=p,l=r,d=i,c=(0,a("gMc0m").default)(["_1e0c1txw _1bsb1tcg _4t3i1tcg _1bah1h6o _4cvr1h6o",o.isNav4Enabled?"_2hwxze3t":"_2hwxu2gc",o.className]),u[0]=i,u[1]=t,u[2]=n,u[3]=s,u[4]=l,u[5]=d,u[6]=c}else n=u[2],s=u[3],l=u[4],d=u[5],c=u[6];return u[7]!==n||u[8]!==s||u[9]!==l||u[10]!==d||u[11]!==c?(g=e(o).createElement(n,{...s,style:l,ref:d,className:c}),u[7]=n,u[8]=s,u[9]=l,u[10]=d,u[11]=c,u[12]=g):g=u[12],g}:({as:t="span",style:i,...n},r)=>{let{isNav4Enabled:s,...l}=n;return e(o).createElement(t,{...l,style:i,ref:r,className:(0,a("gMc0m").default)(["_1e0c1txw _1bsb1tcg _4t3i1tcg _1bah1h6o _4cvr1h6o",n.isNav4Enabled?"_2hwxze3t":"_2hwxu2gc",n.className])})}),g=(0,o.forwardRef)((0,n.isReactCompilerActiveV1)()?(t,i)=>{let n,s,l,d,c,g,u=(0,r.c)(13);if(u[0]!==i||u[1]!==t){let{as:e,style:r,...o}=t;n=void 0===e?"div":e,s=o,l=r,d=i,c=(0,a("gMc0m").default)(["_16jlkb7n _1o9zkb7n _i0dl1wug _1reo15vq _18m915vq",o.className]),u[0]=i,u[1]=t,u[2]=n,u[3]=s,u[4]=l,u[5]=d,u[6]=c}else n=u[2],s=u[3],l=u[4],d=u[5],c=u[6];return u[7]!==n||u[8]!==s||u[9]!==l||u[10]!==d||u[11]!==c?(g=e(o).createElement(n,{...s,style:l,ref:d,className:c}),u[7]=n,u[8]=s,u[9]=l,u[10]=d,u[11]=c,u[12]=g):g=u[12],g}:({as:t="div",style:i,...n},r)=>e(o).createElement(t,{...n,style:i,ref:r,className:(0,a("gMc0m").default)(["_16jlkb7n _1o9zkb7n _i0dl1wug _1reo15vq _18m915vq",n.className])})),u=(0,o.forwardRef)((0,n.isReactCompilerActiveV1)()?(t,i)=>{let n,s,l,d,c,g,u=(0,r.c)(13);if(u[0]!==i||u[1]!==t){let{as:e,style:r,...o}=t;n=void 0===e?"span":e,s=o,l=r,d=i,c=(0,a("gMc0m").default)(["_16jlidpf _1o9zidpf _i0dl1wug _18u019bv",o.className]),u[0]=i,u[1]=t,u[2]=n,u[3]=s,u[4]=l,u[5]=d,u[6]=c}else n=u[2],s=u[3],l=u[4],d=u[5],c=u[6];return u[7]!==n||u[8]!==s||u[9]!==l||u[10]!==d||u[11]!==c?(g=e(o).createElement(n,{...s,style:l,ref:d,className:c}),u[7]=n,u[8]=s,u[9]=l,u[10]=d,u[11]=c,u[12]=g):g=u[12],g}:({as:t="span",style:i,...n},r)=>e(o).createElement(t,{...n,style:i,ref:r,className:(0,a("gMc0m").default)(["_16jlidpf _1o9zidpf _i0dl1wug _18u019bv",n.className])})),p=(0,n.isReactCompilerActiveV1)()?t=>{let i,n,p,m,h,f,v,I=(0,r.c)(24),{item:b,type:E,childPagesCount:P}=t,y=(0,a("8C5kA").default)();I[0]!==y?(i=y.formatMessage(l.untitledDraftText),I[0]=y,I[1]=i):i=I[1];let S=i,C="move-page-tree"===E,T=(0,a("gz8ZY").useIsNav4Enabled)(),_=b?.data?.subType==="live";I[2]===Symbol.for("react.memo_cache_sentinel")?(n=e(o).createElement(e(a("e66a9")),{label:""}),I[2]=n):n=I[2];let x=n;if(C){let t;I[3]===Symbol.for("react.memo_cache_sentinel")?(t=e(o).createElement(e(a("8aNCk")),{label:"",color:"var(--ds-icon, #292A2E)"}),I[3]=t):t=I[3],x=t}else if(b.hasChildren||"folder"===b.data.type){let t;I[4]===Symbol.for("react.memo_cache_sentinel")?(t=e(o).createElement(e(a("6R5uz")),{label:"",size:"small"}),I[4]=t):t=I[4],x=t}I[5]!==x||I[6]!==T?(p=e(o).createElement(c,{isNav4Enabled:T},x),I[5]=x,I[6]=T,I[7]=p):p=I[7],I[8]!==b.id?(m=b.id.toString(),I[8]=b.id,I[9]=m):m=I[9];let k=b.data.title||S,A="DRAFT"===b.data.status,D=b.data.emoji?void 0:b.data.type;return I[10]!==_||I[11]!==b.data.emoji||I[12]!==m||I[13]!==k||I[14]!==A||I[15]!==D?(h=e(o).createElement(g,null,e(o).createElement(s.PageTreeItemContent,{id:m,displayHomePageIcon:!1,displayEmoji:b.data.emoji,displayTitle:k,isDraft:A,contentType:D,draggableState:"idle",isSelected:!1,isLive:_})),I[10]=_,I[11]=b.data.emoji,I[12]=m,I[13]=k,I[14]=A,I[15]=D,I[16]=h):h=I[16],I[17]!==P?(f=!!P&&P>0&&e(o).createElement(u,null,e(o).createElement(e(a("bTdbD")),{label:"",color:"var(--ds-icon, #292A2E)"})," ",e(o).createElement(a("gtD4K").default,{...l.childrenCountText,values:{count:P}})),I[17]=P,I[18]=f):f=I[18],I[19]!==C||I[20]!==p||I[21]!==h||I[22]!==f?(v=e(o).createElement(d,{isMovePageDialog:C},p,h,f),I[19]=C,I[20]=p,I[21]=h,I[22]=f,I[23]=v):v=I[23],v}:({item:t,type:i,childPagesCount:n})=>{let r=(0,a("8C5kA").default)().formatMessage(l.untitledDraftText),p="move-page-tree"===i,m=(0,a("gz8ZY").useIsNav4Enabled)(),h=t?.data?.subType==="live",f=e(o).createElement(e(a("e66a9")),{label:""});return p?f=e(o).createElement(e(a("8aNCk")),{label:"",color:"var(--ds-icon, #292A2E)"}):(t.hasChildren||"folder"===t.data.type)&&(f=e(o).createElement(e(a("6R5uz")),{label:"",size:"small"})),e(o).createElement(d,{isMovePageDialog:p},e(o).createElement(c,{isNav4Enabled:m},f),e(o).createElement(g,null,e(o).createElement(s.PageTreeItemContent,{id:t.id.toString(),displayHomePageIcon:!1,displayEmoji:t.data.emoji,displayTitle:t.data.title||r,isDraft:"DRAFT"===t.data.status,contentType:t.data.emoji?void 0:t.data.type,draggableState:"idle",isSelected:!1,isLive:h})),!!n&&n>0&&e(o).createElement(u,null,e(o).createElement(e(a("bTdbD")),{label:"",color:"var(--ds-icon, #292A2E)"})," ",e(o).createElement(a("gtD4K").default,{...l.childrenCountText,values:{count:n}})))};t.exports.DragPreview=p}),i("3aAh8",function(t,i){var n=a("3u0dr"),r=a("frIzR"),o=a("42omo"),s=a("di8q4"),l=a("4K4h4"),d=a("3qtLb"),c=a("g0MxG"),g=a("hySOz");let u=(0,a("jmjWc").LoadableAfterPaint)({__loadable_id__:"eczdW",name:"HomepageIcon",loader:async()=>(await a("hLQZP")).HomepageIcon}),p=(0,a("jmjWc").LoadableAfterPaint)({__loadable_id__:"gunMb",name:"DraftLozenge",loader:async()=>(await a("3BpiD")).DraftLozenge});var m=a("8Yfbq");let h=500,f=(0,a("7W8i8").getLogger)("predictLeaveProbability"),v={version:"default",distanceWeight:.106,speedWeight:.072,xRangeWeight:.095,yRangeWeight:.048,threshold:.5,stats:{distance:{mean:21.22,stdDev:30.59},speed:{mean:.14,stdDev:.21},xRange:{mean:15.13,stdDev:30.61},yRange:{mean:8.52,stdDev:5.62}}},I=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),b=(e,t=h)=>{let a=e.filter(e=>e.t<=t);if(a.length<2)return null;let i=0;for(let e=1;e<a.length;e++)i+=I(a[e-1],a[e]);let n=a[a.length-1].t-a[0].t,r=0!==n?i/n:0,o=a.map(e=>e.x),s=a.map(e=>e.y);return{distance:i,speed:r,xRange:Math.max(...o)-Math.min(...o),yRange:Math.max(...s)-Math.min(...s)}},E=e=>{let t=a("4VJDS").default.getString("confluence-delayed-preload-model",""),i=v;try{i=JSON.parse(t)}catch(e){f.debug`Error parsing model - ${e}`}let n={version:i.version,leaveProbability:.5};try{var r;let t=b(e);if(!t)return n;let a=(r=i.stats,{distance:(t.distance-r.distance.mean)/r.distance.stdDev,speed:(t.speed-r.speed.mean)/r.speed.stdDev,xRange:(t.xRange-r.xRange.mean)/r.xRange.stdDev,yRange:(t.yRange-r.yRange.mean)/r.yRange.stdDev}),o=a.distance*i.distanceWeight+a.speed*i.speedWeight+a.xRange*i.xRangeWeight+a.yRange*i.yRangeWeight;n.leaveProbability=1/(1+Math.exp(-o))}catch(e){f.debug`Error predicting leave probability - ${e}`}return n},P=(e,t,a,i)=>{e({type:"sendTrackEvent",data:{action:t,actionSubject:"pageTree",actionSubjectId:a,source:"pageTree",attributes:i}}).fire()},y=e=>e.entries.map(({x:e,y:t,t:a})=>`(${Math.round(e)}|${Math.round(t)}|${Math.round(a)})`).join("-"),S=e(m)((e,t,a,i)=>{if(!t)return!0;let n=e.clientX-t.left,r=e.clientY-t.top,o=performance.now()-a.timestamp;if(a.entries.push({x:n,y:r,t:o}),a.entries.length>200&&a.entries.shift(),void 0===a.leaveProbability&&o>i){let e=E(a.entries);a.leaveProbability=e.leaveProbability,a.modelVersion=e.version}return!0},17),C=({itemId:e,isLive:t,contentType:i,isNav4Enabled:n,isSelected:r})=>{let s=a("4VJDS").default.getNumber("confluence-delayed-preload-timeout",500),{createAnalyticsEvent:l}=(0,a("inPa6").useAnalyticsEvents)(),d=(0,o.useRef)(!1),c=(0,o.useRef)(0),g=(0,o.useRef)(void 0),u=(0,o.useRef)({entries:[],timestamp:performance.now()}),p=(0,o.useRef)(void 0),m=(0,o.useCallback)(e=>{!r&&(0,a("9wGTI").fg)("confluence-delayed-preload-hover")&&(p.current=e.target.getBoundingClientRect(),u.current={entries:[],timestamp:performance.now()},d.current=!1,c.current=performance.now(),g.current=setTimeout(()=>{d.current=!0},s))},[e,t,i,r]),h=(0,o.useCallback)(()=>{if(r||!(0,a("9wGTI").fg)("confluence-delayed-preload-hover"))return;let o=y(u.current),m=u.current.modelVersion,h=u.current.leaveProbability;u.current={entries:[],timestamp:performance.now()},p.current=void 0,g.current&&(clearTimeout(g.current),g.current=void 0,d.current&&(d.current=!1,P(l,"preloadAndLeave",e,{isLive:t,contentType:i,isNav4Enabled:n,preloadTimeout:s,leaveAfter:performance.now()-c.current,mouseTrace:o,leaveProbability:h,modelVersion:m})))},[n,e,l,t,i,s,r]),f=(0,o.useCallback)(()=>{if(r||!(0,a("9wGTI").fg)("confluence-delayed-preload-hover"))return;let o=y(u.current),{leaveProbability:p,version:m}=E(u.current.entries);clearTimeout(g.current),u.current={entries:[],timestamp:performance.now()},g.current=void 0,d.current=!1,P(l,"preloadAndClick",e,{isLive:t,contentType:i,isNav4Enabled:n,preloadTimeout:s,clickAfter:performance.now()-c.current,mouseTrace:o,leaveProbability:p,modelVersion:m})},[l,e,t,i,n,s,r]),v=(0,o.useCallback)(e=>{!r&&(0,a("9wGTI").fg)("confluence-delayed-preload-hover")&&(S(e,p.current,u.current,s)||(clearTimeout(g.current),g.current=void 0,d.current=!1))},[r,s]);return{isPreloadOnDelayedHoverEnabled:(0,a("9wGTI").fg)("confluence-delayed-preload-hover"),onPreloadMouseEnter:m,onPreloadMouseLeave:h,onPreloadMouseDown:f,onPreloadMouseMove:v}};var T=a("c4LIS"),_=a("jGj7w");let x=(0,n.isReactCompilerActiveV1)()?()=>{let e,t,i=(0,r.c)(11),{deselectNestedContent:n,updateTotalCount:o,getSelectedDescendantCount:s,decrementAncestors:l,removeLoadingDescendant:d}=(0,a("bwL2u").useContentTreeSelectionActions)(),{getState:c}=(0,_.usePageTreeActions)(),[g]=(0,a("bwL2u").useContentTreeSelection)(),{loadingDescendantIds:u}=g;i[0]!==l||i[1]!==c?(e=e=>{let{pages:t,rootId:a}=c(),i=new Set,n=e=>{let r=e.parentId;r&&r!=a&&(i.add(e.parentId),n(t[e.parentId]))};n(e),l([...i],e.id)},i[0]=l,i[1]=c,i[2]=e):e=i[2];let p=e;return i[3]!==p||i[4]!==n||i[5]!==s||i[6]!==c||i[7]!==u||i[8]!==d||i[9]!==o?(t=e=>{let{pages:t}=c(),a=[],i=c().pages[e],r=s(e);p(i);let l=u.has(e),g=e=>{for(let i of(a.push({id:e.id,parentId:e.parentId??void 0}),e.children||[])){let e=t[i];e&&g(e)}};g(i),n(a.map(k),a.map(A)),l?d(e):o(-r-1)},i[3]=p,i[4]=n,i[5]=s,i[6]=c,i[7]=u,i[8]=d,i[9]=o,i[10]=t):t=i[10],t}:()=>{let{deselectNestedContent:e,updateTotalCount:t,getSelectedDescendantCount:i,decrementAncestors:n,removeLoadingDescendant:r}=(0,a("bwL2u").useContentTreeSelectionActions)(),{getState:s}=(0,_.usePageTreeActions)(),[{loadingDescendantIds:l}]=(0,a("bwL2u").useContentTreeSelection)(),d=(0,o.useCallback)(e=>{let{pages:t,rootId:a}=s(),i=new Set,r=e=>{let n=e.parentId;n&&n!=a&&(i.add(e.parentId),r(t[e.parentId]))};r(e),n([...i],e.id)},[s,n]);return(0,o.useCallback)(a=>{let{pages:n}=s(),o=[],c=s().pages[a],g=i(a);d(c);let u=l.has(a),p=e=>{for(let t of(o.push({id:e.id,parentId:e.parentId??void 0}),e.children||[])){let e=n[t];e&&p(e)}};p(c),e(o.map(({id:e})=>e),o.map(({parentId:e})=>e??"")),u?r(a):t(-g-1)},[s,i,d,l,e,r,t])};function k(e){let{id:t}=e;return t}function A(e){let{parentId:t}=e;return t??""}let D=(e,t)=>"whiteboard"===e?!!t&&(0,a("9wGTI").fg)("confluence_frontend_whiteboard_emoji_titles"):"page"===e&&!!t,w=(0,o.forwardRef)((0,n.isReactCompilerActiveV1)()?(t,i)=>{let n,s,l,d,c,g,u=(0,r.c)(13);if(u[0]!==i||u[1]!==t){let{as:e,style:r,...o}=t;n=void 0===e?"span":e,s=o,l=r,d=i,c=(0,a("gMc0m").default)(["_1reo15vq _18m915vq _1e0c1o8l _o5721q9c _1bto1l2s",o.className]),u[0]=i,u[1]=t,u[2]=n,u[3]=s,u[4]=l,u[5]=d,u[6]=c}else n=u[2],s=u[3],l=u[4],d=u[5],c=u[6];return u[7]!==n||u[8]!==s||u[9]!==l||u[10]!==d||u[11]!==c?(g=e(o).createElement(n,{...s,style:l,ref:d,className:c}),u[7]=n,u[8]=s,u[9]=l,u[10]=d,u[11]=c,u[12]=g):g=u[12],g}:({as:t="span",style:i,...n},r)=>e(o).createElement(t,{...n,style:i,ref:r,className:(0,a("gMc0m").default)(["_1reo15vq _18m915vq _1e0c1o8l _o5721q9c _1bto1l2s",n.className])})),M=(0,a("ecnYn").xcss)({display:"flex",alignItems:"center",paddingRight:"space.100"}),L=(0,a("ecnYn").xcss)({display:"flex",justifyContent:"center",alignItems:"center",marginRight:"space.050",marginLeft:"space.025",width:"24px",height:"24px",flexShrink:0}),R=(0,o.forwardRef)((0,n.isReactCompilerActiveV1)()?(t,i)=>{let n,s,l,d,c,g,u=(0,r.c)(13);if(u[0]!==i||u[1]!==t){let{as:e,style:r,...o}=t;n=void 0===e?"span":e,s=o,l=r,d=i,c=(0,a("gMc0m").default)(["_lcxvglyw _1e0c1txw _1o9zidpf _4cvr1h6o _2hwxu2gc _4t3i7vkz _1bsb7vkz _bna77vkz _17527vkz _mezj7vkz _w8l57vkz",o.className]),u[0]=i,u[1]=t,u[2]=n,u[3]=s,u[4]=l,u[5]=d,u[6]=c}else n=u[2],s=u[3],l=u[4],d=u[5],c=u[6];return u[7]!==n||u[8]!==s||u[9]!==l||u[10]!==d||u[11]!==c?(g=e(o).createElement(n,{...s,style:l,ref:d,className:c}),u[7]=n,u[8]=s,u[9]=l,u[10]=d,u[11]=c,u[12]=g):g=u[12],g}:({as:t="span",style:i,...n},r)=>e(o).createElement(t,{...n,style:i,ref:r,className:(0,a("gMc0m").default)(["_lcxvglyw _1e0c1txw _1o9zidpf _4cvr1h6o _2hwxu2gc _4t3i7vkz _1bsb7vkz _bna77vkz _17527vkz _mezj7vkz _w8l57vkz",n.className])})),j=(0,o.forwardRef)((0,n.isReactCompilerActiveV1)()?(t,i)=>{let n,s,l,d,c,g,u=(0,r.c)(13);if(u[0]!==i||u[1]!==t){let{as:e,style:r,...o}=t;n=void 0===e?"span":e,s=o,l=r,d=i,c=(0,a("gMc0m").default)(["_1reo15vq _18m915vq _1mou1b66 _1e0c1txw _1bah1h6o _4cvr1h6o _ahbq12x7 _12l2u2gc _4t3i7vkz _1bsb7vkz _1o9zidpf",o.className]),u[0]=i,u[1]=t,u[2]=n,u[3]=s,u[4]=l,u[5]=d,u[6]=c}else n=u[2],s=u[3],l=u[4],d=u[5],c=u[6];return u[7]!==n||u[8]!==s||u[9]!==l||u[10]!==d||u[11]!==c?(g=e(o).createElement(n,{...s,style:l,ref:d,className:c}),u[7]=n,u[8]=s,u[9]=l,u[10]=d,u[11]=c,u[12]=g):g=u[12],g}:({as:t="span",style:i,...n},r)=>e(o).createElement(t,{...n,style:i,ref:r,className:(0,a("gMc0m").default)(["_1reo15vq _18m915vq _1mou1b66 _1e0c1txw _1bah1h6o _4cvr1h6o _ahbq12x7 _12l2u2gc _4t3i7vkz _1bsb7vkz _1o9zidpf",n.className])})),N=(0,o.memo)((0,n.isReactCompilerActiveV1)()?t=>{let i,n,d,c,g,m,h,f,v=(0,r.c)(38),{id:I,displayHomePageIcon:b,displayEmoji:E,displayTitle:P,isDraft:y,renderResourcedEmoji:S,contentType:C,isSelected:T,draggableState:_,emoji:x,isExpanded:k,isLive:A,isDisabled:N}=t,B=(0,a("gz8ZY").useIsNav4Enabled)(),q=T?"var(--ds-icon-selected, #1868DB)":void 0,F="dragging"===_,z=D(C,x);v[0]!==C||v[1]!==z||v[2]!==B?(i=C&&(0,a("6bZDi").includesValidContentTreeType)(C,B)&&!z,v[0]=C,v[1]=z,v[2]=B,v[3]=i):i=v[3];let U=i,K=!!x,$="embed"===C&&!E,W=F||N?"var(--ds-icon-disabled, #080F214A)":q,H="page"===C&&A;return v[4]!==b?(n=b?e(o).createElement(u,null):null,v[4]=b,v[5]=n):n=v[5],v[6]!==C||v[7]!==W||v[8]!==U||v[9]!==k||v[10]!==H||v[11]!==B?(d=U&&e(o).createElement(a("6f0Oj").default,{as:"span",xcss:[B?L:M]},e(o).createElement(l.ContentTreeIconLoader,{type:H&&(0,a("9wGTI").fg)("confluence_live_pages_open_beta_trait_opted_in")?"liveDoc":C,label:"",color:W,isExpanded:k})),v[6]=C,v[7]=W,v[8]=U,v[9]=k,v[10]=H,v[11]=B,v[12]=d):d=v[12],v[13]!==C||v[14]!==E||v[15]!==x||v[16]!==W||v[17]!==$||v[18]!==K||v[19]!==B||v[20]!==S?(c=(E||$)&&(K?x:e(o).createElement(s.LazyEmojiComponentLoader,{key:E,emoji:E,contentType:C,context:"pageTree",height:14,primaryColor:W,wrapper:B?j:R,renderResourcedEmoji:S})),v[13]=C,v[14]=E,v[15]=x,v[16]=W,v[17]=$,v[18]=K,v[19]=B,v[20]=S,v[21]=c):c=v[21],v[22]!==P||v[23]!==F||v[24]!==B||v[25]!==T?(g=B?e(o).createElement(a("5dK2X").default,{weight:"medium",color:O(F,T)},P):P,v[22]=P,v[23]=F,v[24]=B,v[25]=T,v[26]=g):g=v[26],v[27]!==I||v[28]!==g?(m=e(o).createElement(w,{id:I,className:"title"},g),v[27]=I,v[28]=g,v[29]=m):m=v[29],v[30]!==y?(h=y&&e(o).createElement(p,null),v[30]=y,v[31]=h):h=v[31],v[32]!==n||v[33]!==d||v[34]!==c||v[35]!==m||v[36]!==h?(f=e(o).createElement(a("dcJ7R").default,{as:"span",alignBlock:"center"},n,d,c,m,h),v[32]=n,v[33]=d,v[34]=c,v[35]=m,v[36]=h,v[37]=f):f=v[37],f}:({id:t,displayHomePageIcon:i,displayEmoji:n,displayTitle:r,isDraft:d,renderResourcedEmoji:c,contentType:g,isSelected:m,draggableState:h,emoji:f,isExpanded:v,isLive:I,isDisabled:b})=>{let E=(0,a("gz8ZY").useIsNav4Enabled)(),P="dragging"===h,y=D(g,f),S=g&&(0,a("6bZDi").includesValidContentTreeType)(g,E)&&!y,C=!!f,T="embed"===g&&!n,_=P||b?"var(--ds-icon-disabled, #080F214A)":m?"var(--ds-icon-selected, #1868DB)":void 0,x="page"===g&&I;return e(o).createElement(a("dcJ7R").default,{as:"span",alignBlock:"center"},i?e(o).createElement(u,null):null,S&&e(o).createElement(a("6f0Oj").default,{as:"span",xcss:[E?L:M]},e(o).createElement(l.ContentTreeIconLoader,{type:x&&(0,a("9wGTI").fg)("confluence_live_pages_open_beta_trait_opted_in")?"liveDoc":g,label:"",color:_,isExpanded:v})),(n||T)&&(C?f:e(o).createElement(s.LazyEmojiComponentLoader,{key:n,emoji:n,contentType:g,context:"pageTree",height:14,primaryColor:_,wrapper:E?j:R,renderResourcedEmoji:c})),e(o).createElement(w,{id:t,className:"title"},E?e(o).createElement(a("5dK2X").default,{weight:"medium",color:O(P,m)},r):r),d&&e(o).createElement(p,null))}),O=(e,t)=>e?"color.text.disabled":t?"color.text.selected":"color.text.subtle",B=(0,n.isReactCompilerActiveV1)()?t=>{let i,n,s,l,u,p,m,h,f,v,I,b,E,P,y,S,_,k,A,D,w,M,L,R,j,O,B,q,U,K=(0,r.c)(197),{item:$,draftText:W,spaceHomePageId:H,onExpand:V,onCollapse:Q,onHighlight:G,draggableState:Y,isSuperAdmin:Z,onClick:J,spaceKey:X,indent:ee,dragHandleProps:et,isHoverPageCardOptedIn:ea,closeAllHoverPageCards:ei,isQuickActionsOpen:en,setOpenQuickActionsId:er,isQuickActionsFocused:eo,setFocusedQuickActionsId:es,editingTitle:el,setIsEditingTitleId:ed,onEnterHoverTarget:ec,onLeaveHoverTarget:eg,onBlurHoverTarget:eu,isDraft:ep,updateSinglePage:em,shouldRenderAfterIcon:eh,contentStatus:ef,renderResourcedEmoji:ev,hideDraftHrefs:eI,emoji:eb,justExpanded:eE,flags:eP,renderServerPlaceholder:ey}=t,eS=void 0===W?"":W,eC=(0,a("8C5kA").default)(),eT=(0,a("gz8ZY").useIsNav4Enabled)(),e_=(0,o.useRef)(null),ex=$.data.emoji,[ek]=(0,a("2vuKf").useIsMultiSelectActive)(),[eA]=(0,a("bwL2u").useContentTreeSelection)(),{selectedContent:eD}=eA;K[0]!==$.id?(i=$.id.toString(),K[0]=$.id,K[1]=i):i=K[1];let ew=i in eD;K[2]!==$.id||K[3]!==em?(n=(e,t)=>{em($.id,{title:t,fullTitle:t})},K[2]=$.id,K[3]=em,K[4]=n):n=K[4];let eM=n,eL=$.data.title||eS,{optimisticTitle:eR}=(0,a("kSPGK").useOptimisticTitleChange)($.id,eL,eM),ej=eR||eS,eN=$.data.type,eO=$.data.isHighlighted,eB=$.data.isSelected,eq=$?.data?.subType==="live";K[5]!==eI||K[6]!==ep||K[7]!==$.data.editorVersion||K[8]!==$.data.type||K[9]!==$.data.webui||K[10]!==$.id||K[11]!==X?(s=ep&&eI?null:(0,a("huWyw").getURLBypassingResumeDraftAction)({url:`${a("jlIaF").CONTEXT_PATH}${$.data.webui}`,spaceKey:X,contentType:$.data.type,editorVersion:$.data.editorVersion,contentId:$.id}),K[5]=eI,K[6]=ep,K[7]=$.data.editorVersion,K[8]=$.data.type,K[9]=$.data.webui,K[10]=$.id,K[11]=X,K[12]=s):s=K[12];let eF=s;K[13]!==eO||K[14]!==G?(l=()=>{if(eO){let e=setTimeout(G,1e3*d.ANIMATE_TIME_SEC);return()=>clearTimeout(e)}},u=[eO,G],K[13]=eO,K[14]=G,K[15]=l,K[16]=u):(l=K[15],u=K[16]),(0,o.useEffect)(l,u);let ez=$.isExpanded;K[17]!==ez||K[18]!==eE?(p=()=>{eE&&ez&&(0,a("9eE57").perfMarkEnd)({subject:"PageTree",subjectId:"expandPage"})},m=[eE,ez],K[17]=ez,K[18]=eE,K[19]=p,K[20]=m):(p=K[19],m=K[20]),(0,o.useEffect)(p,m);let eU=el?.contentId===$.id,eK=el?.isNewContent;K[21]!==eN||K[22]!==eK||K[23]!==eU||K[24]!==$.data.createdDate||K[25]!==eB?(h=()=>{let e=!1;if(eK&&eU)e=!0;else if(eB&&$.data.createdDate){let t=new Date,a=new Date(Number($.data.createdDate));t.getTime()-a.getTime()<2e4&&(e=!0)}e&&(0,a("9eE57").perfMarkEnd)({subject:"PageTree",subjectId:"newContentRendered",details:{contentType:eN}})},f=[eB,$.data.createdDate,eK,eN,eU],K[21]=eN,K[22]=eK,K[23]=eU,K[24]=$.data.createdDate,K[25]=eB,K[26]=h,K[27]=f):(h=K[26],f=K[27]),(0,o.useEffect)(h,f);let e$=$.data.isCursor;K[28]!==e$?(v=()=>{e$&&(0,a("9eE57").perfMarkEnd)({subject:"PageTree",subjectId:"loadMorePages"})},I=[e$],K[28]=e$,K[29]=v,K[30]=I):(v=K[29],I=K[30]),(0,o.useEffect)(v,I);let[eW,eH]=(0,o.useState)(!1);K[31]!==$.id?(b=$.id.toString(),K[31]=$.id,K[32]=b):b=K[32];let eV=eN||"page",eQ=!!eB;K[33]!==eq||K[34]!==eT||K[35]!==b||K[36]!==eV||K[37]!==eQ?(E={itemId:b,isLive:eq,contentType:eV,isNav4Enabled:eT,isSelected:eQ},K[33]=eq,K[34]=eT,K[35]=b,K[36]=eV,K[37]=eQ,K[38]=E):E=K[38];let{onPreloadMouseEnter:eG,onPreloadMouseLeave:eY,onPreloadMouseDown:eZ,onPreloadMouseMove:eJ,isPreloadOnDelayedHoverEnabled:eX}=C(E);K[39]!==eN||K[40]!==ex||K[41]!==ej||K[42]!==Y||K[43]!==eb||K[44]!==ep||K[45]!==eq||K[46]!==ek||K[47]!==eX||K[48]!==$.id||K[49]!==$.isExpanded||K[50]!==eZ||K[51]!==eG||K[52]!==eY||K[53]!==eJ||K[54]!==ev||K[55]!==eB||K[56]!==H?(P=eX?e(o).createElement("span",{role:"presentation",onMouseEnter:eG,onMouseLeave:eY,onMouseDown:eZ,onMouseMove:eJ},e(o).createElement(N,{id:$.id.toString(),displayHomePageIcon:$.id===H,isDraft:ep,displayTitle:ej,displayEmoji:ex,contentType:eN,isSelected:eB,renderResourcedEmoji:ev,draggableState:Y,emoji:eb,isExpanded:$.isExpanded,isLive:eq,isDisabled:ek&&ep})):e(o).createElement(N,{id:$.id.toString(),displayHomePageIcon:$.id===H,isDraft:ep,displayTitle:ej,displayEmoji:ex,contentType:eN,isSelected:eB,renderResourcedEmoji:ev,draggableState:Y,emoji:eb,isExpanded:$.isExpanded,isLive:eq,isDisabled:ek&&ep}),K[39]=eN,K[40]=ex,K[41]=ej,K[42]=Y,K[43]=eb,K[44]=ep,K[45]=eq,K[46]=ek,K[47]=eX,K[48]=$.id,K[49]=$.isExpanded,K[50]=eZ,K[51]=eG,K[52]=eY,K[53]=eJ,K[54]=ev,K[55]=eB,K[56]=H,K[57]=P):P=K[57];let e1=P,e0=(0,T.useNestedSelect)(),e2=x(),e4=ew&&!ep;K[58]!==e2||K[59]!==eP||K[60]!==$.id||K[61]!==e0?(y=e=>{e.target.checked?e0($.id,!0,eP):e2($.id)},K[58]=e2,K[59]=eP,K[60]=$.id,K[61]=e0,K[62]=y):y=K[62],K[63]!==eC||K[64]!==$.data.title?(S=eC.formatMessage(F.checkboxLabel,{contentTitle:$.data.title}),K[63]=eC,K[64]=$.data.title,K[65]=S):S=K[65],K[66]!==ep||K[67]!==e4||K[68]!==y||K[69]!==S?(_=e(o).createElement(a("7gpC4").default,{isChecked:e4,onChange:y,name:"isPageTreeItemSelected","aria-label":S,isDisabled:ep}),K[66]=ep,K[67]=e4,K[68]=y,K[69]=S,K[70]=_):_=K[70];let e3=_;if(ek){let t,i,n,r,s=eD[$.id],l=s&&s.selectedDescendantCount>0;return K[71]===Symbol.for("react.memo_cache_sentinel")?(t={contain:"content"},K[71]=t):t=K[71],K[72]!==e3||K[73]!==eC||K[74]!==ep?(i=e(o).createElement(a("fT2ta").default,null,t=>e(o).createElement("span",t,ep?e(o).createElement(a("3gadb").default,{content:eC.formatMessage(F.draftTooltip)},e3):e3)),K[72]=e3,K[73]=eC,K[74]=ep,K[75]=i):i=K[75],K[76]!==eF||K[77]!==e2||K[78]!==ej||K[79]!==eP||K[80]!==l||K[81]!==ee||K[82]!==ew||K[83]!==ep||K[84]!==eT||K[85]!==Z||K[86]!==$||K[87]!==Q||K[88]!==V||K[89]!==e1||K[90]!==e0||K[91]!==eB||K[92]!==s?(n=e(o).createElement(a("fT2ta").default,{entranceDirection:"left"},t=>e(o).createElement("span",{...t,style:{...t.style,flexGrow:1,minWidth:0}},e(o).createElement(a("5C17p").ConditionalTreeItemTooltip,{title:ej,isHoverPageCardOptedIn:!1,isQuickActionsOpen:!1},e(o).createElement(a("lkcsM").PageTreeLinkItem,{isNav4Enabled:eT,isSelected:!!eB,onClick:e=>{e.preventDefault(),e.stopPropagation(),ep||(ew?e2($.id):e0($.id,!0,eP))},href:eF,item:$,isSuperAdmin:Z,indent:ee,forceHoverBackground:!1,isQuickActionsFocused:!1,isDisabled:ep,beforeIcon:e(o).createElement(a("7qclg").BeforeIcon,{item:$,isSuperAdmin:Z,onExpand:e=>{e.preventDefault(),e.stopPropagation(),V?.($.id)},onCollapse:e=>{e.preventDefault(),e.stopPropagation(),Q?.($.id)}}),afterIcon:$.hasChildren&&!$.isExpanded&&l?e(o).createElement(a("5nBzc").default,{isBold:!0},"+",s.selectedDescendantCount):void 0},e1)))),K[76]=eF,K[77]=e2,K[78]=ej,K[79]=eP,K[80]=l,K[81]=ee,K[82]=ew,K[83]=ep,K[84]=eT,K[85]=Z,K[86]=$,K[87]=Q,K[88]=V,K[89]=e1,K[90]=e0,K[91]=eB,K[92]=s,K[93]=n):n=K[93],K[94]!==i||K[95]!==n?(r=e(o).createElement("div",{style:t},e(o).createElement(a("dcJ7R").default,{alignInline:"start",alignBlock:"center",space:"space.0"},i,n)),K[94]=i,K[95]=n,K[96]=r):r=K[96],r}if(ey){let t,i,n,r=$.id,s=!!eB;return K[97]!==Z||K[98]!==$?(t=e(o).createElement(a("7qclg").BeforeIcon,{item:$,isSuperAdmin:Z,onCollapse:z,onExpand:z}),K[97]=Z,K[98]=$,K[99]=t):t=K[99],K[100]!==eF||K[101]!==et||K[102]!==Y||K[103]!==ee||K[104]!==eT||K[105]!==Z||K[106]!==$||K[107]!==e1||K[108]!==s||K[109]!==t?(i=e(o).createElement(a("lkcsM").PageTreeLinkItem,{isNav4Enabled:eT,dragHandleProps:et,isSelected:s,href:eF,item:$,draggableState:Y,isSuperAdmin:Z,indent:ee,onClick:z,forceHoverBackground:!1,isQuickActionsFocused:!1,beforeIcon:t},e1),K[100]=eF,K[101]=et,K[102]=Y,K[103]=ee,K[104]=eT,K[105]=Z,K[106]=$,K[107]=e1,K[108]=s,K[109]=t,K[110]=i):i=K[110],K[111]!==$.id||K[112]!==i?(n=e(o).createElement(a("6f0Oj").default,{role:"presentation"},e(o).createElement("div",null,e(o).createElement("div",{"data-contentid":r,role:"presentation"},i))),K[111]=$.id,K[112]=i,K[113]=n):n=K[113],n}let e5=eF??"";K[114]!==ei||K[115]!==eN||K[116]!==ep||K[117]!==en||K[118]!==er?(k=()=>{"page"!==eN||ep||(0,a("lXYVJ").setViewTransitionSource)(a("1C3B1").PAGE_TREE_ITEM_CLICK),ei(),en&&er(null)},K[114]=ei,K[115]=eN,K[116]=ep,K[117]=en,K[118]=er,K[119]=k):k=K[119];let e9=$.id,e7=$.id,e6=$.data.fullTitle||"",e8=$.data.emojiFromProperties||"";K[120]!==eW||K[121]!==eo||K[122]!==$.id||K[123]!==ec?(A=()=>{ec({itemID:$.id.toString(),isQuickActionsFocused:eo,hoverPageCardTriggerRef:e_,isContextualCreateFocused:eW})},K[120]=eW,K[121]=eo,K[122]=$.id,K[123]=ec,K[124]=A):A=K[124];let te=!!eB,tt=en||eW;return K[125]!==$.id||K[126]!==V?(D=e=>{e.preventDefault(),e.stopPropagation(),V?.($.id)},K[125]=$.id,K[126]=V,K[127]=D):D=K[127],K[128]!==$.id||K[129]!==Q?(w=e=>{e.preventDefault(),e.stopPropagation(),Q?.($.id)},K[128]=$.id,K[129]=Q,K[130]=w):w=K[130],K[131]!==Z||K[132]!==$||K[133]!==D||K[134]!==w?(M=e(o).createElement(a("7qclg").BeforeIcon,{item:$,isSuperAdmin:Z,onExpand:D,onCollapse:w}),K[131]=Z,K[132]=$,K[133]=D,K[134]=w,K[135]=M):M=K[135],K[136]!==ei||K[137]!==eN||K[138]!==ej||K[139]!==eW||K[140]!==en||K[141]!==Z||K[142]!==$||K[143]!==es||K[144]!==ed||K[145]!==er||K[146]!==eh||K[147]!==X?(L=eh&&e(o).createElement(c.PageTreeAfterIconLoader,{setFocusedQuickActionsId:es,isSuperAdmin:Z,isQuickActionsOpen:en,setOpenQuickActionsId:er,setIsEditingTitleId:ed,closeAllHoverPageCards:ei,spaceKey:X,item:$,isContextualCreateFocused:eW,setIsContextualCreateFocused:eH,displayTitle:ej,contentType:eN}),K[136]=ei,K[137]=eN,K[138]=ej,K[139]=eW,K[140]=en,K[141]=Z,K[142]=$,K[143]=es,K[144]=ed,K[145]=er,K[146]=eh,K[147]=X,K[148]=L):L=K[148],K[149]!==eF||K[150]!==et||K[151]!==Y||K[152]!==ee||K[153]!==eT||K[154]!==eo||K[155]!==Z||K[156]!==$||K[157]!==eu||K[158]!==J||K[159]!==eg||K[160]!==e1||K[161]!==A||K[162]!==te||K[163]!==tt||K[164]!==M||K[165]!==L?(R=e(o).createElement(a("lkcsM").PageTreeLinkItem,{isNav4Enabled:eT,dragHandleProps:et,onMouseEnter:A,onMouseLeave:eg,onBlur:eu,isSelected:te,onClick:J,href:eF,item:$,draggableState:Y,isSuperAdmin:Z,indent:ee,forceHoverBackground:tt,isQuickActionsFocused:eo,beforeIcon:M,afterIcon:L},e1),K[149]=eF,K[150]=et,K[151]=Y,K[152]=ee,K[153]=eT,K[154]=eo,K[155]=Z,K[156]=$,K[157]=eu,K[158]=J,K[159]=eg,K[160]=e1,K[161]=A,K[162]=te,K[163]=tt,K[164]=M,K[165]=L,K[166]=R):R=K[166],K[167]!==ej||K[168]!==ea||K[169]!==en||K[170]!==R?(j=e(o).createElement(a("5C17p").ConditionalTreeItemTooltip,{title:ej,isHoverPageCardOptedIn:ea,isQuickActionsOpen:en},R),K[167]=ej,K[168]=ea,K[169]=en,K[170]=R,K[171]=j):j=K[171],K[172]!==ef||K[173]!==eN||K[174]!==eK||K[175]!==ee||K[176]!==eU||K[177]!==eq||K[178]!==$.id||K[179]!==es||K[180]!==ed||K[181]!==e6||K[182]!==e8||K[183]!==j||K[184]!==em?(O=e(o).createElement(g.ConditionalInlineRename,{id:e7,title:e6,displayEmoji:e8,isEditingTitle:eU,isNewContent:eK,setIsEditingTitleId:ed,setFocusedQuickActionsId:es,updateContentTreeItem:em,contentStatus:ef,contentType:eN,isLive:eq,indent:ee},j),K[172]=ef,K[173]=eN,K[174]=eK,K[175]=ee,K[176]=eU,K[177]=eq,K[178]=$.id,K[179]=es,K[180]=ed,K[181]=e6,K[182]=e8,K[183]=j,K[184]=em,K[185]=O):O=K[185],K[186]!==$.id||K[187]!==eu||K[188]!==k||K[189]!==O?(B=e(o).createElement("div",{onMouseDown:k,onBlur:eu,ref:e_,"data-contentid":e9,role:"presentation"},O),K[186]=$.id,K[187]=eu,K[188]=k,K[189]=O,K[190]=B):B=K[190],K[191]!==e5||K[192]!==B?(q=e(o).createElement(a("hXDOc").HoverPreloader,{name:"page-tree-item",preloadUrl:e5,preloadOptions:a("hXDOc").PreloadingPresets.onlyJS},B),K[191]=e5,K[192]=B,K[193]=q):q=K[193],K[194]!==eq||K[195]!==q?(U=e(o).createElement(a("dYA5q").LivePagePreloader,{isLivePage:eq},q),K[194]=eq,K[195]=q,K[196]=U):U=K[196],U}:({item:t,draftText:i="",spaceHomePageId:n,onExpand:r,onCollapse:s,onHighlight:l,draggableState:u,isSuperAdmin:p,onClick:m,spaceKey:h,indent:f,dragHandleProps:v,isHoverPageCardOptedIn:I,closeAllHoverPageCards:b,isQuickActionsOpen:E,setOpenQuickActionsId:P,isQuickActionsFocused:y,setFocusedQuickActionsId:S,editingTitle:_,setIsEditingTitleId:k,onEnterHoverTarget:A,onLeaveHoverTarget:D,onBlurHoverTarget:w,isDraft:M,updateSinglePage:L,shouldRenderAfterIcon:R,contentStatus:j,renderResourcedEmoji:O,hideDraftHrefs:B,emoji:q,justExpanded:U,flags:K,renderServerPlaceholder:$})=>{let W=(0,a("8C5kA").default)(),H=(0,a("gz8ZY").useIsNav4Enabled)(),V=(0,o.useRef)(null),Q=t.data.emoji,[G]=(0,a("2vuKf").useIsMultiSelectActive)(),[{selectedContent:Y}]=(0,a("bwL2u").useContentTreeSelection)(),Z=t.id.toString()in Y,J=(0,o.useCallback)((e,a)=>{L(t.id,{title:a,fullTitle:a})},[L,t.id]),X=t.data.title||i,{optimisticTitle:ee}=(0,a("kSPGK").useOptimisticTitleChange)(t.id,X,J),et=ee||i,ea=t.data.type,ei=t.data.isHighlighted,en=t.data.isSelected,er=t?.data?.subType==="live",eo=M&&B?null:(0,a("huWyw").getURLBypassingResumeDraftAction)({url:`${a("jlIaF").CONTEXT_PATH}${t.data.webui}`,spaceKey:h,contentType:t.data.type,editorVersion:t.data.editorVersion,contentId:t.id});(0,o.useEffect)(()=>{if(ei){let e=setTimeout(l,1e3*d.ANIMATE_TIME_SEC);return()=>clearTimeout(e)}},[ei,l]);let es=t.isExpanded;(0,o.useEffect)(()=>{U&&es&&(0,a("9eE57").perfMarkEnd)({subject:"PageTree",subjectId:"expandPage"})},[U,es]);let el=_?.contentId===t.id,ed=_?.isNewContent;(0,o.useEffect)(()=>{let e=!1;if(ed&&el)e=!0;else if(en&&t.data.createdDate){let a=new Date,i=new Date(Number(t.data.createdDate));a.getTime()-i.getTime()<2e4&&(e=!0)}e&&(0,a("9eE57").perfMarkEnd)({subject:"PageTree",subjectId:"newContentRendered",details:{contentType:ea}})},[en,t.data.createdDate,ed,ea,el]);let ec=t.data.isCursor;(0,o.useEffect)(()=>{ec&&(0,a("9eE57").perfMarkEnd)({subject:"PageTree",subjectId:"loadMorePages"})},[ec]);let[eg,eu]=(0,o.useState)(!1),{onPreloadMouseEnter:ep,onPreloadMouseLeave:em,onPreloadMouseDown:eh,onPreloadMouseMove:ef,isPreloadOnDelayedHoverEnabled:ev}=C({itemId:t.id.toString(),isLive:er,contentType:ea||"page",isNav4Enabled:H,isSelected:!!en}),eI=ev?e(o).createElement("span",{role:"presentation",onMouseEnter:ep,onMouseLeave:em,onMouseDown:eh,onMouseMove:ef},e(o).createElement(N,{id:t.id.toString(),displayHomePageIcon:t.id===n,isDraft:M,displayTitle:et,displayEmoji:Q,contentType:ea,isSelected:en,renderResourcedEmoji:O,draggableState:u,emoji:q,isExpanded:t.isExpanded,isLive:er,isDisabled:G&&M})):e(o).createElement(N,{id:t.id.toString(),displayHomePageIcon:t.id===n,isDraft:M,displayTitle:et,displayEmoji:Q,contentType:ea,isSelected:en,renderResourcedEmoji:O,draggableState:u,emoji:q,isExpanded:t.isExpanded,isLive:er,isDisabled:G&&M}),eb=(0,T.useNestedSelect)(),eE=x(),eP=e(o).createElement(a("7gpC4").default,{isChecked:Z&&!M,onChange:e=>{e.target.checked?eb(t.id,!0,K):eE(t.id)},name:"isPageTreeItemSelected","aria-label":W.formatMessage(F.checkboxLabel,{contentTitle:t.data.title}),isDisabled:M});if(G){let i=Y[t.id],n=i&&i.selectedDescendantCount>0;return e(o).createElement("div",{style:{contain:"content"}},e(o).createElement(a("dcJ7R").default,{alignInline:"start",alignBlock:"center",space:"space.0"},e(o).createElement(a("fT2ta").default,null,t=>e(o).createElement("span",t,M?e(o).createElement(a("3gadb").default,{content:W.formatMessage(F.draftTooltip)},eP):eP)),e(o).createElement(a("fT2ta").default,{entranceDirection:"left"},l=>e(o).createElement("span",{...l,style:{...l.style,flexGrow:1,minWidth:0}},e(o).createElement(a("5C17p").ConditionalTreeItemTooltip,{title:et,isHoverPageCardOptedIn:!1,isQuickActionsOpen:!1},e(o).createElement(a("lkcsM").PageTreeLinkItem,{isNav4Enabled:H,isSelected:!!en,onClick:e=>{e.preventDefault(),e.stopPropagation(),M||(Z?eE(t.id):eb(t.id,!0,K))},href:eo,item:t,isSuperAdmin:p,indent:f,forceHoverBackground:!1,isQuickActionsFocused:!1,isDisabled:M,beforeIcon:e(o).createElement(a("7qclg").BeforeIcon,{item:t,isSuperAdmin:p,onExpand:e=>{e.preventDefault(),e.stopPropagation(),r?.(t.id)},onCollapse:e=>{e.preventDefault(),e.stopPropagation(),s?.(t.id)}}),afterIcon:t.hasChildren&&!t.isExpanded&&n?e(o).createElement(a("5nBzc").default,{isBold:!0},"+",i.selectedDescendantCount):void 0},eI))))))}return $?e(o).createElement(a("6f0Oj").default,{role:"presentation"},e(o).createElement("div",null,e(o).createElement("div",{"data-contentid":t.id,role:"presentation"},e(o).createElement(a("lkcsM").PageTreeLinkItem,{isNav4Enabled:H,dragHandleProps:v,isSelected:!!en,href:eo,item:t,draggableState:u,isSuperAdmin:p,indent:f,onClick:z,forceHoverBackground:!1,isQuickActionsFocused:!1,beforeIcon:e(o).createElement(a("7qclg").BeforeIcon,{item:t,isSuperAdmin:p,onCollapse:z,onExpand:z})},eI)))):e(o).createElement(a("dYA5q").LivePagePreloader,{isLivePage:er},e(o).createElement(a("hXDOc").HoverPreloader,{name:"page-tree-item",preloadUrl:eo??"",preloadOptions:a("hXDOc").PreloadingPresets.onlyJS},e(o).createElement("div",{onMouseDown:()=>{"page"!==ea||M||(0,a("lXYVJ").setViewTransitionSource)(a("1C3B1").PAGE_TREE_ITEM_CLICK),b(),E&&P(null)},onBlur:w,ref:V,"data-contentid":t.id,role:"presentation"},e(o).createElement(g.ConditionalInlineRename,{id:t.id,title:t.data.fullTitle||"",displayEmoji:t.data.emojiFromProperties||"",isEditingTitle:el,isNewContent:ed,setIsEditingTitleId:k,setFocusedQuickActionsId:S,updateContentTreeItem:L,contentStatus:j,contentType:ea,isLive:er,indent:f},e(o).createElement(a("5C17p").ConditionalTreeItemTooltip,{title:et,isHoverPageCardOptedIn:I,isQuickActionsOpen:E},e(o).createElement(a("lkcsM").PageTreeLinkItem,{isNav4Enabled:H,dragHandleProps:v,onMouseEnter:()=>{A({itemID:t.id.toString(),isQuickActionsFocused:y,hoverPageCardTriggerRef:V,isContextualCreateFocused:eg})},onMouseLeave:D,onBlur:w,isSelected:!!en,onClick:m,href:eo,item:t,draggableState:u,isSuperAdmin:p,indent:f,forceHoverBackground:E||eg,isQuickActionsFocused:y,beforeIcon:e(o).createElement(a("7qclg").BeforeIcon,{item:t,isSuperAdmin:p,onExpand:e=>{e.preventDefault(),e.stopPropagation(),r?.(t.id)},onCollapse:e=>{e.preventDefault(),e.stopPropagation(),s?.(t.id)}}),afterIcon:R&&e(o).createElement(c.PageTreeAfterIconLoader,{setFocusedQuickActionsId:S,isSuperAdmin:p,isQuickActionsOpen:E,setOpenQuickActionsId:P,setIsEditingTitleId:k,closeAllHoverPageCards:b,spaceKey:h,item:t,isContextualCreateFocused:eg,setIsContextualCreateFocused:eu,displayTitle:et,contentType:ea})},eI))))))},q=(0,a("7aRa9").withFlags)(B),F=(0,a("cgtv4").defineMessages)({checkboxLabel:{id:"page-tree.page-tree-item.checkbox.label",defaultMessage:"{contentTitle} checkbox"},draftTooltip:{id:"page-tree.page-tree-item.draft.tooltip",defaultMessage:"Drafts can’t be selected for bulk actions."}}),z=()=>{};t.exports.useIsEmojiSetForType=D,t.exports.EmojiWrapper=R,t.exports.Nav4EmojiWrapper=j,t.exports.PageTreeItemContent=N,t.exports.PageTreeItem=q}),i("hLQZP",function(e,t){e.exports=a("4mJKd")(5)("fnoJZ").then(()=>a("7He8T"))}),i("4mJKd",function(e,t){e.exports=e=>t=>import(a("8tirZ").shardUrl(a("02nRr").resolve(t),e))}),i("8tirZ",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.applyShardToDomain=o,e.exports.domainShardingKey=void 0,e.exports.getDomainShardIndex=i,e.exports.shardUrl=function(e,t){return globalThis[a]?s(e,t):e},e.exports.shardUrlUnchecked=s;let a="__ATLASPACK_ENABLE_DOMAIN_SHARDS";function i(e,t){let a=t+1,i=e.split("").reduce((e,t)=>{let i=(e<<a)-e+t.charCodeAt(0);return i&i},0);return(i%=a)<0&&(i+=a),i}let n=/-\d+$/;function r(e){if(!n.test(e))return e;let t=e.lastIndexOf("-");return e.slice(0,t)}function o(e,t){let a=e.indexOf("."),i=0===t?"":`-${t-1}`;if(-1===a)return`${r(e)}${i}`;let n=r(e.slice(0,a));return`${n}${i}${e.slice(a)}`}function s(e,t){let a=new URL(e),n=i(function(e){let t=e.lastIndexOf("/");if(-1===t||t===e.length-1)throw Error("Expected an absolute URL with a file name, unable to apply sharding.");return e.slice(t+1)}(a.pathname),t);return a.hostname=o(a.hostname,n),a.toString()}e.exports.domainShardingKey=a}),i("02nRr",function(e,a){t(e.exports,"register",()=>i,e=>i=e),t(e.exports,"resolve",()=>n,e=>n=e);var i,n,r=new Map;i=function(e,t){for(var a=0;a<t.length-1;a+=2)r.set(t[a],{baseUrl:e,path:t[a+1]})},n=function(e){var t=r.get(e);if(null==t)throw Error("Could not resolve bundle with id "+e);return new URL(t.path,t.baseUrl).toString()}}),i("3BpiD",function(e,t){e.exports=a("4mJKd")(5)("6gau7").then(()=>a("90bwg"))}),i("7qclg",function(t,i){var n=a("3u0dr"),r=a("frIzR"),o=a("42omo");let s=(0,o.forwardRef)((0,n.isReactCompilerActiveV1)()?(t,i)=>{let n,s,l,d,c,g,u=(0,r.c)(13);if(u[0]!==i||u[1]!==t){let{as:e,style:r,...o}=t;n=void 0===e?"div":e,s=o,l=r,d=i,c=(0,a("gMc0m").default)(["_18s8otz2",o.className]),u[0]=i,u[1]=t,u[2]=n,u[3]=s,u[4]=l,u[5]=d,u[6]=c}else n=u[2],s=u[3],l=u[4],d=u[5],c=u[6];return u[7]!==n||u[8]!==s||u[9]!==l||u[10]!==d||u[11]!==c?(g=e(o).createElement(n,{...s,style:l,ref:d,className:c}),u[7]=n,u[8]=s,u[9]=l,u[10]=d,u[11]=c,u[12]=g):g=u[12],g}:({as:t="div",style:i,...n},r)=>e(o).createElement(t,{...n,style:i,ref:r,className:(0,a("gMc0m").default)(["_18s8otz2",n.className])})),l=(0,o.memo)((0,n.isReactCompilerActiveV1)()?t=>{let i,n,l,d=(0,r.c)(14),{item:c,isSuperAdmin:g,onExpand:u,onCollapse:p}=t,m=(0,a("gz8ZY").useIsNav4Enabled)(),{isChildrenLoading:h,hasChildren:f,isExpanded:v,hasRestrictions:I,hasInheritedRestrictions:b}=c;d[0]!==u?(i=e=>{(0,a("4TXTZ").default)("page-tree-item-expand",e.timeStamp),u(e)},d[0]=u,d[1]=i):i=d[1];let E=i;d[2]!==p?(n=e=>{(0,a("4TXTZ").default)("page-tree-item-collapse",e.timeStamp),p(e)},d[2]=p,d[3]=n):n=d[3];let P=n,y=g&&(I||b)?"var(--ds-icon-danger, #C9372C)":void 0;if(h){let t;return d[4]===Symbol.for("react.memo_cache_sentinel")?(t=e(o).createElement(s,{"data-testid":"tree-item-spinner"},e(o).createElement(a("9hlns").default,{size:16})),d[4]=t):t=d[4],t}if(f||"folder"===c.data.type){let t;return d[5]!==P||d[6]!==E||d[7]!==y||d[8]!==v||d[9]!==m||d[10]!==c.id?(t=v?e(o).createElement("button",{onClick:P,"data-testid":"chevron-down","data-no-global-anchor-handler":!0,"aria-expanded":v,"aria-labelledby":c.id,className:(0,a("gMc0m").default)(["_19itglyw _19pkidpf _2hwxidpf _otyridpf _18u0idpf _ca0qidpf _u5f3idpf _n3tdidpf _19bvidpf _4bfu1r31 _1hmsglyw _ajmmnqa1 _1pbykb7n _1e0c1txw _bfhk1j28 _syaz1q3r _80omtlke",m&&"_2rkofajl _4t3i1ejb _1bsb1ejb _1e0c1txw _4cvr1h6o _1bah1h6o _syazazsu _irr31dpa"])},e(o).createElement(e(a("ghftu")),{color:y,label:"",size:"small"})):e(o).createElement("button",{onClick:E,"data-testid":"chevron-right","data-no-global-anchor-handler":!0,"aria-expanded":v,"aria-labelledby":c.id,className:(0,a("gMc0m").default)(["_19itglyw _19pkidpf _2hwxidpf _otyridpf _18u0idpf _ca0qidpf _u5f3idpf _n3tdidpf _19bvidpf _4bfu1r31 _1hmsglyw _ajmmnqa1 _1pbykb7n _1e0c1txw _bfhk1j28 _syaz1q3r _80omtlke",m&&"_2rkofajl _4t3i1ejb _1bsb1ejb _1e0c1txw _4cvr1h6o _1bah1h6o _syazazsu _irr31dpa"])},e(o).createElement(e(a("6R5uz")),{color:y,label:"",size:"small"})),d[5]=P,d[6]=E,d[7]=y,d[8]=v,d[9]=m,d[10]=c.id,d[11]=t):t=d[11],t}let S=m?"var(--ds-text-subtle, #505258)":"var(--ds-icon, #292A2E)";return d[12]!==S?(l=e(o).createElement(e(a("e66a9")),{label:"",color:S}),d[12]=S,d[13]=l):l=d[13],l}:({item:t,isSuperAdmin:i,onExpand:n,onCollapse:r})=>{let l=(0,a("gz8ZY").useIsNav4Enabled)(),{isChildrenLoading:d,hasChildren:c,isExpanded:g,hasRestrictions:u,hasInheritedRestrictions:p}=t,m=(0,o.useCallback)(e=>{(0,a("4TXTZ").default)("page-tree-item-expand",e.timeStamp),n(e)},[n]),h=(0,o.useCallback)(e=>{(0,a("4TXTZ").default)("page-tree-item-collapse",e.timeStamp),r(e)},[r]),f=i&&(u||p)?"var(--ds-icon-danger, #C9372C)":void 0;return d?e(o).createElement(s,{"data-testid":"tree-item-spinner"},e(o).createElement(a("9hlns").default,{size:16})):c||"folder"===t.data.type?g?e(o).createElement("button",{onClick:h,"data-testid":"chevron-down","data-no-global-anchor-handler":!0,"aria-expanded":g,"aria-labelledby":t.id,className:(0,a("gMc0m").default)(["_19itglyw _19pkidpf _2hwxidpf _otyridpf _18u0idpf _ca0qidpf _u5f3idpf _n3tdidpf _19bvidpf _4bfu1r31 _1hmsglyw _ajmmnqa1 _1pbykb7n _1e0c1txw _bfhk1j28 _syaz1q3r _80omtlke",l&&"_2rkofajl _4t3i1ejb _1bsb1ejb _1e0c1txw _4cvr1h6o _1bah1h6o _syazazsu _irr31dpa"])},e(o).createElement(e(a("ghftu")),{color:f,label:"",size:"small"})):e(o).createElement("button",{onClick:m,"data-testid":"chevron-right","data-no-global-anchor-handler":!0,"aria-expanded":g,"aria-labelledby":t.id,className:(0,a("gMc0m").default)(["_19itglyw _19pkidpf _2hwxidpf _otyridpf _18u0idpf _ca0qidpf _u5f3idpf _n3tdidpf _19bvidpf _4bfu1r31 _1hmsglyw _ajmmnqa1 _1pbykb7n _1e0c1txw _bfhk1j28 _syaz1q3r _80omtlke",l&&"_2rkofajl _4t3i1ejb _1bsb1ejb _1e0c1txw _4cvr1h6o _1bah1h6o _syazazsu _irr31dpa"])},e(o).createElement(e(a("6R5uz")),{color:f,label:"",size:"small"})):e(o).createElement(e(a("e66a9")),{label:"",color:l?"var(--ds-text-subtle, #505258)":"var(--ds-icon, #292A2E)"})});t.exports.BeforeIcon=l}),i("lUMkS",function(t,i){var n=a("3u0dr"),r=a("frIzR"),o=a("42omo"),s=a("a4TK8"),l=a("di8q4"),d=a("3aAh8"),c=a("jGj7w");let g=(0,a("jmjWc").LoadableAfterPaint)({__loadable_id__:"6xpDa",name:"TreeMonitorLoader",loader:async()=>(await a("1ewPd")).TreeMonitor});function u(e,t,a){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let p=(0,o.forwardRef)(({as:t="div",style:i,...n},r)=>e(o).createElement(t,{...n,style:i,ref:r,className:(0,a("gMc0m").default)(["_16jlkb7n _1o9zidpf _1bsb1osq _1e0c1txw _2lx21bp4 _nphskb7n _bhl91osq",n.className])})),m=(0,o.forwardRef)(({as:t="div",style:i,...n},r)=>e(o).createElement(t,{...n,style:i,ref:r,className:(0,a("gMc0m").default)(["_19pk19bv _2hwxidpf _otyr19bv _18u0idpf _1bsb1osq",n.className])})),h=(0,a("ecnYn").xcss)({width:"100%",minHeight:"24px",display:"flex",justifyContent:"center",alignItems:"center",flexGrow:1}),f=({children:t,loading:i})=>{let n=(0,a("luv00").useSSRPlaceholderReplaceIdProp)();return e(o).createElement("div",{"data-testid":"page-tree-container","data-vc":"page-tree-container",...n,className:(0,a("gMc0m").default)(["_1e0c1txw _2lx21bp4 _16jlkb7n _1o9zidpf _4cvr1y6m",i&&"_tzy4105o _lcxvglyw _80om13gf"])},t)},v=()=>e(o).createElement(a("6f0Oj").default,{xcss:h},e(o).createElement(a("9hlns").default,{size:"medium",testId:"page-tree-loading"})),I=(0,o.memo)(({loadMorePages:t})=>e(o).createElement(m,null,e(o).createElement(a("ccHMk").default,{shouldFitContainer:!0,spacing:"compact",onClick:t},e(o).createElement(a("gtD4K").default,{id:"page-tree.pages.show.more.above",defaultMessage:"Show more above"})))),b=(0,o.memo)(({loadMorePages:t})=>e(o).createElement(m,null,e(o).createElement(a("ccHMk").default,{shouldFitContainer:!0,spacing:"compact",onClick:t},e(o).createElement(a("gtD4K").default,{id:"page-tree.pages.show.more.below",defaultMessage:"Show more below"}))));class E extends o.PureComponent{componentDidMount(){let{tree:e}=this.props;Object.keys(e.items).length&&(this.props.onInitialLoadComplete?.(Object.keys(e.items).length),this.onInitialLoadCompleteSubmitted=!0)}componentDidUpdate(e){if(this.onInitialLoadCompleteSubmitted)return;let{tree:t}=this.props;(e.loading&&!this.props.loading||window.__SSR_RENDERED__)&&(this.props.onInitialLoadComplete?.(Object.keys(t.items).length),this.onInitialLoadCompleteSubmitted=!0)}render(){let{tree:t,loadPreviousPages:i,loadFollowingPages:n,isTreeTruncatedPrevious:r,isTreeTruncatedFollowing:s,isDraggable:l,dragPreview:d,loading:c,isNav4Enabled:u}=this.props;return e(o).createElement(f,{loading:c},!r&&!s&&c&&e(o).createElement(v,null),r&&(c?e(o).createElement(v,null):e(o).createElement(I,{loadMorePages:i})),e(o).createElement(p,{"data-testid":"tree-container-flex"},e(o).createElement(a("4BeGP").Tree,{tree:t,isDragEnabled:l,renderItem:this.props.renderItem,renderItemEmptyState:this.props.renderItemEmptyState,onExpand:this.expandPage,onCollapse:this.collapsePage,onDragStart:this.props.onDragStart,onDragEnd:this.dragEnd,dragPreview:d,indentPerLevel:u?12:16}),e(o).createElement(g,{setIsDraggingItem:this.props.setIsDraggingItem})),s&&(c?e(o).createElement(v,null):e(o).createElement(b,{loadMorePages:n})),!c&&e(o).createElement(a("5Abqh").SetSSRPartialSuccess,{name:a("5Abqh").SSR_PARTIAL_COMPONENT.PageTree}))}constructor(...e){super(...e),u(this,"onInitialLoadCompleteSubmitted",!1),u(this,"collapsePage",e=>{let{tree:t,onCollapse:a}=this.props;a(t.items[e])}),u(this,"expandPage",e=>{let{tree:t,onExpand:a}=this.props;a(t.items[e])}),u(this,"dragEnd",async(e,t,a)=>{let{onDragEnd:i}=this.props;i(e,t,a)})}}let P=(0,a("eSUdr").default)`query PageTreeRootLevelPagesQuery($spaceKey:String!$statuses:[GraphQLPageStatus]$ptStatuses:[PTGraphQLPageStatus]$isSuperAdmin:Boolean!$paginationLimit:Int$isReplacePagesWithPTPageEnabled:Boolean!=false){ptpage(spaceKey:$spaceKey status:$ptStatuses pageTree:$paginationLimit)@include(if:$isReplacePagesWithPTPageEnabled){id title status createdDate(format:MILLIS){value}hasChildren blank hasRestrictions@include(if:$isSuperAdmin)hasInheritedRestrictions@include(if:$isSuperAdmin)type subType links{webui}properties(keys:["emoji-title-published" "emoji-title-draft" "editor"]){nodes{id key value version{number}}}followingSiblings{nodes{id title status createdDate(format:MILLIS){value}hasChildren blank hasRestrictions@include(if:$isSuperAdmin)hasInheritedRestrictions@include(if:$isSuperAdmin)type subType links{webui}properties(keys:["emoji-title-published" "emoji-title-draft" "editor"]){nodes{id key value version{number}}}}pageInfo@include(if:$isReplacePagesWithPTPageEnabled){hasNextPage}}}rootLevelPages:pages(spaceKey:$spaceKey status:$statuses limit:$paginationLimit)@skip(if:$isReplacePagesWithPTPageEnabled){nodes{id hasChildren title status blank hasRestrictions@include(if:$isSuperAdmin)hasInheritedRestrictions@include(if:$isSuperAdmin)type properties(keys:["emoji-title-published" "emoji-title-draft" "editor"]){nodes{id key value version{number}}}links{webui}}}space(key:$spaceKey){id homepage{id}operations{operation targetType}}}`;var y=a("k0x5M");let S=(0,a("eSUdr").default)`query PageTreePreviousItemsQuery($spaceKey:String!$ptStatuses:[PTGraphQLPageStatus]$contentId:ID!$paginationLimit:Int$isSuperAdmin:Boolean!){currentPage:ptpage(id:$contentId spaceKey:$spaceKey pageTree:$paginationLimit status:$ptStatuses enablePaging:true){id title status hasChildren blank hasRestrictions@include(if:$isSuperAdmin)hasInheritedRestrictions@include(if:$isSuperAdmin)type subType links{webui}properties(keys:["emoji-title-published" "emoji-title-draft" "editor"]){nodes{id key value version{number}}}nearestAncestors{pageInfo{hasNextPage}nodes{id title status hasChildren blank hasRestrictions@include(if:$isSuperAdmin)hasInheritedRestrictions@include(if:$isSuperAdmin)type subType links{webui}properties(keys:["emoji-title-published" "emoji-title-draft" "editor"]){nodes{id key value version{number}}}previousSiblings{nodes{id title status hasChildren blank hasRestrictions@include(if:$isSuperAdmin)hasInheritedRestrictions@include(if:$isSuperAdmin)type subType links{webui}properties(keys:["emoji-title-published" "emoji-title-draft" "editor"]){nodes{id key value version{number}}}}pageInfo{hasNextPage}}}}previousSiblings{nodes{id title status hasChildren blank hasRestrictions@include(if:$isSuperAdmin)hasInheritedRestrictions@include(if:$isSuperAdmin)type subType links{webui}properties(keys:["emoji-title-published" "emoji-title-draft" "editor"]){nodes{id key value version{number}}}}pageInfo{hasNextPage}}}}`,C=(0,a("eSUdr").default)`query PageTreeFollowingItemsQuery($spaceKey:String!$ptStatuses:[PTGraphQLPageStatus]$contentId:ID!$paginationLimit:Int$isSuperAdmin:Boolean!){currentPage:ptpage(id:$contentId spaceKey:$spaceKey pageTree:$paginationLimit status:$ptStatuses enablePaging:true){id title status hasChildren blank hasRestrictions@include(if:$isSuperAdmin)hasInheritedRestrictions@include(if:$isSuperAdmin)type subType links{webui}properties(keys:["emoji-title-published" "emoji-title-draft" "editor"]){nodes{id key value version{number}}}nearestAncestors{pageInfo{hasNextPage}nodes{followingSiblings{nodes{id title status hasChildren blank hasRestrictions@include(if:$isSuperAdmin)hasInheritedRestrictions@include(if:$isSuperAdmin)type subType links{webui}properties(keys:["emoji-title-published" "emoji-title-draft" "editor"]){nodes{id key value version{number}}}}pageInfo{hasNextPage}}}}followingSiblings{nodes{id title status hasChildren blank hasRestrictions@include(if:$isSuperAdmin)hasInheritedRestrictions@include(if:$isSuperAdmin)type subType links{webui}properties(keys:["emoji-title-published" "emoji-title-draft" "editor"]){nodes{id key value version{number}}}}pageInfo{hasNextPage}}}}`,T=(0,n.isReactCompilerActiveV1)()?e=>{let t,i,n=(0,r.c)(3);n[0]===Symbol.for("react.memo_cache_sentinel")?(t={skip:!0},n[0]=t):t=n[0];let{refetch:o}=(0,a("xQxzY").useQuery)(e,t);return n[1]!==o?(i=e=>o(e),n[1]=o,n[2]=i):i=n[2],i}:e=>{let{refetch:t}=(0,a("xQxzY").useQuery)(e,{skip:!0});return(0,o.useCallback)(e=>t(e),[t])},_={previous:a("2qvBe").isPageTreeTruncatedPrevious,following:a("2qvBe").isPageTreeTruncatedFollowing},x={previous:a("2qvBe").mergePreviousPages,following:a("2qvBe").mergeFollowingPages},k=({statuses:e})=>{let[t,i]=(0,c.usePageTreeState)(),n=T(S),r=T(C),s=(0,o.useCallback)((o,l,d,c,g,u="following",p={children:0,previousSiblings:0,followingSiblings:0})=>{(0,a("9eE57").perfMarkStart)({subject:"PageTree",subjectId:"loadMorePages"});let m=c?.[u]?.id||void 0,h=c?.[u]?.ancestorIndex||void 0;return(0,({previous:n,following:r})[u])({contentId:m,paginationLimit:a("1oGPE").INITIAL_PAGE_SIZE,spaceKey:l,isSuperAdmin:d,statuses:e,ptStatuses:e}).then(e=>{let{data:n,error:r}=e;if(r)return void i.handleLoadingError(r,u);if(n&&Object.keys(n).length>0){let{currentPage:e,rootLevelPages:i}=n,r=x[u](e,g,h),m=r.children.count,f=r.previousSiblings.count,v=r.followingSiblings.count;return(m>p.children||f>p.previousSiblings||v>p.followingSiblings)&&_[u](e)?s(o,l,d,(0,a("2qvBe").getDirectionalCursors)(e,t,c,u),r,u,{children:m,previousSiblings:f,followingSiblings:v}):{mergedPages:r,rootLevelPages:i}}}).catch(e=>(i.handleLoadingError(e,u),{error:e}))},[n,r,i,e,t]);return{loadMorePages:s}},A=(0,a("eSUdr").default)`query PageTreeChildrenQuery($contentId:ID!$statuses:[PTGraphQLPageStatus]$first:Int$after:String$isSuperAdmin:Boolean!){ptpage(id:$contentId status:$statuses){id title status blank hasChildren hasRestrictions@include(if:$isSuperAdmin)hasInheritedRestrictions@include(if:$isSuperAdmin)type subType links{webui}properties(keys:["emoji-title-published" "emoji-title-draft" "editor"]){nodes{id key value version{number}}}children(first:$first after:$after){nodes{id title status blank hasChildren hasRestrictions@include(if:$isSuperAdmin)hasInheritedRestrictions@include(if:$isSuperAdmin)type subType links{webui}properties(keys:["emoji-title-published" "emoji-title-draft" "editor"]){nodes{id key value version{number}}}}pageInfo{hasNextPage endCursor}}}}`,D=({statuses:e,isSuperAdmin:t})=>{let[i,n]=(0,c.usePageTreeState)(),r=T(A),s=(0,o.useCallback)((i,o,l={count:0,nodes:[]},d=0)=>r({contentId:i,statuses:e,first:a("1oGPE").CHILDREN_PAGE_SIZE,after:o,isSuperAdmin:t||!1}).then(e=>{if(e.data){let t=e.data?.ptpage?.children,n=t?(0,a("2qvBe").mergeChildren)(l,t):{nodes:[]};return t?.pageInfo?.hasNextPage&&o!==t?.pageInfo?.endCursor&&d<100?s(i,t?.pageInfo?.endCursor,n,d+1):{...n,error:null}}return{nodes:[],error:null}}).catch(e=>(n.handleLoadingError(e,"children"),{nodes:[],error:e})),[r,t,e,n]),l=(0,o.useCallback)(()=>{s(i.focusedPageId)},[s,i.focusedPageId]);return{queryChildren:s,reloadChildren:l}},w=(e,t,i,n,r,o)=>{let s=e?a("inLKs").PageTreeQuery:P,l=e?{spaceKey:r,isSuperAdmin:o,statuses:a("ivyMZ").PAGE_TREE_STATUSES,ptStatuses:a("ivyMZ").PAGE_TREE_STATUSES,contentId:e,isReplacePagesWithPTPageEnabled:!0}:{spaceKey:r,isSuperAdmin:o,statuses:a("ivyMZ").PAGE_TREE_STATUSES,emojiTitleEnabled:!0,isReplacePagesWithPTPageEnabled:!0},d={paginationLimit:a("1oGPE").INITIAL_PAGE_SIZE,...l};return{query:s,options:{fetchPolicy:n?"no-cache":i?"network-only":"cache-first",variables:!0!==t&&e?l:d}}},M=(0,n.isReactCompilerActiveV1)()?(e,t,i,n)=>{let o,s,l,d,g,u,p=(0,r.c)(22),[m,h]=(0,c.usePageTreeState)(),{focusedPageId:f}=m;p[0]!==i?(o={statuses:i},p[0]=i,p[1]=o):o=p[1];let{loadMorePages:v}=k(o);p[2]!==t||p[3]!==i?(s={statuses:i,isSuperAdmin:t},p[2]=t,p[3]=i,p[4]=s):s=p[4];let{reloadChildren:I,queryChildren:b}=D(s);p[5]!==h||p[6]!==f||p[7]!==t||p[8]!==v||p[9]!==n||p[10]!==e||p[11]!==m?(l=async i=>{h.setIsPageTreeLoading(!0);let r=(0,a("2qvBe").isFollowingNodeHidden)(m.initialPages),o=m.initialPages;if("following"===i&&r){let{mergedPages:a,error:i}=await v(f,e,t,m.cursors,o,"previous");if(i)return;o=a}let{mergedPages:s,rootLevelPages:l,error:d}=await v(f,e,t,m.cursors,o,i);if(d)return;let c=(0,y.deriveStateFromData)({currentPage:s,rootLevelPages:l,space:m.space},e,m,!1,void 0,!1);h.setStateWithUIAttributes(c);let g=(0,y.flattenTreeData)(s,l);h.setIsPageTreeLoading(!1),n&&n(Object.keys(g).length,i)},p[5]=h,p[6]=f,p[7]=t,p[8]=v,p[9]=n,p[10]=e,p[11]=m,p[12]=l):l=p[12];let E=l;p[13]!==E?(d=()=>E("previous"),p[13]=E,p[14]=d):d=p[14];let P=d;p[15]!==E?(g=()=>E("following"),p[15]=E,p[16]=g):g=p[16];let S=g;return p[17]!==S||p[18]!==P||p[19]!==b||p[20]!==I?(u={loadPreviousPages:P,loadFollowingPages:S,reloadChildren:I,queryChildren:b},p[17]=S,p[18]=P,p[19]=b,p[20]=I,p[21]=u):u=p[21],u}:(e,t,i,n)=>{let[r,s]=(0,c.usePageTreeState)(),{focusedPageId:l}=r,{loadMorePages:d}=k({statuses:i}),{reloadChildren:g,queryChildren:u}=D({statuses:i,isSuperAdmin:t}),p=(0,o.useCallback)(async i=>{s.setIsPageTreeLoading(!0);let o=(0,a("2qvBe").isFollowingNodeHidden)(r.initialPages),c=r.initialPages;if("following"===i&&o){let{mergedPages:a,error:i}=await d(l,e,t,r.cursors,c,"previous");if(i)return;c=a}let{mergedPages:g,rootLevelPages:u,error:p}=await d(l,e,t,r.cursors,c,i);if(p)return;let m=(0,y.deriveStateFromData)({currentPage:g,rootLevelPages:u,space:r.space},e,r,!1,void 0,!1);s.setStateWithUIAttributes(m);let h=(0,y.flattenTreeData)(g,u);s.setIsPageTreeLoading(!1),n&&n(Object.keys(h).length,i)},[s,d,l,t,n,e,r]);return{loadPreviousPages:(0,o.useCallback)(()=>p("previous"),[p]),loadFollowingPages:(0,o.useCallback)(()=>p("following"),[p]),reloadChildren:g,queryChildren:u}},L=(0,n.isReactCompilerActiveV1)()?(e,t,i,n,o,s)=>{let l,d,c=(0,r.c)(9);c[0]!==e||c[1]!==n||c[2]!==i||c[3]!==s||c[4]!==t||c[5]!==o?(l=w(e,t,i,n,o,s),c[0]=e,c[1]=n,c[2]=i,c[3]=s,c[4]=t,c[5]=o,c[6]=l):l=c[6];let{query:g,options:u}=l,p=u.fetchPolicy;return c[7]!==p?(d={skip:!0,fetchPolicy:p},c[7]=p,c[8]=d):d=c[8],(0,a("xQxzY").useQuery)(g,d)}:(e,t,i,n,r,s)=>{let{query:l,options:d}=(0,o.useMemo)(()=>w(e,t,i,n,r,s),[e,t,i,n,r,s]);return(0,a("xQxzY").useQuery)(l,{skip:!0,fetchPolicy:d.fetchPolicy})},R=(0,n.isReactCompilerActiveV1)()?(e,t,i,n,o,s,l,d)=>{let g,u,p=(0,r.c)(13),m=void 0!==n&&n,h=void 0!==o&&o,[f,v]=(0,c.usePageTreeState)();p[0]!==h||p[1]!==s?(g={statuses:s,isSuperAdmin:h},p[0]=h,p[1]=s,p[2]=g):g=p[2];let{queryChildren:I}=D(g);return p[3]!==v||p[4]!==t||p[5]!==m||p[6]!==d||p[7]!==I||p[8]!==e||p[9]!==f||p[10]!==i||p[11]!==l?(u=n=>{if(n&&Object.keys(n).length>0){let r=n.space?.homepage?.id,o=(0,y.deriveStateFromData)(n,e,f,m,i,l,d,(0,a("9wGTI").fg)("confluence_frontend_whiteboard_emoji_titles"));v.setStateWithUIAttributes(o);let{rootId:s,pages:c}=o;return t&&r&&s!==r&&c[r]?v.expandPage(c[r],I):c}return n},p[3]=v,p[4]=t,p[5]=m,p[6]=d,p[7]=I,p[8]=e,p[9]=f,p[10]=i,p[11]=l,p[12]=u):u=p[12],u}:(e,t,i,n=!1,r=!1,s,l,d)=>{let[g,u]=(0,c.usePageTreeState)(),{queryChildren:p}=D({statuses:s,isSuperAdmin:r});return(0,o.useCallback)(r=>{if(r&&Object.keys(r).length>0){let o=r.space?.homepage?.id,s=(0,y.deriveStateFromData)(r,e,g,n,i,l,d,(0,a("9wGTI").fg)("confluence_frontend_whiteboard_emoji_titles"));u.setStateWithUIAttributes(s);let{rootId:c,pages:m}=s;return t&&o&&c!==o&&m[o]?u.expandPage(m[o],p):m}return r},[e,g,n,i,l,u,t,p,d])},j=(e,t,a)=>{if(void 0===a.index)return{pageId:t,parentId:a.parentId};let i=0===a.index,n=e.children.indexOf(t),r=n>-1&&n<a.index,o=i||r?a.index:a.index-1;return{pageId:t,siblingId:String(e.children[o]),positionToSibling:0===a.index?"before":"after"}},N=(t,a,i)=>!a||e(s)(t,a)||!i[a.parentId]?"INVALID_MOVE_LOCATION":"DRAFT"===i[a.parentId].data.status?"INVALID_MOVE_LOCATION_DRAFT":null,O=(0,n.isReactCompilerActiveV1)()?e=>{let t,a=(0,r.c)(6),{onMoveInvalid:i,syntheticItem:n,onPageMove:o,queryChildren:s}=e,[,l]=(0,c.usePageTreeState)();return a[0]!==l||a[1]!==i||a[2]!==o||a[3]!==s||a[4]!==n?.id?(t=(e,t,a)=>{let{pages:r,space:d}=l.getState(),c=N(e,t,r);if(c)return void i?.({reason:c});let g=n?.id||r[e.parentId].children[e.index],u=r[g]?.data?.status||null,p=r[t.parentId],m=r[e.parentId],h=g===n?.id;l.movePageInState(g,e,t,s,h),o(j(p,g,t),{contentStatus:u,destination:t,instructionType:a,movedPageTitle:r[g].data.title,source:e,sourceParent:m,spaceId:d?.id,revertMove:()=>{let{pages:a}=l.getState(),i=a[m.id],n=i.children.length>0?e:{parentId:m.id};return l.movePageInState(g,t,n,!0,!0),j(i,g,n)}})},a[0]=l,a[1]=i,a[2]=o,a[3]=s,a[4]=n?.id,a[5]=t):t=a[5],n?.id,t}:({onMoveInvalid:e,syntheticItem:t,onPageMove:a,queryChildren:i})=>{let[,n]=(0,c.usePageTreeState)();return(0,o.useCallback)((r,o,s)=>{let{pages:l,space:d}=n.getState(),c=N(r,o,l);if(c)return void e?.({reason:c});let g=t?.id||l[r.parentId].children[r.index],u=l[g]?.data?.status||null,p=l[o.parentId],m=l[r.parentId],h=g===t?.id;n.movePageInState(g,r,o,i,h),a(j(p,g,o),{contentStatus:u,destination:o,instructionType:s,movedPageTitle:l[g].data.title,source:r,sourceParent:m,spaceId:d?.id,revertMove:()=>{let{pages:e}=n.getState(),t=e[m.id],a=t.children.length>0?r:{parentId:m.id};return n.movePageInState(g,o,a,!0,!0),j(t,g,a)}})},[n,e,a,i,t?.id])},B=(0,o.forwardRef)((0,n.isReactCompilerActiveV1)()?(t,i)=>{let n,s=(0,r.c)(3);if(s[0]!==i||s[1]!==t){let{as:r,style:l,...d}=t,{indent:c,...g}=d;n=e(o).createElement(void 0===r?"div":r,{...g,style:{...l,"--_gg0ene":(0,a("7sObp").default)(d.indent,"px")},ref:i,className:(0,a("gMc0m").default)(["_1e0c1txw _4cvr1h6o _80om73ad _4t3i14no _syaz1rpy",d.indent?"_19bv2uct":"_19bvidpf",d.className])}),s[0]=i,s[1]=t,s[2]=n}else n=s[2];return n}:({as:t="div",style:i,...n},r)=>{let{indent:s,...l}=n;return e(o).createElement(t,{...l,style:{...i,"--_gg0ene":(0,a("7sObp").default)(n.indent,"px")},ref:r,className:(0,a("gMc0m").default)(["_1e0c1txw _4cvr1h6o _80om73ad _4t3i14no _syaz1rpy",n.indent?"_19bv2uct":"_19bvidpf",n.className])})}),q=({item:t,indent:i})=>{if("folder"===t.data.type)return e(o).createElement(B,{indent:i},e(o).createElement(a("gtD4K").default,{id:"page-tree.folder.empty-state",defaultMessage:"There’s nothing in this folder yet."}))};var F=a("T1bCI"),z=a("jwg5H"),U=a("eQjI7");let K=({treeItem:e,areChildrenIncluded:t,excludedBranchRootPageIDs:a=[],hasInheritedRestrictions:i=!1})=>({pageID:e.id,areChildrenIncluded:t,hasRestrictions:e.hasRestrictions??!1,hasInheritedRestrictions:i??!1,excludedBranchRootPageIDs:a,hasChildren:e.hasChildren,contentType:e.data.type??null,isSelected:!0,excludedBranchRootPageHasInheritedRestrictions:[],hasSelectedAncestor:!1}),$=(e,t,i,n)=>{let r=new Set,o=e=>{let a=new Set,i=!1,r=e=>{if(void 0===n[e.id]||n[e.id].deselectedChildren.size>0)return!1;let o=n.hasOwnProperty(e.id);o&&(a.add(e.id),e.hasRestrictions&&e.hasChildren&&(i=!0));let s=e.children||[],l=!0;for(let e of s){let a=t[e];if("DRAFT"!==a.data.status)if(a){let e=r(a);l=l&&e}else l=!1}return o&&l};return{selectedSet:a,allSelected:r(e),hasInheritedRestrictions:i}},s=[],l=e=>{let d=e.id in n,c=e.hasChildren,g=e.children;if(!r.has(e.id)&&"DRAFT"!==e.data.status){if(d&&!c)s.push(K({treeItem:e,areChildrenIncluded:!1}));else if(d&&c&&!i.has(e.id))s.push(K({treeItem:e,areChildrenIncluded:!0}));else if(d&&c&&n[e.id].deselectedChildren.size>0)s.push(K({treeItem:e,areChildrenIncluded:!1,excludedBranchRootPageIDs:[...n[e.id].deselectedChildren]}));else if(d&&c){let{selectedSet:t,allSelected:i,hasInheritedRestrictions:n}=o(e);if(i)s.push(K({treeItem:e,areChildrenIncluded:!0,excludedBranchRootPageIDs:[],hasInheritedRestrictions:n})),r=new Set([...t,...r]);else{let e=Error("[Bulk Actions on Content Tree] Error formatting selected items for primary actions (delete or archive)");return(0,a("5ZqQS").getMonitoringClient)().submitError(e,{attribution:a("3IBnw").Attribution.DISCO}),e}}}for(let e of g||[]){let a=t[e];a&&l(a)}return d&&r.has(e.id)&&!c&&(delete n[e.id],r.delete(e.id)),s};return l(e)},W=(0,n.isReactCompilerActiveV1)()?()=>{let e,t,i,n=(0,r.c)(8),[o]=(0,a("bwL2u").useContentTreeSelection)(),{selectedContent:s}=o,{getState:l}=(0,c.usePageTreeActions)();n[0]!==l||n[1]!==s?(e=()=>{let{rootId:e,pages:t,contentIdsWithLoadedChildren:a}=l(),i={...s};return $(t[e],t,a,i)},n[0]=l,n[1]=s,n[2]=e):e=n[2];let d=e;n[3]!==l?(t=()=>{let{spaceKey:e,spaceId:t}=l();return{spaceKey:e,spaceId:t}},n[3]=l,n[4]=t):t=n[4];let g=t;return n[5]!==g||n[6]!==d?(i={getPrimaryActionInput:d,getCurrentSpace:g},n[5]=g,n[6]=d,n[7]=i):i=n[7],i}:()=>{let[{selectedContent:e}]=(0,a("bwL2u").useContentTreeSelection)(),{getState:t}=(0,c.usePageTreeActions)();return{getPrimaryActionInput:(0,o.useCallback)(()=>{let{rootId:a,pages:i,contentIdsWithLoadedChildren:n}=t(),r={...e};return $(i[a],i,n,r)},[t,e]),getCurrentSpace:(0,o.useCallback)(()=>{let{spaceKey:e,spaceId:a}=t();return{spaceKey:e,spaceId:a}},[t])}},H={button:"_2rko1qi0 _1rjc1b66 _18zru2gc _p12f1ns9 _bfhk1aqn",activeButton:"_irr31ibz _1di6of27",disabledButton:"_lcxvglyw",disabledBox:"_80om13gf",inline:"_11c82smr _18zru2gc _4t3izwfg _syaz15cr",limitDialog:"_2rko1qi0 _1rjc1b66 _18zru2gc _bfhk1aqn _syaz15cr _1e0c1txw _1bah1h6o _4cvr1h6o",popup:"_2rko1qi0 _1bsbkvcq",deleteButton:"_irr3s9hg"},V=(0,n.isReactCompilerActiveV1)()?t=>{let i,n,s,l,d,c,g,u,p,m,h=(0,r.c)(38),{actionText:f,actionIcon:v,actionName:I,count:b,onClick:E,isSelectionLimitReached:P,actionLimit:y,isLoading:S,isDisabled:C}=t,T=void 0===y?0:y,_=void 0!==S&&S,x=I!==et&&(0===b||_||void 0!==C&&C);if(void 0!==P&&P){let t,i,n,r;return h[0]!==T?(t=()=>o.createElement(a("6f0Oj").default,{xcss:(0,a("1Whri").cx)(H.limitDialog)},o.createElement(a("u9agA").default,{alignBlock:"center",space:"space.100",xcss:(0,a("1Whri").cx)(H.inline)},o.createElement(a("gtD4K").default,{...G.overTheLimitWarning,values:{limit:T}}))),h[0]=T,h[1]=t):t=h[1],h[2]!==f||h[3]!==b?(i=t=>o.createElement(a("6f0Oj").default,{...t,xcss:(0,a("1Whri").cx)(H.disabledBox)},o.createElement(a("2W0qg").default,{xcss:(0,a("1Whri").cx)(H.button,H.disabledButton),"aria-disabled":!0},o.createElement(a("u9agA").default,{alignBlock:"center",space:"space.100",xcss:(0,a("1Whri").cx)(H.inline)},o.createElement(e(a("ebrpi")),{label:"",color:"var(--ds-icon-warning, #E06C00)"}),o.createElement(a("gtD4K").default,{...f,values:{count:b}})))),h[2]=f,h[3]=b,h[4]=i):i=h[4],h[5]===Symbol.for("react.memo_cache_sentinel")?(n=[0,-70],h[5]=n):n=h[5],h[6]!==t||h[7]!==i?(r=o.createElement(a("lGgRw").default,{placement:"right",isOpen:!0,content:t,trigger:i,popupComponent:Q,offset:n,shouldRenderToParent:!0}),h[6]=t,h[7]=i,h[8]=r):r=h[8],r}let k=x&&H.disabledBox;h[9]!==k?(i=(0,a("1Whri").cx)(k),h[9]=k,h[10]=i):i=h[10];let A=x&&H.disabledButton,D=I===ee&&H.deleteButton;h[11]!==A||h[12]!==D?(n=(0,a("1Whri").cx)(H.button,H.activeButton,A,D),h[11]=A,h[12]=D,h[13]=n):n=h[13];let w=`${I}Button`;return h[14]!==b||h[15]!==w?(s={source:"contentTreeBulkActions",attributes:{name:w,selectedItemCount:b}},h[14]=b,h[15]=w,h[16]=s):s=h[16],h[17]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a("1Whri").cx)(H.inline),h[17]=l):l=h[17],h[18]!==v||h[19]!==_?(d=_?o.createElement(a("9hlns").default,{size:"small",appearance:"invert"}):v,h[18]=v,h[19]=_,h[20]=d):d=h[20],h[21]!==b?(c={count:b},h[21]=b,h[22]=c):c=h[22],h[23]!==f||h[24]!==c?(g=o.createElement(a("gtD4K").default,{...f,values:c}),h[23]=f,h[24]=c,h[25]=g):g=h[25],h[26]!==d||h[27]!==g?(u=o.createElement(a("u9agA").default,{alignBlock:"center",space:"space.100",xcss:l},d,g),h[26]=d,h[27]=g,h[28]=u):u=h[28],h[29]!==x||h[30]!==E||h[31]!==s||h[32]!==u||h[33]!==n?(p=o.createElement(a("2W0qg").default,{onClick:E,xcss:n,analyticsContext:s,"aria-disabled":x},u),h[29]=x,h[30]=E,h[31]=s,h[32]=u,h[33]=n,h[34]=p):p=h[34],h[35]!==p||h[36]!==i?(m=o.createElement(a("6f0Oj").default,{xcss:i},p),h[35]=p,h[36]=i,h[37]=m):m=h[37],m}:({actionText:t,actionIcon:i,actionName:n,count:r,onClick:s,isSelectionLimitReached:l=!1,actionLimit:d=0,isLoading:c=!1,isDisabled:g=!1})=>{let u=n!==et&&(0===r||c||g);return l?o.createElement(a("lGgRw").default,{placement:"right",isOpen:!0,content:()=>o.createElement(a("6f0Oj").default,{xcss:(0,a("1Whri").cx)(H.limitDialog)},o.createElement(a("u9agA").default,{alignBlock:"center",space:"space.100",xcss:(0,a("1Whri").cx)(H.inline)},o.createElement(a("gtD4K").default,{...G.overTheLimitWarning,values:{limit:d}}))),trigger:i=>o.createElement(a("6f0Oj").default,{...i,xcss:(0,a("1Whri").cx)(H.disabledBox)},o.createElement(a("2W0qg").default,{xcss:(0,a("1Whri").cx)(H.button,H.disabledButton),"aria-disabled":!0},o.createElement(a("u9agA").default,{alignBlock:"center",space:"space.100",xcss:(0,a("1Whri").cx)(H.inline)},o.createElement(e(a("ebrpi")),{label:"",color:"var(--ds-icon-warning, #E06C00)"}),o.createElement(a("gtD4K").default,{...t,values:{count:r}})))),popupComponent:Q,offset:[0,-70],shouldRenderToParent:!0}):o.createElement(a("6f0Oj").default,{xcss:(0,a("1Whri").cx)(u&&H.disabledBox)},o.createElement(a("2W0qg").default,{onClick:s,xcss:(0,a("1Whri").cx)(H.button,H.activeButton,u&&H.disabledButton,n===ee&&H.deleteButton),analyticsContext:{source:"contentTreeBulkActions",attributes:{name:`${n}Button`,selectedItemCount:r}},"aria-disabled":u},o.createElement(a("u9agA").default,{alignBlock:"center",space:"space.100",xcss:(0,a("1Whri").cx)(H.inline)},c?o.createElement(a("9hlns").default,{size:"small",appearance:"invert"}):i,o.createElement(a("gtD4K").default,{...t,values:{count:r}}))))},Q=(0,o.forwardRef)((0,n.isReactCompilerActiveV1)()?(e,t)=>{let i,n,s,l,d=(0,r.c)(8);return d[0]!==e?({children:i,...n}=e,d[0]=e,d[1]=i,d[2]=n):(i=d[1],n=d[2]),d[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a("gMc0m").default)([H.popup]),d[3]=s):s=d[3],d[4]!==i||d[5]!==n||d[6]!==t?(l=o.createElement("div",{...n,ref:t,className:s},i),d[4]=i,d[5]=n,d[6]=t,d[7]=l):l=d[7],l}:({children:e,...t},i)=>o.createElement("div",{...t,ref:i,className:(0,a("gMc0m").default)([H.popup])},e)),G=(0,a("cgtv4").defineMessages)({overTheLimitWarning:{id:"page-tree.bulk-actions-menu.over-the-limit-warning",defaultMessage:"This action can only be applied to {limit} items at a time. Please deselect some items to continue."}}),Y="contentTreeBulkActions",Z="bulkAction",J="clearSelection",X="bulkArchive",ee="bulkDelete",et="exit",ea=(0,n.isReactCompilerActiveV1)()?()=>{let t,i,n,s,l,d,c,g,u,p,m=(0,r.c)(44),h=(0,a("8C5kA").default)(),{createAnalyticsEvent:f}=(0,a("inPa6").useAnalyticsEvents)(),v=(0,o.useContext)(a("1kHsc").ExperienceTrackerContext),[I,b]=(0,a("bwL2u").useContentTreeSelection)(),{count:E,loadingDescendantIds:P}=I,{clearSelection:y,exitMultiSelect:S}=b,[C,T]=(0,o.useState)(!1),_=E>a("abCbd").BULK_DELETE_PAGE_SELECTION_LIMIT_DEFAULT,x=E>a("aqBZ0").BULK_ARCHIVE_PAGE_SELECTION_LIMIT,{getPrimaryActionInput:k,getCurrentSpace:A}=W(),D=P.size>0;m[0]!==f||m[1]!==S||m[2]!==C?(t=e=>{"Escape"!==e.key||C||(f({type:"sendTrackEvent",data:{source:Y,action:"closed",actionSubject:"bulkActionsMenu",attributes:{method:"escapeKey"}}}).fire(),S())},m[0]=f,m[1]=S,m[2]=C,m[3]=t):t=m[3];let w=t;m[4]!==w?(i=()=>(document.addEventListener("keydown",w),()=>{document.removeEventListener("keydown",w)}),n=[w],m[4]=w,m[5]=i,m[6]=n):(i=m[5],n=m[6]),(0,o.useEffect)(i,n),m[7]!==y||m[8]!==E||m[9]!==f||m[10]!==S||m[11]!==v||m[12]!==A||m[13]!==k||m[14]!==h?(s=(e,t)=>{T(!0);let i=k(),{spaceKey:n,spaceId:r}=A();f({type:"sendUIEvent",data:{source:Y,action:"clicked",actionSubject:"button",actionSubjectId:Z,attributes:{action:X,count:E}}}).fire(),v.start({name:a("irVI7").ARCHIVE_PAGES_EXPERIENCE,attributes:{featureName:Y}}),i instanceof Error?t.showErrorFlag({title:h.formatMessage(ei.flagErrorTitle),description:h.formatMessage(ei.flagErrorDescription)}):e.showModal(U.BulkArchivePagesLoader,{mutationOutputList:i,expectedPageCount:E,spaceKey:n??"",spaceId:r,onSuccess:()=>{f({type:"sendTrackEvent",data:{source:"bulkArchive",action:"completed",actionSubject:Z,attributes:{action:X,count:E}}}).fire(),S(),y(),T(!1)},onClose:()=>{T(!1)},featureName:Y})},m[7]=y,m[8]=E,m[9]=f,m[10]=S,m[11]=v,m[12]=A,m[13]=k,m[14]=h,m[15]=s):s=m[15];let M=s;m[16]!==E||m[17]!==f||m[18]!==S||m[19]!==v||m[20]!==A||m[21]!==k||m[22]!==h?(l=(e,t)=>{T(!0);let i=k(),{spaceKey:n,spaceId:r}=A();f({type:"sendUIEvent",data:{source:Y,action:"clicked",actionSubject:"button",actionSubjectId:Z,attributes:{action:ee,count:E}}}).fire(),v.start({name:a("irVI7").BULK_DELETE_PAGES_EXPERIENCE,attributes:{featureName:Y}}),i instanceof Error?t.showErrorFlag({title:h.formatMessage(ei.flagErrorTitle),description:h.formatMessage(ei.flagErrorDescription)}):e.showModal(z.BulkDeletePagesActionLoader,{mutationOutputList:i,expectedPageCount:E,spaceKey:n??"",spaceId:r,source:Y,onSuccess:()=>{f({type:"sendTrackEvent",data:{source:"bulkDelete",action:"completed",actionSubject:Z,attributes:{action:ee,count:E}}}).fire(),window.location.reload(),S(),T(!1)},onClose:()=>{T(!1)},featureName:Y})},m[16]=E,m[17]=f,m[18]=S,m[19]=v,m[20]=A,m[21]=k,m[22]=h,m[23]=l):l=m[23];let L=l;m[24]!==f||m[25]!==S?(d=()=>{f({type:"sendTrackEvent",data:{source:"contentTreeBulkActions",action:"closed",actionSubject:"bulkActionsMenu",attributes:{method:"exitActionButton"}}}).fire(),f({type:"sendUIEvent",data:{source:Y,action:"clicked",actionSubject:"button",actionSubjectId:Z,attributes:{action:et}}}).fire(),S()},m[24]=f,m[25]=S,m[26]=d):d=m[26];let R=d;m[27]===Symbol.for("react.memo_cache_sentinel")?(c=e(o).createElement(e(a("hmuev")),{label:""}),m[27]=c):c=m[27],m[28]!==y||m[29]!==E||m[30]!==D?(g=e(o).createElement(V,{actionText:ei.selected,actionIcon:c,actionName:J,count:E,onClick:y,isLoading:D}),m[28]=y,m[29]=E,m[30]=D,m[31]=g):g=m[31];let j=g;return m[32]===Symbol.for("react.memo_cache_sentinel")?(u=[a("kRW4Y").DialogsStateContainer,a("gqqjz").FlagsStateContainer],m[32]=u):u=m[32],m[33]!==E||m[34]!==j||m[35]!==M||m[36]!==L||m[37]!==R||m[38]!==h||m[39]!==x||m[40]!==_||m[41]!==D||m[42]!==C?(p=e(o).createElement(F.Subscribe,{to:u},(t,i)=>e(o).createElement(a("1GzhS").default,{space:"space.100",alignBlock:"start",xcss:en,role:"toolbar","aria-label":h.formatMessage(ei.bulkActionsLabel)},e(o).createElement(a("6F6hl").default,{role:"status","aria-live":"assertive","aria-atomic":"true"},h.formatMessage(ei.announceMenuOpen)),D?e(o).createElement(a("3gadb").default,{content:h.formatMessage(ei.loadingTooltip),position:"right"},j):j,e(o).createElement(V,{actionText:ei.archive,actionIcon:e(o).createElement(e(a("4WZ5N")),{label:""}),actionName:X,count:E,onClick:()=>M(t,i),isSelectionLimitReached:x,actionLimit:a("aqBZ0").BULK_ARCHIVE_PAGE_SELECTION_LIMIT,isDisabled:C}),e(o).createElement(V,{actionText:ei.delete,actionIcon:e(o).createElement(e(a("gKvd9")),{label:""}),actionName:ee,count:E,onClick:()=>L(t,i),isSelectionLimitReached:_,actionLimit:a("abCbd").BULK_DELETE_PAGE_SELECTION_LIMIT_DEFAULT,isDisabled:C}),e(o).createElement(a("6f0Oj").default,{xcss:er},e(o).createElement(V,{actionText:ei.exit,actionName:et,count:E,onClick:R})))),m[33]=E,m[34]=j,m[35]=M,m[36]=L,m[37]=R,m[38]=h,m[39]=x,m[40]=_,m[41]=D,m[42]=C,m[43]=p):p=m[43],p}:()=>{let t=(0,a("8C5kA").default)(),{createAnalyticsEvent:i}=(0,a("inPa6").useAnalyticsEvents)(),n=(0,o.useContext)(a("1kHsc").ExperienceTrackerContext),[{count:r,loadingDescendantIds:s},{clearSelection:l,exitMultiSelect:d}]=(0,a("bwL2u").useContentTreeSelection)(),[c,g]=(0,o.useState)(!1),u=r>a("abCbd").BULK_DELETE_PAGE_SELECTION_LIMIT_DEFAULT,p=r>a("aqBZ0").BULK_ARCHIVE_PAGE_SELECTION_LIMIT,{getPrimaryActionInput:m,getCurrentSpace:h}=W(),f=s.size>0,v=(0,o.useCallback)(e=>{"Escape"!==e.key||c||(i({type:"sendTrackEvent",data:{source:Y,action:"closed",actionSubject:"bulkActionsMenu",attributes:{method:"escapeKey"}}}).fire(),d())},[i,d,c]);(0,o.useEffect)(()=>(document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}),[v]);let I=(e,o)=>{g(!0);let s=m(),{spaceKey:c,spaceId:u}=h();i({type:"sendUIEvent",data:{source:Y,action:"clicked",actionSubject:"button",actionSubjectId:Z,attributes:{action:X,count:r}}}).fire(),n.start({name:a("irVI7").ARCHIVE_PAGES_EXPERIENCE,attributes:{featureName:Y}}),s instanceof Error?o.showErrorFlag({title:t.formatMessage(ei.flagErrorTitle),description:t.formatMessage(ei.flagErrorDescription)}):e.showModal(U.BulkArchivePagesLoader,{mutationOutputList:s,expectedPageCount:r,spaceKey:c??"",spaceId:u,onSuccess:()=>{i({type:"sendTrackEvent",data:{source:"bulkArchive",action:"completed",actionSubject:Z,attributes:{action:X,count:r}}}).fire(),d(),l(),g(!1)},onClose:()=>{g(!1)},featureName:Y})},b=(e,o)=>{g(!0);let s=m(),{spaceKey:l,spaceId:c}=h();i({type:"sendUIEvent",data:{source:Y,action:"clicked",actionSubject:"button",actionSubjectId:Z,attributes:{action:ee,count:r}}}).fire(),n.start({name:a("irVI7").BULK_DELETE_PAGES_EXPERIENCE,attributes:{featureName:Y}}),s instanceof Error?o.showErrorFlag({title:t.formatMessage(ei.flagErrorTitle),description:t.formatMessage(ei.flagErrorDescription)}):e.showModal(z.BulkDeletePagesActionLoader,{mutationOutputList:s,expectedPageCount:r,spaceKey:l??"",spaceId:c,source:Y,onSuccess:()=>{i({type:"sendTrackEvent",data:{source:"bulkDelete",action:"completed",actionSubject:Z,attributes:{action:ee,count:r}}}).fire(),window.location.reload(),d(),g(!1)},onClose:()=>{g(!1)},featureName:Y})},E=()=>{i({type:"sendTrackEvent",data:{source:"contentTreeBulkActions",action:"closed",actionSubject:"bulkActionsMenu",attributes:{method:"exitActionButton"}}}).fire(),i({type:"sendUIEvent",data:{source:Y,action:"clicked",actionSubject:"button",actionSubjectId:Z,attributes:{action:et}}}).fire(),d()},P=e(o).createElement(V,{actionText:ei.selected,actionIcon:e(o).createElement(e(a("hmuev")),{label:""}),actionName:J,count:r,onClick:l,isLoading:f});return e(o).createElement(F.Subscribe,{to:[a("kRW4Y").DialogsStateContainer,a("gqqjz").FlagsStateContainer]},(i,n)=>e(o).createElement(a("1GzhS").default,{space:"space.100",alignBlock:"start",xcss:en,role:"toolbar","aria-label":t.formatMessage(ei.bulkActionsLabel)},e(o).createElement(a("6F6hl").default,{role:"status","aria-live":"assertive","aria-atomic":"true"},t.formatMessage(ei.announceMenuOpen)),f?e(o).createElement(a("3gadb").default,{content:t.formatMessage(ei.loadingTooltip),position:"right"},P):P,e(o).createElement(V,{actionText:ei.archive,actionIcon:e(o).createElement(e(a("4WZ5N")),{label:""}),actionName:X,count:r,onClick:()=>I(i,n),isSelectionLimitReached:p,actionLimit:a("aqBZ0").BULK_ARCHIVE_PAGE_SELECTION_LIMIT,isDisabled:c}),e(o).createElement(V,{actionText:ei.delete,actionIcon:e(o).createElement(e(a("gKvd9")),{label:""}),actionName:ee,count:r,onClick:()=>b(i,n),isSelectionLimitReached:u,actionLimit:a("abCbd").BULK_DELETE_PAGE_SELECTION_LIMIT_DEFAULT,isDisabled:c}),e(o).createElement(a("6f0Oj").default,{xcss:er},e(o).createElement(V,{actionText:ei.exit,actionName:et,count:r,onClick:E}))))},ei=(0,a("cgtv4").defineMessages)({selected:{id:"page-tree.bulk-actions-menu.selected",defaultMessage:"{count, plural, one {# item} other {# items}} selected"},archive:{id:"page-tree.bulk-actions-menu.archive",defaultMessage:"Archive"},delete:{id:"page-tree.bulk-actions-menu.delete",defaultMessage:"Delete"},exit:{id:"page-tree.bulk-actions-menu.exit",defaultMessage:"Exit"},bulkActionsLabel:{id:"page-tree.bulk-actions-menu.label",defaultMessage:"Bulk actions menu"},announceMenuOpen:{id:"page-tree.bulk-actions-menu.announce-menu-open",defaultMessage:"Bulk actions menu for the content tree is open."},loadingTooltip:{id:"page-tree.bulk-actions-menu.loading-tooltip",defaultMessage:"We’re still processing your selection. This may take longer depending on the amount of content."},flagErrorTitle:{id:"page-tree.bulk-actions-menu.error.title",defaultMessage:"Something went wrong"},flagErrorDescription:{id:"page-tree.bulk-actions-menu.error.description",defaultMessage:"Refresh and try again. If this keeps happening, contact your space administrator."}}),en=(0,a("ecnYn").xcss)({position:"fixed",top:"calc(316px + var(--topNavigationHeight, 0px))",left:"calc(9px + var(--leftSidebarWidth, 0px))"}),er=(0,a("ecnYn").xcss)({paddingTop:"space.100"});var eo=a("c4LIS");let es=(0,a("eSUdr").default)`query useOneOnOnePagesAnalyticsGetCurrentUserPersonalSpaceQuery{user:confluence_atlassianUser(current:true){id confluence{hasPersonalSpace space{key}}}}`,el=["1:1","meeting","<>","weekly","biweekly","ongoing","running","sync","discussion","session","1-1"],ed=e=>{let{createAnalyticsEvent:t}=(0,a("inPa6").useAnalyticsEvents)(),i=(0,a("8Hyz1").usePostOfficeSideNavMessages)(),n=(0,o.useRef)(!1),[r,s]=(0,o.useState)(!1),l=(0,a("cLo2u").useSpaceKey)(),d=(0,a("7QM6o").useSpaceId)(),{data:c}=(0,a("jMyy4").useQueryInterop)(es,{skip:!r||!l});(0,o.useEffect)(()=>{if(!e||0===Object.keys(e).length||!l||!i)return;let o=Object.values(e).filter(e=>{let t=e.data?.title?.toLowerCase()||"",a=e.data?.fullTitle?.toLowerCase()||"";return el.some(e=>t.includes(e)||a.includes(e))});if(o.length>=1){if(!r)return void s(!0);let g=c?.user?.confluence?.space?.key;g&&l===g&&!n.current&&(t((0,a("88DkZ").oneOnOnePagesDetectedEvent)(o.length,Object.keys(e).length,d)).fire(),i.enablePostOfficeSideNavMessage("1_ON_1_LOOM_NUDGE"),n.current=!0)}},[e,t,d,l,c,r,i])},ec=()=>{},eg=(0,a("jmjWc").LoadableLazy)({__loadable_id__:"8EjeO",name:"PageTreeErrorComponentLoader",loader:async()=>(await a("i93qC")).PageTreeErrorComponent}),eu=(0,a("jmjWc").LoadableLazy)({__loadable_id__:"WY7o9",name:"PageTreeEmptyComponentLoader",loader:async()=>(await a("bObAT")).PageTreeEmptyComponent}),ep=(0,a("jmjWc").LoadableAfterPaint)({__loadable_id__:"GuqTT",name:"FooterCreateButtons",loader:async()=>(await a("eIgxN")).FooterCreateButtons}),em=(0,n.isReactCompilerActiveV1)()?()=>{let t,a=(0,r.c)(1),i=window.__SSR_NONCE_VALUE__;return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=e(o).createElement("script",{...void 0!==i?{nonce:i}:{},dangerouslySetInnerHTML:{__html:"(function(){\n  const rightChevrons = document.querySelectorAll('[data-testid=\"chevron-right\"]');\n  const downChevrons = document.querySelectorAll('[data-testid=\"chevron-down\"]');\n  const allChevrons = [...rightChevrons, ...downChevrons];\n  for(let i = 0; i <= allChevrons.length; i++){\n    allChevrons[i] ? allChevrons[i].onclick= function(e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }: null;\n  }\n})()"}}),a[0]=t):t=a[0],t}:()=>{let t=window.__SSR_NONCE_VALUE__;return e(o).createElement("script",{...void 0!==t?{nonce:t}:{},dangerouslySetInnerHTML:{__html:`(function(){
  const rightChevrons = document.querySelectorAll('[data-testid="chevron-right"]');
  const downChevrons = document.querySelectorAll('[data-testid="chevron-down"]');
  const allChevrons = [...rightChevrons, ...downChevrons];
  for(let i = 0; i <= allChevrons.length; i++){
    allChevrons[i] ? allChevrons[i].onclick= function(e) {
      e.preventDefault();
      e.stopPropagation();
    }: null;
  }
})()`}})},eh=(0,o.memo)((0,n.isReactCompilerActiveV1)()?t=>{let i,n,g,u,p,m,h,f,v,I,b,P,y,S,C,T,_,x,k,A,D,j,N,B,F,z,U,K,$=(0,r.c)(151),{currentPageId:W,isPeekingFromBlogs:H,isSuperAdmin:V,spaceKey:Q,statuses:G,expandSpaceHomepage:Y,onInitialLoadComplete:Z,onLoadMore:J,onDragStart:X,onPageMove:ee,setIsPageTreeLoading:et,onMoveInvalid:ei,renderItem:en,forceFetchCurrentPage:er,forceFetchedCallback:es,optimisticDeleteId:el,clearDeleteId:eh,highlightPages:ef,isDraggable:ev,syntheticItem:eI,detached:eb,syntheticItemIsDraft:eE,getIsDraggingItem:eP,setIsDraggingItem:ey,dragPreview:eS,renderResourcedEmoji:eC,setContentTreeSize:eT,isMovePageTree:e_,pageTreeStateUpdatesContainer:ex,isCreateContentRoute:ek,flags:eA}=t,eD=void 0===Z?ec:Z,ew=void 0===J?ec:J,eM=void 0===X?ec:X,eL=void 0===ee?ec:ee,eR=void 0===et?ec:et,ej=void 0!==er&&er;$[0]!==ef?(i=void 0===ef?[]:ef,$[0]=ef,$[1]=i):i=$[1];let eN=i,eO=void 0!==eb&&eb,eB=void 0!==ek&&ek;$[2]===Symbol.for("react.memo_cache_sentinel")?(n={previousPageId:"",previousSpaceKey:"",previousHighlightedPages:[],previousForceFetchCurrentPage:!1,loadingUseEffect:!1},$[2]=n):n=$[2];let eq=(0,o.useRef)(n),eF=(0,o.useRef)(!0),[ez,eU]=(0,c.usePageTreeState)(),[eK]=(0,a("2vuKf").useIsMultiSelectActive)(),{pages:e$,space:eW,rootId:eH,isTreeTruncatedPrevious:eV,isTreeTruncatedFollowing:eQ,isPageTreeLoading:eG}=ez,eY=(0,a("gz8ZY").useIsNav4Enabled)(),eZ=(0,a("e4o8D").useRenderServerPlaceholder)(),{match:eJ}=(0,o.useContext)(a("7zgzO").RoutesContext),[eX]=(0,c.useContentIdsWithLoadedChildren)(),e1=(0,eo.useNestedSelect)();$[3]!==e$||$[4]!==eT?(g=()=>{eT&&eT(Object.keys(e$).length)},u=[e$,eT],$[3]=e$,$[4]=eT,$[5]=g,$[6]=u):(g=$[5],u=$[6]),(0,o.useEffect)(g,u),$[7]!==ew||$[8]!==eW?.id?(p=(e,t)=>{ew&&ew(e,eW?.id,t)},$[7]=ew,$[8]=eW?.id,$[9]=p):p=$[9];let{loadPreviousPages:e0,loadFollowingPages:e2,reloadChildren:e4,queryChildren:e3}=M(Q,V,G,p),{refetch:e5}=L("1",!0,!1,eO,Q,V),{refetch:e9}=L("1",!0,!0,eO,Q,V),{refetch:e7}=L(void 0,!0,!0,eO,Q,V),e6=R(Q,void 0!==Y&&Y,eI,H,V,G,eE,ex);$[10]!==eU||$[11]!==eJ?.name?(m=e=>{e?.ptpage===null&&e?.currentPage!==null&&e?.space?.homepage!==null&&eJ?.name===a("1NBp8").SPACE_OVERVIEW.name&&eU.handleLoadingError(new(0,a("422HI").ApolloErrorInterop)({errorMessage:"ptpage query unexpectedly returned null"}))},$[10]=eU,$[11]=eJ?.name,$[12]=m):m=$[12],eJ?.name;let e8=m;$[13]!==eU||$[14]!==ej||$[15]!==es||$[16]!==e8||$[17]!==ez||$[18]!==e6?(h=async e=>{let{data:t,error:a}=e;return(e8(t),a)?eF.current&&eU.handleLoadingError(a):(eU.setIsPageTreeLoading(!1),e6(t),ej&&es&&es(ez)),t},$[13]=eU,$[14]=ej,$[15]=es,$[16]=e8,$[17]=ez,$[18]=e6,$[19]=h):h=$[19];let te=h;$[20]!==ei||$[21]!==eL||$[22]!==e3||$[23]!==eI?(f={onMoveInvalid:ei,syntheticItem:eI,onPageMove:eL,queryChildren:e3},$[20]=ei,$[21]=eL,$[22]=e3,$[23]=eI,$[24]=f):f=$[24];let tt=O(f);$[25]!==eG||$[26]!==eR?(v=()=>{eR(eG)},$[25]=eG,$[26]=eR,$[27]=v):v=$[27];let ta=v;$[28]!==eU||$[29]!==eh||$[30]!==W||$[31]!==eO||$[32]!==e7||$[33]!==ta||$[34]!==ej||$[35]!==e9||$[36]!==te||$[37]!==eN||$[38]!==eB||$[39]!==V||$[40]!==e5||$[41]!==el||$[42]!==e$||$[43]!==e3||$[44]!==eW?.homepage?.id||$[45]!==Q?(I=()=>{if(eB)return;let{previousPageId:t,previousSpaceKey:i,previousHighlightedPages:n,previousForceFetchCurrentPage:r}=eq.current,{options:o}=w(W,!0,!1,eO,Q,V),l=W?e5:e7,d=async()=>{let a=()=>e9(o.variables).then(e=>te(e)).catch(e=>te({error:e}));if(W&&(ej||t!==W)){let o=e$[W];if(ej&&!r)return a();if(eN.length&&!e(s)(n,eN)){let e=e$[eN[0]];if(!e)return a();if(e)return eU.expandPage(e,e3)}else if(!o||o.data.isOptimistic||Q!==i&&""!==i)return a();else if(!window.__SSR_RENDERED__&&""===t)return a();else if(W!==eW?.homepage?.id&&t!==W&&o&&(o.hasChildren||"folder"===o.data.type))return eU.expandPage(o,e3)}if(!W&&Q!==i)return l(o.variables).then(e=>te(e)).catch(e=>te({error:e}))};el&&(0,a("9wGTI").fg)("confluence_publish_move_fix")&&eU.optimisticDeleteContent(el,eh),eq.current.loadingUseEffect&&(!ej||r)||(eq.current.loadingUseEffect=!0,d().then(e=>{e&&ta(),eq.current.loadingUseEffect=!1}).catch(e=>te({error:e}))),eq.current.previousPageId=W,eq.current.previousSpaceKey=Q,eq.current.previousHighlightedPages=eN,eq.current.previousForceFetchCurrentPage=ej,Object.keys(e$).length>=0&&eU.updatePersistedState()},$[28]=eU,$[29]=eh,$[30]=W,$[31]=eO,$[32]=e7,$[33]=ta,$[34]=ej,$[35]=e9,$[36]=te,$[37]=eN,$[38]=eB,$[39]=V,$[40]=e5,$[41]=el,$[42]=e$,$[43]=e3,$[44]=eW?.homepage?.id,$[45]=Q,$[46]=I):I=$[46];let ti=eW?.homepage?.id;$[47]!==eU||$[48]!==eh||$[49]!==W||$[50]!==eO||$[51]!==e7||$[52]!==ta||$[53]!==ej||$[54]!==e9||$[55]!==es||$[56]!==te||$[57]!==eN||$[58]!==eB||$[59]!==H||$[60]!==V||$[61]!==e5||$[62]!==el||$[63]!==e$||$[64]!==e3||$[65]!==Q||$[66]!==ez||$[67]!==eI||$[68]!==eE||$[69]!==ti?(b=[eU,W,eU.expandPage,ej,e9,eN,e5,e7,e$,Q,es,e3,ta,eO,te,V,H,ez,eI,eE,eB,eh,el,ti],$[47]=eU,$[48]=eh,$[49]=W,$[50]=eO,$[51]=e7,$[52]=ta,$[53]=ej,$[54]=e9,$[55]=es,$[56]=te,$[57]=eN,$[58]=eB,$[59]=H,$[60]=V,$[61]=e5,$[62]=el,$[63]=e$,$[64]=e3,$[65]=Q,$[66]=ez,$[67]=eI,$[68]=eE,$[69]=ti,$[70]=b):b=$[70],(0,o.useEffect)(I,b),$[71]===Symbol.for("react.memo_cache_sentinel")?(P=()=>()=>{eF.current=!1},y=[],$[71]=P,$[72]=y):(P=$[71],y=$[72]),(0,o.useEffect)(P,y),$[73]!==eU?(S=e=>{eU.optimisticInsertContent(e)},$[73]=eU,$[74]=S):S=$[74],(0,a("ficwO").useMessageSubscriber)(a("ficwO").Message.ContentCreated,S),ed(e$),$[75]!==e$||$[76]!==eH?(C={rootId:eH,items:e$},$[75]=e$,$[76]=eH,$[77]=C):C=$[77];let tn=C;$[78]!==eU||$[79]!==tt||$[80]!==eI?(T=async e=>{if(!eI)return;let t=eI.id;if(e.id===t)return;let{pages:a}=eU.getState(),i=Object.keys(a).find(e=>a[e]?.data?.hasSyntheticChild||a[e]?.children?.includes(t));if(!i)return;let n={parentId:i,index:a[i]?.children?.indexOf(t)},r={parentId:e.id};-1!==n.index&&tt(n,r)},$[78]=eU,$[79]=tt,$[80]=eI,$[81]=T):T=$[81];let tr=T,to=(0,o.useRef)(null);$[82]!==eU||$[83]!==eX||$[84]!==eA||$[85]!==eK||$[86]!==e3||$[87]!==e1?(_=e=>{(0,a("9eE57").perfMarkStart)({subject:"PageTree",subjectId:"expandPage"});let t=eX?.has(e.id)??!1;eU.expandPage(e,e3).then(()=>{eK&&!t&&eA&&e1(e.id,!1,eA)}),to.current=e.id},$[82]=eU,$[83]=eX,$[84]=eA,$[85]=eK,$[86]=e3,$[87]=e1,$[88]=_):_=$[88];let ts=_;$[89]!==ev||$[90]!==eW?(x=e=>ev(e,{space:eW}),$[89]=ev,$[90]=eW,$[91]=x):x=$[91];let tl=x;$[92]!==eU.getCurrentTreeSize||$[93]!==eU.updateSinglePage||$[94]!==eP||$[95]!==eY||$[96]!==tr||$[97]!==en||$[98]!==eC||$[99]!==eW?.homepage?.id||$[100]!==eW?.id?(k=t=>{let a,i=eW?.homepage?.id,n=t?.item?.data?.emoji,r=t?.item?.data?.type;return n&&"embed"!==r&&(a=e(o).createElement(l.LazyEmojiComponentLoader,{emoji:n,context:"pageTree",height:14,key:n,wrapper:eY?d.Nav4EmojiWrapper:d.EmojiWrapper,renderResourcedEmoji:eC})),en({...t,spaceHomePageId:i,onClick:tr,updateSinglePage:eU.updateSinglePage,getIsDraggingItem:eP,spaceId:eW?.id,emoji:a,getContentTreeSize:eU.getCurrentTreeSize,justExpanded:t.item.id===to.current})},$[92]=eU.getCurrentTreeSize,$[93]=eU.updateSinglePage,$[94]=eP,$[95]=eY,$[96]=tr,$[97]=en,$[98]=eC,$[99]=eW?.homepage?.id,$[100]=eW?.id,$[101]=k):k=$[101],eW?.homepage?.id,eW?.id;let td=k;$[102]!==eM?(A=()=>{eM?.()},$[102]=eM,$[103]=A):A=$[103];let tc=A;if(ez.error){let t;return $[104]!==ez.error.apolloError||$[105]!==ez.error.isExpected?(t=e(o).createElement(eg,{error:ez.error.apolloError,isExpected:ez.error.isExpected}),$[104]=ez.error.apolloError,$[105]=ez.error.isExpected,$[106]=t):t=$[106],t}let tg=!eO&&""!==Q&&!eK;if(!eG&&(eW?.homepage?.id&&eH==eW?.homepage?.id&&e$[eH]?.children?.length==0||!eW?.homepage?.id&&Object.keys(e$).length<=2||eW?.homepage?.id&&eH!=eW?.homepage?.id&&Object.keys(e$).length<3)){let t;return $[107]!==eU||$[108]!==eG||$[109]!==eD||$[110]!==eH||$[111]!==tg||$[112]!==Q?(t=e(o).createElement(eu,{rootId:eH,spaceKey:Q,isPageTreeLoading:eG,showFooterCreateButtons:tg,onInitialLoadComplete:eD,actions:eU}),$[107]=eU,$[108]=eG,$[109]=eD,$[110]=eH,$[111]=tg,$[112]=Q,$[113]=t):t=$[113],t}return $[114]!==e_?(D=!e_&&{renderItemEmptyState:q},$[114]=e_,$[115]=D):D=$[115],$[116]!==eU.collapsePage||$[117]!==eS||$[118]!==ts||$[119]!==eY||$[120]!==eG||$[121]!==tl||$[122]!==eQ||$[123]!==eV||$[124]!==e2||$[125]!==e0||$[126]!==tn||$[127]!==tt||$[128]!==tc||$[129]!==eD||$[130]!==td||$[131]!==ey||$[132]!==D?(j=e(o).createElement(a("5izcQ").default,{name:"pagetree"},e(o).createElement(E,{isDraggable:tl,isTreeTruncatedPrevious:eV,isTreeTruncatedFollowing:eQ,loadPreviousPages:e0,loadFollowingPages:e2,onCollapse:eU.collapsePage,onDragStart:tc,onDragEnd:tt,onExpand:ts,onInitialLoadComplete:eD,isNav4Enabled:eY,tree:tn,loading:eG,renderItem:td,...D,setIsDraggingItem:ey,dragPreview:eS})),$[116]=eU.collapsePage,$[117]=eS,$[118]=ts,$[119]=eY,$[120]=eG,$[121]=tl,$[122]=eQ,$[123]=eV,$[124]=e2,$[125]=e0,$[126]=tn,$[127]=tt,$[128]=tc,$[129]=eD,$[130]=td,$[131]=ey,$[132]=D,$[133]=j):j=$[133],$[134]!==eG||$[135]!==tg||$[136]!==Q?(N=tg&&e(o).createElement(ep,{spaceKey:Q,isContentTreeLoading:eG}),$[134]=eG,$[135]=tg,$[136]=Q,$[137]=N):N=$[137],$[138]!==eK?(B=eK&&e(o).createElement(ea,null),$[138]=eK,$[139]=B):B=$[139],$[140]===Symbol.for("react.memo_cache_sentinel")?(F=[a("c0urc").ReloadType.content],$[140]=F):F=$[140],$[141]!==e4?(z=e(o).createElement(a("3Xs1I").QuickReloadSubscriber,{name:"pagetree",types:F,reload:e4}),$[141]=e4,$[142]=z):z=$[142],$[143]!==eZ?(U=eZ&&e(o).createElement(em,null),$[143]=eZ,$[144]=U):U=$[144],$[145]!==j||$[146]!==N||$[147]!==B||$[148]!==z||$[149]!==U?(K=e(o).createElement(o.Fragment,null,j,N,B,z,U),$[145]=j,$[146]=N,$[147]=B,$[148]=z,$[149]=U,$[150]=K):K=$[150],K}:({currentPageId:t,isPeekingFromBlogs:i,isSuperAdmin:n,spaceKey:r,statuses:g,expandSpaceHomepage:u=!1,onInitialLoadComplete:p=ec,onLoadMore:m=ec,onDragStart:h=ec,onPageMove:f=ec,setIsPageTreeLoading:v=ec,onMoveInvalid:I,renderItem:b,forceFetchCurrentPage:P=!1,forceFetchedCallback:y,optimisticDeleteId:S,clearDeleteId:C,highlightPages:T=[],isDraggable:_,syntheticItem:x,detached:k=!1,syntheticItemIsDraft:A,getIsDraggingItem:D,setIsDraggingItem:j,dragPreview:N,renderResourcedEmoji:B,setContentTreeSize:F,isMovePageTree:z,pageTreeStateUpdatesContainer:U,isCreateContentRoute:K=!1,flags:$})=>{let W=(0,o.useRef)({previousPageId:"",previousSpaceKey:"",previousHighlightedPages:[],previousForceFetchCurrentPage:!1,loadingUseEffect:!1}),H=(0,o.useRef)(!0),[V,Q]=(0,c.usePageTreeState)(),[G]=(0,a("2vuKf").useIsMultiSelectActive)(),{pages:Y,space:Z,rootId:J,isTreeTruncatedPrevious:X,isTreeTruncatedFollowing:ee,isPageTreeLoading:et}=V,ei=(0,a("gz8ZY").useIsNav4Enabled)(),en=(0,a("e4o8D").useRenderServerPlaceholder)(),{match:er}=(0,o.useContext)(a("7zgzO").RoutesContext),[es]=(0,c.useContentIdsWithLoadedChildren)(),el=(0,eo.useNestedSelect)();(0,o.useEffect)(()=>{F&&F(Object.keys(Y).length)},[Y,F]);let{loadPreviousPages:eh,loadFollowingPages:ef,reloadChildren:ev,queryChildren:eI}=M(r,n,g,(0,o.useCallback)((e,t)=>{m&&m(e,Z?.id,t)},[m,Z])),{refetch:eb}=L("1",!0,!1,k,r,n),{refetch:eE}=L("1",!0,!0,k,r,n),{refetch:eP}=L(void 0,!0,!0,k,r,n),ey=R(r,u,x,i,n,g,A,U),eS=(0,o.useCallback)(e=>{e?.ptpage===null&&e?.currentPage!==null&&e?.space?.homepage!==null&&er?.name===a("1NBp8").SPACE_OVERVIEW.name&&Q.handleLoadingError(new(0,a("422HI").ApolloErrorInterop)({errorMessage:"ptpage query unexpectedly returned null"}))},[Q,er?.name]),eC=(0,o.useCallback)(async e=>{let{data:t,error:a}=e;return(eS(t),a)?H.current&&Q.handleLoadingError(a):(Q.setIsPageTreeLoading(!1),ey(t),P&&y&&y(V)),t},[ey,Q,P,y,V,eS]),eT=O({onMoveInvalid:I,syntheticItem:x,onPageMove:f,queryChildren:eI}),e_=(0,o.useCallback)(()=>{v(et)},[v,et]);(0,o.useEffect)(()=>{if(K)return;let{previousPageId:i,previousSpaceKey:o,previousHighlightedPages:l,previousForceFetchCurrentPage:d}=W.current,{options:c}=w(t,!0,!1,k,r,n),g=t?eb:eP,u=async()=>{let a=()=>eE(c.variables).then(e=>eC(e)).catch(e=>eC({error:e}));if(t&&(P||i!==t)){let n=Y[t];if(P&&!d)return a();if(T.length&&!e(s)(l,T)){let e=Y[T[0]];if(!e)return a();if(e)return Q.expandPage(e,eI)}else if(!n||n.data.isOptimistic||r!==o&&""!==o)return a();else if(!window.__SSR_RENDERED__&&""===i)return a();else if(t!==Z?.homepage?.id&&i!==t&&n&&(n.hasChildren||"folder"===n.data.type))return Q.expandPage(n,eI)}if(!t&&r!==o)return g(c.variables).then(e=>eC(e)).catch(e=>eC({error:e}))};S&&(0,a("9wGTI").fg)("confluence_publish_move_fix")&&Q.optimisticDeleteContent(S,C),W.current.loadingUseEffect&&(!P||d)||(W.current.loadingUseEffect=!0,u().then(e=>{e&&e_(),W.current.loadingUseEffect=!1}).catch(e=>eC({error:e}))),W.current.previousPageId=t,W.current.previousSpaceKey=r,W.current.previousHighlightedPages=T,W.current.previousForceFetchCurrentPage=P,Object.keys(Y).length>=0&&Q.updatePersistedState()},[Q,t,Q.expandPage,P,eE,T,eb,eP,Y,r,y,eI,e_,k,eC,n,i,V,x,A,K,C,S,Z?.homepage?.id]),(0,o.useEffect)(()=>()=>{H.current=!1},[]),(0,a("ficwO").useMessageSubscriber)(a("ficwO").Message.ContentCreated,(0,o.useCallback)(e=>{Q.optimisticInsertContent(e)},[Q])),ed(Y);let ex=(0,o.useMemo)(()=>({rootId:J,items:Y}),[J,Y]),ek=(0,o.useCallback)(async e=>{if(!x)return;let t=x.id;if(e.id===t)return;let{pages:a}=Q.getState(),i=Object.keys(a).find(e=>a[e]?.data?.hasSyntheticChild||a[e]?.children?.includes(t));if(!i)return;let n={parentId:i,index:a[i]?.children?.indexOf(t)},r={parentId:e.id};-1!==n.index&&eT(n,r)},[x,Q,eT]),eA=(0,o.useRef)(null),eD=(0,o.useCallback)(e=>{(0,a("9eE57").perfMarkStart)({subject:"PageTree",subjectId:"expandPage"});let t=es?.has(e.id)??!1;Q.expandPage(e,eI).then(()=>{G&&!t&&$&&el(e.id,!1,$)}),eA.current=e.id},[es,Q,eI,G,el,$]),ew=(0,o.useCallback)(e=>_(e,{space:Z}),[Z,_]),eM=(0,o.useCallback)(t=>{let a,i=Z?.homepage?.id,n=t?.item?.data?.emoji,r=t?.item?.data?.type;return n&&"embed"!==r&&(a=e(o).createElement(l.LazyEmojiComponentLoader,{emoji:n,context:"pageTree",height:14,key:n,wrapper:ei?d.Nav4EmojiWrapper:d.EmojiWrapper,renderResourcedEmoji:B})),b({...t,spaceHomePageId:i,onClick:ek,updateSinglePage:Q.updateSinglePage,getIsDraggingItem:D,spaceId:Z?.id,emoji:a,getContentTreeSize:Q.getCurrentTreeSize,justExpanded:t.item.id===eA.current})},[Z?.homepage?.id,Z?.id,b,ek,Q.updateSinglePage,Q.getCurrentTreeSize,D,ei,B,eA]),eL=(0,o.useCallback)(()=>{h?.()},[h]);if(V.error)return e(o).createElement(eg,{error:V.error.apolloError,isExpected:V.error.isExpected});let eR=!k&&""!==r&&!G;return!et&&(Z?.homepage?.id&&J==Z?.homepage?.id&&Y[J]?.children?.length==0||!Z?.homepage?.id&&Object.keys(Y).length<=2||Z?.homepage?.id&&J!=Z?.homepage?.id&&Object.keys(Y).length<3)?e(o).createElement(eu,{rootId:J,spaceKey:r,isPageTreeLoading:et,showFooterCreateButtons:eR,onInitialLoadComplete:p,actions:Q}):e(o).createElement(o.Fragment,null,e(o).createElement(a("5izcQ").default,{name:"pagetree"},e(o).createElement(E,{isDraggable:ew,isTreeTruncatedPrevious:X,isTreeTruncatedFollowing:ee,loadPreviousPages:eh,loadFollowingPages:ef,onCollapse:Q.collapsePage,onDragStart:eL,onDragEnd:eT,onExpand:eD,onInitialLoadComplete:p,isNav4Enabled:ei,tree:ex,loading:et,renderItem:eM,...!z&&{renderItemEmptyState:q},setIsDraggingItem:j,dragPreview:N})),eR&&e(o).createElement(ep,{spaceKey:r,isContentTreeLoading:et}),G&&e(o).createElement(ea,null),e(o).createElement(a("3Xs1I").QuickReloadSubscriber,{name:"pagetree",types:[a("c0urc").ReloadType.content],reload:ev}),en&&e(o).createElement(em,null))}),ef=(0,n.isReactCompilerActiveV1)()?t=>{let i,n,s,l,d,g=(0,r.c)(54);g[0]!==t?({...i}=t,n=w(i.currentPageId,!0,!1,!1,i.spaceKey,i.isSuperAdmin),g[0]=t,g[1]=i,g[2]=n):(i=g[1],n=g[2]);let{query:u,options:p}=n;g[3]!==p.variables?(s={variables:p.variables,fetchPolicy:"cache-only"},g[3]=p.variables,g[4]=s):s=g[4];let{data:m,error:h}=(0,a("xQxzY").useQuery)(u,s),[f]=(0,a("ep3mz").usePageState)(),{contentId:v}=f,I=i.detached?i.currentPageId:v;if(h){let t;return g[5]!==h?(t=e(o).createElement(eg,{error:h}),g[5]=h,g[6]=t):t=g[6],t}return g[7]!==i.clearDeleteId||g[8]!==i.currentPageId||g[9]!==i.detached||g[10]!==i.dragPreview||g[11]!==i.expandSpaceHomepage||g[12]!==i.flags||g[13]!==i.forceFetchCurrentPage||g[14]!==i.forceFetchedCallback||g[15]!==i.getIsDraggingItem||g[16]!==i.highlightPages||g[17]!==i.isCreateContentRoute||g[18]!==i.isDraggable||g[19]!==i.isMovePageTree||g[20]!==i.isPeekingFromBlogs||g[21]!==i.isSuperAdmin||g[22]!==i.onDragStart||g[23]!==i.onInitialLoadComplete||g[24]!==i.onLoadMore||g[25]!==i.onMoveInvalid||g[26]!==i.onPageMove||g[27]!==i.optimisticDeleteId||g[28]!==i.pageTreeStateUpdatesContainer||g[29]!==i.renderItem||g[30]!==i.renderResourcedEmoji||g[31]!==i.setContentTreeSize||g[32]!==i.setIsDraggingItem||g[33]!==i.setIsPageTreeLoading||g[34]!==i.setOpenQuickActionsId||g[35]!==i.spaceKey||g[36]!==i.statuses||g[37]!==i.syntheticItem||g[38]!==i.syntheticItemIsDraft||g[39]!==v?(l=e(o).createElement(eh,{currentPageId:i.currentPageId,isPeekingFromBlogs:i.isPeekingFromBlogs,isSuperAdmin:i.isSuperAdmin,spaceKey:i.spaceKey,statuses:i.statuses,setIsPageTreeLoading:i.setIsPageTreeLoading,expandSpaceHomepage:i.expandSpaceHomepage,onInitialLoadComplete:i.onInitialLoadComplete,onLoadMore:i.onLoadMore,onDragStart:i.onDragStart,onPageMove:i.onPageMove,onMoveInvalid:i.onMoveInvalid,renderItem:i.renderItem,isDraggable:i.isDraggable,syntheticItem:i.syntheticItem,detached:i.detached,syntheticItemIsDraft:i.syntheticItemIsDraft,forceFetchCurrentPage:i.forceFetchCurrentPage,forceFetchedCallback:i.forceFetchedCallback,optimisticDeleteId:i.optimisticDeleteId,clearDeleteId:i.clearDeleteId,highlightPages:i.highlightPages,getIsDraggingItem:i.getIsDraggingItem,setIsDraggingItem:i.setIsDraggingItem,setOpenQuickActionsId:i.setOpenQuickActionsId,dragPreview:i.dragPreview,renderResourcedEmoji:i.renderResourcedEmoji,setContentTreeSize:i.setContentTreeSize,selectedPageId:v,isMovePageTree:i.isMovePageTree,pageTreeStateUpdatesContainer:i.pageTreeStateUpdatesContainer,isCreateContentRoute:i.isCreateContentRoute,flags:i.flags}),g[7]=i.clearDeleteId,g[8]=i.currentPageId,g[9]=i.detached,g[10]=i.dragPreview,g[11]=i.expandSpaceHomepage,g[12]=i.flags,g[13]=i.forceFetchCurrentPage,g[14]=i.forceFetchedCallback,g[15]=i.getIsDraggingItem,g[16]=i.highlightPages,g[17]=i.isCreateContentRoute,g[18]=i.isDraggable,g[19]=i.isMovePageTree,g[20]=i.isPeekingFromBlogs,g[21]=i.isSuperAdmin,g[22]=i.onDragStart,g[23]=i.onInitialLoadComplete,g[24]=i.onLoadMore,g[25]=i.onMoveInvalid,g[26]=i.onPageMove,g[27]=i.optimisticDeleteId,g[28]=i.pageTreeStateUpdatesContainer,g[29]=i.renderItem,g[30]=i.renderResourcedEmoji,g[31]=i.setContentTreeSize,g[32]=i.setIsDraggingItem,g[33]=i.setIsPageTreeLoading,g[34]=i.setOpenQuickActionsId,g[35]=i.spaceKey,g[36]=i.statuses,g[37]=i.syntheticItem,g[38]=i.syntheticItemIsDraft,g[39]=v,g[40]=l):l=g[40],g[41]!==m||g[42]!==I||g[43]!==i.detached||g[44]!==i.highlightPages||g[45]!==i.isPeekingFromBlogs||g[46]!==i.onCollapse||g[47]!==i.onExpand||g[48]!==i.onLoadError||g[49]!==i.spaceKey||g[50]!==i.syntheticItem||g[51]!==i.syntheticItemIsDraft||g[52]!==l?(d=e(o).createElement(c.PageTreeStateContainer,{currentPageId:I,highlightPages:i.highlightPages,initialData:m,spaceKey:i.spaceKey,syntheticItem:i.syntheticItem,onExpand:i.onExpand,onCollapse:i.onCollapse,onLoadError:i.onLoadError,syntheticItemIsDraft:i.syntheticItemIsDraft,isPeekingFromBlogs:i.isPeekingFromBlogs,detached:i.detached},l),g[41]=m,g[42]=I,g[43]=i.detached,g[44]=i.highlightPages,g[45]=i.isPeekingFromBlogs,g[46]=i.onCollapse,g[47]=i.onExpand,g[48]=i.onLoadError,g[49]=i.spaceKey,g[50]=i.syntheticItem,g[51]=i.syntheticItemIsDraft,g[52]=l,g[53]=d):d=g[53],d}:({...t})=>{let{query:i,options:n}=w(t.currentPageId,!0,!1,!1,t.spaceKey,t.isSuperAdmin),{data:r,error:s}=(0,a("xQxzY").useQuery)(i,{variables:n.variables,fetchPolicy:"cache-only"}),[{contentId:l}]=(0,a("ep3mz").usePageState)(),d=t.detached?t.currentPageId:l;return s?e(o).createElement(eg,{error:s}):e(o).createElement(c.PageTreeStateContainer,{currentPageId:d,highlightPages:t.highlightPages,initialData:r,spaceKey:t.spaceKey,syntheticItem:t.syntheticItem,onExpand:t.onExpand,onCollapse:t.onCollapse,onLoadError:t.onLoadError,syntheticItemIsDraft:t.syntheticItemIsDraft,isPeekingFromBlogs:t.isPeekingFromBlogs,detached:t.detached},e(o).createElement(eh,{currentPageId:t.currentPageId,isPeekingFromBlogs:t.isPeekingFromBlogs,isSuperAdmin:t.isSuperAdmin,spaceKey:t.spaceKey,statuses:t.statuses,setIsPageTreeLoading:t.setIsPageTreeLoading,expandSpaceHomepage:t.expandSpaceHomepage,onInitialLoadComplete:t.onInitialLoadComplete,onLoadMore:t.onLoadMore,onDragStart:t.onDragStart,onPageMove:t.onPageMove,onMoveInvalid:t.onMoveInvalid,renderItem:t.renderItem,isDraggable:t.isDraggable,syntheticItem:t.syntheticItem,detached:t.detached,syntheticItemIsDraft:t.syntheticItemIsDraft,forceFetchCurrentPage:t.forceFetchCurrentPage,forceFetchedCallback:t.forceFetchedCallback,optimisticDeleteId:t.optimisticDeleteId,clearDeleteId:t.clearDeleteId,highlightPages:t.highlightPages,getIsDraggingItem:t.getIsDraggingItem,setIsDraggingItem:t.setIsDraggingItem,setOpenQuickActionsId:t.setOpenQuickActionsId,dragPreview:t.dragPreview,renderResourcedEmoji:t.renderResourcedEmoji,setContentTreeSize:t.setContentTreeSize,selectedPageId:l,isMovePageTree:t.isMovePageTree,pageTreeStateUpdatesContainer:t.pageTreeStateUpdatesContainer,isCreateContentRoute:t.isCreateContentRoute,flags:t.flags}))};t.exports.PageTreeCoordinator=ef}),i("1ewPd",function(e,t){e.exports=a("4mJKd")(5)("f9QHk").then(()=>a("e14IX"))}),i("i93qC",function(e,t){e.exports=a("4mJKd")(5)("3L1uC").then(()=>a("akCro"))}),i("bObAT",function(e,t){e.exports=a("4mJKd")(5)("ewwba").then(()=>a("2gSlC"))}),i("eIgxN",function(e,t){let i=a("4mJKd")(5);e.exports=Promise.all([i("7u4WP"),i("dhqJV")]).then(()=>a("fzbVm"))}),i("6CrbN",function(e,t){var i=a("3u0dr"),n=a("42omo");function r(){let e=!1;return{setIsDraggingItem(t){e=t},getIsDraggingItem:()=>e}}let o=(0,i.isReactCompilerActiveV1)()?function(){let[e]=(0,n.useState)(r);return e}:function(){let[e]=(0,n.useState)(r);return e};e.exports.useIsDragging=o}),i("bP5d8",function(e,t){let i=(0,a("cgtv4").defineMessages)({flagErrorTitle:{id:"page-tree.dragndrop.failed.title",defaultMessage:"Something went wrong"},flagErrorDescription:{id:"page-tree.dragndrop.failed.description",defaultMessage:"Refresh and try again. If this keeps happening, contact your space administrator."},paginateErrorDescription:{id:"page-tree.paginate-content.failed.description",defaultMessage:"We encountered a network error while loading more content. Refresh and try again. If this keeps happening, contact your space administrator."},flagMovePagePermissionErrorTitle:{id:"page-tree.dragndrop.permissions.error.title",defaultMessage:"You can't move this content"},flagMovePagePermissionErrorDescription:{id:"page-tree.dragndrop.permissions.error.decription",defaultMessage:"You don't have permission to move this restricted content. Contact your space administrator."},flagUndoTitle:{id:"page-tree.dragndrop.undo.title",defaultMessage:'Moved "{pageTitle}"'},flagUndoUntitled:{id:"page-tree.dragndrop.undo.untitled",defaultMessage:'Moved "Untitled"'},flagUndoAction:{id:"page-tree.dragndrop.undo.action",defaultMessage:"Undo"},flagLargePageTreeTitle:{id:"page-tree.dragndrop.lpt.title",defaultMessage:"We can't move this content"},flagLargePageTreeDescription:{id:"page-tree.dragndrop.lpt.description",defaultMessage:"Drag and drop is not available for a list of 500 or more. Refresh and try again without expanding the content tree."},flagLargePageTreeSettingsAction:{id:"page-tree.dragndrop.lpt.settings.action",defaultMessage:"Go to space settings"},flagLargePageTreeRefreshAction:{id:"page-tree.dragndrop.lpt.refresh.action",defaultMessage:"Refresh page"},flagInvalidMoveDraftTitle:{id:"page-tree.dragndrop.invalid-move-draft.title",defaultMessage:"You can't move content under a draft"},flagInvalidMoveDraftDescription:{id:"page-tree.dragndrop.invalid-move-draft.description",defaultMessage:"Publish the draft to move content here."},untitledDraftText:{id:"page-tree.untitled-draft",defaultMessage:"Untitled"}});e.exports.i18n=i}),i("jGj7w",function(t,i){var n=a("da6ky"),r=a("k0x5M");let o={expandedPages:new Set,loadingPages:new Set,pages:{},space:null,spaceKey:null,rootId:null,isTreeTruncatedPrevious:!1,isTreeTruncatedFollowing:!1,cursors:{},initialPages:{},error:null,blogPeekRoot:void 0,focusedPageId:null,isPageTreeLoading:!0,contentIdsWithLoadedChildren:new Set},s=o,l=e=>Object.keys(s.pages).length>0&&s.spaceKey===e,d={initializeState:()=>({setState:e,dispatch:t},{currentPageId:a,spaceKey:i,highlightPages:n=[],initialData:c,isPeekingFromBlogs:g,syntheticItem:u,syntheticItemIsDraft:p,detached:m})=>{if(l(i)&&!m)e({...s,pages:(0,r.transformUIAttributes)(s.pages,a,s.expandedPages,s.loadingPages,n)});else if(c&&Object.keys(c).length>0){let e=(0,r.deriveStateFromData)(c,i,{...o,expandedPages:new Set,loadingPages:new Set},g,u,p);t(d.setStateWithUIAttributes(e)),t(d.setIsPageTreeLoading(!1))}else e({...o,expandedPages:new Set,loadingPages:new Set,spaceKey:i})},getState:()=>({getState:e})=>e(),derivedStateFromPropsReplacement:()=>({dispatch:e,getState:t},{currentPageId:a,highlightPages:i=[],spaceKey:n})=>{let{pages:o,expandedPages:s,loadingPages:l}=t();e(d.setStateWithUIAttributes({pages:(0,r.transformUIAttributes)(o,a,s,l,i),spaceKey:n}))},updatePersistedState:()=>({getState:e},{detached:t})=>{t||(s=e())},setStateWithUIAttributes:e=>({setState:t,getState:a,dispatch:i},{currentPageId:n,highlightPages:o=[]})=>{t({...e});let{pages:s,expandedPages:l,loadingPages:c,cursors:g}=a();t({pages:(0,r.transformUIAttributes)(s,n,l,c,o,g)}),i(d.setFocusPageId())},addLoadingPage:e=>({getState:t,dispatch:a})=>{a(d.setStateWithUIAttributes({loadingPages:t().loadingPages.add(e)}))},setIsPageTreeLoading:e=>({setState:t})=>{t({isPageTreeLoading:e})},setIsTreeTruncated:e=>({setState:t})=>{t({isTreeTruncated:e})},setIsTreeTruncatedPrevious:e=>({setState:t})=>{t({isTreeTruncatedPrevious:e})},setIsTreeTruncatedFollowing:e=>({setState:t})=>{t({isTreeTruncatedFollowing:e})},deleteLoadingPage:e=>({getState:t,dispatch:a})=>{let{loadingPages:i}=t();i.delete(e),a(d.setStateWithUIAttributes({loadingPages:i}))},expandPage:(t,i)=>async({getState:o,setState:s,dispatch:l},{onExpand:c})=>{let{pages:g,expandedPages:u,loadingPages:p,space:m,contentIdsWithLoadedChildren:h}=o(),f=g[t.id];if(u.has(t.id)||!f.hasChildren&&"folder"!==f.data.type)return;let v=[t.id,...(0,a("2qvBe").getAncestryIds)(t.id,g,u)];if(f.hasChildren&&!(0,a("2qvBe").childrenAreLatest)(f)){l(d.setStateWithUIAttributes({loadingPages:p.add(f.id)}));let t={},{nodes:s,error:g}=await i(f.id);if(g)return;let u=(0,a("2qvBe").getPages)({nodes:s});u.forEach(e=>{t[e.id]=(0,r.createTreeItem)(e)});let h=o().pages,v=h[f.id].children;v.forEach(e=>{t[e]=h[e]});let I=e(n)([...(0,a("2qvBe").getIds)(u),...v]),b=(0,a("2qvBe").mergePages)(h,t);b=(0,a("fl9IL").default)(b,e=>{e[f.id].hasAdditionalChildren=!1}),p.delete(f.id);let E=(0,r.setChildren)(b,f.id,I);l(d.setStateWithUIAttributes({loadingPages:p,pages:E})),c&&c(E[f.id],{spaceId:m?.id})}s({contentIdsWithLoadedChildren:new Set([...v,h])}),l(d.setStateWithUIAttributes({expandedPages:new Set(v)}))},expandSpaceHomepage:()=>({getState:e,setState:t,dispatch:i})=>{let{pages:n,expandedPages:r,contentIdsWithLoadedChildren:o,space:s}=e(),l=s?.homepage?.id;if(!l)return;let c=n[l];if(r.has(l)||!c?.hasChildren)return;let g=[l,...(0,a("2qvBe").getAncestryIds)(l,n,r)];t({contentIdsWithLoadedChildren:new Set([...g,...o])}),i(d.setStateWithUIAttributes({expandedPages:new Set(g)}))},collapsePage:e=>({getState:t,dispatch:a},{onCollapse:i})=>{let{expandedPages:n,space:r}=t();n.delete(e.id),a(d.setStateWithUIAttributes({expandedPages:n})),i&&i(e,{spaceId:r?.id})},movePageInState:(e,t,i,n,r)=>({getState:o,dispatch:s})=>{let{rootId:l,pages:c,expandedPages:g}=o(),u={rootId:l,items:c},p=u.items[i.parentId];void 0===t.index?(u=(0,a("3SAD5").removeChild)(u,t.parentId,e),u=(0,a("3SAD5").addChild)(u,i.parentId,e,i.index)):u=(0,a("3SAD5").moveItemOnTree)(u,t,i),0===u.items[t.parentId].children.length&&g.delete(t.parentId),s(d.setStateWithUIAttributes({pages:u.items,rootId:u.rootId,expandedPages:g})),r&&s(d.expandPage(p,n))},handleLoadingError:(e,t)=>({setState:i},{onLoadError:n})=>{if(!e)return;let r={apolloError:e,location:t};((0,a("fG32j").isSpaceRestrictedError)(e)||(0,a("95rLf").isExpectedApolloError)(e))&&((0,a("7Sm4c").markErrorAsHandled)(e),r.isExpected=!0),i({error:r}),n&&n(e,{isExpected:r.isExpected,location:r.location})},updateSinglePage:(e,t)=>({getState:a,dispatch:i})=>{let{pages:n}=a();if(!n[e])return;let r={...n[e],data:{...n[e].data,...t}};i(d.setStateWithUIAttributes({pages:{...n,[e]:r}}))},setFocusPageId:()=>({getState:e,setState:t},{currentPageId:a,highlightPages:i=[]})=>{let{blogPeekRoot:n}=e();t({focusedPageId:n||a||i[0]})},getCurrentTreeSize:()=>({getState:e})=>{let{pages:t}=e();return Object.keys(t).length},optimisticInsertContent:({contentId:e,spaceKey:t,parentId:a,type:i,subType:n})=>({getState:o,setState:s})=>{let{pages:l,rootId:d,spaceKey:c}=o(),g=a||d;if(l[e]||t!==c||!l[g]?.isExpanded||"page"!==i||n)return;let u=(0,r.createTreeItem)({id:e,parentId:g,type:i,title:"",status:"DRAFT",ancestors:[],children:[],hasChildren:!1,isSelected:!0,createdDate:{value:new Date().getTime()},isOptimistic:!0}),p={...l[g],children:[...l[g].children,e],hasChildren:!0};s({pages:{...l,[g]:p,[e]:u}})},optimisticDeleteContent:(e,t)=>({getState:a,setState:i})=>{let{pages:n,rootId:r}=a(),o=n?.[e],s=o?.parentId||r;if(!o||!s||!n[s]?.children){t&&t();return}let l={...n[s],children:n[s].children.filter(t=>t!==e),hasChildren:n[s].children.length>1},{[e]:d,...c}=n;i({pages:{...c,[s]:l}}),t&&t()}},c=(0,a("1P1Tu").createStore)({initialState:{...o,expandedPages:new Set,loadingPages:new Set},actions:d,name:"pageTreeState"}),g=(0,a("FOT9i").createContainer)(c,{onInit:d.initializeState,onUpdate:d.derivedStateFromPropsReplacement}),u=(0,a("9zUhf").createHook)(c),p=(0,a("9zUhf").createActionsHook)(c),m=(0,a("9zUhf").createHook)(c,{selector:e=>e.contentIdsWithLoadedChildren});t.exports.PageTreeStateContainer=g,t.exports.usePageTreeState=u,t.exports.usePageTreeActions=p,t.exports.useContentIdsWithLoadedChildren=m}),i("k0x5M",function(t,i){var n=a("dL6iS"),r=a("8rneB"),o=a("brn6e");let s=(e,t=!1)=>{let{text:i,emoji:n,selectedEmoji:s}=(0,o.getTitleAndEmoji)(e.title,(0,r.getEmojiFromPublishedPageProperties)(e),(0,r.getEmojiFromDraftPageProperties)(e),e.status,void 0,t||"whiteboard"!==e.type),l=(0,a("dd6Gw").getEditorVersionFromPageProperties)(e);return{id:e.id,children:(0,a("2qvBe").getPages)(e.children),parentId:e.parentId||null,hasChildren:e.hasChildren,isExpanded:!1,isChildrenLoading:!1,hasRestrictions:e.hasRestrictions||!1,hasInheritedRestrictions:e.hasInheritedRestrictions||!1,blockedInstructions:"CURRENT"===e.status?void 0:["make-child"],data:{title:i||"",fullTitle:e.title,status:e.status,blank:e.blank,emoji:n,emojiFromProperties:s,webui:e.links?.webui,type:e.type,editorVersion:l,subType:e.subType,createdDate:e.createdDate?.value,isSelected:e.isSelected,isOptimistic:e.isOptimistic}}},l=(e,t={},i=!1)=>{if(!e)return;if(t[e.id])throw Error("pageTree Data malformed: contains duplicate pages");let n=(0,a("2qvBe").getPages)(e.children),r=(0,a("2qvBe").getPages)(e.nearestAncestors),o=[...(0,a("2qvBe").getPages)(e.previousSiblings),...(0,a("2qvBe").getPages)(e.followingSiblings)];return t[e.id]=s(e,i),o.forEach(e=>l(e,t,i)),r.forEach(e=>l(e,t,i)),n.forEach(e=>l(e,t,i)),t},d=(e,t={},i=!0)=>{let n=(0,a("2qvBe").getPages)(e).map(e=>{let a=s(e);return t[e.id]=a,a});return t[a("9rjMR").VIRTUAL_ROOT_ID]={id:a("9rjMR").VIRTUAL_ROOT_ID,children:(0,a("2qvBe").getIds)(n),parentId:null,hasChildren:!0,isExpanded:!0,isChildrenLoading:!1,hasRestrictions:!1,hasInheritedRestrictions:!1,data:{title:"",status:"",blank:!1,webui:""}},t[a("9rjMR").VIRTUAL_LOCAL_ROOT_ID]={id:a("9rjMR").VIRTUAL_LOCAL_ROOT_ID,children:[],parentId:a("9rjMR").VIRTUAL_ROOT_ID,hasChildren:!0,isExpanded:!0,isChildrenLoading:!1,hasRestrictions:!1,hasInheritedRestrictions:!1,data:{title:"",status:"",blank:!1,webui:""}},i&&(t=g(t)),t},c=(e,t,i=!1)=>{let n={};if(!e)return n;n=d(t,n=l(e,n,i)||{},!1);let r=(0,a("2qvBe").getPages)(e.nearestAncestors),o=(0,a("2qvBe").getPages)(e.children),s=[...[...(0,a("2qvBe").getPages)(e.previousSiblings)].reverse(),{id:e.id,children:o},...(0,a("2qvBe").getPages)(e.followingSiblings)];r.forEach((e,t)=>{let i=[];if(0===t)i=s;else{let e=r[t-1];i=[...[...(0,a("2qvBe").getPages)(e.previousSiblings)].reverse(),e,...(0,a("2qvBe").getPages)(e.followingSiblings)]}let o=n[e.id];o&&(o.children=(0,a("2qvBe").getIds)(i))}),n[e.id].children=(0,a("2qvBe").getIds)(o);let c=s;if(r.length){let e=r[r.length-1];c=[...[...(0,a("2qvBe").getPages)(e.previousSiblings)].reverse(),e,...(0,a("2qvBe").getPages)(e.followingSiblings)]}return n[a("9rjMR").VIRTUAL_LOCAL_ROOT_ID].children=(0,a("2qvBe").getIds)(c),n=g(n)},g=e=>(0,a("fl9IL").default)(e,e=>{Object.keys(e).forEach(t=>{let i=e[t];i&&i.children&&i.children.length&&i.children.forEach(t=>{"string"==typeof t&&(i.id!==a("9rjMR").VIRTUAL_LOCAL_ROOT_ID||e[t].parentId!==a("9rjMR").VIRTUAL_ROOT_ID)&&(e[t].parentId=i.id)})})}),u=(t,i,r)=>(0,a("fl9IL").default)(t,t=>{i.forEach(a=>{if(t[a]&&t[a].parentId&&t[a].parentId!==r){let i=t[t[a].parentId];i.children=e(n)(i.children,a)}})}),p=(e,t,a,i)=>{if(t={...t},e&&e.id){t[e.id]||t[a].children.some(t=>t===e.id)||(t[a]={...t[a],children:[e.id,...t[a].children]});let n=t[e.id]?.data||{};t[e.id]={...e,data:i?{...n,...e.data}:{...e.data,...n}}}return t},m=(e,t,a=!1)=>e?c(e,t,a):d(t),h=(e,t,i,n,r)=>{for(let i in e){let n=e[i];n.hasChildren&&(0,a("2qvBe").childrenAreLatest)(n)&&n.isExpanded&&t.add(n.id)}let o=r?.state?.editingTitle,s=o?.isNewContent&&i?.id===o?.contentId;return!i||n||s||(t.add(i.id),i.nearestAncestors.nodes.forEach(e=>{t.add(e.id)})),t};t.exports.createTreeItem=s,t.exports.flattenTreeData=c,t.exports.transformUIAttributes=(e,t,i,n,r,o)=>(0,a("fl9IL").default)(e,e=>{for(let a in e)if(e.hasOwnProperty(a)){let s=e[a];s.isExpanded=i.has(a),s.isChildrenLoading=n.has(a),s.data.isSelected=s.id===t,s.data.isHighlighted=r?.includes(s.id)||!1,(o?.previous?.id===s.id||o?.following?.id===s.id)&&(s.data.isCursor=!0)}}),t.exports.setChildren=(e,t,i)=>g(u((0,a("fl9IL").default)(e,e=>{e[t].children=i}),i,t)),t.exports.deriveStateFromData=(e,t,i,n,r,o,s,l=!1)=>{let d,{space:c}=e,g=null;e?.ptpage?.followingSiblings&&!e?.currentPage?(d={...e.ptpage,previousSiblings:{nodes:[],pageInfo:{}},children:{nodes:[],pageInfo:{}},nearestAncestors:{nodes:[],pageInfo:{}}},g=a("9rjMR").VIRTUAL_LOCAL_ROOT_ID):d=e?.currentPage;let u=m(d,{nodes:[],pageInfo:{}},l),f=(0,a("2qvBe").mergePages)(i.pages,u),v=c?.homepage?.id,I=g||(0,a("2qvBe").getRootId)(f,d?.id,v),b=(0,a("2qvBe").getDirectionalCursors)(d,I,{}),E=n?c.homepage&&c.homepage.id||"noHomepageFound":void 0,P=h(f=p(r,f,I,o),i.expandedPages,d,g,s);return{rootId:I,pages:f,space:c,spaceKey:t,expandedPages:P,isTreeTruncatedPrevious:(0,a("2qvBe").isPageTreeTruncatedPrevious)(d),isTreeTruncatedFollowing:(0,a("2qvBe").isPageTreeTruncatedFollowing)(d),cursors:b,initialPages:d,blogPeekRoot:E}}}),i("2qvBe",function(t,i){var n=a("aDQuI");let r=(e,t,i)=>{if(!i||!e||!t)return a("9rjMR").VIRTUAL_LOCAL_ROOT_ID;let n=e[t];if(!n)return a("9rjMR").VIRTUAL_LOCAL_ROOT_ID;switch(t){case i:return i;case a("9rjMR").VIRTUAL_LOCAL_ROOT_ID:return a("9rjMR").VIRTUAL_LOCAL_ROOT_ID;default:return r(e,n.parentId,i)}},o=e=>(!e.hasChildren||!!e.children&&e.children.length>0)&&!e.hasAdditionalChildren,s=e=>{if(!e)return!1;let{followingSiblings:t,nearestAncestors:a}=e,i=!(t?.pageInfo?.hasNextPage||a.nodes.some(e=>e.followingSiblings?.pageInfo?.hasNextPage)),n=a?.pageInfo?.hasNextPage;return i&&n},l=(e,t,a)=>{if(t[e]){let{parentId:i}=t[e];if(i)return a.add(i),l(i,t,a)}return a},d=()=>({nodes:[],pageInfo:{hasNextPage:!1}}),c=()=>({nodes:[],pageInfo:{hasNextPage:!0}}),g=(e,t,a)=>{let i=[e[a],...e.nearestAncestors.nodes.map(e=>e[a])];return{children:t<-1?i.shift():d(),siblings:t<0?i.shift():d(),ancestorSiblings:[...Array.from({length:Math.max(0,t)}).map(d),...i]}},u=e=>({nodes:[...e.nearestAncestors.nodes.map(e=>{let{previousSiblings:t,followingSiblings:a,...i}=e;return{previousSiblings:d(),followingSiblings:a?d():c(),...i}})],pageInfo:e.nearestAncestors.pageInfo}),p=(e,t)=>{let a=e.nearestAncestors.nodes.length-1,i=a+(t?.ancestorIndex??-1)+1,n=e.nearestAncestors.nodes[a]??e,r=n.previousSiblings.nodes.length-1;return{id:(n.previousSiblings.nodes[r]??n).id,ancestorIndex:i}},m=(e,t,a)=>{Array.prototype.findLastIndex||(Array.prototype.findLastIndex=function(e,t){for(let a=this.length-1;a>=0;a--)if(e.call(t,this[a],a,this))return a;return -1});let i=e.nearestAncestors.nodes.findLastIndex(e=>e.id!==a&&e.followingSiblings.nodes.length>0),n=i+(t?.ancestorIndex??-1)+1;if(i>=0){let t=e.nearestAncestors.nodes[i].followingSiblings.nodes,a=t.length-1;return{id:t[a].id,ancestorIndex:n}}let r=e.followingSiblings.nodes.length-1;if(r>=0&&e.id!==a)return{id:e.followingSiblings.nodes[r].id,ancestorIndex:n};let o=e.children.nodes.length-1;return o>=0?{id:e.children.nodes[o].id,ancestorIndex:n-1}:{id:e.id,ancestorIndex:n}};t.exports.getPages=e=>e?.nodes?.length?e.nodes:[],t.exports.getIds=e=>e.map(e=>e.id),t.exports.getRootId=r,t.exports.childrenAreLatest=o,t.exports.mergePages=(e,t)=>(0,a("fl9IL").default)(e,i=>{for(let n in t){let r=e[n],s=t[n];if(r){let e=o(s)?s.children:r.children,t=r.parentId===a("9rjMR").VIRTUAL_LOCAL_ROOT_ID&&s?.parentId||r.parentId;i[n]={...s,parentId:t,children:e}}else i[n]=s}return i}),t.exports.mergeChildren=(e,t)=>({nodes:[...e.nodes,...t.nodes]}),t.exports.isFollowingNodeHidden=s,t.exports.isPageTreeTruncatedPrevious=e=>{if(!e)return!1;let{previousSiblings:t,nearestAncestors:a}=e;return a?.pageInfo?.hasNextPage||t?.pageInfo?.hasNextPage||a.nodes.some(e=>e.previousSiblings?.pageInfo?.hasNextPage)},t.exports.isPageTreeTruncatedFollowing=e=>{if(!e)return!1;let{followingSiblings:t,children:a,nearestAncestors:i}=e;return!!s(e)||t?.pageInfo?.hasNextPage||a?.pageInfo?.hasNextPage||i.nodes.some(e=>e.followingSiblings?.pageInfo?.hasNextPage)},t.exports.getAncestryIds=l,t.exports.mergeFollowingPages=(t,i,r)=>i?(0,a("fl9IL").default)(i,a=>{var i,o;let{followingSiblings:s,nearestAncestors:l,children:d}=a,{children:c,siblings:u,ancestorSiblings:p}=g(t,r,"followingSiblings");return s.nodes=e(n)(s?.nodes,u?.nodes,"id"),(i=s.pageInfo).hasNextPage&&(i.hasNextPage=u?.pageInfo?.hasNextPage),d.nodes=e(n)(d?.nodes,c?.nodes,"id"),(o=d.pageInfo).hasNextPage&&(o.hasNextPage=c?.pageInfo?.hasNextPage),p.forEach((t,a)=>{let i=l?.nodes?.[a];if(i){var r;i.followingSiblings.nodes=e(n)(i.followingSiblings?.nodes,t?.nodes,"id"),(r=i.followingSiblings.pageInfo).hasNextPage&&(r.hasNextPage=t.pageInfo?.hasNextPage)}}),a}):t,t.exports.mergePreviousPages=(t,i,r)=>i?(0,a("fl9IL").default)(i,a=>{var i,o;let{previousSiblings:s,nearestAncestors:l}=a,{siblings:d,ancestorSiblings:c}=g(t,r,"previousSiblings");s.nodes=e(n)(s.nodes,d.nodes,"id"),(i=s.pageInfo).hasNextPage&&(i.hasNextPage=d.pageInfo.hasNextPage);let p=u(t);return l.nodes=e(n)(l.nodes,p.nodes,"id"),(o=l.pageInfo).hasNextPage&&(o.hasNextPage=p.pageInfo.hasNextPage),c.forEach((t,a)=>{if(a<l.nodes.length){var i;let r=l.nodes[a];r.previousSiblings.nodes=e(n)(r.previousSiblings.nodes,t.nodes,"id"),(i=r.previousSiblings.pageInfo).hasNextPage&&(i.hasNextPage=t.pageInfo.hasNextPage)}}),a}):t,t.exports.getDirectionalCursors=(e,t,a,i)=>e?{previous:"following"===i?a.previous:p(e,a.previous),following:"previous"===i?a.following:m(e,a.following,t)}:a}),i("c4LIS",function(e,t){var i=a("3u0dr"),n=a("frIzR"),r=a("42omo"),o=a("jGj7w");let s=(0,i.isReactCompilerActiveV1)()?()=>{let e,t,i=(0,n.c)(8),[r,s]=(0,a("bwL2u").useContentTreeSelection)(),{selectedContent:d}=r,{selectNestedContent:c}=s,{getState:g}=(0,o.usePageTreeActions)();i[0]!==g?(e=e=>{let{pages:t,rootId:a}=g(),i=new Set,n=e=>{let r=e.parentId;r&&r!=a&&(i.add(e.parentId),n(t[r]))};return n(t[e]),i},i[0]=g,i[1]=e):e=i[1];let u=e,p=(0,a("dJIaO").useSelectionCount)();return i[2]!==u||i[3]!==g||i[4]!==c||i[5]!==d||i[6]!==p?(t=(e,t,a)=>{let{pages:i}=g(),n=[],r=e in d,o=r&&!t,s=g().pages[e],m=0,h=(e,t)=>{let a=t;for(let t of(e&&e.id!=s.id&&e.id in d&&!a&&(m+=d[e.id]?.selectedDescendantCount+1,a=!0),n.push({id:e.id,parentId:e.parentId??void 0}),e.children||[])){let e=i[t];e&&"DRAFT"!=e.data.status&&h(e,a)}};(!r&&t||o)&&(h(s,!1),c(n),p(s,[...u(e)],[s.id,...n.map(l)],t,m,a))},i[2]=u,i[3]=g,i[4]=c,i[5]=d,i[6]=p,i[7]=t):t=i[7],t}:()=>{let[{selectedContent:e},{selectNestedContent:t}]=(0,a("bwL2u").useContentTreeSelection)(),{getState:i}=(0,o.usePageTreeActions)(),n=(0,r.useCallback)(e=>{let{pages:t,rootId:a}=i(),n=new Set,r=e=>{let i=e.parentId;i&&i!=a&&(n.add(e.parentId),r(t[i]))};return r(t[e]),n},[i]),s=(0,a("dJIaO").useSelectionCount)();return(0,r.useCallback)((a,r,o)=>{let{pages:l}=i(),d=[],c=a in e,g=c&&!r,u=i().pages[a],p=0,m=(t,a)=>{let i=a;for(let a of(t&&t.id!=u.id&&t.id in e&&!i&&(p+=e[t.id]?.selectedDescendantCount+1,i=!0),d.push({id:t.id,parentId:t.parentId??void 0}),t.children||[])){let e=l[a];e&&"DRAFT"!=e.data.status&&m(e,i)}};(!c&&r||g)&&(m(u,!1),t(d),s(u,[...n(a)],[u.id,...d.map(e=>e.id)],r,p,o))},[n,i,t,e,s])};function l(e){return e.id}e.exports.useNestedSelect=s}),i("9rjMR",function(e,t){e.exports.VIRTUAL_ROOT_ID="VIRTUAL_ROOT_ID",e.exports.VIRTUAL_LOCAL_ROOT_ID="VIRTUAL_LOCAL_ROOT_ID"}),i("dJIaO",function(e,t){var i=a("42omo"),n=a("j1Ss3");let r=(0,a("eSUdr").default)`query useSelectionCountContentMetadataQuery($contentIds:[ID!]!){pageContent:content(ids:$contentIds type:"page"){nodes{id visibleDescendantsCount}}whiteboardContent:content(ids:$contentIds type:"whiteboard"){nodes{id visibleDescendantsCount}}databaseContent:content(ids:$contentIds type:"database"){nodes{id visibleDescendantsCount}}embedContent:content(ids:$contentIds type:"embed"){nodes{id visibleDescendantsCount}}folderContent:content(ids:$contentIds type:"folder"){nodes{id visibleDescendantsCount}}}`,o=(0,a("cgtv4").defineMessages)({flagErrorTitle:{id:"content-tree-actions.selection-count.failed.title",defaultMessage:"Something went wrong"},flagErrorDescription:{id:"content-tree-actions.selection-count.failed.description",defaultMessage:"Refresh and try again. If this keeps happening, contact your space administrator."}});e.exports.useSelectionCount=()=>{let{updateSelectedDescendantsCount:e,updateTotalCount:t,addLoadingDescendant:s,removeLoadingDescendant:l,incrementAncestors:d,updateParent:c,getState:g}=(0,a("bwL2u").useContentTreeSelectionActions)(),u=(0,a("8C5kA").default)(),p=(0,i.useRef)(null),[m]=(0,n.useLazyQuery)(r,{fetchPolicy:"network-only",onCompleted:a=>{if(p.current){let i=[...a?.pageContent?.nodes??[],...a?.whiteboardContent?.nodes??[],...a?.databaseContent?.nodes??[],...a?.embedContent?.nodes??[],...a?.folderContent?.nodes??[]],{item:n,ancestorIds:r,isExplicitlySelected:o,countToRemove:s}=p.current,u=n.id,{selectedContent:m}=g(),h=!!m[u],f=n.parentId&&n.parentId in m,v=0;i.forEach(t=>{t.id===u&&(v=t.visibleDescendantsCount),h&&e(t.id,t.visibleDescendantsCount),l(t.id)}),o&&h?(f&&"string"==typeof n.parentId&&c(u,n.parentId),d([...r],v,s),t(v+1-s)):s>0&&t(-s)}},onError:e=>{if((0,a("7Sm4c").markErrorAsHandled)(e),(0,a("5ZqQS").getMonitoringClient)().submitError(e,{attribution:a("3IBnw").Attribution.DISCO}),p.current){let{flags:e}=p.current;e.showErrorFlag({title:u.formatMessage(o.flagErrorTitle),description:u.formatMessage(o.flagErrorDescription)})}}});return(0,i.useCallback)((e,t,a,i,n,r)=>{p.current={item:e,ancestorIds:t,isExplicitlySelected:i,countToRemove:n,flags:r},a.forEach(e=>s(e)),m({variables:{contentIds:a}})},[s,m])}});
//# sourceMappingURL=MovePageDialog.89bd42b8.js.map
