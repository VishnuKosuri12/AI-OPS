var e=globalThis.parcelRequired477,t=e.register;t("5qrxS",function(t,i){var a=e("42omo");let s=t=>{let[i]=(0,a.useState)(()=>new WeakMap);return(0,a.useMemo)(()=>t.map(t=>{let a=i.get(t);if(a)return a;let s=new(0,e("8fW0f").default)(t);return i.set(t,s),s}),[i,t])},r=["loom","jira","confluence","atlas","townsquare"],l={"jira-core.ondemand":"jira","jira-incident-manager.ondemand":"jira","jira-product-discovery":"jira","jira-servicedesk.ondemand":"jira","jira-software.ondemand":"jira","confluence.ondemand":"confluence",townsquare:"atlas",loom:"loom"},n=t=>{let{data:i,loading:s}=(0,e("kiOFr").useAvailableSites)();return{availableProducts:(0,a.useMemo)(()=>i.length?t?i.find(e=>e.cloudId===t)?.products??[]:Array.from(i.reduce((e,t)=>new Set([...t.products,...Array.from(e)]),new Set)):[],[i,t]),isLoading:s}},o=(0,e("cgtv4").defineMessages)({create:{id:"link-create.jira-plugin-create-config",defaultMessage:"Create"}}),c={tabConfig:{tabKey:"jira",tabTitle:"Jira"},products:["jira"],scope:e("7dyLS").Scope.JiraIssueDashboardBoardProjectFilter},u=t=>({...c,action:{label:(0,e("dh538").fg)("navx-2827-eslint-object-translation-smart-links")?t(o.create):"Create",callback:()=>{console.log("Placeholder for Jira Create")}}}),d={tabConfig:{tabKey:"confluence",tabTitle:"Confluence"},products:["confluence"],scope:e("7dyLS").Scope.ConfluenceContentType},p={tabConfig:{tabKey:"atlas",tabTitle:"Atlas"},products:["townsquare"],scope:e("7dyLS").Scope.TownsquareProject},h={tabConfig:{tabKey:"home",tabTitle:"Home"},products:["townsquare"],scope:e("7dyLS").Scope.TownsquareProject},f={jira:c,confluence:d,atlas:p,loom:{tabConfig:{tabKey:"loom",tabTitle:"Loom"},products:["loom"],scope:e("7dyLS").Scope.Loom,disableActivityClient:!0},townsquare:h},m=t=>{let{cloudId:i,activityClientEndpoint:s,aggregatorUrl:o}=t??{},{availableProducts:c,isLoading:d}=n(t?.cloudId),{formatMessage:p}=(0,e("8C5kA").default)(),h=t?.product?.toLowerCase(),m=(0,a.useMemo)(()=>e=>({cloudId:i,activityClientEndpoint:s,aggregatorUrl:o,...e}),[i,s,o]),b=(0,a.useMemo)(()=>({jira:m((0,e("dh538").fg)("platform.linking-platform.link-picker.enable-jira-create")?u(p):f.jira),confluence:m(f.confluence),atlas:m(f.atlas),townsquare:m(f.townsquare),loom:m(f.loom)}),[m,p]);return(0,a.useMemo)(()=>{let t=[],i=e("c6GJD").default.checkGate("confluence_loom_beta_enabled"),a=e("c6GJD").default.checkGate("confluence_frontend_loom_cross_sell");return h&&r.includes(h)&&t.push(b[h]),{isLoading:d,atlassianPluginsConfig:[...t,...r.filter(e=>h!==e).filter(e=>"townsquare"===h?"atlas"!==e:!!e).filter(e=>"loom"===e&&i||c.some(t=>e===function(e){if(e in l)return l[e]}(t)&&("loom"!==e||a))).map(e=>b[e])]}},[b,c,h,d])};t.exports.useLinkPickerPlugins=e=>{let{atlassianPluginsConfig:t,isLoading:i}=m(e);return{plugins:s(t),isLoading:i}}}),t("8fW0f",function(t,i){var a,s=e("7MEO5");let r=new RegExp(/(.*)\/issues\/\?dashboard=(\d+)$/);class l{getAriString(e){try{return new(0,s.ResourceIdentifier)(e).toString()}catch(e){return""}}confluencePageBlogResponseTransformer(e){return e?e.results.map(e=>{let t={title:e.title,url:e.baseUrl+e.url,container:e.container.title,contentType:this.mapToContentType(e.content&&e.content.type),updatedTimestamp:e.lastModified,objectId:0===this.cloudIds.length?this.getAriString({resourceOwner:"confluence",cloudId:this.cloudId,resourceType:this.useConfluenceTypeInAri&&e.content?.type||"content",resourceId:e.content&&e.content.id}):e.baseUrl+e.url};return e.subtype&&(t.subtype=e.subtype),t}):[]}getIconUrlFromAvatar(e){return"urls"in e?e.urls["16x16"]:e.url}jiraResponseTransformer(e){return e?e.results.map(e=>{let t=r.exec(e.url),i=t?`${t[1]}/jira/dashboards/${t[2]}`:e.url;return{title:e.name,url:i,container:"container"in e.attributes&&e.attributes.container&&e.attributes.container.title||"",contentType:this.mapToContentType(e.attributes["@type"],"issueTypeName"in e.attributes?e.attributes.issueTypeName:void 0),updatedTimestamp:"updated"in e.attributes?e.attributes.updated:void 0,iconUrl:"avatar"in e.attributes&&e.attributes.avatar?this.getIconUrlFromAvatar(e.attributes.avatar):void 0,objectId:0===this.cloudIds.length?this.getAriString({resourceOwner:"jira",cloudId:this.cloudId,resourceType:e.attributes["@type"],resourceId:e.id}):i}}):[]}townsquareProjectResponseTransformer(e){return e?e.results.map(e=>{let{title:t,url:i,iconUrl:a}=e;return{title:t,url:i,iconUrl:a,container:"",contentType:this.mapToContentType("townsquareProject"),objectId:i}}):[]}townsquareGoalResponseTransformer(e){return e?e.results.map(e=>{let{id:t,title:i,url:a,iconUrl:s}=e;return{title:i,url:a,iconUrl:s,container:"",contentType:this.mapToContentType("townsquareGoal"),objectId:t}}):[]}LoomResponseTransformer(e){return e?e.results.map(e=>({title:e.name,url:e.url,container:e.workspaceName,contentType:this.mapToContentType("loom"),objectId:e.url,updatedTimestamp:e.activityDate||e.createdAt})):[]}mapToContentType(e,t){switch(e){case"issue":switch(t){case"Bug":return"jira.issue.bug";case"Story":return"jira.issue.story";case"Task":return"jira.issue.task";case"Epic":return"jira.issue.epic";default:return"jira.issue"}case"project":return"jira.project";case"board":return"jira.board";case"filter":return"jira.filter";case"dashboard":return"jira.dashboard";case"townsquareProject":return"townsquare.project";case"townsquareGoal":return"townsquare.goal";case"page":return"confluence.page";case"blogpost":return"confluence.blogpost";case"whiteboard":return"confluence.whiteboard";case"database":return"confluence.database";case"embed":return"confluence.embed";case"loom":return"loom.video";default:return"default"}}async quickSearch(t,i){let a=await this.client.search({query:t,scopes:[this.scope],analytics:{identifier:this.analyticsIdentifier},resultLimit:i,sites:this.cloudIds});if(this.scope===e("7dyLS").Scope.ConfluencePageBlog||this.scope===e("7dyLS").Scope.ConfluencePageBlogWhiteboard||this.scope===e("7dyLS").Scope.ConfluenceContentType){let e=a.response.retrieveScope(this.scope);return this.confluencePageBlogResponseTransformer(e)}if(this.scope===e("7dyLS").Scope.JiraIssue||this.scope===e("7dyLS").Scope.JiraIssueDashboardBoardProjectFilter){let e=a.response.retrieveScope(this.scope);return this.jiraResponseTransformer(e)}if(this.scope===e("7dyLS").Scope.TownsquareProject){let e=a.response.retrieveScope(this.scope);return this.townsquareProjectResponseTransformer(e)}if(this.scope===e("7dyLS").Scope.TownsquareGoal){let e=a.response.retrieveScope(this.scope);return this.townsquareGoalResponseTransformer(e)}if(this.scope===e("7dyLS").Scope.Loom){let e=a.response.retrieveScope(this.scope);return this.LoomResponseTransformer(e)}else throw Error(`Unsupported scope - ${this.scope}`)}constructor(t,i,a,s="link-picker",r=!1,l=[]){switch(this.client=void 0,this.scope=void 0,this.cloudId=void 0,this.cloudIds=void 0,this.analyticsIdentifier=void 0,this.useConfluenceTypeInAri=void 0,i){case e("7dyLS").Scope.ConfluencePageBlog:case e("7dyLS").Scope.ConfluencePageBlogWhiteboard:case e("7dyLS").Scope.ConfluenceContentType:case e("7dyLS").Scope.JiraIssue:case e("7dyLS").Scope.JiraDashboard:case e("7dyLS").Scope.JiraIssueDashboardBoardProjectFilter:case e("7dyLS").Scope.TownsquareProject:case e("7dyLS").Scope.TownsquareGoal:case e("7dyLS").Scope.Loom:break;default:throw Error(`Unsupported scope - ${i}`)}this.scope=i,this.cloudId=t,this.cloudIds=l,this.analyticsIdentifier=s,this.useConfluenceTypeInAri=r,this.client=(0,e("3paC4").createClient)({cloudId:t,aggregatorUrl:a})}}var n=e("l998X");e("42omo"),e("42omo"),e("42omo");let o=()=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 96 96",className:(0,e("gMc0m").default)(["_1bsb16xz _4t3i16xz _19pkidpf _2hwx1wug _otyrpxbi _18u01wug _1e0c1ule"]),children:[(0,n.jsx)("path",{fill:"#FCA700",d:"M74.189 55.386c.318-1.787.485-3.69.485-5.697a32.59 32.59 0 0 0-.496-5.774c-1.933-10.773-9.418-17.412-19.912-19.12-1.79-.29-3.669-.44-5.62-.44s-3.994.161-5.854.472c-10.5 1.752-17.971 8.375-19.909 19.088a32.362 32.362 0 0 0-.5 5.774c0 2.039.169 3.91.49 5.697 1.923 10.7 9.4 17.333 19.919 19.089 1.86.31 3.815.471 5.854.471s3.83-.15 5.62-.44c10.512-1.71 18.003-8.36 19.923-19.12Z"}),(0,n.jsx)("path",{fill:"#1868DB",d:"M40.02 77.477c-.248 6.944 3.225 9.59 8.598 9.59 5.044 0 8.434-2.646 8.434-9.59V69.54H40.02v7.938Z"}),(0,n.jsx)("path",{fill:"#101214",d:"M50.807 58.42c-.07.901-.133 1.802-.175 2.702 0 0-.035.29-.077.758a42.187 42.187 0 0 0-.146 1.808c-.088 1.404-.119 3.044-.021 3.98a81.585 81.585 0 0 0 .14 7.037s.062.734.174 1.571c.108.838.255 1.784.377 2.214.147.537.283.876.377.939.206.125.181-.862-.14-3.655.007-.035.007-.15.021-.164-.38-2.954-.248-5.83-.21-8.85-.052.039-.09-.063-.059-.157l.063.035c-.073-2.021.206-3.264.144-5.121 0 0 .066.216.066.22.122-1.571.314-3.292.576-5.052.136-.851.377-1.703.914-2.251.27-.276.615-.485.964-.562.349-.077.691-.014.97.188.283.2.507.53.618.901.056.185.087.377.087.566 0 .195-.024.397-.07.596-.184.8-.708 1.564-1.284 2.228a9.32 9.32 0 0 1-2.01 1.665c-.748.43-1.533.76-2.322.995h.035l-.01.014c.15-.032.44-.102.792-.192.335-.13.754-.245 1.113-.437.182-.09.367-.167.527-.258l.426-.255c.252-.143.395-.258.395-.258-.796.796-1.92 1.354-3.11 1.64-1.194.29-2.444.322-3.624.213l.024-.08c1.016.098 1.924-.042 2.273-.129-.9.105-2.05.112-3.257-.164-.597-.147-1.218-.328-1.805-.621-.147-.07-.293-.144-.443-.213l-.42-.262a4.987 4.987 0 0 1-.785-.573c-.474-.433-.88-.953-1.138-1.5a3.304 3.304 0 0 1-.258-.832 2.151 2.151 0 0 1 .038-.782c.143-.488.458-.88.866-1.078.402-.213.859-.266 1.257-.245-.038-.038-.31-.038-.594-.003-.279.038-.565.112-.715.084.74-.356 1.69-.283 2.426.059-.028.06-.143.035-.262-.007-.122-.031-.251-.077-.297-.08.144.073.754.223 1.362.83.286.3.586.751.803 1.285.22.541.373 1.184.454 1.896.083.712.097 1.487.09 2.307 0 .82-.017 1.672-.056 2.542a91.086 91.086 0 0 1-.373 5.257c-.339 3.453-.785 6.622-.992 8.486-.209 1.864-.195 2.416.213.618l.042.196c.308-1.875.559-3.428.946-5.373.025-.279.042-.31-.024-.317 0-.074-.004-.2-.038-.171-.168.007-.028-.597 0-.866.237.195.443-1.33.551-3.016.115-1.683.108-3.523.136-3.952.262-.157.077-1.69.185-2.206.007.038.063.268.07.3.042-.115.06-.684.042-1.435-.01-.747-.056-1.69-.196-2.541-.254-1.718-1.096-2.912-.436-1.97a4.525 4.525 0 0 0-.967-1.608 3.86 3.86 0 0 0-1.83-1.006 3.41 3.41 0 0 0-1.12-.094 2.874 2.874 0 0 0-1.155.321c-.37.196-.698.496-.936.859a2.7 2.7 0 0 0-.405 1.225c-.07.883.27 1.704.723 2.395.227.349.503.663.8.956.296.287.635.566.99.772l.531.325c.182.097.374.181.563.272.37.195.778.3 1.169.447.806.213 1.637.384 2.478.39l.315.015.314-.01.628-.029.622-.08.31-.042.308-.066.61-.136.597-.189.297-.094.29-.119.572-.24c1.487-.727 2.814-1.778 3.718-3.104.45-.657.828-1.407.911-2.245.087-.841-.188-1.71-.796-2.314-.303-.3-.712-.52-1.141-.59a2.392 2.392 0 0 0-1.232.129c-.744.283-1.32.845-1.673 1.46l.067-.06c-.056.073-.16.324-.217.37a7.214 7.214 0 0 0-.258 1.016c-.07.39-.119.81-.157 1.19l-.133 1.39-.003-.008Zm-4.675 3.376s-.014.01-.007.014c0-.014-.314-.063-.635-.108a8.793 8.793 0 0 1-.66-.154l.028-.077c.629.12 1.655.315 2.196.416.272.06.422.08.325.105-.098.028-.447.003-1.145-.105-.098.007-.091-.063-.105-.094l.003.003Zm-4.726-7.128c.213-.07.453-.126.719-.14a2.898 2.898 0 0 0-1.061.401c-.329.213-.597.52-.772.887-.373.733-.265 1.655.108 2.426.374.779.957 1.47 1.655 1.976.175.126.363.23.541.346l.272.167c.095.05.189.091.283.137.189.087.377.174.566.254.195.063.387.123.576.185-.573.018-1.47-.324-2.28-.872-.824-.566-1.435-1.418-1.735-2.053-.366-.6-.572-1.445-.342-2.217.119-.377.332-.712.593-.97.259-.266.587-.42.88-.52l-.003-.007ZM45.944 70.1l.042.01-.01.102s-.025-.014-.029-.035a.14.14 0 0 1-.003-.077Zm5.26-13.182c-.041-.223.147-1.022.179-.464-.05.133-.046.538-.178.464Zm-6.678-1.63c.039-.06.283.073.475.272.2.196.315.444.241.496a4.06 4.06 0 0 0-.715-.768Zm6.078 9.51c.133.286-.028.198-.122.29.025-.07.042-.326.108-.27l.014-.02Zm0 4.953c.074.07.122.349.13.482-.046.342-.19-.325-.13-.482Zm.527 8.14c.08 0 .13.193.056.256-.063-.014-.133-.245-.045-.287 0 0-.01.014-.01.032Zm-5.058-18.204c-.13-.133-.164-.433-.199-.761-.031-.328-.073-.685-.164-.915.126.024.202.265.244.552.042.286.046.61.084.799.014.136.025.24.032.321l.003.004Zm9.635-4.217c-.105.007-.119-.22-.182-.482-.056-.265-.185-.559-.296-.663l.07-.046c.279.374.44.674.408 1.173v.021-.003Zm-15.158.576c.014.097-.031.195-.066.303-.028.109-.08.217-.077.307-.028 0-.052-.052-.06-.125 0-.07.008-.164.025-.255.06-.171.14-.314.182-.234l-.004.004Zm5.254 5.264c.025.133-.394.017-.513-.01.09 0 .258-.05.36-.039.07.01.083.028.153.049Zm9.97-5.474a3.445 3.445 0 0 1-.363 1.18l-.07-.049c.182-.373.308-.76.35-1.152l.08.018.003.003Zm-2.203 3.327-.055-.063c.363-.464.558-.366.066.053l-.01.01Zm-.984-4.776c.042-.038.108-.1.147-.14.29-.264.276-.146.178-.02-.098.125-.248.3-.328.16h.003Zm-1.065 4.2c0 .087.014.206 0 .297-.08.607-.202-.091 0-.297ZM38.864 13.967l-.233-.314s-.112-.65-.392-.828l-.254-.946s-.189-.366-.353-.44a.488.488 0 0 0-.29-.041c-.17.038-.265.216-.073.565-.007.007-.014.028-.028.035.262.35.185.8.353 1.19.045-.02.09-.02.07 0l-.063.018c.216.223.08.457.373.628h-.09c.335.82.656 1.98 1.075 2.845l.007-.007h.01c.032-.104-.024-.537-.024-.537.401.195.216.646.342.96l-.08.024a.659.659 0 0 0-.179-.286c.07.534.405 1.536.699 1.969.055-.035-.13-.136.052-.241.045.122.119.234.154.35-.126.044-.105-.04-.133-.043-.066.248 1.229 4.336 1.42 3.184h.074c-.06-.258-.112-.471-.077-.775-.024-.032-.01-.042-.077-.018-.014-.006-.038-.017-.062 0-.157.06-.123-.041-.14-.076.506-.13-.237-.824-.258-.943.227-.105-.07-.223.003-.328.01 0 .073.014.084.014.13-.115-.646-.97-.255-.785.07-1.358-1.288-3.296-1.316-4.727l-.024.02s-.021-.038.01-.059c-.14-.094-.328-.401-.328-.401l.003-.007Zm.768 3.034s.014 0 .014-.004c-.024.01.05.168.046.178l-.077.028c-.21-.112.185-.684.084-.237.024.007-.042.028-.067.041v-.006Zm.514 1.462c0 .032.007.063.014.101-.381-.293-.259-.91-.52-1.288.397.018.334.423.376.608.144.153.123.398.13.576v.003Zm.81 2.465.041-.014v.014s-.02.007-.024.007c-.01 0-.018 0-.014-.007h-.004Zm-2.203-6.696c.073.007.073.123-.074.098.014-.024-.063-.056.074-.098Zm1.448 4.692c.13-.045.203.084.028.147-.02-.046-.024-.098-.028-.147Zm-1.951-5.68c-.15.01.007-.031.087-.073-.014.018-.01.052-.077.066l-.01.007Zm-.314-.621c-.07.014-.126-.007-.136-.024.035-.063.188-.018.136.024Zm-.391-1.068c-.077.024-.112.007-.039-.025.056-.017.112 0 .025.035 0 0 .01-.003.014-.01Zm2.611 8.11c-.237.041-.101-.151-.185-.196.23-.063.108.115.164.153a.229.229 0 0 0 .021.042Zm-1.445-4.235c-.2.073-.091-.126-.15-.157l.077-.028c.045.063.111.087.073.181v.004Zm.918 2.96c-.087 0-.032-.07-.042-.098.112-.038.171.07.038.098h.004Zm-.391-1.194c.119-.049.08.031.098.042-.028 0-.112 0-.115-.01 0-.011.01-.018.017-.032Zm-.433-1.742a1.4 1.4 0 0 1 .056.171l-.08.025a4.814 4.814 0 0 1-.056-.171l.08-.025Zm.077.6-.077.029c-.101-.056.094-.133.077-.028Zm-.423-1.284v.031c.05.112-.293.053 0-.031Zm-.29-.573s-.045-.014-.045-.028c-.02-.083.203-.062.046.028ZM51.327 14.843l-.007-.303s.28-.416.164-.67c.115-.22.237-.433.356-.65 0 0 .073-.304-.003-.44a.52.52 0 0 0-.196-.202c-.153-.087-.328-.053-.394.251-.01 0-.025.007-.042 0-.01.346-.335.541-.433.855.049.014.084.042.052.039l-.059-.028c.038.248-.206.3-.07.565l-.07-.052c-.206.65-.586 1.498-.694 2.238h.017c.08-.05.265-.332.265-.332.227.325-.164.492-.22.75l-.08-.024a.409.409 0 0 0 0-.262c-.223.356-.45 1.142-.412 1.55.063.004-.042-.143.164-.125-.02.097-.014.199-.038.29-.13-.032-.073-.074-.094-.088-.088.06-.356.89-.468 1.63-.112.74-.087 1.376.244 1.027l.067.028c.059-.196.104-.357.272-.538-.007-.031.007-.031-.06-.042a.093.093 0 0 0-.055-.028c-.164-.024-.091-.077-.091-.108.506.122.16-.628.199-.716.248.032.042-.174.157-.206.007.007.06.039.066.046.16-.014-.1-.894.15-.604.353-.405.482-1.047.632-1.704.147-.653.321-1.32.702-1.72h-.032s.008-.036.042-.029c-.059-.125-.041-.401-.041-.401l.01.003Zm-1.002 2.137.014.003c-.024-.007-.045.126-.052.13l-.08-.025c-.116-.175.506-.314.191-.101.018.014-.049-.004-.076-.01l.003.003Zm-.304 1.134c-.014.021-.024.042-.038.07-.185-.36.23-.68.203-1.033.32.206.07.415.01.551.045.161-.09.3-.178.412h.003Zm-.453 1.906.041.007v.01s-.028-.006-.03-.01c-.008 0-.015-.007-.011-.01v.003Zm1.522-5.093c.055.046-.01.112-.112.014.024-.007-.017-.066.112-.014Zm-1.243 3.498c.133.031.136.147-.049.105.007-.039.028-.07.049-.105ZM51.25 14.1c-.122-.08.025-.014.112.01-.021 0-.038.021-.098-.007h-.014V14.1Zm.115-.52c-.062-.035-.09-.08-.09-.095.063-.014.153.102.09.095Zm.332-.796c-.073-.035-.087-.063-.014-.035.052.028.084.07 0 .035h.014Zm-2.248 6.084c-.227-.08-.014-.14-.066-.21.23.064.034.123.07.172 0 .014-.004.024 0 .035l-.004.003Zm.946-3.288c-.2-.066-.004-.122-.035-.175l.077.028c0 .063.042.112-.042.143v.004Zm-.779 2.245c-.076-.042.01-.06.014-.08.116.027.112.125-.014.08Zm.276-.925c.126.03.053.059.06.076-.025-.017-.095-.056-.091-.066.003-.007.017-.003.031-.01Zm.566-1.254a.961.961 0 0 1-.046.13l-.076-.028c.014-.046.031-.088.045-.13l.077.028Zm-.262.388-.08-.025c-.056-.087.15-.028.08.025Zm.36-.97s-.018.013-.018.017c-.02.09-.265-.133.018-.018Zm.087-.486s-.028-.031-.021-.042c.031-.06.195.08.02.042ZM62.638 15.643l.17-.367s.528-.43.552-.768l.726-.708s.238-.353.227-.535a.489.489 0 0 0-.101-.279c-.115-.132-.321-.122-.541.224-.01 0-.028 0-.042-.007-.189.408-.628.572-.897.918.042.031.063.066.035.06l-.046-.046c-.097.303-.373.303-.384.649l-.042-.08c-.572.712-1.459 1.588-2.035 2.401h.01l.008.011c.108-.028.467-.293.467-.293.014.453-.474.52-.698.792l-.06-.056c.102-.111.165-.237.172-.303-.443.335-1.18 1.141-1.428 1.62.056.03.06-.182.237-.077-.087.1-.153.223-.237.314-.101-.087-.017-.112-.028-.14-.251.066-3.295 3.299-2.171 2.877l.035.066c.202-.185.37-.339.66-.464.017-.039.031-.032-.021-.077 0-.014-.004-.042-.028-.056-.126-.108-.021-.13 0-.164.36.38.621-.628.719-.709.202.147.167-.178.297-.164l.027.08c.165.056.559-1.064.584-.624 1.25-.632 2.335-2.821 3.606-3.575l-.028-.01s.028-.039.059-.021c.017-.172.203-.493.203-.493l-.008.004Zm-2.35 2.223s.007.011.01.011c-.02-.017-.125.13-.136.13l-.062-.057c0-.24.701-.185.254-.049.007.025-.045-.02-.07-.038l.004.003Zm-1.068 1.201a.653.653 0 0 0-.084.063c.08-.485.691-.694.904-1.117.175.36-.22.51-.363.646-.066.202-.3.314-.454.408h-.003Zm-1.815 1.973.031.028-.01.01s-.018-.017-.021-.024c-.004-.007-.007-.018 0-.018v.004Zm4.94-5.362c.03.07-.078.129-.123-.014.032 0 .021-.084.122.014Zm-3.51 3.676c.102.09.022.223-.118.097.032-.041.077-.07.119-.097Zm4.155-4.622c-.084-.126.032-.01.108.038-.02-.007-.052.018-.097-.035l-.01-.007v.004Zm.408-.594c-.045-.056-.052-.115-.041-.129.073 0 .104.157.041.13Zm.768-.89c-.059-.052-.059-.094.004-.045.042.042.056.097-.017.038 0 0 .01.007.013.007Zm-6.014 6.44c-.15-.188.087-.163.087-.265.168.172-.052.154-.06.224-.013.014-.02.028-.027.038v.004Zm3.1-3.434c-.161-.14.07-.143.07-.213l.062.056c-.035.073-.024.143-.129.157h-.003Zm-2.214 2.321c-.041-.077.05-.063.067-.084.087.08.017.189-.07.084h.003Zm.887-.953c.101.08.01.087.01.108-.01-.028-.055-.097-.045-.108.007-.007.021 0 .035 0Zm1.351-1.27c-.038.045-.084.094-.126.14l-.059-.057c.042-.045.084-.094.126-.136l.059.056v-.004Zm-.5.37-.062-.056c0-.12.164.014.063.052v.003Zm.947-1.027s-.025.01-.028.018c-.077.1-.185-.23.028-.018Zm.373-.548s-.007-.045 0-.056c.067-.06.15.147 0 .056Z"}),(0,n.jsx)("path",{fill:"#09326C",d:"M40.02 69.542v4.336a31.13 31.13 0 0 0 2.771.597c1.861.31 3.816.471 5.855.471 2.038 0 3.83-.15 5.62-.44a30.493 30.493 0 0 0 2.786-.586v-4.378H40.02Z"})]}),c=(0,e("cgtv4").defineMessages)({noResults:{id:"fabric.linkPickerAtlassianPlugin.emptyStateNoResults.heading",defaultMessage:"Get started with {productName}."},noResultsConfluenceDescription:{id:"fabric.linkPickerAtlassianPlugin.emptyStateNoResults.confluenceDescription",defaultMessage:"Recently viewed pages will appear once you <link>start using Confluence</link>."},noResultsJiraDescription:{id:"fabric.linkPickerAtlassianPlugin.emptyStateNoResults.jiraDescription",defaultMessage:"Recently viewed issues will appear once you <link>start using Jira</link>."},noResultsJiraDescriptionIssueTerminologyRefreshM4:{id:"fabric.linkPickerAtlassianPlugin.emptyStateNoResults.jiraDescription-issue-terminology-refresh-m4",defaultMessage:"Recently viewed work items will appear once you <link>start using Jira</link>."},noResultsDefaultDescription:{id:"fabric.linkPickerAtlassianPlugin.emptyStateNoResults.defaultDescription",defaultMessage:"Recently viewed items will appear once you <link>start using {productName}</link>."},noResultsConfluenceCreateOption:{id:"fabric.linkPickerAtlassianPlugin.emptyStateNoResults.description",defaultMessage:"You can also create a new page."}}),u={emptyStateNoResults:"link-picker-empty-state-no-results"},d=({product:t,action:i,cloudId:a,isMultisiteSearch:s})=>{let r=(0,e("8C5kA").default)(),{data:l}=(0,e("kiOFr").useAvailableSites)(),d="confluence"===t,f=p(t);if(!f)return null;let m=l.find(h(f.availableSitesProduct,a,s));if(m){let t=m.url;d&&(t+="/wiki");let i=r.formatMessage(f.description,{productName:f.productName,link:i=>(0,n.jsx)(e("2Nwuj").default,{href:t,children:i})}),a=d?r.formatMessage(c.noResultsConfluenceCreateOption):"";return(0,n.jsx)("div",{className:(0,e("gMc0m").default)(["_otyrmgjw _clfdidpf _11pqidpf _q0a5idpf _c3k8idpf"]),children:(0,n.jsx)(e("abC4X").default,{testId:u.emptyStateNoResults,header:r.formatMessage(c.noResults,{productName:f.productName}),description:(0,n.jsxs)("span",{children:[i," ",a]}),renderImage:()=>(0,n.jsx)(o,{})})})}return null},p=t=>{switch(t){case"confluence":return{availableSitesProduct:e("kSC7A").AvailableSitesProductType.CONFLUENCE,productName:"Confluence",description:c.noResultsConfluenceDescription};case"jira":return{availableSitesProduct:e("kSC7A").AvailableSitesProductType.JIRA_SOFTWARE,productName:"Jira",description:(0,e("dh538").fg)("jira-issue-terminology-update-m4")?c.noResultsJiraDescriptionIssueTerminologyRefreshM4:c.noResultsJiraDescription};case"atlas":return{availableSitesProduct:e("kSC7A").AvailableSitesProductType.ATLAS,productName:"Atlas",description:c.noResultsDefaultDescription};default:return}},h=(e,t,i)=>a=>!!a.products.includes(e)&&(!t||!!i||a.cloudId===t),f=(0,e("cgtv4").defineMessages)({hyperlinkIconIssueLabel:{id:"fabric.linkPicker.headingLink.hyperlinkIconIssueLabel",defaultMessage:"Issue"},hyperlinkIconBugLabel:{id:"fabric.linkPicker.headingLink.hyperlinkIconBugLabel",defaultMessage:"Bug"},hyperlinkIconStoryLabel:{id:"fabric.linkPicker.headingLink.hyperlinkIconStoryLabel",defaultMessage:"Story"},hyperlinkIconTaskLabel:{id:"fabric.linkPicker.headingLink.hyperlinkIconTaskLabel",defaultMessage:"Task"},hyperlinkIconEpicLabel:{id:"fabric.linkPicker.headingLink.hyperlinkIconEpicLabel",defaultMessage:"Epic"},hyperlinkIconDashboardLabel:{id:"fabric.linkPicker.headingLink.hyperlinkIconDashboardLabel",defaultMessage:"Dashboard"},hyperlinkIconBoardLabel:{id:"fabric.linkPicker.headingLink.hyperlinkIconBoardLabel",defaultMessage:"Board"},hyperlinkIconProjectLabel:{id:"fabric.linkPicker.headingLink.hyperlinkIconProjectLabel",defaultMessage:"Task"},hyperlinkIconPlanLabel:{id:"fabric.linkPicker.headingLink.hyperlinkIconPlanLabel",defaultMessage:"Plan"},hyperlinkIconFilterLabel:{id:"fabric.linkPicker.headingLink.hyperlinkIconFilterLabel",defaultMessage:"Filter"},hyperlinkIconPageLabel:{id:"fabric.linkPicker.headingLink.hyperlinkIconPageLabel",defaultMessage:"Page"},hyperlinkIconBlogLabel:{id:"fabric.linkPicker.headingLink.hyperlinkIconBlogLabel",defaultMessage:"Blog"},hyperlinkIconWhiteboardLabel:{id:"fabric.linkPicker.headingLink.hyperlinkIconWhiteboardLabel",defaultMessage:"Whiteboard"},hyperlinkIconDatabaseLabel:{id:"fabric.linkPicker.headingLink.hyperlinkIconDatabaseLabel",defaultMessage:"Database"},hyperlinkIconEmbedLabel:{id:"fabric.linkPicker.headingLink.hyperlinkIconEmbedLabel",defaultMessage:"Smart Link"},hyperlinkIconLoomLabel:{id:"fabric.linkPicker.headingLink.hyperlinkIconLoomLabel",defaultMessage:"Loom"},hyperlinkIconLiveDocLabel:{id:"fabric.linkPicker.headingLink.hyperlinkIconLiveDocLabel",defaultMessage:"Live Doc"},story:{id:"fabric.linkPicker.story",defaultMessage:"Story"},epic:{id:"fabric.linkPicker.epic",defaultMessage:"Epic"},task:{id:"fabric.linkPicker.task",defaultMessage:"Task"},bug:{id:"fabric.linkPicker.bug",defaultMessage:"Bug"},subTask:{id:"fabric.linkPicker.subTask",defaultMessage:"Sub-task"},improvement:{id:"fabric.linkPicker.improvement",defaultMessage:"Improvement"},defaultAltText:{id:"fabric.linkPicker.defaultAltText",defaultMessage:"List item"},hyperlinkIconIssueLabelIssueTermRefresh:{id:"fabric.linkPicker.headingLink.hyperlinkIconIssueLabel-issue-term-refresh",defaultMessage:"Work item"}});var m=((a=m||{})[a["jira.issue"]=0]="jira.issue",a[a["jira.issue.bug"]=1]="jira.issue.bug",a[a["jira.issue.story"]=2]="jira.issue.story",a[a["jira.issue.task"]=3]="jira.issue.task",a[a["jira.issue.epic"]=4]="jira.issue.epic",a[a["jira.dashboard"]=5]="jira.dashboard",a[a["jira.board"]=6]="jira.board",a[a["jira.project"]=7]="jira.project",a[a["jira.filter"]=8]="jira.filter",a[a["confluence.page"]=9]="confluence.page",a[a["confluence.blogpost"]=10]="confluence.blogpost",a[a["confluence.whiteboard"]=11]="confluence.whiteboard",a[a["loom.video"]=12]="loom.video",a[a["confluence.database"]=13]="confluence.database",a[a["confluence.embed"]=14]="confluence.embed",a);let b=(e,t,i,a)=>(0,n.jsx)(d,{product:e,action:t,cloudId:i,isMultisiteSearch:a}),g=e=>!!(e&&Object.keys(m).includes(e)),k={"jira.issue":{icon:({alt:t})=>(0,n.jsx)(e("GLxTx").default,{label:t}),iconAlt:f.hyperlinkIconIssueLabel},"jira.issue.bug":{icon:({alt:t})=>(0,n.jsx)(e("5pEhQ").default,{label:t}),iconAlt:f.hyperlinkIconBugLabel},"jira.issue.story":{icon:({alt:t})=>(0,n.jsx)(e("hrqJ0").default,{label:t}),iconAlt:f.hyperlinkIconStoryLabel},"jira.issue.task":{icon:({alt:t})=>(0,n.jsx)(e("9wTHj").default,{label:t}),iconAlt:f.hyperlinkIconTaskLabel},"jira.issue.epic":{icon:({alt:t})=>(0,n.jsx)(e("g30aC").default,{label:t}),iconAlt:f.hyperlinkIconEpicLabel},"jira.dashboard":{icon:({alt:t})=>(0,n.jsx)(e("lAFHW").JiraIcon,{label:t,size:"xxsmall",appearance:"brand",...(0,e("dh538").fg)("navx-1895-new-logo-design")?{shouldUseNewLogoDesign:!0}:void 0}),iconAlt:f.hyperlinkIconDashboardLabel},"jira.board":{icon:({alt:t})=>(0,n.jsx)(e("lAFHW").JiraIcon,{label:t,size:"xxsmall",appearance:"brand",...(0,e("dh538").fg)("navx-1895-new-logo-design")?{shouldUseNewLogoDesign:!0}:void 0}),iconAlt:f.hyperlinkIconBoardLabel},"jira.project":{icon:({alt:t})=>(0,n.jsx)(e("lAFHW").JiraIcon,{label:t,size:"xxsmall",appearance:"brand",...(0,e("dh538").fg)("navx-1895-new-logo-design")?{shouldUseNewLogoDesign:!0}:void 0}),iconAlt:f.hyperlinkIconProjectLabel},"jira.filter":{icon:({alt:t})=>(0,n.jsx)(e("lAFHW").JiraIcon,{label:t,size:"xxsmall",appearance:"brand",...(0,e("dh538").fg)("navx-1895-new-logo-design")?{shouldUseNewLogoDesign:!0}:void 0}),iconAlt:f.hyperlinkIconFilterLabel},"confluence.page":{icon:({alt:t})=>(0,n.jsx)(e("13WX1").default,{label:t}),iconAlt:f.hyperlinkIconPageLabel},"confluence.blogpost":{icon:({alt:t})=>(0,n.jsx)(e("hxQwS").default,{label:t}),iconAlt:f.hyperlinkIconBlogLabel},"confluence.whiteboard":{icon:({alt:t})=>(0,n.jsx)(e("eQfRp").default,{label:t}),iconAlt:f.hyperlinkIconWhiteboardLabel},"loom.video":{icon:({alt:t})=>(0,n.jsx)(e("lAFHW").LoomIcon,{label:t,shouldUseNewLogoDesign:!0,size:"xxsmall"}),iconAlt:f.hyperlinkIconLoomLabel},"confluence.database":{icon:({alt:t})=>(0,n.jsx)(e("57Wda").default,{label:t}),iconAlt:f.hyperlinkIconDatabaseLabel},"confluence.embed":{icon:({alt:t})=>{var i;return(0,n.jsx)((i=e("duwSm"))&&i.__esModule?i.default:i,{color:"var(--ds-icon-accent-blue, #357DE8)",label:t})},iconAlt:f.hyperlinkIconEmbedLabel}},y=(t,i)=>g(t)?"jira.issue"===t&&(0,e("dh538").fg)("confluence-issue-terminology-refresh")?{icon:({alt:t})=>(0,n.jsx)(e("GLxTx").default,{label:t}),iconAlt:f.hyperlinkIconIssueLabelIssueTermRefresh}:"confluence.page"===t&&"live"===i?{icon:({alt:t})=>(0,n.jsx)(e("brDJd").default,{label:t}),iconAlt:f.hyperlinkIconLiveDocLabel}:k[t]:{icon:({alt:t})=>(0,n.jsx)(e("13WX1").default,{label:t}),iconAlt:f.defaultAltText},I=e=>{let t=f.defaultAltText;return e.includes("story.svg")&&(t=f.story),e.includes("epic.svg")&&(t=f.epic),e.includes("avatarId=10318")&&(t=f.task),e.includes("avatarId=10303")&&(t=f.bug),e.includes("avatarId=10518")&&(t=f.subTask),e.includes("avatarId=10310")&&(t=f.improvement),t},v=e=>({icon:e,iconAlt:I(e)}),L=({object:e,containers:t,timestamp:i})=>{let a=e.icon?.value||"";e.icon?.type==="EMOJI"&&(a=e.icon.fallback||"");let s="confluence"===e.product?y(e.product+"."+e.type.toLowerCase(),e.subtype?.toLowerCase()):v(a);return{objectId:e.id,name:e.name||"",container:w(t),url:e.url,...s,lastViewedDate:i?new Date(i):void 0,prefetch:!0,meta:{source:"recent-work"}}},j=(e,t)=>t&&e?e.filter(e=>e.name.toLowerCase().indexOf(t.toLowerCase())>-1):[],S=({objectId:e,container:t,title:i,contentType:a,url:s,updatedTimestamp:r,iconUrl:l,subtype:n})=>({objectId:e,name:i,container:t,url:s,...l?{icon:l,iconAlt:y(a,n).iconAlt}:y(a,n),lastUpdatedDate:r?new Date(r):void 0,prefetch:!1,meta:{source:"xp-search"}}),w=e=>{for(let t=e.length-1;t>=0;--t){let i=e[t].name;if(i)return i}return""};function P(e,t){let i=`ari:cloud:platform::site/${t}`;if(void 0===e)return[i];let a=e.map(e=>"townsquare"===e?`ari:cloud:townsquare::site/${t}`:`ari:cloud:platform::site/${t}`);return a.filter((e,t)=>a.indexOf(e)===t)}var T=class{createSearchProvider(e,t,i,a){if(this.cloudId&&e)return Promise.resolve(new l(this.cloudId,e,t,i,a,this.cloudIds))}filterListItemFields(e){let t=this.products;if(t?.length!==1)return e;let i={townsquare:["lastViewedDate","lastUpdatedDate","container"]};return e.map(e=>{let a={...e};for(let[e,s]of Object.entries(i))if(t[0]===e)for(let e of s)a[e]=void 0;return a})}setLoomRecentItemsDateField(e){return e.map(e=>{let t={...e};return t.lastViewedDate=e.lastUpdatedDate,t.lastUpdatedDate=void 0,t})}async getRecentItems(){if(!this.activityClient)return[];if(!this.recentItems){let{viewed:e}=await this.activityClient.fetchActivities([50,125,250],{limit:100,products:this.products,rootContainerIds:this.allowMultiSiteRecents?this.cloudIds?.reduce((e,t)=>e.concat(...P(this.products,t)),[]):void 0===this.cloudId||this.isMultisiteSearch?void 0:P(this.products,this.cloudId)},["viewed"],!0);this.recentItems=e.map(L),this.recentItems=this.filterListItemFields(this.recentItems)}return this.recentItems}async searchRecentItems({query:e}){return this.recentItems||await this.getRecentItems(),j(this.recentItems,e)}async quickSearch(t){let i=this._scope===e("7dyLS").Scope.Loom&&0===t.query.length;if(i&&this._loomRecentItems)return this._loomRecentItems;let a=(await this.debouncedSearch(t.query)).map(S);return i&&(a=this.setLoomRecentItemsDateField(a),this._loomRecentItems=a),this.filterListItemFields(a)}mergeResults(e,t){var i,a;return i=[...e,...t],a=(e,t)=>e.url===t.url,i.filter((e,t,i)=>i.findIndex(t=>a?a(e,t):e===t)===t)}applyPluginFilter(e){return e.filter(({objectId:e})=>this._pluginItemFilter?.(e)??!0).filter(({objectId:e,url:t})=>this._pluginDataFilter?.({id:e,url:t})??!0)}async *resolve(e){if(this.activityClient&&0===e.query.length)return{data:this.applyPluginFilter(await this.getRecentItems())};let t=this.applyPluginFilter(await this.searchRecentItems(e));if(t.length>=5||!this.searchProvider)return{data:t};t.length&&(yield{data:t});let i=this.applyPluginFilter(await this.quickSearch(e));return{data:this.mergeResults(t,i)}}emptyStateNoResults(){return(0,e("dh538").fg)("link-picker-atl-plugin-empty-state")?this.activityClient&&this.products&&1===this.products.length?b(this.products[0],this.action,this.cloudId,this.isMultisiteSearch):null:null}get tabKey(){return this._tabKey}get tabTitle(){return this._tabTitle}get action(){return this._action}constructor(t){this._tabKey=void 0,this._tabTitle=void 0,this.products=void 0,this.debouncedSearch=void 0,this.searchProvider=void 0,this.activityClient=void 0,this.recentItems=void 0,this.analyticsIdentifier="link-picker-quick-search",this.useConfluenceTypeInAri=!0,this.cloudId=void 0,this.cloudIds=void 0,this.isMultisiteSearch=void 0,this.allowMultiSiteRecents=void 0,this._action=void 0,this._scope=void 0,this._loomRecentItems=void 0,this._pluginItemFilter=void 0,this._pluginDataFilter=void 0;let{tabConfig:i,activityClientEndpoint:a,disableActivityClient:s=!1,searchProvider:r,cloudId:l,cloudIds:n,scope:o,products:c,aggregatorUrl:u,action:d,itemFilter:p,dataFilter:h,allowMultiSiteRecents:f}=t??{},{tabKey:m,tabTitle:b}=i??{};this._tabKey=m||"Atlassian",this._tabTitle=b||"Atlassian",this.products=c,this.cloudId=l,this.cloudIds=n,this.isMultisiteSearch=(this.cloudIds?.length??0)>0,this.allowMultiSiteRecents=this.isMultisiteSearch&&f,this._action=d,this._scope=o,this._pluginItemFilter=p,this._pluginDataFilter=h,this.searchProvider=r||this.createSearchProvider(o,u,this.analyticsIdentifier,this.useConfluenceTypeInAri),s||(this.activityClient=(0,e("6hu6G").createActivityClient)("v3","link_picker_atlassian_plugin",void 0,a)),this.debouncedSearch=(0,e("aQaGv").promiseDebounce)(async e=>this.searchProvider?(await this.searchProvider).quickSearch(e,5):[],400)}};t.exports.default=T}),t("aQaGv",function(e,t){e.exports.promiseDebounce=function(e,t){let i;return(...a)=>(i&&clearTimeout(i),new Promise((s,r)=>{i=setTimeout(()=>{e(...a).then(s).catch(r)},t)}))}});
//# sourceMappingURL=root-component.b390e53f.js.map
