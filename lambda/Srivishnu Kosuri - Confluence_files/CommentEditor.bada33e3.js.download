var e=globalThis.parcelRequired477,t=e.register;t("6eZqW",function(t,a){var r=e("8m4tT");function s({node:t,featureToggles:a={},mentionMap:r={},idMap:s={}}){let o=new(0,e("2htg1").MarkdownSerializerState)(a,r,s);o.renderContent(t);let n=new(0,e("8nxxM").ProseMirrorContentStatistics)(t).collectStatistics();return{markdown:"‌"===o.out?"":o.out,fallbackState:o.fallbackState,nonErrorFallbackState:o.nonErrorFallbackState,idMap:o.idMap,contentStatistics:n}}t.exports.convertProsemirrorToMarkdown=function({editorView:e,fragment:t,featureToggles:a={},mentionMap:o={},idMap:n={}}){return s({node:t=function(e,t,a){switch(a?.firstChild?.type?.name){case"text":let{schema:s}=e.state,{$from:o}=e.state.selection,n=(0,r.findParentNodeClosestToPos)(o,e=>"paragraph"===e.type.name||"heading"===e.type.name)?.node;return n?s.nodes.doc.createChecked(null,s.nodes[n.type.name].createChecked(n.attrs,a)):s.nodes.doc.createChecked(null,s.nodes.paragraph.createChecked(null,a));case"listItem":let{schema:l}=e.state,{$from:i}=e.state.selection,d=(0,r.findParentNodeClosestToPos)(i,e=>"bulletList"===e.type.name||"orderedList"===e.type.name)?.node;return d?l.nodes[d.type.name].createChecked(d.attrs,a):a;case"taskItem":return t.nodes.doc.createChecked(null,t.nodes.taskList.createChecked(null,a));case"layoutColumn":let{schema:u}=e.state,c=(0,r.findParentNodeOfType)(u.nodes.layoutSection)(e.state.selection);return c?u.nodes.doc.createChecked(null,u.nodes.layoutSection.createChecked(c.node.attrs,a)):a;default:return a}}(e,e.state.schema,t),featureToggles:a,mentionMap:o,idMap:n})},t.exports.convertProsemirrorNodeToMarkdown=s}),t("8nxxM",function(t,a){t.exports.ProseMirrorContentStatistics=class{collectStatistics(){let{nodeCounts:e,markCounts:t,linksCount:a,mentionsCount:r}=this.countNodesAndMarks(),{totalCharacterCount:s}=this.calculateCharacterCounts();return{nodeCounts:e,markCounts:t,linksCount:a,mentionsCount:r,totalCharacterCount:s,contextSelectionScope:void 0}}countNodesAndMarks(){let e=new Map,t=new Map,a=0,r=0;return this.content.descendants(s=>{e.set(s.type.name,(e.get(s.type.name)||0)+1);let o=s.marks;o.forEach(e=>{t.set(e.type.name,(t.get(e.type.name)||0)+1)});let{nodes:{inlineCard:n,mention:l},marks:{link:i}}=s.type.schema;s.type===l&&r++,s.type===n&&s.attrs.url&&a++,o.find(e=>e.type===i)&&a++}),{nodeCounts:Object.fromEntries(e),markCounts:Object.fromEntries(t),linksCount:a,mentionsCount:r}}calculateCharacterCounts(){let t="";return this.content instanceof e("5SAOw").Node?t=this.content.textContent:this.content.forEach(e=>{t+=e.textContent}),{totalCharacterCount:t.length}}constructor(e){this.content=void 0,this.content=e}}}),t("2htg1",function(t,a){let r=function(t,a=1){let r=Math.max(a,(t.match(/`+/g)||[]).reduce((e,t)=>t.length>e.length?t:e,"").length+1);return(0,e("8q1Q5").stringRepeat)("`",r)};class s extends e("42JDa").MarkdownSerializerState{findStateIdMap(e,t,a){for(let r in e.idMap){let{type:s,attributes:o}=e.idMap[r];if(s!==t)continue;let n=!0;for(let e in a)if("localId"!==e&&a[e]!==o[e]){n=!1;break}if(n)return r}return null}getIdBasedOnIdMap(e,t,a){let r=e.findStateIdMap(e,t,a);return r||`id-${e.idCounter++}`}updateFallbackState(e,t){if(e instanceof Error){let a=t.type.name,r=e.message,s=this.fallbackState?.[a];Object.assign(this.fallbackState,{[a]:{...s,[r]:(s?.[r]||0)+1}})}else throw e}updateNonErrorFallbackState(e){Object.assign(this.nonErrorFallbackState,{[e.type.name]:(this.nonErrorFallbackState[e.type.name]||0)+1})}atBlank(){return/(^|\n)$/.test(this.out)}flushClose(e=2){if(this.closed){if(this.atBlank()||(this.out+="\n"),e>1){let t=this.delim,a=/\s+$/.exec(t);a&&(t=t.slice(0,t.length-a[0].length));for(let a=1;a<e;a++)this.out+=t+"\n"}this.closed=null}}render(e,t,a,r){if(!this.nodes[e.type.name])throw Error(`Token type \`${e.type.name}\` not supported by Markdown renderer`);if(r?.skipFallback)this.nodes[e.type.name].serialize({state:this,node:e,parent:t,index:a,options:r});else try{this.nodes[e.type.name].serialize({state:this,node:e,parent:t,index:a,options:r})}catch(r){return this.updateFallbackState(r,e),this.nodes.fallback.serialize({state:this,node:e,parent:t,index:a})}}renderContent(e){e.forEach((t,a,r)=>{if(t.isTextblock&&!t.textContent&&"codeBlock"!==t.type.name&&!(t.content&&t.content.size>0))return this.nodes.empty_line.serialize({state:this,node:t,parent:e,index:r});try{return this.render(t,e,r)}catch(a){return this.updateFallbackState(a,t),this.nodes.fallback.serialize({state:this,node:t,parent:e,index:r})}})}renderInline(e,t){let a=[],s="",o=(t,o,n)=>{let l=t?t.marks.filter(e=>this.marks[e.type.name]):[],i=s;if(s="",t&&t.isText&&l.some(e=>{let t=this.marks[e.type.name];return t&&t.expelEnclosingWhitespace})){let[,e,r,o]=/^(\s*)(.*?)(\s*)$/m.exec(t.text);i+=e,s=o,(e||o)&&((t=r?t.withText(r):null)||(l=a))}let d=l.length&&"code"===l[l.length-1].type.name&&l[l.length-1],u=l.length-!!d;e:for(let e=0;e<u;e++){let t=l[e];if(!this.marks[t.type.name].mixable)break;for(let r=0;r<a.length;r++){let s=a[r];if(!this.marks[s.type.name].mixable)break;if(t.eq(s)){e>r?l=l.slice(0,r).concat(t).concat(l.slice(r,e)).concat(l.slice(e+1,u)):r>e&&(l=l.slice(0,e).concat(l.slice(e+1,r)).concat(t).concat(l.slice(r,u)));continue e}}}let c=0;for(;c<Math.min(a.length,u)&&l[c].eq(a[c]);)++c;for(;c<a.length;)this.text(this.markString(a.pop(),!1,e,n),!1);for(i&&this.text(i);a.length<u;){let t=l[a.length];a.push(t),this.text(this.markString(t,!0,e,n),!1)}if(t)if(d&&t.isText){if(t.text){let e=t.text,a=r(t.text,1);e.match(/^`/)&&(e=" "+e),e.match(/`$/)&&(e+=" "),this.text(a+e+a,!1)}}else this.render(t,e,n)};e.forEach((a,r,s)=>{if(t?.skipFallback)o(a,e,s);else try{o(a,e,s)}catch(e){this.updateFallbackState(e,a)}}),o(null)}addBlockMarks(e,t,a){let r=[],s=["alignment","breakout","border"],o=t.marks.filter(e=>s.includes(e.type.name));if(0===o.length)return void a();o.forEach(t=>{let a=e.featureToggles.markdownPlusAvoidDuplicatedIdCounter?e.getIdBasedOnIdMap(e,t.type.name,t.attrs):`id-${e.idCounter++}`;e.idMap[a]={type:t.type.name,attributes:t.attrs},e.write(`<custom data-type="${t.type.name}_open" data-id="${a}" />

`),r.unshift(`<custom data-type="${t.type.name}_close" />

`)}),a(),e.write(r.join(""))}constructor(e,t,a){super(o,n,{}),this.idMap={},this.idCounter=0,this.nodes=void 0,this.marks=void 0,this.featureToggles={},this.mentionMap={},this.delim="",this.out="",this.closed=null,this.fallbackState={},this.nonErrorFallbackState={},this.context={insideTable:!1},this.nodes=o,this.marks=n,this.featureToggles=e||{},this.mentionMap=t||{},this.idMap=a||{},this.idCounter=Object.keys(this.idMap).length}}let o={blockquote:{serialize({state:e,node:t}){e.wrapBlock("> ",null,t,()=>e.renderContent(t))},support:"full"},codeBlock:{serialize({state:e,node:t}){let a=r(t.textContent,3);e.write(a+(t.attrs.language||"")+"\n"),e.text(t.textContent?t.textContent:"‌",!1),e.ensureNewLine(),e.write(a),e.closeBlock(t)},support:"full"},heading:{serialize({state:e,node:t}){e.write(e.repeat("#",t.attrs.level)+" "),e.renderInline(t),e.closeBlock(t)},support:"full"},rule:{serialize({state:e,node:t}){e.write(t.attrs.markup||"---"),e.closeBlock(t)},support:"full"},bulletList:{serialize({state:e,node:t}){for(let a=0;a<t.childCount;a++){let r=t.child(a);e.render(r,t,a)}},support:"full"},orderedList:{serialize({state:e,node:t}){for(let a=0;a<t.childCount;a++){let r=t.child(a);e.render(r,t,a)}},support:"full"},listItem:{serialize({state:t,node:a,parent:r,index:s}){let o=(0,e("50zV1").getOrderFromMaybeOrderedListNode)(r),n="bulletList"===r.type.name?"* ":`${o+s}. `;for(let e=0;e<a.childCount;e++){let s=a.child(e);e>0&&t.write("\n"),0===e?t.wrapBlock("  ",n,a,()=>t.render(s,r,e)):t.wrapBlock("    ",null,a,()=>t.render(s,r,e)),"paragraph"===s.type.name&&e>0&&t.write("\n"),t.flushClose(1)}s===r.childCount-1&&t.write("\n")},support:"full"},taskList:{serialize({state:e,node:t}){for(let a=0;a<t.childCount;a++){let r=t.child(a);e.render(r,t,a),e.write("\n")}e.write("\n")},support:"full"},taskItem:{serialize({state:e,node:t}){let a=t.attrs.state;e.write("TODO"===a?"- [ ] ":"- [x] "),e.renderInline(t)},support:"full"},paragraph:{serialize({state:e,node:t}){e.renderInline(t),e.closeBlock(t)},support:"full"},mediaGroup:{serialize({state:e,node:t}){e.updateNonErrorFallbackState(t);for(let a=0;a<t.childCount;a++){let r=t.child(a);e.render(r,t,a)}},support:"fallback"},mediaInline:{serialize({state:e,node:t}){e.featureToggles.markdownPlus&&e.featureToggles.markdownPlusAddComplexNodes&&e.addBlockMarks(e,t,()=>{let a=`id-${e.idCounter++}`;e.idMap[a]={type:"mediaInline",attributes:t.attrs},e.write(`<custom data-type="mediaInline" data-id="${a}"></custom>`)})},support:"preview"},mediaSingle:{serialize({state:t,node:a,parent:r,index:s}){if(t.featureToggles.markdownPlus&&t.featureToggles.markdownPlusAddComplexNodes)t.addBlockMarks(t,a,()=>{let e=t.featureToggles.markdownPlusAvoidDuplicatedIdCounter?t.getIdBasedOnIdMap(t,"mediaSingle",a.attrs):`id-${t.idCounter++}`;t.idMap[e]={type:"mediaSingle",attributes:a.attrs},t.write(`<custom data-type="media_single_open" data-id="${e}" />

`),a.content.forEach((e,o)=>{try{t.render(e,a,o,{skipFallback:!0})}catch(e){t.updateFallbackState(e,a),t.nodes.fallback.serialize({state:t,node:a,parent:r,index:s})}}),t.write(`<custom data-type="media_single_close" />

`)});else{t.updateNonErrorFallbackState(a);for(let e=0;e<a.childCount;e++){let r=a.child(e);t.render(r,a,e)}r instanceof e("5SAOw").Node?t.write("\n"):t.write("\n\n")}},support:"preview"},caption:{serialize({state:e,node:t,parent:a,index:r}){if(e.featureToggles.markdownPlus&&e.featureToggles.markdownPlusAddComplexNodes){let s=e.featureToggles.markdownPlusAvoidDuplicatedIdCounter?e.getIdBasedOnIdMap(e,"caption",t.attrs):`id-${e.idCounter++}`;e.idMap[s]={type:"caption",attributes:t.attrs},e.write(`<custom data-type="caption_open" data-id="${s}" />

`);try{e.renderInline(t,{skipFallback:!0})}catch(s){e.updateFallbackState(s,t),e.nodes.fallback.serialize({state:e,node:t,parent:a,index:r})}e.write(`

<custom data-type="caption_close" />

`)}else e.updateNonErrorFallbackState(t),e.write(t.textContent)},support:"preview"},media:{serialize({state:t,node:a}){let r=`blob:${e("bd943").MEDIA_BASE_URL_STAGING}/?`,s=Object.entries(a.attrs).map(([e,t])=>"alt"!==e?`${encodeURIComponent(e)}=${encodeURIComponent(t)}`:"").join("&"),o=`${r}${s}`;t.write(`![](${o})${t.featureToggles.markdownPlusAddComplexNodes?"\n\n":""}`)},support:"full"},image:{serialize({state:t,node:a}){t.write("!["+(0,e("8q1Q5").escapeMarkdown)(a.attrs.alt)+"]("+a.attrs.src+(a.attrs.title?` '${(0,e("8q1Q5").escapeMarkdown)(a.attrs.title)}'`:"")+")")},support:"full"},hardBreak:{serialize({state:e}){e.write("  \n")},support:"full"},text:{serialize({state:t,node:a,parent:r,index:s}){let o=0===s?null:r.child(s-1),l=a.textContent,i="    ";!o&&/^\s{4}/.test(a.textContent)&&(l=a.textContent.replace(i,"‌"+i));let d=l.split("\n");for(let a=0;a<d.length;a++){let r=t.atBlank()||!!t.closed;t.write(),t.out+=(0,e("8q1Q5").escapeMarkdown)(d[a],r,t.context.insideTable),a!==d.length-1&&(d[a]&&d[a].length&&d[a+1]&&d[a+1].length&&(t.out+="  "),t.out+="\n")}a.marks.forEach(e=>{n[e.type.name]||t.updateNonErrorFallbackState(e)})},support:"full"},empty_line:{serialize({state:e,node:t}){e.write("‌"),e.closeBlock(t)},support:"full"},placeholder:{serialize({state:e,node:t}){if(e.featureToggles.markdownPlus){let a=e.featureToggles.markdownPlusAvoidDuplicatedIdCounter?e.getIdBasedOnIdMap(e,"placeholder",t.attrs):`id-${e.idCounter++}`;e.idMap[a]={type:"placeholder",attributes:t.attrs},e.write(`<custom data-type="placeholder" data-id="${a}">${t.attrs.text}</custom>`)}},support:"custom"},mention:{serialize({state:e,node:t,parent:a,index:r}){let s=a.childCount===r+1,o="";s||(o=0===a.child(r+1).textContent.indexOf(" ")?"":" ");let n=e.mentionMap[t.attrs.id]||"";if(e.featureToggles.markdownPlus){let a=e.featureToggles.markdownPlusAvoidDuplicatedIdCounter?e.getIdBasedOnIdMap(e,"mention",{...t.attrs,text:`@${n}`}):`id-${e.idCounter++}`;e.idMap[a]={type:"mention",attributes:{...t.attrs,text:`@${n}`}},e.featureToggles.markdownPlusAttributeTest?(t.attrs.text=`@${n}`,e.write(`<custom data-type="mention" data-id="${a}" data-attrs="${JSON.stringify(t.attrs)}">@${n}</custom>`)):e.write(`<custom data-type="mention" data-id="${a}">@${n}</custom>`)}else e.write(`${n}${o}`)},support:"custom"},date:{serialize({state:e,node:t}){if(e.featureToggles.markdownPlus){let a=e.featureToggles.markdownPlusAvoidDuplicatedIdCounter?e.getIdBasedOnIdMap(e,"date",t.attrs):`id-${e.idCounter++}`,r={...t.attrs,localId:t.attrs.localId??null};e.idMap[a]={type:"date",attributes:r},e.featureToggles.markdownPlusAttributeTest?e.write(`<custom data-type="date" data-id="${a}" data-attrs="${JSON.stringify(t.attrs)}">${new Intl.DateTimeFormat().format(Number(t.attrs.timestamp))}</custom>`):e.write(`<custom data-type="date" data-id="${a}">${new Intl.DateTimeFormat().format(Number(t.attrs.timestamp))}</custom>`)}else e.write(new Intl.DateTimeFormat().format(Number(t.attrs.timestamp)))},support:"custom"},emoji:{serialize({state:e,node:t}){if(e.featureToggles.markdownPlus){let a=e.featureToggles.markdownPlusAvoidDuplicatedIdCounter?e.getIdBasedOnIdMap(e,"emoji",t.attrs):`id-${e.idCounter++}`;e.idMap[a]={type:"emoji",attributes:t.attrs},e.featureToggles.markdownPlusAttributeTest?e.write(`<custom data-type="emoji" data-id="${a}" data-attrs="${JSON.stringify(t.attrs)}">${t.attrs.shortName}</custom>`):e.write(`<custom data-type="emoji" data-id="${a}">${t.attrs.shortName}</custom>`)}else e.write(t.attrs.shortName)},support:"custom"},inlineCard:{serialize({state:e,node:t}){if(e.featureToggles.markdownPlus){let a=e.featureToggles.markdownPlusAvoidDuplicatedIdCounter?e.getIdBasedOnIdMap(e,"inlineCard",t.attrs):`id-${e.idCounter++}`;e.idMap[a]={type:"inlineCard",attributes:t.attrs},e.write(`<custom data-type="smartlink" data-id="${a}">${t.attrs.url}</custom>`)}else e.write(`[${t.attrs.url}](${t.attrs.url})`)},support:"custom"},status:{serialize({state:e,node:t}){if(e.featureToggles.markdownPlus){let a=e.featureToggles.markdownPlusAvoidDuplicatedIdCounter?e.getIdBasedOnIdMap(e,"status",t.attrs):`id-${e.idCounter++}`;e.idMap[a]={type:"status",attributes:t.attrs},e.featureToggles.markdownPlusAttributeTest?e.write(`<custom data-type="status" data-id="${a}" data-attrs="${JSON.stringify(t.attrs)}">${t.attrs.text}</custom>`):e.write(`<custom data-type="status" data-id="${a}">${t.attrs.text}</custom>`)}else throw Error("Token type `status` not supported by Markdown renderer")},support:"custom"},layoutSection:{serialize({state:e,node:t,parent:a,index:r}){if(e.featureToggles.markdownPlus&&e.featureToggles.markdownPlusAddComplexNodes)e.addBlockMarks(e,t,()=>{let s=e.featureToggles.markdownPlusAvoidDuplicatedIdCounter?e.getIdBasedOnIdMap(e,"layoutSection",t.attrs):`id-${e.idCounter++}`;e.idMap[s]={type:"layoutSection",attributes:t.attrs},e.write(`<custom data-type="layoutSection_open" data-id="${s}" />

`);for(let s=0;s<t.childCount;s++){let o=t.child(s);try{e.render(o,t,s,{skipFallback:!0})}catch(s){e.updateFallbackState(s,t),e.nodes.fallback.serialize({state:e,node:t,parent:a,index:r})}}e.write(`<custom data-type="layoutSection_close" />

`)});else{e.updateNonErrorFallbackState(t);for(let a=0;a<t.childCount;a++){let r=t.child(a);e.render(r,t,a)}}},support:"preview"},layoutColumn:{serialize({state:e,node:t,parent:a,index:r}){if(e.featureToggles.markdownPlus&&e.featureToggles.markdownPlusAddComplexNodes){let s=e.featureToggles.markdownPlusAvoidDuplicatedIdCounter?e.getIdBasedOnIdMap(e,"layoutColumn",t.attrs):`id-${e.idCounter++}`;e.idMap[s]={type:"layoutColumn",attributes:t.attrs},e.write(`<custom data-type="layoutColumn_open" data-id="${s}" />

`);for(let s=0;s<t.childCount;s++){let o=t.child(s);try{e.render(o,t,s,{skipFallback:!0})}catch(s){e.updateFallbackState(s,t),e.nodes.fallback.serialize({state:e,node:t,parent:a,index:r})}}e.write(`<custom data-type="layoutColumn_close" />

`)}else{e.updateNonErrorFallbackState(t);for(let a=0;a<t.childCount;a++){let r=t.child(a);e.render(r,t,a)}}},support:"preview"},expand:{serialize({state:e,node:t,parent:a,index:r}){if(e.featureToggles.markdownPlus&&e.featureToggles.markdownPlusAddComplexNodes)e.addBlockMarks(e,t,()=>{let s=e.featureToggles.markdownPlusAvoidDuplicatedIdCounter?e.getIdBasedOnIdMap(e,"expand",t.attrs):`id-${e.idCounter++}`;e.idMap[s]={type:"expand",attributes:t.attrs},e.write(`<custom data-type="expand_open" data-id="${s}" />

`);for(let s=0;s<t.childCount;s++){let o=t.child(s);try{e.render(o,t,s,{skipFallback:!0})}catch(s){e.updateFallbackState(s,t),e.nodes.fallback.serialize({state:e,node:t,parent:a,index:r})}}e.write(`<custom data-type="expand_close" />

`)});else{e.updateNonErrorFallbackState(t);for(let a=0;a<t.childCount;a++){let r=t.child(a);e.render(r,t,a)}}},support:"preview"},nestedExpand:{serialize({state:e,node:t,parent:a,index:r}){if(e.featureToggles.markdownPlus&&e.featureToggles.markdownPlusAddComplexNodes){let s=e.featureToggles.markdownPlusAvoidDuplicatedIdCounter?e.getIdBasedOnIdMap(e,"nestedExpand",t.attrs):`id-${e.idCounter++}`;e.idMap[s]={type:"nestedExpand",attributes:t.attrs},e.write(`<custom data-type="nestedExpand_open" data-id="${s}" />

`);for(let s=0;s<t.childCount;s++){let o=t.child(s);try{e.render(o,t,s,{skipFallback:!0})}catch(s){e.updateFallbackState(s,t),e.nodes.fallback.serialize({state:e,node:t,parent:a,index:r})}}e.write(`<custom data-type="nestedExpand_close" />

`)}else{e.updateNonErrorFallbackState(t);for(let a=0;a<t.childCount;a++){let r=t.child(a);e.render(r,t,a)}}},support:"preview"},panel:{serialize({state:e,node:t,parent:a,index:r}){if(e.featureToggles.markdownPlus&&e.featureToggles.markdownPlusPanels){let s=e.featureToggles.markdownPlusAvoidDuplicatedIdCounter?e.getIdBasedOnIdMap(e,"panel",t.attrs):`id-${e.idCounter++}`;e.idMap[s]={type:"panel",attributes:t.attrs},e.write(`<custom data-type="panel_open" data-id="${s}" />

`);for(let s=0;s<t.childCount;s++){let o=t.child(s);try{e.render(o,t,s,{skipFallback:!0})}catch(s){e.updateFallbackState(s,t),e.nodes.fallback.serialize({state:e,node:t,parent:a,index:r})}}e.write(`<custom data-type="panel_close" />

`)}else{e.updateNonErrorFallbackState(t);for(let a=0;a<t.childCount;a++){let r=t.child(a);e.render(r,t,a)}}},support:"custom"},blockCard:{serialize({state:e,node:t}){e.write(`[${t.attrs.url}](${t.attrs.url})`)},support:"full"},embedCard:{serialize({state:e,node:t}){e.write(`[${t.attrs.url}](${t.attrs.url})`)},support:"full"},decisionList:{serialize({state:e,node:t}){if(e.featureToggles.markdownPlus&&e.featureToggles.markdownPlusDecisions){let a=e.featureToggles.markdownPlusAvoidDuplicatedIdCounter?e.getIdBasedOnIdMap(e,"decisionList",t.attrs):`id-${e.idCounter++}`;e.idMap[a]={type:"decisionList",attributes:t.attrs},e.write(`<custom data-type="decisionList_open" data-id="${a}" />

`);for(let a=0;a<t.childCount;a++){let r=t.child(a);e.render(r,t,a)}e.write(`<custom data-type="decisionList_close" />

`)}else{for(let a=0;a<t.childCount;a++){let r=t.child(a);e.render(r,t,a)}e.write(`

`)}},support:"custom"},decisionItem:{serialize({state:e,node:t,parent:a,index:r}){if(e.featureToggles.markdownPlus&&e.featureToggles.markdownPlusDecisions){let s=e.featureToggles.markdownPlusAvoidDuplicatedIdCounter?e.getIdBasedOnIdMap(e,"decisionItem",t.attrs):`id-${e.idCounter++}`;e.idMap[s]={type:"decisionItem",attributes:t.attrs},e.write(`<custom data-type="decisionItem_open" data-id="${s}" />

`);for(let s=0;s<t.childCount;s++){let o=t.child(s);try{e.render(o,t,s,{skipFallback:!0})}catch(s){e.updateFallbackState(s,t),e.nodes.fallback.serialize({state:e,node:t,parent:a,index:r})}}e.write(`

<custom data-type="decisionItem_close" />

`)}else for(let a=0;a<t.childCount;a++){let r=t.child(a);e.render(r,t,a)}},support:"custom"},extension:{serialize({state:e,node:t}){if(e.featureToggles.markdownPlus&&e.featureToggles.markdownPlusExtensions){let a=e.featureToggles.markdownPlusAvoidDuplicatedIdCounter?e.getIdBasedOnIdMap(e,"extension",t.attrs):`id-${e.idCounter++}`;e.idMap[a]={type:"extension",attributes:t.attrs},e.write(`<custom data-type="extension" data-id="${a}" />

`)}},support:"custom"},inlineExtension:{serialize({state:e,node:t}){if(e.featureToggles.markdownPlus&&e.featureToggles.markdownPlusExtensions){let a=e.featureToggles.markdownPlusAvoidDuplicatedIdCounter?e.getIdBasedOnIdMap(e,"inlineExtension",t.attrs):`id-${e.idCounter++}`;e.idMap[a]={type:"inlineExtension",attributes:t.attrs},e.write(`<custom data-type="inlineExtension" data-id="${a}"></custom>`)}},support:"custom"},bodiedExtension:{serialize({state:e,node:t,parent:a,index:r}){if(e.featureToggles.markdownPlus&&e.featureToggles.markdownPlusExtensions){let s=e.featureToggles.markdownPlusAvoidDuplicatedIdCounter?e.getIdBasedOnIdMap(e,"bodiedExtension",t.attrs):`id-${e.idCounter++}`;e.idMap[s]={type:"bodiedExtension",attributes:t.attrs},e.write(`<custom data-type="bodiedExtension_open" data-id="${s}" />

`);for(let s=0;s<t.childCount;s++){let o=t.child(s);try{e.render(o,t,s,{skipFallback:!0})}catch(s){e.updateFallbackState(s,t),e.nodes.fallback.serialize({state:e,node:t,parent:a,index:r})}}e.write(`<custom data-type="bodiedExtension_close" />

`)}else for(let a=0;a<t.childCount;a++){let r=t.child(a);e.render(r,t,a)}},support:"custom"},fallback:{serialize({state:e,node:t}){t.isBlock?e.write(`${t.textContent||t.attrs.text||""}

`):e.write(t.textContent||t.attrs.text||"")},support:"fallback"},...e("2xv4m").default},n={em:{open:"_",close:"_",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},strike:{open:"~~",close:"~~",mixable:!0,expelEnclosingWhitespace:!0},link:{open:"[",close:(e,t)=>"]("+t.attrs.href+")"},code:{open:"`",close:"`"}};t.exports.MarkdownSerializerState=s,t.exports.nodes=o}),t("2xv4m",function(t,a){let r=e=>"tableHeader"===e.child(0).type.name,s=(e,t)=>t.content.child(0)===e,o=e=>{let t=!1;return e.content.forEach(e=>{r(e)&&(t=!0)}),t},n=(e,t,a)=>{a>0&&e.write(" "),t.content.forEach((t,a)=>{t.isTextblock||"mediaSingle"===t.type.name?(a>0&&e.write(" "),e.context.insideTable=!0,e.renderInline(t),e.context.insideTable=!1):n(e,t,a)})},l=({state:e,node:t})=>{e.write("| "),n(e,t,0),e.write(" ")};t.exports.default={table:{serialize({state:t,node:a,parent:r,index:s}){if(t.featureToggles.markdownPlus&&t.featureToggles.markdownPlusAddComplexNodes){let e=t.featureToggles.markdownPlusAvoidDuplicatedIdCounter?t.getIdBasedOnIdMap(t,"table",a.attrs):`id-${t.idCounter++}`;t.idMap[e]={type:"table",attributes:a.attrs},t.write(`<custom data-type="table_open" data-id="${e}" />

`),a.content.forEach((e,r)=>t.render(e,a,r)),t.write(`<custom data-type="table_close" />

`)}else{(0,e("2VvL9").attributesMatchDefault)(a,t.featureToggles,{layout:a.attrs.layout,localId:a.attrs.localId,width:760})||t.updateNonErrorFallbackState(a);let n=o(a);a.content.forEach((e,o)=>{try{t.render(e,a,o,{headerRowPresent:n,skipFallback:!0})}catch(e){t.updateFallbackState(e,a),t.nodes.fallback.serialize({state:t,node:a,parent:r,index:s})}}),t.closeBlock(a)}},support:"partial"},tableRow:{serialize({state:t,node:a,parent:o,index:n,options:l}){if(t.featureToggles.markdownPlus&&t.featureToggles.markdownPlusAddComplexNodes){let e=t.featureToggles.markdownPlusAvoidDuplicatedIdCounter?t.getIdBasedOnIdMap(t,"table",a.attrs):`id-${t.idCounter++}`;t.idMap[e]={type:"table",attributes:a.attrs},t.write(`<custom data-type="tr_open" data-id="${e}" />

`),a.content.forEach((e,r)=>{try{t.render(e,a,r,{skipFallback:!0})}catch(e){t.updateFallbackState(e,a),t.nodes.fallback.serialize({state:t,node:a,parent:o,index:n})}}),t.write(`<custom data-type="tr_close" />

`)}else if((0,e("2VvL9").attributesMatchDefault)(a,t.featureToggles)||t.updateNonErrorFallbackState(a),a.content.forEach((e,r)=>{try{t.render(e,a,r,{...l,skipFallback:!0})}catch(e){t.updateFallbackState(e,a),t.nodes.fallback.serialize({state:t,node:a,parent:o,index:n})}}),t.write("|"),t.ensureNewLine(),r(a)||s(a,o)){for(let e=0;e<a.childCount;e++)t.write("| --- ");t.write("|"),t.ensureNewLine()}},support:"partial"},tableHeader:{serialize({state:t,node:a,parent:r,index:s,options:o}){if(t.featureToggles.markdownPlus&&t.featureToggles.markdownPlusAddComplexNodes){let e=t.featureToggles.markdownPlusAvoidDuplicatedIdCounter?t.getIdBasedOnIdMap(t,"table",a.attrs):`id-${t.idCounter++}`;t.idMap[e]={type:"table",attributes:a.attrs},t.write(`<custom data-type="th_open" data-id="${e}" />

`),a.content.forEach((e,o)=>{try{t.render(e,a,o,{skipFallback:!0})}catch(e){t.updateFallbackState(e,a),t.nodes.fallback.serialize({state:t,node:a,parent:r,index:s})}}),t.write(`<custom data-type="th_close" />

`)}else(0,e("2VvL9").attributesMatchDefault)(a,t.featureToggles)||t.updateNonErrorFallbackState(a),l({state:t,node:a,parent:r,index:s,options:o})},support:"partial"},tableCell:{serialize({state:t,node:a,parent:r,index:s,options:o}){if(t.featureToggles.markdownPlus&&t.featureToggles.markdownPlusAddComplexNodes){let e=t.featureToggles.markdownPlusAvoidDuplicatedIdCounter?t.getIdBasedOnIdMap(t,"table",a.attrs):`id-${t.idCounter++}`;t.idMap[e]={type:"table",attributes:a.attrs},t.write(`<custom data-type="td_open" data-id="${e}" />

`),a.content.forEach((e,o)=>{try{t.render(e,a,o,{skipFallback:!0})}catch(e){t.updateFallbackState(e,a),t.nodes.fallback.serialize({state:t,node:a,parent:r,index:s})}}),t.write(`<custom data-type="td_close" />

`)}else(0,e("2VvL9").attributesMatchDefault)(a,t.featureToggles)||t.updateNonErrorFallbackState(a),l({state:t,node:a,parent:r,index:s,options:o})},support:"partial"}}}),t("2VvL9",function(e,t){e.exports.attributesMatchDefault=(e,t,a={})=>{if(!t.allowAttributesMatchDefault)return!0;let r=e.type.attrs;if(!r||0===Object.keys(r).length&&0===Object.keys(e.attrs).length)return!0;let s={};for(let t in Object.keys(r).forEach(e=>{s[e]=r[e].default}),Object.keys(a).forEach(e=>{s[e]=a[e]}),e.attrs)if(e.attrs[t]!==s[t])return!1;return!0}}),t("bd943",function(e,t){e.exports.MEDIA_BASE_URL_STAGING="https://media.staging.atl-paas.net"}),t("50zV1",function(t,a){let r=e=>{let t=Number(e);if(!Number.isNaN(t)&&!(t<0))return Math.floor(Math.max(t,0))};t.exports.getOrderFromMaybeOrderedListNode=t=>t instanceof e("5SAOw").Node?r(t?.attrs?.order)??1:1}),t("8q1Q5",function(e,t){e.exports.stringRepeat=function(e,t){let a="";for(let r=0;r<t;r++)a+=e;return a},e.exports.escapeMarkdown=function(e,t,a){let r=e||"";return r=r.replace(/[`*\\~\[\]_]/g,(t,a)=>"_"===t&&a>0&&a+1<e.length&&e[a-1].match(/\w/)&&e[a+1].match(/\w/)?t:"\\"+t),t&&(r=r.replace(/^(\+[ ]|[\-*>])/,"\\$&").replace(/^(\s*)(#{1,6})(\s|$)/,"$1\\$2$3").replace(/^(\s*\d+)\.\s/,"$1\\. ")),a&&(r=r.replace(/[|]/g,"\\$&")),r}});
//# sourceMappingURL=CommentEditor.bada33e3.js.map
