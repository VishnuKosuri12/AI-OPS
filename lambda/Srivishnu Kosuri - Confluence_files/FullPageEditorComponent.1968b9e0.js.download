function e(e){return e&&e.__esModule?e.default:e}function t(e,t,a,i){Object.defineProperty(e,t,{get:a,set:i,enumerable:!0,configurable:!0})}var a=globalThis.parcelRequired477,i=a.register;i("2Yc46",function(e,t){var i,s,r,o,n,l=a("42omo"),c=a("irOoi");let u="ai-mate-auto-apply-enabled",d={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",name:"creationSettingsMutationMutation",selections:s=[{args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"SettingsCreationSettings",kind:"LinkedField",name:"settings_updateCreationSettings",plural:!1,selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"autoApply"}]}],type:"Mutation"},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"creationSettingsMutationMutation",selections:s},params:{id:"ebe912401833398260e3dd424a76d9025c2d0e3981e3849b1cfa056f97e79e8b",metadata:{},name:"creationSettingsMutationMutation",operationKind:"mutation",text:null}};d.hash="2764b2132df7149a218d7fe86758b452";let p={fragment:{argumentDefinitions:[r={defaultValue:null,kind:"LocalArgument",name:"ownerAri"},o={defaultValue:null,kind:"LocalArgument",name:"tenantId"}],kind:"Fragment",name:"creationSettingsQueryQuery",selections:n=[{args:[{kind:"Variable",name:"ownerAri",variableName:"ownerAri"},{kind:"Variable",name:"tenantId",variableName:"tenantId"}],concreteType:"SettingsCreationSettings",kind:"LinkedField",name:"settings_creationSettings",plural:!1,selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"autoApply"}]}],type:"Query"},kind:"Request",operation:{argumentDefinitions:[o,r],kind:"Operation",name:"creationSettingsQueryQuery",selections:n},params:{id:"956e6f209e8636ab81a23303d07e8588229617e5b9b8b1456e7b0510e082a8f0",metadata:{},name:"creationSettingsQueryQuery",operationKind:"query",text:null}};function m(e){return a("d4Pk4").PlatformSiteAri.create({siteId:e}).toString()}function h(e){return a("gHaxX").IdentityUserAri.create({userId:e}).toString()}function f(){try{let e=window.localStorage.getItem(u);return null===e||JSON.parse(e)}catch{return!0}}function g(e){try{window.localStorage.setItem(u,JSON.stringify(e)),window.dispatchEvent(new CustomEvent("autoApplyChanged"))}catch{}}async function b(e,t){if(!t.userId)return f();let a=m(t.cloudId),i=h(t.userId);return(0,c.fetchQuery)(e,p,{tenantId:a,ownerAri:i}).toPromise().then(e=>{if(!e)throw Error("Failed to fetch creation settings: No response");return e?.settings_creationSettings?.autoApply??!0})}async function y(e,t,a){if(!t.userId)return g(a),a;let i=m(t.cloudId),s=h(t.userId),r={tenantId:i,ownerAri:s,autoApply:a};return new Promise((t,i)=>{(0,c.commitMutation)(e,{mutation:d,variables:{input:r},onCompleted:(e,s)=>{let r=e.settings_updateCreationSettings;s||!r?i(s||"Failed to update creation settings"):(g(a),t(a))},onError:e=>{i(e)}})})}p.hash="d5e237e68920e0355d028a1df4e44e10";let x=()=>{try{return(0,c.useRelayEnvironment)()}catch(e){return null}};e.exports.useAutoApplyAvailability=(e,t,i,s)=>{let[r]=(0,a("i1Nyn").useChatContextEditorContext)(),o={type:"unavailable",reason:"no_editor_context"};return i?o={type:"unavailable",reason:"agentic_conversation"}:"staging-area"===e?o={type:"available"}:t?"global"===e&&"jira"===s?o={type:"available"}:"global"===e&&r&&(o={type:"available"}):o={type:"unavailable",reason:"no_page_context"},{autoApplyAvailability:o}},e.exports.useAutoApplyState=(e,t,i,s)=>{let r=x(),o=(0,a("7pmZw").useAIMateExperienceTracker)(),[n,c]=(0,l.useState)(()=>f()),[u,d]=(0,l.useState)(!1),[p,m]=(0,l.useState)(null),h=(0,l.useRef)(n);h.current=n;let v=r&&e&&e.userId&&(0,a("dh538").fg)("enable_auto_apply_toggling"),j=(!e||!e.userId||!r)&&(0,a("dh538").fg)("enable_auto_apply_toggling"),w=!(0,a("dh538").fg)("enable_auto_apply_toggling"),T=(0,l.useCallback)(async()=>{if(!w){if(v){let t=`${a("16lEl").ExperienceName.GET_AUTO_APPLY_STATE}-${Date.now()}`;o.start({id:t,name:a("16lEl").ExperienceName.GET_AUTO_APPLY_STATE}),d(!0),m(null);try{let t=await b(r,e);t!==h.current&&c(t),o.succeed({name:a("16lEl").ExperienceName.GET_AUTO_APPLY_STATE})}catch(t){let e=t instanceof Error?t:Error("Failed to fetch auto-apply state");m(e),o.fail({name:a("16lEl").ExperienceName.GET_AUTO_APPLY_STATE,error:e})}finally{d(!1)}}else if(j){let e=f();e!==h.current&&c(e)}}},[r,e,v,j,w,o]),k=(0,l.useCallback)(async t=>{if(w||t===h.current)return;let i=`${a("16lEl").ExperienceName.SET_AUTO_APPLY_STATE}-${Date.now()}`;d(!0),m(null);try{v?(o.start({id:i,name:a("16lEl").ExperienceName.SET_AUTO_APPLY_STATE}),await y(r,e,t),o.succeed({name:a("16lEl").ExperienceName.SET_AUTO_APPLY_STATE,attributes:{autoApplyEnabled:t}})):j&&g(t),c(t)}catch(i){let e=i instanceof Error?i:Error("Failed to update auto-apply state");throw m(e),v&&o.fail({name:a("16lEl").ExperienceName.SET_AUTO_APPLY_STATE,error:e,attributes:{autoApplyEnabled:t}}),e}finally{d(!1)}},[r,e,v,j,w,o]);return(0,l.useEffect)(()=>{T()},[T]),{enabled:!w&&n,loading:!w&&u,error:w?null:p,setEnabled:k,refresh:T}}}),i("gALmy",function(e,t){var i=a("42omo");class s{insertText(e,t){if(!e)return t;let{selection:a}=t,i=a.$head.pos;return null===this.interimTextFrom?this.interimTextFrom=i:i=this.interimTextFrom,this.interimTextFrom&&this.interimTextTo&&t.delete(this.interimTextFrom,this.interimTextTo),t.insertText(e,i),this.interimTextTo=i+e.length,t}rejectTranscriptedText(e){let t=this.interimTextFrom,a=this.interimTextTo;return t&&a&&(e.delete(t,a),this.disposeTranscriptedText()),e}disposeTranscriptedText(){this.interimTextFrom=null,this.interimTextTo=null}constructor(e=null,t=null){this.interimTextFrom=e,this.interimTextTo=t}}e.exports.useTranscriptionToEditorText=()=>{let e=(0,i.useRef)(new s),t=(0,i.useCallback)((t,a)=>e.current.insertText(t,a),[]);return{handleTranscriptUpdate:t,rejectTranscriptedText:(0,i.useCallback)(t=>e.current.rejectTranscriptedText(t),[]),disposeTranscriptedText:(0,i.useCallback)(()=>{e.current.disposeTranscriptedText()},[])}}}),i("bEPY6",function(e,t){var i,s,r=a("42omo"),o=a("dWJ5i");class n extends a("5aVN7").UFOExperience{startConnectionAttempt(){this.webSocketConnectionTiming={key:"ws_connection",startTime:(0,a("54pZY").perfNowOrTimestamp)(),duration:0}}success(e){return this.addAverageChunkDuration(),super.success(e)}failure(e){return this.addAverageChunkDuration(),super.failure(e)}abort(e){return this.addAverageChunkDuration(),super.abort(e)}connectionEstablished(){this.webSocketConnectionTiming&&(this.webSocketConnectionTiming.duration=(0,a("54pZY").perfNowOrTimestamp)()-this.webSocketConnectionTiming.startTime,this.addMetadata({ws_connection:{...this.webSocketConnectionTiming}})),this.ttfbTiming={startTime:(0,a("54pZY").perfNowOrTimestamp)(),duration:0}}reportTTFB(){this.ttfbTiming&&(this.ttfbTiming.duration=(0,a("54pZY").perfNowOrTimestamp)()-this.ttfbTiming.startTime,this.addMetadata({ttfb:{...this.ttfbTiming}}),this.updateChunkTiming(this.ttfbTiming,1))}addExperienceTotalDuration(){this.addMetadata({total_duration:(this.metrics.endTime||0)-(this.metrics.startTime||0)})}addAverageChunkDuration(){let e=Array.from(this.chunksResponseTime.values()).map(e=>e.duration).filter(e=>e>0),t=e.reduce((e,t)=>e+t,0)/e.length;this.metrics.startTime&&this.markInlineResponse(this.metrics.startTime+t)}updateChunkTiming(e,t){this.chunksResponseTime.set(t,{duration:(0,a("54pZY").perfNowOrTimestamp)()-e.startTime,startTime:e.startTime}),this.chunksResponseTime.set(t+1,{duration:0,startTime:(0,a("54pZY").perfNowOrTimestamp)()})}reportRTT(e){let t=this.chunksResponseTime.get(e);t&&(this.updateChunkTiming(t,e),this.addMetadata({chunks_rtt:Object.fromEntries(Array.from(this.chunksResponseTime.entries()).filter(([e,t])=>t.duration>0).map(([e,t])=>[`chunk_rtt_${e}`,t.duration]))}))}constructor(e,t,a=null){super(e,t,a),this.chunksResponseTime=new Map,this.webSocketConnectionTiming=null,this.ttfbTiming=null}}let l=(e,t)=>{let i=(0,r.useRef)(new n(e,{type:a("9NDUe").ExperienceTypes.Experience,performanceType:a("9NDUe").ExperiencePerformanceTypes.InlineResult,platform:{component:t}}));return{startConnectionAttempt:()=>{i.current.startConnectionAttempt()},successConnectionEstablished:()=>{i.current.connectionEstablished()},reportTTFB:()=>{i.current.reportTTFB()},reportRTT:e=>{i.current.reportRTT(e)},start:()=>{i.current.start()},success:e=>{i.current.success(e)},failure:e=>{i.current.failure(e)},abort:e=>{i.current.abort(e)}}},c=(e,t)=>{switch(t.type){case"SET_INITIALIZING":return{state:a("6VMxF").VoiceDictationState.Initializing,transcription:null};case"SET_RECORDING":return{state:a("6VMxF").VoiceDictationState.Recording,transcription:t.payload.transcription,chunkIndex:t.payload.chunkIndex};case"SET_STOPPED":return{...e,state:a("6VMxF").VoiceDictationState.Stopped,stopReason:t.payload.stopReason};case"SET_ERROR":return{...e,state:a("6VMxF").VoiceDictationState.Error,error:t.payload.error};default:return e}};var u=((i={}).TranscriptionResponseDelta="transcription.response.delta",i.TranscriptionItemCreated="transcription.item.created",i);(s={}).AudioBufferAppend="audio.buffer.append",s.AudioBufferCommit="audio.buffer.commit",s.AudioSessionUpdate="audio.session.update";class d{updateTranscriptionConfig(e="Transcribe speech to text. You may get wake words like 'Hey Rovo!' or 'Hey Atlassian!' or 'Rovo, '. Do not include the waking phrase at the beginning of transcription",t="near_field",i="semantic_vad",s="medium",r="gpt-4o-transcribe",o=["item.input_audio_transcription.logprobs"]){this.socket.send(JSON.stringify({type:"audio.session.update",model:a("c6GJD").default.getExperimentValue("ai-stt-prompt","model",r),include:a("c6GJD").default.getExperimentValue("ai-stt-prompt","include",o),vad_type:a("c6GJD").default.getExperimentValue("ai-stt-prompt","vad_type",i),eagerness:a("c6GJD").default.getExperimentValue("ai-stt-prompt","eagerness",s),instructions:a("c6GJD").default.getExperimentValue("ai-stt-prompt","instructions",e),noise_detection:a("c6GJD").default.getExperimentValue("ai-stt-prompt","noise_detection",t)}))}sendAudio(e){this.socket.send(JSON.stringify({audio:e,type:"audio.buffer.append"}))}commitAudio(){this.socket.send(JSON.stringify({type:"audio.buffer.commit"}))}connect(){return new Promise((e,t)=>{this.socket.onopen=()=>e(this),this.socket.onerror=e=>t(e)})}disconnect(){this.socket?.close()}static create(e,t,a,i){return new d(e,t,a,i).connect()}constructor(e,t,a,i){this.onMessage=i,this.socket=void 0,this.onServerMessage=e=>{let t=JSON.parse(e.data);this.onMessage(t)},this.socket=new WebSocket(`/wss/${e}/ai-feature/audio/realtime-transcriptions?product=${t}&experience=${a}`),this.socket.addEventListener("message",this.onServerMessage)}}let p=async e=>new Promise((t,a)=>{let i=new FileReader;i.onloadend=()=>{t(i.result.split(",")[1])},i.onerror=()=>a(Error("Failed to convert to base64")),i.readAsDataURL(e)}),m=(e,t,a=!0)=>{let i=new(window.AudioContext||window.webkitAudioContext)().createBuffer(e.numberOfChannels,e.length,e.sampleRate);for(let s=0;s<e.numberOfChannels;s++){let r=e.getChannelData(s),o=i.getChannelData(s),n=0;for(let e=0;e<r.length;e++){let i=r[e]*t;o[e]=i,a&&(n=Math.max(n,Math.abs(i)))}if(a&&n>1){let e=1/n;for(let t=0;t<o.length;t++)o[t]*=e}else if(!a)for(let e=0;e<o.length;e++)o[e]=Math.max(-1,Math.min(1,o[e]))}return i},h=e=>{let t=0,a=0;for(let i=0;i<e.numberOfChannels;i++){let s=e.getChannelData(i);for(let e=0;e<s.length;e++)t+=s[e]*s[e],a++}return Math.sqrt(t/a)},f=(e,t=.2,a=10)=>{let i=h(e);return 0===i?1:Math.min(t/i,a)},g=(e,t=.01)=>{let a=e.numberOfChannels,i=e.length;for(let s=0;s<a;s++){let a=e.getChannelData(s),r=0;for(let e=0;e<i;e++)r+=a[e]*a[e];if(Math.sqrt(r/i)>t)return!0}return!1},b=(e,t=.005)=>{let a=e.numberOfChannels,i=e.length;for(let s=0;s<a;s++){let a=e.getChannelData(s);for(let e=0;e<i;e++)if(Math.abs(a[e])>t)return!0}return!1},y=(e,t=.1)=>{let a=e.numberOfChannels,i=e.length;for(let s=0;s<a;s++){let a=e.getChannelData(s),r=0;for(let e=1;e<i;e++)(a[e]>=0&&a[e-1]<0||a[e]<0&&a[e-1]>=0)&&r++;if(r/i>t)return!0}return!1},x=(e,t={})=>{let{rmsThreshold:a=.01,peakThreshold:i=.005,zeroCrossingThreshold:s=.1,requireAll:r=!1}=t,o=g(e,a),n=b(e,i),l=y(e,s);return r?o&&n&&l:o||n||l},v=e=>{let t=e.numberOfChannels,a=e.length,i=new ArrayBuffer(a*t*2),s=new DataView(i),r=0;for(let i=0;i<t;i++){let t=e.getChannelData(i);for(let e=0;e<a;e++){let a=Math.round(32767*Math.max(-1,Math.min(1,t[e])));s.setInt16(r,a,!0),r+=2}}return i},j=async(e,t,a=24e3)=>{let i=await e.arrayBuffer(),s=new AudioContext({sampleRate:a});try{let e=await s.decodeAudioData(i),a=e.length;if(a-t<=0)return await s.close(),{audioBuffer:null,newAudioEndPosition:0};let r=s.createBuffer(e.numberOfChannels,a-t,e.sampleRate);for(let i=0;i<e.numberOfChannels;i++){let s=e.getChannelData(i);r.getChannelData(i).set(s.slice(t,a))}return await s.close(),{audioBuffer:r,newAudioEndPosition:a}}catch(e){throw await s.close(),e}},w=async(e,t,i,s={enableSoundDetection:a("c6GJD").default.getExperimentValue("ai-stt-prompt","clientEnableSoundDetection",!1),useComprehensiveDetection:a("c6GJD").default.getExperimentValue("ai-stt-prompt","clientUseComprehensiveDetection",!1),soundThreshold:a("c6GJD").default.getExperimentValue("ai-stt-prompt","clientSoundThreshold",.005)},r={enableGain:a("c6GJD").default.getExperimentValue("ai-stt-prompt","clientEnableGain",!1),gainFactor:a("c6GJD").default.getExperimentValue("ai-stt-prompt","clientGainFactor",3),autoNormalize:a("c6GJD").default.getExperimentValue("ai-stt-prompt","clientAutoNormalize",!1),targetRMS:a("c6GJD").default.getExperimentValue("ai-stt-prompt","clientTargetRMS",.2),preventClipping:a("c6GJD").default.getExperimentValue("ai-stt-prompt","clientPreventClipping",!0)})=>{let{enableSoundDetection:o,useComprehensiveDetection:n,soundThreshold:l}=s,c=new Blob(e),{audioBuffer:u,newAudioEndPosition:d}=await j(c,t,i);if(!u||o&&!(n?x(u,{rmsThreshold:l}):g(u,l)))return{audioString:null,newAudioEndPosition:d};let h=u;if(r.enableGain){let{gainFactor:e=1,autoNormalize:t=!1,targetRMS:a=.2,preventClipping:i=!0}=r,s=t?f(u,a):e;h=m(u,s,i)}let b=new Blob([v(h)],{type:"audio/pcm"});return{audioString:await p(b),newAudioEndPosition:d}};class T{async startRecording(){this.resetInMemoryState(),this.onTranscription({type:"SET_INITIALIZING"}),await this.connectWebSocketConvoAIAPI(),this.mediaStream=await navigator.mediaDevices.getUserMedia({audio:{sampleRate:this.sampleRate,echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}}),this.mediaRecorder=new MediaRecorder(this.mediaStream,{audioBitsPerSecond:this.audioBitsPerSecond,mimeType:"audio/webm"}),this.mediaRecorder.start(this.timeSlice),this.mediaRecorder.addEventListener("dataavailable",this.onMediaRecorderDataAvailable),this.mediaRecorder.addEventListener("stop",this.onMediaRecorderStop),this.mediaRecorder.addEventListener("error",this.onMediaRecorderError),this.recordingTimeout=setTimeout(()=>{this.stopRecording(a("6VMxF").VoiceDictationStopReason.TimeoutAccepted)},this.maxRecordingDurationMs)}stopRecording(e=a("6VMxF").VoiceDictationStopReason.StoppedAccepted){this.insertEmptySpaceIntoTranscription(),this.clearRecordingTimeout(),this.onTrace?.({type:"STOP_RECORDING",payload:{stopReason:e}}),this.onTranscription({type:"SET_STOPPED",payload:{stopReason:e}}),this.mediaRecorder?.stop()}async connectWebSocketConvoAIAPI(){try{this.onTrace?.({type:"START_WEBSOCKET_CONNECTION"}),this.convoAIWebSocketAPI=await d.create(this.cloudID,this.product,this.experience,this.onMessage),this.onTrace?.({type:"WEBSOCKET_CONNECTION_SUCCESS"}),this.convoAIWebSocketAPI.updateTranscriptionConfig()}catch(e){this.onTranscription({type:"SET_ERROR",payload:{error:e instanceof Error?e.message:"Unknown error"}}),this.onTrace?.({type:"ERROR",payload:{error:e instanceof Error?e.message:"Unknown error"}})}}insertEmptySpaceIntoTranscription(){this.transcription&&(this.transcription=this.transcription+" ",this.onTranscription({type:"SET_RECORDING",payload:{transcription:this.transcription,chunkIndex:this.chunkIndex}}))}clearRecordingTimeout(){this.recordingTimeout&&(clearTimeout(this.recordingTimeout),this.recordingTimeout=null)}resetInMemoryState(){this.chunkIndex=0,this.createdItemChunkIndex=0,this.lastProcessedPosition=0,this.processedChunksCountAfterLastCommit=0,this.lastAudioChunkWasProcessed=!1,this.transcription=null,this.audioChunks=[],this.clearRecordingTimeout()}constructor(e){this.audioChunks=[],this.lastProcessedPosition=0,this.processedChunksCountAfterLastCommit=0,this.convoAIWebSocketAPI=null,this.mediaStream=null,this.mediaRecorder=null,this.lastAudioChunkWasProcessed=!1,this.recordingTimeout=null,this.transcription=null,this.chunkIndex=0,this.createdItemChunkIndex=0,this.cloudID=void 0,this.sampleRate=void 0,this.audioBitsPerSecond=void 0,this.timeSlice=void 0,this.maxRecordingDurationMs=void 0,this.product=void 0,this.experience=void 0,this.onTrace=void 0,this.onTranscription=void 0,this.onMessage=e=>{switch(e.type){case u.TranscriptionResponseDelta:this.transcription=this.transcription?this.transcription+e.delta:e.delta,this.chunkIndex++,this.onTranscription({type:"SET_RECORDING",payload:{transcription:this.transcription,chunkIndex:this.chunkIndex}});break;case u.TranscriptionItemCreated:this.createdItemChunkIndex++,this.onTrace?.({type:"TRANSCRIPTION_ITEM_CREATED",payload:{createdItemChunkIndex:this.createdItemChunkIndex}}),this.insertEmptySpaceIntoTranscription()}},this.onMediaRecorderStop=()=>{this.mediaStream?.getTracks().forEach(e=>e.stop()),this.convoAIWebSocketAPI?.disconnect()},this.onMediaRecorderError=e=>{this.onTranscription({type:"SET_ERROR",payload:{error:e.message}}),this.onTrace?.({type:"ERROR",payload:{error:e.message}})},this.onMediaRecorderDataAvailable=async e=>{this.audioChunks.push(e.data);try{let{audioString:e,newAudioEndPosition:t}=await w(this.audioChunks,this.lastProcessedPosition,this.sampleRate);this.lastProcessedPosition=t,e?(this.lastAudioChunkWasProcessed=!0,this.processedChunksCountAfterLastCommit++,this.convoAIWebSocketAPI?.sendAudio(e)):null===e&&this.lastAudioChunkWasProcessed&&(this.convoAIWebSocketAPI?.commitAudio(),this.processedChunksCountAfterLastCommit=0,this.lastAudioChunkWasProcessed=!1)}catch(e){this.onTranscription({type:"SET_ERROR",payload:{error:e instanceof Error?e.message:"Unknown error"}}),this.onTrace?.({type:"ERROR",payload:{error:e instanceof Error?e.message:"Unknown error"}})}};let{onTranscription:t,cloudID:a,sampleRate:i=24e3,audioBitsPerSecond:s=16e3,timeSlice:r=1e3,maxRecordingDurationMs:o=6e4,onTrace:n,product:l="confluence",experience:c="confluence-ai-first-creation"}=e;this.onTranscription=t,this.cloudID=a,this.sampleRate=i,this.audioBitsPerSecond=s,this.timeSlice=r,this.maxRecordingDurationMs=o,this.onTrace=n,this.product=l,this.experience=c}}e.exports.useVoiceDictation=(e,t,i=16e3,s=24e3,n=1e3,u=6e4)=>{let{sharedFeaturesInstrumentationId:d,isInSmartCreateFlow:p}=(0,r.useContext)(a("TwPkE").SharedFeaturesInstrumentationIdContext),{trackAIInteractionInit:m,trackAIResultView:h,trackAIResultError:f,trackAIInteractionDismiss:g,trackAIResultAction:b,trackAIResultDiscarded:y}=(0,a("fYQcF").useAIEventsInstrumentation)({product:"platform",subproduct:"platform",aiFeatureName:"aiVoiceDictation",proactiveGeneratedAI:0,userGeneratedAI:1,enablePlatformEvents:!0,additionalAttributes:{productAttributionOverride:"confluence",sharedFeaturesInstrumentationId:d,isInSmartCreateFlow:p}}),{start:x,success:v,startConnectionAttempt:j,successConnectionEstablished:w,reportTTFB:k,reportRTT:S,failure:_}=l("streaming-stt","ai-speech-to-text"),[P,E]=(0,r.useReducer)(c,{state:a("6VMxF").VoiceDictationState.Uninitialized,transcription:null}),C=(0,r.useCallback)(e=>{(0,o.match)(e).with({type:"START_WEBSOCKET_CONNECTION"},()=>{x(),j()}).with({type:"WEBSOCKET_CONNECTION_SUCCESS"},()=>{w()}).with({type:"TRANSCRIPTION_ITEM_CREATED",payload:{createdItemChunkIndex:1}},()=>{k()}).with({type:"TRANSCRIPTION_ITEM_CREATED",payload:{createdItemChunkIndex:o.P.number}},({payload:{createdItemChunkIndex:e}})=>{S(e)}).with({type:"STOP_RECORDING"},e=>{v({metadata:{stopReason:e.payload.stopReason}})}).with({type:"ERROR"},e=>{_({metadata:{error:e.payload.error}})}).exhaustive()},[S,k,x,j,w,_,v]),I=(0,r.useRef)(new T({onTranscription:e=>E(e),onTrace:e=>C(e),cloudID:t,sampleRate:s,audioBitsPerSecond:i,timeSlice:n,maxRecordingDurationMs:u}));(0,r.useEffect)(()=>{e(P)},[P,e]),(0,r.useEffect)(()=>{(0,o.match)(P).with({state:a("6VMxF").VoiceDictationState.Initializing},()=>m()).with({state:a("6VMxF").VoiceDictationState.Recording,chunkIndex:1},()=>h()).with({state:a("6VMxF").VoiceDictationState.Stopped,stopReason:a("6VMxF").VoiceDictationStopReason.StoppedAccepted},()=>b("STTAcceptedByUser")).with({state:a("6VMxF").VoiceDictationState.Stopped,stopReason:a("6VMxF").VoiceDictationStopReason.StoppedRejected},()=>y("STTRejectedByUser")).with({state:a("6VMxF").VoiceDictationState.Stopped,stopReason:a("6VMxF").VoiceDictationStopReason.TimeoutAccepted},()=>b("STTAcceptedDueToTimeout")).with({state:a("6VMxF").VoiceDictationState.Error},e=>f({aiErrorMessage:e.error})).with(o.P._,()=>{}).exhaustive()},[P,m,g,h,f,b,y]);let M=(0,r.useCallback)(()=>{I.current.startRecording()},[]),A=(0,r.useCallback)((e=a("6VMxF").VoiceDictationStopReason.StoppedAccepted)=>{I.current.stopRecording(e)},[]);return(0,r.useEffect)(()=>()=>A(),[]),[P,{startRecording:M,stopRecording:A}]}}),i("6VMxF",function(e,t){var a,i,s=((a={}).Initializing="Initializing",a.Uninitialized="Uninitialized",a.Unsupported="Unsupported",a.Recording="Recording",a.Stopped="Stopped",a.Error="Error",a),r=((i={}).StoppedAccepted="STOPPED_ACCEPTED",i.StoppedRejected="STOPPED_REJECTED",i.TimeoutAccepted="TIMEOUT_ACCEPTED",i);e.exports.VoiceDictationState=s,e.exports.VoiceDictationStopReason=r}),i("euw6P",function(t,i){var s=a("gVoWJ"),r=a("agrUc"),o=a("eyggb"),n=a("5HHoF"),l=a("5u7tz"),c=a("42omo");let u=({config:{onArrowUp:e,onArrowDown:t,onInputChange:i},api:s})=>({name:"arrowKeyPlugin",pmPlugins:()=>[{name:"arrowKeyPlugin",plugin:()=>new(0,a("1S4f7").SafePlugin)({props:{handleTextInput:()=>{i()},handleKeyDown:(r,o)=>{"Backspace"===o.key&&i(),(0,a("l6okE").atTheBeginningOfDoc)(r.state)&&("ArrowUp"===o.key?e({replaceDocument:e=>s?.core.actions.replaceDocument(e),view:r}):"ArrowDown"===o.key&&t({replaceDocument:e=>{s?.core.actions.replaceDocument(e),new Promise(e=>{setTimeout(()=>{r.dispatch(r.state.tr.setSelection(new(0,a("ks2lK").TextSelection)(r.state.tr.doc.resolve(0),r.state.tr.doc.resolve(0)))),e(!0)},0)})},view:r}))}}})}]}),d=({userMessages:t})=>{let i=e(c).useRef(t);i.current=t;let s=e(c).useRef(void 0);e(c).useEffect(()=>{s.current=void 0},[t.length]);let r=e(c).useCallback(({replaceDocument:e,position:t,view:r})=>{let o=(0,a("2pjJ5").isEmptyDocument)(r.state.doc);if(!i.current.length||!o&&void 0===s.current)return;let n=Math.max(0,(s.current?i.current.findIndex(e=>e.id===s.current?.id):i.current.length)+("up"===t?-1:1)),l=i.current[n];s.current=l,e(l?.content??(0,a("4pEXC").encodeAdf)(""))},[]),o=e(c).useCallback(({replaceDocument:e,view:t})=>{r({replaceDocument:e,position:"up",view:t})},[r]);return{handleArrowUp:o,handleArrowDown:e(c).useCallback(({replaceDocument:e,view:t})=>{r({replaceDocument:e,position:"down",view:t})},[r]),handleInputChange:e(c).useCallback(()=>{s.current=void 0},[])}};var p=(0,a("cgtv4").defineMessages)({placeholder:{id:"ai-mate.chat-input.placeholder",defaultMessage:"Write a prompt to get started"}});t.exports.MAX_CHARACTERS_INPUT=256e3,t.exports.useEditorPreset=({onSave:e,arrowKeyPluginConfig:t,productKey:i,siteId:c,placeholderPrompts:m,linkPickerOptions:h={}})=>{let{formatMessage:f}=(0,a("8C5kA").default)(),g=(0,a("jhcFr").useLinkPickerEditorProps)(h,{cloudId:c,product:i}),{handleArrowDown:b,handleArrowUp:y,handleInputChange:x}=d({userMessages:t.userMessages}),{preset:v,editorApi:j}=(0,a("1JdaQ").usePreset)(()=>{let t=m&&(0,a("dh538").fg)("aifc_create_enabled")?{placeholderPrompts:m}:{placeholder:f(p.placeholder)};return(0,s.createDefaultPreset)({placeholder:t,hyperlinkOptions:{linkPicker:g,lpLinkPicker:!0},blockType:{allowBlockType:{exclude:["heading"]},lastNodeMustBeParagraph:!0},toolbar:{enableNewToolbarExperience:!1}}).add([a("gCiM9").saveOnEnterPlugin,e]).add(l.mentionsPlugin).add(a("fYKTL").gridPlugin).add([r.cardPlugin,{allowBlockCards:!1,allowEmbeds:!1,linkPicker:g,lpLinkPicker:!0,provider:Promise.resolve(a("477dG").editorCardProvider)}]).add(n.listPlugin).maybeAdd(o.extensionPlugin,(0,a("dh538").fg)("rovo_chat_editor_add_extension_plugin")).add([u,{onArrowDown:b,onArrowUp:y,onInputChange:x}])},[]);return{preset:v,editorApi:j}}}),i("5fzJo",function(t,i){var s=a("42omo");let r=e(s).createContext({});r.Provider,t.exports.useRovoMentionProvider=()=>e(s).useContext(r)}),i("2e6ow",function(e,t){var i=a("42omo");let s=(0,a("1P1Tu").createStore)({initialState:{placeholder:null},actions:{setPlaceholder:e=>({setState:t})=>{t({placeholder:e})}}}),r=(0,a("9zUhf").createHook)(s),o=e=>{switch(e){case"person":return"person";case"skill":return"skill";default:return"link"}},n=e=>e.includes("`");e.exports.useEditorPlaceholder=()=>{let[{placeholder:e},{setPlaceholder:t}]=r();return{insertPlaceholder:(0,i.useCallback)((e,i)=>{if("skill"===i){let{adf:i,promptLength:s}=(0,a("4pEXC").encodeSkillPromptToAdf)(e);t({prompt:e,adfDocument:i,type:"generic",selectionStartIndex:s,selectionEndIndex:s});return}let s=e.indexOf("`"),r=e.lastIndexOf("`");if(-1!==s&&-1!==r){let n=e.slice(s+1,r),l=i??o(n),c=e.replace(RegExp("`","g"),""),u=(0,a("4pEXC").encodeAdf)(c);t({prompt:c,adfDocument:u,type:l,selectionStartIndex:s+1,selectionEndIndex:r})}else t({prompt:e,type:"generic",selectionStartIndex:e.length+1,selectionEndIndex:e.length+1})},[t]),clearPlaceholder:(0,i.useCallback)(()=>{t(null)},[t]),placeholder:e,isPromptWithPlaceholder:n}}}),i("6Y7nw",function(t,i){var s=a("l998X"),r=a("42omo"),o=(0,a("cgtv4").defineMessages)({unsupportedFile:{id:"ai-mate.upload-files-to-conversation.unsupported-file",defaultMessage:"Unsupported file type"},unknownError:{id:"ai-mate.upload-files-to-conversation.unknown-error",defaultMessage:"There was an error uploading the file. Please try again."},fileRaiPolicyViolationError:{id:"ai-mate.upload-files-to-conversation.file-rai-policy-violation",defaultMessage:"The file might not comply with our Acceptable Use Policy. Try a different file."},failToValidateFilesTitle:{id:"ai-mate.upload-files-to-conversation.fail-to-validate-files-title",defaultMessage:"Failed to validate files"},failToValidateFilesDescription:{id:"ai-mate.upload-files-to-conversation.fail-to-validate-files-description",defaultMessage:"Error occurred while validating files, please try again."},invalidFilesTitle:{id:"ai-mate.upload-files-to-conversation.refresh.invalid-files-title",defaultMessage:"{count, plural, one {File type} other {File types}} not supported"},invalidFilesDescription:{id:"ai-mate.upload-files-to-conversation.refresh.invalid-files-description",defaultMessage:'{count, plural, one {The file "{fileNames}" is not supported. Reason: {reasons}} other {The following files: "{fileNames}" are not supported. Reason: {reasons}}}'},fileInvalidIconLabel:{id:"ai-mate.upload-files-to-conversation.file-invalid-icon-label",defaultMessage:"File is invalid"},validationErrorInvalidContentType:{id:"ai-mate.upload-files-to-conversation.validation-error-invalid-content-type",defaultMessage:"File type is not supported"},validationErrorFileTooLarge:{id:"ai-mate.upload-files-to-conversation.validation-error-file-too-large",defaultMessage:"File size is too large"},validationErrorFileNameMissing:{id:"ai-mate.upload-files-to-conversation.validation-error-file-name-missing",defaultMessage:"File name is missing"},validationErrorUnknownError:{id:"ai-mate.upload-files-to-conversation.validation-error-unknown-error",defaultMessage:"Fail to validate file for unknown reason"},validationErrorMissingErrorCode:{id:"ai-mate.upload-files-to-conversation.validation-error-missing-error-code",defaultMessage:"Validation result unknown"},validationErrorNotFound:{id:"ai-mate.upload-files-to-conversation.validation-error-not-found",defaultMessage:"Validation result is not found"}});let n=e=>{switch(e){case"INVALID_CONTENT_TYPE":return o.validationErrorInvalidContentType;case"FILE_TOO_LARGE":return o.validationErrorFileTooLarge;case"FILE_NAME_MISSING":return o.validationErrorFileNameMissing;case"VALIDATION_RESULT_MISSING_ERROR_CODE":return o.validationErrorMissingErrorCode;case"VALIDATION_RESULT_NOT_FOUND":return o.validationErrorNotFound;default:return o.validationErrorUnknownError}},l=e=>!!(0,a("flpNp").isApiError)(e)&&(e.errorAttributes.statusCode===a("5MO1q").STATUS_CODES.UNSUPPORTED_FILE_TYPE||e.errorAttributes.errorCode===a("5MO1q").ASSISTANCE_SERVICE_ERROR_CODES.FILE_SIZE_TOO_LARGE||e.errorAttributes.statusCode===a("5MO1q").STATUS_CODES.FILE_RAI_POLICY_VIOLATION),c=(0,a("h26dv").createHookWithAssistanceService)(({key:t,assistanceServiceInjectedParams:{assistanceService:i,experienceTracker:c}})=>{(0,a("fBMbo").di)(a("dpPtd").useFlags,a("kIvLT").useAnalytics);let[u,{addFiles:d,removeFile:p,clearFiles:m,updateFileWithName:h,clearAttachments:f}]=(0,a("bJOL1").useFileAttachmentsStore)(t),{formatMessage:g}=(0,a("8C5kA").default)(),{sendAnalyticsEvent:b}=(0,a("kIvLT").useAnalytics)(),y=(0,r.useMemo)(()=>u.some(e=>e.isLoading),[u]),{showFlag:x}=(0,a("dpPtd").useFlags)(),{mutate:v,isSubmitting:j}=(0,a("29BPs").useMutation)({mutationFn:e=>(c.start({id:a("16lEl").ExperienceName.UPLOAD_FILES_TO_CONVERSATION,name:a("16lEl").ExperienceName.UPLOAD_FILES_TO_CONVERSATION}),d(t,[{id:"",name:e.file.name,isLoading:!0,fileObject:a("c6GJD").default.getExperimentValue("rovo_chat_file_previews_experiment","isEnabled",!1)?e.file:void 0}]),i.uploadFiles({files:[e.file]})),onSuccess:({data:e})=>{e.forEach(e=>{h(t,e.name,{id:e.id,isLoading:!1}),b({action:"added",actionSubject:"rovoChatContext",actionSubjectId:"file",attributes:{fileType:e.type||"unknown",fileSize:e.size||0}})}),c.succeed({name:a("16lEl").ExperienceName.UPLOAD_FILES_TO_CONVERSATION})},onError:(e,i)=>{let s=e.errorAttributes.statusCode===a("5MO1q").STATUS_CODES.UNSUPPORTED_FILE_TYPE?g(o.unsupportedFile):e.errorAttributes.errorCode===a("5MO1q").ASSISTANCE_SERVICE_ERROR_CODES.FILE_SIZE_TOO_LARGE?e.errorAttributes.rawErrorMessage:e.errorAttributes.statusCode===a("5MO1q").STATUS_CODES.FILE_RAI_POLICY_VIOLATION?g(o.fileRaiPolicyViolationError):g(o.unknownError);if(h(t,i.file.name,{isLoading:!1,error:s}),l(e))return void c.succeed({name:a("16lEl").ExperienceName.UPLOAD_FILES_TO_CONVERSATION});c.fail({name:a("16lEl").ExperienceName.UPLOAD_FILES_TO_CONVERSATION,error:e})}}),{mutate:w,isSubmitting:T}=(0,a("29BPs").useMutation)({mutationFn:e=>(c.start({id:a("16lEl").ExperienceName.VALIDATE_FILES,name:a("16lEl").ExperienceName.VALIDATE_FILES}),i.validateFiles({fileMetadata:e.files.map(e=>({originalFilename:e.name,contentType:e.type,size:e.size}))})),onSuccess:()=>{c.succeed({name:a("16lEl").ExperienceName.VALIDATE_FILES})},onError:e=>{c.fail({name:a("16lEl").ExperienceName.VALIDATE_FILES,error:e})}}),k=(0,r.useCallback)(async t=>{if(!t?.length)return;let i=t.filter(e=>!u.some(t=>t.name===e.name)),r=await w({files:i}),l=()=>(0,s.jsx)(e(a("a3fRD")),{label:g(o.fileInvalidIconLabel),color:"var(--ds-icon-danger, #C9372C)"});if(!r)return void x({id:`conversation-files-fail-to-validate-files-${Date.now()}`,title:g(o.failToValidateFilesTitle),description:g(o.failToValidateFilesDescription),icon:l()});let{validFiles:c,invalidFiles:d}=i.reduce((e,t)=>{let a=r.validationResults.find(e=>e.fileMetadata.originalFilename===t.name);return a?a.isSupported?e.validFiles.push(t):e.invalidFiles.push({fileName:a.fileMetadata.originalFilename,errorCode:a.errorCode??"VALIDATION_RESULT_MISSING_ERROR_CODE"}):e.invalidFiles.push({fileName:t.name,errorCode:"VALIDATION_RESULT_NOT_FOUND"}),e},{validFiles:[],invalidFiles:[]});d.length&&x({id:`conversation-files-validation-error-${Date.now()}`,title:g(o.invalidFilesTitle,{count:d.length}),description:g(o.invalidFilesDescription,{count:d.length,fileNames:d.map(e=>e.fileName).join(", "),reasons:Array.from(new Set(d.map(e=>g(n(e.errorCode))))).join(", ")}),icon:l()}),c.length&&c.forEach(e=>{v({file:e})})},[v,u,g,x,w]),S=(0,r.useCallback)(e=>(0,s.jsx)(a("gdv5Z").default,{testId:"file-upload-input",as:"input",ref:e,hidden:!0,type:"file",multiple:!0,onChange:t=>{k(Array.from(t.target.files??[])),e.current&&(e.current.value="")}}),[k]);return{uploadFiles:{isSubmitting:j||T},anyFilesUploading:y,handleFilesSelected:k,files:u,removeFile:p,clearFiles:m,clearAttachments:f,getFileInput:S}});t.exports.useConversationFiles=c}),i("auPMn",function(e,t){let a=["text/","application/json","application/xml","application/x-yaml","application/javascript","application/typescript","application/x-sh"],i=[".txt",".md",".markdown",".json",".xml",".yaml",".yml",".js",".jsx",".ts",".tsx",".css",".scss",".less",".html",".htm",".csv",".log",".sh",".bash",".py",".rb",".java",".c",".cpp",".h",".go",".rs",".sql"];e.exports.isTextFile=function(e,t){if(e&&a.some(t=>e.startsWith(t)))return!0;if(t){let e=t.toLowerCase();return i.some(t=>e.endsWith(t))}return!1}}),i("cgmTK",function(e,t){async function i(e){if("undefined"==typeof window||"undefined"==typeof document)throw Error("Text thumbnail generation requires browser environment");let t=(await e.slice(0,1e3).text()).split("\n").slice(0,12),a=document.createElement("canvas"),i=a.getContext("2d");if(!i)throw Error("Canvas 2D context unavailable");return a.width=200,a.height=200,i.fillStyle="#FFFFFF",i.fillRect(0,0,200,200),i.fillStyle="#172B4D",i.font='10px SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',i.textBaseline="top",t.forEach((e,t)=>{let a=8+14*t;if(a+14>192)return;let s=e;if(i.measureText(e).width>184){for(;i.measureText(s+"...").width>184&&s.length>0;)s=s.slice(0,-1);s+="..."}i.fillText(s,8,a)}),i.strokeStyle="#DFE1E6",i.lineWidth=1,i.strokeRect(0,0,200,200),new Promise((e,t)=>{a.toBlob(a=>{a?e(URL.createObjectURL(a)):t(Error("Failed to generate blob from canvas"))},"image/png")})}async function s(e){if(e.type.startsWith("image/"))try{return URL.createObjectURL(e)}catch(t){let e=t instanceof Error?t.message:"string"==typeof t?t:"Failed to create blob URL for image file";throw Error(`Failed to create blob URL for image: ${e}`)}if((0,a("auPMn").isTextFile)(e.type,e.name))return await i(e);throw Error(`Unsupported file type: ${e.type}`)}e.exports.generateFilePreview=s}),i("3X525",function(e,t){e.exports.MAX_FILES=10}),i("fbZF8",function(t,i){var s=a("l998X"),r=a("42omo"),o=a("4wH3g");let n=({contextProviders:e=[],onContextBrowserShow:t,onContextAvailable:a}={})=>{let[i,s]=(0,r.useState)(null),[o,n]=(0,r.useState)([]),l=(0,r.useCallback)(e=>{s(e),t?.(e)},[t]),c=(0,r.useCallback)(e=>{let t=new Map;o.forEach(e=>{t.set(e.key,e)}),e.forEach(e=>{t.set(e.key,e)});let i=Array.from(t.values());n(i),a?.(i)},[o,a]),u=(0,r.useCallback)(()=>e.map(e=>e.getMenuItem(l,c)).filter(e=>null!==e),[e,l,c]),d=(0,r.useCallback)(()=>{n([]),a?.([])},[a]),p=(0,r.useCallback)(e=>{let t=o.filter(t=>t.key!==e);n(t),a?.(t)},[o,a]);return{currentBrowser:i,currentContexts:o,getMenuItems:u,clearContexts:d,removeContext:p,setCurrentBrowser:s}};a("42omo");var l=(0,a("cgtv4").defineMessages)({fileUploadButtonLabel:{id:"rovo-chat.file-upload-button.label",defaultMessage:"Upload file"},fileUploadButtonMaxFilesLabel:{id:"rovo-chat.file-upload-button.max-files-label",defaultMessage:"Limit of {maxFiles, plural, one {# file} other {# files}} reached"}});let c=({onClick:t,assistanceServiceParams:i,attachmentsStoreKey:r})=>{(0,a("fBMbo").di)(a("6Y7nw").useConversationFiles);let{formatMessage:o}=(0,a("8C5kA").default)(),{sendAnalyticsEvent:n}=(0,a("kIvLT").useAnalytics)(),{files:c}=(0,a("6Y7nw").useConversationFiles)({assistanceServiceParams:{...i,touchpointSource:"fileUploadButton"},key:r}),u=c.length>=a("3X525").MAX_FILES,d=(0,s.jsx)(a("5Bdam").MenuItem,{icon:(0,s.jsx)(e(a("hw7wB")),{label:""}),label:o(l.fileUploadButtonLabel),isDisabled:u,onClick:()=>{n({action:"clicked",actionSubject:"button",actionSubjectId:"chatFileUploadButton"}),t()},testId:"file-upload-dropdown-item"});return u?(0,s.jsx)(a("3gadb").default,{content:o(l.fileUploadButtonMaxFilesLabel,{maxFiles:a("3X525").MAX_FILES}),children:d}):d},u=(0,a("cgtv4").defineMessages)({chatInputActionsButtonsTooltip:{id:"ai-mate.chat-input.open-chat-input-buttons-tooltip",defaultMessage:"Add"},mentionTypeAheadButtonLabel:{id:"ai-mate.chat-input.mention-type-ahead-button.label",defaultMessage:"Mention someone"},linkTypeAheadButtonLabel:{id:"ai-mate.chat-input.link-type-ahead-button.label",defaultMessage:"Add a link"},addContentButtonLabel:{id:"ai-mate.chat-input.add-content-button.label",defaultMessage:"Use what you're viewing as context"},addMoreFormattingButtonLabel:{id:"ai-mate.chat-input.add-more-formatting-button.label",defaultMessage:"More formatting"},addCurrentPageAsContextDisabledTooltip:{id:"ai-mate.chat-input.add-current-page-as-context-disabled-tooltip",defaultMessage:"This page isn't supported yet"}}),d=e(o)({__loadable_id__:"yHuuD",name:"AgentSection",loader:async()=>(await a("7JdXM")).AgentSection,loading:()=>null}),p=e(o)({__loadable_id__:"Zlqrd",name:"RecommendedAgentsPreloader",loader:async()=>(await a("j5lLr")).RecommendedAgentsPreloader,loading:()=>null}),m={menuContainer:"_zulp1b66 _2rko1qi0 _1e0c1txw _ca0qu2gc _u5f3u2gc _n3tdu2gc _19bvu2gc _2lx21bp4 _4cvr1fhb _bfhkvuon _1ul9p3fh _p12f1mjv _16qs130s",menuContainerAdjusted:"_zulp1b66 _1e0c1txw _ca0qu2gc _u5f3u2gc _n3tdu2gc _19bvu2gc _2lx21bp4 _4cvr1fhb _bfhkvuon _1ul9p3fh _p12f1mjv",menuSection:"_zulpv77o _1e0c1txw _2lx21bp4",sectionHeader:"_11c81vhk _18zru2gc _1rjc12x7 _syaz1rpy",divider:"_1mou12x7 _4t3it94y _bfhksm61",menuPopupContainer:"_2rko1mok _19itia51 _1reo15vq _18m915vq _16qs130s _1pbyni7l"},h=(0,r.forwardRef)((e,t)=>(0,s.jsx)(a("gdv5Z").default,{...e,ref:t,xcss:m.menuPopupContainer,"data-testid":void 0})),f=({assistanceServiceParams:e})=>((0,r.useEffect)(()=>{d.preload()},[]),(0,s.jsx)(p,{assistanceServiceParams:e}));t.exports.ChatInputActionButtons=({entryPoint:t,siteId:i,useCurrentPageContext:o,onLinkTypeAheadClick:l,onMentionTypeAheadClick:p,onAddTypeAheadClick:g,assistanceServiceParams:b,contextProviders:y,onContextBrowserShow:x,onContextAvailable:v,isDisabled:j,placement:w="top-start",attachmentsAndCurrentPageAsContextStoreKey:T,onMenuOpen:k,onAgentSelect:S,isBrowseAgentsModalOpen:_=!1,setIsBrowseAgentsModalOpen:P=()=>{},shouldRenderInPortal:E=!1,enableBrowserContextBanner:C=!1,browserContextSanitizer:I})=>{(0,a("fBMbo").di)(a("PRMv4").useCurrentPageAsContext,a("6Y7nw").useConversationFiles,a("i1Nyn").useChatContextBrowserContext);let{formatMessage:M}=(0,a("8C5kA").default)(),{sendAnalyticsEvent:A}=(0,a("kIvLT").useAnalytics)(),{setUseCurrentPageContextUserPreference:L,currentContext:R}=(0,a("PRMv4").useCurrentPageAsContext)(),[F]=(0,a("i1Nyn").useChatContextBrowserContext)(),D=!!F?.context?.browserUrl&&C,O=!!(C&&I&&D&&F?.context?.browserUrl)&&I.isBlocklisted(F.context.browserUrl)||"none"===R.type&&!D,[N,V]=(0,r.useState)("main"),[U,z]=(0,r.useState)(null),[J,H]=(0,r.useState)(!1),{addExternalContext:B}=(0,a("7qwOJ").useConversationExternalAttachments)(T),W=(0,r.useRef)(null),q=(0,r.useRef)(null),{getFileInput:K}=(0,a("6Y7nw").useConversationFiles)({assistanceServiceParams:{...b,touchpointSource:"chatInputActionButtons"},key:T}),{getMenuItems:Z}=n({contextProviders:y,onContextBrowserShow:e=>{e?(z(e),V("external-context")):(z(null),V("main")),x?.(e)},onContextAvailable:e=>{V("main"),z(null),H(!1),B(T,e),v?.(e)}}),G=e=>{e&&0!==e.detail||requestAnimationFrame(()=>{W?.current?.focus()})},X=Z();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a("lGgRw").default,{isOpen:J,onClose:()=>{H(!1),V("main"),z(null),G()},placement:w,shouldRenderToParent:!E,shouldFlip:!E,popupComponent:(0,a("dh538").fg)("rovo_chat_refresh_design_adjustments")?h:void 0,...(0,a("dh538").fg)("global_rovo_button_in_jira")&&{zIndex:600},trigger:i=>{var r;return(0,s.jsx)(a("5VZ9F").GettingStartedTourSpotlight,{step:1,entryPoint:t,children:(0,s.jsx)(a("1qfLF").default,{...i,onClick:(e,t)=>{A(t.update({actionSubjectId:"rovoChatAddMenuTrigger"})),H(!J),J||k?.()},isTooltipDisabled:!1,isSelected:(0,a("dh538").fg)("rovo_chat_refresh_design_adjustments")?J:void 0,appearance:"subtle",shape:"circle",icon:J?e(a("hmuev")):e(a("g5gZt")),label:M(u.chatInputActionsButtonsTooltip),ref:(r=[i.ref,W],e=>{r.forEach(t=>{"function"==typeof t?t(e):null!==t&&(t.current=e)})}),isDisabled:j})})},content:()=>(0,s.jsxs)(a("gdv5Z").default,{xcss:(0,a("dh538").fg)("rovo_chat_refresh_design_adjustments")?m.menuContainerAdjusted:m.menuContainer,children:["main"===N&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a("gdv5Z").default,{xcss:m.menuSection,children:[(0,s.jsx)(c,{attachmentsStoreKey:T,onClick:()=>{q.current?.click(),H(!1)},assistanceServiceParams:b}),(0,s.jsx)(a("5Bdam").MenuItem,{icon:(0,s.jsx)(e(a("1bY7o")),{label:""}),label:M(u.linkTypeAheadButtonLabel),onClick:()=>{l(),A({action:"clicked",actionSubject:"button",actionSubjectId:"rovoChatAddLinkButton"}),H(!1)}}),X.map(e=>(0,s.jsx)(a("5Bdam").MenuItem,{icon:e.icon,label:e.label,onClick:()=>{e.action(),A({action:"clicked",actionSubject:"button",actionSubjectId:`rovoChatExternalContext_${e.key}`})}},e.key)),(0,s.jsx)(a("5Bdam").MenuItem,{icon:(0,s.jsx)(e(a("b4wUN")),{label:""}),label:M(u.mentionTypeAheadButtonLabel),onClick:()=>{p(),A({action:"clicked",actionSubject:"button",actionSubjectId:"rovoChatMentionButton"}),H(!1)}}),(0,s.jsx)(a("5Bdam").MenuItem,{icon:(0,s.jsx)(e(a("g5gZt")),{label:""}),label:M(u.addMoreFormattingButtonLabel),onClick:()=>{g(),A({action:"clicked",actionSubject:"button",actionSubjectId:"rovoChatAddFormattingButton"}),H(!1)}}),o&&(0,s.jsx)(a("3gadb").default,{position:"top",content:M(u.addCurrentPageAsContextDisabledTooltip),canAppear:()=>O,children:(0,s.jsx)(a("5Bdam").MenuItem,{icon:(0,s.jsx)(e(a("8jHAi")),{label:""}),label:M(u.addContentButtonLabel),isDisabled:O,onClick:()=>{L(T,!0),A({action:"clicked",actionSubject:"button",actionSubjectId:"rovoChatAddContextButton"}),H(!1)}})})]}),S&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a("gdv5Z").default,{xcss:m.divider}),(0,s.jsx)(a("gdv5Z").default,{xcss:m.sectionHeader,children:M(a("ipUai").messages.agentsHeader)}),(0,s.jsx)(a("gdv5Z").default,{xcss:m.menuSection,children:(0,s.jsx)(r.Suspense,{children:(0,s.jsx)(d,{assistanceServiceParams:b,onAgentSelect:S,siteId:i,isBrowseAgentsModalOpen:_,setIsBrowseAgentsModalOpen:P,setIsDropdownOpen:H})})})]})]}),"external-context"===N&&U&&(0,s.jsx)(a("gdv5Z").default,{xcss:m.menuSection,children:U})]}),shouldUseCaptureOnOutsideClick:!0}),K(q),S&&(0,s.jsx)(f,{assistanceServiceParams:b})]})}}),i("5VZ9F",function(e,t){var i=a("l998X"),s=a("42omo");let r=(0,a("cgtv4").defineMessages)({back:{id:"ai-mate.getting-started-tour.back",defaultMessage:"Back"},done:{id:"ai-mate.getting-started-tour.done",defaultMessage:"Done"},next:{id:"ai-mate.getting-started-tour.next",defaultMessage:"Next"},stepIndicator:{id:"ai-mate.getting-started-tour.indicator",defaultMessage:"{stepNumber} of {totalSteps}"},stepOneTitle:{id:"ai-mate.getting-started-tour.step-one.title",defaultMessage:"Add work from anywhere"},stepOneDescription:{id:"ai-mate.getting-started-tour.step-one.description",defaultMessage:"Choose a template, upload a file, link a page, and more to power your creation."},stepTwoTitle:{id:"ai-mate.getting-started-tour.step-two.title",defaultMessage:"Get unstuck on your prompt"},stepTwoDescription:{id:"ai-mate.getting-started-tour.step-two.description",defaultMessage:"Try an example or use them to jump-start your draft."},stepThreeTitle:{id:"ai-mate.getting-started-tour.step-three.title",defaultMessage:"Talk to Rovo instead of typing"},stepThreeDescription:{id:"ai-mate.getting-started-tour.step-three.description",defaultMessage:"Use your voice to get started."}}),o=[{title:r.stepOneTitle,description:r.stepOneDescription,placement:"bottom-start"},{title:r.stepTwoTitle,description:r.stepTwoDescription,placement:"left-start"},{title:r.stepThreeTitle,description:r.stepThreeDescription,placement:"bottom-end"}];e.exports.GettingStartedTourSpotlight=({entryPoint:e,children:t,step:n})=>{let{formatMessage:l}=(0,a("8C5kA").default)(),{sendAnalyticsEvent:c}=(0,a("kIvLT").useAnalytics)(),{stepNumber:u,totalSteps:d}=(0,a("7tmqn").useGettingStartedTourState)(),{setStepNumber:p,nextStep:m,previousStep:h,dismiss:f}=(0,a("7tmqn").useGettingStartedTourStoreActions)(),g=(0,s.useCallback)(()=>{c({eventType:"ui",actionSubject:"button",action:"clicked",actionSubjectId:"gettingStartedTourSpotlightPrimaryButton",attributes:{tourStep:n},source:"smart-create"}),n===d?f():m()},[n,d,f,m,c]),b=(0,s.useCallback)(()=>{c({eventType:"ui",actionSubject:"button",action:"clicked",actionSubjectId:"gettingStartedTourSpotlightSecondaryButton",attributes:{tourStep:n},source:"smart-create"}),h()},[n,h,c]),y=(0,s.useCallback)(()=>{c({eventType:"ui",actionSubject:"button",action:"clicked",actionSubjectId:"gettingStartedTourSpotlightDismissButton",attributes:{tourStep:n},source:"smart-create"}),p(0)},[n,p,c]);if(!(0,a("dh538").fg)("platform_aifc_getting_started_spotlight")||!e?.includes("-smartCreate"))return t;let x=o[n-1];return(0,i.jsxs)(a("k7Tf7").PopoverProvider,{children:[(0,i.jsx)(a("a90ar").PopoverTarget,{children:t}),(0,i.jsx)(a("bqAtB").PopoverContent,{dismiss:y,isVisible:u===n,placement:x?.placement,strategy:"absolute",children:(0,i.jsx)(a("fT2ta").default,{entranceDirection:"left",children:e=>(0,i.jsx)("div",{...e,children:(0,i.jsxs)(a("71521").SpotlightCard,{testId:"spotlight",children:[(0,i.jsxs)(a("aZQ5F").SpotlightHeader,{children:[(0,i.jsx)(a("bUJpY").SpotlightHeadline,{children:l(x?.title)}),(0,i.jsx)(a("aVS0S").SpotlightControls,{children:(0,i.jsx)(a("2owmo").SpotlightDismissControl,{onClick:y})})]}),(0,i.jsx)(a("f1UQW").SpotlightBody,{children:l(x?.description)}),(0,i.jsxs)(a("eopLP").SpotlightFooter,{children:[(0,i.jsx)(a("aG6kF").SpotlightStepCount,{children:l(r.stepIndicator,{stepNumber:n,totalSteps:d})}),(0,i.jsxs)(a("3chlW").SpotlightActions,{children:[u>1&&(0,i.jsx)(a("19Jj3").SpotlightSecondaryAction,{onClick:b,children:l(r.back)}),(0,i.jsx)(a("fNcP1").SpotlightPrimaryAction,{onClick:g,children:u<d?l(r.next):l(r.done)})]})]})]})})})})]})}}),i("7tmqn",function(e,t){let i={stepNumber:0,totalSteps:3,hasDismissed:!1,hasStarted:!1},s=e=>({setState:t})=>{t({stepNumber:e})},r=()=>({setState:e,getState:t})=>{let{stepNumber:a}=t(),s=a+1;e({stepNumber:s>i.totalSteps?0:s})},o=()=>({setState:e,getState:t})=>{let{stepNumber:a}=t(),i=a-1;e({stepNumber:i<1?1:i})},n=()=>({setState:e})=>{e({stepNumber:1,hasStarted:!0})},l=()=>({setState:e})=>{e({stepNumber:0,hasDismissed:!0})},c=(0,a("1P1Tu").createStore)({initialState:i,actions:{setStepNumber:e=>({dispatch:t})=>{t(s(e))},nextStep:()=>({dispatch:e})=>{e(r())},previousStep:()=>({dispatch:e})=>{e(o())},resetStep:()=>({dispatch:e})=>{e(n())},dismiss:()=>({dispatch:e})=>{e(l())}}}),u=(0,a("9zUhf").createHook)(c),d=(0,a("9zUhf").createActionsHook)(c);e.exports.useGettingStartedTourStoreActions=d,e.exports.useGettingStartedTourState=()=>{let[e]=u();return e}}),i("7qwOJ",function(e,t){e.exports.useConversationExternalAttachments=e=>{let[t,{addExternalContext:i}]=(0,a("bJOL1").useExternalContextsStore)(e);return{addExternalContext:i,externalContextsServiceRepresentations:t.map(e=>e.serviceRepresentation)}}}),i("ipUai",function(e,t){let i=(0,a("cgtv4").defineMessages)({agentsHeader:{id:"ai-mate.chat-input.agents.header",defaultMessage:"Start chatting with agents"},browseAgents:{id:"ai-mate.chat-input.agents.browse-agents",defaultMessage:"Browse agents"},createAgent:{id:"ai-mate.chat-input.agents.create-agent",defaultMessage:"Create agent"}});e.exports.messages=i}),i("PRMv4",function(e,t){var i,s,r=a("42omo"),o=((i={}).ADMIN_HUB="admin-hub",i.BITBUCKET="bitbucket",i.CONFLUENCE_HOME="confluence-home",i.CONFLUENCE_PAGE_VIEW="confluence-page-view",i.CONFLUENCE_PAGE_EDIT="confluence-page-edit",i.CONFLUENCE_WHITEBOARD="confluence-whiteboard",i.JIRA_HOME="jira-home",i.JIRA_ISSUE_VIEW="jira-issue-view",i.JIRA_BACKLOG="jira-backlog",i.JIRA_BOARD="jira-board-view",i.JIRA_PROJECT="jira-project",i.JIRA_SERVICE_DESK="jira-service-desk",i.JIRA_PLAN="jira-plan",i.JIRA_CMP_SPACE_SETTINGS_PEOPLE="jira-cmp-space-settings-people",i.JIRA_ADMIN_PERMISSION_SCHEMES_VIEW="jira-admin-permission-schemes-view",i.JIRA_ADMIN_PERMISSION_SCHEMES_ADD="jira-admin-permission-schemes-add",i.JIRA_ADMIN_PERMISSION_SCHEMES_EDIT="jira-admin-permission-schemes-edit",i.JIRA_ADMIN_PERMISSION_SCHEMES_DELETE="jira-admin-permission-schemes-delete",i.ATLAS_HOME="atlas-home",i.ATLAS_PROJECT="atlas-project",i.ATLAS_GOAL="atlas-goal",i.UNKNOWN="unknown",i);let n=(0,r.createContext)(null),l=()=>{let[e,t]=(0,r.useState)(window.location.href),i=(0,r.useContext)(n),s=(0,r.useCallback)(()=>{window.location.href!==e&&t(window.location.href)},[e,t]);return(0,r.useEffect)(()=>{let e=window.history.pushState,t=window.history.replaceState;window.history.pushState=function(...t){e.apply(this,t),s()},window.history.replaceState=function(...e){t.apply(this,e),s()};let i=(0,a("fFa3V").bindAll)(window,[{type:"popstate",listener:s}]);return()=>{i(),window.history.pushState=e,window.history.replaceState=t}},[s]),i??e};var c=((s={}).THINKING_VIEW="thinking-view",s.AUTOCOMPLETE="autocomplete",s);let u={"thinking-view":["confluence-page-edit","confluence-page-view","confluence-whiteboard","jira-issue-view","jira-service-desk","jira-project","jira-plan","jira-cmp-space-settings-people","jira-admin-permission-schemes-view","jira-admin-permission-schemes-add","jira-admin-permission-schemes-edit","jira-admin-permission-schemes-delete","atlas-project","atlas-goal","admin-hub"],autocomplete:["bitbucket","confluence-home","confluence-page-edit","confluence-page-view","confluence-whiteboard","jira-backlog","jira-home","jira-issue-view","atlas-home","admin-hub"]},d={"thinking-view":"unknown",autocomplete:"atlas-home"},p=(e,t="thinking-view")=>{let i=new Set(u[t]);for(let[s,r]of[["bitbucket",/bitbucket\.org\/.*/],..."autocomplete"===t&&(0,a("dh538").fg)("rovo_chat_typeahead_use_confluence-page_fallback")?[["confluence-page-view",/\/wiki\/home$/]]:[["confluence-home",/\/wiki\/home$/]],["confluence-page-edit",/\/wiki\/spaces\/[^\/]+\/(?:pages|blog)\/edit-v2\//],["confluence-page-view",/\/wiki\/spaces\/[^\/]+\/(?:pages|blog)\//],["confluence-whiteboard",/\/wiki\/spaces\/[^\/]+\/whiteboard\//],["confluence-whiteboard",/\/whiteboards\/whiteboard\/[^\/\?]+/],["confluence-whiteboard",/\/whiteboard\/[a-f0-9-]+/],["jira-backlog",/\/jira\/.*\/backlog$/],["jira-board-view",/\/jira\/.*\/boards\//],["jira-issue-view",/\/browse\/[^\/]+$/],["jira-issue-view",/\/jira\/.+\/projects\/.+\?selectedIssue/],["jira-home",/\/jira\/dashboards\/last-visited$/],["jira-service-desk",/\/jira(?:\/.+)?\/servicedesk\/projects\/.+\/queues\/issue\//],["jira-project",/\/jira\/.+\/projects\//],...(0,a("dh538").fg)("rovo_chat_jira_plans_minion")?[["jira-plan",/\/jira\/plans\/\d+\//]]:[],["jira-home",/\/jira\/dashboards\/last-visited$/],...(0,a("dh538").fg)("permissions_ai_rovo_nudge_and_context")?[["jira-cmp-space-settings-people",/\/plugins\/servlet\/project-config\/[^\/]+\/(people|permissions)/],["jira-admin-permission-schemes-view",/\/secure\/admin\/ViewPermissionSchemes([!%]?\w*)\.jspa/],["jira-admin-permission-schemes-add",/\/secure\/admin\/AddPermissionScheme!default\.jspa/],["jira-admin-permission-schemes-edit",/\/(?:jira\/settings\/issues\/permission-schemes|secure\/admin\/EditPermissions!default\.jspa)/],["jira-admin-permission-schemes-delete",/\/secure\/admin\/DeletePermissionScheme!default\.jspa/]]:[],["atlas-home",/\/(home|team)\./],["atlas-project",/\/(home|team).+\/project\/ATLAS-/],["atlas-goal",/\/(home|team).+\/goal\/ATLAS-/],["admin-hub",/admin(\.stg)?\.atlassian\.com/]].filter(([e])=>i.has(e)))if(r.test(e))return s;return d[t]},m=(e="thinking-view")=>{let t=l(),[a,i]=(0,r.useState)(p(t,e));return(0,r.useEffect)(()=>{i(p(t,e))},[t,e]),a};e.exports.PageContextType=o,e.exports.useWindowLocation=l,e.exports.UseCase=c,e.exports.usePageContextType=m,e.exports.useCurrentPageAsContext=()=>{let e=m(),{getChatMode:t,setUseCurrentPageContext:i}=(0,a("V9Rzh").useChatModeStoreActions)(),[s]=(0,a("i1Nyn").useChatContextEditorContext)(),r={type:"none"};return s?r={type:"editor_context",payload:s}:"unknown"!==e&&(r={type:"current_page",pageContextType:e}),{canUseCurrentPageContextUserPreference:e=>t(e).useCurrentPageContext,setUseCurrentPageContextUserPreference:i,currentContext:r}}}),i("V9Rzh",function(e,t){let i=()=>{if("undefined"==typeof globalThis||!globalThis.document||!globalThis.localStorage)return null;let e=globalThis.localStorage.getItem("rovo-chat-web-search-default-on");return null===e?null:"false"!==e},s=()=>({reasoningMode:"auto",webSearchEnabled:!1!==i()&&a("c6GJD").default.getExperimentValue("rovo_web_search_default_on","isEnabled",!1),orgKnowledge:{filteredApps:[]},autoApplyEnabled:!0,useCurrentPageContext:!(0,a("dh538").fg)("disable_default_on_current_page_as_context")}),r=(e,t)=>({setState:a,getState:i})=>{let r=i()[e]||s();a({[e]:{...r,...t}})},o=(0,a("1P1Tu").createStore)({initialState:{},actions:{setReasoningMode:(e,t)=>({dispatch:a})=>{a(r(e,{reasoningMode:t}))},resetReasoningMode:e=>({dispatch:t})=>{t(r(e,{reasoningMode:s().reasoningMode}))},setWebSearchEnabled:(e,t)=>({dispatch:a})=>{a(r(e,{webSearchEnabled:t}))},setOrgKnowledge:(e,t)=>({dispatch:a})=>{a(r(e,{orgKnowledge:t}))},setUseCurrentPageContext:(e,t)=>({dispatch:a})=>{a(r(e,{useCurrentPageContext:t}))},setChatMode:(e,t)=>({dispatch:a})=>{let i=t,o=s().orgKnowledge;o=void 0===t.appFilters?s().orgKnowledge:t.appFilters.length>0?{filteredApps:t.appFilters}:"disabled",a(r(e,{...t,orgKnowledge:o}))},getChatMode:e=>({getState:t})=>{let a=t()[e]||s();return{...a,...n(a.reasoningMode),appFilters:l(a.orgKnowledge)}},clearMode:e=>({dispatch:t})=>{t(r(e,s()))}}}),n=e=>({deepResearchEnabled:"deep-research"===e,thinkDeeperEnabled:"think-deeper"===e,autoReasoningEnabled:"auto"===e}),l=e=>"disabled"===e?[]:0===e.filteredApps.length?void 0:e.filteredApps,c=(0,a("9zUhf").createHook)(o,{selector:(e,t)=>{let a=e[t]||s();return{...a,...n(a.reasoningMode),appFilters:l(a.orgKnowledge)}}}),u=(0,a("9zUhf").createActionsHook)(o);e.exports.useChatModeStore=c,e.exports.useChatModeStoreActions=u,e.exports.useChatModeState=e=>c(e)[0]}),i("5Bdam",function(t,i){var s=a("l998X"),r=a("42omo");let o={menuItem:"_zulp12x7 _2rko1qi0 _18zrutpp _1bsb1osq _1e0c1txw _2lx2vrvc _1tkezwfg _1bah1yb4 _4cvr1h6o _80omtlke _bfhksm61 _irr31dpa _1di6fcek",menuItemActive:"_bfhk15s3 _syaz6x5g",menuItemDisabled:"_80om13gf _syaz1gmx _tzy42wxo",menuItemContent:"_zulp12x7 _16jlkb7n _1o9zkb7n _i0dlf1ug _1bsb1osq _1e0c1txw _4cvr1h6o _1ul9idpf",menuItemIcon:"_1e0c1txw _1bsb1tcg _4t3i1tcg _4cvr1h6o _1bah1h6o",menuItemIconAdjusted:"_1e0c1txw _1bsb1tcg _4t3i1tcg _4cvr1h6o _1bah1h6o _syazazsu",menuItemLabelContainer:"_16jlkb7n _1o9zkb7n _i0dlf1ug _1ul9idpf _y3gn1e5h",menuItemLabel:"_1reo15vq _18m915vq _1e0c1ule _1bsb1osq _o5721q9c _1bto1l2s"};t.exports.MenuItem=({label:t,icon:i,onClick:n,isActive:l,isLoading:c,isDisabled:u,testId:d})=>{let[p,m]=(0,r.useState)(!1),h=(0,r.useRef)(null),f=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e=()=>{h.current&&f.current&&m(h.current.scrollWidth>f.current.clientWidth)};e();let t=new ResizeObserver(e);return f.current&&t.observe(f.current),()=>t.disconnect()},[t]),(0,s.jsxs)(a("fVUfS").default,{xcss:(0,a("1Whri").cx)(o.menuItem,l&&o.menuItemActive,u&&o.menuItemDisabled),onClick:u?void 0:n,"aria-disabled":u,role:"menuitem",testId:d||"menu-item-container",children:[(0,s.jsxs)(a("gdv5Z").default,{xcss:o.menuItemContent,testId:"menu-item-content",children:[(0,s.jsx)(a("gdv5Z").default,{xcss:(0,a("dh538").fg)("rovo_chat_refresh_design_adjustments")?o.menuItemIconAdjusted:o.menuItemIcon,children:c?(0,s.jsx)(a("h8Wyp").LoadingState,{size:"small",testId:"loading-state"}):i}),(0,s.jsx)(a("gdv5Z").default,{xcss:o.menuItemLabelContainer,ref:f,children:(0,s.jsx)(a("052T2").ConditionalTooltip,{withTooltip:p,content:t,children:(0,s.jsx)(a("gdv5Z").default,{xcss:o.menuItemLabel,ref:h,children:(0,s.jsx)(a("iXCQx").default,{color:l?"color.text.selected":"color.text.subtle",testId:"menu-item-label",children:t})})})})]}),l&&(0,s.jsx)(e(a("cvXh8")),{label:"checkmark"})]})}}),i("052T2",function(e,t){var i=a("l998X");a("42omo"),e.exports.ConditionalTooltip=({withTooltip:e,content:t,children:s})=>e?(0,i.jsx)(a("3gadb").default,{content:t,children:s}):s}),i("h8Wyp",function(e,t){var i=a("l998X");a("42omo");e.exports.LoadingState=({testId:e,size:t="xlarge"})=>(0,i.jsx)(a("u9agA").default,{testId:e,alignBlock:"center",alignInline:"center",xcss:"_4t3i1osq _1bsb1osq",children:(0,i.jsx)(a("9hlns").default,{size:t})})}),i("7JdXM",function(e,t){e.exports=a("4mJKd")(5)("49cor").then(()=>a("7Zdh8"))}),i("4mJKd",function(e,t){e.exports=e=>t=>import(a("8tirZ").shardUrl(a("02nRr").resolve(t),e))}),i("8tirZ",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.applyShardToDomain=o,e.exports.domainShardingKey=void 0,e.exports.getDomainShardIndex=i,e.exports.shardUrl=function(e,t){return globalThis[a]?n(e,t):e},e.exports.shardUrlUnchecked=n;let a="__ATLASPACK_ENABLE_DOMAIN_SHARDS";function i(e,t){let a=t+1,i=e.split("").reduce((e,t)=>{let i=(e<<a)-e+t.charCodeAt(0);return i&i},0);return(i%=a)<0&&(i+=a),i}let s=/-\d+$/;function r(e){if(!s.test(e))return e;let t=e.lastIndexOf("-");return e.slice(0,t)}function o(e,t){let a=e.indexOf("."),i=0===t?"":`-${t-1}`;if(-1===a)return`${r(e)}${i}`;let s=r(e.slice(0,a));return`${s}${i}${e.slice(a)}`}function n(e,t){let a=new URL(e),s=i(function(e){let t=e.lastIndexOf("/");if(-1===t||t===e.length-1)throw Error("Expected an absolute URL with a file name, unable to apply sharding.");return e.slice(t+1)}(a.pathname),t);return a.hostname=o(a.hostname,s),a.toString()}e.exports.domainShardingKey=a}),i("02nRr",function(e,a){t(e.exports,"register",()=>i,e=>i=e),t(e.exports,"resolve",()=>s,e=>s=e);var i,s,r=new Map;i=function(e,t){for(var a=0;a<t.length-1;a+=2)r.set(t[a],{baseUrl:e,path:t[a+1]})},s=function(e){var t=r.get(e);if(null==t)throw Error("Could not resolve bundle with id "+e);return new URL(t.path,t.baseUrl).toString()}}),i("j5lLr",function(e,t){e.exports=a("4mJKd")(5)("3fdRd").then(()=>a("bVuTs"))}),i("ZsUvD",function(e,t){var i=a("l998X"),s=a("42omo");let r={wrapper:"_1rjcutpp _1reo1wug _o5721q9c _p12f1osq _1dm8q5uf _y4tiutpp"},o=e=>{let t=(0,s.useRef)(e.length),[a,i]=(0,s.useState)(!1),r=e.length;return(0,s.useEffect)(()=>{t.current<r?i(!0):i(!1),t.current=r},[r]),a};e.exports.InputContextListDisplay=({attachtmentsStoreKey:e})=>{let[t,{removeExternalContext:s,removeFile:n}]=(0,a("bJOL1").useAllAttachmentsStore)(e),l=o(t);return 0===t.length?null:(0,i.jsx)(a("u9agA").default,{space:"space.150",xcss:r.wrapper,shouldWrap:!1,children:t.map((r,o)=>{let c=o===t.length-1;switch(r.type){case"file":let u=r.data;return(0,i.jsx)(a("TZbdu").FileCard,{fileName:u.name,onRemove:()=>n(e,u.name),isLoading:u.isLoading,error:u.error,autoScroll:l&&!!(u.error||c),previewBlobUrl:u.previewBlobUrl,isPreviewLoading:u.isPreviewLoading,fileObject:u.fileObject},u.name);case"external":let d=r.data,p=d.representation;return(0,i.jsx)(a("5SEdb").PreviewCard,{label:p.label,subLabel:p.description,onRemove:()=>s(e,d.key),autoScroll:l&&!!c,cardIcon:p.image},d.key);default:return null}})})}}),i("TZbdu",function(e,t){var i=a("l998X"),s=a("42omo"),r=(0,a("cgtv4").defineMessages)({previewNotAvailable:{id:"ai-mate.file-preview-modal.preview-not-available",defaultMessage:"Preview not available for this file type"}});let o={imagePreview:"_19pkidpf _2hwx1wug _otyridpf _18u01wug _p12f1osq _c71l1us8 _5ral1f51 _1e0c1ule",pdfPreview:"_19itglyw _1bsb1osq _4t3i1us8 _1e0c1ule",loadingContainer:"_1e0c1txw _1bah1h6o _4cvr1h6o _1tke1kdj",textPreview:"_1reo1wug _18m91wug _2rko12b0 _11c81u0j _c71l1us8 _ca0qpxbi _u5f3pxbi _n3tdpxbi _19bvpxbi _bfhki8nm _o5721jtm _1nmz1hna"},n=e=>e.type.startsWith("image/")?"image":"application/pdf"===e.type?"pdf":(0,a("auPMn").isTextFile)(e.type,e.name)?"text":"unknown",l=({isOpen:e,onClose:t,fileName:l,fileObject:c,previewBlobUrl:u,textContent:d,isLoadingText:p})=>{let{formatMessage:m}=(0,a("8C5kA").default)(),h=c?n(c):u?"image":"unknown",[f,g]=(0,s.useState)(null);return((0,s.useEffect)(()=>{if("pdf"===h&&c)try{let e=URL.createObjectURL(c);g(e)}catch(e){(0,a("1yaYZ").logException)({exception:e,name:"pdf-blob-url-creation-error",tags:{fileType:c.type}}),g(null)}else g(null)},[h,c]),(0,s.useEffect)(()=>()=>{f&&URL.revokeObjectURL(f)},[f]),a("c6GJD").default.getExperimentValue("rovo_chat_file_previews_experiment","isEnabled",!1))?(0,i.jsx)(a("6xdDU").default,{children:e&&(0,i.jsxs)(a("8CZUH").default,{onClose:t,width:"x-large",shouldScrollInViewport:!0,children:[(0,i.jsx)(a("9ot3w").default,{hasCloseButton:!0,children:(0,i.jsx)(a("d8eRd").default,{children:l})}),(0,i.jsx)(a("1DHa6").default,{hasInlinePadding:!1,children:"image"===h&&u?(0,i.jsx)(a("gdv5Z").default,{as:"img",src:u,alt:l,xcss:o.imagePreview}):"pdf"===h&&f?(0,i.jsx)(a("gdv5Z").default,{as:"object",type:"application/pdf",data:`${f}#toolbar=1`,title:l,xcss:o.pdfPreview,children:(0,i.jsx)(a("gdv5Z").default,{as:"embed",type:"application/pdf",src:`${f}#toolbar=1`,xcss:o.pdfPreview})}):"text"===h?p?(0,i.jsx)(a("gdv5Z").default,{xcss:o.loadingContainer,children:(0,i.jsx)(a("9hlns").default,{size:"large"})}):(0,i.jsx)(a("gdv5Z").default,{xcss:o.textPreview,children:d}):(0,i.jsx)(a("gdv5Z").default,{xcss:o.loadingContainer,children:(0,i.jsx)(a("iXCQx").default,{children:m(r.previewNotAvailable)})})})]})}):null};var c=(0,a("cgtv4").defineMessages)({fileCloseIconLabel:{id:"ai-mate.chat-input.file-close-icon-label",defaultMessage:"Remove file"},fileErrorIconLabel:{id:"ai-mate.chat-input.file-error-icon-label",defaultMessage:"Error loading file"},textLoadFailed:{id:"ai-mate.chat-input.text-load-failed",defaultMessage:"Failed to load file content"},textFileTooLarge:{id:"ai-mate.chat-input.text-file-too-large",defaultMessage:"This file is too large to preview ({sizeMB}MB)."}});let u=({children:e})=>(0,i.jsx)(a("gdv5Z").default,{xcss:"_2rko12b0 _bfhkhp5a _1e0c1txw",children:e}),d=e=>{let t=e.lastIndexOf(".");return -1===t||0===t?{name:e,extension:""}:{name:e.slice(0,t),extension:e.slice(t+1)}};e.exports.FileCard=({fileName:e,onRemove:t,isLoading:r,error:o,autoScroll:n,previewBlobUrl:p,isPreviewLoading:m,fileObject:h})=>{let{formatMessage:f}=(0,a("8C5kA").default)(),{sendAnalyticsEvent:g}=(0,a("kIvLT").useAnalytics)(),{name:b,extension:y}=d(e),[x,v]=(0,s.useState)(!1),[j,w]=(0,s.useState)(null),[T,k]=(0,s.useState)(!1),S=(0,s.useCallback)(()=>{if(h)if((0,a("auPMn").isTextFile)(h.type,h.name)){if(g({action:"opened",actionSubject:"preview",actionSubjectId:"filePreview",attributes:{fileType:h.type,fileSize:h.size}}),k(!0),v(!0),h.size>2097152){let e=(h.size/1048576).toFixed(1);w(f(c.textFileTooLarge,{sizeMB:e})),k(!1);return}h.text().then(e=>{w(e),k(!1)}).catch(e=>{(0,a("1yaYZ").logException)({exception:e,name:"text-file-content-load-error",tags:{fileType:h.type}}),w(e instanceof Error?e.message:f(c.textLoadFailed)),k(!1)})}else(h.type.startsWith("image/")||"application/pdf"===h.type)&&(g({action:"opened",actionSubject:"preview",actionSubjectId:"filePreview",attributes:{fileType:h.type,fileSize:h.size}}),v(!0))},[h,f,g]),_=h&&(h.type.startsWith("image/")||"application/pdf"===h.type||(0,a("auPMn").isTextFile)(h.type,h.name))&&!r&&!m&&!o&&a("c6GJD").default.getExperimentValue("rovo_chat_file_previews_experiment","isEnabled",!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a("5SEdb").PreviewCard,{autoScroll:n,label:b,subLabel:y?.toUpperCase(),isLoading:r||m,error:o,onRemove:t,imageSrc:p,onClick:_?S:void 0,cardIcon:(0,i.jsx)(u,{children:(0,i.jsx)(a("jIfmm").FileIcon,{fileName:e,size:"medium"})}),subLabelIcon:(0,i.jsx)(a("jIfmm").FileIconSimple,{size:"small",fileName:e,color:"var(--ds-icon-subtle, #505258)"}),errorLabel:f(c.fileErrorIconLabel),removeLabel:f(c.fileCloseIconLabel)}),(0,i.jsx)(l,{isOpen:x,onClose:()=>v(!1),fileName:e,fileObject:h,previewBlobUrl:p,textContent:j,isLoadingText:T})]})}}),i("jIfmm",function(e,t){var i=a("l998X"),s=a("42omo"),r=(0,a("cgtv4").defineMessages)({iconLabel:{id:"rovo-chat.message-file.icon-label",defaultMessage:"File"}});let o=(0,s.lazy)(()=>a("8Q8zP")),n=(0,s.lazy)(()=>a("hcJ56")),l=(0,s.lazy)(()=>Promise.resolve(a("i9cac"))),c=(0,s.lazy)(()=>a("7X7LY")),u=(0,s.lazy)(()=>Promise.resolve(a("djgQ6"))),d=(0,s.lazy)(()=>a("fk3Vu")),p=(0,s.lazy)(()=>a("lGa5e")),m=(0,s.lazy)(()=>a("1DZBp")),h=(0,s.lazy)(()=>a("478Ii")),f=(0,s.lazy)(()=>a("9ZH0J")),g=(0,s.lazy)(()=>a("gkryH")),b=(0,s.lazy)(()=>a("iM8DS")),y=(0,s.lazy)(()=>Promise.resolve(a("iFCP2"))),x=(0,s.lazy)(()=>a("6Cxjr")),v=(0,s.lazy)(()=>a("kjtlE")),j=(0,s.lazy)(()=>a("5dAfr")),w=(0,s.lazy)(()=>a("33MJ0")),T=(0,s.lazy)(()=>Promise.resolve(a("5mB97"))),k=(0,s.lazy)(()=>a("516g5")),S=(0,s.lazy)(()=>Promise.resolve(a("8DZd1"))),_=(0,s.lazy)(()=>a("c8ZoX")),P=(0,s.lazy)(()=>a("9wre1")),E=(0,s.lazy)(()=>a("htcSJ")),C=(0,s.lazy)(()=>a("gSwgA")),I=(0,s.lazy)(()=>a("7peNt")),M=(0,s.lazy)(()=>a("ffDhW")),A=(0,s.lazy)(()=>a("jQ6zD")),L=(0,s.lazy)(()=>Promise.resolve(a("lxsNd"))),R=(0,s.lazy)(()=>a("8MDgw")),F=(0,s.lazy)(()=>a("5lE6Q")),D=(0,s.lazy)(()=>Promise.resolve(a("fZtQj"))),O=(0,s.lazy)(()=>Promise.resolve(a("chO1Z"))),N=(0,s.lazy)(()=>Promise.resolve(a("2Yaht"))),V=(0,s.lazy)(()=>Promise.resolve(a("e3TOY"))),U=(0,s.lazy)(()=>a("gNsmn"));e.exports.FileIconSimple=({fileName:e,...t})=>{let{formatMessage:s}=(0,a("8C5kA").default)(),o=e.split(".").pop(),n=s(r.iconLabel);if(!o)return(0,i.jsx)(S,{label:n});switch(o.toLowerCase()){case"jpg":case"jpeg":case"png":case"gif":return(0,i.jsx)(D,{...t,label:n});case"csv":case"tsv":case"xls":case"xlsx":return(0,i.jsx)(U,{...t,label:n});case"mp3":case"wav":case"flac":case"ogg":return(0,i.jsx)(V,{...t,label:n});case"mp4":case"avi":case"mov":case"mkv":return(0,i.jsx)(N,{...t,label:n});default:return(0,i.jsx)(O,{...t,label:n})}},e.exports.FileIcon=({fileName:e,size:t="small"})=>{let{formatMessage:s}=(0,a("8C5kA").default)(),D=e.split(".").pop(),O=s(r.iconLabel);if(!D)return"small"===t?(0,i.jsx)(S,{label:O}):(0,i.jsx)(u,{label:O});switch(D.toLowerCase()){case"txt":case"md":case"log":case"json":case"yaml":case"yml":case"xml":case"rtf":return"small"===t?(0,i.jsx)(T,{label:O}):(0,i.jsx)(l,{label:O});case"csv":case"tsv":return"small"===t?(0,i.jsx)(L,{label:O}):(0,i.jsx)(y,{label:O});case"doc":case"docx":return"small"===t?(0,i.jsx)(F,{label:O}):(0,i.jsx)(v,{label:O});case"pdf":return"small"===t?(0,i.jsx)(I,{label:O}):(0,i.jsx)(f,{label:O});case"ppt":case"pptx":return"small"===t?(0,i.jsx)(M,{label:O}):(0,i.jsx)(g,{label:O});case"xls":case"xlsx":return"small"===t?(0,i.jsx)(k,{label:O}):(0,i.jsx)(c,{label:O});case"jpg":case"jpeg":case"png":case"gif":return"small"===t?(0,i.jsx)(C,{label:O}):(0,i.jsx)(h,{label:O});case"mp3":case"wav":case"flac":case"ogg":return"small"===t?(0,i.jsx)(w,{label:O}):(0,i.jsx)(n,{label:O});case"mp4":case"avi":case"mov":case"mkv":return"small"===t?(0,i.jsx)(R,{label:O}):(0,i.jsx)(x,{label:O});case"zip":case"rar":case"7z":return"small"===t?(0,i.jsx)(j,{label:O}):(0,i.jsx)(o,{label:O});case"css":case"html":case"htm":case"c":case"cpp":case"cs":case"java":case"js":case"jsx":case"vue":case"svelte":case"as":case"sh":case"bash":case"bats":case"h":case"cc":case"cxx":case"hpp":case"hxx":case"coffee":case"litcoffee":case"clj":case"cljs":case"cljc":case"edn":case"dockerfile":case"dockerignore":case"erl":case"hrl":case"f":case"for":case"f90":case"f95":case"f03":case"f08":case"go":case"kt":case"kts":case"tex":case"sty":case"cls":case"less":case"makefile":case"mak":case"mk":case"m":case"mat":case"mm":case"pas":case"pp":case"p":case"pl":case"pm":case"t":case"pod":case"php":case"php3":case"php4":case"php5":case"phtml":case"py":case"pyw":case"pyc":case"pyo":case"pyd":case"r":case"rb":case"erb":case"rake":case"gemspec":case"rs":case"rslib":case"sas":case"sas7bdat":case"scss":case"sass":case"scala":case"sc":case"sbt":case"st":case"sm":case"sql":case"swift":case"tcl":case"itcl":case"ts":case"tsx":case"v":case"vh":case"vhd":case"vhdl":return"small"===t?(0,i.jsx)(A,{label:O}):(0,i.jsx)(b,{label:O});case"gdoc":return"small"===t?(0,i.jsx)(_,{label:O}):(0,i.jsx)(d,{label:O});case"gsheet":return"small"===t?(0,i.jsx)(P,{label:O}):(0,i.jsx)(p,{label:O});case"gslide":return"small"===t?(0,i.jsx)(E,{label:O}):(0,i.jsx)(m,{label:O});default:return"small"===t?(0,i.jsx)(S,{label:O}):(0,i.jsx)(u,{label:O})}}}),i("8Q8zP",function(e,t){e.exports=a("4mJKd")(5)("2fk6g").then(()=>a("fX9Sa"))}),i("hcJ56",function(e,t){e.exports=a("4mJKd")(5)("72780").then(()=>a("gguok"))}),i("7X7LY",function(e,t){e.exports=a("4mJKd")(5)("eTBsW").then(()=>a("gH8Rx"))}),i("fk3Vu",function(e,t){e.exports=a("4mJKd")(5)("lxiFd").then(()=>a("5W6v1"))}),i("lGa5e",function(e,t){e.exports=a("4mJKd")(5)("6HBYC").then(()=>a("giYeH"))}),i("1DZBp",function(e,t){e.exports=a("4mJKd")(5)("bYxCZ").then(()=>a("eWLPt"))}),i("478Ii",function(e,t){e.exports=a("4mJKd")(5)("hszIA").then(()=>a("20uDq"))}),i("9ZH0J",function(e,t){e.exports=a("4mJKd")(5)("eVYW1").then(()=>a("lzyQK"))}),i("gkryH",function(e,t){e.exports=a("4mJKd")(5)("020xd").then(()=>a("dfQbH"))}),i("iM8DS",function(e,t){e.exports=a("4mJKd")(5)("6vhrJ").then(()=>a("7t8Pn"))}),i("6Cxjr",function(e,t){e.exports=a("4mJKd")(5)("4jPsO").then(()=>a("hXc8o"))}),i("kjtlE",function(e,t){e.exports=a("4mJKd")(5)("ls0Um").then(()=>a("lkBga"))}),i("5dAfr",function(e,t){e.exports=a("4mJKd")(5)("2fk6g").then(()=>a("dlbUV"))}),i("33MJ0",function(e,t){e.exports=a("4mJKd")(5)("jDjSj").then(()=>a("d4cCP"))}),i("516g5",function(e,t){e.exports=a("4mJKd")(5)("eTBsW").then(()=>a("d8Kpd"))}),i("c8ZoX",function(e,t){e.exports=a("4mJKd")(5)("lxiFd").then(()=>a("4rkAw"))}),i("9wre1",function(e,t){e.exports=a("4mJKd")(5)("6HBYC").then(()=>a("l59oX"))}),i("htcSJ",function(e,t){e.exports=a("4mJKd")(5)("bYxCZ").then(()=>a("jOGxt"))}),i("gSwgA",function(e,t){e.exports=a("4mJKd")(5)("8059b").then(()=>a("41GKb"))}),i("7peNt",function(e,t){e.exports=a("4mJKd")(5)("eVYW1").then(()=>a("11LZV"))}),i("ffDhW",function(e,t){e.exports=a("4mJKd")(5)("020xd").then(()=>a("hY1Uy"))}),i("jQ6zD",function(e,t){e.exports=a("4mJKd")(5)("3wmvj").then(()=>a("1iV2p"))}),i("8MDgw",function(e,t){e.exports=a("4mJKd")(5)("hPalR").then(()=>a("ayTrS"))}),i("5lE6Q",function(e,t){e.exports=a("4mJKd")(5)("ls0Um").then(()=>a("90Icb"))}),i("gNsmn",function(e,t){e.exports=a("4mJKd")(5)("ijPJo").then(()=>a("g7f9W"))}),i("hnap0",function(t,i){var s=a("l998X"),r=a("42omo");a("42omo");let o=({onClick:t})=>(0,s.jsx)(a("1qfLF").default,{shape:"circle",isTooltipDisabled:!1,icon:t=>(0,s.jsx)(e(a("cvXh8")),{...t,label:""}),appearance:"primary",label:"Accept",onClick:t});a("42omo");var n=(0,a("cgtv4").defineMessages)({voiceDictationButtonLabel:{id:"rovo-chat.voice-dictation.label",defaultMessage:"Dictation"}});let l=({onClick:t})=>{let{formatMessage:i}=(0,a("8C5kA").default)();return(0,s.jsx)(a("1qfLF").default,{shape:"circle",isTooltipDisabled:!1,icon:t=>(0,s.jsx)(e(a("bAxHS")),{...t,label:""}),appearance:"subtle",onClick:t,label:i(n.voiceDictationButtonLabel)})};a("42omo");let c=({onClick:t})=>(0,s.jsx)(a("1qfLF").default,{shape:"circle",isTooltipDisabled:!1,icon:t=>(0,s.jsx)(e(a("hmuev")),{...t,label:""}),appearance:"subtle",onClick:t,label:"Reject"});t.exports.VoiceActionsPanel=({entryPoint:e,state:t,onRejectRecording:i,onStartRecording:n,onAcceptRecording:u,children:d,isVoiceDictationEnabled:p=!0})=>{let m=(0,r.useCallback)(()=>{t!==a("6VMxF").VoiceDictationState.Recording&&n()},[t,n]);if(!p)return d;switch(t){case a("6VMxF").VoiceDictationState.Recording:case a("6VMxF").VoiceDictationState.Initializing:return(0,s.jsxs)(a("u9agA").default,{alignBlock:"center",space:"space.050",children:[(0,s.jsx)(c,{onClick:i}),(0,s.jsx)(o,{onClick:u})]});default:return(0,s.jsxs)(a("u9agA").default,{alignBlock:"center",space:"space.050",children:[(0,s.jsx)(a("5VZ9F").GettingStartedTourSpotlight,{step:3,entryPoint:e,children:(0,s.jsx)(l,{onClick:m})}),d]})}}}),i("4zqRX",function(e,t){var i=a("l998X");a("42omo");let s={ellipsesContainer:"_16jlkb7n _1o9zkb7n _i0dlf1ug"};e.exports.VoiceRecordingPanel=({children:e,state:t})=>{switch(t){case a("6VMxF").VoiceDictationState.Recording:case a("6VMxF").VoiceDictationState.Initializing:return(0,i.jsx)(a("gdv5Z").default,{xcss:s.ellipsesContainer,children:(0,i.jsx)(a("cdw4J").EllipsesAnimation,{isAnimated:!0})});default:return e}}}),i("f2la9",function(t,i){var s=a("l998X"),r=a("42omo");let o=e=>e&&a("gkZa1").skillIcon[e]?a("gkZa1").skillIcon[e]:a("gkZa1").defaultIcon,n=["create-work-items","update-work-items","write-status-update"],l=[{slug:"update-work-items",name:"Update work items",description:"Update work item fields like assignee, summary, descriptions, and more",product:"Jira",iconName:"work-item"},{slug:"write-status-update",name:"Write status update",description:"Provide an update on the status of work in a space",product:"Jira",iconName:"ai-generative-text"},{slug:"summarize-release",name:"Summarize release",description:"Summarize release scope, risks, blockers, and more",product:"Jira",iconName:"chart-bar-line"},{slug:"draft-release-notes",name:"Draft release notes",description:"Write release notes covering key changes in a release",product:"Jira",iconName:"ai-generative-text"},{slug:"create-release",name:"Create release",description:"Create a release to package code for deployment",product:"Jira",iconName:"add"},{slug:"explain-next-status",name:"Explain next status",description:"Get a summary of available statuses and transitions for a work item",product:"Jira",iconName:"project-status"},{slug:"get-data-insights",name:"Get data insights",description:"Create charts and get insights on your work",product:"Jira",iconName:"chart-pie"},{slug:"manage-jira-permissions",name:"Manage Jira permissions",description:"Manage permissions in Jira projects",product:"Jira",iconName:"lock-locked"},{slug:"find-jira-settings",name:"Find Jira settings",description:"Get assistance finding the correct Jira admin settings for your needs",product:"Jira",iconName:"settings"},{slug:"assist-jira-plans",name:"Assist Jira plans",description:"Get help optimizing and managing Jira plans",product:"Jira",iconName:"plan"},{slug:"search-assets",name:"Search Assets",description:"Query Assets data to get organizational insights in Rovo Chat",product:"Jira",iconName:"assets"}],c=e=>(0,a("dh538").fg)("rovo_jira_skills_enabled")?e:e.filter(e=>!n.includes(e.slug));t.exports.TEMP_SKILLS_LIST=l,t.exports.useSkillsManifest=({skills:t=l,isConversationAgentic:i,promptHasSkill:n,enableSkills:u=!0})=>{let{sendAnalyticsEvent:d}=(0,a("kIvLT").useAnalytics)(),p=e(r).useCallback((e=l)=>{let t=c(e);return{title:"Skills",type:a("ij2FZ").ROVO_SKILL_EXTENSION_TYPE,key:a("ij2FZ").ROVO_SKILL_EXTENSION_KEY,categories:["Skills"],icons:{16:a("gkZa1").defaultIcon,24:a("gkZa1").defaultIcon,48:a("gkZa1").defaultIcon},modules:{quickInsert:t.map(e=>{let{slug:t,description:i,name:s,product:r,iconName:n}=e;return{key:t,keywords:["skills","skill",t,r??""],priority:99,title:s,description:i,icon:o(n),action:async()=>(d({eventType:"ui",action:"clicked",actionSubject:"button",actionSubjectId:"rovoChatSkillSelected",attributes:{slashCommand:t,skillProductKey:r}}),[{type:"inlineExtension",attrs:{extensionKey:a("ij2FZ").ROVO_SKILL_COMBINED_EXTENSION_KEY,extensionType:a("ij2FZ").ROVO_SKILL_EXTENSION_TYPE,parameters:e}},{type:"text",text:" "}])}}),nodes:{skillTag:{type:"inlineExtension",render:async()=>({node:e})=>{let t=e.parameters;return t?(0,s.jsx)(a("3QWW6").SkillTag,{...t}):null}}}}}},[d]);return e(r).useMemo(()=>{if(u){if((i||n)&&(0,a("dh538").fg)("rovo_chat_enable_skills_ui_m1"))return[new(0,a("bre0g").default)([p([])])];else if((0,a("dh538").fg)("rovo_chat_enable_skills_ui_m1"))return[new(0,a("bre0g").default)([p(t)])]}},[i,n,p,t,u])}}),i("ciV2C",function(e,t){e.exports=a("4mJKd")(5)("2ap9J").then(()=>a("bKhxF"))}),i("8OGHW",function(e,t){e.exports=a("4mJKd")(5)("1yrlK").then(()=>a("2LFoe"))}),i("4qVJ2",function(e,t){e.exports=a("4mJKd")(5)("czqcb").then(()=>a("OmUay"))}),i("eqsS5",function(e,t){e.exports=a("4mJKd")(5)("iAqyW").then(()=>a("h7YX1"))}),i("8sr2T",function(e,t){e.exports=a("4mJKd")(5)("8vVzT").then(()=>a("4DzVW"))}),i("i4zNS",function(e,t){e.exports=a("4mJKd")(5)("hpUn4").then(()=>a("3Pjsu"))}),i("6E8pW",function(e,t){e.exports=a("4mJKd")(5)("l4YAS").then(()=>a("f2ref"))}),i("3mxkw",function(e,t){e.exports=a("4mJKd")(5)("6HxBR").then(()=>a("2KFft"))}),i("3QWW6",function(e,t){var i=a("l998X"),s=a("42omo");let r={parallelogram:"_2rkolb4i _18u01b66 _19bv12x7 _u5f312x7 _t9ec1hsb _1e0c1o8l",background:"_bfhki8nm",backgroundInverse:"_bfhk1vck",content:"_t9ecstek"},o={container:"_ca0qpxbi _u5f3pxbi _n3tdpxbi _19bvpxbi _1bsbnklw",skillName:"_k48pmoej _otyru2gc _4cvr1h6o",product:"_19pkutpp _syazazsu"},n=(e,t)=>e||(t?"var(--ds-border-inverse, #FFFFFF)":"var(--ds-border, #0B120E24)"),l=({triggerProps:e={},invertColors:t,accentColor:s,slug:o,IconComponent:l,onMouseEnter:c,onMouseLeave:u})=>(0,i.jsx)(a("gdv5Z").default,{as:"span",xcss:(0,a("1Whri").cx)(r.parallelogram,t?r.backgroundInverse:r.background),style:{borderLeft:`var(--ds-border-width-selected, 2px) solid ${n(s,t)}`},onMouseEnter:c,onMouseLeave:u,...e,children:(0,i.jsxs)(a("u9agA").default,{xcss:r.content,space:"space.050",alignBlock:"center",children:[l&&(0,i.jsx)(a("i4C2H").default,{fallback:null,interactionName:"skill-tag-icon",children:(0,i.jsx)(l,{label:"",size:"small",color:t?"var(--ds-icon-inverse, #FFFFFF)":"var(--ds-icon, #292A2E)"})}),o]})}),c=({onMouseEnter:e,onMouseLeave:t,product:s,IconComponent:r,...n})=>(0,i.jsx)(a("gdv5Z").default,{xcss:o.container,onMouseEnter:e,onMouseLeave:t,children:(0,i.jsxs)(a("eyWa4").default,{children:[(0,i.jsxs)(a("u9agA").default,{xcss:o.skillName,space:"space.100",children:[r&&(0,i.jsx)(a("i4C2H").default,{fallback:null,interactionName:"skill-tag-hovercard-icon",children:(0,i.jsx)(r,{label:"",size:"medium",color:"var(--ds-icon-accent-blue, #357DE8)"})}),(0,i.jsx)(a("7hXDW").default,{size:"xsmall",children:n.name})]}),n.description&&(0,i.jsx)(a("gdv5Z").default,{children:(0,i.jsx)(a("iXCQx").default,{color:"color.text",children:n.description})}),s&&(0,i.jsx)(a("gdv5Z").default,{xcss:o.product,children:(0,i.jsx)(a("iXCQx").default,{color:"color.text.subtle",size:"small",children:s})})]})});e.exports.SkillTag=({invertColors:e=!1,disableHovercard:t=!1,product:r,iconName:o,...n})=>{let[u,d]=(0,s.useState)(!1),[p,m]=(0,a("lvsjl").default)(e=>{d(e)},200),h=o?a("gkZa1").skillIconMap[o]:void 0,f=n?.name&&n?.description;return t||!f?(0,i.jsx)(l,{...n,invertColors:e,disableHovercard:t,IconComponent:h}):(0,i.jsx)(a("lGgRw").Popup,{placement:"top",fallbackPlacements:["bottom","left"],autoFocus:!1,isOpen:u,content:()=>(0,i.jsx)(c,{onMouseEnter:()=>m(),onMouseLeave:()=>p(!1),product:r,IconComponent:h,...n}),trigger:a=>(0,i.jsx)(l,{triggerProps:a,invertColors:e,disableHovercard:t,IconComponent:h,onMouseEnter:()=>{p(!0)},onMouseLeave:()=>{p(!1)},...n})})}}),i("CV9x9",function(e,t){var i,s=a("42omo"),r=(0,a("cgtv4").defineMessages)({bitbucketPullRequestsPrompt1:{id:"ai-mate.chat-history.empty-state.bitbucket-pull-requests-prompt-1",defaultMessage:"Summarize this pull request."},bitbucketPullRequestsPrompt2:{id:"ai-mate.chat-history.empty-state.bitbucket-pull-requests-prompt-2",defaultMessage:"Explain the code changes to me."},bitbucketPullRequestsPrompt3:{id:"ai-mate.chat-history.empty-state.bitbucket-pull-requests-prompt-3",defaultMessage:"Summarize the comments on this pull request."},bitbucketRepositorySourcePrompt1:{id:"ai-mate.chat-history.empty-state.bitbucket-repository-source-prompt-1",defaultMessage:"Explain this file."},bitbucketRepositorySourcePrompt2:{id:"ai-mate.chat-history.empty-state.bitbucket-repository-source-prompt-2",defaultMessage:"What are the pull requests authored by `person`?"},bitbucketRepositorySourcePrompt3:{id:"ai-mate.chat-history.empty-state.bitbucket-repository-source-prompt-3",defaultMessage:" What APIs or modules do these files interact with?"},bitbucketPrompt1:{id:"ai-mate.chat-history.empty-state.bitbucket-prompt-1",defaultMessage:"What are the pull requests authored by `person`?"},bitbucketPrompt2:{id:"ai-mate.chat-history.empty-state.bitbucket-prompt-2",defaultMessage:"What are the open PRs for the current Jira sprint?"},bitbucketPrompt3:{id:"ai-mate.chat-history.empty-state.bitbucket-prompt-3",defaultMessage:"Has `Jira work item` been deployed?"},bitbucketPrompt4:{id:"ai-mate.chat-history.empty-state.bitbucket-prompt-4",defaultMessage:"Who are the reviewers on this `Pull request`?"},confluenceHomePrompt1:{id:"ai-mate.chat-history.empty-state.confluence-home-prompt-1",defaultMessage:"Is there any new activity on pages I've written?"},confluenceHomePrompt2:{id:"ai-mate.chat-history.empty-state.confluence-home-prompt-2",defaultMessage:"Are there any new comments mentioning me?"},confluenceHomePrompt3:{id:"ai-mate.chat-history.empty-state.confluence-home-prompt-3",defaultMessage:"Summarize the most recently published pages in this space."},confluenceHomePrompt4:{id:"ai-mate.chat-history.empty-state.confluence-home-prompt-4",defaultMessage:"Summarize my contributions to pages from last week."},confluenceHomePrompt5:{id:"ai-mate.chat-history.empty-state.confluence-home-prompt-5",defaultMessage:"Can you take this `page` and write it in a less technical way?"},confluenceHomePrompt6:{id:"ai-mate.chat-history.empty-state.confluence-home-prompt-6",defaultMessage:"Create a game plan template for project management."},confluenceHomePrompt7:{id:"ai-mate.chat-history.empty-state.confluence-home-prompt-7",defaultMessage:"What research do we have on common customer problems?"},confluenceHomePrompt8:{id:"ai-mate.chat-history.empty-state.confluence-home-prompt-8",defaultMessage:"Has anyone on my team published any new pages this week?"},confluenceHomePrompt9:{id:"ai-mate.chat-history.empty-state.confluence-home-prompt-9",defaultMessage:"Has `person` published any new pages this week?"},confluenceHomePrompt10:{id:"ai-mate.chat-history.empty-state.confluence-home-prompt-10",defaultMessage:"Has `person` commented on any pages that I've published?"},confluenceHomePrompt11:{id:"ai-mate.chat-history.empty-state.confluence-home-prompt-11",defaultMessage:"What are the key takeaways from `page`?"},confluenceHomePrompt12:{id:"ai-mate.chat-history.empty-state.confluence-home-prompt-12",defaultMessage:"What should I work on next?"},confluencePageViewPrompt1:{id:"ai-mate.chat-history.empty-state.confluence-page-view-prompt-1",defaultMessage:"Summarize what I'm looking at."},confluencePageViewPrompt2:{id:"ai-mate.chat-history.empty-state.confluence-page-view-prompt-2",defaultMessage:"Summarize the comments on this page."},confluencePageViewPrompt3:{id:"ai-mate.chat-history.empty-state.confluence-page-view-prompt-3",defaultMessage:"Explain this page to me like I'm a beginner."},confluencePageViewPrompt4:{id:"ai-mate.chat-history.empty-state.confluence-page-view-prompt-4",defaultMessage:"Who wrote this page and what team are they on?"},confluencePageViewPrompt5:{id:"ai-mate.chat-history.empty-state.confluence-page-view-prompt-5",defaultMessage:"Has anything on this page changed in the last week?"},confluencePageViewPrompt6:{id:"ai-mate.chat-history.empty-state.confluence-page-view-prompt-6",defaultMessage:"What should I work on next?"},confluencePageEditPrompt1:{id:"ai-mate.chat-history.empty-state.confluence-page-edit-prompt-1",defaultMessage:"Can you improve the writing on this page?"},confluencePageEditPrompt2:{id:"ai-mate.chat-history.empty-state.confluence-page-edit-prompt-2",defaultMessage:"Write an executive summary for this page."},confluencePageEditPrompt3:{id:"ai-mate.chat-history.empty-state.confluence-page-edit-prompt-3",defaultMessage:"Give me links to some other relevant pages."},confluencePageEditPrompt4:{id:"ai-mate.chat-history.empty-state.confluence-page-edit-prompt-4",defaultMessage:"What should I work on next?"},confluenceWhiteboardPrompt1:{id:"ai-mate.chat-history.empty-state.confluence-whiteboard-prompt-1",defaultMessage:"Summarize what I'm looking at."},confluenceWhiteboardPrompt2:{id:"ai-mate.chat-history.empty-state.confluence-whiteboard.prompt-2",defaultMessage:"Highlight any patterns or trends visible here."},confluenceWhiteboardPrompt3:{id:"ai-mate.chat-history.empty-state.confluence-whiteboard.prompt-3",defaultMessage:"Identify any key action items or decisions captured in this whiteboard."},confluenceWhiteboardPrompt4:{id:"ai-mate.chat-history.empty-state.confluence-whiteboard-prompt-4",defaultMessage:"What should I work on next?"},jiraHomePrompt1:{id:"ai-mate.chat-history.empty-state.jira-home-prompt-1",defaultMessage:"Find Jira work items that have been updated this week."},jiraHomePrompt2:{id:"ai-mate.chat-history.empty-state.jira-home-prompt-2",defaultMessage:"What Jira work items are the highest priority?"},jiraHomePrompt3:{id:"ai-mate.chat-history.empty-state.jira-home-prompt-3",defaultMessage:"What Jira work items have comments mentioning me?"},jiraHomePrompt4:{id:"ai-mate.chat-history.empty-state.jira-home-prompt-4",defaultMessage:"Summarize the comments on `Jira work item`."},jiraHomePrompt5:{id:"ai-mate.chat-history.empty-state.jira-home-prompt-5",defaultMessage:"Create a description template for user stories."},jiraHomePrompt6:{id:"ai-mate.chat-history.empty-state.jira-home-prompt-6",defaultMessage:"What should I work on next?"},jiraIssueViewPrompt1:{id:"ai-mate.chat-history.empty-state.jira-issue-view-prompt-1",defaultMessage:"Are there any similar Jira work items to this one?"},jiraIssueViewPrompt2:{id:"ai-mate.chat-history.empty-state.jira-issue-view-prompt-2",defaultMessage:"How could I improve the description?"},jiraIssueViewPrompt3:{id:"ai-mate.chat-history.empty-state.jira-issue-view-prompt-3",defaultMessage:"What labels could I add to this work item?"},jiraIssueViewPrompt4:{id:"ai-mate.chat-history.empty-state.jira-issue-view-prompt-4",defaultMessage:"What should I work on next?"},jiraProjectPrompt1:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-1",defaultMessage:"What work hasnt been picked up in a while?"},jiraProjectPrompt2:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-2",defaultMessage:"Are any Jira work items blocked?"},jiraProjectPrompt3:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-3",defaultMessage:"List Jira work items that are currently In Progress and group them by assignee."},jiraProjectPrompt4:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-4",defaultMessage:"How many work items are assigned to `person`?"},jiraProjectPrompt5:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-5",defaultMessage:"Has `person` commented on any Jira work items in this sprint?"},jiraProjectPrompt6:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-6",defaultMessage:"What Jira work items are unassigned?"},jiraProjectPrompt7:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-7",defaultMessage:"What Jira work items have been open the longest?"},jiraProjectPrompt8:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-8",defaultMessage:"Who has the most tasks?"},jiraProjectPrompt9:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-10",defaultMessage:"Find and group similar Jira work items."},jiraProjectPrompt10:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-11",defaultMessage:"Are there any Jira work items not connected to a parent work item?"},jiraProjectPrompt11:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-12",defaultMessage:"Take `Jira work item` description and align it to best-practice."},jiraProjectPrompt12:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-13",defaultMessage:"Summarize the comments on `Jira work item`."},jiraProjectPrompt13:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-14",defaultMessage:"Create a description template for user stories."},jiraProjectPrompt14:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-15",defaultMessage:"What should I work on next?"},atlasHomePrompt1:{id:"ai-mate.chat-history.empty-state.atlas-home-prompt-1",defaultMessage:"What Confluence pages have I contributed to recently?"},atlasHomePrompt2:{id:"ai-mate.chat-history.empty-state.atlas-home-prompt-2",defaultMessage:"Find all Jira tickets that are assigned to me."},atlasHomePrompt3:{id:"ai-mate.chat-history.empty-state.atlas-home-prompt-3",defaultMessage:"What is our travel policy?"},atlasHomePrompt4:{id:"ai-mate.chat-history.empty-state.atlas-home-prompt-4",defaultMessage:"Draft a Confluence page for a marketing campaign."},atlasHomePrompt5:{id:"ai-mate.chat-history.empty-state.atlas-home-prompt-5",defaultMessage:"How can I create a project timeline?"},atlasHomePrompt6:{id:"ai-mate.chat-history.empty-state.atlas-home-prompt-6",defaultMessage:"Write a follow up email to potential clients."},atlasHomePrompt7:{id:"ai-mate.chat-history.empty-state.atlas-home-prompt-7",defaultMessage:"What should I work on next?"},unknownPrompt1:{id:"ai-mate.chat-history.empty-state.suggestion1",defaultMessage:"Are any of my work items overdue?"},unknownPrompt2:{id:"ai-mate.chat-history.empty-state.suggestion2",defaultMessage:"What should I work on next?"},unknownPrompt3:{id:"ai-mate.chat-history.empty-state.suggestion3",defaultMessage:"Write an update about my week"},confluenceHomeLLMLabel1:{id:"ai-mate.chat-history.empty-state.confluence-home-llm-label-1",defaultMessage:"About this space"},confluenceHomeLLMLabel2:{id:"ai-mate.chat-history.empty-state.confluence-home-llm-label-2",defaultMessage:"Insights on this space"},confluenceHomeLLMLabel3:{id:"ai-mate.chat-history.empty-state.confluence-home-llm-label-3",defaultMessage:"Space suggestion"},confluencePageLLMLabel1:{id:"ai-mate.chat-history.empty-state.confluence-page-llm-label-1",defaultMessage:"About this page"},confluencePageLLMLabel2:{id:"ai-mate.chat-history.empty-state.confluence-page-llm-label-2",defaultMessage:"More from this page"},confluencePageLLMLabel3:{id:"ai-mate.chat-history.empty-state.confluence-page-llm-label-3",defaultMessage:"Insights on this page"},confluencePageLLMLabel4:{id:"ai-mate.chat-history.empty-state.confluence-page-llm-label-3",defaultMessage:"Page suggestion"},confluenceWhiteboardLLMLabel1:{id:"ai-mate.chat-history.empty-state.confluence-whiteboard-llm-label-1",defaultMessage:"About this whiteboard"},confluenceWhiteboardLLMLabel2:{id:"ai-mate.chat-history.empty-state.confluence-whiteboard-llm-label-2",defaultMessage:"More from this whiteboard"},confluenceWhiteboardLLMLabel3:{id:"ai-mate.chat-history.empty-state.confluence-whiteboard-llm-label-3",defaultMessage:"Insights on this whiteboard"},jiraIssueLLMLabel1:{id:"ai-mate.chat-history.empty-state.jira-issue-llm-label-1",defaultMessage:"About this work item"},jiraIssueLLMLabel2:{id:"ai-mate.chat-history.empty-state.jira-issue-llm-label-2",defaultMessage:"More from this work item"},jiraIssueLLMLabel3:{id:"ai-mate.chat-history.empty-state.jira-issue-llm-label-3",defaultMessage:"Insights on this work item"},jiraIssueLLMLabel4:{id:"ai-mate.chat-history.empty-state.jira-issue-llm-label-4",defaultMessage:"Work item suggestion"},jiraProjectLLMLabel1:{id:"ai-mate.chat-history.empty-state.jira-project-llm-label-1",defaultMessage:"About this project"},jiraProjectLLMLabel2:{id:"ai-mate.chat-history.empty-state.jira-project-llm-label-2",defaultMessage:"Insights on this project"},jiraProjectLLMLabel3:{id:"ai-mate.chat-history.empty-state.jira-project-llm-label-3",defaultMessage:"More from this project"},jiraProjectLLMLabel4:{id:"ai-mate.chat-history.empty-state.jira-project-llm-label-4",defaultMessage:"Project suggestion"},unknownLLMLabel1:{id:"ai-mate.chat-history.empty-state.unknown-llm-label-1",defaultMessage:"Suggestion"},jiraHomePrompt1IssueTermRefresh:{id:"ai-mate.chat-history.empty-state.jira-home-prompt-1-issue-term-refresh",defaultMessage:"Find Jira work items that have been updated this week."},jiraHomePrompt2IssueTermRefresh:{id:"ai-mate.chat-history.empty-state.jira-home-prompt-2-issue-term-refresh",defaultMessage:"What Jira work items are the highest priority?"},jiraHomePrompt3IssueTermRefresh:{id:"ai-mate.chat-history.empty-state.jira-home-prompt-3-issue-term-refresh",defaultMessage:"What Jira work items have comments mentioning me?"},jiraHomePrompt4IssueTermRefresh:{id:"ai-mate.chat-history.empty-state.jira-home-prompt-4-issue-term-refresh",defaultMessage:"Summarize the comments on `Jira work item`."},jiraIssueViewPrompt1IssueTermRefresh:{id:"ai-mate.chat-history.empty-state.jira-issue-view-prompt-1-issue-term-refresh",defaultMessage:"Are there any similar Jira work items to this one?"},jiraIssueViewPrompt3IssueTermRefresh:{id:"ai-mate.chat-history.empty-state.jira-issue-view-prompt-3-issue-term-refresh",defaultMessage:"What labels could I add to this work item?"},jiraProjectPrompt2IssueTermRefresh:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-2-issue-term-refresh",defaultMessage:"Are any Jira work items blocked?"},jiraProjectPrompt3IssueTermRefresh:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-3-issue-term-refresh",defaultMessage:"List Jira work items that are currently In Progress and group them by assignee."},jiraProjectPrompt4IssueTermRefresh:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-4-issue-term-refresh",defaultMessage:"How many work items are assigned to `person`?"},jiraProjectPrompt5IssueTermRefresh:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-5-issue-term-refresh",defaultMessage:"Has `person` commented on any Jira work items in this sprint?"},jiraProjectPrompt6IssueTermRefresh:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-6-issue-term-refresh",defaultMessage:"What Jira work items are unassigned?"},jiraProjectPrompt7IssueTermRefresh:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-7-issue-term-refresh",defaultMessage:"What Jira work items have been open the longest?"},jiraProjectPrompt9IssueTermRefresh:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-10-issue-term-refresh",defaultMessage:"Find and group similar Jira work items."},jiraProjectPrompt10IssueTermRefresh:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-11-issue-term-refresh",defaultMessage:"Are there any Jira work items not connected to a parent work item?"},jiraProjectPrompt11IssueTermRefresh:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-12-issue-term-refresh",defaultMessage:"Take `Jira work item` description and align it to best-practice."},jiraProjectPrompt12IssueTermRefresh:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-13-issue-term-refresh",defaultMessage:"Summarize the comments on `Jira work item`."},jiraProjectPrompt13IssueTermRefresh:{id:"ai-mate.chat-history.empty-state.jira-project-prompt-14-issue-term-refresh",defaultMessage:"Create a description template for user stories."},jiraIssueLLMLabel1IssueTermRefresh:{id:"ai-mate.chat-history.empty-state.jira-issue-llm-label-1-issue-term-refresh",defaultMessage:"About this work item"},jiraIssueLLMLabel2IssueTermRefresh:{id:"ai-mate.chat-history.empty-state.jira-issue-llm-label-2-issue-term-refresh",defaultMessage:"More from this work item"},jiraIssueLLMLabel3IssueTermRefresh:{id:"ai-mate.chat-history.empty-state.jira-issue-llm-label-3-issue-term-refresh",defaultMessage:"Insights on this work item"},jiraIssueLLMLabel4IssueTermRefresh:{id:"ai-mate.chat-history.empty-state.jira-issue-llm-label-4-issue-term-refresh",defaultMessage:"Work item suggestion"}});(i={}).ADMIN_HUB="admin-hub",i.BITBUCKET="bitbucket",i.BITBUCKET_PULL_REQUEST="bitbucket-pull-request",i.BITBUCKET_REPOSITORY_SOURCE="bitbucket-repository-source",i.CONFLUENCE_HOME="confluence-home",i.CONFLUENCE_PAGE_VIEW="confluence-page-view",i.CONFLUENCE_PAGE_EDIT="confluence-page-edit",i.CONFLUENCE_WHITEBOARD="confluence-whiteboard",i.JIRA_HOME="jira-home",i.JIRA_ISSUE_VIEW="jira-issue-view",i.JIRA_PROJECT="jira-project",i.ATLAS_HOME="atlas-home",i.UNKNOWN="unknown";let o={"bitbucket-pull-request":[{labelType:"summarize-content",message:r.bitbucketPullRequestsPrompt1},{labelType:"rephrase-content",message:r.bitbucketPullRequestsPrompt2},{labelType:"summarize-content",message:r.bitbucketPullRequestsPrompt3}],"bitbucket-repository-source":[{labelType:"summarize-content",message:r.bitbucketRepositorySourcePrompt1},{labelType:"find-information",message:r.bitbucketRepositorySourcePrompt2},{labelType:"find-information",message:r.bitbucketRepositorySourcePrompt3}],bitbucket:[{labelType:"find-information",message:r.bitbucketPrompt1},{labelType:"find-information",message:r.bitbucketPrompt4},{labelType:"stay-up-to-date",message:r.bitbucketPrompt3}],"confluence-home":[{labelType:"be-productive",message:r.confluenceHomePrompt1},{labelType:"stay-up-to-date",message:r.confluenceHomePrompt2},{labelType:"summarize-content",message:r.confluenceHomePrompt3},{labelType:"summarize-content",message:r.confluenceHomePrompt4},{labelType:"rephrase-content",message:r.confluenceHomePrompt5},{labelType:"draft-content",message:r.confluenceHomePrompt6},{labelType:"find-information",message:r.confluenceHomePrompt7},{labelType:"find-people",message:r.confluenceHomePrompt8},{labelType:"find-people",message:r.confluenceHomePrompt9},{labelType:"find-people",message:r.confluenceHomePrompt10},{labelType:"be-productive",message:r.confluenceHomePrompt11}],"confluence-page-view":[{labelType:"summarize-content",message:r.confluencePageViewPrompt1},{labelType:"summarize-content",message:r.confluencePageViewPrompt2},{labelType:"rephrase-content",message:r.confluencePageViewPrompt3},{labelType:"find-people",message:r.confluencePageViewPrompt4},{labelType:"stay-up-to-date",message:r.confluencePageViewPrompt5},{labelType:"be-productive",message:r.confluencePageViewPrompt6}],"confluence-whiteboard":[{labelType:"summarize-content",message:r.confluenceWhiteboardPrompt1},{labelType:"get-answers",message:r.confluenceWhiteboardPrompt2},{labelType:"find-information",message:r.confluenceWhiteboardPrompt3},{labelType:"be-productive",message:r.confluenceWhiteboardPrompt4}],"confluence-page-edit":[{labelType:"rephrase-content",message:r.confluencePageEditPrompt1},{labelType:"draft-content",message:r.confluencePageEditPrompt2},{labelType:"find-information",message:r.confluencePageEditPrompt3},{labelType:"be-productive",message:r.confluencePageEditPrompt4}],"jira-home":[{labelType:"stay-up-to-date",message:r.jiraHomePrompt1},{labelType:"be-productive",message:r.jiraHomePrompt2},{labelType:"find-information",message:r.jiraHomePrompt3},{labelType:"summarize-content",message:r.jiraHomePrompt4},{labelType:"draft-content",message:r.jiraHomePrompt5},{labelType:"be-productive",message:r.jiraHomePrompt6}],"jira-issue-view":[{labelType:"find-information",message:r.jiraIssueViewPrompt1},{labelType:"rephrase-content",message:r.jiraIssueViewPrompt2},{labelType:"draft-content",message:r.jiraIssueViewPrompt3},{labelType:"be-productive",message:r.jiraIssueViewPrompt4}],"jira-project":[{labelType:"stay-up-to-date",message:r.jiraProjectPrompt1},{labelType:"be-productive",message:r.jiraProjectPrompt2},{labelType:"measure-productivity",message:r.jiraProjectPrompt3},{labelType:"find-people",message:r.jiraProjectPrompt4},{labelType:"find-people",message:r.jiraProjectPrompt5},{labelType:"be-productive",message:r.jiraProjectPrompt6},{labelType:"measure-productivity",message:r.jiraProjectPrompt7},{labelType:"find-people",message:r.jiraProjectPrompt8},{labelType:"find-information",message:r.jiraProjectPrompt9},{labelType:"get-answers",message:r.jiraProjectPrompt10},{labelType:"rephrase-content",message:r.jiraProjectPrompt11},{labelType:"summarize-content",message:r.jiraProjectPrompt12},{labelType:"draft-content",message:r.jiraProjectPrompt13},{labelType:"be-productive",message:r.jiraProjectPrompt14}],"atlas-home":[{labelType:"find-information",message:r.atlasHomePrompt1},{labelType:"measure-productivity",message:r.atlasHomePrompt2},{labelType:"get-answers",message:r.atlasHomePrompt3},{labelType:"draft-content",message:r.atlasHomePrompt4},{labelType:"be-productive",message:r.atlasHomePrompt5},{labelType:"draft-content",message:r.atlasHomePrompt6},{labelType:"be-productive",message:r.confluenceHomePrompt1},{labelType:"summarize-content",message:r.confluenceHomePrompt4},{labelType:"rephrase-content",message:r.confluenceHomePrompt5},{labelType:"summarize-content",message:r.confluenceHomePrompt11},{labelType:"find-people",message:r.confluenceHomePrompt8},{labelType:"find-people",message:r.confluenceHomePrompt10},{labelType:"stay-up-to-date",message:r.jiraHomePrompt2},{labelType:"find-information",message:r.jiraHomePrompt3},{labelType:"summarize-content",message:r.jiraHomePrompt4},{labelType:"be-productive",message:r.atlasHomePrompt7}],unknown:[{labelType:"find-information",message:r.unknownPrompt1},{labelType:"be-productive",message:r.unknownPrompt2},{labelType:"draft-content",message:r.unknownPrompt3}],"admin-hub":[]},n={"confluence-home":[{message:r.confluenceHomeLLMLabel1},{message:r.confluenceHomeLLMLabel2},{message:r.confluenceHomeLLMLabel3}],"confluence-page-view":[{message:r.confluencePageLLMLabel1},{message:r.confluencePageLLMLabel2},{message:r.confluencePageLLMLabel3},{message:r.confluencePageLLMLabel4}],"confluence-whiteboard":[{message:r.confluenceWhiteboardLLMLabel1},{message:r.confluenceWhiteboardLLMLabel2},{message:r.confluenceWhiteboardLLMLabel3}],"confluence-page-edit":[{message:r.confluencePageLLMLabel1},{message:r.confluencePageLLMLabel2},{message:r.confluencePageLLMLabel3},{message:r.confluencePageLLMLabel4}],"jira-home":[{message:r.jiraProjectLLMLabel1},{message:r.jiraProjectLLMLabel2},{message:r.jiraProjectLLMLabel3},{message:r.jiraProjectLLMLabel4}],"jira-issue-view":[{message:r.jiraIssueLLMLabel1},{message:r.jiraIssueLLMLabel2},{message:r.jiraIssueLLMLabel3},{message:r.jiraIssueLLMLabel4}],"jira-project":[{message:r.jiraProjectLLMLabel1},{message:r.jiraProjectLLMLabel2},{message:r.jiraProjectLLMLabel3},{message:r.jiraProjectLLMLabel4}],unknown:[{message:r.unknownLLMLabel1}]},l=e=>{for(let[t,i]of[["bitbucket-repository-source",/bitbucket\.org\/[^\/]+\/[^\/]+\/src\//],["bitbucket-pull-request",/bitbucket\.org\/[^\/]+\/[^\/]+\/pull-requests\//],["bitbucket",/bitbucket\.org\/.*/],["confluence-home",/\/wiki\/home$/],["confluence-page-edit",/\/wiki\/spaces\/[^\/]+\/(?:pages|blog)\/edit-v2\//],["confluence-page-view",/\/wiki\/spaces\/[^\/]+\/(?:pages|blog)\//],["confluence-whiteboard",/\/wiki\/spaces\/[^\/]+\/whiteboard\//],["jira-issue-view",/\/browse\/[^\/]+$/],["jira-issue-view",/\/jira\/.+\/projects\/.+\?selectedIssue/],["jira-project",/\/jira\/.+\/projects\//],["jira-home",/\/jira\/dashboards\/last-visited$/],["atlas-home",/\/(home|team)\./],["admin-hub",/admin(\.stg)?\.atlassian\.com/]])if(i.test(e)){if("confluence-whiteboard"===t)return a("c6GJD").default.getExperimentValue("contextual_conversation_starters_for_whiteboards","enable",!1)?t:"unknown";return t}return"unknown"},c=()=>{let e=(0,a("fDnfG").useWindowLocation)(),[t,i]=(0,s.useState)(l(e));return(0,s.useEffect)(()=>{i(l(e))},[e]),t},u=e=>{for(let t=e.length-1;t>0;t--){let a=Math.floor(Math.random()*(t+1));[e[t],e[a]]=[e[a],e[t]]}return e},d=(e,t)=>u(e).slice(0,t),p=e=>e?6:3,m=e=>({getLLMLabel:(0,s.useMemo)(()=>{let t=n[e];if(!t)return()=>({labelText:void 0,currentLabelIndex:-1});let a=u(t),i=0;return()=>{let e=i,t=a[i];return i=(i+1)%a.length,{labelText:t,currentLabelIndex:e}}},[e])}),h=(0,a("h26dv").createHookWithAssistanceService)(({assistanceServiceInjectedParams:{assistanceService:e,experienceTracker:t},onError:i,onSuccess:r,onInit:n})=>{let{formatMessage:l}=(0,a("8C5kA").default)(),u=c(),{fullScreen:h}=(0,a("i08Mr").useUIConfig)(),[f,g]=(0,s.useState)(!1),[b,y]=(0,s.useState)([,,,].fill(null)),x=(0,s.useRef)(null),v=(0,s.useCallback)(()=>{x.current&&clearTimeout(x.current)},[]),j=(0,s.useMemo)(()=>{let e=o[u].map(e=>({labelType:e.labelType,message:l(e.message),type:"static"})),t=p(h??!1);return"unknown"===u?e.slice(0,t):d(e,t)},[u,h,l]),{getLLMLabel:w}=m(u),{mutate:T,error:k,isSubmitting:S}=(0,a("29BPs").useMutation)({mutationFn:async({fallbackStarters:i,userDefinedStarters:s=[],locationUrl:r})=>(n?.(),t.start({id:a("16lEl").ExperienceName.FETCH_CONTEXTUAL_STARTERS,name:a("16lEl").ExperienceName.FETCH_CONTEXTUAL_STARTERS}),g(!1),y([...s,...i.slice(0,1),...[,,,].fill(null)].slice(0,3)),_(s,i),await e.generateContextualStarters({browser_url:r})),onSuccess:async e=>{r?.(),t.succeed({name:a("16lEl").ExperienceName.FETCH_CONTEXTUAL_STARTERS});let i=[...b];f||(v(),e?.conversation_starters.map(({text:e})=>{let t=i.indexOf(null),a=i.some(t=>t?.message===e);-1===t||a||(i[t]={message:e,type:"llm-generated",labelType:"llm-generated",llmLabel:w().labelText},y(i))}))},onError:e=>{i?.(e),t.fail({name:a("16lEl").ExperienceName.FETCH_CONTEXTUAL_STARTERS,error:e})}}),_=(0,s.useCallback)((e,i)=>(x.current=window.setTimeout(()=>{t.abort({name:a("16lEl").ExperienceName.FETCH_CONTEXTUAL_STARTERS,reason:"timeout"}),g(!0),y([...e,...i].slice(0,3))},2e3),v),[v,t]);return{getDynamicContextualStarters:T,starters:b,error:k,isMutating:!f&&S,staticContextualConversationStarters:j,cancelTimeout:v}});e.exports.determinePageType=l,e.exports.llmGeneratedConvoStartersPageTypeAllowList=["confluence-page-view","confluence-page-edit","confluence-whiteboard","jira-issue-view"],e.exports.useContextualConversationStarters=h}),i("fDnfG",function(e,t){var i=a("42omo");let s=(0,i.createContext)(null);e.exports.useWindowLocation=()=>{let[e,t]=(0,i.useState)(window.location.href),r=(0,i.useContext)(s),o=(0,i.useCallback)(()=>{window.location.href!==e&&t(window.location.href)},[e,t]);return(0,i.useEffect)(()=>{let e=window.history.pushState,t=window.history.replaceState;window.history.pushState=function(...t){e.apply(this,t),o()},window.history.replaceState=function(...e){t.apply(this,e),o()};let i=(0,a("fFa3V").bindAll)(window,[{type:"popstate",listener:o}]);return()=>{i(),window.history.pushState=e,window.history.replaceState=t}},[o]),r??e}}),i("bJOL1",function(e,t){let i={attachments:new Map},s=e=>{a("c6GJD").default.getExperimentValue("rovo_chat_file_previews_experiment","isEnabled",!1)&&e.forEach(e=>{"file"===e.type&&e.data.previewBlobUrl&&URL.revokeObjectURL(e.data.previewBlobUrl)})},r=(e,t,a=!1)=>({setState:s,getState:r})=>{let o=r()[e]||i;s({[e]:{attachments:new Map([...!a?o.attachments.entries():[],...t])}})},o=(0,a("1P1Tu").createStore)({name:"conversationAttachments",initialState:{},actions:{addFiles:(e,t)=>({getState:i,dispatch:s})=>{let n=e=>e.fileObject&&(e.fileObject.type.startsWith("image/")||(0,a("auPMn").isTextFile)(e.fileObject.type,e.fileObject.name))&&a("c6GJD").default.getExperimentValue("rovo_chat_file_previews_experiment","isEnabled",!1);s(r(e,t.map(e=>[e.name,{type:"file",data:n(e)?{...e,isPreviewLoading:!0}:e}]))),t.forEach(t=>{n(t)&&t.fileObject&&(0,a("cgmTK").generateFilePreview)(t.fileObject).then(a=>{s(o.actions.updateFileWithName(e,t.name,{previewBlobUrl:a,isPreviewLoading:!1}))}).catch(i=>{(0,a("1yaYZ").logException)({exception:i,name:"file-preview-generation-error",tags:{fileType:t.fileObject?.type}}),s(o.actions.updateFileWithName(e,t.name,{isPreviewLoading:!1,previewError:i instanceof Error?i.message:String(i)}))})})},addExternalContext:(e,t)=>({getState:a,dispatch:i})=>{i(r(e,t.map(e=>[e.key,{type:"external",data:e}])))},updateFileWithName:(e,t,a)=>({getState:s,dispatch:o})=>{let{attachments:n}=s()[e]||i,l=n.get(t);l&&"file"===l.type&&o(r(e,[[t,{...l,data:{...l.data,...a}}]]))},removeFile:(e,t)=>({getState:a,dispatch:o})=>{let{attachments:n}=a()[e]||i,l=n.get(t);l&&s([l]),o(r(e,[...n.entries()].filter(([e,a])=>"file"!==a.type||e!==t),!0))},removeExternalContext:(e,t)=>({getState:a,dispatch:s})=>{let{attachments:o}=a()[e]||i;s(r(e,[...o.entries()].filter(([e,a])=>"external"!==a.type||e!==t),!0))},clearFiles:e=>({dispatch:t,getState:a})=>{let{attachments:o}=a()[e]||i;s([...o.values()]),t(r(e,[...o.entries()].filter(([e,t])=>"file"!==t.type),!0))},clearAttachments:e=>({dispatch:t,getState:a})=>{let{attachments:o}=a()[e]||i;s([...o.values()]),t(r(e,[],!0))}}});(0,a("9zUhf").createHook)(o);let n=(0,a("9zUhf").createHook)(o,{selector:(e,t)=>[...e[t]?.attachments?.values()||i.attachments.values()]}),l=(0,a("9zUhf").createHook)(o,{selector:(e,t)=>[...e[t]?.attachments?.values()||[]].filter(e=>"file"===e.type).map(e=>e.data)||[]}),c=(0,a("9zUhf").createHook)(o,{selector:(e,t)=>[...e[t]?.attachments?.values()||[]].filter(e=>"external"===e.type)?.map(e=>e.data)||[]});e.exports.useAllAttachmentsStore=n,e.exports.useFileAttachmentsStore=l,e.exports.useExternalContextsStore=c}),i("5SEdb",function(t,i){var s=a("l998X"),r=a("42omo"),o=a("c3meS");let n={previewCard:"_2rko1mok _1h6d1l7x _189ee4h9 _1dqonqa1 _p12f9rak _4t3ivbgk _kqswh2mm _ca0qu2gc _u5f3u2gc _n3tdu2gc _19bvu2gc _bozgutpp _bfhkhp5a _irr3116u",previewCardContent:"_1ul9idpf",iconWrapper:"_1reo15vq _18m915vq _2rko12b0 _bfhki8nm _4t3ickbl _1bsbckbl _kqswh2mm _1o9zidpf",icon:"_kqswstnw _154i1ssb _1ltv1ssb _t9ec1ooe",crossIcon:"_2rko1rr0 _189ee4h9 _1dqonqa1 _1h6d1l7x _kqswstnw _1xi2xmi2 _154ixmi2 _1e0c1txw _4cvr1h6o _1bah1h6o _bfhkvuon _4t3i1tcg _1bsb1tcg _tzy4idpf _irr319i6",crossIconVisible:"_tzy4kb7n",labelWrapper:"_1reo15vq _18m915vq _1bto1l2s _o5721q9c",thumbnailImageCover:"_1bsb1osq _4t3i1osq _5ral1dfr",thumbnailImageContain:"_1bsb1osq _4t3i1osq _5ral1f51",clickable:"_80omtlke"},l=()=>(0,s.jsx)(a("9hlns").default,{size:"small"}),c=({isLoading:t,error:i,imageSrc:r,cardIcon:c,errorLabel:u})=>t?(0,s.jsx)(l,{}):i?(0,s.jsx)(e(a("a3fRD")),{label:u||i,color:"var(--ds-icon-danger, #C9372C)"}):r?(0,s.jsx)(a("gdv5Z").default,{as:"img",src:r,alt:"",xcss:a("c6GJD").default.getExperimentValue("rovo_chat_file_previews_experiment","isEnabled",!1)?n.thumbnailImageCover:n.thumbnailImageContain}):c||(0,s.jsx)(a("gj7hi").default,{src:e(o),alt:""}),u=({show:t=!0,...i})=>{if(!t)return null;let u=i.isLoading||i.error;return(0,s.jsx)(a("gdv5Z").default,{xcss:n.iconWrapper,children:(0,s.jsx)(r.Suspense,{fallback:(0,s.jsx)(l,{}),children:i.imageSrc&&!u?(0,s.jsx)(c,{...i}):(0,s.jsxs)(s.Fragment,{children:[!i.isLoading&&(0,s.jsx)(a("gj7hi").default,{src:e(o),alt:""}),(0,s.jsx)(a("gdv5Z").default,{xcss:n.icon,children:(0,s.jsx)(c,{...i})})]})})})},d=({onRemove:t,isVisible:i=!1,removeLabel:r})=>t?(0,s.jsx)(a("fVUfS").default,{onClick:t,xcss:(0,a("1Whri").cx)(n.crossIcon,i&&n.crossIconVisible),"data-remove-button":"true",children:(0,s.jsx)(e(a("hmuev")),{label:r||"",spacing:"compact",size:"small",color:"var(--ds-icon, #292A2E)"})}):null,p=e=>{let t=(0,r.useRef)(null);return(0,r.useEffect)(()=>{e&&t.current&&t.current?.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},[e]),t},m=({label:e,subLabel:t,subLabelIcon:i})=>(0,s.jsxs)(a("eyWa4").default,{xcss:n.previewCardContent,space:"space.050",children:[(0,s.jsx)(a("gdv5Z").default,{xcss:n.labelWrapper,children:(0,s.jsx)(a("iXCQx").default,{color:"color.text",size:"medium",children:e})}),t&&(0,s.jsxs)(a("u9agA").default,{space:"space.050",alignBlock:"center",children:[i&&(0,s.jsx)(r.Suspense,{fallback:null,children:i}),(0,s.jsx)(a("iXCQx").default,{color:"color.text.subtlest",size:"small",children:t})]})]});t.exports.PreviewCard=({onRemove:e,onClick:t,isLoading:i,error:o,autoScroll:l,label:c,subLabel:h,subLabelIcon:f,cardIcon:g,imageSrc:b,removeLabel:y,errorLabel:x,testId:v})=>{let[j,w]=(0,r.useState)(!1),T=p(l),k=!!(g||b),S=(0,r.useCallback)(e=>{e.target.closest("[data-remove-button]")||t?.()},[t]),_=(0,r.useCallback)(e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),t?.())},[t]);return(0,s.jsx)(a("3gadb").default,{content:o||c,position:"top",children:(0,s.jsx)(a("gdv5Z").default,{ref:T,testId:v,tabIndex:t?0:void 0,role:t?"button":void 0,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),onFocus:()=>w(!0),onBlur:()=>w(!1),onClick:t?S:void 0,onKeyDown:t?_:void 0,xcss:t?n.clickable:void 0,children:(0,s.jsxs)(a("u9agA").default,{xcss:n.previewCard,alignBlock:"center",space:"space.150",spread:"space-between",children:[(0,s.jsx)(m,{label:c,subLabel:h,subLabelIcon:f}),(0,s.jsx)(u,{show:k,isLoading:i,error:o,imageSrc:b,cardIcon:g,errorLabel:x}),(0,s.jsx)(d,{onRemove:e,isVisible:j&&!!e,removeLabel:y})]})})})}}),i("gkZa1",function(e,t){var i=a("42omo");let s={skill:()=>a("ciV2C"),assets:()=>a("8OGHW"),add:()=>Promise.resolve(a("g5gZt")),"chart-bar-line":()=>a("4qVJ2"),"ai-generative-text":()=>a("eqsS5"),"work-item":()=>Promise.resolve(a("2qVkt")),"lock-locked":()=>Promise.resolve(a("9Q2dU")),"chart-pie":()=>a("8sr2T"),plan:()=>a("i4zNS"),settings:()=>Promise.resolve(a("fIcbd")),"project-status":()=>a("6E8pW"),"merge-success":()=>a("3mxkw")},r=s.skill,o=Object.fromEntries(Object.entries(s).map(([e,t])=>[e,(0,i.lazy)(t)]));o.skill,e.exports.skillIcon=s,e.exports.defaultIcon=r,e.exports.skillIconMap=o}),i("c3meS",function(e,t){e.exports=new URL("preview-bg.12045916.svg",import.meta.url).toString()});
//# sourceMappingURL=FullPageEditorComponent.1968b9e0.js.map
