var e=globalThis.parcelRequired477,t=e.register;t("bFMG7",function(t,a){var n=e("42omo");let i=e("79mss").default,s=({flagStatus:t,submittedClassification:a,setClassification:i,setFlagStatus:s})=>{(0,n.useEffect)(()=>{t===e("in5LX").FlagStatus.SUCCESS&&(i(a??null),s(e("in5LX").FlagStatus.NONE))},[t,a,i,s])};t.exports.useContentClassification=({contentId:t,contentStatusContext:a="current-only",shouldSkipQueries:l=!1,shouldPreloadData:o=!1,shouldReadFromQueries:r=!1})=>{let u=window.__SSR_RENDERED__||o,[c,d]=(0,n.useState)(e("in5LX").FlagStatus.NONE),[f,C]=(0,n.useState)(null),[S,m]=(0,n.useState)(void 0),[L,D]=(0,n.useState)(),g=(0,e("e4o8D").useRenderServerPlaceholder)(),{readContext:k}=(0,e("fcQxC").getReadAndWriteContextFromQueryContext)(a);s({flagStatus:c,submittedClassification:L,setClassification:C,setFlagStatus:d});let[E]=(0,e("308Wd").useMutationInterop)(e("cod3r").default,{awaitRefetchQueries:!0,onError:t=>{d(e("in5LX").FlagStatus.ERROR),(0,e("7Sm4c").markErrorAsHandled)(t)},onCompleted:t=>{t?.bulkUpdateContentDataClassificationLevel?.success&&d(e("in5LX").FlagStatus.SUCCESS)},refetchQueries:()=>[{query:(0,e("86okN").toDocumentNode)(i),variables:{contentId:t,lowerCaseContentStatusArray:(0,e("gSfo4").getQuerySingleContentStatusArrayVariable)(k)}}]}),[I,{loading:p}]=(0,e("308Wd").useMutationInterop)(e("5dyIT").default,{awaitRefetchQueries:!0,onError:t=>{d(e("in5LX").FlagStatus.ERROR),(0,e("7Sm4c").markErrorAsHandled)(t)},onCompleted:t=>{t?.bulkDeleteContentDataClassificationLevel?.success&&d(e("in5LX").FlagStatus.SUCCESS)},refetchQueries:()=>[{query:(0,e("86okN").toDocumentNode)(i),variables:{contentId:t,lowerCaseContentStatusArray:(0,e("gSfo4").getQuerySingleContentStatusArrayVariable)(k)}}]}),v=l||!t,{data:b,loading:R,error:O}=(0,e("jMyy4").useQueryInterop)(i,{variables:{contentId:t??"",lowerCaseContentStatusArray:(0,e("gSfo4").getQuerySingleContentStatusArrayVariable)(k)},skip:v,errorPolicy:"all",fetchPolicy:u?"cache-first":"network-only"}),N=b?.singleContent?.classificationLevelDetails,y=N?.classificationLevel,A=N?.source==="CONTENT",F=(0,e("lwZTW").useClassificationErrorState)(f,void 0,O),T=y?.id===e("1cYlh").NO_CLASSIFICATION_OPTION_ID||y?.status===e("kknEZ").Status.ARCHIVED||null===f&&p||!!O,H=r?y:S===t&&f?f:y,h=T?null:H;(0,n.useEffect)(()=>{h!==f&&(C(h??null),m(t))},[h,f,t]);let x=f?.status===e("kknEZ").Status.PUBLISHED||h?.status===e("kknEZ").Status.PUBLISHED,M=!!b?.singleContent?.classificationLevelDetails?.featureEnabled,U=M&&(!!f||!!h)&&!R&&x,_=!R&&!f&&!h,Q=(b?.singleContent?.classificationLevelDetails?.isReclassificationPermitted??!1)||!(0,e("9wGTI").fg)("dlp_classification_access"),V=g&&h?h??null:f??h??null;return(0,n.useMemo)(()=>({classification:V??null,spaceDefaultIsOverridden:A,contentLevelLoading:R,contentLevelError:O,updateContentDataClassificationLevel:E,deleteContentDataClassificationLevel:I,setSubmittedClassification:D,flagStatus:c,setFlagStatus:d,errorState:F,shouldDisplayClassification:U,hasNoClassification:_,contentStatusContext:a,featureEnabled:M,isReclassificationPermitted:Q}),[V,A,R,O,E,I,D,c,d,F,U,_,a,M,Q])}}),t("5dyIT",function(e,t){var a,n,i;let s={fragment:{argumentDefinitions:[a={defaultValue:null,kind:"LocalArgument",name:"contentStatuses"},n={defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",name:"useContentClassificationBulkDeleteContentDataClassificationLevelMutation",selections:i=[{args:[{fields:[{kind:"Variable",name:"contentStatuses",variableName:"contentStatuses"},{kind:"Variable",name:"id",variableName:"id"}],kind:"ObjectValue",name:"input"}],concreteType:"BulkDeleteContentDataClassificationLevelPayload",kind:"LinkedField",name:"bulkDeleteContentDataClassificationLevel",plural:!1,selections:[{kind:"ScalarField",name:"success"},{concreteType:"MutationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{kind:"ScalarField",name:"message"}]}]}],type:"Mutation"},kind:"Request",operation:{argumentDefinitions:[n,a],kind:"Operation",name:"useContentClassificationBulkDeleteContentDataClassificationLevelMutation",selections:i},params:{cacheID:"ee02cd6160cc1cfee6fa6d1fba84a159",id:"4fde877dd091b461b191c46c59a002d0bc95ac007ed500e5c0f27905f57ca0a2",metadata:{},name:"useContentClassificationBulkDeleteContentDataClassificationLevelMutation",operationKind:"mutation",text:"mutation useContentClassificationBulkDeleteContentDataClassificationLevelMutation($id:Long!,$contentStatuses:[ContentDataClassificationMutationContentStatus]!){bulkDeleteContentDataClassificationLevel(input:{id:$id,contentStatuses:$contentStatuses}){success,errors{message}}}"}};s.hash="482a842e925e6082fc32c6749e95ba4b",e.exports.default=s}),t("cod3r",function(e,t){var a,n,i,s;let l={fragment:{argumentDefinitions:[a={defaultValue:null,kind:"LocalArgument",name:"classificationLevelId"},n={defaultValue:null,kind:"LocalArgument",name:"contentStatuses"},i={defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",name:"useContentClassificationBulkUpdateContentDataClassificationLevelMutation",selections:s=[{args:[{fields:[{kind:"Variable",name:"classificationLevelId",variableName:"classificationLevelId"},{kind:"Variable",name:"contentStatuses",variableName:"contentStatuses"},{kind:"Variable",name:"id",variableName:"id"}],kind:"ObjectValue",name:"input"}],concreteType:"BulkUpdateContentDataClassificationLevelPayload",kind:"LinkedField",name:"bulkUpdateContentDataClassificationLevel",plural:!1,selections:[{kind:"ScalarField",name:"success"},{concreteType:"MutationError",kind:"LinkedField",name:"errors",plural:!0,selections:[{kind:"ScalarField",name:"message"}]}]}],type:"Mutation"},kind:"Request",operation:{argumentDefinitions:[i,n,a],kind:"Operation",name:"useContentClassificationBulkUpdateContentDataClassificationLevelMutation",selections:s},params:{cacheID:"e435d6d2ef1fb5eebfc9d5c505f1e65c",id:"c4bdbbd0abf52ccb487e52e67e59bd8bdce38ce12908470cb465fcad9d07bfba",metadata:{},name:"useContentClassificationBulkUpdateContentDataClassificationLevelMutation",operationKind:"mutation",text:"mutation useContentClassificationBulkUpdateContentDataClassificationLevelMutation($id:Long!,$contentStatuses:[ContentDataClassificationMutationContentStatus]!,$classificationLevelId:ID!){bulkUpdateContentDataClassificationLevel(input:{id:$id,contentStatuses:$contentStatuses,classificationLevelId:$classificationLevelId}){success,errors{message}}}"}};l.hash="9839fe96ab36e63f6aab91bb7d0d00f7",e.exports.default=l}),t("1cYlh",function(t,a){let n="NO_CLASSIFICATION_OPTION",i={id:n,name:"No default",order:0,definition:"Pages in this space arenâ€™t classified by default.",color:"NONE",status:e("kknEZ").Status.PUBLISHED};t.exports.NO_CLASSIFICATION="NO_CLASSIFICATION",t.exports.NO_CLASSIFICATION_OPTION_ID=n,t.exports.NO_CLASSIFICATION_OPTION=i}),t("kknEZ",function(e,t){var a,n=((a={}).PUBLISHED="PUBLISHED",a.ARCHIVED="ARCHIVED",a.DRAFT="DRAFT",a);e.exports.Status=n}),t("in5LX",function(e,t){var a,n=((a={}).NONE="NONE",a.SUCCESS="SUCCESS",a.ERROR="ERROR",a.LOADING="LOADING",a);e.exports.FlagStatus=n}),t("fcQxC",function(t,a){t.exports.getReadAndWriteContextFromQueryContext=t=>{let a,n;switch(t){case"draft-only":a=[e("7tHGa").ContentStatus.DRAFT],n=[e("7tHGa").ContentStatus.DRAFT];break;case"current-only":default:a=[e("7tHGa").ContentStatus.CURRENT,e("7tHGa").ContentStatus.ARCHIVED],n=[e("7tHGa").ContentStatus.CURRENT];break;case"current-and-draft":a=[e("7tHGa").ContentStatus.CURRENT,e("7tHGa").ContentStatus.ARCHIVED],n=[e("7tHGa").ContentStatus.CURRENT,e("7tHGa").ContentStatus.DRAFT]}return{readContext:a,writeContext:n}}}),t("lwZTW",function(t,a){var n=e("42omo");t.exports.useClassificationErrorState=(t,a,i)=>{let[s,l]=(0,n.useState)(e("79yie").ErrorState.NO_ERROR);return(0,n.useEffect)(()=>{t?(a&&(0,e("7Sm4c").markErrorAsHandled)(a),l(e("79yie").ErrorState.NO_ERROR)):(a||i)&&((0,e("aMcHK").isStatusCodeError)(i,"404")||(0,e("aMcHK").isStatusCodeError)(a,"404")?((0,e("7Sm4c").markErrorAsHandled)(i),(0,e("7Sm4c").markErrorAsHandled)(a),l(e("79yie").ErrorState.NULL)):l(e("79yie").ErrorState.MESSAGE))},[t,a,i]),s}}),t("79yie",function(e,t){var a,n=((a={}).NULL="NULL",a.MESSAGE="MESSAGE",a.NO_ERROR="NO_ERROR",a);e.exports.ErrorState=n}),t("l5Tyv",function(e,t){var a;let n={fragment:{argumentDefinitions:[],kind:"Fragment",name:"useOrgDefaultClassificationLevelIdOrgDefaultClassificationLevelIdQuery",selections:a=[{kind:"ScalarField",name:"orgDefaultClassificationLevelId"}],type:"Query"},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useOrgDefaultClassificationLevelIdOrgDefaultClassificationLevelIdQuery",selections:a},params:{cacheID:"3d89323afb1137acce0d20d056dd1c17",id:"f1ecfc7a34867858bd95b303bf33163c2d02cb84969a8c6c8b7dc13cd9c2d14a",metadata:{},name:"useOrgDefaultClassificationLevelIdOrgDefaultClassificationLevelIdQuery",operationKind:"query",text:"query useOrgDefaultClassificationLevelIdOrgDefaultClassificationLevelIdQuery{orgDefaultClassificationLevelId}"}};n.hash="ca879e2beb9cc23922da0259b6f540ab",e.exports.default=n}),t("lqrF0",function(t,a){let n=t=>{if(!t)return!0;let a=(0,e("aMcHK").getStatusCode)(t?.graphQLErrors?.[0]);return!a||!!(parseInt(a)>=400&&500>parseInt(a))};t.exports.useOrgDefaultClassificationLevelId=({skip:t})=>{let{data:a,loading:i,error:s}=(0,e("jMyy4").useQueryInterop)(e("l5Tyv").default,{skip:t});return n(s)&&(0,e("7Sm4c").markErrorAsHandled)(s),{orgDefaultClassificationLevelId:a?.orgDefaultClassificationLevelId??null,orgDefaultClasificationLoading:i,orgDefaultClassificationError:n(s)?void 0:s}}});
//# sourceMappingURL=DetailsPanelHeaderIcon.35c2e85c.js.map
