function e(e){return e&&e.__esModule?e.default:e}var t=globalThis.parcelRequired477,a=t.register;a("jMZdB",function(a,r){var s=t("l998X"),n=t("42omo");let o={conversationStartersList:"_qtt8glyw _ca0qidpf _u5f3idpf _n3tdidpf _19bvidpf",conversationStartersListRefresh:"_1bsb1osq",conversationStarterIcon:"_1o9zidpf",conversationStarterText:"_1reo15vq _18m915vq _1bto1l2s _o5721q9c _1o9zkb7n _1ul9idpf",button:"_11c82smr _2rko12b0 _syazazsu _ca0q12x7 _u5f312x7 _n3td12x7 _19bv12x7 _k48p1wq8 _1bto1l2s _o5721q9c _1o9zkb7n _1bsb1osq _bfhksm61 _irr31dpa _1di6fcek"},i=({userDefinedConversationStarters:e,isAgentDefault:a})=>{let r="static",s=[{message:t("gMCDH").messages.agentEmptyStateSuggestion1,type:r},{message:t("gMCDH").messages.agentEmptyStateSuggestion2,type:r},{message:t("gMCDH").messages.agentEmptyStateSuggestion3,type:r}],n=e??[],o=[{message:t("gMCDH").messages.emptyStateSuggestion1,type:r},{message:t("gMCDH").messages.emptyStateSuggestion2,type:r},{message:t("gMCDH").messages.emptyStateSuggestion3,type:r}];return{userDefinedConversationStarters:n,customAgentConversationStarters:s,defaultAgentConversationStarters:o,combinedConversationStarters:a?o:[...n,...s].slice(0,3)}},c=({starters:a,onConversationStarterClick:r,showReloadButton:n=!1,onReloadButtonClick:i=()=>{},onBrowseAgentsClick:c})=>(0,s.jsxs)(t("eyWa4").default,{as:"ul",space:"space.050",xcss:(0,t("1Whri").cx)(o.conversationStartersList,(0,t("dh538").fg)("rovo_agent_empty_state_refresh")&&o.conversationStartersListRefresh),children:[a.map((c,g)=>{let d=g===a.length-1,l=(0,s.jsx)(t("gdv5Z").default,{as:"li",children:(0,t("dh538").fg)("rovo_agent_empty_state_refresh")?(0,s.jsx)(t("fVUfS").default,{xcss:o.button,onClick:()=>r(c),children:(0,s.jsxs)(t("u9agA").default,{space:"space.150",alignBlock:"center",children:[(0,s.jsx)(t("gdv5Z").default,{xcss:o.conversationStarterIcon,children:(0,s.jsx)(t("3h2i4").AgentChatIcon,{})}),(0,s.jsx)(t("gdv5Z").default,{xcss:o.conversationStarterText,children:c.message})]})}):(0,s.jsx)(t("lBFuf").ChatPill,{testId:"conversation-starter",onClick:()=>r(c),children:c.message},c.message)},c.message);return d&&n?(0,s.jsxs)(t("u9agA").default,{space:"space.050",grow:"fill",alignInline:"end",children:[l,(0,s.jsx)(t("1qfLF").default,{icon:e(t("d8ohW")),onClick:i,appearance:"subtle",label:""})]},c.message):l}),!!c&&(0,s.jsx)(t("gdv5Z").default,{as:"li",children:(0,s.jsx)(t("lBFuf").BrowseAgentsPill,{onClick:c})})]});a.exports.getConversationStarters=i,a.exports.AgentConversationStarters=({userDefinedConversationStarters:e,isAgentDefault:a,...r})=>{let{formatMessage:o}=(0,t("8C5kA").default)(),{combinedConversationStarters:g}=(0,n.useMemo)(()=>i({userDefinedConversationStarters:e,isAgentDefault:a}),[e,a]),d=(0,n.useMemo)(()=>g.map(e=>"string"==typeof e.message?{message:e.message,type:e.type}:{message:o(e.message),type:e.type}),[g,o]);return(0,s.jsx)(c,{starters:d,...r})}}),a("3h2i4",function(a,r){var s=t("l998X");t("42omo");a.exports.AgentChatIcon=()=>(0,s.jsx)(t("1s5hv").default,{xcss:"_2rko1mok _189ee4h9 _1dqonqa1 _1h6d1l7x _1bsbzwfg _4t3izwfg",alignItems:"center",justifyContent:"center",children:(0,s.jsx)(e(t("cOQz3")),{label:"",color:"var(--ds-icon-subtlest, #6B6E76)"})})}),a("gMCDH",function(e,a){let r=(0,t("cgtv4").defineMessages)({emptyStateSuggestion1:{id:"ai-mate.chat-history.empty-state.suggestion1",defaultMessage:"Are any of my tickets overdue?"},emptyStateSuggestion2:{id:"ai-mate.chat-history.empty-state.suggestion2",defaultMessage:"What should I work on next?"},emptyStateSuggestion3:{id:"ai-mate.chat-history.empty-state.suggestion3",defaultMessage:"Write an update about my week"},agentEmptyStateSuggestion1:{id:"ai-mate.chat-history.empty-state.agent-suggestion1",defaultMessage:"Tell me about yourself"},agentEmptyStateSuggestion2:{id:"ai-mate.chat-history.empty-state.agent-suggestion2",defaultMessage:"What can you help me with?"},agentEmptyStateSuggestion3:{id:"ai-mate.chat-history.empty-state.agent-suggestion3",defaultMessage:"Summarize what I'm looking at"}});e.exports.messages=r}),a("2Cfy4",function(e,t){e.exports.LAST_CLICKED_RECOMMENDED_AGENT_KEY="rovoLastClickedRecommendedAgent",e.exports.ROVO_AGENTS_FE_TEAM_NAME="rovo-agents-fe"}),a("6Vqkv",function(e,a){var r=t("42omo"),s=t("irOoi");let n=e=>e.reduce((e,t)=>("SYSTEM"===t.creator_type?e.system.push(t):"PUBLIC"===t.visibility?e.public.push(t):"PRIVATE"===t.visibility?e.private.push(t):t.visibility||"CUSTOMER"!==t.creator_type||e.private.push(t),e),{public:[],private:[],system:[]}),o=(0,t("1P1Tu").createStore)({initialState:{availableAgents:[],categorisedAgents:{private:[],public:[],system:[]},agentsInitialized:!1,agentsError:void 0},name:"AgentsStore",actions:{setAgents:e=>({setState:t})=>{t({availableAgents:e,categorisedAgents:n(e)})},setAgentsInitialized:()=>({setState:e})=>{e({agentsInitialized:!0})},setAgentsError:e=>({setState:t})=>{t({agentsError:e})}}}),i=(0,t("9zUhf").createHook)(o),c=(0,t("h26dv").createHookWithAssistanceService)(({onError:e,assistanceServiceInjectedParams:{assistanceService:a,experienceTracker:s,experienceId:n,product:o,siteId:c,touchpointSource:g}})=>{let{isRovoEnabled:d}=(0,t("aMqwg").useRovoEntitlement)(),{agentIdFiltersOverride:l,agentDefaultIdOverride:u}=(0,t("hT0Hx").useAgentOverrider)(),[{availableAgents:p,categorisedAgents:h,agentsInitialized:m,agentsError:f},{setAgents:E,setAgentsInitialized:A,setAgentsError:v}]=i(),{formatMessage:S}=(0,t("8C5kA").default)(),{favouriteAgent:_,unfavouriteAgent:y}=(0,t("4ul15").useAgentFavourites)({assistanceServiceParams:{experienceId:n,product:o,siteId:c,touchpointSource:g}}),C=p.filter(e=>e.favourite),T=(0,r.useMemo)(()=>p.find(e=>e.is_default),[p]),x=(0,r.useMemo)(()=>p.filter(e=>!e.is_default),[p]),N=(0,r.useMemo)(()=>x.filter(e=>!e.favourite),[x]),I=(0,t("9eLw5").useQuery)({queryKey:["fetchAgents"],queryFn:async()=>{try{s.start({id:t("16lEl").ExperienceName.FETCH_AGENTS,name:t("16lEl").ExperienceName.FETCH_AGENTS});let e=(await a.getAgents()).map(e=>(e.is_default&&(e.name=S(t("ka7s2").default.defaultAgentName),e.description=S(t("ka7s2").default.defaultAgentDescription)),e)),r=(0,t("37oID").getOverridenAgents)(e,l,u);E(r),s.succeed({name:t("16lEl").ExperienceName.FETCH_AGENTS}),A()}catch(e){if((0,t("cqFPV").isHipaaError)(e))return void s.succeed({name:t("16lEl").ExperienceName.FETCH_AGENTS});throw(0,t("ljUdP").isRateLimitedError)(e)&&v(e),s.fail({name:t("16lEl").ExperienceName.FETCH_AGENTS,error:e}),e}},onError:e,enabled:d,refetchOnWindowFocus:!1}),{deleteAgent:b}=(0,t("1uFMJ").useDeleteAgent)({onSuccess:()=>{I.refetch()},assistanceServiceParams:{experienceId:n,product:o,siteId:c,touchpointSource:g},onInit:e=>{E(p.filter(t=>t.id!==e))},onError:()=>{E(p)}}),R=(0,r.useCallback)(async(e,t)=>{let a=p.find(t=>t.id===e),r=e=>{a&&(a.favourite=e,E(p.map(e=>e.id===a.id?a:e)))};r(t);let s={onError:()=>{r(!t)}};return t?await _.mutate(e,s):await y.mutate(e,s)},[p,E,_,y]),O=(0,r.useCallback)((e,t)=>{E(p.map(a=>a.id===e?{...a,...t}:a))},[p,E]);return{availableAgents:p,favouritedAgents:C,categorisedAgents:h,fetchAndStoreAvailableAgents:I,deleteAgent:b,setFavouriteAgent:R,defaultAgent:T,agentsInitialized:m,nonDefaultAgents:x,nonDefaultFavouriteAgents:N,updateAgentLocally:O,agentsError:f}}),g=(0,t("1P1Tu").createStore)({initialState:{agentsMap:{},loadingCategories:new Set,agentCategories:{"all-agents":{agentIds:[],pageInfo:t("ffpG2").DEFAULT_PAGE_INFO,abortController:new AbortController},"starred-agents":{agentIds:[],pageInfo:t("ffpG2").DEFAULT_PAGE_INFO,abortController:new AbortController},"my-agents":{agentIds:[],pageInfo:t("ffpG2").DEFAULT_PAGE_INFO,abortController:new AbortController},templates:{agentIds:[],pageInfo:t("ffpG2").DEFAULT_PAGE_INFO,abortController:new AbortController}}},name:"AgentsPaginatedStore",actions:{populateAgentCategories:({agentsList:e,pageInfo:t,category:a="all-agents"})=>({setState:r,getState:s})=>{let{agentsMap:n,agentCategories:o}=s(),i={...n},c={...o};c[a].pageInfo=t,e.length?e.forEach(e=>{i[e.id]=e,c[a].agentIds.push(e.id)}):c[a].agentIds=[],r({agentsMap:i,agentCategories:c})},setAgentCategoriesByCategory:({categoryName:e,agentCategoryData:t})=>({getState:a,setState:r})=>{let{agentCategories:s}=a();r({agentCategories:{...s,[e]:t}})},setCategoryError:(e,t)=>({getState:a,setState:r})=>{let{agentCategories:s}=a();r({agentCategories:{...s,[e]:{...s[e],agentsError:t}}})},getAgentCategoriesByCategory:e=>({getState:t})=>{let{agentCategories:a}=t();return a[e]},removeAgent:e=>({setState:t,getState:a})=>{let r,{agentsMap:s,agentCategories:n}=a(),o=new Set,i={...s},c={...n};return s[e]&&(r=s[e],delete i[e]),Object.keys(n).forEach(t=>{c[t]?.agentIds.includes(e)&&(c[t].agentIds=c[t].agentIds.filter(t=>t!==e),o.add(t))}),t({agentsMap:i,agentCategories:c}),{agent:r,categories:Array.from(o)}},addAgent:(e,t=["all-agents"])=>({setState:a,getState:r})=>{let{agentsMap:s,agentCategories:n}=r(),o={...s},i={...n};t.forEach(t=>{i?.[t]?.agentIds.push(e.id)}),o[e.id]=e,a({agentsMap:o,agentCategories:i})},updateAgent:(e,t)=>({setState:a,getState:r})=>{let{agentsMap:s}=r(),n={...s},o={...s[e]??{},...t};return n[e]=o,a({agentsMap:n}),o},setCategoryLoading:(e,t)=>({setState:a,getState:r})=>{let{loadingCategories:s}=r(),n=new Set(s);t?n.add(e):n.delete(e),a({loadingCategories:n})},abortCategoryFetch:e=>({getState:t})=>{let{agentCategories:a}=t();a[e].abortController.abort(),a[e].abortController=new AbortController},getCachedAgentByExternalConfigReference:e=>({getState:t})=>{let{agentsMap:a}=t();return Object.values(a).find(t=>t.external_config_reference===e)}}}),d=(0,t("9zUhf").createActionsHook)(g),l=(0,t("9zUhf").createHook)(g,{selector:(e,t)=>({agent:e.agentsMap[t],doesAgentExist:!!e.agentsMap[t]})}),u=(0,t("h26dv").createHookWithAssistanceService)(({agentId:e,assistanceServiceInjectedParams:{assistanceService:a,experienceTracker:r}})=>{(0,t("fBMbo").di)(u,l,d);let[{agent:s,doesAgentExist:n}]=l(e??""),{updateAgent:o}=d();return((0,t("9eLw5").useQuery)({queryKey:["agentHydration",e??""],queryFn:async()=>{if(!e)throw Error("Agent ID is required");return r.start({name:t("16lEl").ExperienceName.HYDRATE_AGENT_DATA,id:t("16lEl").ExperienceName.HYDRATE_AGENT_DATA}),await a.getAgentDetails(e)},enabled:!!e&&!n,onSuccess:a=>{e&&(r.succeed({name:t("16lEl").ExperienceName.HYDRATE_AGENT_DATA}),o(e??"",a))},onError:a=>{e&&404!==a.errorAttributes.statusCode&&r.fail({name:t("16lEl").ExperienceName.HYDRATE_AGENT_DATA,error:a,teamName:t("2Cfy4").ROVO_AGENTS_FE_TEAM_NAME})}}),e)?{agent:s}:{agent:void 0}}),p=(0,t("h26dv").createHookWithAssistanceService)(({assistanceServiceInjectedParams:e})=>{let a=(0,s.useRelayEnvironment)(),n=(0,r.useRef)({categories:[],agent:void 0}),{removeAgent:o,addAgent:i,updateAgent:c}=d(),{favouriteAgent:g,unfavouriteAgent:l}=(0,t("4ul15").useAgentFavourites)({assistanceServiceParams:e}),{deleteAgent:u}=(0,t("1uFMJ").useDeleteAgent)({assistanceServiceParams:e,onInit:e=>{let{categories:t,agent:a}=o(e);n.current={categories:t,agent:a}},onError:()=>{n.current.agent&&i(n.current.agent,n.current.categories)}});return{deleteAgent:u,setFavouriteAgent:(0,r.useCallback)(async(r,n,o)=>{c(r,{favourite:n});let i=async r=>{o&&(0,s.commitLocalUpdate)(a,a=>{let n=(0,t("f2OFx").default)({id:o},"AgentStudioAssistant");if(!n)return;let i=a.get(n);i&&i.setValue(r,"isFavourite");let c=a.getRoot(),g=s.ConnectionHandler.getConnection(c,"paginatedAgentsList_agentStudio_getAgents",{cloudId:e.siteId,input:{onlyFavouriteAgents:!0},product:e.product}),d=i?.getDataID();if(g&&d&&i)if(r){let e=s.ConnectionHandler.createEdge(a,g,i,"AgentStudioAgentEdge");s.ConnectionHandler.insertEdgeAfter(g,e)}else s.ConnectionHandler.deleteNode(g,d)})};i(n);let d={onError:()=>{c(r,{favourite:!n}),i(!n)}};return n?await g.mutate(r,d):await l.mutate(r,d)},[e.product,e.siteId,a,g,l,c]),deleteAgentLocally:(0,r.useCallback)(e=>{let{categories:t,agent:a}=o(e);return{restore:()=>{a&&i(a,t)}}},[o,i])}}),h=(0,t("9zUhf").createHook)(g,{selector:(e,t)=>({agentsByCategory:e.agentCategories[t].agentIds.map(t=>e.agentsMap[t]),isCategoryInitialized:void 0!==e.agentCategories[t].pageInfo.startCursor&&void 0!==e.agentCategories[t].pageInfo.endCursor,isCategoryLoading:e.loadingCategories.has(t),isCategoryEmpty:0===e.agentCategories[t].agentIds.length,hasNextPage:e.agentCategories[t].pageInfo.hasNextPage,nextPageCursor:e.agentCategories[t].pageInfo.endCursor,agentsError:e.agentCategories[t].agentsError})}),m=(0,t("h26dv").createHookWithAssistanceService)(({assistanceServiceInjectedParams:{assistanceService:e,experienceTracker:a}})=>{(0,t("fBMbo").di)(t("hT0Hx").useAgentOverrider,d);let{agentDefaultIdOverride:r,agentIdFiltersOverride:s}=(0,t("hT0Hx").useAgentOverrider)(),{addAgent:n,populateAgentCategories:o}=d();return{fetchOverriddenAgentsAndPopulateStore:(0,t("9eLw5").useQuery)({queryKey:["fetchOverriddenAgentsAndPopulateStore",r??"",s?.join(",")??""],queryFn:async()=>{let i=new Set;if(r&&i.add(r),s?.length&&s.forEach(e=>{i.add(e)}),0===i.size)return;let c=Array.from(i);return o({category:"all-agents",agentsList:[],pageInfo:t("ffpG2").DEFAULT_PAGE_INFO}),a.start({name:t("16lEl").ExperienceName.FETCH_AGENTS_OVERRIDES,id:t("16lEl").ExperienceName.FETCH_AGENTS_OVERRIDES}),(await Promise.all(c.map(async t=>await e.getAgentDetails(t)))).forEach(e=>{n(e,["all-agents"])}),c},onSuccess:()=>{a.succeed({name:t("16lEl").ExperienceName.FETCH_AGENTS_OVERRIDES})},onError:e=>{a.fail({name:t("16lEl").ExperienceName.FETCH_AGENTS_OVERRIDES,error:e,teamName:t("2Cfy4").ROVO_AGENTS_FE_TEAM_NAME})},enabled:!1}).refetch}}),f=(0,t("h26dv").createHookWithAssistanceService)(({onError:e,assistanceServiceInjectedParams:a})=>{(0,t("fBMbo").di)(d,t("hT0Hx").useAgentOverrider,m);let{experienceTracker:s,siteId:n,product:o,headers:i}=a,c=d(),{setCategoryLoading:g,setCategoryError:l,populateAgentCategories:u,getAgentCategoriesByCategory:p,setAgentCategoriesByCategory:h}=c,{agentDefaultIdOverride:f,agentIdFiltersOverride:E}=(0,t("hT0Hx").useAgentOverrider)(),{fetchOverriddenAgentsAndPopulateStore:A}=m({assistanceServiceParams:a}),v=(0,r.useCallback)(async({category:a="all-agents",after:r,query:c})=>{if(f||E?.length)return await A()??[];let d=p(a);s.start({name:t("16lEl").ExperienceName.FETCH_AGENTS_PAGINATED,id:t("16lEl").ExperienceName.FETCH_AGENTS_PAGINATED});let m={};switch(a){case"starred-agents":m.onlyFavouriteAgents=!0;break;case"my-agents":m.onlyMyAgents=!0;break;case"templates":m.onlyTemplateAgents=!0}c&&(m.name=c);let v=()=>(h({categoryName:a,agentCategoryData:d}),d.agentIds);r||u({category:a,agentsList:[],pageInfo:t("ffpG2").DEFAULT_PAGE_INFO}),g(a,!0),l(a,void 0);let S=new Headers(i).get("x-workspace-id");try{let e=await (0,t("ffpG2").fetchPaginatedAgents)({after:r??void 0,cloudId:n,count:10,input:Object.keys(m).length>0?m:void 0,product:o,abortController:p(a).abortController,workspaceId:S});if(g(a,!1),p(a).abortController.signal?.aborted)return s.abort({reason:"Aborted",name:t("16lEl").ExperienceName.FETCH_AGENTS_PAGINATED}),v();return e&&(u({category:a,agentsList:e.agents,pageInfo:e.pageInfo}),s.succeed({name:t("16lEl").ExperienceName.FETCH_AGENTS_PAGINATED})),e?.agents.map(e=>e.id)}catch(n){s.fail({name:t("16lEl").ExperienceName.FETCH_AGENTS_PAGINATED,error:n,teamName:t("2Cfy4").ROVO_AGENTS_FE_TEAM_NAME});let r=v();return l(a,n),g(a,!1),n instanceof t("flpNp").ApiError&&e?.(n),r}},[f,E?.length,p,s,g,l,i,A,h,u,n,o,e]);return{...c,fetchAgentsByCategory:v}}),E=(0,t("9zUhf").createHook)(g,{selector:e=>e.agentsMap}),A=(0,t("h26dv").createHookWithAssistanceService)(({assistanceServiceInjectedParams:e,query:a,limit:r=3,pageUrl:s})=>{(0,t("fBMbo").di)(E);let{assistanceService:n,experienceTracker:o,siteId:i}=e,[c,{updateAgent:g}]=E(),{isFetching:d,data:l}=(0,t("9eLw5").useQuery)({queryKey:["recommendedAgents",a??"",r,s??""],queryFn:async()=>{o.start({id:t("16lEl").ExperienceName.GET_RECOMMENDED_AGENTS,name:t("16lEl").ExperienceName.GET_RECOMMENDED_AGENTS});let e=await n.getRecommendedAgents({limit:r,query:a??"",pageUrl:s});return e.agents.forEach(e=>{g(e.id,e)}),e},enabled:!!i,onSuccess:()=>{o.succeed({name:t("16lEl").ExperienceName.GET_RECOMMENDED_AGENTS})},onError:e=>{if((0,t("cqFPV").isHipaaError)(e))return void o.succeed({name:t("16lEl").ExperienceName.GET_RECOMMENDED_AGENTS});o.fail({name:t("16lEl").ExperienceName.GET_RECOMMENDED_AGENTS,error:e,teamName:t("2Cfy4").ROVO_AGENTS_FE_TEAM_NAME})}});return{isFetching:d,recommendedAgents:l?.agents.map(e=>c[e.id]).filter(Boolean)??[],recommendationKey:l?.metadata?.recommendationKey}}),v=(0,t("h26dv").createHookWithAssistanceService)(({assistanceServiceInjectedParams:{experienceTracker:e,siteId:a}})=>{(0,t("fBMbo").di)(d,t("ffpG2").fetchAgentByExternalConfigReference);let{updateAgent:s,getCachedAgentByExternalConfigReference:n}=d();return{getAndStoreAgentByExternalConfigReference:(0,r.useCallback)(async({externalConfigReference:r})=>{let o=n(r);if(o)return o;try{e.start({name:t("16lEl").ExperienceName.FETCH_AGENT_BY_EXTERNAL_CONFIG_REFERENCE,id:t("16lEl").ExperienceName.FETCH_AGENT_BY_EXTERNAL_CONFIG_REFERENCE});let n=await (0,t("ffpG2").fetchAgentByExternalConfigReference)({cloudId:a,externalConfigReference:r});return s(n.id,n),e.succeed({name:t("16lEl").ExperienceName.FETCH_AGENT_BY_EXTERNAL_CONFIG_REFERENCE}),n}catch(a){e.fail({name:t("16lEl").ExperienceName.FETCH_AGENT_BY_EXTERNAL_CONFIG_REFERENCE,error:a,teamName:t("2Cfy4").ROVO_AGENTS_FE_TEAM_NAME});return}},[n,e,a,s])}}),S=e=>c(e),_=(0,t("h26dv").createHookWithAssistanceService)(({assistanceServiceInjectedParams:{product:e,experienceId:a,headers:r,touchpointSource:s,siteId:n},filter:o})=>{let{availableAgents:i,favouritedAgents:c}=S({assistanceServiceParams:{product:e,experienceId:a,headers:r,touchpointSource:s,siteId:n}}),g=(0,t("iswAx").getSuggestedOotbAgents)({availableAgents:i,product:e}).filter(e=>!c.find(t=>t.id===e.id)),d=[...c,...g.slice(0,Math.max(3-c.length,0))];return"favourites"===o?d:i});e.exports.useAgentsPaginatedByAgentId=u,e.exports.useAgentsPaginatedActionsWithOptimistic=p,e.exports.usePaginatedAgentsByCategory=h,e.exports.usePaginatedAgentsActions=f,e.exports.useRecommendedAgents=A,e.exports.usePaginatedAgentByConfigReference=v,e.exports.useAgentsList=_}),a("aMqwg",function(e,a){var r=t("42omo");let s=(0,t("1P1Tu").createStore)({initialState:{isRovoEnabled:!1},name:"RovoEntitlementStore",actions:{setIsRovoEnabled:(e,t)=>({setState:a})=>{a({isRovoEnabled:e,reason:t})}}}),n=(0,t("9zUhf").createStateHook)(s),o=(0,t("9zUhf").createActionsHook)(s);e.exports.useRovoEntitlement=()=>{let e=n();return{...e,isRovoEnabled:e.isRovoEnabled}},e.exports.useRovoEntitlementActions=o,e.exports.RovoEntitlementSetter=({isRovoEnabled:e})=>{let{setIsRovoEnabled:t}=o();return(0,r.useMemo)(()=>{t(e)},[e,t]),null}}),a("h26dv",function(e,a){var r=t("l998X"),s=t("42omo");class n{createHeaders(e){return new Headers({"x-product":this.config.product,"x-experience-id":this.config.experienceId,...this.config.headers||{},...e||{}})}async fetch({path:e,options:a,holdName:r}){let{baseUrl:s,credentials:n}=this.config,o=(0,t("4E0A1").addPath)(s,e),i=performance.now(),c=await (0,t("aMZ6b").fetchFn)(o,{credentials:n,...a});if(this.config.labelStack){let e=performance.now();(0,t("4u5NT").addSpanToAll)("fetch",r?`${a.method}-${r}`:"unknown",this.config.labelStack,i,e)}return(0,t("4E0A1").processResponse)({response:c})}async fetchJson(e){let t=await this.fetch(e);return await t.json()}async fetchStream(e,a){let r=await this.fetch(e),s=r.headers.get("content-type")??"",n=a?.useSSE&&s.includes("text/event-stream");return{responseData:{traceId:(0,t("8Igpw").getTraceIdFromResponse)(r)},generator:n?(0,t("e4Fay").readSSEStream)(r):(0,t("4Z0i5").readJsonStream)(r)}}constructor(e){this.config=void 0,this.getConfig=()=>({...this.config});let t={baseUrl:"/gateway/api/assist",headers:{}};this.config={...e,baseUrl:e.baseUrl||t.baseUrl,credentials:e.credentials,headers:{...e.headers||t.headers}}}}class o extends n{async sendMessageStream({agentNamedId:e,agentId:a,message:r,conversationId:s,controller:n,storeMessage:o=!1,citationsEnabled:i=!0,aiFeatureContext:c,jiraWorkflowContext:g,editorContext:d,whiteboardContext:l,databaseContext:u,browserContext:p,additionalContext:h,dashboardContext:m,fileIds:f,webSearchEnabled:E,deepResearchEnabled:A,thinkDeeperEnabled:v,appFilters:S,useCurrentBrowsingContext:_,minionAliasConfig:y,optInToDeepResearchV2:C=!1,optInThinkDeeperMessages:T=!1,browserContextSanitizer:x,optInSSEStream:N=!1}){let I,b=this.createHeaders({"content-type":"application/json;charset=UTF-8",...(0,t("dh538").fg)("rovo_send_channel_id")&&{"X-Channel-Id":"rovo-chat"},...C&&{"X-Deep-Research-V2-Opt-In":"true"},...T&&{"X-Think-Deeper-Messages-Opt-In":"true"}}),R={};S&&(R=0===S.length?{knowledgeEnabled:!1}:{knowledgeEnabled:!0,filters:{knowledgeSources:S}});let O=p?.context?.browserUrl,w=!!O&&!!x&&x.isBlocklisted(O),P={method:"POST",headers:b,body:JSON.stringify({content:r,context:{browser_url:w||p?.context?.browserUrl==="NO-URL"&&t("c6GJD").default.getExperimentValue("jira_free_gen_editor","isEnabled",!1)?"":p?.context?.browserUrl?p.context.browserUrl:window?.location?.href??"",...void 0===_?{}:{useCurrentBrowsingContext:_},webSearchEnabled:E,deepResearchEnabled:A,...v?{extendedThinkingEnabled:v}:{},...d?{editor:d}:{},...l?{whiteboardContext:l}:{},...u?{databaseContext:u}:{},...p&&!w?{browser:{htmlBody:p.context?.htmlBody,canvasText:p.context?.canvasText}}:{},...(0,t("dh538").fg)("enable_jira_workflow_wizard_agent_in_wf_editor")?{jiraWorkflowContext:g}:{},...h,...(0,t("dh538").fg)("platform_avp_enable_dashboard_context_event_pubsub")?{dashboardContext:m}:{},aiFeatureContext:c,fileIds:f,...R},recipient_agent_named_id:e,agent_id:a,mimeType:"string"==typeof r?"text/markdown":"text/adf",store_message:!!(0,t("dh538").fg)("ai_mate_show_store_messages")&&o,citations_enabled:i,...y??(this.getConfig().minionAlias?{stratus_config:{minion_alias:this.getConfig().minionAlias}}:{})}),signal:n?.signal};return this.fetchStream({path:N?`/rovo/v1/chat/conversation/${s}/message/stream/sse`:`/rovo/v1/chat/conversation/${s}/message/stream`,options:P},{useSSE:N})}async sendMessageConfirmedTools({conversationId:e,agentId:t,controller:a,confirmed_tools:r}){let s=this.createHeaders({"content-type":"application/json;charset=UTF-8"}),n={method:"POST",headers:s,body:JSON.stringify({conversation_id:e,agent_id:t,confirmed_tools:r,context:{browser_url:window?.location?.href},content:"",mimeType:"text/markdown",store_message:!1,citations_enabled:!1}),signal:a?.signal};return this.fetchStream({path:`/rovo/v1/chat/conversation/${e}/message/stream`,options:n})}async nlCreateAgentStream({controller:e,latest_user_message:t,draft_agent:a,conversation_history:r}){let s={method:"POST",headers:this.createHeaders({"content-type":"application/json;charset=UTF-8"}),body:JSON.stringify({latest_user_message:t,draft_agent:a,conversation_history:r}),signal:e?.signal};return this.fetchStream({path:"/rovo/v1/agents/nlcreate",options:s})}async getChat(e){let a=this.createHeaders();return(await this.fetchJson({path:`/rovo/v1/chat/conversation/${e}/messages`,options:{method:"GET",headers:a},holdName:"rovo-v1-chat-conversation-[conversationId]-messages"})).items.map(e=>(0,t("ljUdP").isHumanMessage)(e)?e:(0,t("aclUh").toStreamResponse)(e))}async deleteChat(e,t){let a={method:"DELETE",headers:this.createHeaders(),signal:t?.signal};await this.fetch({path:`/rovo/v1/chat/conversation/${e}`,options:a,holdName:"rovo-v1-chat-conversation-[conversationId]"})}async getAgents(e){let t={method:"GET",headers:this.createHeaders(),signal:e?.signal};return(await this.fetchJson({path:"/rovo/v1/agents",options:t,holdName:"rovo-v1-agents"})).items}async getAgentDetails(e,t){let a={method:"GET",headers:this.createHeaders(),signal:t?.signal};return this.fetchJson({path:`/rovo/v1/agents/${e}`,options:a,holdName:"rovo-v1-agents-[id]"})}async getAgentDetailsByIdentityAccountId(e,t){let a={method:"GET",headers:this.createHeaders(),signal:t?.signal};return this.fetchJson({path:`/rovo/v1/agents/accountid/${e}`,options:a,holdName:"rovo-v1-agents-accountid-[identityAccountId]"})}async createAgent(e,t){let a={method:"POST",headers:this.createHeaders({"content-type":"application/json;charset=UTF-8"}),body:JSON.stringify(e),signal:t?.signal};return this.fetchJson({path:"/rovo/v1/agents",options:a,holdName:"rovo-v1-agents"})}async updateAgent(e,t,a){let r={method:"PUT",headers:this.createHeaders({"content-type":"application/json;charset=UTF-8"}),body:JSON.stringify(t),signal:a?.signal};return await this.fetchJson({path:`/rovo/v1/agents/${e}`,options:r,holdName:"rovo-v1-agents-[id]"})}async deleteAgent(e,t){let a={method:"DELETE",headers:this.createHeaders(),signal:t?.signal};return this.fetchJson({path:`/rovo/v1/agents/${e}`,options:a,holdName:"rovo-v1-agents-[id]"})}async favouriteAgent(e,t){let a={method:"POST",headers:this.createHeaders(),signal:t?.signal};this.fetch({path:`/rovo/v1/agents/${e}/favourite`,options:a,holdName:"rovo-v1-agents-[id]-favourite"})}async unfavouriteAgent(e,t){let a={method:"DELETE",headers:this.createHeaders(),signal:t?.signal};this.fetch({path:`/rovo/v1/agents/${e}/favourite`,options:a,holdName:"rovo-v1-agents-[id]-favourite"})}async createConversationChannel(e){return this.fetchJson({path:"/rovo/v1/chat/conversation",options:{method:"POST",headers:this.createHeaders({"content-type":"application/json;charset=UTF-8"}),body:JSON.stringify({name:e?.name??(0,t("99vXA").generateConversationName)(),dialogues:e?.dialogues??void 0})},holdName:"rovo-v1-chat-conversation"})}async getConversationChannels(){return(await this.fetchJson({path:"/rovo/v1/chat/conversations",options:{method:"GET",headers:this.createHeaders()},holdName:"rovo-v1-chat-conversations"})).items}updateConversationChannel(e,t){return this.fetchJson({path:`/rovo/v1/chat/conversation/${e}`,options:{method:"PUT",headers:this.createHeaders({"content-type":"application/json;charset=UTF-8"}),body:JSON.stringify(t)},holdName:"rovo-v1-chat-conversation-[id]"})}async resolveConversationAction(e,t){return this.fetchJson({path:`/rovo/v1/chat/conversation/${e}/action`,options:{method:"POST",headers:this.createHeaders({"content-type":"application/json;charset=UTF-8"}),body:JSON.stringify({...t,context:{...t.context,browser_url:window.location.href}})},holdName:"rovo-v1-chat-conversation-[id]-action"})}async generateAgentStarters(e){let t={method:"POST",headers:this.createHeaders({"content-type":"application/json;charset=UTF-8"}),body:JSON.stringify(e)};return this.fetchJson({path:"/rovo/v1/conversation-starters/agent-starter-suggestion",options:t,holdName:"rovo-v1-conversation-starters-agent-starter-suggestion"})}async generateContextualStarters(e){let t={method:"POST",headers:this.createHeaders({"content-type":"application/json;charset=UTF-8"}),body:JSON.stringify(e)};return this.fetchJson({path:"/rovo/v1/conversation-starters/page-contextual",options:t,holdName:"rovo-v1-conversation-starters-page-contextual"})}async getDynamicConvoStartersNew(e){let t={method:"POST",headers:this.createHeaders({"content-type":"application/json;charset=UTF-8","x-experience-id":"convo-starter-for-rovo-button"}),body:JSON.stringify(e)};return this.fetchJson({path:"/api/ai/v2/ai-feature/convo-starters",options:t,holdName:"api-ai-v2-ai-feature-convo-starters"})}async getWebSearchConfiguration(){let e=this.createHeaders();return await this.fetchJson({path:"/api/v2/configuration/web-search-ai",options:{method:"GET",headers:e},holdName:"api-v2-configuration-web-search-ai"})}constructor(e){super(e),this.getAgentActions=async()=>(await this.fetchJson({path:"/rovo/v1/agents/configuration/actions",options:{method:"GET",headers:this.createHeaders()},holdName:"rovo-v1-agents-configuration-actions"})).actions,this.getAgentKnowledgeConfiguration=()=>this.fetchJson({path:"/rovo/v1/agents/configuration/knowledge",options:{method:"GET",headers:this.createHeaders()},holdName:"rovo-v1-agents-configuration-knowledge"}),this.getAgentPermissions=(e,t)=>this.fetchJson({path:`/rovo/v2/permissions/agents/${e}`,options:{method:"POST",headers:this.createHeaders({"content-type":"application/json;charset=UTF-8"}),body:JSON.stringify(t)},holdName:"rovo-v2-permissions-agents-[agentId]"}),this.getRecommendedAgents=({limit:e,query:t,pageUrl:a})=>{let r=new URLSearchParams({limit:e.toString(),query:t});a&&r.append("pageUrl",a);let s=`/rovo/v1/agents/recommend/v2?${r.toString()}`;return this.fetchJson({path:s,options:{method:"GET",headers:this.createHeaders()},holdName:"rovo-v1-agents-recommend-v2"})},this.getConversationDebugLogs=async e=>(await this.fetchJson({path:`/rovo/v1/chat/conversation/${e}/debug-logs`,options:{method:"GET",headers:this.createHeaders()},holdName:"rovo-v1-chat-conversation-[conversationId]-debug-logs"})).items,this.validateFiles=async e=>{let t=this.createHeaders({"content-type":"application/json;charset=UTF-8"});return this.fetchJson({path:"/rovo/v1/chat/message/file/validate",options:{method:"POST",headers:t,body:JSON.stringify(e)},holdName:"rovo-v1-chat-message-file-validate"})},this.uploadFiles=async e=>{let t=new FormData;for(let a of e.files)t.append("files",a);return await this.fetchJson({path:"/rovo/v1/chat/message/file",options:{method:"POST",headers:this.createHeaders(),body:t},holdName:"rovo-v1-chat-message-file"})},this.rovoLabsSendMessage=e=>this.fetchStream({path:"/rovo/v1/agent-playground/chat/stream",options:{method:"POST",headers:this.createHeaders({"content-type":"application/json;charset=UTF-8"}),body:JSON.stringify(e)},holdName:"rovo-v1-agent-playground-chat-stream"}),this.rovoLabsGetConversations=()=>this.fetchJson({path:"/rovo/v1/agent-playground/chat/conversations",options:{method:"GET",headers:this.createHeaders()},holdName:"rovo-v1-agent-playground-chat-conversations"}),this.rovoLabsGetTools=()=>this.fetchJson({path:"/rovo/v1/agent-playground/tools",options:{method:"GET",headers:this.createHeaders()},holdName:"rovo-v1-agent-playground-tools"}),this.rovoLabsGetLanguageModels=()=>this.fetchJson({path:"/rovo/v1/agent-playground/language-models",options:{method:"GET",headers:this.createHeaders()},holdName:"rovo-v1-agent-playground-language-models"}),this.rovoLabsGetPrompts=()=>this.fetchJson({path:"/rovo/v1/agent-playground/prompts",options:{method:"GET",headers:this.createHeaders()},holdName:"rovo-v1-agent-playground-prompts"}),this.getGeneratedContent=e=>{let t=[];e?.actions&&e.actions.length>0&&t.push(`actionKeys=${e.actions.join(",")}`),e?.statuses&&e.statuses.length>0&&t.push(`statuses=${e.statuses.join(",")}`),e?.limit!==void 0&&t.push(`limit=${e.limit}`);let a=t.length>0?`?${t.join("&")}`:"";return this.fetchJson({path:`/rovo/v1/chat/generated-content${a}`,options:{method:"GET",headers:this.createHeaders()},holdName:"rovo-v1-chat-generated-content"})}}}let i=(0,s.createContext)(new o({baseUrl:"",product:"",experienceId:""}));e.exports.AssistanceServiceImpl=o,e.exports.AssistanceServiceProvider=({value:e,children:t})=>(0,r.jsx)(i.Provider,{value:e,children:t}),e.exports.useAssistanceService=e=>{(0,t("fBMbo").di)(s.useContext,o);let a=(0,s.useContext)(i);if((0,t("33mIS").setRovoChatProduct)(e?.product??a.getConfig().product),!e||!e.experienceId&&!e.product&&!e.headers)return a;let r=e.product??a.getConfig().product,n=e.experienceId??a.getConfig().experienceId,c=e.headers??a.getConfig().headers;return new o({...a.getConfig(),product:r,experienceId:n,headers:c})},e.exports.createHookWithAssistanceService=e=>a=>{(0,t("fBMbo").di)(o,t("7pmZw").useAIMateExperienceTracker);let{assistanceServiceParams:r,...n}=a,i=(0,t("7pmZw").useAIMateExperienceTracker)({touchpointSource:r.touchpointSource}),c=(0,s.useMemo)(()=>{let e=a.assistanceServiceParams.headers?Object.fromEntries(Object.entries(a.assistanceServiceParams.headers).map(([e,t])=>[e.toLowerCase(),t])):void 0;return{"x-cloudid":a.assistanceServiceParams.siteId,...e}},[a.assistanceServiceParams.siteId,a.assistanceServiceParams.headers]),g=(0,s.useMemo)(()=>new o({product:r.product,experienceId:r.experienceId,headers:c,baseUrl:r.baseUrl,minionAlias:r.minionAlias}),[r.baseUrl,r.experienceId,r.product,c,r.minionAlias]);return e({...n,assistanceServiceInjectedParams:{...r,headers:c,experienceTracker:i,assistanceService:g}})}}),a("ljUdP",function(e,a){let r="ACCEPTABLE_USE_VIOLATIONS",s=e=>e instanceof Object&&"ASSISTANT"===e.role,n=e=>e instanceof Object&&"ERROR"===e.type,o=e=>e instanceof Object&&"TRACE"===e.type&&"RESEARCH_PLAN"===e.message.message_template,i=e=>e instanceof Object&&"TRACE"===e.type&&("RESEARCH"===e.message.message_template||"RESEARCH_STEP"===e.message.message_template||"RESEARCH_STEP_TITLE"===e.message.message_template||"RESEARCH_STEP_TITLE_SHORT"===e.message.message_template||"RESEARCH_STEP_SOURCE"===e.message.message_template||"RESEARCH_STEP_COMPLETE"===e.message.message_template);e.exports.ACCEPTABLE_USE_VIOLATIONS_ERROR=r,e.exports.isHumanMessage=e=>e instanceof Object&&"HUMAN"===e.role,e.exports.isAssistantMessage=s,e.exports.isStreamResponse=e=>e instanceof Object&&"FINAL_RESPONSE"===e.type,e.exports.isAgentResponse=e=>e instanceof Object&&s(e.message),e.exports.isStreamError=n,e.exports.isStreamAUPError=e=>n(e)&&e.message?.message_template===r,e.exports.isStreamAnswerPart=e=>e instanceof Object&&"ANSWER_PART"===e.type,e.exports.isStreamReasoningPart=e=>e instanceof Object&&"REASONING_PART"===e.type,e.exports.isStreamActionPart=e=>e instanceof Object&&"ACTION_PART"===e.type,e.exports.isStreamActionClassification=e=>e instanceof Object&&"ACTION_CLASSIFICATION"===e.type,e.exports.isStreamActionPrepare=e=>e instanceof Object&&"ACTION_PREPARE"===e.type,e.exports.isStreamActionComplete=e=>e instanceof Object&&"ACTION_COMPLETE"===e.type,e.exports.isStreamResearchStart=e=>e instanceof Object&&"TRACE"===e.type&&"RESEARCH_START"===e.message.message_template,e.exports.isStreamResearchBeginningTrace=e=>e instanceof Object&&"TRACE"===e.type&&"RESEARCH"===e.message.message_template,e.exports.isStreamResearchStepContent=e=>e instanceof Object&&"TRACE"===e.type&&"RESEARCH_STEP"===e.message.message_template,e.exports.isStreamResearchStepTitle=e=>e instanceof Object&&"TRACE"===e.type&&"RESEARCH_STEP_TITLE"===e.message.message_template,e.exports.isStreamResearchPlan=o,e.exports.isStreamResearchStepTitleShort=e=>e instanceof Object&&"TRACE"===e.type&&"RESEARCH_STEP_TITLE_SHORT"===e.message.message_template,e.exports.isStreamResearchStepSource=e=>e instanceof Object&&"TRACE"===e.type&&"RESEARCH_STEP_SOURCE"===e.message.message_template,e.exports.isStreamResearchStepCompleted=e=>e instanceof Object&&"TRACE"===e.type&&"RESEARCH_STEP_COMPLETE"===e.message.message_template,e.exports.isStreamResearchPayload=i,e.exports.isStreamTrace=e=>!(i(e)||o(e))&&e instanceof Object&&"TRACE"===e.type,e.exports.isFollowUpMessage=e=>null!=e&&"object"==typeof e&&"type"in e&&"FOLLOW_UP_QUERIES"===e.type,e.exports.isActionExecutedSuccessfully=e=>s(e)&&(e?.message_metadata?.is_action_execution??!1)&&e?.message_metadata?.action_execution_result==="SUCCESS",e.exports.isActionResolutionCancelled=e=>e?.resolution?.type==="cancel",e.exports.isChannelNotFoundError=e=>(0,t("flpNp").isApiError)(e)&&e.errorAttributes?.errorCode==="convoai.rest.not.found",e.exports.isStreamActionError=e=>e&&"ACTION_ERROR"===e.type&&e.message&&"ERRORED"===e.message.status,e.exports.isRateLimitedError=e=>(0,t("flpNp").isApiError)(e)&&429===e.errorAttributes.statusCode,e.exports.isHipaaError=e=>(0,t("flpNp").isApiError)(e)&&!!e.errorAttributes.errorCode&&e.errorAttributes.errorCode===t("5MO1q").ASSISTANCE_SERVICE_ERROR_CODES.HAS_HIPAA_ENABLED,e.exports.isAUPViolationError=e=>e instanceof Object&&e?.detail?.type==="ERROR"&&!!e.errorAttributes.errorCode&&e.errorAttributes.errorCode===r,e.exports.isConversationChannelDataMessage=e=>e instanceof Object&&"CONVERSATION_CHANNEL_DATA"===e.type,e.exports.isConfirmAction=function(e){return e?.resolution?.type==="confirm"}}),a("5MO1q",function(e,t){e.exports.ASSISTANCE_SERVICE_ERROR_CODES={AGENT_DOES_NOT_EXIST:"errorAgentNotFound",USER_NOT_CREATOR:"errorIncorrectOwner",AGENT_HAS_CONVERSATIONS:"errorAgentInUse",AGENT_DEACTIVATED:"convoai.rest.bad.request.archived.agent",ROVO_PRODUCT_NOT_ACTIVE:"convoai.rest.rovo.product.not.active",HAS_HIPAA_ENABLED:"convoai.rest.browsing.product.has.hipaa.enabled",FILE_SIZE_TOO_LARGE:"convoai.rest.bad.request.file.size.too.large"},e.exports.STATUS_CODES={UNSUPPORTED_FILE_TYPE:415,FILE_RAI_POLICY_VIOLATION:406}}),a("33mIS",function(e,t){e.exports.setRovoChatProduct=e=>{window&&(window.__ROVO_CHAT_CONFIG_PRODUCT__=e)}}),a("4Z0i5",function(e,a){async function*r(e){let a=(0,t("wzD3I").getBufferReader)(e),r=!1,s="";do try{let{value:e,done:t}=await a.read();if(r=t,e)try{let t=`${s}${e}`.split("\n");for(let e of(s="",t))try{yield JSON.parse(e)}catch(t){s=e}}catch(t){throw Error(`Error Processing Stream Data: ${e}`)}}catch(e){if(e instanceof DOMException&&"AbortError"===e.name)r=!0;else throw e}while(!r)}e.exports.readJsonStream=r}),a("wzD3I",function(e,t){e.exports.getBufferReader=e=>{if(!e.body)throw Error("Response body is empty");return e.body.pipeThrough(new TextDecoderStream).getReader()}}),a("e4Fay",function(e,a){let r=e=>{let t={},a=[];for(let r of e.split("\n")){let e=r.trim(),s=e.indexOf(":");if(e&&-1!==s){let r=e.substring(0,s),n=e.substring(s+1).trimStart();switch(r){case"event":t.eventType=n;break;case"data":a.push(n);break;case"id":t.id=n}}}return a.length&&(t.data=a.join("\n")),t};async function*s(e){let a=(0,t("wzD3I").getBufferReader)(e),s=!1,n="";do try{let{value:e,done:t}=await a.read();if(s=t,e){let t=`${n}${e}`.split("\n\n");for(let e of(n=t.pop()??"",t))try{let t=r(e);t.data&&(yield JSON.parse(t.data))}catch{}}if(s&&n)try{let e=r(n);e.data&&(yield JSON.parse(e.data))}catch{}finally{n=""}}catch(e){if(e instanceof DOMException&&"AbortError"===e.name)s=!0;else throw e}while(!s)}e.exports.readSSEStream=s}),a("4E0A1",function(e,a){let r=e=>{let{timestamp:t,...a}=e;return JSON.stringify(a)},s=async({response:e})=>{let a,s,n,o=await e.text();try{let e=JSON.parse(o),{error_code:t,error_message:i,message_template:c,errors:g,errorMessage:d,timestamp:l}=e;n=d??i,s=(a=g?.length?g[0]:t||c)&&n?`${a} - ${n}`:l?r(e):o}catch{s=o}throw new(0,t("flpNp").ApiError)(`[Code ${e.status}] ${s}`,{errorCode:a,statusCode:e.status,rawErrorMessage:n,traceId:(0,t("8Igpw").getTraceIdFromResponse)(e)})},n=async({response:e})=>((!e.ok||e.status>=400)&&await s({response:e}),e);e.exports.addPath=(e,t)=>""===t?e:[e.endsWith("/")?e:`${e}/`,t.startsWith("/")?t.substring(1,t.length):t].join(""),e.exports.processResponse=n}),a("99vXA",function(e,t){e.exports.generateConversationName=()=>{let e=new Date,t=e.toLocaleDateString(void 0,{year:"2-digit",month:"2-digit",day:"2-digit"}),a=e.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!0});return`${t} ${a}`}}),a("aclUh",function(e,a){let r=(e,t)=>{let a=`${e.content}${t.message.content}`.replace(/\[\^\d+\^\]/g,"");return{...e,content:a}},s=(e,t)=>({...e,message:r(e.message,t)}),n=e=>Array.isArray(e)?e:e.split(".").filter(Boolean),o=(e,t)=>{let a=e;for(let e of t){if(null==a||"object"!=typeof a)return;a=a[e]}return a},i=(e,t,a)=>{if(0===t.length)return a;let[r,...s]=t,n=e&&"object"==typeof e?e:{};return{...n,[r]:i(n[r],s,a)}},c={"aifc-confluence-page-create":"adf"},g=(e,t)=>{let a=c[t.key],r=e?.data,s=t?.data;if(a&&"object"==typeof r&&null!==r&&"object"==typeof s&&null!==s){let c=Array.isArray(a)?a:[a],g={...s};for(let e of c){let t=n(e),a=o(r,t),c=o(s,t);g=i(g,t,String(a??"")+String(c??""))}return{...e,data:g,status:t.status}}return{...e,data:t.data,status:t.status}},d=(e,t,a)=>{let{key:r}=t.message,s=e.findIndex(e=>e.key===r);if(-1===s)return[...e||[],t.message];let n=[...e],o=n[s],i=t.message;return n[s]=a?a(o,i):g(o,i),n},l=e=>{let{plugin_invocations:t,...a}=e;return{...a,plugin_invocations:t.map(e=>({...e,plugin_output:"--PRIVATE--"}))}},u=e=>({...e,message:l(e.message)});e.exports.getId=e=>e.message.message.id,e.exports.addAnswerPart=(e,t)=>({...e,message:s(e.message,t)}),e.exports.addActionPart=(e,t,a)=>{let{message:r}=e.message,{actions:s}=r,n=s&&s.length>0;return{...e,message:{...e.message,message:{...r,actions:n?d(s,t,a):[t.message]}}}},e.exports.removeSensitiveData=e=>({...e,message:u(e.message)}),e.exports.createHumanMessage=(e,t,a,r,s)=>({role:"HUMAN",id:e,content:t,time_created:new Date().toISOString(),user_ari:"unknown",plugin_invocations:[],isFromSeededConversation:a,requestId:r,file_uploads:s}),e.exports.toStreamResponse=e=>(0,t("ljUdP").isAgentResponse)(e)?{type:"FINAL_RESPONSE",message:e}:{type:"FINAL_RESPONSE",message:{message:e}}}),a("aMZ6b",function(e,t){let a=window.fetch;e.exports.fetchFn=a}),a("ffpG2",function(e,a){let r={hasNextPage:!1,hasPreviousPage:!1,startCursor:void 0,endCursor:void 0},s=e=>{try{let{edges:a,pageInfo:s}=e?.data?.agentStudio_getAgents??{pageInfo:r};return{agents:a?.map(e=>(0,t("9eSnh").transformAgentGqlResponse)(e.node)).filter(e=>!!e.id)??[],pageInfo:s}}catch{return{agents:[],pageInfo:{hasNextPage:!1,hasPreviousPage:!1,startCursor:void 0,endCursor:void 0}}}},n=`
fragment conversationAssistantAgent_agentStudioAssistant on AgentStudioAssistant {
  id
  name
  description
  conversationStarters
  isFavourite
  creatorType
  identityAccountId
  externalConfigReference
  creator {
    id
  }
  icon
  authoringTeam {
    id
    profileUrl
    displayName
	smallAvatarImageUrl
  }
}
`,o=async({cloudId:e,count:a=10,after:r,product:o,input:i,abortController:c,workspaceId:g})=>{(0,t("fBMbo").di)(t("b62XF").performGqlFetch);let d=`
	query agentStudioGetAgents($cloudId: String!, $first: Int, $input: AgentStudioAgentQueryInput, $after: String, $product: String, $workspaceId: String) {
		agentStudio_getAgents(
			cloudId: $cloudId
			first: $first
			input: $input
			after: $after
			product: $product
			workspaceId: $workspaceId
		) @optIn(to: "AgentStudio") {
			edges {
				node {
					...conversationAssistantAgent_agentStudioAssistant
				}
			}
			pageInfo {
				startCursor
				endCursor
				hasNextPage
				hasPreviousPage
			}
		}
	}

	${n}
	`;return s(await (0,t("b62XF").performGqlFetch)({gqlQuery:d,variables:{cloudId:e,first:a,after:r,product:o,input:i,workspaceId:g},abortController:c}))},i=async({cloudId:e,externalConfigReference:a})=>{(0,t("fBMbo").di)(t("b62XF").performGqlFetch);let r=`
	query agentStudioGetAgentByExternalConfigReference($cloudId: String!, $externalConfigReference: String!) {
		agentStudio_getByExternalReference(cloudId: $cloudId, externalReference: $externalConfigReference) @optIn(to: "AgentStudio") {
			...conversationAssistantAgent_agentStudioAssistant
		}
	}

	${n}
	`,s=await (0,t("b62XF").performGqlFetch)({gqlQuery:r,variables:{cloudId:e,externalConfigReference:a}});return(0,t("9eSnh").transformAgentGqlResponse)(s.data.agentStudio_getByExternalReference)};e.exports.DEFAULT_PAGE_INFO=r,e.exports.fetchPaginatedAgents=o,e.exports.fetchAgentByExternalConfigReference=i}),a("9eSnh",function(e,t){let a=e=>{let t=e.match(/^ari:cloud:rovo::agent\/activation\/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\/([^/]+)$/);return t?t[1]:null};e.exports.transformAgentGqlResponse=e=>({creator_type:e.creatorType,creator:e.creator?.id,description:e.description,external_config_reference:e.externalConfigReference,favourite:e.isFavourite,id:a(e.id)??"",identity_account_id:e.identityAccountId,name:e.name,user_defined_conversation_starters:e.conversationStarters,icon:e.icon,named_id:a(e.id)??"",authoring_team:e?.authoringTeam?{id:e.authoringTeam.id,profile_url:e.authoringTeam.profileUrl,display_name:e.authoringTeam.displayName,avatar_url:e.authoringTeam.smallAvatarImageUrl}:null})}),a("1uFMJ",function(e,a){let r=(0,t("h26dv").createHookWithAssistanceService)(({onSuccess:e,onError:a,assistanceServiceInjectedParams:{assistanceService:r,experienceTracker:s},onInit:n})=>({deleteAgent:(0,t("29BPs").useMutation)({mutationFn:async e=>(s.start({id:t("16lEl").ExperienceName.DELETE_AGENT,name:t("16lEl").ExperienceName.DELETE_AGENT}),n?.(e),await r.deleteAgent(e)),onSuccess:async a=>(s.succeed({name:t("16lEl").ExperienceName.DELETE_AGENT}),e?.(),a),onError:e=>{s.fail({name:t("16lEl").ExperienceName.DELETE_AGENT,error:e,teamName:t("2Cfy4").ROVO_AGENTS_FE_TEAM_NAME}),a?.()}})}));e.exports.useDeleteAgent=r}),a("29BPs",function(e,a){var r=t("42omo");e.exports.useMutation=({mutationFn:e,onSuccess:a,onError:s})=>{let n=(0,r.useRef)(e);n.current=e;let o=(0,r.useRef)(a);o.current=a;let i=(0,r.useRef)(s);i.current=s;let[c,g]=(0,r.useState)(null),[d,l]=(0,r.useState)(null),[u,p]=(0,r.useState)(!1);return{data:c,error:d,isSubmitting:u,mutate:(0,r.useCallback)(async(e,a)=>{p(!0);try{let t=await n.current(e);return g(t),o.current?.(t),a?.onSuccess?.(t),t}catch(s){let r=(0,t("flpNp").mapErrorToApiError)(s);l(r),i.current?.(r,e),a?.onError?.(r)}finally{p(!1)}},[])}}}),a("4ul15",function(e,a){let r=(0,t("h26dv").createHookWithAssistanceService)(({onError:e,onSuccess:a,assistanceServiceInjectedParams:{assistanceService:r,experienceTracker:s}})=>({favouriteAgent:(0,t("29BPs").useMutation)({mutationFn:async e=>(s.start({id:t("16lEl").ExperienceName.FAVOURITE_AGENT,name:t("16lEl").ExperienceName.FAVOURITE_AGENT}),await r.favouriteAgent(e)),onSuccess:async()=>{s.succeed({name:t("16lEl").ExperienceName.FAVOURITE_AGENT}),a?.({favourite:!0})},onError:a=>{s.fail({name:t("16lEl").ExperienceName.FAVOURITE_AGENT,error:a,teamName:t("2Cfy4").ROVO_AGENTS_FE_TEAM_NAME}),e?.({favourite:!0})}}),unfavouriteAgent:(0,t("29BPs").useMutation)({mutationFn:async e=>(s.start({id:t("16lEl").ExperienceName.UNFAVOURITE_AGENT,name:t("16lEl").ExperienceName.UNFAVOURITE_AGENT}),await r.unfavouriteAgent(e)),onSuccess:async()=>{s.succeed({name:t("16lEl").ExperienceName.UNFAVOURITE_AGENT}),a?.({favourite:!1})},onError:a=>{s.fail({name:t("16lEl").ExperienceName.UNFAVOURITE_AGENT,error:a,teamName:t("2Cfy4").ROVO_AGENTS_FE_TEAM_NAME}),e?.({favourite:!1})}})}));e.exports.useAgentFavourites=r}),a("hT0Hx",function(e,a){var r=t("42omo");let s=(0,r.createContext)({}),n=s.Provider;e.exports.useAgentOverrider=()=>(0,r.useContext)(s),e.exports.AgentOverriderProvider=n,e.exports.createAgentsConfig=e=>({agentDefaultIdOverride:e?.defaultAgentId,agentIdFiltersOverride:e?.filter})}),a("37oID",function(e,t){e.exports.getOverridenAgents=(e,t,a)=>{let r=e.findIndex(e=>a===e.id),s=[];return(s=-1!==r?e.map((e,t)=>({...e,is_default:t===r})):e,Array.isArray(t))?s.filter(e=>t?.includes(e.id)||e.is_default):s}}),a("ka7s2",function(e,a){Object.defineProperty(e.exports,"default",{get:()=>r,set:void 0,enumerable:!0,configurable:!0});var r=(0,t("cgtv4").defineMessages)({defaultAgentName:{id:"ai-mate.agent-selector.default-agent-name",defaultMessage:"Chat"},defaultAgentDescription:{id:"ai-mate.agent-selector.default-agent-description",defaultMessage:"Get answers, generate new ideas, and accelerate everyday work."}})});
//# sourceMappingURL=AgentProfileCard.a0c50dcd.js.map
