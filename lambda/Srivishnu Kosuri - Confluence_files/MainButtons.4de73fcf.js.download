function e(e){return e&&e.__esModule?e.default:e}function t(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}var n=globalThis.parcelRequired477,a=n.register;a("70LTe",function(e,t){var a=n("42omo");e.exports.useEmbeddedConfluenceEventMarkers=()=>(0,a.useCallback)((e,t)=>{window.parent.postMessage({type:t,payload:e},"*")},[])}),a("dpqzw",function(e,t){e.exports.EDITOR_PARENT_CLASS="fabric-editor-popup-scroll-parent",e.exports.EDITOR_CHILDREN_SELECTOR=".ProseMirror > *",e.exports.RENDERED_CONTENT_SELECTOR=".ak-renderer-document",e.exports.FABRIC_PAGE_CONTENT_ID="content"}),a("gkIgp",function(e,t){var n,a=((n={}).NCS="ncs",n.SYNCHRONY="synchrony",n);e.exports.CollabServiceProperty=a}),a("jIlrR",function(t,a){var i=n("42omo"),o=n("6GD8y"),r=n("ehS5m"),l=n("8Q7Uc");let c=(0,i.forwardRef)(({as:t=n("eEA8O").default,style:a,...o},r)=>e(i).createElement(t,{...o,style:a,ref:r,className:(0,n("gMc0m").default)(["_701w1ul9 _1yxxv77o _w8sqv77o",o.className])})),d=(0,i.forwardRef)(({as:t="div",style:a,...o},r)=>e(i).createElement(t,{...o,style:a,ref:r,className:(0,n("gMc0m").default)(["_1e0c1txw _2lx2vrvc",o.className])}));t.exports.CommentButtonPlaceholder=({isDisabled:t=!0,handleCommentButtonClick:a=()=>{},style:s,onRender:u,contentId:m})=>{(0,i.useEffect)(()=>{!t&&u&&u()},[t,u]);let{formatMessage:p}=(0,n("8C5kA").default)(),[{unreadCommentsListState:E,allComments:g}]=(0,n("fHAwL").useUnreadComments)(),f=(0,n("knsmw").getUnreadInlineCommentsListState)(E,g),b=(0,n("4tOXV").useShortcutStrings)({shortcut:n("gnkil").UNIVERSAL_TOGGLE_INLINE_COMMENTS_SHORTCUT}),_=(0,n("7aw3q").useEmbeddedComments)(),y=(0,n("gczDe").getRendererAnnotationEventEmitter)(),T=(0,n("9wGTI").fg)("platform_tooltip_shortcuts_migration_1")?e(i).createElement(n("gtD4K").default,{id:"comment-button.tooltip",defaultMessage:"Show comments"}):e(i).createElement(n("4tOXV").ShortcutVisualizer,{shortcut:n("gnkil").UNIVERSAL_TOGGLE_INLINE_COMMENTS_SHORTCUT,contentBefore:e(i).createElement(n("gtD4K").default,{id:"comment-button.tooltip",defaultMessage:"Show comments"}),isTooltip:!0});return _?t?e(i).createElement(c,{testId:"comment-button-placeholder","data-test-id":"comment-button-placeholder",appearance:"subtle",iconBefore:e(i).createElement(e(n("1yB28")),{label:"",spacing:"spacious"}),isDisabled:!0,style:s}):e(i).createElement(e(i).Fragment,null,e(i).createElement(o.GeneralShortcutListener,{deprecatedAccelerator:n("gnkil").TOGGLE_INLINE_COMMENTS_SHORTCUT_RENDERER,accelerator:n("gnkil").UNIVERSAL_TOGGLE_INLINE_COMMENTS_SHORTCUT,listener:e=>{document.getElementById("renderer-comments-sidebar")?(y.emit(n("21K7m").AnnotationUpdateEvent.REMOVE_ANNOTATION_FOCUS),y.emit(n("21K7m").AnnotationUpdateEvent.DESELECT_ANNOTATIONS)):a(e)}}),e(i).createElement(n("3gadb").default,{content:f?.length>0?e(i).createElement(r.UnreadTooltipText,{count:f?.length}):T,shortcut:(!f||f?.length===0)&&(0,n("9wGTI").fg)("platform_tooltip_shortcuts_migration_1")?b:void 0,hideTooltipOnClick:!0,position:"bottom"},e(i).createElement(d,{onClick:a},e(i).createElement(c,{"data-id":"comment-button-placeholder","data-cy":"comment-button-placeholder",testId:"comment-button-placeholder",appearance:"subtle",iconBefore:e(i).createElement(e(i).Fragment,null,e(i).createElement(e(n("1yB28")),{label:p(f?.length>0?{id:"comment-button.unread.comments.icon.label",defaultMessage:"You have unread comments"}:{id:"comment-button.icon.label",defaultMessage:"Show comments"}),spacing:"spacious"}),e(i).createElement(l.UnreadCommentCount,{pageId:m,pageMode:"view"})),isDisabled:t,style:s})))):null}}),a("ehS5m",function(e,t){let a=(0,n("jmjWc").LoadableAfterPaint)({__loadable_id__:"q5mbM",name:"UnreadTooltipText",loader:async()=>(await n("c8U1F")).UnreadTooltipText});e.exports.UnreadTooltipText=a}),a("c8U1F",function(e,t){e.exports=n("4mJKd")(5)("hoPjF").then(()=>n("4welg"))}),a("4mJKd",function(e,t){e.exports=e=>t=>import(n("8tirZ").shardUrl(n("02nRr").resolve(t),e))}),a("8tirZ",function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.applyShardToDomain=r,e.exports.domainShardingKey=void 0,e.exports.getDomainShardIndex=a,e.exports.shardUrl=function(e,t){return globalThis[n]?l(e,t):e},e.exports.shardUrlUnchecked=l;let n="__ATLASPACK_ENABLE_DOMAIN_SHARDS";function a(e,t){let n=t+1,a=e.split("").reduce((e,t)=>{let a=(e<<n)-e+t.charCodeAt(0);return a&a},0);return(a%=n)<0&&(a+=n),a}let i=/-\d+$/;function o(e){if(!i.test(e))return e;let t=e.lastIndexOf("-");return e.slice(0,t)}function r(e,t){let n=e.indexOf("."),a=0===t?"":`-${t-1}`;if(-1===n)return`${o(e)}${a}`;let i=o(e.slice(0,n));return`${i}${a}${e.slice(n)}`}function l(e,t){let n=new URL(e),i=a(function(e){let t=e.lastIndexOf("/");if(-1===t||t===e.length-1)throw Error("Expected an absolute URL with a file name, unable to apply sharding.");return e.slice(t+1)}(n.pathname),t);return n.hostname=r(n.hostname,i),n.toString()}e.exports.domainShardingKey=n}),a("02nRr",function(e,n){t(e.exports,"register",()=>a,e=>a=e),t(e.exports,"resolve",()=>i,e=>i=e);var a,i,o=new Map;a=function(e,t){for(var n=0;n<t.length-1;n+=2)o.set(t[n],{baseUrl:e,path:t[n+1]})},i=function(e){var t=o.get(e);if(null==t)throw Error("Could not resolve bundle with id "+e);return new URL(t.path,t.baseUrl).toString()}}),a("knsmw",function(e,t){e.exports.toggleCommentEditor=(e,t)=>{document.getElementById("editor-comments-sidebar")?e.emit("setselectedannotation",""):t()},e.exports.toggleCommentEditorWithAnnotationManagers=(e,t,n,a)=>{n?(e.emit("setselectedannotation",""),a(null)):t()},e.exports.getUnreadInlineCommentsListState=(e,t)=>{if(!t||!e)return[];let n=t.reduce((e,t)=>(e[t.id]=t.location.type,e),{});return e.filter(e=>"INLINE"===n[e.id])}}),a("6nmm4",function(e,t){var n,a,i,o,r,l,c;let d=(n=[{defaultValue:null,kind:"LocalArgument",name:"pageId"}],a=[{kind:"Literal",name:"depth",value:"ALL"},{kind:"Variable",name:"pageId",variableName:"pageId"},{kind:"Literal",name:"type",value:"UNRESOLVED"}],i={kind:"ScalarField",name:"count"},r={kind:"ScalarField",name:"type"},l={kind:"InlineFragment",selections:[{kind:"ScalarField",name:"inlineMarkerRef"}],type:"InlineComment"},c={args:[{kind:"Variable",name:"id",variableName:"pageId"}],concreteType:"PaginatedContentListWithChild",kind:"LinkedField",name:"content",plural:!1,selections:[{concreteType:"Content",kind:"LinkedField",name:"nodes",plural:!0,selections:[o={kind:"ScalarField",name:"id"},{args:[{kind:"Literal",name:"key",value:"editor"}],concreteType:"PaginatedJsonContentPropertyList",kind:"LinkedField",name:"properties",plural:!1,selections:[{concreteType:"JsonContentProperty",kind:"LinkedField",name:"nodes",plural:!0,selections:[o,{kind:"ScalarField",name:"key"},{kind:"ScalarField",name:"value"}]}],storageKey:'properties(key:"editor")'},{concreteType:"ContentMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{concreteType:"ContentMetadata_SpaFriendlyMetadataProvider_frontend",kind:"LinkedField",name:"frontend",plural:!1,selections:[{kind:"ScalarField",name:"fabricEditorSupported"}]}]}]}]},{fragment:{argumentDefinitions:n,kind:"Fragment",name:"usePreloadCommentButtonQuery",selections:[{args:a,concreteType:"PaginatedCommentList",kind:"LinkedField",name:"comments",plural:!1,selections:[i,{concreteType:"Comment",kind:"LinkedField",name:"nodes",plural:!0,selections:[o,{kind:"LinkedField",name:"location",plural:!1,selections:[r,l]}]}]},c],type:"Query"},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"usePreloadCommentButtonQuery",selections:[{args:a,concreteType:"PaginatedCommentList",kind:"LinkedField",name:"comments",plural:!1,selections:[i,{concreteType:"Comment",kind:"LinkedField",name:"nodes",plural:!0,selections:[o,{kind:"LinkedField",name:"location",plural:!1,selections:[{kind:"ScalarField",name:"__typename"},r,l]}]}]},c]},params:{cacheID:"9c0afe40300e5013e32bbea6173aea1d",id:"06aa97550eece151c700159d732523f4cb4864ece75d8cd83f2a2040951feaf5",metadata:{},name:"usePreloadCommentButtonQuery",operationKind:"query",text:'query usePreloadCommentButtonQuery($pageId:ID!){comments(pageId:$pageId,type:UNRESOLVED,depth:ALL){count,nodes{id,location{__typename,type,...on InlineComment{inlineMarkerRef}}}},content(id:$pageId){nodes{id,properties(key:"editor"){nodes{id,key,value}},metadata{frontend{fabricEditorSupported}}}}}'}});d.hash="213bd75259a759693c19bec62abadf60",e.exports.default=d}),a("iAOfI",function(t,a){var i=n("42omo"),o=n("b3j2Y"),r=n("aJv6Q"),l=n("6GD8y"),c=n("c4cfx");let d=n("4YBSq").default,s=(0,n("7aRa9").withFlags)(({flags:t,contentId:a,isCompanyHubButton:r,...s})=>{let u,{epMigrationOnLoad:m,epMigrationOnClick:p}=(0,n("7mHcA").useEmbeddedMigrationQuery)(a,!0),{data:E,loading:g,error:f}=(0,n("jMyy4").useQueryInterop)(d,{variables:{contentId:a},fetchPolicy:"cache-and-network"}),{data:b,loading:_,error:y}=m,{migrateEPData:T,data:I,loading:h,error:C}=p,{showNoEditAccessFlag:S}=(0,n("3u7PM").useNoEditAccessFlag)(t);if(f)u=e(i).createElement(o.ErrorDisplay,{error:f});else if(!E&&g||!b&&_||!I&&h)u=e(i).createElement(n("9hlns").default,{interactionName:(0,n("9wGTI").fg)("ufo-manual-experimental-holds-confluence")?"edit-content-button":void 0,size:"small"});else{let t=E?.content?.nodes?.[0],d=t?.operations??[],u=t?.type??void 0;if(!(d.filter(e=>e?.operation==="update"&&e?.targetType===u).length>0))return e(i).createElement(l.GeneralShortcutListener,{accelerator:n("gnkil").EDIT_SHORTCUT,listener:S});let m=E?.content?.nodes?.[0]?.space?.key??void 0,p=E?.content?.nodes?.[0]?.metadata?.frontend,g=p?.fabricEditorSupported??!1,f=p?.collabService===n("gkIgp").CollabServiceProperty.NCS,b=((0,n("1iSzD").isEmbeddedConfluence_DO_NOT_USE)()&&f)??!1,_=y||C;return e(i).createElement(e(i).Fragment,null,_&&e(i).createElement(o.ErrorDisplay,{error:_}),e(i).createElement(c.EditContentButtonComponent,{contentId:a,contentType:u,spaceKey:m,isCompanyHubButton:r,isFabricSupported:g,isEmbeddedContent:b,migrateEPData:f?void 0:T,...s}))}return e(i).createElement(i.Fragment,null,e(i).createElement(n("ln0hx").ExperienceStart,{id:a,name:n("irVI7").VIEW_PAGE_EDIT_BUTTON_EXPERIENCE}),u)}),u=(0,i.memo)((0,r.withErrorBoundary)({attribution:n("3IBnw").Attribution.BACKBONE})(s));u.propTypes={contentId:e(n("4xcIM")).string.isRequired,isCompanyHubButton:e(n("4xcIM")).bool,onRender:c.EditContentButtonComponent.propTypes?.onRender},t.exports.EditContentButton=u}),a("3u7PM",function(e,t){let a=(0,n("cgtv4").defineMessages)({noEditAccessFlagTitle:{id:"edit-features.no-edit-access-flag.title",defaultMessage:"This shortcut requires edit access"},noEditAccessFlagDescription:{id:"edit-features.no-edit-access-flag.description",defaultMessage:"To use this keyboard shortcut, you'll need edit access to this content."}});e.exports.useNoEditAccessFlag=e=>{let t=(0,n("8C5kA").default)();return{showNoEditAccessFlag:()=>{e.showFlag({id:"live-pages-mode-flag",title:t.formatMessage(a.noEditAccessFlagTitle),description:t.formatMessage(a.noEditAccessFlagDescription),close:"auto"})}}}}),a("c4cfx",function(t,a){var i=n("3u0dr"),o=n("frIzR"),r=n("42omo"),l=n("jTxSS"),c=n("56QzY"),d=n("6GD8y");let s=(0,r.forwardRef)((0,i.isReactCompilerActiveV1)()?(t,a)=>{let i,l,c,d,s,u,m=(0,o.c)(13);if(m[0]!==a||m[1]!==t){let{as:e,style:o,...r}=t;i=void 0===e?n("4KS7f").default:e,l=r,c=o,d=a,s=(0,n("gMc0m").default)(["_701w1ul9",r.className]),m[0]=a,m[1]=t,m[2]=i,m[3]=l,m[4]=c,m[5]=d,m[6]=s}else i=m[2],l=m[3],c=m[4],d=m[5],s=m[6];return m[7]!==i||m[8]!==l||m[9]!==c||m[10]!==d||m[11]!==s?(u=e(r).createElement(i,{...l,style:c,ref:d,className:s}),m[7]=i,m[8]=l,m[9]=c,m[10]=d,m[11]=s,m[12]=u):u=m[12],u}:({as:t=n("4KS7f").default,style:a,...i},o)=>e(r).createElement(t,{...i,style:a,ref:o,className:(0,n("gMc0m").default)(["_701w1ul9",i.className])})),u=(0,n("cgtv4").defineMessages)({editLabel:{id:"edit-button.edit.label",defaultMessage:"Edit this content"},editEmbedLabel:{id:"edit-button.edit.embed.label",defaultMessage:"Edit this embed"},editText:{id:"edit-button.edit.text",defaultMessage:"Edit"}}),m=()=>null,p=(0,r.memo)((0,i.isReactCompilerActiveV1)()?t=>{let a,i,p,E,f,b,_,y,T,I,h,C,S=(0,o.c)(113),{contentId:M,contentType:D,intl:k,isEmbeddedContent:N,isFabricSupported:O,onRender:L,spaceKey:v,migrateEPData:P,isCompanyHubButton:A}=t,x=void 0!==N&&N,R=void 0===L?m:L,B=void 0!==A&&A,F=(0,r.useRef)(null),[w,U]=(0,r.useState)(""),[j,G]=(0,r.useState)(!1),{loadEditor:H}=(0,n("39rFu").useEditPageLoadingActions)(),{setEditSource:V}=(0,n("4ri4I").useEditSourceActions)(),K=(0,r.useContext)(n("7zgzO").RoutesContext),[Q]=(0,n("hl1Kw").useSearchSessionId)(),{searchSessionId:q,additionalAnalytics:z}=Q,{match:W}=K,{routePolicy:$}=(0,n("4o1RV").useNavigationPolicy)();S[0]===Symbol.for("react.memo_cache_sentinel")?(a={source:"page-tree-quick-action-edit"},S[0]=a):a=S[0];let{enforceStorageLimit:J,shouldBlockCreate:X}=(0,n("lqy4C").useHardStorageEnforcement)(a);S[1]!==M||S[2]!==O?(i={contentId:M,isFabricSupported:O},S[1]=M,S[2]=O,S[3]=i):i=S[3];let{fabricEditorEligibility:Y,isFabricEligibilityLoading:Z}=(0,n("ca2z9").useFabricEligibilityMigrationQuery)(i);S[4]===Symbol.for("react.memo_cache_sentinel")?(p={shortcut:n("gnkil").EDIT_SHORTCUT},S[4]=p):p=S[4];let ee=(0,n("4tOXV").useShortcutStrings)(p),et=W?.name,en="blogpost"===D,ea=en?"blog":"pages";S[5]!==M||S[6]!==v||S[7]!==ea?(E={contentId:M,spaceKey:v,contentType:ea},S[5]=M,S[6]=v,S[7]=ea,S[8]=E):E=S[8];let ei=E,eo=O?"fabric-edit-button":void 0,er=(0,n("70LTe").useEmbeddedConfluenceEventMarkers)();S[9]!==en||S[10]!==B||S[11]!==x||S[12]!==O?(f=x&&!en?n("1NBp8").EDIT_PAGE_EMBED:B?n("1NBp8").COMPANY_HUB_EDIT:O?en?n("1NBp8").EDIT_BLOG_V2:n("1NBp8").EDIT_PAGE_V2:en?n("1NBp8").EDIT_BLOG:n("1NBp8").EDIT_PAGE,S[9]=en,S[10]=B,S[11]=x,S[12]=O,S[13]=f):f=S[13],S[14]!==et||S[15]!==en||S[16]!==V?(b=()=>{let e=n("7NoF3").PAGE_EDIT_BUTTON_CLICK;en&&(e=n("7NoF3").BLOG_EDIT_BUTTON_CLICK),et===n("1NBp8").SPACE_OVERVIEW.name&&(e=n("7NoF3").SPACE_EDIT_BUTTON_CLICK),V(e),U(e)},_=[en,V,et,U],S[14]=et,S[15]=en,S[16]=V,S[17]=b,S[18]=_):(b=S[17],_=S[18]),(0,r.useEffect)(b,_),S[19]===Symbol.for("react.memo_cache_sentinel")?(y=()=>F&&e(l).findDOMNode(F.current)?.click(),S[19]=y):y=S[19];let el=y;S[20]!==et||S[21]!==en||S[22]!==V?(T=e=>{if(!e){let e=n("7NoF3").PAGE_EDIT_SHORTCUT_E;en&&(e=n("7NoF3").BLOG_EDIT_SHORTCUT_E),et===n("1NBp8").SPACE_OVERVIEW.name&&(e=n("7NoF3").SPACE_EDIT_SHORTCUT_E),V(e),U(e)}n("iFjdQ").ExperienceActionMeasures.markMeasureStart(n("5q601").EDIT_INTENT_EDIT_FMP_ACTION),n("iFjdQ").ExperienceActionMeasures.markMeasureStart(n("5q601").EDIT_INTENT_EDIT_TTI_ACTION),n("iFjdQ").ExperienceActionMeasures.markMeasureEnd(n("5q601").VIEW_EDIT_BUTTON_CLICKED_ACTION),n("iFjdQ").ExperienceActionMeasures.markMeasureStart(n("5q601").EDIT_ROUTE_CHANGE_ACTION)},S[20]=et,S[21]=en,S[22]=V,S[23]=T):T=S[23];let ec=T;S[24]!==M||S[25]!==D||S[26]!==et||S[27]!==en||S[28]!==x||S[29]!==O||S[30]!==ei||S[31]!==H||S[32]!==ec||S[33]!==P||S[34]!==$||S[35]!==f||S[36]!==K||S[37]!==v?(I=e=>{ec(e.isTrusted),(0,n("74Lca").rememberScrolledPosition)(M);let t=(0,n("dHSeC").getSpaTransitionDetails)(e,K),a=$&&!$.willPushInSelf(et,M,f.name,M);!en&&P&&a&&(e.preventDefault(),P(()=>{K.push(n("1NBp8").EDIT_PAGE_EMBED.toUrl(ei))},()=>{K.push(f.toUrl(ei))})),t?.href&&!a&&(e.preventDefault(),e.stopPropagation(),e.isTrusted||K.preloadRoute(t.href),H({contentId:M,spaceKey:v,redirectUrl:t.href,contentType:D,isFabricSupported:O,isEmbeddedContent:x}))},S[24]=M,S[25]=D,S[26]=et,S[27]=en,S[28]=x,S[29]=O,S[30]=ei,S[31]=H,S[32]=ec,S[33]=P,S[34]=$,S[35]=f,S[36]=K,S[37]=v,S[38]=I):I=S[38];let ed=I,es=(0,n("de2j9").useIsEditorPage)(),eu=W?.query?.mode;S[39]!==z||S[40]!==M||S[41]!==D||S[42]!==O||S[43]!==es||S[44]!==eu||S[45]!==q?(h=(e,t)=>{t.update({data:{action:"clicked",actionSubject:"editButton",attributes:{componentVersion:"v2",contentType:D,contentId:M,isFabricSupported:O,navdexPointType:c.END,searchSessionId:q,...z,mode:eu,isOnEditRoute:es},source:e.isTrusted?"editContentButton":"editShortcut"},type:"sendTrackEvent"}).fire()},S[39]=z,S[40]=M,S[41]=D,S[42]=O,S[43]=es,S[44]=eu,S[45]=q,S[46]=h):h=S[46];let em=h;if(S[47]!==M||S[48]!==D||S[49]!==eo||S[50]!==ee||S[51]!==J||S[52]!==Y||S[53]!==em||S[54]!==k||S[55]!==x||S[56]!==Z||S[57]!==O||S[58]!==j||S[59]!==ei||S[60]!==w||S[61]!==ed||S[62]!==R||S[63]!==f||S[64]!==er||S[65]!==X||S[66]!==v){C=Symbol.for("react.early_return_sentinel");e:{let t,a,i,o,l,c,m,p,E,b,_,[y]=(0,n("6mKj3").UNSAFE_noExposureExp)("platform_editor_on_edit_convert");S[68]!==Y||S[69]!==O?(t=!O&&"string"==typeof Y&&["SUPPORTED","SUPPORTED_WITH_MIGRATION"].includes(Y),S[68]=Y,S[69]=O,S[70]=t):t=S[70];let T=t;S[71]!==em||S[72]!==x||S[73]!==ed||S[74]!==er||S[75]!==T?(a=(e,t)=>{if(T&&(0,n("6mKj3").expValEquals)("platform_editor_on_edit_convert","isEnabled",!0))e.preventDefault(),G(g),em(e,t);else{if(x){let e=(0,n("gzdsP").getIframeObservable_DO_NOT_USE)(),t=e?.object?.uniqueKey;er({timestamp:Date.now(),...t&&(0,n("9wGTI").fg)("platform_deprecate_lp_cc_embed")?{customData:{uniqueKey:t}}:{}},`${n("4icDV").EMBEDDED_CONFLUENCE_METRICS_PREFIX}${n("4icDV").EMBEDDED_EDIT_CLICK}`)}em(e,t),ed(e)}},S[71]=em,S[72]=x,S[73]=ed,S[74]=er,S[75]=T,S[76]=a):a=S[76];let I=a;S[77]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n("9wGTI").fg)("platform_tooltip_shortcuts_migration_1")?e(r).createElement(n("gtD4K").default,{id:"edit-button.tooltip",defaultMessage:"Edit"}):e(r).createElement(n("4tOXV").ShortcutVisualizer,{shortcut:n("gnkil").EDIT_SHORTCUT,contentBefore:e(r).createElement(n("gtD4K").default,{id:"edit-button.tooltip",defaultMessage:"Edit"}),isTooltip:!0}),S[77]=i):i=S[77],S[78]!==ee?(o=(0,n("9wGTI").fg)("platform_tooltip_shortcuts_migration_1")?ee:void 0,S[78]=ee,S[79]=o):o=S[79],S[80]===Symbol.for("react.memo_cache_sentinel")?(l=e(r).createElement(e(n("1Zr9M")),{label:"",color:"var(--ds-icon-subtle, #505258)",spacing:(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")?"none":"spacious"}),S[80]=l):l=S[80],S[81]!==J||S[82]!==I?(c=J(I),S[81]=J,S[82]=I,S[83]=c):c=S[83],S[84]!==ei||S[85]!==f||S[86]!==X?(m=X?void 0:f.toUrl(ei),S[84]=ei,S[85]=f,S[86]=X,S[87]=m):m=S[87],S[88]!==k?(p=k.formatMessage(u.editLabel),S[88]=k,S[89]=p):p=S[89],S[90]!==k?(E=(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")&&e(r).createElement(n("iXCQx").default,{color:"color.text.subtle",align:"center",weight:"medium","data-vc":"edit-button-text"},k.formatMessage(u.editText)),S[90]=k,S[91]=E):E=S[91],S[92]!==eo||S[93]!==c||S[94]!==m||S[95]!==p||S[96]!==E?(b=e(r).createElement(s,{appearance:"subtle",iconBefore:l,ref:F,onClick:c,href:m,"data-test-id":eo,id:"editPageLink","aria-label":p},E),S[92]=eo,S[93]=c,S[94]=m,S[95]=p,S[96]=E,S[97]=b):b=S[97],S[98]!==o||S[99]!==b?(_=e(r).createElement(n("3gadb").default,{tag:"span",content:i,shortcut:o},b),S[98]=o,S[99]=b,S[100]=_):_=S[100];let h=_;if(Z){let t;S[101]===Symbol.for("react.memo_cache_sentinel")?(t=e(r).createElement(n("9hlns").default,{interactionName:(0,n("9wGTI").fg)("ufo-manual-experimental-holds-confluence")?"edit-content-button-preloader":void 0,size:"small",testId:"edit-content-button-preloader"}),S[101]=t):t=S[101],C=t;break e}{let t,a,i,o;S[102]===Symbol.for("react.memo_cache_sentinel")?(t=e(r).createElement(d.GeneralShortcutListener,{accelerator:n("gnkil").EDIT_SHORTCUT,listener:el}),S[102]=t):t=S[102],S[103]!==R?(a=R(),S[103]=R,S[104]=a):a=S[104];let l=T&&y.get("isEnabled",!1)?e(r).createElement(n("lGgRw").default,{isOpen:j,onClose:()=>G(!1),placement:"bottom-start",content:()=>e(r).createElement(n("emYzJ").EditPopupEligibleMigration,{onClickEdit:ed,contentId:M,href:X?void 0:f.toUrl(ei),contentHash:"",contentType:D,spaceKey:v}),offset:[-34,8],trigger:t=>{let{ref:a}=t;return e(r).createElement(n("gdv5Z").default,{ref:a},h)},shouldRenderToParent:(0,n("9wGTI").fg)("should-render-to-parent-should-be-trueenterprise-e")}):e(r).createElement(n("gdv5Z").default,null,h);S[105]===Symbol.for("react.memo_cache_sentinel")?(i=e(r).createElement(n("1eaCJ").ExperienceSuccess,{name:n("irVI7").VIEW_PAGE_EDIT_BUTTON_EXPERIENCE}),S[105]=i):i=S[105],S[106]!==M||S[107]!==x||S[108]!==w||S[109]!==v||S[110]!==a||S[111]!==l?(o=e(r).createElement(n("sD2Tz").EditContentButtonPreloader,{key:M,contentId:M,spaceKey:v,isEmbeddedEditor:x,editSource:w},t,a,l,i),S[106]=M,S[107]=x,S[108]=w,S[109]=v,S[110]=a,S[111]=l,S[112]=o):o=S[112],C=o;break e}}S[47]=M,S[48]=D,S[49]=eo,S[50]=ee,S[51]=J,S[52]=Y,S[53]=em,S[54]=k,S[55]=x,S[56]=Z,S[57]=O,S[58]=j,S[59]=ei,S[60]=w,S[61]=ed,S[62]=R,S[63]=f,S[64]=er,S[65]=X,S[66]=v,S[67]=C}else C=S[67];if(C!==Symbol.for("react.early_return_sentinel"))return C}:({contentId:t,contentType:a,intl:i,isEmbeddedContent:o=!1,isFabricSupported:p,onRender:E=m,spaceKey:g,migrateEPData:f,isCompanyHubButton:b=!1})=>{let _,y=(0,r.useRef)(null),[T,I]=(0,r.useState)(""),[h,C]=(0,r.useState)(!1),{loadEditor:S}=(0,n("39rFu").useEditPageLoadingActions)(),{setEditSource:M}=(0,n("4ri4I").useEditSourceActions)(),D=(0,r.useContext)(n("7zgzO").RoutesContext),[{searchSessionId:k,additionalAnalytics:N}]=(0,n("hl1Kw").useSearchSessionId)(),{match:O}=D,{routePolicy:L}=(0,n("4o1RV").useNavigationPolicy)(),{enforceStorageLimit:v,shouldBlockCreate:P}=(0,n("lqy4C").useHardStorageEnforcement)({source:"page-tree-quick-action-edit"}),{fabricEditorEligibility:A,isFabricEligibilityLoading:x}=(0,n("ca2z9").useFabricEligibilityMigrationQuery)({contentId:t,isFabricSupported:p}),R=(0,n("4tOXV").useShortcutStrings)({shortcut:n("gnkil").EDIT_SHORTCUT}),B=O?.name,F="blogpost"===a,w=(0,r.useMemo)(()=>({contentId:t,spaceKey:g,contentType:F?"blog":"pages"}),[t,g,F]),U=p?"fabric-edit-button":void 0,j=(0,n("70LTe").useEmbeddedConfluenceEventMarkers)();_=o&&!F?n("1NBp8").EDIT_PAGE_EMBED:b?n("1NBp8").COMPANY_HUB_EDIT:p?F?n("1NBp8").EDIT_BLOG_V2:n("1NBp8").EDIT_PAGE_V2:F?n("1NBp8").EDIT_BLOG:n("1NBp8").EDIT_PAGE,(0,r.useEffect)(()=>{let e=n("7NoF3").PAGE_EDIT_BUTTON_CLICK;F&&(e=n("7NoF3").BLOG_EDIT_BUTTON_CLICK),B===n("1NBp8").SPACE_OVERVIEW.name&&(e=n("7NoF3").SPACE_EDIT_BUTTON_CLICK),M(e),I(e)},[F,M,B,I]);let G=(0,r.useCallback)(()=>y&&e(l).findDOMNode(y.current)?.click(),[]),H=(0,r.useCallback)(e=>{if(!e){let e=n("7NoF3").PAGE_EDIT_SHORTCUT_E;F&&(e=n("7NoF3").BLOG_EDIT_SHORTCUT_E),B===n("1NBp8").SPACE_OVERVIEW.name&&(e=n("7NoF3").SPACE_EDIT_SHORTCUT_E),M(e),I(e)}n("iFjdQ").ExperienceActionMeasures.markMeasureStart(n("5q601").EDIT_INTENT_EDIT_FMP_ACTION),n("iFjdQ").ExperienceActionMeasures.markMeasureStart(n("5q601").EDIT_INTENT_EDIT_TTI_ACTION),n("iFjdQ").ExperienceActionMeasures.markMeasureEnd(n("5q601").VIEW_EDIT_BUTTON_CLICKED_ACTION),n("iFjdQ").ExperienceActionMeasures.markMeasureStart(n("5q601").EDIT_ROUTE_CHANGE_ACTION)},[F,B,M,I]),V=(0,r.useCallback)(e=>{H(e.isTrusted),(0,n("74Lca").rememberScrolledPosition)(t);let i=(0,n("dHSeC").getSpaTransitionDetails)(e,D),r=L&&!L.willPushInSelf(B,t,_.name,t);!F&&f&&r&&(e.preventDefault(),f(()=>{D.push(n("1NBp8").EDIT_PAGE_EMBED.toUrl(w))},()=>{D.push(_.toUrl(w))})),i?.href&&!r&&(e.preventDefault(),e.stopPropagation(),e.isTrusted||D.preloadRoute(i.href),S({contentId:t,spaceKey:g,redirectUrl:i.href,contentType:a,isFabricSupported:p,isEmbeddedContent:o}))},[H,t,D,L,B,_,F,f,w,S,g,a,p,o]),K=(0,n("de2j9").useIsEditorPage)(),Q=O?.query?.mode,q=(0,r.useCallback)((e,n)=>{n.update({data:{action:"clicked",actionSubject:"editButton",attributes:{componentVersion:"v2",contentType:a,contentId:t,isFabricSupported:p,navdexPointType:c.END,searchSessionId:k,...N,mode:Q,isOnEditRoute:K},source:e.isTrusted?"editContentButton":"editShortcut"},type:"sendTrackEvent"}).fire()},[a,t,p,k,Q,K,N]),[z]=(0,n("6mKj3").UNSAFE_noExposureExp)("platform_editor_on_edit_convert"),W=!p&&"string"==typeof A&&["SUPPORTED","SUPPORTED_WITH_MIGRATION"].includes(A),$=(0,r.useCallback)((e,t)=>{if(W&&(0,n("6mKj3").expValEquals)("platform_editor_on_edit_convert","isEnabled",!0))e.preventDefault(),C(e=>!e),q(e,t);else{if(o){let e=(0,n("gzdsP").getIframeObservable_DO_NOT_USE)(),t=e?.object?.uniqueKey;j({timestamp:Date.now(),...t&&(0,n("9wGTI").fg)("platform_deprecate_lp_cc_embed")?{customData:{uniqueKey:t}}:{}},`${n("4icDV").EMBEDDED_CONFLUENCE_METRICS_PREFIX}${n("4icDV").EMBEDDED_EDIT_CLICK}`)}q(e,t),V(e)}},[W,q,V,o,j]),J=e(r).createElement(n("3gadb").default,{tag:"span",content:(0,n("9wGTI").fg)("platform_tooltip_shortcuts_migration_1")?e(r).createElement(n("gtD4K").default,{id:"edit-button.tooltip",defaultMessage:"Edit"}):e(r).createElement(n("4tOXV").ShortcutVisualizer,{shortcut:n("gnkil").EDIT_SHORTCUT,contentBefore:e(r).createElement(n("gtD4K").default,{id:"edit-button.tooltip",defaultMessage:"Edit"}),isTooltip:!0}),shortcut:(0,n("9wGTI").fg)("platform_tooltip_shortcuts_migration_1")?R:void 0},e(r).createElement(s,{appearance:"subtle",iconBefore:e(r).createElement(e(n("1Zr9M")),{label:"",color:"var(--ds-icon-subtle, #505258)",spacing:(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")?"none":"spacious"}),ref:y,onClick:v($),href:P?void 0:_.toUrl(w),"data-test-id":U,id:"editPageLink","aria-label":i.formatMessage(u.editLabel)},(0,n("9wGTI").fg)("confluence_frontend_content_wrapper")&&e(r).createElement(n("iXCQx").default,{color:"color.text.subtle",align:"center",weight:"medium","data-vc":"edit-button-text"},i.formatMessage(u.editText))));return x?e(r).createElement(n("9hlns").default,{interactionName:(0,n("9wGTI").fg)("ufo-manual-experimental-holds-confluence")?"edit-content-button-preloader":void 0,size:"small",testId:"edit-content-button-preloader"}):e(r).createElement(n("sD2Tz").EditContentButtonPreloader,{key:t,contentId:t,spaceKey:g,isEmbeddedEditor:o,editSource:T},e(r).createElement(d.GeneralShortcutListener,{accelerator:n("gnkil").EDIT_SHORTCUT,listener:G}),E(),W&&z.get("isEnabled",!1)?e(r).createElement(n("lGgRw").default,{isOpen:h,onClose:()=>C(!1),placement:"bottom-start",content:()=>e(r).createElement(n("emYzJ").EditPopupEligibleMigration,{onClickEdit:V,contentId:t,href:P?void 0:_.toUrl(w),contentHash:"",contentType:a,spaceKey:g}),offset:[-34,8],trigger:({ref:t})=>e(r).createElement(n("gdv5Z").default,{ref:t},J),shouldRenderToParent:(0,n("9wGTI").fg)("should-render-to-parent-should-be-trueenterprise-e")}):e(r).createElement(n("gdv5Z").default,null,J),e(r).createElement(n("1eaCJ").ExperienceSuccess,{name:n("irVI7").VIEW_PAGE_EDIT_BUTTON_EXPERIENCE}))}),E=(0,n("gmMgo").default)(p);function g(e){return!e}E.propTypes={contentId:e(n("4xcIM")).string.isRequired,onRender:e(n("4xcIM")).func,isCompanyHubButton:e(n("4xcIM")).bool,isEmbeddedContent:e(n("4xcIM")).bool,isFabricSupported:e(n("4xcIM")).bool},t.exports.EditContentButtonComponent=E}),a("74Lca",function(e,t){e.exports.rememberScrolledPosition=e=>{let t=(0,n("1dnxO").getIsNav4Enabled)()&&document?.getElementById(n("51ADl").NAV_4_MAIN_CONTENT_ID)||document.documentElement,a=document.getElementById(n("dpqzw").FABRIC_PAGE_CONTENT_ID);a&&(t.scrollTop/t.clientHeight<.25||(0,n("b1pBe").getClosestScrolledElementIndex)(t,a,e))}}),a("51ADl",function(e,t){e.exports.NAV_4_MAIN_CONTENT_ID="AkMainContent"}),a("b1pBe",function(e,t){e.exports.getClosestScrolledElementIndex=(e,t,a)=>{if(!t)return;let i=t.querySelector(n("dpqzw").RENDERED_CONTENT_SELECTOR)?.children||[],o=-1;if(i.length>0){let n=Array.from(i),a=e.scrollTop-t.offsetTop;n.reduce((e,t,n)=>Math.abs(a-t.offsetTop)<Math.abs(a-e.offsetTop)?(o=n,t):e)}n("17wUi").confluenceLocalStorageInstance.setItem(n("1UApO").keys.LOCAL_STORAGE_CONTENT_VIEW_CLOSEST_ELEMENT_SCROLL_POSITION,{index:o,contentId:a})}}),a("emYzJ",function(t,a){var i=n("42omo");let o=(0,n("cgtv4").defineMessages)({elligibleMigrationModalTitle:{id:"fabric-page-optin-migration.elligible-migration-modal.title",defaultMessage:"Time to convert your page"},elligibleMigrationModalDescription:{id:"fabric-page-optin-migration.elligible-migration-modal.description",defaultMessage:"This page is compatible with the cloud editor. The legacy editor will be phased out soon, find out more in the <link>announcement</link>."},elligibleMigrationModalUpdateButton:{id:"fabric-page-optin-migration.elligible-migration-modal.update-button",defaultMessage:"Convert page"},elligibleMigrationModalCancelButton:{id:"fabric-page-optin-migration.elligible-migration-modal.cancel-button",defaultMessage:"Not now"},elligibleMigrationModalUnsupported:{id:"fabric-page-optin-migration.elligible-migration-modal.unsupported",defaultMessage:"This page cannot be converted"}}),r=(0,n("ecnYn").xcss)({paddingTop:"space.200",paddingBottom:"space.200",paddingLeft:"space.300",paddingRight:"space.300",font:'var(--ds-font-body-small, normal 400 11px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, "Helvetica Neue", sans-serif)'}),l=(0,n("ecnYn").xcss)({marginTop:"space.200"}),c=(0,n("ecnYn").xcss)({display:"flex",justifyContent:"flex-end",gap:"space.200"}),d=(0,n("ecnYn").xcss)({width:"297px"});t.exports.EditPopupEligibleMigration=({onClickEdit:t,contentId:a,href:s,contentHash:u,contentType:m,spaceKey:p})=>{let[E,g]=e(i).useState({...o.elligibleMigrationModalDescription}),{createAnalyticsEvent:f}=(0,n("inPa6").useAnalyticsEvents)(),[b]=(0,n("emb8c").useExperimentalMigratePagesMutation)(),{push:_}=(0,n("dPJCf").useRouteActions)(),{isLoggedIn:y}=(0,n("bQm3c").useSessionData)();(0,i.useEffect)(()=>{f({type:"sendScreenEvent",data:{name:"eligibleMigrationModal"}}).fire()},[f]);let T=e(i).useCallback(async e=>{e.preventDefault(),f({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"eligibleMigrationModalConvertButton",source:"editPopupEligibleMigration"}}).fire();let t=await b({variables:{contentId:a,contentHash:u}}),i=(0,n("briGH").getStatusFromResponse)(t);"200"===i||"204"===i?(_("page"===m?n("1NBp8").EDIT_PAGE_V2.toUrl({contentType:"pages",spaceKey:p,contentId:a}):n("1NBp8").EDIT_BLOG_V2.toUrl({contentType:"blog",spaceKey:p,contentId:a})),n("17wUi").confluenceLocalStorageInstance.setItem(n("1UApO").keys.PAGE_JUST_CONVERTED,a)):(g(o.elligibleMigrationModalUnsupported),t&&"errors"in t&&t.errors&&(0,n("7Sm4c").markErrorAsHandled)(t.errors))},[f,b,a,u,m,p,_]);return y&&s?e(i).createElement(n("6f0Oj").default,{xcss:r},e(i).createElement(n("6f0Oj").default,{xcss:d},e(i).createElement(n("gtD4K").default,{tagName:"h3",...o.elligibleMigrationModalTitle}),e(i).createElement(n("6f0Oj").default,{xcss:l,role:"status","aria-live":"polite","aria-atomic":"true"},e(i).createElement(n("gtD4K").default,{...E,tagName:"p",values:{b:t=>e(i).createElement("b",null,t),link:t=>e(i).createElement(n("fpGTa").default,{href:"https://community.atlassian.com/forums/Confluence-articles/The-Legacy-Editor-is-being-deprecated-in-Confluence-Cloud-Here-s/ba-p/3046832",target:"_blank",rel:"noopener noreferrer"},t)}})),e(i).createElement(n("6f0Oj").default,{xcss:l},e(i).createElement(n("6f0Oj").default,{xcss:c},e(i).createElement(n("7p4As").default,{appearance:"subtle",href:s,onClick:t},e(i).createElement(n("gtD4K").default,o.elligibleMigrationModalCancelButton)),e(i).createElement(n("ccHMk").default,{appearance:"primary",onClick:T},e(i).createElement(n("gtD4K").default,o.elligibleMigrationModalUpdateButton)))))):null}}),a("briGH",function(e,t){let a=[409,412],i=e=>e?.data?.experimentalMigratePages?.status,o=(0,n("7W8i8").getLogger)("PageMigration"),r=(e,t,n=3,l=1e3,c=[])=>new Promise((d,s)=>e().then(u=>{t(u).then(u=>{let m=i(u);setTimeout(()=>{if(1===n){let e="Number of retrying attempt reach maximum number of retries";return o.debug`${e}`,s(e,c)}if(-1===a.indexOf(Number.parseInt(m)))return d(u,c);c.push(Number.parseInt(m)),r(e,t,n-1,l,c).then(d,s)},l)}).catch(e=>s(e,c))}));e.exports.getStatusFromResponse=i,e.exports.retry=r}),a("emb8c",function(e,t){e.exports.useExperimentalMigratePagesMutation=({onCompleted:e,onError:t}={})=>(0,n("9o40q").useExperimentalMutation)({url:({contentId:e,contentHash:t})=>`/wiki/rest/api/content/${e}/convert?hash=${t}`,method:"PUT",headers:{"Content-Type":n("aBfpe").MediaType.JSON,"X-Requested-With":"XMLHttpRequest"},parseResult:e=>({experimentalMigratePages:{status:String(e.status)}}),parseResponseOnSuccess:async e=>({status:e.status}),parseResponseOnError:async e=>{if(n("hBkCm").BadStatusError.isBadStatusError(e))return{status:e.response.status};throw e},onCompleted:e,onError:t})}),a("ca2z9",function(e,t){var a=n("3u0dr"),i=n("frIzR"),o=n("42omo");let r=n("2HZwz").default,l=(0,a.isReactCompilerActiveV1)()?e=>{let t,a,l,c,d,s=(0,i.c)(16),{contentId:u,isFabricSupported:m}=e,{createAnalyticsEvent:p}=(0,n("inPa6").useAnalyticsEvents)(),E=!1===m;s[0]!==u?(t={fetchPolicy:(0,n("6mKj3").expVal)("confluence_fabric_eligibility_query_cachefirst","isEnabled",!1)?"cache-first":"cache-and-network",variables:{contentId:u}},s[0]=u,s[1]=t):t=s[1];let{data:g,error:f,loading:b}=(0,n("jMyy4").useQueryInterop)(r,t);s[2]!==u||s[3]!==p?(a=e=>{let{reason:t}=e;p({type:"sendOperationalEvent",data:{action:"failed",actionSubject:"fabricEditorEligibilityQuery",attributes:{contentId:u,reason:t},source:"editContentButton"}}).fire()},s[2]=u,s[3]=p,s[4]=a):a=s[4];let _=a;s[5]!==f||s[6]!==_?(l=()=>{f&&_({reason:"APOLLO_ERROR"})},c=[f,_],s[5]=f,s[6]=_,s[7]=l,s[8]=c):(l=s[7],c=s[8]),(0,o.useEffect)(l,c);e:{let e;if(!E){let e;s[9]===Symbol.for("react.memo_cache_sentinel")?(e={fabricEditorEligibility:null,contentHash:null,isFabricEligibilityLoading:!1},s[9]=e):e=s[9],d=e;break e}if(!g&&E){let e;s[10]===Symbol.for("react.memo_cache_sentinel")?(e={isFabricEligibilityLoading:!0,fabricEditorEligibility:null,contentHash:null},s[10]=e):e=s[10],d=e;break e}if(!g&&b){let e;s[11]===Symbol.for("react.memo_cache_sentinel")?(e={isFabricEligibilityLoading:!0,fabricEditorEligibility:null,contentHash:null},s[11]=e):e=s[11],d=e;break e}if(g){let e,t=g?.content?.nodes?.[0]?.metadata?.frontend,n=t?.fabricEditorEligibility,a=t?.contentHash;s[12]!==a||s[13]!==n?(e={fabricEditorEligibility:n,contentHash:a,isFabricEligibilityLoading:!1},s[12]=a,s[13]=n,s[14]=e):e=s[14],d=e;break e}s[15]===Symbol.for("react.memo_cache_sentinel")?(e={fabricEditorEligibility:null,contentHash:null,isFabricEligibilityLoading:!1},s[15]=e):e=s[15],d=e}return d}:({contentId:e,isFabricSupported:t})=>{let{createAnalyticsEvent:a}=(0,n("inPa6").useAnalyticsEvents)(),i=!1===t,{data:l,error:c,loading:d}=(0,n("jMyy4").useQueryInterop)(r,{fetchPolicy:(0,n("6mKj3").expVal)("confluence_fabric_eligibility_query_cachefirst","isEnabled",!1)?"cache-first":"cache-and-network",variables:{contentId:e}}),s=(0,o.useCallback)(({reason:t})=>{a({type:"sendOperationalEvent",data:{action:"failed",actionSubject:"fabricEditorEligibilityQuery",attributes:{contentId:e,reason:t},source:"editContentButton"}}).fire()},[e,a]);return(0,o.useEffect)(()=>{c&&s({reason:"APOLLO_ERROR"})},[c,s]),(0,o.useMemo)(()=>{if(!i)return{fabricEditorEligibility:null,contentHash:null,isFabricEligibilityLoading:!1};if(!l&&i||!l&&d)return{isFabricEligibilityLoading:!0,fabricEditorEligibility:null,contentHash:null};if(l){let e=l?.content?.nodes?.[0]?.metadata?.frontend;return{fabricEditorEligibility:e?.fabricEditorEligibility,contentHash:e?.contentHash,isFabricEligibilityLoading:!1}}return{fabricEditorEligibility:null,contentHash:null,isFabricEligibilityLoading:!1}},[l,d,i])};e.exports.useFabricEligibilityMigrationQuery=l}),a("2HZwz",function(e,t){var n,a;let i={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"contentId"}],kind:"Fragment",name:"useFabricEligibilityMigrationQuery",selections:a=[{args:[{kind:"Variable",name:"id",variableName:"contentId"}],concreteType:"PaginatedContentListWithChild",kind:"LinkedField",name:"content",plural:!1,selections:[{concreteType:"Content",kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"ScalarField",name:"id"},{concreteType:"ContentMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{concreteType:"ContentMetadata_SpaFriendlyMetadataProvider_frontend",kind:"LinkedField",name:"frontend",plural:!1,selections:[{kind:"ScalarField",name:"fabricEditorEligibility"},{kind:"ScalarField",name:"contentHash"}]}]}]}]}],type:"Query"},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"useFabricEligibilityMigrationQuery",selections:a},params:{cacheID:"ec4bb4fc4b91bdd22636b8cd5a8459f5",id:"1b983ca5b9bb7742a71d4d350f250a5524ffb46863ceb1b44624ac1b612ac288",metadata:{},name:"useFabricEligibilityMigrationQuery",operationKind:"query",text:"query useFabricEligibilityMigrationQuery($contentId:ID!){content(id:$contentId){nodes{id,metadata{frontend{fabricEditorEligibility,contentHash}}}}}"}};i.hash="204d8fbd9ab341cec958fee25e721167",e.exports.default=i}),a("7mHcA",function(e,t){var a=n("3u0dr"),i=n("frIzR"),o=n("j1Ss3");let r=()=>{},l=()=>{},c=(0,a.isReactCompilerActiveV1)()?(e,t)=>{let a,c,u,m,p,E,g,f,b,_,y,T,I=(0,i.c)(29),{createAnalyticsEvent:h}=(0,n("inPa6").useAnalyticsEvents)();I[0]!==e||I[1]!==h?(a=t=>{let{action:n,actionSubjectId:a,withMigration:i,error:o}=t;return h({type:"sendOperationalEvent",data:{action:n,actionSubject:"ncsMigrationQuery",actionSubjectId:a,source:"embeddedPageViewScreen",object:{id:e,type:"page"},attributes:{withMigration:i,error:o}}}).fire()},I[0]=e,I[1]=h,I[2]=a):a=I[2];let C=a;I[3]===Symbol.for("react.memo_cache_sentinel")?(c=(0,n("eSUdr").default)`query useEmbeddedMigrationQueryEmbeddedWithMigrationQuery($contentId:ID!){content(id:$contentId){nodes{id type metadata{frontend{embeddedWithMigration}}}}}`,I[3]=c):c=I[3],I[4]!==e?(u={contentId:e},I[4]=e,I[5]=u):u=I[5],I[6]!==C?(m=e=>{e?.content?.nodes?.[0]?.metadata?.frontend?.embeddedWithMigration?C({action:"completed",actionSubjectId:"ncsMigrationOnLoad",withMigration:!0}):C({action:"completed",actionSubjectId:"ncsMigrationOnLoad",withMigration:!1})},p=e=>{C({action:"failed",actionSubjectId:"ncsMigrationOnLoad",error:e.message})},I[6]=C,I[7]=m,I[8]=p):(m=I[7],p=I[8]),I[9]!==t||I[10]!==u||I[11]!==m||I[12]!==p?(E={variables:u,fetchPolicy:"network-only",skip:t,onCompleted:m,onError:p},I[9]=t,I[10]=u,I[11]=m,I[12]=p,I[13]=E):E=I[13];let S=(0,o.useQuery)(c,E);I[14]===Symbol.for("react.memo_cache_sentinel")?(g=(0,n("eSUdr").default)`query useEmbeddedMigrationQueryEmbeddedWithMigrationQuery($contentId:ID!){content(id:$contentId){nodes{id type metadata{frontend{embeddedWithMigration}}}}}`,I[14]=g):g=I[14],I[15]!==e?(f={contentId:e},I[15]=e,I[16]=f):f=I[16],I[17]!==C?(b=e=>{C({action:"failed",actionSubjectId:"ncsMigrationOnEditClick",error:e?.message}),l(e)},I[17]=C,I[18]=b):b=I[18];let[M,D]=(0,o.useLazyQuery)(g,{variables:f,fetchPolicy:"network-only",onCompleted:e=>{e?.content?.nodes?.[0]?.metadata?.frontend?.embeddedWithMigration?(C({action:"completed",actionSubjectId:"ncsMigrationOnEditClick",withMigration:!0}),r(L)):(C({action:"completed",actionSubjectId:"ncsMigrationOnEditClick",withMigration:!1}),l())},onError:b}),{data:k,loading:N,error:O}=D,L=k;I[19]!==M?(_=(e,t)=>{r=void 0===e?d:e,l=void 0===t?s:t,M()},I[19]=M,I[20]=_):_=I[20];let v=_;return I[21]!==v||I[22]!==L||I[23]!==O||I[24]!==N?(y={migrateEPData:v,data:L,loading:N,error:O},I[21]=v,I[22]=L,I[23]=O,I[24]=N,I[25]=y):y=I[25],I[26]!==S||I[27]!==y?(T={epMigrationOnLoad:S,epMigrationOnClick:y},I[26]=S,I[27]=y,I[28]=T):T=I[28],T}:(e,t)=>{let{createAnalyticsEvent:a}=(0,n("inPa6").useAnalyticsEvents)(),i=({action:t,actionSubjectId:n,withMigration:i,error:o})=>a({type:"sendOperationalEvent",data:{action:t,actionSubject:"ncsMigrationQuery",actionSubjectId:n,source:"embeddedPageViewScreen",object:{id:e,type:"page"},attributes:{withMigration:i,error:o}}}).fire(),c=(0,o.useQuery)((0,n("eSUdr").default)`query useEmbeddedMigrationQueryEmbeddedWithMigrationQuery($contentId:ID!){content(id:$contentId){nodes{id type metadata{frontend{embeddedWithMigration}}}}}`,{variables:{contentId:e},fetchPolicy:"network-only",skip:t,onCompleted:e=>{e?.content?.nodes?.[0]?.metadata?.frontend?.embeddedWithMigration?i({action:"completed",actionSubjectId:"ncsMigrationOnLoad",withMigration:!0}):i({action:"completed",actionSubjectId:"ncsMigrationOnLoad",withMigration:!1})},onError:e=>{i({action:"failed",actionSubjectId:"ncsMigrationOnLoad",error:e.message})}}),[d,{data:s,loading:u,error:m}]=(0,o.useLazyQuery)((0,n("eSUdr").default)`query useEmbeddedMigrationQueryEmbeddedWithMigrationQuery($contentId:ID!){content(id:$contentId){nodes{id type metadata{frontend{embeddedWithMigration}}}}}`,{variables:{contentId:e},fetchPolicy:"network-only",onCompleted:e=>{e?.content?.nodes?.[0]?.metadata?.frontend?.embeddedWithMigration?(i({action:"completed",actionSubjectId:"ncsMigrationOnEditClick",withMigration:!0}),r(s)):(i({action:"completed",actionSubjectId:"ncsMigrationOnEditClick",withMigration:!1}),l())},onError:e=>{i({action:"failed",actionSubjectId:"ncsMigrationOnEditClick",error:e?.message}),l(e)}});return{epMigrationOnLoad:c,epMigrationOnClick:{migrateEPData:(e=()=>{},t=()=>{})=>{r=e,l=t,d()},data:s,loading:u,error:m}}};function d(){}function s(){}e.exports.useEmbeddedMigrationQuery=c}),a("frvUM",function(e,t){let a=(0,n("jmjWc").LoadablePaint)({__loadable_id__:"3cAEv",name:"ContentTools",loader:async()=>(await n("kYPoN")).ContentTools});e.exports.ContentTools=a}),a("kYPoN",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("3VLKz"),a("eDAc5"),a("4Lgj0"),a("kSJiq"),a("ZZR2T"),a("6wr18"),a("8ADTD"),a("jdHbV"),a("4XFRu"),a("coJiW"),a("h4Nf7"),a("4t77a"),a("fD0v8"),a("6XCf4"),a("lXGg9"),a("hy3sK"),a("5pvpJ"),a("hRUX7"),a("g4oYs"),a("Wowvf"),a("1qlDN"),a("1yVM6"),a("awqCy"),a("fZt2F"),a("bzc8Q"),a("kyfJT"),a("ffEVr"),a("kUbUu"),a("7EorR"),a("9ftJe"),a("gYfgO"),a("dLx08"),a("hhss7"),a("hWs86")]).then(()=>n("bTUBB"))}),a("8HdsQ",function(t,a){var i=n("42omo"),o=n("h0mTL"),r=n("jIlrR");let l=()=>{},c=(0,i.memo)(({contentId:t,isCommentButtonSSRd:a=!1})=>{let{data:c,error:d}=(0,n("lF24E").usePreloadCommentButton)(t,a),s=c?.commentData?.content?.nodes?.[0],u=(0,n("9wGTI").fg)("confluence_comment_use_metadata")?s?.metadata?.frontend?.fabricEditorSupported??!1:s?.properties?.nodes?.[0]?.value==='"v2"'||s?.properties?.nodes?.[0]?.value==="v2",[m,p]=(0,i.useState)(!1),E=!!(c?.commentData&&!d);return m||d?e(i).createElement(e(i).Fragment,null,e(i).createElement(o.CommentButtonLazy,{contentId:t,isDataLoaded:E,isFabricPage:u})):e(i).createElement(e(i).Fragment,null,e(i).createElement(r.CommentButtonPlaceholder,{isDisabled:!E&&!a,handleCommentButtonClick:E||a?()=>{p(!0)}:l,contentId:t}))});t.exports.CommentButtonWrapper=c}),a("h0mTL",function(t,a){var i=n("42omo"),o=n("jIlrR");let r=(0,n("jmjWc").LoadableLazy)({__loadable_id__:"pHrwQ",name:"CommentButtonLazy",loader:async()=>(await n("aTHBW")).CommentButton,loading:({isDataLoaded:t})=>e(i).createElement(o.CommentButtonPlaceholder,{isDisabled:!t})});t.exports.CommentButtonLazy=r}),a("aTHBW",function(e,t){let a=n("4mJKd")(5);e.exports=Promise.all([a("9jS5g"),a("i1fe2")]).then(()=>n("32Ecy"))}),a("lF24E",function(e,t){let a=n("6nmm4").default;e.exports.usePreloadCommentButton=(e,t)=>{let{data:i,error:o}=(0,n("jMyy4").useQueryInterop)(a,{fetchPolicy:t?"cache-first":"cache-and-network",variables:{pageId:e}});return{data:{commentData:i},error:o}}});
//# sourceMappingURL=MainButtons.4de73fcf.js.map
