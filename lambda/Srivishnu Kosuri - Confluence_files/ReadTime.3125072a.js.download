function e(e){return e&&e.__esModule?e.default:e}var t=globalThis.parcelRequired477,a=t.register;a("cbZqw",function(a,n){var r=t("3u0dr"),o=t("frIzR"),i=t("42omo"),s=t("awd1Q"),d=t("7d2Nc");let l=(0,t("lSOAM").createPageSegmentLoadMetric)({key:t("jX1qB").READ_TIME_SEGMENT_KEY});var c=t("jSnXV"),u=t("b3j2Y"),m=t("b8XTE");let p=(0,t("cgtv4").defineMessages)({abbreviatedReadTime:{id:"read-time.by-line.abbreviated-estimated-read-time",defaultMessage:"{readTime} min"},readTime:{id:"read-time.by-line.estimated-read-time",defaultMessage:"{readTime} min read"},iconLabel:{id:"read-time.by-line.icon-label",defaultMessage:"Read time"},tooltipDescription:{id:"read-time.tooltip-description",defaultMessage:"Estimated read time"},wordCount:{id:"read-time.word-count",defaultMessage:"{wordCount} {wordCount, plural, one {word} other {words}}"}}),f=(0,t("ecnYn").xcss)({display:"flex",alignItems:"center",gap:"space.050",width:"max-content",height:"24px"}),E=(0,t("ecnYn").xcss)({display:"inline-flex"}),g=(0,t("ecnYn").xcss)({font:"font.body",":hover":{textDecoration:"underline"}}),b=(0,r.isReactCompilerActiveV1)()?function(a){let n,r,s,d,c,u,b,C=(0,o.c)(21),{pageId:_,readTime:v,isAbbreviatedReadTime:T,isInEditor:I,isDetailsPanel:x,wordCount:h,showWordCount:w}=a,y=(0,t("luv00").useSSRPlaceholderReplaceIdProp)(),{createAnalyticsEvent:R}=(0,t("inPa6").useAnalyticsEvents)(),{formatMessage:D}=(0,t("8C5kA").default)(),S=T??(0,t("9wGTI").fg)("cc_page_experiences_new_editor_byline");C[0]!==R||C[1]!==I?(n=()=>{R({type:"sendUIEvent",data:{source:"page",action:"displayed",actionSubject:"tooltip",actionSubjectId:"estimatedReadTime",attributes:{isInEditor:!!I}}}).fire()},C[0]=R,C[1]=I,C[2]=n):n=C[2];let P=n;C[3]!==R||C[4]!==I||C[5]!==_||C[6]!==v?(r=()=>{v&&R({type:"sendTrackEvent",data:{source:"confluence-frontend",action:"displayed",actionSubject:"readTime",actionSubjectId:_,attributes:{readTime:v,isInEditor:!!I}}}).fire()},s=[_,v,R,I],C[3]=R,C[4]=I,C[5]=_,C[6]=v,C[7]=r,C[8]=s):(r=C[7],s=C[8]),(0,i.useEffect)(r,s);let A=S?p.abbreviatedReadTime:p.readTime;C[9]===Symbol.for("react.memo_cache_sentinel")?(d={display:"inline-flex"},C[9]=d):d=C[9],C[10]!==D||C[11]!==x||C[12]!==w||C[13]!==h?(c=w&&null!=h&&e(i).createElement(t("6f0Oj").default,{xcss:[x&&g]},D(p.wordCount,{wordCount:h})),C[10]=D,C[11]=x,C[12]=w,C[13]=h,C[14]=c):c=C[14];let M=!!v&&e(i).createElement("span",{className:(0,t("gMc0m").default)([!S&&"_tw171r31 _135cglyw _1p5wnqa1 _1kt91mp2 _cfu11o8l _is06azsu _p7f0u2gc",x?"_2hwxidpf _syazi7uo _1e0c1txw _4cvr1h6o _tw171r31 _135cglyw _1p5wnqa1 _1kt91mp2 _cfu11o8l _is06i7uo _p7f01b66 _syay1b66":"_2hwx1b66 _19bv12x7 _syazazsu",S&&"_2hwxze3t _19bv1b66 _u5f31b66 _80omtlke _4t3i1tcg _8vu412b0 _irr31dpa"])},e(i).createElement(t("3gadb").default,{tag:"span",content:e(i).createElement(t("gtD4K").default,p.tooltipDescription),onShow:P,hideTooltipOnClick:!0},e(i).createElement(t("6f0Oj").default,{xcss:[S?f:E,x&&g]},S&&e(i).createElement(e(t("x4n5k")),{label:D(p.iconLabel)}),e(i).createElement(t("gtD4K").default,{...A,values:{readTime:v}}))));return C[15]===Symbol.for("react.memo_cache_sentinel")?(u=e(i).createElement(m.PageSegmentLoadEnd,{metric:l}),C[15]=u):u=C[15],C[16]!==y||C[17]!==d||C[18]!==c||C[19]!==M?(b=e(i).createElement("div",{"data-vc":"read-time","data-testid":"read-time-component",...y,style:d},c,M,u),C[16]=y,C[17]=d,C[18]=c,C[19]=M,C[20]=b):b=C[20],b}:function({pageId:a,readTime:n,isAbbreviatedReadTime:r,isInEditor:o,isDetailsPanel:s,wordCount:d,showWordCount:c}){let u=(0,t("luv00").useSSRPlaceholderReplaceIdProp)(),{createAnalyticsEvent:b}=(0,t("inPa6").useAnalyticsEvents)(),{formatMessage:C}=(0,t("8C5kA").default)(),_=r??(0,t("9wGTI").fg)("cc_page_experiences_new_editor_byline"),v=(0,i.useCallback)(()=>{b({type:"sendUIEvent",data:{source:"page",action:"displayed",actionSubject:"tooltip",actionSubjectId:"estimatedReadTime",attributes:{isInEditor:!!o}}}).fire()},[b,o]);(0,i.useEffect)(()=>{n&&b({type:"sendTrackEvent",data:{source:"confluence-frontend",action:"displayed",actionSubject:"readTime",actionSubjectId:a,attributes:{readTime:n,isInEditor:!!o}}}).fire()},[a,n,b,o]);let T=_?p.abbreviatedReadTime:p.readTime;return e(i).createElement("div",{"data-vc":"read-time","data-testid":"read-time-component",...u,style:{display:"inline-flex"}},c&&null!=d&&e(i).createElement(t("6f0Oj").default,{xcss:[s&&g]},C(p.wordCount,{wordCount:d})),!!n&&e(i).createElement("span",{className:(0,t("gMc0m").default)([!_&&"_tw171r31 _135cglyw _1p5wnqa1 _1kt91mp2 _cfu11o8l _is06azsu _p7f0u2gc",s?"_2hwxidpf _syazi7uo _1e0c1txw _4cvr1h6o _tw171r31 _135cglyw _1p5wnqa1 _1kt91mp2 _cfu11o8l _is06i7uo _p7f01b66 _syay1b66":"_2hwx1b66 _19bv12x7 _syazazsu",_&&"_2hwxze3t _19bv1b66 _u5f31b66 _80omtlke _4t3i1tcg _8vu412b0 _irr31dpa"])},e(i).createElement(t("3gadb").default,{tag:"span",content:e(i).createElement(t("gtD4K").default,p.tooltipDescription),onShow:v,hideTooltipOnClick:!0},e(i).createElement(t("6f0Oj").default,{xcss:[_?f:E,s&&g]},_&&e(i).createElement(e(t("x4n5k")),{label:C(p.iconLabel)}),e(i).createElement(t("gtD4K").default,{...T,values:{readTime:n}})))),e(i).createElement(m.PageSegmentLoadEnd,{metric:l}))};var C=t("4PPzL");let _=(0,t("eSUdr").default)`query LoomVideoDurationsQuery($id:ID!){loom_videoDurations(id:$id){sourceDuration playableDuration}}`,v=({cloudId:e,activationId:t,videoId:a})=>`ari:cloud:loom:${e}:video/activation/${t}/${a}`,T=(0,r.isReactCompilerActiveV1)()?(e,a)=>{let n,r,s,d=(0,o.c)(9),[l,c]=(0,i.useState)(0),[u,m]=(0,i.useState)(!0),[p,f]=(0,i.useState)(null),E=(0,t("jRNsq").useMediaClient)();return d[0]!==a||d[1]!==E||d[2]!==e?(n=()=>{let t=!0;return(async()=>{if(!e.length){c(0),m(!1);return}m(!0);try{let n=await E.file.getVideoDurations(e.map(e=>({id:e,collectionName:a}))),r=Object.values(n).reduce(x,0);t&&c(1e3*r)}catch(e){t&&f(e instanceof Error?e:Error("Unknown error"))}t&&m(!1)})(),()=>{t=!1}},r=[E,e,a],d[0]=a,d[1]=E,d[2]=e,d[3]=n,d[4]=r):(n=d[3],r=d[4]),(0,i.useEffect)(n,r),d[5]!==p||d[6]!==u||d[7]!==l?(s={mediaVideoDurations:l,isLoadingMediaDurations:u,error:p},d[5]=p,d[6]=u,d[7]=l,d[8]=s):s=d[8],s}:(e,a)=>{let[n,r]=(0,i.useState)(0),[o,s]=(0,i.useState)(!0),[d,l]=(0,i.useState)(null),c=(0,t("jRNsq").useMediaClient)();return(0,i.useEffect)(()=>{let t=!0;return(async()=>{if(!e.length){r(0),s(!1);return}s(!0);try{let n=await c.file.getVideoDurations(e.map(e=>({id:e,collectionName:a}))),o=Object.values(n).reduce((e,t)=>e+t,0);t&&r(1e3*o)}catch(e){t&&l(e instanceof Error?e:Error("Unknown error"))}t&&s(!1)})(),()=>{t=!1}},[c,e,a]),{mediaVideoDurations:n,isLoadingMediaDurations:o,error:d}},I=e=>{let[a,n]=(0,i.useState)(0),[r,o]=(0,i.useState)(!1),[s,d]=(0,i.useState)(null),{cloudId:l,activationId:c}=(0,t("bQm3c").useSessionData)();return(0,i.useEffect)(()=>{let a=!0;return(async()=>{if(!e.length)return o(!1);o(!0),d(null);try{let r=(0,t("gKr8t").getAGGClient)(),i=0;for(let t of e){if(!a)break;let e=await r.query({query:_,variables:{id:v({cloudId:l,activationId:c,videoId:t.id})}});if(!a)break;e.data?.loom_videoDurations?.playableDuration&&(i+=e.data.loom_videoDurations.playableDuration)}a&&(n(1e3*i),o(!1))}catch(e){a&&(d(e instanceof Error?e:Error("Unknown error")),o(!1))}})(),()=>{a=!1}},[e,l,c]),{loomVideoDurations:a,isLoadingLoomDurations:r,error:s}};function x(e,t){return e+t}let h=(0,t("cgtv4").defineMessages)({readTime:{id:"read-time.read-time-popup",defaultMessage:"Read time break-down"},videos:{id:"read-time.read-time-popup-videos",defaultMessage:"Videos"},pageContent:{id:"read-time.read-time-popup-page-content",defaultMessage:"Page content"},expands:{id:"read-time.read-time-popup-expands",defaultMessage:"Expands"},expandTooltipDescription:{id:"read-time.read-time-popup-expand-tooltip-description",defaultMessage:"Loom videos and expands are excluded from read time estimates"},readTimeDisclaimer:{id:"read-time.read-time-popup-read-time-disclaimer",defaultMessage:"Not included in read time"}}),w=(0,t("ecnYn").xcss)({minWidth:"340px",position:"relative",backgroundColor:"elevation.surface.raised",border:"var(--ds-border-width, 1px) solid color.border",borderRadius:"radius.large",padding:"space.250"}),y=(0,t("ecnYn").xcss)({marginTop:"space.negative.050",marginBottom:"space.200"}),R=(0,t("ecnYn").xcss)({marginTop:"space.100",marginBottom:"space.100"}),D=(0,t("ecnYn").xcss)({marginBottom:"space.0"}),S=(0,t("ecnYn").xcss)({paddingBlockStart:"space.025",marginRight:"space.100"}),P=(0,t("ecnYn").xcss)({borderRadius:"radius.small",border:"var(--ds-border-width, 1px) solid var(--ds-border, #0B120E24)",width:"20px",height:"20px",marginLeft:"space.negative.025",marginRight:"space.075"}),A=(0,t("ecnYn").xcss)({borderBottom:"var(--ds-border-width, 1px) solid var(--ds-border, #0B120E24)",height:"1px",width:"135px"}),M=e=>{let t=Math.round(e/1e3),a=Math.floor(t/60),n=t%60;return 0===a?`${n} sec`:0===n?`${a} min`:`${a} min ${n} sec`},O=e=>{let t=Math.floor(e/60),a=Math.floor(e%60);return 0===t?`${a} sec`:0===a?`${t} min`:`${t} min ${a} sec`},k=({features:a,featuresSkipExpand:n,source:r,contentId:o=""})=>{let{createAnalyticsEvent:s}=(0,t("inPa6").useAnalyticsEvents)(),d=(0,i.useRef)(null),{getDwellTime:l}=(0,t("fXbFR").usePopupDwellTime)(d),{formatMessage:c}=(0,t("8C5kA").default)();if((0,i.useEffect)(()=>()=>{s({type:"sendTrackEvent",data:{action:"dwelled",actionSubject:"readTime",actionSubjectId:"readTimePopup",source:r,attributes:{dwellTime:l()}}}).fire()},[]),!a&&!n)return null;let u=0;a&&n&&a.wordCount!==n.wordCount&&(u=(a.wordCount-n.wordCount)/265*60);let m=(n?.wordCount||0)/265*60+(0,t("72md5").calculateImageReadTime)(n?.imageCount||0);return e(i).createElement(t("6f0Oj").default,{ref:d,testId:"read-time-popup"},e(i).createElement(t("1GzhS").default,{xcss:w},e(i).createElement(t("6f0Oj").default,{key:"readTime",xcss:[R,y]},e(i).createElement(t("dcJ7R").default,{alignBlock:"center",spread:"space-between"},e(i).createElement(t("7hXDW").default,{size:"medium"},e(i).createElement(t("gtD4K").default,h.readTime)))),e(i).createElement(t("6f0Oj").default,{key:"wordCountSkipExpand",xcss:R},e(i).createElement(t("dcJ7R").default,{alignBlock:"center",spread:"space-between"},e(i).createElement(t("dcJ7R").default,{alignBlock:"center"},e(i).createElement(t("6f0Oj").default,{xcss:S},e(i).createElement(e(t("6bJyJ")),{color:"var(--ds-text-subtle, #505258)",label:c(h.readTime)})),e(i).createElement(t("gtD4K").default,h.pageContent)),e(i).createElement(t("5dK2X").default,null,O(m)))),e(i).createElement(t("6f0Oj").default,{key:"readTimeDisclaimer",xcss:R},e(i).createElement(t("dcJ7R").default,{alignBlock:"center",spread:"space-between"},e(i).createElement(t("5dK2X").default,{color:"color.text.subtlest",size:"small"},e(i).createElement(t("gtD4K").default,h.readTimeDisclaimer)),e(i).createElement(t("6f0Oj").default,{xcss:A}))),e(i).createElement(t("6f0Oj").default,{key:"videoDuration",xcss:R},e(i).createElement(t("dcJ7R").default,{alignBlock:"center",spread:"space-between"},e(i).createElement(t("dcJ7R").default,{alignBlock:"center"},e(i).createElement(t("6f0Oj").default,{xcss:S},e(i).createElement(e(t("2Yaht")),{color:"var(--ds-text-subtle, #505258)",label:c(h.videos)})),e(i).createElement(t("gtD4K").default,h.videos)),e(i).createElement(L,{features:a,contentId:o}))),e(i).createElement(t("6f0Oj").default,{key:"expandsReadTime",xcss:[R,D]},e(i).createElement(t("dcJ7R").default,{alignBlock:"center",spread:"space-between"},e(i).createElement(t("dcJ7R").default,{alignBlock:"center"},e(i).createElement(t("bUlM5").default,{alignItems:"center",justifyContent:"center",xcss:P},e(i).createElement(e(t("6R5uz")),{color:"var(--ds-text-subtle, #505258)",label:c(h.expands),spacing:"spacious",size:"small"})),e(i).createElement(t("gtD4K").default,h.expands)),e(i).createElement(t("5dK2X").default,null,O(u)," ")))))},L=(0,r.isReactCompilerActiveV1)()?a=>{let n,r,s=(0,o.c)(12),{features:d,contentId:l}=a;s[0]!==d?.looms?(n=d?.looms||[],s[0]=d?.looms,s[1]=n):n=s[1];let{loomVideoDurations:c,isLoadingLoomDurations:u}=I(n);if(!(0,t("9wGTI").fg)("platform_media-cc-page-duration-integration")){let a,n;if(u){let t;return s[2]===Symbol.for("react.memo_cache_sentinel")?(t=e(i).createElement(j,null),s[2]=t):t=s[2],t}return s[3]!==c?(a=M(c),s[3]=c,s[4]=a):a=s[4],s[5]!==a?(n=e(i).createElement(t("5dK2X").default,null,a),s[5]=a,s[6]=n):n=s[6],n}return s[7]!==l||s[8]!==d||s[9]!==u||s[10]!==c?(r=e(i).createElement(K,{features:d,contentId:l,loomVideoDurations:c,isLoadingLoomDurations:u}),s[7]=l,s[8]=d,s[9]=u,s[10]=c,s[11]=r):r=s[11],r}:({features:a,contentId:n})=>{let{loomVideoDurations:r,isLoadingLoomDurations:o}=I(a?.looms||[]);return(0,t("9wGTI").fg)("platform_media-cc-page-duration-integration")?e(i).createElement(K,{features:a,contentId:n,loomVideoDurations:r,isLoadingLoomDurations:o}):o?e(i).createElement(j,null):e(i).createElement(t("5dK2X").default,null,M(r))},K=(0,r.isReactCompilerActiveV1)()?a=>{let n,r,s,d,l=(0,o.c)(14),{features:c,contentId:u,loomVideoDurations:m,isLoadingLoomDurations:p}=a,[f,E]=(0,i.useState)(null),{isExternalShareRequest:g}=(0,i.useContext)(t("gXrHX").ExternalShareContext),b=(0,t("cLo2u").useSpaceKey)();if(l[0]!==u||l[1]!==g||l[2]!==b?(n=()=>{u&&(0,t("4IoVL").createRendererMediaProvider)({contentId:u,mediaDspContentId:u,spaceKey:b,isExternalShare:g}).then(e=>{let{viewMediaClientConfig:t}=e;return E(t)}).catch(B)},r=[u,b,g],l[0]=u,l[1]=g,l[2]=b,l[3]=n,l[4]=r):(n=l[3],r=l[4]),(0,i.useEffect)(n,r),!f){let t;return l[5]===Symbol.for("react.memo_cache_sentinel")?(t=e(i).createElement(j,null),l[5]=t):t=l[5],t}return l[6]!==u||l[7]!==c||l[8]!==p||l[9]!==m?(s=e(i).createElement(N,{features:c,contentId:u,loomVideoDurations:m,isLoadingLoomDurations:p}),l[6]=u,l[7]=c,l[8]=p,l[9]=m,l[10]=s):s=l[10],l[11]!==f||l[12]!==s?(d=e(i).createElement(t("9k33u").MediaProvider,{mediaClientConfig:f},s),l[11]=f,l[12]=s,l[13]=d):d=l[13],d}:({features:a,contentId:n,loomVideoDurations:r,isLoadingLoomDurations:o})=>{let[s,d]=(0,i.useState)(null),{isExternalShareRequest:l}=(0,i.useContext)(t("gXrHX").ExternalShareContext),c=(0,t("cLo2u").useSpaceKey)();return((0,i.useEffect)(()=>{n&&(0,t("4IoVL").createRendererMediaProvider)({contentId:n,mediaDspContentId:n,spaceKey:c,isExternalShare:l}).then(({viewMediaClientConfig:e})=>d(e)).catch(()=>{})},[n,c,l]),s)?e(i).createElement(t("9k33u").MediaProvider,{mediaClientConfig:s},e(i).createElement(N,{features:a,contentId:n,loomVideoDurations:r,isLoadingLoomDurations:o})):e(i).createElement(j,null)},N=(0,r.isReactCompilerActiveV1)()?a=>{let n,r,s,d=(0,o.c)(11),{features:l,contentId:c,loomVideoDurations:u,isLoadingLoomDurations:m}=a;d[0]!==l?.mediaFiles?(n=l?.mediaFiles||[],d[0]=l?.mediaFiles,d[1]=n):n=d[1];let{mediaVideoDurations:p,isLoadingMediaDurations:f}=T(n,`contentId-${c}`);if(f||m){let t;return d[2]===Symbol.for("react.memo_cache_sentinel")?(t=e(i).createElement(j,null),d[2]=t):t=d[2],t}if((0,t("9wGTI").fg)("platform_media-cc-page-duration-integration")){let a,n,r=u+p;return d[3]!==r?(a=M(r),d[3]=r,d[4]=a):a=d[4],d[5]!==a?(n=e(i).createElement(t("5dK2X").default,null,a),d[5]=a,d[6]=n):n=d[6],n}return d[7]!==u?(r=M(u),d[7]=u,d[8]=r):r=d[8],d[9]!==r?(s=e(i).createElement(t("5dK2X").default,null,r),d[9]=r,d[10]=s):s=d[10],s}:({features:a,contentId:n,loomVideoDurations:r,isLoadingLoomDurations:o})=>{let{mediaVideoDurations:s,isLoadingMediaDurations:d}=T(a?.mediaFiles||[],`contentId-${n}`);return d||o?e(i).createElement(j,null):(0,t("9wGTI").fg)("platform_media-cc-page-duration-integration")?e(i).createElement(t("5dK2X").default,null,M(r+s)):e(i).createElement(t("5dK2X").default,null,M(r))},V=(0,r.isReactCompilerActiveV1)()?a=>{let n,r=(0,o.c)(2);return r[0]!==a?(n=e(i).createElement(C.ErrorBoundary,{attribution:t("3IBnw").Attribution.SMARTS},e(i).createElement(k,a)),r[0]=a,r[1]=n):n=r[1],n}:a=>e(i).createElement(C.ErrorBoundary,{attribution:t("3IBnw").Attribution.SMARTS},e(i).createElement(k,a)),j=(0,r.isReactCompilerActiveV1)()?()=>{let a,n=(0,o.c)(1);return n[0]===Symbol.for("react.memo_cache_sentinel")?(a=e(i).createElement(t("9hlns").default,{size:"small"}),n[0]=a):a=n[0],a}:()=>e(i).createElement(t("9hlns").default,{size:"small"});function B(){}let W=(0,t("ecnYn").xcss)({display:"inline-flex",color:"color.text",padding:"space.0",borderRadius:"radius.small",backgroundColor:"color.background.neutral.subtle"}),U=(0,r.isReactCompilerActiveV1)()?a=>{let n,r,s,d,l,c=(0,o.c)(23),{contentId:u,isAbbreviatedReadTime:m,isDetailsPanel:p,showWordCount:f,features:E,featuresSkipExpand:g,wordCount:C,readTime:_,source:v}=a,[T,I]=(0,i.useState)(!1),{createAnalyticsEvent:x}=(0,t("inPa6").useAnalyticsEvents)();c[0]!==u||c[1]!==x||c[2]!==T||c[3]!==v?(n=()=>{x({type:"sendUIEvent",data:{action:"clicked",actionSubject:"readTime",actionSubjectId:"readTimePopup",source:v,attributes:{contentId:u}}}).fire(),I(!T)},c[0]=u,c[1]=x,c[2]=T,c[3]=v,c[4]=n):n=c[4];let h=n;return c[5]===Symbol.for("react.memo_cache_sentinel")?(r=()=>I(!1),c[5]=r):r=c[5],c[6]!==u||c[7]!==E||c[8]!==g||c[9]!==v?(s=t=>e(i).createElement(V,{...t,features:E,featuresSkipExpand:g,source:v,contentId:u}),c[6]=u,c[7]=E,c[8]=g,c[9]=v,c[10]=s):s=c[10],c[11]!==u||c[12]!==m||c[13]!==p||c[14]!==h||c[15]!==_||c[16]!==f||c[17]!==C?(d=a=>e(i).createElement(t("2W0qg").default,{...a,onClick:h,xcss:W},e(i).createElement(b,{readTime:_,wordCount:C,pageId:u,isAbbreviatedReadTime:m,isDetailsPanel:p,showWordCount:f})),c[11]=u,c[12]=m,c[13]=p,c[14]=h,c[15]=_,c[16]=f,c[17]=C,c[18]=d):d=c[18],c[19]!==T||c[20]!==s||c[21]!==d?(l=e(i).createElement(t("lGgRw").Popup,{isOpen:T,onClose:r,placement:"bottom-start",content:s,trigger:d}),c[19]=T,c[20]=s,c[21]=d,c[22]=l):l=c[22],l}:({contentId:a,isAbbreviatedReadTime:n,isDetailsPanel:r,showWordCount:o,features:s,featuresSkipExpand:d,wordCount:l,readTime:c,source:u})=>{let[m,p]=(0,i.useState)(!1),{createAnalyticsEvent:f}=(0,t("inPa6").useAnalyticsEvents)(),E=(0,i.useCallback)(()=>{f({type:"sendUIEvent",data:{action:"clicked",actionSubject:"readTime",actionSubjectId:"readTimePopup",source:u,attributes:{contentId:a}}}).fire(),p(!m)},[m,f,a,u]);return e(i).createElement(t("lGgRw").Popup,{isOpen:m,onClose:()=>p(!1),placement:"bottom-start",content:t=>e(i).createElement(V,{...t,features:s,featuresSkipExpand:d,source:u,contentId:a}),trigger:s=>e(i).createElement(t("2W0qg").default,{...s,onClick:E,xcss:W},e(i).createElement(b,{readTime:c,wordCount:l,pageId:a,isAbbreviatedReadTime:n,isDetailsPanel:r,showWordCount:o}))})},z=(0,i.memo)(({contentId:a,editorApi:n,showWordCount:r,isDetailsPanel:o,isAbbreviatedReadTime:s=!0})=>{let{createAnalyticsEvent:d}=(0,t("inPa6").useAnalyticsEvents)(),{subscribeDocChange:l,unsubscribeDocChange:m}=(0,t("3IZob").useDocChangeContext)(),[p,f]=(0,i.useState)(null),[E,g]=(0,i.useState)(null),b=(0,t("9wGTI").fg)("cc_page_experiences_new_editor_byline")?"cache-only":"cache-first",C={variables:{contentId:a,...(0,t("9wGTI").fg)("cc_page_experiences_new_editor_byline")&&{status:["current","draft"]}}},{data:_,loading:v,error:T}=(0,t("6mKj3").expValEquals)("confluence_frontend_stop_watching_readtimequery","isEnabled",!0)?(0,t("jtuBN").useQueryNoFurtherUpdateInterop)(t("3T2Zj").ReadTimeQuery,C):(0,t("xQxzY").useQuery)(t("3T2Zj").ReadTimeQuery,{...C,fetchPolicy:b}),I=(0,i.useMemo)(()=>(0,t("72md5").getAdf)(_??void 0),[_]),[x,h]=(0,i.useState)((0,t("72md5").calculateEstimatedReadTime)(I)),[w,y]=(0,i.useState)((0,t("72md5").getWordCount)(I));(0,i.useEffect)(()=>{if(!d||!I||v||T||!a)return;let e=_?.content?.nodes?.[0]?.type??"";d((0,t("72md5").getContentFeatureExtractedEventObject)({contentType:e,contentId:a,adf:I,isInEditor:!0})).fire()},[a,v,I,_?.content?.nodes,T,d]),(0,i.useEffect)(()=>{!I||v||T||(y((0,t("72md5").getWordCount)(I)),h((0,t("72md5").calculateEstimatedReadTime)(I)))},[I,v,T]);let R=(0,i.useCallback)(async()=>{n&&n.core?.actions.requestDocument(e=>{y((0,t("72md5").getWordCount)(e)),h((0,t("72md5").calculateEstimatedReadTime)(e)),e&&(f((0,t("h3vPv").extractContentFeatures)(e)),g((0,t("h3vPv").extractContentFeaturesSkipExpand)(e)))})},[n]);(0,i.useEffect)(()=>{R()},[R]);let D=(0,i.useMemo)(()=>e(c)(R,5e3),[R]);return((0,i.useEffect)(()=>(l(D),()=>m(D)),[D,l,m]),T)?e(i).createElement(u.ErrorDisplay,{error:T}):x||r&&null!=w?e(i).createElement(U,{contentId:a,isAbbreviatedReadTime:s,isDetailsPanel:o,showWordCount:r,features:p,featuresSkipExpand:E,wordCount:w,readTime:x,source:"editorReadTime"}):void 0}),G=(0,r.isReactCompilerActiveV1)()?a=>{let n,r,s=(0,o.c)(19),{contentId:d,isAbbreviatedReadTime:l,isDetailsPanel:c,showWordCount:m}=a,{createAnalyticsEvent:p}=(0,t("inPa6").useAnalyticsEvents)(),{adf:f,loading:E,error:g,contentType:b,readTime:C,wordCount:_,features:v,featuresSkipExpand:T}=(0,t("h2uld").useReadTime)(d);if(s[0]!==f||s[1]!==d||s[2]!==b||s[3]!==p||s[4]!==g||s[5]!==E?(n=()=>{p&&f&&!E&&!g&&d&&b&&p((0,t("72md5").getContentFeatureExtractedEventObject)({contentType:b,contentId:d,adf:f,isInEditor:!1})).fire()},r=[d,E,g,b,p,f],s[0]=f,s[1]=d,s[2]=b,s[3]=p,s[4]=g,s[5]=E,s[6]=n,s[7]=r):(n=s[6],r=s[7]),(0,i.useEffect)(n,r),g){let t;return s[8]!==g?(t=e(i).createElement(u.ErrorDisplay,{error:g}),s[8]=g,s[9]=t):t=s[9],t}if(C||m&&null!==_){let t,a=_??0;return s[10]!==d||s[11]!==v||s[12]!==T||s[13]!==l||s[14]!==c||s[15]!==C||s[16]!==m||s[17]!==a?(t=e(i).createElement(U,{contentId:d,isAbbreviatedReadTime:l,isDetailsPanel:c,showWordCount:m,features:v,featuresSkipExpand:T,wordCount:a,readTime:C,source:"originalReadTime"}),s[10]=d,s[11]=v,s[12]=T,s[13]=l,s[14]=c,s[15]=C,s[16]=m,s[17]=a,s[18]=t):t=s[18],t}return null}:({contentId:a,isAbbreviatedReadTime:n,isDetailsPanel:r,showWordCount:o})=>{let{createAnalyticsEvent:s}=(0,t("inPa6").useAnalyticsEvents)(),{adf:d,loading:l,error:c,contentType:m,readTime:p,wordCount:f,features:E,featuresSkipExpand:g}=(0,t("h2uld").useReadTime)(a);return((0,i.useEffect)(()=>{s&&d&&!l&&!c&&a&&m&&s((0,t("72md5").getContentFeatureExtractedEventObject)({contentType:m,contentId:a,adf:d,isInEditor:!1})).fire()},[a,l,c,m,s,d]),c)?e(i).createElement(u.ErrorDisplay,{error:c}):p||o&&null!==f?e(i).createElement(U,{contentId:a,isAbbreviatedReadTime:n,isDetailsPanel:r,showWordCount:o,features:E,featuresSkipExpand:g,wordCount:f??0,readTime:p,source:"originalReadTime"}):null},X=(0,r.isReactCompilerActiveV1)()?t=>{let a,n,r=(0,o.c)(8),{contentId:s,editorApi:c,isInEditor:u,isAbbreviatedReadTime:m,isDetailsPanel:p,showWordCount:f}=t;return r[0]===Symbol.for("react.memo_cache_sentinel")?(a=e(i).createElement(d.PageSegmentLoadStart,{metric:l}),r[0]=a):a=r[0],r[1]!==s||r[2]!==c||r[3]!==m||r[4]!==p||r[5]!==u||r[6]!==f?(n=e(i).createElement(e(i).Fragment,null,a,e(i).createElement($,{contentId:s,editorApi:c,isInEditor:u,isAbbreviatedReadTime:m,isDetailsPanel:p,showWordCount:f})),r[1]=s,r[2]=c,r[3]=m,r[4]=p,r[5]=u,r[6]=f,r[7]=n):n=r[7],n}:({contentId:t,editorApi:a,isInEditor:n,isAbbreviatedReadTime:r,isDetailsPanel:o,showWordCount:s})=>e(i).createElement(e(i).Fragment,null,e(i).createElement(d.PageSegmentLoadStart,{metric:l}),e(i).createElement($,{contentId:t,editorApi:a,isInEditor:n,isAbbreviatedReadTime:r,isDetailsPanel:o,showWordCount:s})),$=(0,r.isReactCompilerActiveV1)()?t=>{let a,n=(0,o.c)(7),{contentId:r,editorApi:d,isInEditor:l,isAbbreviatedReadTime:c,isDetailsPanel:u,showWordCount:m}=t,{locale:p}=(0,s.getTranslation)();return p&&"en"===p.substring(0,2).toLowerCase()?(n[0]!==r||n[1]!==d||n[2]!==c||n[3]!==u||n[4]!==l||n[5]!==m?(a=l?e(i).createElement(z,{contentId:r,editorApi:d,showWordCount:m,isDetailsPanel:u,isAbbreviatedReadTime:c}):e(i).createElement(G,{contentId:r,isAbbreviatedReadTime:c,isDetailsPanel:u,showWordCount:m}),n[0]=r,n[1]=d,n[2]=c,n[3]=u,n[4]=l,n[5]=m,n[6]=a):a=n[6],a):null}:({contentId:t,editorApi:a,isInEditor:n,isAbbreviatedReadTime:r,isDetailsPanel:o,showWordCount:d})=>{let{locale:l}=(0,s.getTranslation)();return l&&"en"===l.substring(0,2).toLowerCase()?n?e(i).createElement(z,{contentId:t,editorApi:a,showWordCount:d,isDetailsPanel:o,isAbbreviatedReadTime:r}):e(i).createElement(G,{contentId:t,isAbbreviatedReadTime:r,isDetailsPanel:o,showWordCount:d}):null};a.exports.ReadTimeLoader=X,a.exports.ReadTime=$}),a("3IZob",function(a,n){var r=t("42omo");let o=(0,r.createContext)({subscribeDocChange:()=>{},unsubscribeDocChange:()=>{}}),i=({children:t})=>{let a=(0,r.useRef)(new Set),n=(0,r.useCallback)(e=>{a.current.forEach(t=>{t(e)})},[]),i=(0,r.useCallback)(e=>{a.current.add(e)},[]),s=(0,r.useCallback)(e=>{a.current.delete(e)},[]),d=(0,r.useMemo)(()=>({subscribeDocChange:i,unsubscribeDocChange:s}),[i,s]);return e(r).createElement(o.Provider,{value:d},t({handleDocChange:n}))};a.exports.useDocChangeContext=()=>(0,r.useContext)(o),a.exports.withDocChangeContext=function(t){return a=>e(r).createElement(i,null,({handleDocChange:n})=>e(r).createElement(t,{...a,handleDocChange:n}))}}),a("3T2Zj",function(e,a){let n=(0,t("eSUdr").default)`query ReadTimeQuery($contentId:ID$status:[String]$includeContentBody:Boolean=true){content(id:$contentId status:$status){nodes{id type body@include(if:$includeContentBody){dynamic{value representation}}operations{operation targetType}}}}`;e.exports.ReadTimeQuery=n}),a("x4n5k",function(e,a){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n=o(t("42omo")),r=o(t("aSNrY"));function o(e){return e&&e.__esModule?e:{default:e}}let i=e=>n.default.createElement(r.default,Object.assign({name:"BookOpenIcon",dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M14.5 2.25v10H8.75V4.625a2.375 2.375 0 0 1 2.375-2.375zM8 2.333A3.87 3.87 0 0 1 11.125.75h3.501C15.387.75 16 1.367 16 2.125v10.25c0 .76-.616 1.375-1.375 1.375H8.75v1.5h-1.5v-1.5H1.375C.615 13.75 0 13.134 0 12.375V2.125C0 1.366.615.75 1.375.75h3.5A3.87 3.87 0 0 1 8 2.333m-.75 9.917V4.625A2.375 2.375 0 0 0 4.875 2.25H1.5v10zm6-8H10.5v1.5h2.75zm0 2.5H10.5v1.5h2.75z" clip-rule="evenodd"/>'},e));i.displayName="BookOpenIcon",e.exports.default=i}),a("b8XTE",function(a,n){var r=t("42omo"),o=t("a4TK8"),i=t("aJv6Q");let s=()=>{},d=(0,r.memo)(({customData:e={},metric:a,onComplete:n=s,stopTime:o,timing:i,augmentCustomDataAfterComplete:d})=>{let l=(0,r.useRef)(o),c=(0,r.useRef)(e),u=(0,r.useRef)(d);l.current=o,c.current=e,u.current=d;let m=(0,r.useCallback)(()=>{if(a){let e;n(),e=u.current?u.current(c.current):c.current;let{route:r}=a.getData();(r===t("1NBp8").VIEW_PAGE.name||r===t("1NBp8").VIEW_BLOG.name)&&(e.viewTransitionSource=(0,t("lXYVJ").getViewTransitionSource)()),t("3kTfj").browserMetrics.getPageLoadMetric().mark(`${t("3YpC9").PAGE_SEGMENT_MARK_PREFIX_END}:${a.key}`),a.stop({customData:{...e,previousRoute:t("6VdZc").browserMetricsState.previousRoute,previousContentId:t("6VdZc").browserMetricsState.previousContentId,pageLoadInfo:(0,t("78QFu").getUniquePageLoadId)()},stopTime:l.current})}},[a,n]);return(0,t("N1nBh").usePerformanceAction)(m,i),null},e(o)),l=(0,i.withTransparentErrorBoundary)({attribution:t("3IBnw").Attribution.BACKBONE})(d);a.exports.PageSegmentLoadEnd=l}),a("lXYVJ",function(e,a){let n;e.exports.setViewTransitionSource=e=>{n=e},e.exports.getViewTransitionSource=()=>n||t("1C3B1").UNKNOWN,e.exports.resetViewTransitionSource=()=>{n=void 0}}),a("1C3B1",function(e,t){e.exports.PAGE_TREE_ITEM_CLICK="PAGE_TREE_ITEM_CLICK",e.exports.RECENT_DROPDOWN_ITEM_CLICK="RECENT_DROPDOWN_ITEM_CLICK",e.exports.EDITOR_UPDATE_BUTTON_CLICK="EDITOR_UPDATE_BUTTON_CLICK",e.exports.EDITOR_UPDATE_SHORTCUT_KEY_PRESS="EDITOR_UPDATE_SHORTCUT_KEY_PRESS",e.exports.EDITOR_UPDATE_BUTTON_IN_MODAL_CLICK="EDITOR_UPDATE_BUTTON_IN_MODAL_CLICK",e.exports.EDITOR_UPDATE_SHORTCUT_IN_MODAL_PRESS="EDITOR_UPDATE_SHORTCUT_IN_MODAL_PRESS",e.exports.EDITOR_CLOSE_BUTTON_CLICK="EDITOR_CLOSE_BUTTON_CLICK",e.exports.RECENT_WORK_ITEM_ON_HOME_PAGE_CLICK="RECENT_WORK_ITEM_ON_HOME_PAGE_CLICK",e.exports.DISCOVER_ITEM_ON_HOME_PAGE_CLICK="DISCOVER_ITEM_ON_HOME_PAGE_CLICK",e.exports.UNKNOWN="UNKNOWN"}),a("luv00",function(e,a){var n=t("42omo");e.exports.useSSRPlaceholderReplaceIdProp=function(){let{placeholderReplaceId:e}=(0,n.useContext)(t("5nSna").LoadableAncestorsContext);return{"data-ssr-placeholder-replace":e}}}),a("9k33u",function(a,n){var r=t("l998X"),o=t("42omo");let i=e(o).createContext(void 0);a.exports.MediaContext=i,a.exports.MediaProvider=({children:e,mediaClientConfig:a,mediaSettings:n})=>{let s=(0,o.useMemo)(()=>(0,t("grxv4").getMediaClient)(a),[a]),d=(0,t("8IHds").useMediaParsedSettings)(n);return(0,r.jsx)(i.Provider,{value:{mediaClient:s,settings:d},children:e})}}),a("8IHds",function(e,a){var n=t("42omo");e.exports.useMediaParsedSettings=(e={})=>(0,n.useMemo)(()=>{let a={...e};return a.mediaUserPreferences=t("82Dle").defaultMediaUserPreferences,a},[e])}),a("82Dle",function(e,t){let a,n={videoCaptionsEnabled:"boolean",videoCaptionsPreferredLocale:"string"},r=(a={set:(e,t)=>{localStorage.setItem(`media-${e}`,t)},get:e=>localStorage.getItem(`media-${e}`)},{set:(e,t)=>{a.set(e,t.toString())},get:e=>{let t=a.get(e);if(null!=t)return"boolean"===n[e]?"true"===t:t}});e.exports.defaultMediaUserPreferences=r}),a("fXbFR",function(e,a){var n=t("42omo");e.exports.usePopupDwellTime=(e,a=500)=>{let r=(0,t("4PxT5").useOnScreen)(e),o=(0,n.useRef)(0);return(0,n.useEffect)(()=>{let e=setInterval(()=>{r&&(o.current+=a)},a);return()=>{clearInterval(e)}},[r,a]),{getDwellTime:()=>o.current}}}),a("4PxT5",function(e,a){var n=t("42omo");e.exports.useOnScreen=e=>{let[t,a]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{if(!e.current)return;let t=new IntersectionObserver(([e])=>a(e.isIntersecting));return e.current&&t.observe(e.current),()=>{t&&t.disconnect()}}),t}}),a("cLo2u",function(e,a){var n=t("3u0dr"),r=t("frIzR"),o=t("42omo");let i=(0,n.isReactCompilerActiveV1)()?function(e){let a,n=(0,r.c)(1),[i]=(0,t("ep3mz").usePageSpaceKey)(),{match:s}=(0,o.useContext)(t("7zgzO").RoutesContext),d=s?.params?.spaceKey;return e||i||d||(n[0]===Symbol.for("react.memo_cache_sentinel")?(a="undefined"!=typeof document?document.querySelector("meta#confluence-space-key")?.content:null,n[0]=a):a=n[0],a??null)}:function(e){let[a]=(0,t("ep3mz").usePageSpaceKey)(),{match:n}=(0,o.useContext)(t("7zgzO").RoutesContext),r=n?.params?.spaceKey;return e||a||r||(("undefined"!=typeof document?document.querySelector("meta#confluence-space-key")?.content:null)??null)};e.exports.useSpaceKey=i}),a("jRNsq",function(a,n){var r=t("42omo");a.exports.useMediaClient=()=>{let a=e(r).useContext(t("3rvSa").MediaClientContext),{mediaClient:n}=e(r).useContext(t("9k33u").MediaContext)||{};if(!a&&!n)throw Error("No MediaClient set, use MediaClientProvider or MediaProvider to set one");return a||n}}),a("aBfpe",function(e,t){var a,n=((a={}).JSON="application/json",a.X_WWW_FORM_URLENCODED="application/x-www-form-urlencoded",a);e.exports.MediaType=n}),a("4GGNn",function(e,a){async function n({url:e,method:a,headers:n,body:r,credentials:o,variables:i,parseResult:s,parseResponseOnSuccess:d,parseResponseOnError:l}){let c=await (0,t("GLgaM").fetchResponse)({url:e,method:a,body:r,headers:n,credentials:o,parseResponseOnSuccess:d,parseResponseOnError:l},i);return{data:await s(c,i)}}e.exports.experimentalMutate=n}),a("9ILXP",function(e,t){function a(e){this.message=e}a.prototype=Error(),a.prototype.name="InvalidCharacterError";var n="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new a("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,o=0,i=0,s="";r=t.charAt(i++);~r&&(n=o%4?64*n+r:r,o++%4)&&(s+=String.fromCharCode(255&n>>(-2*o&6))))r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};function r(e){this.message=e}r.prototype=Error(),r.prototype.name="InvalidTokenError",e.exports.default=function(e,t){if("string"!=typeof e)throw new r("Invalid token specified");var a=+(!0!==(t=t||{}).header);try{return JSON.parse(function(e){var t,a=e.replace(/-/g,"+").replace(/_/g,"/");switch(a.length%4){case 0:break;case 2:a+="==";break;case 3:a+="=";break;default:throw"Illegal base64url string!"}try{return t=a,decodeURIComponent(n(t).replace(/(.)/g,function(e,t){var a=t.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a}))}catch(e){return n(a)}}(e.split(".")[a]))}catch(e){throw new r("Invalid token specified: "+e.message)}}});
//# sourceMappingURL=ReadTime.3125072a.js.map
