function e(e){return e&&e.__esModule?e.default:e}var s=globalThis.parcelRequired477,a=s.register;a("jD7cj",function(a,l){var t=s("l998X");s("42omo");let r=(0,s("ecnYn").xcss)({display:"flex",alignItems:"flex-start",gap:"space.050"}),n=(0,s("ecnYn").xcss)({font:"font.body.UNSAFE_small",color:"color.text.accent.red"});a.exports.FormFieldErrorMessage=({children:a})=>(0,t.jsxs)(s("6f0Oj").default,{xcss:r,children:[(0,t.jsx)(e(s("a3fRD")),{label:"",color:"var(--ds-icon-accent-red, #C9372C)"}),(0,t.jsx)(s("dcJ7R").default,{xcss:n,children:a})]})}),a("3v7tz",function(e,a){var l=s("42omo");let t=(0,l.createContext)(!1);e.exports.IsDisabledContext=t,e.exports.useIsDisabledContext=()=>(0,l.useContext)(t)}),a("eNm9g",function(e,s){let a=async(e,s,a,l)=>{try{let a=await fetch(`/wiki/rest/internals/1.0/unsplash/search?query=${e}&pageNumber=${s}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!a.ok)throw Error(`Received status ${a.status}`);let t=await a.json();return t.results?.map(e=>({id:e.id,altDescription:e.alt_description,smallSizeImageUrl:e.urls.thumb,fullSizeImageUrl:l?e.urls.full:e.urls.regular,artistName:e.user.name,artistUrl:e.user.links.html+"?utm_source=Confluence&utm_medium=referral",downloadLink:e.links.download_location}))}catch(s){let e=s instanceof Error?s:Error("An unknown error occurred");throw a?.(e),e}};e.exports.getUnsplashPhotos=a}),a("jCIc5",function(e,a){var l=s("l998X");s("42omo");let t=(0,s("ecnYn").xcss)({color:"color.text.subtlest"}),r=(0,s("ecnYn").xcss)({color:"color.text.disabled",":hover":{cursor:"not-allowed"}});e.exports.PanelSubheader=({children:e,showUpdatedStyles:a=!1})=>{let n=(0,s("3v7tz").useIsDisabledContext)();return(0,l.jsx)(s("6f0Oj").default,{xcss:[t,n&&r],children:(0,l.jsx)(s("5dK2X").default,{size:a?"medium":"small",weight:a?"regular":"bold",color:a?"color.text":"inherit",children:e})})}}),a("azUhE",function(e,a){var l=s("l998X");s("42omo");let t=(0,s("ecnYn").xcss)({marginBottom:"space.100",display:"flex",justifyContent:"space-between"}),r=(0,s("ecnYn").xcss)({color:"color.text.disabled"});e.exports.MediaContentHelperMessage=({helperMessage:e,isDisabled:a})=>e?(0,l.jsx)(s("6f0Oj").default,{xcss:t,children:(0,l.jsx)(s("gQhRa").HelperMessage,{children:(0,l.jsx)(s("6f0Oj").default,{xcss:a?r:void 0,children:e})})}):null}),a("6YdGV",function(a,l){var t,r=s("l998X"),n=s("42omo");s("42omo");let o=(0,s("ecnYn").xcss)({height:"40px",width:"44px",borderRadius:"radius.small",border:"none",position:"relative",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}),i=(0,s("ecnYn").xcss)({boxShadow:"inset 0 0 0 2px var(--ds-border-selected, #1868DB)"}),c=(0,s("ecnYn").xcss)({cursor:"auto"}),d=({image:e,isSelected:a,canBeSelected:l,onClick:t,children:n})=>(0,r.jsx)(s("2W0qg").default,{"aria-pressed":a,xcss:[o,l&&c,a&&i],style:{backgroundImage:`url(${e})`},onClick:t,children:n},`${e} ${a?"1":"0"}`);s("42omo");let u=(0,s("cgtv4").defineMessages)({noImageLabel:{id:"company-hub.company-hub-common.unsplash-search.default-image-picker.no-image",defaultMessage:"No image"}}),m=(0,s("ecnYn").xcss)({height:"40px",width:"44px",borderRadius:"radius.small",border:"none",position:"relative"}),p=(0,s("ecnYn").xcss)({boxShadow:"inset 0 0 0 2px var(--ds-border-selected, #1868DB)"}),h=(0,s("ecnYn").xcss)({backgroundColor:"color.background.neutral.subtle",boxShadow:"inset 0 0 0 1px var(--ds-border, #0B120E24)",position:"relative"}),g=(0,s("ecnYn").xcss)({position:"absolute",left:"50%",top:"5%",height:"90%",borderWidth:"border.width",borderStyle:"solid",borderColor:"color.border",rotate:"45deg"}),f=({onClick:e,isSelected:a,children:l})=>{let t=(0,s("8C5kA").default)();return(0,r.jsxs)(s("2W0qg").default,{xcss:[m,h,a&&p],testId:"unsplash-no-image","aria-label":t.formatMessage(u.noImageLabel),onClick:e,children:[(0,r.jsx)(s("6f0Oj").default,{xcss:g}),l]})};s("42omo");let x=(0,s("ecnYn").xcss)({height:"40px",width:"44px",borderRadius:"radius.small",border:"none"}),b=(0,s("ecnYn").xcss)({backgroundColor:"color.background.neutral"}),_=()=>(0,r.jsx)(s("6f0Oj").default,{xcss:[x,b],testId:"image-picker-placeholders"});s("42omo");let I=(0,s("ecnYn").xcss)({height:"40px",width:"44px",borderRadius:"radius.small",border:"none",position:"relative",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}),S=(0,s("ecnYn").xcss)({boxShadow:"inset 0 0 0 2px var(--ds-border-selected, #1868DB)"}),y=(0,s("ecnYn").xcss)({cursor:"auto"}),j=({image:e,description:a,isSelected:l,canBeSelected:t,onClick:n,children:o})=>(0,r.jsx)(s("2W0qg").default,{"aria-pressed":l,"aria-label":a,xcss:[I,t&&y,l&&S],style:{backgroundImage:`url(${e})`},onClick:n,children:o},`${e} ${l?"1":"0"}`),U=(0,s("cgtv4").defineMessages)({uploadImageFailedDescription:{id:"company-hub.company-hub-common.shared-components.unsplash-search.upload.error.description",defaultMessage:"Refresh the page and try again"},uploadImageFailedTitle:{id:"company-hub.company-hub-common.shared-components.unsplash-search.upload.error.title",defaultMessage:"Image failed to load"}}),R={allowAnimated:!0,mode:"full-fit",upscale:!1},k={base:"_2rko12b0 _19itglyw _4t3i1ylp _1bsb1ady _kqswh2mm _1lrw1dfr _ouxl1ssb _12vemgnk",selected:"_16qszp5g"},v=({contentId:a,imageId:l,isSelected:t,onClick:o,children:i,mediaConfigOverride:c})=>{let{showFlag:d}=(0,s("dpPtd").useFlags)(),{formatMessage:u}=(0,s("8C5kA").default)(),{createAnalyticsEvent:m}=(0,s("inPa6").useAnalyticsEvents)(),{useMediaConfig:p}=(0,s("fOKpq").useProductDependencies)(),{authProvider:h,collection:g,fileId:f}=p?.({contentId:a,imageSrc:l})||{},x=h,b=g;c?.authProvider&&c?.collection&&(x=c.authProvider,b=c.collection);let I=(0,n.useMemo)(()=>({mediaItemType:"file",id:f??"",collectionName:b}),[f,b]);return x&&b&&f?(0,r.jsx)(s("btHGY").MediaImageWithErrorBoundary,{identifier:I,mediaClientConfig:{authProvider:x},apiConfig:R,children:({data:a,loading:l,error:n})=>l||!a?(0,r.jsx)(_,{}):n?(d({id:"upload-image-error",title:u(U.uploadImageFailedTitle),description:u(U.uploadImageFailedDescription),icon:(0,r.jsx)(e(s("a3fRD")),{label:"",color:"var(--ds-icon-danger, #C9372C)"})}),m({type:"error",data:{actionSubject:"image",actionSubjectId:"coverImageSelected",source:"coverImageSelectedComponent"}}).fire(),(0,r.jsx)(_,{})):(0,r.jsx)(s("fVUfS").default,{xcss:(0,s("1Whri").cx)(k.base,t&&k.selected),style:{backgroundImage:`url(${a.src})`},onClick:o,testId:"uploaded-image-thumbnail",children:i})},f):(0,r.jsx)(_,{})};var w=((t={})[t.UNSPLASH_DEFAULT_IMAGE=0]="UNSPLASH_DEFAULT_IMAGE",t[t.UNSPLASH_IMAGE=1]="UNSPLASH_IMAGE",t[t.CUSTOM_IMAGE=2]="CUSTOM_IMAGE",t[t.EXTERNAL_SITE_IMAGE=3]="EXTERNAL_SITE_IMAGE",t[t.NO_IMAGE=4]="NO_IMAGE",t);let E=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/,M=e=>({type:w.CUSTOM_IMAGE,image:{imageId:e}}),A=e=>({type:w.UNSPLASH_DEFAULT_IMAGE,image:e}),N=(e,s)=>({type:w.UNSPLASH_IMAGE,image:{fullSizeImageUrl:e,altDescription:s}}),C=e=>({type:w.EXTERNAL_SITE_IMAGE,image:e}),L=({image:e,initialUnsplashResults:s,isNoImageAllowed:a})=>!!s?.length&&(a?s.slice(2):s.slice(1)).map(e=>e.fullSizeImageUrl).includes(e||""),D=({selectedImageUrl:e,firstImage:a,initialUnsplashResults:l,isNoImageAllowed:t,previewUploadedImageId:r,initialUploadedImageId:n,imageAltText:o})=>{let i=(s=e)=>L({image:s,initialUnsplashResults:l,isNoImageAllowed:t});if(!i())return N(e,o);let c=a?.current?.image&&"string"!=typeof a?.current?.image&&"fullSizeImageUrl"in a.current.image&&(0,s("iqWjJ").isUnsplashImage)(a.current.image.fullSizeImageUrl)&&a?.current?.image?.fullSizeImageUrl;if(c&&e!==c){if(!i(c)&&i())return N(c,o);if(!i())return N(e,o)}if(r&&a.current?.image===r){if(i())return a.current;if(!i())return N(e,o)}return a?.current?.image&&"string"!=typeof a.current.image&&"imageId"in a.current.image&&i()?a.current:i()&&r&&n||i()&&r?M(r):i()&&l?.length?A(l[0]):A()},T=({selectedImageUrl:e,initialUnsplashResults:a,isNoImageAllowed:l,firstImage:t,previewUploadedImageId:r,initialUploadedImageId:n,imageAltText:o})=>{if(e)if((0,s("iqWjJ").isUnsplashImage)(e))return D({selectedImageUrl:e,firstImage:t,initialUnsplashResults:a,isNoImageAllowed:l,previewUploadedImageId:r,initialUploadedImageId:n,imageAltText:o});else return E.test(e)?C(e):M(e);return n?M(n):a?.length?A(a[0]):A()},P=e=>e.type===w.UNSPLASH_DEFAULT_IMAGE,z=e=>e.type===w.UNSPLASH_IMAGE,q=e=>e.type===w.CUSTOM_IMAGE,O=e=>e.type===w.EXTERNAL_SITE_IMAGE,Y=e=>e.type===w.NO_IMAGE,F=()=>({type:w.NO_IMAGE,image:void 0}),G=()=>[,,,,,].fill(null).map((e,s)=>(0,r.jsx)(_,{},s));a.exports.DefaultImagePicker=({contentId:a,imageAltText:l,selectedImageUrl:t,handleImageSelection:o,initialUnsplashResults:i,analyticsSource:c,isUploadingImage:u,isNoImageAllowed:m,initialUploadedImageId:p,previewUploadedImageId:h,mediaConfigOverride:g})=>{let x=(0,s("3v7tz").useIsDisabledContext)(),{createAnalyticsEvent:b}=(0,s("inPa6").useAnalyticsEvents)(),I=(0,n.useCallback)(({fullSizeImageUrl:e,altDescription:s,downloadLink:a})=>{u||(o({fullSizeImageUrl:e,altDescription:s,downloadLink:a}),b({type:"sendTrackEvent",data:{action:"selected",actionSubject:"image",source:c,attributes:{imageSource:"unsplashDefault"}}}).fire())},[c,b,o,u]),S=(0,n.useCallback)(()=>(0,r.jsx)(s("gdv5Z").default,{xcss:"_kqswstnw _94n5ze3t _1xi2ze3t _1kt9b3bt _1rusysee _kfgt1ssb _1mp41ssb _1cs8stnw _ooun1b66 _1auk1b66",children:(0,r.jsx)(s("1s5hv").default,{xcss:"_kqswh2mm",children:(0,r.jsx)(e(s("7FcUt")),{label:"checkmark",color:"var(--ds-icon-brand, #1868DB)"})})}),[]),y=(0,n.useCallback)(({smallSizeImageUrl:e,fullSizeImageUrl:s,description:a,isSelected:l,index:t,downloadLink:n})=>(0,r.jsx)(j,{image:e,description:a,isSelected:l,canBeSelected:u,onClick:()=>I({fullSizeImageUrl:s,altDescription:a,downloadLink:n}),children:l&&S()},`thumbnail-${t}`),[u,I,S]),U=(0,n.useCallback)((e,s)=>{let{fullSizeImageUrl:a,altDescription:l,downloadLink:r,smallSizeImageUrl:n}=e,o=a===t;return y({smallSizeImageUrl:n??a,fullSizeImageUrl:a,description:l,isSelected:o,index:s,downloadLink:r})},[t,y]),R=(0,n.useCallback)((e,s)=>{let{fullSizeImageUrl:a,altDescription:l}=e,r=a===t;return y({smallSizeImageUrl:a,fullSizeImageUrl:a,description:l??"",isSelected:r,index:s,downloadLink:void 0})},[t,y]),k=(0,n.useCallback)((e,s)=>{let a=e===t;return(0,r.jsx)(d,{image:e,isSelected:a,canBeSelected:u,onClick:()=>I({fullSizeImageUrl:e,altDescription:""}),children:a&&S()},`thumbnail-${s}`)},[t,u,S,I]),w=(0,n.useCallback)((e,s)=>{let{imageId:l}=e,n=l===t&&0===s;return(0,r.jsx)(v,{contentId:a,imageId:l,isSelected:n,mediaConfigOverride:g,onClick:()=>I({fullSizeImageUrl:l,altDescription:""}),children:n&&S()},`thumbnail-${s}`)},[t,a,I,S,g]),E=(0,n.useCallback)(e=>{let s=""===t;return(0,r.jsx)(f,{isSelected:s,onClick:()=>I({fullSizeImageUrl:"",altDescription:""}),children:s&&S()},e)},[t,I,S]),M=(0,n.useRef)();M.current=T({selectedImageUrl:t,initialUnsplashResults:i,isNoImageAllowed:m,firstImage:M,previewUploadedImageId:h,initialUploadedImageId:p,imageAltText:l});let N=m?F():A(i?.[1]),C=[M.current,N,A(i?.[2]),A(i?.[3]),A(i?.[4])],L=(0,n.useCallback)((e,s)=>Y(e)?E(s):e.image?P(e)?U(e.image,s):z(e)?R(e.image,s):O(e)?k(e.image,s):q(e)?w(e.image,s):(0,r.jsx)(_,{},s):(0,r.jsx)(_,{},s),[E,U,R,w,k]);return(0,r.jsx)(s("1s5hv").default,{xcss:"_19pku2gc _1bah1yb4 _ca0qze3t",testId:"default-image-picker",children:x?G():C.map(L)})}}),a("h3Ebw",function(a,l){var t=s("l998X"),r=s("42omo"),n=s("jSnXV"),o=s("89YPL");let i=(0,s("cgtv4").defineMessages)({unsplashNoResultsText:{id:"company-hub.company-hub-common.unsplash.search.no.results.text",defaultMessage:"Nothing matches your search"},unsplashNoMoreResultsToLoadText:{id:"company-hub.company-hub-common.unsplash.search.no.more.results.to.load.text",defaultMessage:"No more matches try another search"},unsplashLegal:{id:"company-hub.company-hub-common.unsplash.legal",defaultMessage:"By using images from Unsplash, you agree to their {unsplashLicenseLink} and {unsplashTermsOfServiceLink}."},unsplashLicenseLink:{id:"company-hub.company-hub-common.unsplash.license",defaultMessage:"license"},unsplashTermsOfServiceLink:{id:"company-hub.company-hub-common.unsplash.terms.of.service.",defaultMessage:"Terms of Service"}}),c=(0,r.forwardRef)(({as:e="div",style:a,...l},r)=>(0,t.jsx)(e,{...l,style:a,ref:r,className:(0,s("gMc0m").default)(["_p12f1d1q",l.className])})),d=(0,r.forwardRef)(({as:e="div",style:a,...l},r)=>(0,t.jsx)(e,{...l,style:a,ref:r,className:(0,s("gMc0m").default)(["_1reo15zi _18m915zi _zulpu2gc _1e0c11p5 _c71l1sa4 _yv0e1d08 _ca0qu2gc _u5f3u2gc _n3tdu2gc _19bvu2gc",l.className])})),u=(0,r.forwardRef)(({as:e="div",style:a,...l},r)=>(0,t.jsx)(e,{...l,style:a,ref:r,className:(0,s("gMc0m").default)(["_1e0c1n7u _kqswh2mm _1bsb6ci3",l.className])})),m=(0,r.forwardRef)(({as:e="div",style:a,...l},r)=>(0,t.jsx)(e,{...l,style:a,ref:r,className:(0,s("gMc0m").default)(["_11c81o8v _bfhkmpja _mrkbfajl _1o0zfajl _kqswstnw _94n5idpf _1bsb1osq _tzy4kb7n _3um015vq _ak06ewfl",l.className])})),p=(0,r.forwardRef)(({as:e="a",style:a,...l},r)=>(0,t.jsx)(e,{...l,style:a,ref:r,className:(0,s("gMc0m").default)(["_4bfu1snc _1hmsagmp _ajmmvv82",l.className])}));m.defaultProps={"data-styled-selector":"items.ArtistInfo"};let h=(0,r.forwardRef)(({as:e="div",style:a,...l},r)=>(0,t.jsx)(e,{...l,style:a,ref:r,className:(0,s("gMc0m").default)(["_1reo15vq _18m915vq _18u01b66 _syaz15cr _1bto1l2s _o5721q9c",l.className])})),g=(0,r.forwardRef)(({as:e="img",style:a,...l},r)=>(0,t.jsx)(e,{...l,style:a,ref:r,className:(0,s("gMc0m").default)(["_2rkofajl _1bsb1osq _4t3i1r1e",l.className])})),f=(0,r.forwardRef)(({as:e="button",style:a,...l},r)=>(0,t.jsx)(e,{...l,style:a,ref:r,className:(0,s("gMc0m").default)(["_19itglyw _11q7glyw _ca0qidpf _u5f3idpf _n3tdidpf _19bvidpf _80omtlke _4t3i1r1e _12jivbh5 _jw7uewfl",l.className])})),x=(0,r.forwardRef)(({as:e="div",style:a,...l},r)=>(0,t.jsx)(e,{...l,style:a,ref:r,className:(0,s("gMc0m").default)(["_11c81o8v _ca0qu2gc _u5f3idpf _n3tdu2gc _19bvidpf _bfhkysee _mrkbfajl _1o0zfajl _syazazsu",l.className])})),b=(0,r.forwardRef)(({as:e="div",style:a,...l},r)=>(0,t.jsx)(e,{...l,style:a,ref:r,className:(0,s("gMc0m").default)(["_19pkze3t _2hwxu2gc _otyrze3t _18u0u2gc",l.className])})),_=(0,r.forwardRef)(({as:e="a",style:a,...l},r)=>(0,t.jsx)(e,{...l,style:a,ref:r,className:(0,s("gMc0m").default)(["_4bfu1r31 _1hms8stv _ajmmnqa1 _syaz124n",l.className])})),I=(0,r.forwardRef)(({as:e="div",style:a,...l},r)=>(0,t.jsx)(e,{...l,style:a,ref:r,className:(0,s("gMc0m").default)(["_1e0c1txw _1bah1h6o _1461g31l",l.className])})),S=(0,r.forwardRef)(({as:e="div",style:a,...l},r)=>(0,t.jsx)(e,{...l,style:a,ref:r,className:(0,s("gMc0m").default)(["_zulppxbi _yyhyuojk _1e0c1txw _4t3i1jje _2lx21bp4 _1bah1h6o _4cvr1h6o",l.className])})),y=(0,r.forwardRef)(({as:e="div",style:a,...l},r)=>(0,t.jsx)(e,{...l,style:a,ref:r,className:(0,s("gMc0m").default)(["_syazazsu",l.className])})),j=(0,r.forwardRef)(({as:e="div",style:a,...l},r)=>(0,t.jsx)(e,{...l,style:a,ref:r,className:(0,s("gMc0m").default)(["_2rkofajl _1bsb1osq _4t3i1r1e _bfhki8nm",l.className])})),U=()=>(0,t.jsx)(_,{target:"_blank",href:"https://unsplash.com/license",children:(0,t.jsx)(s("gtD4K").default,{...i.unsplashLicenseLink})}),R=()=>(0,t.jsx)(_,{target:"_blank",href:"https://unsplash.com/terms",children:(0,t.jsx)(s("gtD4K").default,{...i.unsplashTermsOfServiceLink})}),k=({unSplashSearchResults:a,id:l,idPrefix:n,handleImageSelection:_,loadMoreText:k,queryWord:v,pageNumber:w,setUnsplashSearchResults:E,handleError:M,searchResultsRef:A,unsplashResultsCountFromLastAPICall:N,setUnsplashResultsCountFromLastAPICall:C,dropdownPopupComponentRef:L,isPageTitleComponent:D,analyticsSource:T})=>{let[P,z]=(0,r.useState)(!1),q=(0,r.useRef)(null),{createAnalyticsEvent:O}=(0,s("inPa6").useAnalyticsEvents)(),Y=({fullSizeImageUrl:e,altDescription:s,downloadLink:a})=>{_({fullSizeImageUrl:e,altDescription:s,downloadLink:a}),O({type:"sendTrackEvent",data:{action:"selected",actionSubject:"image",source:T,attributes:{imageSource:"unsplashSearch"}}}).fire()},F=(e,s)=>{("Enter"===e.key||" "===e.key)&&Y(s)},{submitError:G}=(0,s("fOKpq").useProductDependencies)();return(0,t.jsxs)(c,{id:l,ref:L,onClick:e=>e.stopPropagation(),children:[(0,t.jsx)(d,{ref:A,children:a?.length?(0,t.jsxs)(r.Fragment,{children:[a.map((e,s)=>e?(0,t.jsxs)(u,{"data-testid":`${n}-unsplash-image-${e.id}`,onKeyDown:s=>F(s,e),children:[(0,t.jsx)(f,{ref:s===a.length-30?q:null,onClick:()=>Y(e),children:(0,t.jsx)(g,{src:e.smallSizeImageUrl,alt:e.altDescription})}),(0,t.jsx)(m,{children:(0,t.jsx)(p,{href:e.artistUrl,target:"_blank",children:(0,t.jsx)(h,{children:e.artistName})})})]},s):(0,t.jsx)(j,{"data-testid":"unsplash-popup-image-placeholder"},s)),(0,t.jsx)(I,{children:30===N?(0,t.jsx)(s("9YwaJ").default,{onClick:()=>{z(!0),w.current++;let e=D?s("2Maq7").PAGE_TITLE_DEFAULT_UNSPLASH_QUERY_WORD:s("2Maq7").DEFAULT_UNSPLASH_QUERY_WORD,l=v.current||e;(0,s("eNm9g").getUnsplashPhotos)(l,w.current,G,D).then(e=>{C(e.length),E(a.concat(e)),z(!1),q.current?.focus()}).catch(e=>{M(e)}),O({type:"sendUIEvent",data:{action:"clicked",actionSubject:"button",actionSubjectId:"loadMoreUnsplashImagesButtonClicked",source:T}}).fire()},spacing:"compact",isLoading:P,children:(0,t.jsx)(s("gtD4K").default,{...k})}):(0,t.jsx)(y,{children:(0,t.jsx)(s("gtD4K").default,{...i.unsplashNoMoreResultsToLoadText})})})]}):(0,t.jsxs)(S,{children:[(0,t.jsx)(s("gj7hi").default,{src:e(o),alt:"unsplash search no results"}),(0,t.jsx)(y,{children:(0,t.jsx)(s("gtD4K").default,{...i.unsplashNoResultsText})})]})}),(0,t.jsx)(x,{children:(0,t.jsx)(()=>(0,t.jsx)(b,{children:(0,t.jsx)(s("gtD4K").default,{...i.unsplashLegal,values:{unsplashLicenseLink:(0,t.jsx)(U,{}),unsplashTermsOfServiceLink:(0,t.jsx)(R,{})}})}),{})})]})},v=(0,s("cgtv4").defineMessages)({refinedUnsplashSearchPlaceholderText:{id:"company-hub.company-hub-common.refined.unsplash.search.placeholder",defaultMessage:"Browse Unsplash"},unsplashLoadMoreText:{id:"company-hub.company-hub-common.unsplash.search.load.more.unsplash.photos",defaultMessage:"Load more"}}),w=(0,s("ecnYn").xcss)({paddingLeft:"space.100"});a.exports.UnsplashSearchBar=({elementIdPrefix:a,unsplashSearchFieldId:l,handleImageSelection:o,dropdownPopupComponentRef:i,placement:c="bottom",analyticsSource:d,isPageTitleComponent:u=!1,isUploadingImage:m=!1,defaultUnsplashResults:p,setDefaultUnsplashResults:h,unSplashSearchResults:g,setUnsplashSearchResults:f,setError:x,handleError:b})=>{let{formatMessage:_}=(0,s("8C5kA").default)(),I=(0,s("3v7tz").useIsDisabledContext)(),[S,y]=(0,r.useState)(!1),[j,U]=(0,r.useState)(30),R=(0,r.useRef)(null),E=(0,r.useRef)(1),M=(0,r.useRef)(""),{createAnalyticsEvent:A}=(0,s("inPa6").useAnalyticsEvents)(),{submitError:N}=(0,s("fOKpq").useProductDependencies)(),C=e(n)(e=>{M.current=e?.value;let a=u?s("2Maq7").PAGE_TITLE_DEFAULT_UNSPLASH_QUERY_WORD:s("2Maq7").DEFAULT_UNSPLASH_QUERY_WORD,l=M.current||a;f(Array(30).fill(null)),(0,s("eNm9g").getUnsplashPhotos)(l,E.current,N,u).then(e=>{p&&0!==p.length||h(e),U(e.length),f(e),x(void 0)}).catch(e=>{b(e)}),A({type:"sendUIEvent",data:{action:"typed",actionSubject:"headerImageSearch",actionSubjectId:"headerImageSearchTyped",source:d}}).fire()},350),L=e=>{E.current=1,C(e.target),R.current?.scroll({top:0,behavior:"smooth"})},D=()=>{y(!0)},T=e=>{["Enter"," ","ArrowUp","ArrowDown"].includes(e.key)&&(" "!==e.key||M.current||e.preventDefault(),D())};return(0,t.jsx)(s("lGgRw").default,{autoFocus:!1,role:"dialog",onClose:()=>y(!1),content:()=>(0,t.jsx)(k,{id:`${a}-unsplash-popup-content`,dropdownPopupComponentRef:i,unSplashSearchResults:g,idPrefix:a,handleImageSelection:o,loadMoreText:v.unsplashLoadMoreText,queryWord:M,pageNumber:E,setUnsplashSearchResults:f,handleError:b,searchResultsRef:R,unsplashResultsCountFromLastAPICall:j,setUnsplashResultsCountFromLastAPICall:U,isPageTitleComponent:u,analyticsSource:d}),isOpen:S,placement:c,testId:"unsplash-popup",trigger:r=>(0,t.jsx)(s("4noo5").default,{...r,role:"combobox","aria-expanded":S,"aria-controls":`${a}-unsplash-popup-content`,id:l,testId:`${a}-unsplash-search-bar`,onChange:L,onClick:D,onInput:D,onKeyDown:e=>T(e),isDisabled:m||I,elemBeforeInput:(0,t.jsx)(s("6f0Oj").default,{xcss:w,children:(0,t.jsx)(e(s("jluld")),{label:"search",color:"currentColor"})}),placeholder:_(v.refinedUnsplashSearchPlaceholderText)}),shouldRenderToParent:(0,s("dh538").fg)("should-render-to-parent-should-be-truecompany-hub")})}}),a("89YPL",function(e,s){e.exports=new URL("NoResults.9d75157a.svg",import.meta.url).toString()}),a("eVW6V",function(e,a){var l,t=s("l998X"),r=s("42omo");let n=(0,s("cgtv4").defineMessages)({unsplashApiNoNetworkErrorMessage:{id:"company-hub.company-hub-common.unsplash.search.error.no-network-message",defaultMessage:"We’ve lost the connection. Try again."},unsplashApiBadStatusErrorMessage:{id:"company-hub.company-hub-common.unsplash.error.bad-request-message",defaultMessage:"We can’t get a response from Unsplash. Refresh and try again."},unsplashApiRateLimitedErrorMessage:{id:"company-hub.company-hub-common.unsplash.error.rate-limited-message",defaultMessage:"We can’t get a response from Unsplash. Wait a moment, then try again."}}),o=e=>e.message.includes("400"),i=e=>e.message.includes("429");(l={}).NO_NETWORK_ERROR="network_error",l.RATE_LIMITED_ERROR="rate_limited_error",l.BAD_STATUS_ERROR="bad_status_error";let c={network_error:(0,t.jsx)(s("gtD4K").default,{...n.unsplashApiNoNetworkErrorMessage}),bad_status_error:(0,t.jsx)(s("gtD4K").default,{...n.unsplashApiBadStatusErrorMessage}),rate_limited_error:(0,t.jsx)(s("gtD4K").default,{...n.unsplashApiRateLimitedErrorMessage})};e.exports.useUnsplash=(e,a,l)=>{let[t,n]=(0,r.useState)([]),[d,u]=(0,r.useState)([]),[m,p]=(0,r.useState)(),h=(0,s("iqWjJ").isUnsplashImage)(a)?a:"",g=e?h:a,f=(0,r.useCallback)(e=>{i(e)?p("rate_limited_error"):o(e)?p("bad_status_error"):p("network_error"),u(void 0)},[p,u]),{submitError:x}=(0,s("fOKpq").useProductDependencies)();return(0,r.useEffect)(()=>{if(l)u(l),n(l);else{let a=e?s("2Maq7").PAGE_TITLE_DEFAULT_UNSPLASH_QUERY_WORD:s("2Maq7").DEFAULT_UNSPLASH_QUERY_WORD;(0,s("eNm9g").getUnsplashPhotos)(a,1,x,e).then(e=>{u(e),n(e)}).catch(e=>{f(e)})}},[l,e,f,x]),{selectedDefaultImageUrl:g,defaultUnsplashResults:t,unSplashSearchResults:d,errorMessage:m?c[m]:void 0,handleError:f,setUnsplashSearchResults:u,setDefaultUnsplashResults:n,setError:p}}}),a("hY5v2",function(a,l){var t=s("l998X"),r=s("42omo");let n=(0,s("cgtv4").defineMessages)({uploadMediaLabel:{id:"company-hub.company-hub-common.unsplash.upload.label",defaultMessage:"Upload"}}),o=(0,r.forwardRef)(({as:e="div",style:a,...l},r)=>(0,t.jsx)(e,{...l,style:a,ref:r,className:(0,s("gMc0m").default)(["_1e0c1txw _2lx21bp4",l.className])})),i=(0,r.forwardRef)(({as:e="div",style:a,...l},r)=>(0,t.jsx)(e,{...l,style:a,ref:r,className:(0,s("gMc0m").default)(["_t74o1ylp _11381ylp",l.className])})),c=(0,s("ecnYn").xcss)({marginBottom:"space.100"}),d=(0,s("ecnYn").xcss)({marginBottom:"space.0"});a.exports.UnsplashSearch=({id:a,idPrefix:l,imageAltText:r,sectionLabel:u,helperMessage:m,selectedImageUrl:p,initialUnsplashResults:h,handleImageSelection:g,openMediaBrowser:f,dropdownPopupComponentRef:x,placement:b="bottom",contentId:_,confluencePageId:I,analyticsSource:S,analyticsActionSubject:y,analyticsActionSubjectId:j,isPageTitleComponent:U=!1,isUploadingImage:R=!1,isNoImageAllowed:k,enableBottomSpacing:v=!0})=>{let w=(0,s("8C5kA").default)(),{createAnalyticsEvent:E}=(0,s("inPa6").useAnalyticsEvents)(),M=(0,s("3v7tz").useIsDisabledContext)(),{selectedDefaultImageUrl:A,setDefaultUnsplashResults:N,defaultUnsplashResults:C,unSplashSearchResults:L,setUnsplashSearchResults:D,setError:T,handleError:P,errorMessage:z}=(0,s("eVW6V").useUnsplash)(U,p,h),q=a?`${l}-search-unsplash-${a}`:`${l}-search-unsplash`;return(0,t.jsxs)(o,{children:[(0,t.jsx)(s("bfgIy").Label,{htmlFor:q,children:(0,t.jsx)(s("jCIc5").PanelSubheader,{showUpdatedStyles:!0,children:u})}),(0,t.jsx)(s("azUhE").MediaContentHelperMessage,{helperMessage:m,isDisabled:M}),(0,t.jsxs)(s("dcJ7R").default,{space:"space.050",alignBlock:"center",children:[(0,t.jsx)(s("h3Ebw").UnsplashSearchBar,{unsplashSearchFieldId:q,elementIdPrefix:l,handleImageSelection:g,analyticsSource:S,setDefaultUnsplashResults:N,defaultUnsplashResults:C,unSplashSearchResults:L,setUnsplashSearchResults:D,setError:T,handleError:P,placement:b,dropdownPopupComponentRef:x,isUploadingImage:R}),!!f&&(0,t.jsx)(i,{children:(0,t.jsx)(s("1qfLF").default,{onClick:()=>{f&&f(),E({type:"sendUIEvent",data:{action:"clicked",actionSubject:y,actionSubjectId:j,source:S}}).fire()},testId:"open-media-browser",isDisabled:R||M,icon:()=>(0,t.jsx)(e(s("hw7wB")),{color:"currentColor",spacing:"spacious",label:w.formatMessage(n.uploadMediaLabel)}),label:w.formatMessage(n.uploadMediaLabel)})})]}),(0,t.jsxs)(s("1GzhS").default,{children:[(0,t.jsx)(s("6f0Oj").default,{xcss:v?c:d,children:(0,t.jsx)(s("6YdGV").DefaultImagePicker,{contentId:_,confluencePageId:I,initialUnsplashResults:C?.slice(0,5),handleImageSelection:g,imageAltText:r,selectedImageUrl:A,analyticsSource:S,isUploadingImage:R,isNoImageAllowed:k&&!U})}),z&&(0,t.jsx)(s("jD7cj").FormFieldErrorMessage,{children:z})]})]})}});
//# sourceMappingURL=cards-extension.f3bba855.js.map
