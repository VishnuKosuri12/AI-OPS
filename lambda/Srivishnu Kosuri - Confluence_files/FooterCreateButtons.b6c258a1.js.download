function e(e){return e&&e.__esModule?e.default:e}var t=globalThis.parcelRequired477,a=t.register;a("fzbVm",function(e,a){Object.defineProperty(e.exports,"FooterCreateButtons",{get:()=>t("cEHmK").FooterCreateButtons,set:void 0,enumerable:!0,configurable:!0}),t("cEHmK")}),a("2fQCH",function(e,t){var a,n;let r={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"spaceKey"}],kind:"Fragment",name:"FooterCreateButtonsQuery",selections:n=[{args:[{kind:"Variable",name:"key",variableName:"spaceKey"}],concreteType:"Space",kind:"LinkedField",name:"space",plural:!1,selections:[{kind:"ScalarField",name:"id"},{kind:"ScalarField",name:"key"},{concreteType:"SpaceTypeSettings",kind:"LinkedField",name:"spaceTypeSettings",plural:!1,selections:[{concreteType:"EnabledContentTypes",kind:"LinkedField",name:"enabledContentTypes",plural:!1,selections:[{kind:"ScalarField",name:"isLivePagesEnabled"},{kind:"ScalarField",name:"isWhiteboardsEnabled"},{kind:"ScalarField",name:"isDatabasesEnabled"}]}]},{kind:"ScalarField",name:"didContainUserContent"},{concreteType:"OperationCheckResult",kind:"LinkedField",name:"operations",plural:!0,selections:[{kind:"ScalarField",name:"operation"},{kind:"ScalarField",name:"targetType"}]}]}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"FooterCreateButtonsQuery",selections:n},params:{cacheID:"5841807a4e3bf2a59de617588db23f8f",id:"1590a2caf1a18e2c8f39c97c955bfbcd2ed31d253f236ac687f9d10cfa2a64f8",metadata:{},name:"FooterCreateButtonsQuery",operationKind:"query",text:"query FooterCreateButtonsQuery($spaceKey:String){space(key:$spaceKey){id,key,spaceTypeSettings{enabledContentTypes{isLivePagesEnabled,isWhiteboardsEnabled,isDatabasesEnabled}},didContainUserContent,operations{operation,targetType}}}"}};r.hash="8f908e5cb8da1d069802e69ea3d7f563",e.exports.default=r}),a("kDja4",function(a,n){var r=t("42omo");let o=["headerV1","headerV2","whiteboardArchive","removeWhiteboardsHome","removeWhiteboardsHomeInSideNav","whiteboardCreation","whiteboardsEnabled","whiteboardBifrost","whiteboardVersionHistory"];a.exports.useIsWhiteboardFeatureEnabled=()=>{let a=(0,t("yuLaV").isContentTypeEnabledInCurrentEnv)("whiteboard"),n=(0,r.useCallback)(n=>{if("whiteboardsEnabled"===n)return a;if(o.some(e=>e===n))return!0;if(n in e(t("jf9LK"))){let a=e(t("jf9LK"))[n];return(0,t("9wGTI").fg)(a)}return!1},[a]),i=(0,r.useCallback)(()=>n("whiteboardsEnabled")&&!n("whiteboardOptOut"),[n]),s=(0,r.useCallback)(()=>n("whiteboardsEnabled")&&!n("whiteboardOptOut"),[n]);return{platformFeatureFlagResolver:t("dh538").getBooleanFF,isWhiteboardFeatureEnabled:n,isWhiteboardCreationDropdownEnabled:i,isWhiteboardGAOnboardingEnabled:s}}}),a("yuLaV",function(e,a){var n=t("5spQU");e.exports.isContentTypeEnabledInCurrentEnv=e=>"database"!==e&&"whiteboard"!==e||((0,t("9wGTI").fg)("use_frontend_feature_encoding_sdk")?(0,n.isFeatureEnabled)("confluence","database"===e?"confluence-databases":"confluence-whiteboards"):!(0,t("lzcvT").isFedRamp)())}),a("jf9LK",function(e,t){e.exports=JSON.parse('{"whiteboardSolidHeader":"confluence_frontend_solid_whiteboard_header","whiteboardOptOut":"whiteboards_compliance_opt_out","digitalTeammate":"cc-ai-whiteboards-enable-digital-teammate","aiFirstCreation":"aifc_create_enabled"}')}),a("lfBMY",function(e,t){var a,n=((a={}).USE="use",a.LIMITED_USE="limited_use",a.EXTERNAL_COLLABORATOR_USE="external_collaborator_use",a.CREATE="create",a.READ="read",a.UPDATE="update",a.DELETE="delete",a.COPY="copy",a.MOVE="move",a.EXPORT="export",a.ARCHIVE="archive",a.PURGE="purge",a.PURGE_VERSION="purge_version",a.ADMINISTER="administer",a.RESTORE="restore",a.CREATE_SPACE="create_space",a.RESTRICT_CONTENT="restrict_content",a.CLEAR_PERMISSIONS="clear_permissions",a);e.exports.OperationTypes=n}),a("2wo33",function(e,a){var n=t("j1Ss3");let r=({operationCheckResult:e,operation:t,contentType:a})=>{let n=e?.content?.nodes?.[0]?.operations??[],r=a||e?.content?.nodes?.[0]?.type;return!!r&&n.some(e=>e?.operation===t&&e?.targetType===r)};e.exports.canPerformSpaceOperation=({operationCheckResult:e,operation:t,contentType:a})=>(e?.space?.operations??[]).some(e=>e?.operation===t&&e?.targetType===a),e.exports.useCanPerformContentOperation=({contentId:e,operation:a,contentType:o,status:i})=>{let s,d=(0,n.useQuery)((0,t("eSUdr").default)`query entityOperationsHelpersContentOperationsQuery($contentId:ID!$status:[String]){content(id:$contentId status:$status){nodes{id type operations{operation targetType}}}}`,{variables:{contentId:e,status:i}});return d?.data&&(s=r({operationCheckResult:d?.data,operation:a,contentType:o})),[s,d]}}),a("63cta",function(e,a){let n=(0,t("eSUdr").default)`query ContentOperationsQuery($contentId:ID!$status:[String]){content(id:$contentId status:$status){nodes{id type operations{operation targetType}}}}`;e.exports.ContentOperationsQuery=n}),a("5rZJf",function(e,a){let n=(0,t("eSUdr").default)`query SpaceOperationsQuery($spaceKey:String!){space(key:$spaceKey){id operations{operation targetType}}}`;e.exports.SpaceOperationsQuery=n}),a("9hp1T",function(e,a){let n=t("4mJKd")(5);e.exports=Promise.all([n("6wr18"),n("k28dP"),n("ffEVr"),n("7EorR"),n("hhss7"),n("67Pvd")]).then(()=>t("6IU81"))}),a("baIQH",function(e,a){let n=t("4mJKd")(5);e.exports=Promise.all([n("6wr18"),n("c0kqt"),n("k28dP"),n("7EorR"),n("jXx9i"),n("ffEVr"),n("hhss7"),n("d1QkY")]).then(()=>t("hydSe"))}),a("cEHmK",function(a,n){var r=t("3u0dr"),o=t("frIzR"),i=t("42omo"),s=t("b3j2Y");let d=t("2fQCH").default,l=(0,t("jmjWc").LoadableAfterPaint)({__loadable_id__:"45vJD",name:"ContentTreeOnboardingLoader",loader:async()=>(await t("9hp1T")).ContentTreeOnboarding}),p=(0,t("jmjWc").LoadableAfterPaint)({__loadable_id__:"wssRG",name:"TreeBottomCreateButtonLoader",loader:async()=>(await t("baIQH")).TreeBottomCreateButton}),c=(0,r.isReactCompilerActiveV1)()?a=>{let n,r,c,u,b,y,E=(0,o.c)(20),{spaceKey:m,isContentTreeLoading:f,emptyContent:C}=a;E[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t("yuLaV").isContentTypeEnabledInCurrentEnv)("database"),E[0]=n):n=E[0];let T=n,{isWhiteboardFeatureEnabled:h}=(0,t("kDja4").useIsWhiteboardFeatureEnabled)();E[1]!==m?(r={errorPolicy:"all",variables:{spaceKey:m}},E[1]=m,E[2]=r):r=E[2];let{data:g,loading:S,error:k}=(0,t("jMyy4").useQueryInterop)(d,r);if(f||S||!g)return null;if(!(0,t("2wo33").canPerformSpaceOperation)({operationCheckResult:g,operation:t("lfBMY").OperationTypes.CREATE,contentType:"page"})){let t;return E[3]!==C?(t=e(i).createElement(e(i).Fragment,null,C),E[3]=C,E[4]=t):t=E[4],t}let _=!1===g?.space?.didContainUserContent,O=!!g?.space?.spaceTypeSettings?.enabledContentTypes?.isLivePagesEnabled;E[5]!==g?.space?.spaceTypeSettings?.enabledContentTypes?.isWhiteboardsEnabled||E[6]!==h?(c=h("whiteboardsEnabled")&&!!g?.space?.spaceTypeSettings?.enabledContentTypes?.isWhiteboardsEnabled,E[5]=g?.space?.spaceTypeSettings?.enabledContentTypes?.isWhiteboardsEnabled,E[6]=h,E[7]=c):c=E[7];let w=c,F=T&&!!g?.space?.spaceTypeSettings?.enabledContentTypes?.isDatabasesEnabled;return E[8]!==C||E[9]!==_||E[10]!==F||E[11]!==O||E[12]!==w||E[13]!==m?(u=_?e(i).createElement(l,{showLiveDoc:O,showWhiteboard:w,showDatabase:F}):C||e(i).createElement(p,{spaceKey:m,source:"endOfContentTreeContextualCreate"}),E[8]=C,E[9]=_,E[10]=F,E[11]=O,E[12]=w,E[13]=m,E[14]=u):u=E[14],E[15]!==k?(b=k&&e(i).createElement(s.ErrorDisplay,{error:k}),E[15]=k,E[16]=b):b=E[16],E[17]!==u||E[18]!==b?(y=e(i).createElement(e(i).Fragment,null,u,b),E[17]=u,E[18]=b,E[19]=y):y=E[19],y}:({spaceKey:a,isContentTreeLoading:n,emptyContent:r})=>{let o=(0,t("yuLaV").isContentTypeEnabledInCurrentEnv)("database"),{isWhiteboardFeatureEnabled:c}=(0,t("kDja4").useIsWhiteboardFeatureEnabled)(),{data:u,loading:b,error:y}=(0,t("jMyy4").useQueryInterop)(d,{errorPolicy:"all",variables:{spaceKey:a}});if(n||b||!u)return null;if(!(0,t("2wo33").canPerformSpaceOperation)({operationCheckResult:u,operation:t("lfBMY").OperationTypes.CREATE,contentType:"page"}))return e(i).createElement(e(i).Fragment,null,r);let E=u?.space?.didContainUserContent,m=!!u?.space?.spaceTypeSettings?.enabledContentTypes?.isLivePagesEnabled,f=c("whiteboardsEnabled")&&!!u?.space?.spaceTypeSettings?.enabledContentTypes?.isWhiteboardsEnabled,C=o&&!!u?.space?.spaceTypeSettings?.enabledContentTypes?.isDatabasesEnabled;return e(i).createElement(e(i).Fragment,null,!1===E?e(i).createElement(l,{showLiveDoc:m,showWhiteboard:f,showDatabase:C}):r||e(i).createElement(p,{spaceKey:a,source:"endOfContentTreeContextualCreate"}),y&&e(i).createElement(s.ErrorDisplay,{error:y}))};a.exports.FooterCreateButtons=c});
//# sourceMappingURL=FooterCreateButtons.b6c258a1.js.map
